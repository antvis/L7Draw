(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)})({"++zV":function(e,t,n){var r=n("I+eb"),i=n("eDxR"),o=n("glrk"),a=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{defineMetadata:function(e,t,n){var r=arguments.length<4?void 0:a(arguments[3]);s(e,t,o(n),r)}})},"+0Od":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("Q7Ls"),s=n("S2ku"),l=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u8bf4\u660e"},i.a.createElement(o["AnchorLink"],{to:"#\u8bf4\u660e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u8bf4\u660e"),i.a.createElement("p",null,"\u7528\u4e8e\u5c55\u793a\u9762\u771f\u5b9e\u7684\u9762\u79ef"),i.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/rms_2591f5/afts/img/A*TlNrTrEYaoAAAAAAAAAAAAAAARQnAQ",width:300}),i.a.createElement("h2",{id:"\u793a\u4f8b"},i.a.createElement(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b"),i.a.createElement("p",null,"\u8ddd\u79bb\u6587\u672c\u914d\u7f6e\u662f\u5728\u5404\u4e2a Draw \u7684 areaOptions \u5b57\u6bb5\u6765\u8fdb\u884c\u914d\u7f6e\u7684"),i.a.createElement(a["a"],{code:"import { DrawPoint } from '@antv/l7-draw';\n\nconst drawer = new DrawPoint(scene, {\n  areaOptions: {\n    format: (squareMeters: number) => {\n      return squareMeters > 1000000\n        ? `${+(squareMeters / 1000000).toFixed(2)}km\xb2`\n        : `${+squareMeters.toFixed(2)}m\xb2`;\n    },\n  },\n  // \u4f20false\u8868\u793a\u4e0d\u5c55\u793a\u6587\u672c\uff0c\u9ed8\u8ba4\u4e5f\u4e3afalse\n  // areaOptions: false,\n});",lang:"tsx"}),i.a.createElement("h2",{id:"\u914d\u7f6e"},i.a.createElement(o["AnchorLink"],{to:"#\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u914d\u7f6e"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"format"),i.a.createElement("td",null,"\u683c\u5f0f\u5316\u9762\u79ef\u5e73\u65b9\u7c73\u7684\u51fd\u6570"),i.a.createElement("td",null,i.a.createElement("code",null,"(squareMeters: number) => string")),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"#%E7%A4%BA%E4%BE%8B"},"\u89c1\u793a\u4f8b\u4e2d\u7684 format \u65b9\u6cd5")))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(l,{demos:n})}},"+2oP":function(e,t,n){"use strict";var r=n("I+eb"),i=n("hh1v"),o=n("6LWA"),a=n("I8vh"),s=n("UMSQ"),l=n("/GqU"),u=n("hBjN"),c=n("tiKp"),f=n("Hd5f"),p=n("rkAj"),d=f("slice"),h=p("slice",{ACCESSORS:!0,0:0,1:2}),v=c("species"),m=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!d||!h},{slice:function(e,t){var n,r,c,f=l(this),p=s(f.length),d=a(e,p),h=a(void 0===t?p:t,p);if(o(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[v],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return m.call(f,d,h);for(r=new(void 0===n?Array:n)(g(h-d,0)),c=0;d<h;d++,c++)d in f&&u(r,c,f[d]);return r.length=c,r}})},"+6XX":function(e,t,n){var r=n("y1pI");function i(e){return r(this.__data__,e)>-1}e.exports=i},"+D7P":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("Q7Ls"),s=n("S2ku"),l=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"\u7ed8\u5236\u77e9\u5f62-drawrect"},i.a.createElement(o["AnchorLink"],{to:"#\u7ed8\u5236\u77e9\u5f62-drawrect","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u7ed8\u5236\u77e9\u5f62 DrawRect"),i.a.createElement("h2",{id:"\u8bf4\u660e"},i.a.createElement(o["AnchorLink"],{to:"#\u8bf4\u660e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u8bf4\u660e"),i.a.createElement("p",null,i.a.createElement("code",null,"DrawRect")," \u7528\u4e8e\u5728\u5730\u56fe\u4e0a\u7ed8\u5236\u77e9\u5f62\u6570\u636e\u3002"),i.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/rms_2591f5/afts/img/A*zvXVRKGy6joAAAAAAAAAAAAAARQnAQ",width:300}),i.a.createElement("h2",{id:"\u793a\u4f8b"},i.a.createElement(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b"),i.a.createElement(a["a"],{code:"import { DrawEvent, DrawRect } from '@antv/l7-draw';\n\n// \u5b9e\u4f8b\u5316\nconst drawer = new DrawRect(scene, {\n  autoActive: false,\n  //  ....\n});\n// \u5f00\u542f\u7ed8\u5236\ndrawer.enable();\n\n// \u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6\ndrawer.on(DrawEvent.Change, (rectList) => {\n  console.log(rectList);\n});",lang:"tsx"}),i.a.createElement("h2",{id:"\u914d\u7f6e"},i.a.createElement(o["AnchorLink"],{to:"#\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u914d\u7f6e"),i.a.createElement("p",null,"options \u914d\u7f6e\u662f Draw \u5b9e\u4f8b\u5316\u7684\u65f6\u5019\uff0c\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u6240\u6709\u7684 options \u914d\u7f6e\u5747\u4e0d\u662f\u5fc5\u4f20\u9879\u3002"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"),i.a.createElement("th",null,"\u793a\u4f8b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"initialData"),i.a.createElement("td",null,"\u8bbe\u7f6e Draw \u7684\u521d\u59cb\u6570\u636e\uff0c",i.a.createElement("code",null,"GeoJSON")," \u7c7b\u578b\u4e2d\u7684 ",i.a.createElement(o["Link"],{to:"https://datatracker.ietf.org/doc/html/rfc7946#section-3.1.6"},"Polygon")," \u6570\u7ec4"),i.a.createElement("td",null,i.a.createElement("code",null,"Feature[]")),i.a.createElement("td",null,i.a.createElement("code",null,"[]")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/rect/initial-data"},"\u521d\u59cb\u5316\u6570\u636e\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"trigger"),i.a.createElement("td",null,"\u9009\u62e9\u7ed8\u5236\u65b9\u5f0f\uff0c\u53ef\u4ee5\u901a\u8fc7 ",i.a.createElement("strong",null,"\u70b9\u51fb")," \u6216\u8005 ",i.a.createElement("strong",null,"\u62d6\u62fd")," \u7684\u65b9\u5f0f\u8fdb\u884c\u7ed8\u5236"),i.a.createElement("td",null,i.a.createElement("code",null,"'click' | 'drag'")),i.a.createElement("td",null,i.a.createElement("code",null,"click")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/circle/create-by-drag"},"\u901a\u8fc7\u62d6\u62fd\u521b\u5efa"))),i.a.createElement("tr",null,i.a.createElement("td",null,"distanceOptions"),i.a.createElement("td",null,"\u8ddd\u79bb\u6587\u672c\u76f8\u5173\u914d\u7f6e"),i.a.createElement("td",null,i.a.createElement("code",null,"false")," | ",i.a.createElement(o["AnchorLink"],{to:"/docs/super/distance#%E9%85%8D%E7%BD%AE"},"Distance")),i.a.createElement("td",null,i.a.createElement("code",null,"false")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/rect/area"},"\u5c55\u793a\u8ddd\u79bb\u548c\u9762\u79ef"))),i.a.createElement("tr",null,i.a.createElement("td",null,"areaOptions"),i.a.createElement("td",null,"\u9762\u79ef\u6587\u672c\u76f8\u5173\u914d\u7f6e"),i.a.createElement("td",null,i.a.createElement("code",null,"false")," | ",i.a.createElement(o["AnchorLink"],{to:"/docs/super/area#%E9%85%8D%E7%BD%AE"},"Area")),i.a.createElement("td",null,i.a.createElement("code",null,"false")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/rect/area"},"\u5c55\u793a\u8ddd\u79bb\u548c\u9762\u79ef"))),i.a.createElement("tr",null,i.a.createElement("td",null,"autoActive"),i.a.createElement("td",null,"\u7ed8\u5236 Polygon \u540e\uff0c\u65b0\u589e\u7684 Polygon \u662f\u5426\u4e3a\u6fc0\u6d3b\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/rect/auto-active"},"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"editable"),i.a.createElement("td",null,"\u7ed8\u5236\u7684 Polygon \u662f\u5426\u652f\u6301\u4e8c\u6b21\u7f16\u8f91\uff08\u62d6\u62fd\u4f4d\u79fb\uff09"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/rect/editable"},"\u7981\u7528\u7f16\u8f91\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"multiple"),i.a.createElement("td",null,"Draw \u662f\u5426\u652f\u6301\u7ed8\u5236\u591a\u4e2a\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/example/rect/multiple#%E5%A7%8B%E7%BB%88%E6%9C%80%E5%A4%9A%E7%BB%98%E5%88%B6%E4%B8%80%E4%B8%AA"},"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a"))),i.a.createElement("tr",null,i.a.createElement("td",null,"style"),i.a.createElement("td",null,"Polygon \u5728\u4e0d\u540c\u72b6\u6001\u4e0b\u7684\u6837\u5f0f"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/docs/super/style#%E9%85%8D%E7%BD%AE"},"Style")),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-")),i.a.createElement("tr",null,i.a.createElement("td",null,"helper"),i.a.createElement("td",null,"\u7ed8\u5236\u63d0\u793a\u6587\u6848\u7684\u914d\u7f6e\uff0c\u652f\u6301\u4f20\u5165 ",i.a.createElement("code",null,"string | Element | DocumentFragment")," \u5728\u63d0\u793a\u6846\u4e2d\u8fdb\u884c\u6e32\u67d3\uff0c\u4f20 ",i.a.createElement("code",null,"false")," \u4e3a\u5173\u95ed\u63d0\u793a\u7ed8\u5236"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"#helper"},"Helper")," | ",i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/common/helper"},"\u63d0\u793a\u6587\u6848"))),i.a.createElement("tr",null,i.a.createElement("td",null,"popup"),i.a.createElement("td",null,"\u7ed8\u5236\u63d0\u793a\u6846\u914d\u7f6e\uff0c\u8be6\u7ec6\u914d\u7f6e\u53ef\u89c1 ",i.a.createElement(o["Link"],{to:"https://atomiks.github.io/tippyjs/v6/all-props/"},"Tippy.js"),"\uff0c\u4f20 ",i.a.createElement("code",null,"false")," \u4e3a\u5173\u95ed\u63d0\u793a\u6846"),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"https://atomiks.github.io/tippyjs/v6/all-props/"},"TippyProps")," | ",i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/common/helper"},"\u63d0\u793a\u6587\u6848"))),i.a.createElement("tr",null,i.a.createElement("td",null,"keyboard"),i.a.createElement("td",null,"\u81ea\u5b9a\u4e49\u5feb\u6377\u952e\u745f\u662f\u5426\u5f00\u542f\uff0c\u4ee5\u53ca\u5bf9\u5e94\u7684\u6309\u952e"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/docs/super/keyboard#%E9%85%8D%E7%BD%AE"},"Keyboard")),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-")),i.a.createElement("tr",null,i.a.createElement("td",null,"history"),i.a.createElement("td",null,"\u4fdd\u5b58\u5386\u53f2\u7ed8\u5236\u6570\u636e\u7684\u76f8\u5173\u914d\u7f6e\uff0c\u6d89\u53ca\u5230\u56de\u9000\u64cd\u4f5c\u7684\u6700\u5927\u64cd\u4f5c\u6b21\u6570"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/docs/super/history#%E9%85%8D%E7%BD%AE"},"History")),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-")))),i.a.createElement("h3",{id:"helper"},i.a.createElement(o["AnchorLink"],{to:"#helper","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"Helper"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"draw"),i.a.createElement("td",null,"\u7ed8\u5236\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u5355\u51fb\u7ed8\u5236\u9996\u4e2a\u8282\u70b9'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"drawFinish"),i.a.createElement("td",null,"\u7ed8\u5236\u8fc7\u7a0b\u4e2d\uff0c\u8282\u70b9\u4e2a\u6570\u5df2\u7ecf\u53ef\u4ee5\u751f\u6210\u95ed\u5408\u9762\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u5355\u51fb\u7ed3\u675f\u7ed8\u5236'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"pointHover"),i.a.createElement("td",null,"\u5149\u6807\u60ac\u505c\u5728\u70b9\u4e0a\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u53ef\u62d6\u62fd\u8c03\u6574\u8282\u70b9\u4f4d\u7f6e'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"pointDrag"),i.a.createElement("td",null,"\u62d6\u62fd\u70b9\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"null"))),i.a.createElement("tr",null,i.a.createElement("td",null,"lineHover"),i.a.createElement("td",null,"\u5149\u6807\u60ac\u505c\u5728\u7ebf\u4e0a\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u53ef\u62d6\u62fd\u8c03\u6574\u77e9\u5f62\u4f4d\u7f6e'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"lineDrag"),i.a.createElement("td",null,"\u62d6\u62fd\u7ebf\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"null"))),i.a.createElement("tr",null,i.a.createElement("td",null,"polygonHover"),i.a.createElement("td",null,"\u5149\u6807\u60ac\u505c\u5728\u9762\u4e0a\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u53ef\u62d6\u62fd\u8c03\u6574\u77e9\u5f62\u4f4d\u7f6e'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"polygonDrag"),i.a.createElement("td",null,"\u62d6\u62fd\u9762\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"null"))))),i.a.createElement("h2",{id:"\u65b9\u6cd5"},i.a.createElement(o["AnchorLink"],{to:"#\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u65b9\u6cd5")),i.a.createElement(i.a.Fragment,{children:i.a.createElement(n("kRfI").default)}),i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u4e8b\u4ef6"},i.a.createElement(o["AnchorLink"],{to:"#\u4e8b\u4ef6","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u4e8b\u4ef6"),i.a.createElement("p",null,i.a.createElement(o["Link"],{to:"/example/rect/event"},"\u76d1\u542c\u4e8b\u4ef6\u793a\u4f8b"))),i.a.createElement(i.a.Fragment,{children:i.a.createElement(n("QLLN").default)})))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(l,{demos:n})}},"+K+b":function(e,t,n){var r=n("JHRd");function i(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}e.exports=i},"+M1K":function(e,t,n){var r=n("ppGB");e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},"+OtV":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("tJVT"),i=n("k1fw"),o=n("8ml+"),a=n("5yvC"),s={point:"#l7draw-point",line:"#l7draw-line",polygon:"#l7draw-polygon",rect:"#l7draw-rect",circle:"#l7draw-circle",clear:"#l7draw-qingkong"},l={point:a["c"],line:a["b"],polygon:a["d"],rect:a["e"],circle:a["a"]},u="data-draw-type",c="l7-draw-control",f="".concat(c,"__btn"),p="".concat(f,"--active"),d=n("HnFk"),h=(n("tfxy"),n("Syoe"),n("k/Of")),v=n("LvDl");class m extends o["a"]{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this.controlOption=void 0,this.scene=void 0,this.drawMap={},this.btnMap={},this.activeType=null,this.emitDataChange=Object(v["debounce"])((()=>{this.emit(h["a"].DataChange,this.getDrawData())}),16),this.scene=e,this.controlOption=Object(i["a"])(Object(i["a"])({},this.getDefault()),t||{}),this.onBtnClick=this.onBtnClick.bind(this)}getActiveType(){return this.activeType}getDefault(){return Object(i["a"])(Object(i["a"])({},super.getDefault()),{},{className:"",buttonClassName:"",activeButtonClassName:"",style:"",position:"topleft",commonDrawOptions:{},drawConfig:{point:!0,line:!0,polygon:!0,rect:!0,circle:!0,clear:!0}})}addTo(e){return super.addTo(e),this.init(),this}onAdd(){var e=this.controlOption,t=e.className,n=e.style,r=o["b"].create("div","".concat(c," ").concat(t));return n&&r.setAttribute("style",n),r}onRemove(){Object.values(this.drawMap).forEach((e=>{e.clear(!0)}))}init(){var e=[];Object.entries(this.controlOption.drawConfig).forEach((t=>{var n=Object(r["a"])(t,2),o=n[0],a=n[1];if(a){var s=this.initBtn(o);s.addEventListener("click",this.onBtnClick),e.push(s),this.btnMap[o]=s;var u=l[o];if(u&&this.scene){var c=new u(this.scene,Object(i["a"])(Object(i["a"])({},this.controlOption.commonDrawOptions),"boolean"===typeof a?{}:a));c.on(h["l"].Change,this.emitDataChange),this.drawMap[o]=c}}})),this.container.append(...e),this.controlOption.defaultActiveType&&this.onDrawClick(this.controlOption.defaultActiveType)}getDrawData(){return Object(v["fromPairs"])(Object(v["toPairs"])(this.drawMap).map((e=>{var t=Object(r["a"])(e,2),n=t[0],i=t[1];return[n,i.getData()]})))}getTypeDraw(e){var t;return null!==(t=this.drawMap[e])&&void 0!==t?t:null}onBtnClick(e){var t=Object(d["getParentByClassName"])(e.target,f);if(t){var n=t.getAttribute(u);"clear"===n?this.clearDrawData():this.onDrawClick(n)}}setActiveType(e){var t=null,n=this.activeType;if(n){var r,i=this.btnMap[n];if(i){o["b"].removeClass(i,p);var a=this.controlOption.activeButtonClassName;a&&o["b"].removeClass(i,a)}null===(r=this.drawMap[n])||void 0===r||r.disable(),t=null}if(n!==e&&e){var s;null===(s=this.drawMap[e])||void 0===s||s.enable();var l=this.btnMap[e];l&&o["b"].addClass(l,"".concat(p," ").concat(this.controlOption.activeButtonClassName)),t=e}this.activeType=t,this.emit(h["a"].DrawChange,t)}onDrawClick(e){this.setActiveType(e)}clearDrawData(){Object.values(this.drawMap).forEach((e=>{null===e||void 0===e||e.clear()}))}initBtn(e){var t=o["b"].create("button","".concat(f," ").concat(this.controlOption.buttonClassName));return t.innerHTML='<svg class="l7-draw-icon" aria-hidden="true">\n      <use xlink:href="'.concat(s[e],'"></use>\n    </svg>'),t.setAttribute(u,e),t}}},"+PLU":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["rect-start"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["rect-start"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"+Qka":function(e,t,n){var r=n("fmRc"),i=n("t2Dn"),o=n("cq/+"),a=n("T1AV"),s=n("GoyQ"),l=n("mTTR"),u=n("itsj");function c(e,t,n,f,p){e!==t&&o(t,(function(o,l){if(p||(p=new r),s(o))a(e,t,l,n,c,f,p);else{var d=f?f(u(e,l),o,l+"",e,t,p):void 0;void 0===d&&(d=o),i(e,l,d)}}),l)}e.exports=c},"+gpb":function(e,t,n){},"+iFO":function(e,t,n){var r=n("dTAl"),i=n("LcsW"),o=n("6sVZ");function a(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}e.exports=a},"+wdc":function(e,t,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,f=null,p=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(p,0))},i=function(e,t){f=setTimeout(e,t)},o=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,b=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,x=E.port2;E.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();_=e+b;try{g(!0,e)?x.postMessage(null):(m=!1,g=null)}catch(n){throw x.postMessage(null),n}}else m=!1},r=function(e){g=e,m||(m=!0,x.postMessage(null))},i=function(e,n){y=d((function(){e(t.unstable_now())}),n)},o=function(){h(y),y=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return e=e[0],void 0===e?null:e}function O(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>C(a,n))void 0!==l&&0>C(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>C(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],P=[],k=1,M=null,T=3,L=!1,I=!1,D=!1;function R(e){for(var t=S(P);null!==t;){if(null===t.callback)O(P);else{if(!(t.startTime<=e))break;O(P),t.sortIndex=t.expirationTime,w(A,t)}t=S(P)}}function N(e){if(D=!1,R(e),!I)if(null!==S(A))I=!0,r(j);else{var t=S(P);null!==t&&i(N,t.startTime-e)}}function j(e,n){I=!1,D&&(D=!1,o()),L=!0;var r=T;try{for(R(n),M=S(A);null!==M&&(!(M.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=M.callback;if("function"===typeof a){M.callback=null,T=M.priorityLevel;var s=a(M.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?M.callback=s:M===S(A)&&O(A),R(n)}else O(A);M=S(A)}if(null!==M)var l=!0;else{var u=S(P);null!==u&&i(N,u.startTime-n),l=!1}return l}finally{M=null,T=r,L=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||L||(I=!0,r(j))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return S(A)},t.unstable_next=function(e){switch(T){case 1:case 2:case 3:var t=3;break;default:t=T}var n=T;T=t;try{return e()}finally{T=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=T;T=e;try{return t()}finally{T=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?(a=a.delay,a="number"===typeof a&&0<a?s+a:s):a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=a+l,e={id:k++,callback:n,priorityLevel:e,startTime:a,expirationTime:l,sortIndex:-1},a>s?(e.sortIndex=a,w(P,e),null===S(A)&&e===S(P)&&(D?o():D=!0,i(N,a-s))):(e.sortIndex=l,w(A,e),I||L||(I=!0,r(j))),e},t.unstable_wrapCallback=function(e){var t=T;return function(){var n=T;T=t;try{return e.apply(this,arguments)}finally{T=n}}}},"+ywr":function(e,t,n){var r=n("dOgj");r("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"/7QA":function(e,t,n){"use strict";var r=n("k/Of");n.d(t,"ControlEvent",(function(){return r["a"]})),n.d(t,"DrawEvent",(function(){return r["l"]}));var i=n("5yvC");n.d(t,"DrawCircle",(function(){return i["a"]})),n.d(t,"DrawLine",(function(){return i["b"]})),n.d(t,"DrawPoint",(function(){return i["c"]})),n.d(t,"DrawPolygon",(function(){return i["d"]})),n.d(t,"DrawRect",(function(){return i["e"]}));n("ZzG0"),n("cgDF"),n("og4C");var o=n("HnFk");n.o(o,"DrawControl")&&n.d(t,"DrawControl",(function(){return o["DrawControl"]}));n("0lfv");var a=n("+OtV");n.d(t,"DrawControl",(function(){return a["a"]}))},"/9aa":function(e,t,n){var r=n("NykK"),i=n("ExA7"),o="[object Symbol]";function a(e){return"symbol"==typeof e||i(e)&&r(e)==o}e.exports=a},"/GqU":function(e,t,n){var r=n("RK3t"),i=n("HYAF");e.exports=function(e){return r(i(e))}},"/Yfv":function(e,t,n){var r=n("dOgj");r("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"/b8u":function(e,t,n){var r=n("STAE");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"/byt":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"/qmn":function(e,t,n){var r=n("2oRo");e.exports=r.Promise},"/yl3":function(e,t,n){},0:function(e,t,n){e.exports=n("tB8F")},"03A+":function(e,t,n){var r=n("JTzB"),i=n("ExA7"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},"05V9":function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("LvDl"),l=n("q1tI"),u=n.n(l),c=n("CRWo"),f=String(Math.random()),p=()=>{var e=Object(l["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(l["useEffect"])((()=>{var e=new i["f"]({id:f,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})}),t=Object(s["cloneDeep"])(c["a"]);t[0].properties&&(t[0].properties.isActive=!0),e.on("loaded",(()=>{var r={color:"#a03dff"},i=new o["DrawPolygon"](e,{initialData:t,style:{point:{normal:r,hover:r,active:r},line:{normal:r,hover:r,active:r},polygon:{normal:r,hover:r,active:r},midPoint:{normal:r},dashLine:{normal:r},text:{normal:r,active:r}}});n(i),i.enable()}))}),[]),u.a.createElement("div",null,u.a.createElement("div",{id:f,style:{height:400,position:"relative"}}))};t["default"]=p},"07d7":function(e,t,n){var r=n("AO7/"),i=n("busE"),o=n("sEFX");r||i(Object.prototype,"toString",o,{unsafe:!0})},"0BK2":function(e,t){e.exports={}},"0Cz8":function(e,t,n){var r=n("Xi7e"),i=n("ebwN"),o=n("e4Nc"),a=200;function s(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}e.exports=s},"0Dky":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"0GW2":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["rect-area"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["rect-area"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"0GbY":function(e,t,n){var r=n("Qo9l"),i=n("2oRo"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},"0JQy":function(e,t){var n="\\ud800-\\udfff",r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",a=r+i+o,s="\\ufe0e\\ufe0f",l="["+n+"]",u="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",p="[^"+n+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",m=f+"?",g="["+s+"]?",y="(?:"+v+"(?:"+[p,d,h].join("|")+")"+g+m+")*",b=g+m+y,_="(?:"+[p+u+"?",u,d,h,l].join("|")+")",E=RegExp(c+"(?="+c+")|"+_+b,"g");function x(e){return e.match(E)||[]}e.exports=x},"0KJc":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("S2ku"),s=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement(a["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u4e8b\u4ef6\u540d"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Init | 'init'"),i.a.createElement("td",null,"Draw \u521d\u59cb\u5316\u5b8c\u6210\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Destroy | 'destroy'"),i.a.createElement("td",null,"Draw \u5b8c\u6210\u9500\u6bc1\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Enable | 'enable'"),i.a.createElement("td",null,"\u542f\u7528\u7ed8\u5236\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Disable | 'disable'"),i.a.createElement("td",null,"\u7981\u7528\u7ed8\u5236\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Clear | 'clear'"),i.a.createElement("td",null,"\u6e05\u7a7a\u6570\u636e\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.AddNode | 'addNode'"),i.a.createElement("td",null,"\u6dfb\u52a0\u7ed3\u70b9"),i.a.createElement("td",null,i.a.createElement("code",null,"(newNode: Feature,editFeature: Feature, featureList: Feature[]) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.RemoveNode | 'removeNode'"),i.a.createElement("td",null,"\u5220\u9664\u7ed3\u70b9"),i.a.createElement("td",null,i.a.createElement("code",null,"(removeNode: Feature,editFeature: Feature, featureList: Feature[]) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Add | 'add'"),i.a.createElement("td",null,"\u65b0\u589e\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(newFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Edit | 'edit'"),i.a.createElement("td",null,"\u7f16\u8f91(\u4f4d\u79fb\u6216\u8282\u70b9\u53d1\u751f\u53d8\u66f4)\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(editFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Remove | 'remove'"),i.a.createElement("td",null,"\u5220\u9664\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(deleteFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.DragStart | 'dragStart'"),i.a.createElement("td",null,"\u5f00\u59cb\u62d6\u62fd\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(dragFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Dragging | 'dragging'"),i.a.createElement("td",null,"\u62d6\u62fd\u4e2d\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(dragFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.DragEnd | 'dragEnd'"),i.a.createElement("td",null,"\u62d6\u62fd\u7ed3\u675f\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(dragFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Change | 'change'"),i.a.createElement("td",null,"\u7ed8\u5236\u6570\u636e\u53d1\u751f\u53d8\u66f4\u540e\u7684\u4e8b\u4ef6\uff08\u5305\u542b\u4ee5\u4e0a\u7ed8\u5236\u6570\u636e\u53d8\u52a8\u7684\u4e8b\u4ef6\uff09"),i.a.createElement("td",null,i.a.createElement("code",null,"function(featureList: Feature[])"))))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"0XDk":function(e,t,n){},"0ZTe":function(e,t,n){var r=n("wy8a"),i=n("quyA"),o=n("Em2t"),a=n("dt0z");function s(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}e.exports=s},"0eef":function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},"0gSV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n("GXnB"),i=n("Ztfv");function o(e,t){return function(n,o,a){var s=new r.Metadata(e,t);"number"===typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}t.tagged=o},"0lfv":function(e,t,n){"use strict";n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return j})),n.d(t,"n",(function(){return b})),n.d(t,"m",(function(){return _})),n.d(t,"o",(function(){return E})),n.d(t,"s",(function(){return x})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return C})),n.d(t,"t",(function(){return A})),n.d(t,"k",(function(){return P})),n.d(t,"j",(function(){return k})),n.d(t,"l",(function(){return M})),n.d(t,"e",(function(){return T})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return I})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return B})),n.d(t,"i",(function(){return U})),n.d(t,"h",(function(){return z})),n.d(t,"r",(function(){return H}));var r,i=n("k1fw"),o=n("WVt+"),a=n("LvDl"),s=new Uint8Array(16);function l(){if(!r&&(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(s)}var u=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function c(e){return"string"===typeof e&&u.test(e)}for(var f=c,p=[],d=0;d<256;++d)p.push((d+256).toString(16).substr(1));function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(p[e[t+0]]+p[e[t+1]]+p[e[t+2]]+p[e[t+3]]+"-"+p[e[t+4]]+p[e[t+5]]+"-"+p[e[t+6]]+p[e[t+7]]+"-"+p[e[t+8]]+p[e[t+9]]+"-"+p[e[t+10]]+p[e[t+11]]+p[e[t+12]]+p[e[t+13]]+p[e[t+14]]+p[e[t+15]]).toLowerCase();if(!f(n))throw TypeError("Stringified UUID is invalid");return n}var v=h;function m(e,t,n){e=e||{};var r=e.random||(e.rng||l)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return v(r)}var g=m,y=!1,b=e=>{var t,n,r=e.getContainer();return null!==(t=null!==(n=null===r||void 0===r?void 0:r.querySelector(".l7-marker-container"))&&void 0!==n?n:null===r||void 0===r?void 0:r.querySelector(".amap-maps"))&&void 0!==t?t:null},_=e=>e.lngLat||e.lnglat,E=e=>{var t=_(e),n=t.lng,r=t.lat;return[n,r]},x=e=>{var t=e.lng,n=e.lat;return[t,n]},w=e=>{for(var t=Number.MAX_SAFE_INTEGER,n=0,r=e.length,i=0;i<r;i++)e[i]<t&&(t=e[i],n=i);return n},S=(e,t)=>{var n=[],r=[];return e.forEach((e=>{Object(a["isEqual"])(e,t)?r.length&&(n.push(r),r=[]):r.push(e)})),r.length&&n.push(r),n},O=(()=>{var e=1;return t=>"".concat(t,"-").concat(y?e++:g())})(),C=(e,t)=>{var n,r;return!(!e||!t||(null===(n=e.properties)||void 0===n?void 0:n.id)!==(null===(r=t.properties)||void 0===r?void 0:r.id))},A=e=>{var t=e.target,n=e.data,r=e.targetHandler,i=e.otherHandler;return n.map(((e,n)=>{var o,a=C(e,t)?r:i;return null!==(o=null===a||void 0===a?void 0:a(e,n))&&void 0!==o?o:e}))},P=()=>({id:O("point"),isHover:!1,isActive:!1,isDrag:!1,createTime:Date.now()}),k=()=>({id:O("line"),isHover:!1,isActive:!1,isDrag:!1,isDraw:!1,createTime:Date.now()}),M=()=>({id:O("polygon"),isHover:!1,isActive:!1,isDrag:!1,isDraw:!1,createTime:Date.now()}),T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o["point"])(e,Object(i["a"])(Object(i["a"])({},P()),t))},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"Feature",properties:Object(i["a"])(Object(i["a"])({},k()),{},{nodes:e},t),geometry:{type:"LineString",coordinates:Object(o["coordAll"])(Object(o["featureCollection"])(e))}}},I=e=>Object(o["lineString"])(e,{id:O("dashLine")}),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"Feature",properties:Object(i["a"])(Object(i["a"])({},M()),{},{nodes:e},t),geometry:{type:"Polygon",coordinates:[Object(o["coordAll"])(Object(o["featureCollection"])([...e,Object(a["first"])(e)]))]}}},R=e=>{var t=Object(o["length"])(e,{units:"meters"});return Object(o["along"])(e,t/2,{units:"meters"})},N=function(e,t){var n=t.showTotalDistance,r=t.format,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=[];if(n){var l=R(e),u=Object(o["length"])(e,{units:"meters"});l.properties=Object(i["a"])({id:O("text"),isActive:!1,meters:u,text:r(u),type:"totalDistance"},a),s.push(l)}else for(var c=e.geometry.coordinates,f=0;f<c.length-1;f++){var p=Object(o["point"])(c[f]),d=Object(o["point"])(c[f+1]),h=Object(o["distance"])(p,d,{units:"meters"}),v=Object(o["center"])(Object(o["featureCollection"])([p,d]));v.properties=Object(i["a"])({id:O("text"),isActive:!1,meters:h,text:r(h),type:"distance"},a),s.push(v)}return s},j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.format,a=Object(o["area"])(e);return Object(o["centerOfMass"])(e,{properties:Object(i["a"])({meters:a,text:r(a),type:"area",isActive:!1},n)})},F=n("tJVT"),B=(e,t,n)=>{var r=[],i=[],s=[];return r="drawData"===e?t.getData():e instanceof Function?e(n):e,r.length&&(i=r.map((e=>{var t,r=null!==(t=e.properties)&&void 0!==t?t:{},i=r.nodes,o=void 0===i?[]:i,s=r.isActive,l=void 0!==s&&s;return l?o.filter((e=>!Object(a["isEqual"])(e.geometry.coordinates,n))):o})).flat().filter((e=>e)),i.length||(i=Object(o["coordAll"])(Object(o["featureCollection"])(r)).map((e=>Object(o["point"])(e)))),s=r.map((e=>{var t,r,i,a=null!==(t=null===(r=e.properties)||void 0===r?void 0:r.line)&&void 0!==t?t:e;if(null!==(i=e.properties)&&void 0!==i&&i.isActive){var s=a.properties.nodes,l=S(s.map((e=>e.geometry.coordinates)),n).filter((e=>e.length>1));return l.map((e=>Object(o["lineString"])(e)))}return[a]})).flat().filter((e=>e)),s.length||r.forEach((e=>{var t=Object(o["getType"])(e);if(/linestring/i.test(t)&&s.push(e),/polygon/i.test(t)){var n,r=Object(o["polygonToLine"])(e);return s.push(...null!==(n=null===r||void 0===r?void 0:r.features)&&void 0!==n?n:[r])}}))),{points:i,lines:s}},U=(e,t,n,r)=>{var i=n.pointAdsorbPixel,o=Object(F["a"])(e,2),a=o[0],s=o[1],l=r.lngLatToPixel([a,s]),u=l.x,c=l.y,f=t.map((e=>{var t=Object(F["a"])(e.geometry.coordinates,2),n=t[0],i=t[1],o=r.lngLatToPixel([n,i]),a=o.x,s=o.y;return Math.pow(u-a,2)+Math.pow(c-s,2)})),p=w(f),d=Math.pow(f[p],.5);return d<=i?t[p].geometry.coordinates:null},z=(e,t,n,r)=>{var i=n.lineAdsorbPixel,a=Object(F["a"])(e,2),s=a[0],l=a[1],u=r.lngLatToPixel([s,l]),c=u.x,f=u.y,p=t.filter((e=>Object(o["coordAll"])(e).length>1)).map((t=>Object(o["nearestPointOnLine"])(t,e))),d=p.map((e=>{var t=Object(F["a"])(e.geometry.coordinates,2),n=t[0],i=t[1],o=r.lngLatToPixel([n,i]),a=o.x,s=o.y;return Math.pow(c-a,2)+Math.pow(f-s,2)})),h=w(d),v=Math.pow(d[h],.5);return v<=i?p[h].geometry.coordinates:null},H=(e,t)=>{var n=Object(F["a"])(t,2),r=n[0],i=n[1];e.lngLat&&(e.lngLat={lng:r,lat:i}),e.lnglat&&(e.lnglat={lng:r,lat:i})}},"0q/z":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("A2ZE"),s=n("Sssf"),l=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{find:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return l(n,(function(e,n){if(r(n,e,t))return l.stop(n)}),void 0,!0,!0).result}})},"0rvr":function(e,t,n){var r=n("glrk"),i=n("O741");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},"0wsv":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"i",(function(){return c})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return d}));var r=6371008.8,i={centimeters:100*r,centimetres:100*r,degrees:r/111325,feet:3.28084*r,inches:39.37*r,kilometers:r/1e3,kilometres:r/1e3,meters:r,metres:r,miles:r/1609.344,millimeters:1e3*r,millimetres:1e3*r,nauticalmiles:r/1852,radians:1,yards:1.0936*r};function o(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function a(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(e[0])||!p(e[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:e};return o(r,t,n)}function s(e,t,n){void 0===n&&(n={});for(var r=0,i=e;r<i.length;r++){var a=i[r];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}var l={type:"Polygon",coordinates:e};return o(l,t,n)}function l(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var r={type:"LineString",coordinates:e};return o(r,t,n)}function u(e,t,n){void 0===n&&(n={});var r={type:"MultiPolygon",coordinates:e};return o(r,t,n)}function c(e,t){void 0===t&&(t="kilometers");var n=i[t];if(!n)throw new Error(t+" units is invalid");return e*n}function f(e){var t=e%360;return t*Math.PI/180}function p(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function d(e){return!!e&&e.constructor===Object}},"0ycA":function(e,t){function n(){return[]}e.exports=n},"1+5i":function(e,t,n){var r=n("w/wX"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isSet,s=a?i(a):r;e.exports=s},"14Sl":function(e,t,n){"use strict";n("rB9j");var r=n("busE"),i=n("0Dky"),o=n("tiKp"),a=n("kmMV"),s=n("kRJp"),l=o("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),f=o("replace"),p=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),d=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var h=o(e),v=!i((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),m=v&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!v||!m||"replace"===e&&(!u||!c||p)||"split"===e&&!d){var g=/./[h],y=n(h,""[e],(function(e,t,n,r,i){return t.exec===a?v&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),b=y[0],_=y[1];r(String.prototype,e,b),r(RegExp.prototype,h,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}f&&s(RegExp.prototype[h],"sham",!0)}},"16Al":function(e,t,n){"use strict";var r=n("WbBG");function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},"17x9":function(e,t,n){e.exports=n("16Al")()},"1ABj":function(e,t){function n(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"1E5z":function(e,t,n){var r=n("m/L8").f,i=n("UTVS"),o=n("tiKp"),a=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},"1OyB":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},"1Y/n":function(e,t,n){var r=n("HAuM"),i=n("ewvW"),o=n("RK3t"),a=n("UMSQ"),s=function(e){return function(t,n,s,l){r(n);var u=i(t),c=o(u),f=a(u.length),p=e?f-1:0,d=e?-1:1;if(s<2)while(1){if(p in c){l=c[p],p+=d;break}if(p+=d,e?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=d)p in c&&(l=n(l,c[p],p,u));return l}};e.exports={left:s(!1),right:s(!0)}},"1hJj":function(e,t,n){var r=n("e4Nc"),i=n("ftKO"),o=n("3A9y");function a(e){var t=-1,n=null==e?0:e.length;this.__data__=new r;while(++t<n)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},"1j5w":function(e,t,n){"use strict";n.d(t,"d",(function(){return Ee})),n.d(t,"b",(function(){return Z})),n.d(t,"c",(function(){return et})),n.d(t,"a",(function(){return tt}));var r=n("wx14"),i=n("rePB"),o=n("VTBJ"),a=n("KQm4"),s=n("ODXe"),l=n("Ff2n"),u=n("q1tI"),c=n("TSYQ"),f=n.n(c),p=n("Gytx"),d=n.n(p),h=n("6cGi"),v=n("Kwbf"),m=n("8z13"),g=n("1OyB"),y=n("vuIU"),b=n("Ji7U"),_=n("LK+K"),E=n("4IlW"),x=n("bT9E"),w=n("YrtM"),S=["children","locked"],O=u["createContext"](null);function C(e,t){var n=Object(o["a"])({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}function A(e){var t=e.children,n=e.locked,r=Object(l["a"])(e,S),i=u["useContext"](O),o=Object(w["a"])((function(){return C(i,r)}),[i,r],(function(e,t){return!n&&(e[0]!==t[0]||!d()(e[1],t[1]))}));return u["createElement"](O.Provider,{value:o},t)}function P(e,t,n,r){var i=u["useContext"](O),o=i.activeKey,a=i.onActive,s=i.onInactive,l={active:o===e};return t||(l.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),a(e)},l.onMouseLeave=function(t){null===r||void 0===r||r({key:e,domEvent:t}),s(e)}),l}var k=["item"];function M(e){var t=e.item,n=Object(l["a"])(e,k);return Object.defineProperty(n,"item",{get:function(){return Object(v["a"])(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function T(e){var t,n=e.icon,r=e.props,i=e.children;return t="function"===typeof n?u["createElement"](n,Object(o["a"])({},r)):n,t||i||null}function L(e){var t=u["useContext"](O),n=t.mode,r=t.rtl,i=t.inlineIndent;if("inline"!==n)return null;var o=e;return r?{paddingRight:o*i}:{paddingLeft:o*i}}var I=[],D=u["createContext"](null);function R(){return u["useContext"](D)}var N=u["createContext"](I);function j(e){var t=u["useContext"](N);return u["useMemo"]((function(){return void 0!==e?[].concat(Object(a["a"])(t),[e]):t}),[t,e])}var F=u["createContext"](null),B=u["createContext"](null);function U(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function z(e){var t=u["useContext"](B);return U(t,e)}var H=u["createContext"]({}),V=H,G=["title","attribute","elementRef"],W=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],q=["active"],Y=function(e){Object(b["a"])(n,e);var t=Object(_["a"])(n);function n(){return Object(g["a"])(this,n),t.apply(this,arguments)}return Object(y["a"])(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,i=e.elementRef,o=Object(l["a"])(e,G),a=Object(x["a"])(o,["eventKey"]);return Object(v["a"])(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),u["createElement"](m["a"].Item,Object(r["a"])({},n,{title:"string"===typeof t?t:void 0},a,{ref:i}))}}]),n}(u["Component"]),X=function(e){var t,n=e.style,s=e.className,c=e.eventKey,p=(e.warnKey,e.disabled),d=e.itemIcon,h=e.children,v=e.role,m=e.onMouseEnter,g=e.onMouseLeave,y=e.onClick,b=e.onKeyDown,_=e.onFocus,x=Object(l["a"])(e,W),w=z(c),S=u["useContext"](O),C=S.prefixCls,A=S.onItemClick,k=S.disabled,I=S.overflowDisabled,D=S.itemIcon,R=S.selectedKeys,N=S.onActive,F=u["useContext"](V),B=F._internalRenderMenuItem,U="".concat(C,"-item"),H=u["useRef"](),G=u["useRef"](),X=k||p,K=j(c);var Z=function(e){return{key:c,keyPath:Object(a["a"])(K).reverse(),item:H.current,domEvent:e}},Q=d||D,J=P(c,X,m,g),$=J.active,ee=Object(l["a"])(J,q),te=R.includes(c),ne=L(K.length),re=function(e){if(!X){var t=Z(e);null===y||void 0===y||y(M(t)),A(t)}},ie=function(e){if(null===b||void 0===b||b(e),e.which===E["a"].ENTER){var t=Z(e);null===y||void 0===y||y(M(t)),A(t)}},oe=function(e){N(c),null===_||void 0===_||_(e)},ae={};"option"===e.role&&(ae["aria-selected"]=te);var se=u["createElement"](Y,Object(r["a"])({ref:H,elementRef:G,role:null===v?"none":v||"menuitem",tabIndex:p?null:-1,"data-menu-id":I&&w?null:w},x,ee,ae,{component:"li","aria-disabled":p,style:Object(o["a"])(Object(o["a"])({},ne),n),className:f()(U,(t={},Object(i["a"])(t,"".concat(U,"-active"),$),Object(i["a"])(t,"".concat(U,"-selected"),te),Object(i["a"])(t,"".concat(U,"-disabled"),X),t),s),onClick:re,onKeyDown:ie,onFocus:oe}),h,u["createElement"](T,{props:Object(o["a"])(Object(o["a"])({},e),{},{isSelected:te}),icon:Q}));return B&&(se=B(se,e,{selected:te})),se};function K(e){var t=e.eventKey,n=R(),r=j(t);return u["useEffect"]((function(){if(n)return n.registerPath(t,r),function(){n.unregisterPath(t,r)}}),[r]),n?null:u["createElement"](X,e)}var Z=K,Q=n("U8pU"),J=n("Zm9Q"),$=["label","children","key","type"];function ee(e,t){return Object(J["a"])(e).map((function(e,n){if(u["isValidElement"](e)){var r,i,o=e.key,s=null!==(r=null===(i=e.props)||void 0===i?void 0:i.eventKey)&&void 0!==r?r:o,l=null===s||void 0===s;l&&(s="tmp_key-".concat([].concat(Object(a["a"])(t),[n]).join("-")));var c={key:s,eventKey:s};return u["cloneElement"](e,c)}return e}))}function te(e){return(e||[]).map((function(e,t){if(e&&"object"===Object(Q["a"])(e)){var n=e.label,i=e.children,o=e.key,a=e.type,s=Object(l["a"])(e,$),c=null!==o&&void 0!==o?o:"tmp-".concat(t);return i||"group"===a?"group"===a?u["createElement"](et,Object(r["a"])({key:c},s,{title:n}),te(i)):u["createElement"](Ee,Object(r["a"])({key:c},s,{title:n}),te(i)):"divider"===a?u["createElement"](tt,Object(r["a"])({key:c},s)):u["createElement"](Z,Object(r["a"])({key:c},s),n)}return null})).filter((function(e){return e}))}function ne(e,t,n){var r=e;return t&&(r=te(t)),ee(r,n)}function re(e){var t=u["useRef"](e);t.current=e;var n=u["useCallback"]((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var ie=["className","children"],oe=function(e,t){var n=e.className,i=e.children,o=Object(l["a"])(e,ie),a=u["useContext"](O),s=a.prefixCls,c=a.mode,p=a.rtl;return u["createElement"]("ul",Object(r["a"])({className:f()(s,p&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat("inline"===c?"inline":"vertical"),n)},o,{"data-menu-list":!0,ref:t}),i)},ae=u["forwardRef"](oe);ae.displayName="SubMenuList";var se=ae,le=n("uciX"),ue=n("wgJM"),ce={adjustX:1,adjustY:1},fe={topLeft:{points:["bl","tl"],overflow:ce,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ce,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:ce,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:ce,offset:[4,0]}},pe={topLeft:{points:["bl","tl"],overflow:ce,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ce,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:ce,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:ce,offset:[4,0]}};function de(e,t,n){return t||(n?n[e]||n.other:void 0)}var he={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function ve(e){var t=e.prefixCls,n=e.visible,r=e.children,a=e.popup,l=e.popupClassName,c=e.popupOffset,p=e.disabled,d=e.mode,h=e.onVisibleChange,v=u["useContext"](O),m=v.getPopupContainer,g=v.rtl,y=v.subMenuOpenDelay,b=v.subMenuCloseDelay,_=v.builtinPlacements,E=v.triggerSubMenuAction,x=v.forceSubMenuRender,w=v.rootClassName,S=v.motion,C=v.defaultMotions,A=u["useState"](!1),P=Object(s["a"])(A,2),k=P[0],M=P[1],T=g?Object(o["a"])(Object(o["a"])({},pe),_):Object(o["a"])(Object(o["a"])({},fe),_),L=he[d],I=de(d,S,C),D=Object(o["a"])(Object(o["a"])({},I),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),R=u["useRef"]();return u["useEffect"]((function(){return R.current=Object(ue["a"])((function(){M(n)})),function(){ue["a"].cancel(R.current)}}),[n]),u["createElement"](le["a"],{prefixCls:t,popupClassName:f()("".concat(t,"-popup"),Object(i["a"])({},"".concat(t,"-rtl"),g),l,w),stretch:"horizontal"===d?"minWidth":null,getPopupContainer:m,builtinPlacements:T,popupPlacement:L,popupVisible:k,popup:a,popupAlign:c&&{offset:c},action:p?[]:[E],mouseEnterDelay:y,mouseLeaveDelay:b,onPopupVisibleChange:h,forceRender:x,popupMotion:D},r)}var me=n("8XRh");function ge(e){var t=e.id,n=e.open,i=e.keyPath,a=e.children,l="inline",c=u["useContext"](O),f=c.prefixCls,p=c.forceSubMenuRender,d=c.motion,h=c.defaultMotions,v=c.mode,m=u["useRef"](!1);m.current=v===l;var g=u["useState"](!m.current),y=Object(s["a"])(g,2),b=y[0],_=y[1],E=!!m.current&&n;u["useEffect"]((function(){m.current&&_(!1)}),[v]);var x=Object(o["a"])({},de(l,d,h));i.length>1&&(x.motionAppear=!1);var w=x.onVisibleChanged;return x.onVisibleChanged=function(e){return m.current||e||_(!0),null===w||void 0===w?void 0:w(e)},b?null:u["createElement"](A,{mode:l,locked:!m.current},u["createElement"](me["a"],Object(r["a"])({visible:E},x,{forceRender:p,removeOnLeave:!1,leavedClassName:"".concat(f,"-hidden")}),(function(e){var n=e.className,r=e.style;return u["createElement"](se,{id:t,className:n,style:r},a)})))}var ye=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],be=["active"],_e=function(e){var t,n=e.style,a=e.className,c=e.title,p=e.eventKey,d=(e.warnKey,e.disabled),h=e.internalPopupClose,v=e.children,g=e.itemIcon,y=e.expandIcon,b=e.popupClassName,_=e.popupOffset,E=e.onClick,x=e.onMouseEnter,w=e.onMouseLeave,S=e.onTitleClick,C=e.onTitleMouseEnter,k=e.onTitleMouseLeave,I=Object(l["a"])(e,ye),D=z(p),R=u["useContext"](O),N=R.prefixCls,B=R.mode,U=R.openKeys,H=R.disabled,G=R.overflowDisabled,W=R.activeKey,q=R.selectedKeys,Y=R.itemIcon,X=R.expandIcon,K=R.onItemClick,Z=R.onOpenChange,Q=R.onActive,J=u["useContext"](V),$=J._internalRenderSubMenuItem,ee=u["useContext"](F),te=ee.isSubPathKey,ne=j(),ie="".concat(N,"-submenu"),oe=H||d,ae=u["useRef"](),le=u["useRef"]();var ue=g||Y,ce=y||X,fe=U.includes(p),pe=!G&&fe,de=te(q,p),he=P(p,oe,C,k),me=he.active,_e=Object(l["a"])(he,be),Ee=u["useState"](!1),xe=Object(s["a"])(Ee,2),we=xe[0],Se=xe[1],Oe=function(e){oe||Se(e)},Ce=function(e){Oe(!0),null===x||void 0===x||x({key:p,domEvent:e})},Ae=function(e){Oe(!1),null===w||void 0===w||w({key:p,domEvent:e})},Pe=u["useMemo"]((function(){return me||"inline"!==B&&(we||te([W],p))}),[B,me,W,we,p,te]),ke=L(ne.length),Me=function(e){oe||(null===S||void 0===S||S({key:p,domEvent:e}),"inline"===B&&Z(p,!fe))},Te=re((function(e){null===E||void 0===E||E(M(e)),K(e)})),Le=function(e){"inline"!==B&&Z(p,e)},Ie=function(){Q(p)},De=D&&"".concat(D,"-popup"),Re=u["createElement"]("div",Object(r["a"])({role:"menuitem",style:ke,className:"".concat(ie,"-title"),tabIndex:oe?null:-1,ref:ae,title:"string"===typeof c?c:null,"data-menu-id":G&&D?null:D,"aria-expanded":pe,"aria-haspopup":!0,"aria-controls":De,"aria-disabled":oe,onClick:Me,onFocus:Ie},_e),c,u["createElement"](T,{icon:"horizontal"!==B?ce:null,props:Object(o["a"])(Object(o["a"])({},e),{},{isOpen:pe,isSubMenu:!0})},u["createElement"]("i",{className:"".concat(ie,"-arrow")}))),Ne=u["useRef"](B);if("inline"!==B&&(Ne.current=ne.length>1?"vertical":B),!G){var je=Ne.current;Re=u["createElement"](ve,{mode:je,prefixCls:ie,visible:!h&&pe&&"inline"!==B,popupClassName:b,popupOffset:_,popup:u["createElement"](A,{mode:"horizontal"===je?"vertical":je},u["createElement"](se,{id:De,ref:le},v)),disabled:oe,onVisibleChange:Le},Re)}var Fe=u["createElement"](m["a"].Item,Object(r["a"])({role:"none"},I,{component:"li",style:n,className:f()(ie,"".concat(ie,"-").concat(B),a,(t={},Object(i["a"])(t,"".concat(ie,"-open"),pe),Object(i["a"])(t,"".concat(ie,"-active"),Pe),Object(i["a"])(t,"".concat(ie,"-selected"),de),Object(i["a"])(t,"".concat(ie,"-disabled"),oe),t)),onMouseEnter:Ce,onMouseLeave:Ae}),Re,!G&&u["createElement"](ge,{id:De,open:pe,keyPath:ne},v));return $&&(Fe=$(Fe,e,{selected:de,active:Pe,open:pe,disabled:oe})),u["createElement"](A,{onItemClick:Te,mode:"horizontal"===B?"vertical":B,itemIcon:ue,expandIcon:ce},Fe)};function Ee(e){var t,n=e.eventKey,r=e.children,i=j(n),o=ee(r,i),a=R();return u["useEffect"]((function(){if(a)return a.registerPath(n,i),function(){a.unregisterPath(n,i)}}),[i]),t=a?o:u["createElement"](_e,e,o),u["createElement"](N.Provider,{value:i},t)}var xe=n("qE6j"),we=E["a"].LEFT,Se=E["a"].RIGHT,Oe=E["a"].UP,Ce=E["a"].DOWN,Ae=E["a"].ENTER,Pe=E["a"].ESC,ke=E["a"].HOME,Me=E["a"].END,Te=[Oe,Ce,we,Se];function Le(e,t,n,r){var o,a,s,l,u="prev",c="next",f="children",p="parent";if("inline"===e&&r===Ae)return{inlineTrigger:!0};var d=(o={},Object(i["a"])(o,Oe,u),Object(i["a"])(o,Ce,c),o),h=(a={},Object(i["a"])(a,we,n?c:u),Object(i["a"])(a,Se,n?u:c),Object(i["a"])(a,Ce,f),Object(i["a"])(a,Ae,f),a),v=(s={},Object(i["a"])(s,Oe,u),Object(i["a"])(s,Ce,c),Object(i["a"])(s,Ae,f),Object(i["a"])(s,Pe,p),Object(i["a"])(s,we,n?f:p),Object(i["a"])(s,Se,n?p:f),s),m={inline:d,horizontal:h,vertical:v,inlineSub:d,horizontalSub:v,verticalSub:v},g=null===(l=m["".concat(e).concat(t?"":"Sub")])||void 0===l?void 0:l[r];switch(g){case u:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case p:return{offset:-1,sibling:!1};case f:return{offset:1,sibling:!1};default:return null}}function Ie(e){var t=e;while(t){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}function De(e,t){var n=e||document.activeElement;while(n){if(t.has(n))return n;n=n.parentElement}return null}function Re(e,t){var n=Object(xe["a"])(e,!0);return n.filter((function(e){return t.has(e)}))}function Ne(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=Re(e,t),o=i.length,a=i.findIndex((function(e){return n===e}));return r<0?-1===a?a=o-1:a-=1:r>0&&(a+=1),a=(a+o)%o,i[a]}function je(e,t,n,r,i,o,a,s,l,c){var f=u["useRef"](),p=u["useRef"]();p.current=t;var d=function(){ue["a"].cancel(f.current)};return u["useEffect"]((function(){return function(){d()}}),[]),function(u){var h=u.which;if([].concat(Te,[Ae,Pe,ke,Me]).includes(h)){var v,m,g,y=function(){v=new Set,m=new Map,g=new Map;var e=o();return e.forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(U(r,e),"']"));t&&(v.add(t),g.set(t,e),m.set(e,t))})),v};y();var b=m.get(t),_=De(b,v),E=g.get(_),x=Le(e,1===a(E,!0).length,n,h);if(!x&&h!==ke&&h!==Me)return;(Te.includes(h)||[ke,Me].includes(h))&&u.preventDefault();var w=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=g.get(e);s(r),d(),f.current=Object(ue["a"])((function(){p.current===r&&t.focus()}))}};if([ke,Me].includes(h)||x.sibling||!_){var S,O;S=_&&"inline"!==e?Ie(_):i.current;var C=Re(S,v);O=h===ke?C[0]:h===Me?C[C.length-1]:Ne(S,v,_,x.offset),w(O)}else if(x.inlineTrigger)l(E);else if(x.offset>0)l(E,!0),d(),f.current=Object(ue["a"])((function(){y();var e=_.getAttribute("aria-controls"),t=document.getElementById(e),n=Ne(t,v);w(n)}),5);else if(x.offset<0){var A=a(E,!0),P=A[A.length-2],k=m.get(P);l(P,!1),w(k)}}null===c||void 0===c||c(u)}}var Fe=Math.random().toFixed(5).toString().slice(2),Be=0;function Ue(e){var t=Object(h["a"])(e,{value:e}),n=Object(s["a"])(t,2),r=n[0],i=n[1];return u["useEffect"]((function(){Be+=1;var e="".concat(Fe,"-").concat(Be);i("rc-menu-uuid-".concat(e))}),[]),r}function ze(e){Promise.resolve().then(e)}var He="__RC_UTIL_PATH_SPLIT__",Ve=function(e){return e.join(He)},Ge=function(e){return e.split(He)},We="rc-menu-more";function qe(){var e=u["useState"]({}),t=Object(s["a"])(e,2),n=t[1],r=Object(u["useRef"])(new Map),i=Object(u["useRef"])(new Map),o=u["useState"]([]),l=Object(s["a"])(o,2),c=l[0],f=l[1],p=Object(u["useRef"])(0),d=Object(u["useRef"])(!1),h=function(){d.current||n({})},v=Object(u["useCallback"])((function(e,t){var n=Ve(t);i.current.set(n,e),r.current.set(e,n),p.current+=1;var o=p.current;ze((function(){o===p.current&&h()}))}),[]),m=Object(u["useCallback"])((function(e,t){var n=Ve(t);i.current["delete"](n),r.current["delete"](e)}),[]),g=Object(u["useCallback"])((function(e){f(e)}),[]),y=Object(u["useCallback"])((function(e,t){var n=r.current.get(e)||"",i=Ge(n);return t&&c.includes(i[0])&&i.unshift(We),i}),[c]),b=Object(u["useCallback"])((function(e,t){return e.some((function(e){var n=y(e,!0);return n.includes(t)}))}),[y]),_=function(){var e=Object(a["a"])(r.current.keys());return c.length&&e.push(We),e},E=Object(u["useCallback"])((function(e){var t="".concat(r.current.get(e)).concat(He),n=new Set;return Object(a["a"])(i.current.keys()).forEach((function(e){e.startsWith(t)&&n.add(i.current.get(e))})),n}),[]);return u["useEffect"]((function(){return function(){d.current=!0}}),[]),{registerPath:v,unregisterPath:m,refreshOverflowKeys:g,isSubPathKey:b,getKeyPath:y,getKeys:_,getSubPathKeys:E}}var Ye=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Xe=[],Ke=u["forwardRef"]((function(e,t){var n,c,p=e.prefixCls,v=void 0===p?"rc-menu":p,g=e.rootClassName,y=e.style,b=e.className,_=e.tabIndex,E=void 0===_?0:_,x=e.items,w=e.children,S=e.direction,O=e.id,C=e.mode,P=void 0===C?"vertical":C,k=e.inlineCollapsed,T=e.disabled,L=e.disabledOverflow,I=e.subMenuOpenDelay,R=void 0===I?.1:I,N=e.subMenuCloseDelay,j=void 0===N?.1:N,z=e.forceSubMenuRender,H=e.defaultOpenKeys,G=e.openKeys,W=e.activeKey,q=e.defaultActiveFirst,Y=e.selectable,X=void 0===Y||Y,K=e.multiple,Q=void 0!==K&&K,J=e.defaultSelectedKeys,$=e.selectedKeys,ee=e.onSelect,te=e.onDeselect,ie=e.inlineIndent,oe=void 0===ie?24:ie,ae=e.motion,se=e.defaultMotions,le=e.triggerSubMenuAction,ue=void 0===le?"hover":le,ce=e.builtinPlacements,fe=e.itemIcon,pe=e.expandIcon,de=e.overflowedIndicator,he=void 0===de?"...":de,ve=e.overflowedIndicatorPopupClassName,me=e.getPopupContainer,ge=e.onClick,ye=e.onOpenChange,be=e.onKeyDown,_e=(e.openAnimation,e.openTransitionName,e._internalRenderMenuItem),xe=e._internalRenderSubMenuItem,we=Object(l["a"])(e,Ye),Se=u["useMemo"]((function(){return ne(w,x,Xe)}),[w,x]),Oe=u["useState"](!1),Ce=Object(s["a"])(Oe,2),Ae=Ce[0],Pe=Ce[1],ke=u["useRef"](),Me=Ue(O),Te="rtl"===S;var Le=u["useMemo"]((function(){return"inline"!==P&&"vertical"!==P||!k?[P,!1]:["vertical",k]}),[P,k]),Ie=Object(s["a"])(Le,2),De=Ie[0],Re=Ie[1],Ne=u["useState"](0),Fe=Object(s["a"])(Ne,2),Be=Fe[0],ze=Fe[1],He=Be>=Se.length-1||"horizontal"!==De||L,Ve=Object(h["a"])(H,{value:G,postState:function(e){return e||Xe}}),Ge=Object(s["a"])(Ve,2),Ke=Ge[0],Ze=Ge[1],Qe=function(e){Ze(e),null===ye||void 0===ye||ye(e)},Je=u["useState"](Ke),$e=Object(s["a"])(Je,2),et=$e[0],tt=$e[1],nt="inline"===De,rt=u["useRef"](!1);u["useEffect"]((function(){nt&&tt(Ke)}),[Ke]),u["useEffect"]((function(){rt.current?nt?Ze(et):Qe(Xe):rt.current=!0}),[nt]);var it=qe(),ot=it.registerPath,at=it.unregisterPath,st=it.refreshOverflowKeys,lt=it.isSubPathKey,ut=it.getKeyPath,ct=it.getKeys,ft=it.getSubPathKeys,pt=u["useMemo"]((function(){return{registerPath:ot,unregisterPath:at}}),[ot,at]),dt=u["useMemo"]((function(){return{isSubPathKey:lt}}),[lt]);u["useEffect"]((function(){st(He?Xe:Se.slice(Be+1).map((function(e){return e.key})))}),[Be,He]);var ht=Object(h["a"])(W||q&&(null===(n=Se[0])||void 0===n?void 0:n.key),{value:W}),vt=Object(s["a"])(ht,2),mt=vt[0],gt=vt[1],yt=re((function(e){gt(e)})),bt=re((function(){gt(void 0)}));Object(u["useImperativeHandle"])(t,(function(){return{list:ke.current,focus:function(e){var t,n,r,i,o=null!==mt&&void 0!==mt?mt:null===(t=Se.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;o&&(null===(n=ke.current)||void 0===n||null===(r=n.querySelector("li[data-menu-id='".concat(U(Me,o),"']")))||void 0===r||null===(i=r.focus)||void 0===i||i.call(r,e))}}}));var _t=Object(h["a"])(J||[],{value:$,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?Xe:[e]}}),Et=Object(s["a"])(_t,2),xt=Et[0],wt=Et[1],St=function(e){if(X){var t,n=e.key,r=xt.includes(n);t=Q?r?xt.filter((function(e){return e!==n})):[].concat(Object(a["a"])(xt),[n]):[n],wt(t);var i=Object(o["a"])(Object(o["a"])({},e),{},{selectedKeys:t});r?null===te||void 0===te||te(i):null===ee||void 0===ee||ee(i)}!Q&&Ke.length&&"inline"!==De&&Qe(Xe)},Ot=re((function(e){null===ge||void 0===ge||ge(M(e)),St(e)})),Ct=re((function(e,t){var n=Ke.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==De){var r=ft(e);n=n.filter((function(e){return!r.has(e)}))}d()(Ke,n)||Qe(n)})),At=re(me),Pt=function(e,t){var n=null!==t&&void 0!==t?t:!Ke.includes(e);Ct(e,n)},kt=je(De,mt,Te,Me,ke,ct,ut,gt,Pt,be);u["useEffect"]((function(){Pe(!0)}),[]);var Mt=u["useMemo"]((function(){return{_internalRenderMenuItem:_e,_internalRenderSubMenuItem:xe}}),[_e,xe]),Tt="horizontal"!==De||L?Se:Se.map((function(e,t){return u["createElement"](A,{key:e.key,overflowDisabled:t>Be},e)})),Lt=u["createElement"](m["a"],Object(r["a"])({id:O,ref:ke,prefixCls:"".concat(v,"-overflow"),component:"ul",itemComponent:Z,className:f()(v,"".concat(v,"-root"),"".concat(v,"-").concat(De),b,(c={},Object(i["a"])(c,"".concat(v,"-inline-collapsed"),Re),Object(i["a"])(c,"".concat(v,"-rtl"),Te),c),g),dir:S,style:y,role:"menu",tabIndex:E,data:Tt,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?Se.slice(-t):null;return u["createElement"](Ee,{eventKey:We,title:he,disabled:He,internalPopupClose:0===t,popupClassName:ve},n)},maxCount:"horizontal"!==De||L?m["a"].INVALIDATE:m["a"].RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){ze(e)},onKeyDown:kt},we));return u["createElement"](V.Provider,{value:Mt},u["createElement"](B.Provider,{value:Me},u["createElement"](A,{prefixCls:v,rootClassName:g,mode:De,openKeys:Ke,rtl:Te,disabled:T,motion:Ae?ae:null,defaultMotions:Ae?se:null,activeKey:mt,onActive:yt,onInactive:bt,selectedKeys:xt,inlineIndent:oe,subMenuOpenDelay:R,subMenuCloseDelay:j,forceSubMenuRender:z,builtinPlacements:ce,triggerSubMenuAction:ue,getPopupContainer:At,itemIcon:fe,expandIcon:pe,onItemClick:Ot,onOpenChange:Ct},u["createElement"](F.Provider,{value:dt},Lt),u["createElement"]("div",{style:{display:"none"},"aria-hidden":!0},u["createElement"](D.Provider,{value:pt},Se)))))})),Ze=Ke,Qe=["className","title","eventKey","children"],Je=["children"],$e=function(e){var t=e.className,n=e.title,i=(e.eventKey,e.children),o=Object(l["a"])(e,Qe),a=u["useContext"](O),s=a.prefixCls,c="".concat(s,"-item-group");return u["createElement"]("li",Object(r["a"])({},o,{onClick:function(e){return e.stopPropagation()},className:f()(c,t)}),u["createElement"]("div",{className:"".concat(c,"-title"),title:"string"===typeof n?n:void 0},n),u["createElement"]("ul",{className:"".concat(c,"-list")},i))};function et(e){var t=e.children,n=Object(l["a"])(e,Je),r=j(n.eventKey),i=ee(t,r),o=R();return o?i:u["createElement"]($e,Object(x["a"])(n,["warnKey"]),i)}function tt(e){var t=e.className,n=e.style,r=u["useContext"](O),i=r.prefixCls,o=R();return o?null:u["createElement"]("li",{className:f()("".concat(i,"-item-divider"),t),style:n})}var nt=Ze;nt.Item=Z,nt.SubMenu=Ee,nt.ItemGroup=et,nt.Divider=tt;t["e"]=nt},"1kQv":function(e,t,n){var r=n("I+eb"),i=n("qY7S");r({target:"Set",stat:!0},{from:i})},"2/Rp":function(e,t,n){"use strict";var r=n("wx14"),i=n("rePB"),o=n("ODXe"),a=n("U8pU"),s=n("TSYQ"),l=n.n(s),u=n("bT9E"),c=n("q1tI"),f=n.n(c),p=n("H84U"),d=c["createContext"](!1),h=d,v=c["createContext"](void 0),m=v,g=c["isValidElement"];function y(e,t,n){return g(e)?c["cloneElement"](e,"function"===typeof n?n(e.props||{}):n):t}function b(e,t){return y(e,e,t)}var _,E=n("CWQg"),x=n("1OyB"),w=n("vuIU"),S=n("JX7q"),O=n("Ji7U"),C=n("LK+K"),A=n("BU3w"),P=n("c+Xe"),k=n("wgJM"),M=0,T={};function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=M++,r=t;function i(){r-=1,r<=0?(e(),delete T[n]):T[n]=Object(k["a"])(i)}return T[n]=Object(k["a"])(i),n}function I(e){return!e||null===e.offsetParent||e.hidden}function D(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}L.cancel=function(e){void 0!==e&&(k["a"].cancel(T[e]),delete T[e])},L.ids=T;var R=function(e){Object(O["a"])(n,e);var t=Object(C["a"])(n);function n(){var e;return Object(x["a"])(this,n),e=t.apply(this,arguments),e.containerRef=c["createRef"](),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,o=e.props,a=o.insertExtraNode,s=o.disabled;if(!(s||!t||I(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var l=Object(S["a"])(e),u=l.extraNode,c=e.context.getPrefixCls;u.className="".concat(c(""),"-click-animating-node");var f=e.getAttributeName();if(t.setAttribute(f,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&D(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){u.style.borderColor=n;var p=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,d=p instanceof Document?p.body:null!==(i=p.firstChild)&&void 0!==i?i:p;_=Object(A["a"])("\n      [".concat(c(""),"-click-animating-without-extra-node='true']::after, .").concat(c(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:d})}a&&t.appendChild(u),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!I(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),L.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=L((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,r=e.props.children;if(e.csp=n,!c["isValidElement"](r))return r;var i=e.containerRef;return Object(P["c"])(r)&&(i=Object(P["a"])(r.ref,e.containerRef)),b(r,{ref:i})},e}return Object(w["a"])(n,[{key:"componentDidMount",value:function(){this.destroyed=!1;var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),_&&(_.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return c["createElement"](p["a"],null,this.renderWave)}}]),n}(c["Component"]);R.contextType=p["b"];var N=Object(c["forwardRef"])((function(e,t){return c["createElement"](R,Object(r["a"])({ref:t},e))})),j=N,F=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},B=c["createContext"](void 0),U=function(e){var t,n=c["useContext"](p["b"]),o=n.getPrefixCls,a=n.direction,s=e.prefixCls,u=e.size,f=e.className,d=F(e,["prefixCls","size","className"]),h=o("btn-group",s),v="";switch(u){case"large":v="lg";break;case"small":v="sm";break;case"middle":case void 0:break;default:}var m=l()(h,(t={},Object(i["a"])(t,"".concat(h,"-").concat(v),v),Object(i["a"])(t,"".concat(h,"-rtl"),"rtl"===a),t),f);return c["createElement"](B.Provider,{value:u},c["createElement"]("div",Object(r["a"])({},d,{className:m})))},z=U,H=n("VTBJ"),V={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},G=V,W=n("6VBw"),q=function(e,t){return c["createElement"](W["a"],Object(H["a"])(Object(H["a"])({},e),{},{ref:t,icon:G}))};q.displayName="LoadingOutlined";var Y=c["forwardRef"](q),X=n("8XRh"),K=function(){return{width:0,opacity:0,transform:"scale(0)"}},Z=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},Q=function(e){var t=e.prefixCls,n=e.loading,r=e.existIcon,i=!!n;return r?f.a.createElement("span",{className:"".concat(t,"-loading-icon")},f.a.createElement(Y,null)):f.a.createElement(X["a"],{visible:i,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:K,onAppearActive:Z,onEnterStart:K,onEnterActive:Z,onLeaveStart:Z,onLeaveActive:K},(function(e,n){var r=e.className,i=e.style;return f.a.createElement("span",{className:"".concat(t,"-loading-icon"),style:i,ref:n},f.a.createElement(Y,{className:r}))}))},J=Q,$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ee=/^[\u4e00-\u9fa5]{2}$/,te=ee.test.bind(ee);function ne(e){return"string"===typeof e}function re(e){return"text"===e||"link"===e}function ie(e){return c["isValidElement"](e)&&e.type===c["Fragment"]}function oe(e,t){if(null!==e&&void 0!==e){var n=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&ne(e.type)&&te(e.props.children)?b(e,{children:e.props.children.split("").join(n)}):"string"===typeof e?te(e)?c["createElement"]("span",null,e.split("").join(n)):c["createElement"]("span",null,e):ie(e)?c["createElement"]("span",null,e):e}}function ae(e,t){var n=!1,r=[];return c["Children"].forEach(e,(function(e){var t=Object(a["a"])(e),i="string"===t||"number"===t;if(n&&i){var o=r.length-1,s=r[o];r[o]="".concat(s).concat(e)}else r.push(e);n=i})),c["Children"].map(r,(function(e){return oe(e,t)}))}Object(E["a"])("default","primary","ghost","dashed","link","text"),Object(E["a"])("default","circle","round"),Object(E["a"])("submit","button","reset");var se=function(e,t){var n,a=e.loading,s=void 0!==a&&a,f=e.prefixCls,d=e.type,v=void 0===d?"default":d,g=e.danger,y=e.shape,b=void 0===y?"default":y,_=e.size,E=e.disabled,x=e.className,w=e.children,S=e.icon,O=e.ghost,C=void 0!==O&&O,A=e.block,P=void 0!==A&&A,k=e.htmlType,M=void 0===k?"button":k,T=$(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),L=c["useContext"](m),I=c["useContext"](h),D=E||I,R=c["useContext"](B),N=c["useState"](!!s),F=Object(o["a"])(N,2),U=F[0],z=F[1],H=c["useState"](!1),V=Object(o["a"])(H,2),G=V[0],W=V[1],q=c["useContext"](p["b"]),Y=q.getPrefixCls,X=q.autoInsertSpaceInButton,K=q.direction,Z=t||c["createRef"](),Q=function(){return 1===c["Children"].count(w)&&!S&&!re(v)},ee=function(){if(Z&&Z.current&&!1!==X){var e=Z.current.textContent;Q()&&te(e)?G||W(!0):G&&W(!1)}},ne="boolean"===typeof s?s:(null===s||void 0===s?void 0:s.delay)||!0;c["useEffect"]((function(){var e=null;return"number"===typeof ne?e=window.setTimeout((function(){e=null,z(ne)}),ne):z(ne),function(){e&&(window.clearTimeout(e),e=null)}}),[ne]),c["useEffect"](ee,[Z]);var ie=function(t){var n=e.onClick;U||D?t.preventDefault():null===n||void 0===n||n(t)},oe=Y("btn",f),se=!1!==X,le={large:"lg",small:"sm",middle:void 0},ue=R||_||L,ce=ue&&le[ue]||"",fe=U?"loading":S,pe=Object(u["a"])(T,["navigate"]),de=l()(oe,(n={},Object(i["a"])(n,"".concat(oe,"-").concat(b),"default"!==b&&b),Object(i["a"])(n,"".concat(oe,"-").concat(v),v),Object(i["a"])(n,"".concat(oe,"-").concat(ce),ce),Object(i["a"])(n,"".concat(oe,"-icon-only"),!w&&0!==w&&!!fe),Object(i["a"])(n,"".concat(oe,"-background-ghost"),C&&!re(v)),Object(i["a"])(n,"".concat(oe,"-loading"),U),Object(i["a"])(n,"".concat(oe,"-two-chinese-chars"),G&&se&&!U),Object(i["a"])(n,"".concat(oe,"-block"),P),Object(i["a"])(n,"".concat(oe,"-dangerous"),!!g),Object(i["a"])(n,"".concat(oe,"-rtl"),"rtl"===K),Object(i["a"])(n,"".concat(oe,"-disabled"),void 0!==pe.href&&D),n),x),he=S&&!U?S:c["createElement"](J,{existIcon:!!S,prefixCls:oe,loading:!!U}),ve=w||0===w?ae(w,Q()&&se):null;if(void 0!==pe.href)return c["createElement"]("a",Object(r["a"])({},pe,{className:de,onClick:ie,ref:Z}),he,ve);var me=c["createElement"]("button",Object(r["a"])({},T,{type:M,className:de,onClick:ie,disabled:D,ref:Z}),he,ve);return re(v)?me:c["createElement"](j,{disabled:!!U},me)},le=c["forwardRef"](se);le.Group=z,le.__ANT_BUTTON=!0;var ue=le;t["a"]=ue},"25BE":function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,"a",(function(){return r}))},"27RR":function(e,t,n){var r=n("I+eb"),i=n("g6v/"),o=n("Vu81"),a=n("/GqU"),s=n("Bs8V"),l=n("hBjN");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=a(e),i=s.f,u=o(r),c={},f=0;while(u.length>f)n=i(r,t=u[f++]),void 0!==n&&l(c,t,n);return c}})},"2B1R":function(e,t,n){"use strict";var r=n("I+eb"),i=n("tycR").map,o=n("Hd5f"),a=n("rkAj"),s=o("map"),l=a("map");r({target:"Array",proto:!0,forced:!s||!l},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"2N97":function(e,t,n){"use strict";var r=n("xbqb")["default"],i=n("Lw8S")["default"];function o(){var e=n("q1tI");return o=function(){return e},e}function a(e,t){return f(e)||c(e,t)||l(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function f(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var p,d="data-prefers-color",h="dumi:prefers-color",v=function(){function e(){var t=this;r(this,e),this.color=void 0,this.callbacks=[],this.color=localStorage.getItem(h)||document.documentElement.getAttribute(d),["light","dark"].forEach((function(e){var n=t.getColorMedia(e),r=function(n){n.matches&&"auto"===t.color&&(document.documentElement.setAttribute(d,e),t.applyCallbacks())};n.addEventListener?n.addEventListener("change",r):n.addListener&&n.addListener(r)}))}return i(e,[{key:"getColorMedia",value:function(e){return window.matchMedia("(prefers-color-scheme: ".concat(e,")"))}},{key:"isColorMode",value:function(e){return this.getColorMedia(e).matches}},{key:"applyCallbacks",value:function(){var e=this;this.callbacks.forEach((function(t){return t(e.color)}))}},{key:"listen",value:function(e){this.callbacks.push(e)}},{key:"unlisten",value:function(e){this.callbacks.splice(this.callbacks.indexOf(e),1)}},{key:"set",value:function(e){return this.color=e,localStorage.setItem(h,e),this.applyCallbacks(),"auto"===e?document.documentElement.setAttribute(d,this.isColorMode("dark")?"dark":"light"):document.documentElement.setAttribute(d,e),e}}]),e}(),m=function(){var e=(0,o().useState)(),t=a(e,2),n=t[0],r=t[1],i=(0,o().useCallback)((function(e){p.set(e)}),[]);return(0,o().useEffect)((function(){return p=p||new v,p.listen(r),r(p.color),function(){return p.unlisten(r)}}),[]),[n,i]};t["default"]=m},"2ajD":function(e,t){function n(e){return e!==e}e.exports=n},"2gN3":function(e,t,n){var r=n("Kz5y"),i=r["__core-js_shared__"];e.exports=i},"2mql":function(e,t,n){"use strict";var r=n("r36Y"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function u(e){return r.isMemo(e)?s:l[e["$$typeof"]]||i}l[r.ForwardRef]=a,l[r.Memo]=s;var c=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,v=Object.prototype;function m(e,t,n){if("string"!==typeof t){if(v){var r=h(t);r&&r!==v&&m(e,r,n)}var i=f(t);p&&(i=i.concat(p(t)));for(var a=u(e),s=u(t),l=0;l<i.length;++l){var g=i[l];if(!o[g]&&(!n||!n[g])&&(!s||!s[g])&&(!a||!a[g])){var y=d(t,g);try{c(e,g,y)}catch(b){}}}}return e}e.exports=m},"2oRo":function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("IyRk"))},"2tOg":function(e,t,n){"use strict";var r=n("g6v/"),i=n("RNIs"),o=n("ewvW"),a=n("UMSQ"),s=n("m/L8").f;r&&!("lastItem"in[])&&(s(Array.prototype,"lastItem",{configurable:!0,get:function(){var e=o(this),t=a(e.length);return 0==t?void 0:e[t-1]},set:function(e){var t=o(this),n=a(t.length);return t[0==n?0:n-1]=e}}),i("lastItem"))},"33Wh":function(e,t,n){var r=n("yoRg"),i=n("eDl+");e.exports=Object.keys||function(e){return r(e,i)}},"33yf":function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),a="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,l=0;l<a;l++)if(i[l]!==o[l]){s=l;break}var u=[];for(l=s;l<i.length;l++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("Q2Ig"))},"3A9y":function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},"3Fdi":function(e,t){var n=Function.prototype,r=n.toString;function i(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+""}catch(t){}}return""}e.exports=i},"3I1R":function(e,t,n){var r=n("dG/n");r("hasInstance")},"3KPF":function(e,t,n){e.exports={products:"products___1OSSC",container:"container___36gd3",show:"show___2Plr-",mask:"mask___F1CNs",product:"product___2o3ZI",productContent:"productContent___jVyaM",productSlogan:"productSlogan___3W7ut",productDescription:"productDescription___1PGId",productLinks:"productLinks___2F66m"}},"3L5V":function(e,t,n){(function(t){(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var i=function(){function e(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null}return e}();function o(e,t){return e>t?1:e<t?-1:0}function a(e,t,n){var r=new i(null,null),o=r,a=r;while(1){var s=n(e,t.key);if(s<0){if(null===t.left)break;if(n(e,t.left.key)<0){var l=t.left;if(t.left=l.right,l.right=t,t=l,null===t.left)break}a.left=t,a=t,t=t.left}else{if(!(s>0))break;if(null===t.right)break;if(n(e,t.right.key)>0){l=t.right;if(t.right=l.left,l.left=t,t=l,null===t.right)break}o.right=t,o=t,t=t.right}}return o.right=t.left,a.left=t.right,t.left=r.right,t.right=r.left,t}function s(e,t,n,r){var o=new i(e,t);if(null===n)return o.left=o.right=null,o;n=a(e,n,r);var s=r(e,n.key);return s<0?(o.left=n.left,o.right=n,n.left=null):s>=0&&(o.right=n.right,o.left=n,n.right=null),o}function l(e,t,n){var r=null,i=null;if(t){t=a(e,t,n);var o=n(t.key,e);0===o?(r=t.left,i=t.right):o<0?(i=t.right,t.right=null,r=t):(r=t.left,t.left=null,i=t)}return{left:r,right:i}}function u(e,t,n){return null===t?e:(null===e||(t=a(e.key,t,n),t.left=e),t)}function c(e,t,n,r,i){if(e){r(t+(n?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+i(e)+"\n");var o=t+(n?"    ":"\u2502   ");e.left&&c(e.left,o,!1,r,i),e.right&&c(e.right,o,!0,r,i)}}var f=function(){function e(e){void 0===e&&(e=o),this._root=null,this._size=0,this._comparator=e}return e.prototype.insert=function(e,t){return this._size++,this._root=s(e,t,this._root,this._comparator)},e.prototype.add=function(e,t){var n=new i(e,t);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var r=this._comparator,o=a(e,this._root,r),s=r(e,o.key);return 0===s?this._root=o:(s<0?(n.left=o.left,n.right=o,o.left=null):s>0&&(n.right=o.right,n.left=o,o.right=null),this._size++,this._root=n),this._root},e.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},e.prototype._remove=function(e,t,n){var r;if(null===t)return null;t=a(e,t,n);var i=n(e,t.key);return 0===i?(null===t.left?r=t.right:(r=a(e,t.left,n),r.right=t.right),this._size--,r):t},e.prototype.pop=function(){var e=this._root;if(e){while(e.left)e=e.left;return this._root=a(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},e.prototype.findStatic=function(e){var t=this._root,n=this._comparator;while(t){var r=n(e,t.key);if(0===r)return t;t=r<0?t.left:t.right}return null},e.prototype.find=function(e){return this._root&&(this._root=a(e,this._root,this._comparator),0!==this._comparator(e,this._root.key))?null:this._root},e.prototype.contains=function(e){var t=this._root,n=this._comparator;while(t){var r=n(e,t.key);if(0===r)return!0;t=r<0?t.left:t.right}return!1},e.prototype.forEach=function(e,t){var n=this._root,r=[],i=!1;while(!i)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),e.call(t,n),n=n.right):i=!0;return this},e.prototype.range=function(e,t,n,r){var i,o=[],a=this._comparator,s=this._root;while(0!==o.length||s)if(s)o.push(s),s=s.left;else{if(s=o.pop(),i=a(s.key,t),i>0)break;if(a(s.key,e)>=0&&n.call(r,s))return this;s=s.right}return this},e.prototype.keys=function(){var e=[];return this.forEach((function(t){var n=t.key;return e.push(n)})),e},e.prototype.values=function(){var e=[];return this.forEach((function(t){var n=t.data;return e.push(n)})),e},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(e){if(void 0===e&&(e=this._root),e)while(e.left)e=e.left;return e},e.prototype.maxNode=function(e){if(void 0===e&&(e=this._root),e)while(e.right)e=e.right;return e},e.prototype.at=function(e){var t=this._root,n=!1,r=0,i=[];while(!n)if(t)i.push(t),t=t.left;else if(i.length>0){if(t=i.pop(),r===e)return t;r++,t=t.right}else n=!0;return null},e.prototype.next=function(e){var t=this._root,n=null;if(e.right){n=e.right;while(n.left)n=n.left;return n}var r=this._comparator;while(t){var i=r(e.key,t.key);if(0===i)break;i<0?(n=t,t=t.left):t=t.right}return n},e.prototype.prev=function(e){var t=this._root,n=null;if(null!==e.left){n=e.left;while(n.right)n=n.right;return n}var r=this._comparator;while(t){var i=r(e.key,t.key);if(0===i)break;i<0?t=t.left:(n=t,t=t.right)}return n},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return h(this._root)},e.prototype.load=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1);var r=e.length,i=this._comparator;if(n&&g(e,t,0,r-1,i),null===this._root)this._root=p(e,t,0,r),this._size=r;else{var o=m(this.toList(),d(e,t),i);r=this._size+r,this._root=v({head:o},0,r)}return this},e.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){void 0===e&&(e=function(e){return String(e.key)});var t=[];return c(this._root,"",!0,(function(e){return t.push(e)}),e),t.join("")},e.prototype.update=function(e,t,n){var r=this._comparator,i=l(e,this._root,r),o=i.left,a=i.right;r(e,t)<0?a=s(t,n,a,r):o=s(t,n,o,r),this._root=u(o,a,r)},e.prototype.split=function(e){return l(e,this._root,this._comparator)},e}();function p(e,t,n,r){var o=r-n;if(o>0){var a=n+Math.floor(o/2),s=e[a],l=t[a],u=new i(s,l);return u.left=p(e,t,n,a),u.right=p(e,t,a+1,r),u}return null}function d(e,t){for(var n=new i(null,null),r=n,o=0;o<e.length;o++)r=r.next=new i(e[o],t[o]);return r.next=null,n.next}function h(e){var t=e,n=[],r=!1,o=new i(null,null),a=o;while(!r)t?(n.push(t),t=t.left):n.length>0?(t=a=a.next=n.pop(),t=t.right):r=!0;return a.next=null,o.next}function v(e,t,n){var r=n-t;if(r>0){var i=t+Math.floor(r/2),o=v(e,t,i),a=e.head;return a.left=o,e.head=e.head.next,a.right=v(e,i+1,n),a}return null}function m(e,t,n){var r=new i(null,null),o=r,a=e,s=t;while(null!==a&&null!==s)n(a.key,s.key)<0?(o.next=a,a=a.next):(o.next=s,s=s.next),o=o.next;return null!==a?o.next=a:null!==s&&(o.next=s),r.next}function g(e,t,n,r,i){if(!(n>=r)){var o=e[n+r>>1],a=n-1,s=r+1;while(1){do{a++}while(i(e[a],o)<0);do{s--}while(i(e[s],o)>0);if(a>=s)break;var l=e[a];e[a]=e[s],e[s]=l,l=t[a],t[a]=t[s],t[s]=l}g(e,t,n,s,i),g(e,t,s+1,r,i)}}var y=function(e,t){return e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y},b=function(e,t){if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;var n=e.ll.x<t.ll.x?t.ll.x:e.ll.x,r=e.ur.x<t.ur.x?e.ur.x:t.ur.x,i=e.ll.y<t.ll.y?t.ll.y:e.ll.y,o=e.ur.y<t.ur.y?e.ur.y:t.ur.y;return{ll:{x:n,y:i},ur:{x:r,y:o}}},_=Number.EPSILON;void 0===_&&(_=Math.pow(2,-52));var E=_*_,x=function(e,t){if(-_<e&&e<_&&-_<t&&t<_)return 0;var n=e-t;return n*n<E*e*t?0:e<t?-1:1},w=function(){function t(){e(this,t),this.reset()}return r(t,[{key:"reset",value:function(){this.xRounder=new S,this.yRounder=new S}},{key:"round",value:function(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}}]),t}(),S=function(){function t(){e(this,t),this.tree=new f,this.round(0)}return r(t,[{key:"round",value:function(e){var t=this.tree.add(e),n=this.tree.prev(t);if(null!==n&&0===x(t.key,n.key))return this.tree.remove(e),n.key;var r=this.tree.next(t);return null!==r&&0===x(t.key,r.key)?(this.tree.remove(e),r.key):e}}]),t}(),O=new w,C=function(e,t){return e.x*t.y-e.y*t.x},A=function(e,t){return e.x*t.x+e.y*t.y},P=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y},o=C(r,i);return x(o,0)},k=function(e){return Math.sqrt(A(e,e))},M=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return C(i,r)/k(i)/k(r)},T=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return A(i,r)/k(i)/k(r)},L=function(e,t,n){return 0===t.y?null:{x:e.x+t.x/t.y*(n-e.y),y:n}},I=function(e,t,n){return 0===t.x?null:{x:n,y:e.y+t.y/t.x*(n-e.x)}},D=function(e,t,n,r){if(0===t.x)return I(n,r,e.x);if(0===r.x)return I(e,t,n.x);if(0===t.y)return L(n,r,e.y);if(0===r.y)return L(e,t,n.y);var i=C(t,r);if(0==i)return null;var o={x:n.x-e.x,y:n.y-e.y},a=C(o,t)/i,s=C(o,r)/i,l=e.x+s*t.x,u=n.x+a*r.x,c=e.y+s*t.y,f=n.y+a*r.y,p=(l+u)/2,d=(c+f)/2;return{x:p,y:d}},R=function(){function t(n,r){e(this,t),void 0===n.events?n.events=[this]:n.events.push(this),this.point=n,this.isLeft=r}return r(t,null,[{key:"compare",value:function(e,n){var r=t.comparePoints(e.point,n.point);return 0!==r?r:(e.point!==n.point&&e.link(n),e.isLeft!==n.isLeft?e.isLeft?1:-1:j.compare(e.segment,n.segment))}},{key:"comparePoints",value:function(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}}]),r(t,[{key:"link",value:function(e){if(e.point===this.point)throw new Error("Tried to link already linked events");for(var t=e.point.events,n=0,r=t.length;n<r;n++){var i=t[n];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var e=this.point.events.length,t=0;t<e;t++){var n=this.point.events[t];if(void 0===n.segment.consumedBy)for(var r=t+1;r<e;r++){var i=this.point.events[r];void 0===i.consumedBy&&(n.otherSE.point.events===i.otherSE.point.events&&n.segment.consume(i.segment))}}}},{key:"getAvailableLinkedEvents",value:function(){for(var e=[],t=0,n=this.point.events.length;t<n;t++){var r=this.point.events[t];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&e.push(r)}return e}},{key:"getLeftmostComparator",value:function(e){var t=this,n=new Map,r=function(r){var i=r.otherSE;n.set(r,{sine:M(t.point,e.point,i.point),cosine:T(t.point,e.point,i.point)})};return function(e,t){n.has(e)||r(e),n.has(t)||r(t);var i=n.get(e),o=i.sine,a=i.cosine,s=n.get(t),l=s.sine,u=s.cosine;return o>=0&&l>=0?a<u?1:a>u?-1:0:o<0&&l<0?a<u?-1:a>u?1:0:l<o?-1:l>o?1:0}}}]),t}(),N=0,j=function(){function t(n,r,i,o){e(this,t),this.id=++N,this.leftSE=n,n.segment=this,n.otherSE=r,this.rightSE=r,r.segment=this,r.otherSE=n,this.rings=i,this.windings=o}return r(t,null,[{key:"compare",value:function(e,t){var n=e.leftSE.point.x,r=t.leftSE.point.x,i=e.rightSE.point.x,o=t.rightSE.point.x;if(o<n)return 1;if(i<r)return-1;var a=e.leftSE.point.y,s=t.leftSE.point.y,l=e.rightSE.point.y,u=t.rightSE.point.y;if(n<r){if(s<a&&s<l)return 1;if(s>a&&s>l)return-1;var c=e.comparePoint(t.leftSE.point);if(c<0)return 1;if(c>0)return-1;var f=t.comparePoint(e.rightSE.point);return 0!==f?f:-1}if(n>r){if(a<s&&a<u)return-1;if(a>s&&a>u)return 1;var p=t.comparePoint(e.leftSE.point);if(0!==p)return p;var d=e.comparePoint(t.rightSE.point);return d<0?1:d>0?-1:1}if(a<s)return-1;if(a>s)return 1;if(i<o){var h=t.comparePoint(e.rightSE.point);if(0!==h)return h}if(i>o){var v=e.comparePoint(t.rightSE.point);if(v<0)return 1;if(v>0)return-1}if(i!==o){var m=l-a,g=i-n,y=u-s,b=o-r;if(m>g&&y<b)return 1;if(m<g&&y>b)return-1}return i>o?1:i<o||l<u?-1:l>u?1:e.id<t.id?-1:e.id>t.id?1:0}}]),r(t,[{key:"replaceRightSE",value:function(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}},{key:"comparePoint",value:function(e){if(this.isAnEndpoint(e))return 0;var t=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(t.x===n.x)return e.x===t.x?0:e.x<t.x?1:-1;var i=(e.y-t.y)/r.y,o=t.x+i*r.x;if(e.x===o)return 0;var a=(e.x-t.x)/r.x,s=t.y+a*r.y;return e.y===s?0:e.y<s?-1:1}},{key:"getIntersection",value:function(e){var t=this.bbox(),n=e.bbox(),r=b(t,n);if(null===r)return null;var i=this.leftSE.point,o=this.rightSE.point,a=e.leftSE.point,s=e.rightSE.point,l=y(t,a)&&0===this.comparePoint(a),u=y(n,i)&&0===e.comparePoint(i),c=y(t,s)&&0===this.comparePoint(s),f=y(n,o)&&0===e.comparePoint(o);if(u&&l)return f&&!c?o:!f&&c?s:null;if(u)return c&&i.x===s.x&&i.y===s.y?null:i;if(l)return f&&o.x===a.x&&o.y===a.y?null:a;if(f&&c)return null;if(f)return o;if(c)return s;var p=D(i,this.vector(),a,e.vector());return null===p?null:y(r,p)?O.round(p.x,p.y):null}},{key:"split",value:function(e){var n=[],r=void 0!==e.events,i=new R(e,!0),o=new R(e,!1),a=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(i);var s=new t(i,a,this.rings.slice(),this.windings.slice());return R.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),R.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),o.checkForConsuming()),n}},{key:"swapEvents",value:function(){var e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var t=0,n=this.windings.length;t<n;t++)this.windings[t]*=-1}},{key:"consume",value:function(e){var n=this,r=e;while(n.consumedBy)n=n.consumedBy;while(r.consumedBy)r=r.consumedBy;var i=t.compare(n,r);if(0!==i){if(i>0){var o=n;n=r,r=o}if(n.prev===r){var a=n;n=r,r=a}for(var s=0,l=r.rings.length;s<l;s++){var u=r.rings[s],c=r.windings[s],f=n.rings.indexOf(u);-1===f?(n.rings.push(u),n.windings.push(c)):n.windings[f]+=c}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};for(var t=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys,i=0,o=this.rings.length;i<o;i++){var a=this.rings[i],s=this.windings[i],l=t.indexOf(a);-1===l?(t.push(a),n.push(s)):n[l]+=s}for(var u=[],c=[],f=0,p=t.length;f<p;f++)if(0!==n[f]){var d=t[f],h=d.poly;if(-1===c.indexOf(h))if(d.isExterior)u.push(h);else{-1===c.indexOf(h)&&c.push(h);var v=u.indexOf(d.poly);-1!==v&&u.splice(v,1)}}for(var m=0,g=u.length;m<g;m++){var y=u[m].multiPoly;-1===r.indexOf(y)&&r.push(y)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(X.type){case"union":var n=0===e.length,r=0===t.length;this._isInResult=n!==r;break;case"intersection":var i,o;e.length<t.length?(i=e.length,o=t.length):(i=t.length,o=e.length),this._isInResult=o===X.numMultiPolys&&i<o;break;case"xor":var a=Math.abs(e.length-t.length);this._isInResult=a%2===1;break;case"difference":var s=function(e){return 1===e.length&&e[0].isSubject};this._isInResult=s(e)!==s(t);break;default:throw new Error("Unrecognized operation type found ".concat(X.type))}return this._isInResult}}],[{key:"fromRing",value:function(e,n,r){var i,o,a,s=R.comparePoints(e,n);if(s<0)i=e,o=n,a=1;else{if(!(s>0))throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));i=n,o=e,a=-1}var l=new R(i,!0),u=new R(o,!1);return new t(l,u,[r],[a])}}]),t}(),F=function(){function t(n,r,i){if(e(this,t),!Array.isArray(n)||0===n.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=i,this.segments=[],"number"!==typeof n[0][0]||"number"!==typeof n[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var o=O.round(n[0][0],n[0][1]);this.bbox={ll:{x:o.x,y:o.y},ur:{x:o.x,y:o.y}};for(var a=o,s=1,l=n.length;s<l;s++){if("number"!==typeof n[s][0]||"number"!==typeof n[s][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var u=O.round(n[s][0],n[s][1]);u.x===a.x&&u.y===a.y||(this.segments.push(j.fromRing(a,u,this)),u.x<this.bbox.ll.x&&(this.bbox.ll.x=u.x),u.y<this.bbox.ll.y&&(this.bbox.ll.y=u.y),u.x>this.bbox.ur.x&&(this.bbox.ur.x=u.x),u.y>this.bbox.ur.y&&(this.bbox.ur.y=u.y),a=u)}o.x===a.x&&o.y===a.y||this.segments.push(j.fromRing(a,o,this))}return r(t,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,n=this.segments.length;t<n;t++){var r=this.segments[t];e.push(r.leftSE),e.push(r.rightSE)}return e}}]),t}(),B=function(){function t(n,r){if(e(this,t),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new F(n[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var i=1,o=n.length;i<o;i++){var a=new F(n[i],this,!1);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.interiorRings.push(a)}this.multiPoly=r}return r(t,[{key:"getSweepEvents",value:function(){for(var e=this.exteriorRing.getSweepEvents(),t=0,n=this.interiorRings.length;t<n;t++)for(var r=this.interiorRings[t].getSweepEvents(),i=0,o=r.length;i<o;i++)e.push(r[i]);return e}}]),t}(),U=function(){function t(n,r){if(e(this,t),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"===typeof n[0][0][0]&&(n=[n])}catch(s){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var i=0,o=n.length;i<o;i++){var a=new B(n[i],this);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.polys.push(a)}this.isSubject=r}return r(t,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,n=this.polys.length;t<n;t++)for(var r=this.polys[t].getSweepEvents(),i=0,o=r.length;i<o;i++)e.push(r[i]);return e}}]),t}(),z=function(){function t(n){e(this,t),this.events=n;for(var r=0,i=n.length;r<i;r++)n[r].segment.ringOut=this;this.poly=null}return r(t,null,[{key:"factory",value:function(e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];if(o.isInResult()&&!o.ringOut){var a=null,s=o.leftSE,l=o.rightSE,u=[s],c=s.point,f=[];while(1){if(a=s,s=l,u.push(s),s.point===c)break;while(1){var p=s.getAvailableLinkedEvents();if(0===p.length){var d=u[0].point,h=u[u.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(d.x,",")+" ".concat(d.y,"]. Last matching segment found ends at")+" [".concat(h.x,", ").concat(h.y,"]."))}if(1===p.length){l=p[0].otherSE;break}for(var v=null,m=0,g=f.length;m<g;m++)if(f[m].point===s.point){v=m;break}if(null===v){f.push({index:u.length,point:s.point});var y=s.getLeftmostComparator(a);l=p.sort(y)[0].otherSE;break}var b=f.splice(v)[0],_=u.splice(b.index);_.unshift(_[0].otherSE),n.push(new t(_.reverse()))}}n.push(new t(u))}}return n}}]),r(t,[{key:"getGeom",value:function(){for(var e=this.events[0].point,t=[e],n=1,r=this.events.length-1;n<r;n++){var i=this.events[n].point,o=this.events[n+1].point;0!==P(i,e,o)&&(t.push(i),e=i)}if(1===t.length)return null;var a=t[0],s=t[1];0===P(a,e,s)&&t.shift(),t.push(t[0]);for(var l=this.isExteriorRing()?1:-1,u=this.isExteriorRing()?0:t.length-1,c=this.isExteriorRing()?t.length:-1,f=[],p=u;p!=c;p+=l)f.push([t[p].x,t[p].y]);return f}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var e=this.events[0],t=1,n=this.events.length;t<n;t++){var r=this.events[t];R.compare(e,r)>0&&(e=r)}var i=e.segment.prevInResult(),o=i?i.prevInResult():null;while(1){if(!i)return null;if(!o)return i.ringOut;if(o.ringOut!==i.ringOut)return o.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}]),t}(),H=function(){function t(n){e(this,t),this.exteriorRing=n,n.poly=this,this.interiorRings=[]}return r(t,[{key:"addInterior",value:function(e){this.interiorRings.push(e),e.poly=this}},{key:"getGeom",value:function(){var e=[this.exteriorRing.getGeom()];if(null===e[0])return null;for(var t=0,n=this.interiorRings.length;t<n;t++){var r=this.interiorRings[t].getGeom();null!==r&&e.push(r)}return e}}]),t}(),V=function(){function t(n){e(this,t),this.rings=n,this.polys=this._composePolys(n)}return r(t,[{key:"getGeom",value:function(){for(var e=[],t=0,n=this.polys.length;t<n;t++){var r=this.polys[t].getGeom();null!==r&&e.push(r)}return e}},{key:"_composePolys",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(!i.poly)if(i.isExteriorRing())t.push(new H(i));else{var o=i.enclosingRing();o.poly||t.push(new H(o)),o.poly.addInterior(i)}}return t}}]),t}(),G=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.compare;e(this,t),this.queue=n,this.tree=new f(r),this.segments=[]}return r(t,[{key:"process",value:function(e){var t=e.segment,n=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(t),n;var r=e.isLeft?this.tree.insert(t):this.tree.find(t);if(!r)throw new Error("Unable to find segment #".concat(t.id," ")+"[".concat(t.leftSE.point.x,", ").concat(t.leftSE.point.y,"] -> ")+"[".concat(t.rightSE.point.x,", ").concat(t.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");var i=r,o=r,a=void 0,s=void 0;while(void 0===a)i=this.tree.prev(i),null===i?a=null:void 0===i.key.consumedBy&&(a=i.key);while(void 0===s)o=this.tree.next(o),null===o?s=null:void 0===o.key.consumedBy&&(s=o.key);if(e.isLeft){var l=null;if(a){var u=a.getIntersection(t);if(null!==u&&(t.isAnEndpoint(u)||(l=u),!a.isAnEndpoint(u)))for(var c=this._splitSafely(a,u),f=0,p=c.length;f<p;f++)n.push(c[f])}var d=null;if(s){var h=s.getIntersection(t);if(null!==h&&(t.isAnEndpoint(h)||(d=h),!s.isAnEndpoint(h)))for(var v=this._splitSafely(s,h),m=0,g=v.length;m<g;m++)n.push(v[m])}if(null!==l||null!==d){var y=null;if(null===l)y=d;else if(null===d)y=l;else{var b=R.comparePoints(l,d);y=b<=0?l:d}this.queue.remove(t.rightSE),n.push(t.rightSE);for(var _=t.split(y),E=0,x=_.length;E<x;E++)n.push(_[E])}n.length>0?(this.tree.remove(t),n.push(e)):(this.segments.push(t),t.prev=a)}else{if(a&&s){var w=a.getIntersection(s);if(null!==w){if(!a.isAnEndpoint(w))for(var S=this._splitSafely(a,w),O=0,C=S.length;O<C;O++)n.push(S[O]);if(!s.isAnEndpoint(w))for(var A=this._splitSafely(s,w),P=0,k=A.length;P<k;P++)n.push(A[P])}}this.tree.remove(t)}return n}},{key:"_splitSafely",value:function(e,t){this.tree.remove(e);var n=e.rightSE;this.queue.remove(n);var r=e.split(t);return r.push(n),void 0===e.consumedBy&&this.tree.insert(e),r}}]),t}(),W="undefined"!==typeof t&&Object({NODE_ENV:"production"}).POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,q="undefined"!==typeof t&&Object({NODE_ENV:"production"}).POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Y=function(){function t(){e(this,t)}return r(t,[{key:"run",value:function(e,t,n){X.type=e,O.reset();for(var r=[new U(t,!0)],i=0,o=n.length;i<o;i++)r.push(new U(n[i],!1));if(X.numMultiPolys=r.length,"difference"===X.type){var a=r[0],s=1;while(s<r.length)null!==b(r[s].bbox,a.bbox)?s++:r.splice(s,1)}if("intersection"===X.type)for(var l=0,u=r.length;l<u;l++)for(var c=r[l],p=l+1,d=r.length;p<d;p++)if(null===b(c.bbox,r[p].bbox))return[];for(var h=new f(R.compare),v=0,m=r.length;v<m;v++)for(var g=r[v].getSweepEvents(),y=0,_=g.length;y<_;y++)if(h.insert(g[y]),h.size>W)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");var E=new G(h),x=h.size,w=h.pop();while(w){var S=w.key;if(h.size===x){var C=S.segment;throw new Error("Unable to pop() ".concat(S.isLeft?"left":"right"," SweepEvent ")+"[".concat(S.point.x,", ").concat(S.point.y,"] from segment #").concat(C.id," ")+"[".concat(C.leftSE.point.x,", ").concat(C.leftSE.point.y,"] -> ")+"[".concat(C.rightSE.point.x,", ").concat(C.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(h.size>W)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(E.segments.length>q)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var A=E.process(S),P=0,k=A.length;P<k;P++){var M=A[P];void 0===M.consumedBy&&h.insert(M)}x=h.size,w=h.pop()}O.reset();var T=z.factory(E.segments),L=new V(T);return L.getGeom()}}]),t}(),X=new Y,K=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return X.run("union",e,n)},Z=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return X.run("intersection",e,n)},Q=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return X.run("xor",e,n)},J=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return X.run("difference",e,n)},$={union:K,intersection:Z,xor:Q,difference:J};return $}))}).call(this,n("Q2Ig"))},"3L66":function(e,t,n){var r=n("MMmD"),i=n("ExA7");function o(e){return i(e)&&r(e)}e.exports=o},"3OiW":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=(e,t)=>{var n=e;while(n&&!Array.from(n.classList).includes(t))n=n.parentElement;return n}},"3QDa":function(e,t,n){"use strict";var r=n("5wUe")["default"];function i(){var e=n("q1tI");return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=a(n("nLCz"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return p(e)||f(e,t)||u(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function p(e){if(Array.isArray(e))return e}function d(e,t,n){return Object.entries(e[t]).reduce((function(e,t){var i=r(t,2),o=i[0],a=i[1];return e[o]=a.map((function(e){var t={description:e.description};return Object.keys(e).forEach((function(r){if(r.startsWith("description.")){var i=r.match(/^description\.(.*)$/),o=s(i,2),a=o[1];a&&a===n&&(t.description=e[r])}else t[r]=e[r]})),t})),e}),{})}var h=function(e){var t=(0,i().useContext)(o["default"]),n=t.locale,r=t.apis,a=(0,i().useState)(d(r,e,n)),l=s(a,2),u=l[0],c=l[1];return(0,i().useEffect)((function(){c(d(r,e,n))}),[r,e,n]),u};t["default"]=h},"3bBZ":function(e,t,n){var r=n("2oRo"),i=n("/byt"),o=n("4mDm"),a=n("kRJp"),s=n("tiKp"),l=s("iterator"),u=s("toStringTag"),c=o.values;for(var f in i){var p=r[f],d=p&&p.prototype;if(d){if(d[l]!==c)try{a(d,l,c)}catch(v){d[l]=c}if(d[u]||a(d,u,f),i[f])for(var h in o)if(d[h]!==o[h])try{a(d,h,o[h])}catch(v){d[h]=o[h]}}}},"3cYt":function(e,t){function n(e){return function(t){return null==e?void 0:e[t]}}e.exports=n},"3dHd":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("Q7Ls"),s=n("S2ku"),l=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"\u7ed8\u5236\u5706\u5f62-drawcircle"},i.a.createElement(o["AnchorLink"],{to:"#\u7ed8\u5236\u5706\u5f62-drawcircle","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u7ed8\u5236\u5706\u5f62 DrawCircle"),i.a.createElement("h2",{id:"\u8bf4\u660e"},i.a.createElement(o["AnchorLink"],{to:"#\u8bf4\u660e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u8bf4\u660e"),i.a.createElement("p",null,i.a.createElement("code",null,"DrawCircle")," \u7528\u4e8e\u5728\u5730\u56fe\u4e0a\u7ed8\u5236\u5706\u6570\u636e\u3002"),i.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/rms_2591f5/afts/img/A*yTQwS6d0RngAAAAAAAAAAAAAARQnAQ",width:300}),i.a.createElement("h2",{id:"\u793a\u4f8b"},i.a.createElement(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b"),i.a.createElement(a["a"],{code:"import { DrawCircle, DrawEvent } from '@antv/l7-draw';\n\n// \u5b9e\u4f8b\u5316\nconst drawer = new DrawCircle(scene, {\n  autoActive: false,\n  //  ....\n});\n// \u5f00\u542f\u7ed8\u5236\ndrawer.enable();\n\n// \u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6\ndrawer.on(DrawEvent.Change, (circleList) => {\n  console.log(circleList);\n});",lang:"tsx"}),i.a.createElement("h2",{id:"\u914d\u7f6e"},i.a.createElement(o["AnchorLink"],{to:"#\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u914d\u7f6e"),i.a.createElement("p",null,"options \u914d\u7f6e\u662f Draw \u5b9e\u4f8b\u5316\u7684\u65f6\u5019\uff0c\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u6240\u6709\u7684 options \u914d\u7f6e\u5747\u4e0d\u662f\u5fc5\u4f20\u9879\u3002"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"),i.a.createElement("th",null,"\u793a\u4f8b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"initialData"),i.a.createElement("td",null,"\u8bbe\u7f6e Draw \u7684\u521d\u59cb\u6570\u636e\uff0c",i.a.createElement("code",null,"GeoJSON")," \u7c7b\u578b\u4e2d\u7684 ",i.a.createElement(o["Link"],{to:"https://datatracker.ietf.org/doc/html/rfc7946#section-3.1.6"},"Polygon")," \u6570\u7ec4"),i.a.createElement("td",null,i.a.createElement("code",null,"Feature[]")),i.a.createElement("td",null,i.a.createElement("code",null,"[]")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/circle/initial-data"},"\u521d\u59cb\u5316\u6570\u636e\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"trigger"),i.a.createElement("td",null,"\u9009\u62e9\u7ed8\u5236\u65b9\u5f0f\uff0c\u53ef\u4ee5\u901a\u8fc7 ",i.a.createElement("strong",null,"\u70b9\u51fb")," \u6216\u8005 ",i.a.createElement("strong",null,"\u62d6\u62fd")," \u7684\u65b9\u5f0f\u8fdb\u884c\u7ed8\u5236"),i.a.createElement("td",null,i.a.createElement("code",null,"'click' | 'drag'")),i.a.createElement("td",null,i.a.createElement("code",null,"click")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/circle/create-by-drag"},"\u901a\u8fc7\u62d6\u62fd\u521b\u5efa"))),i.a.createElement("tr",null,i.a.createElement("td",null,"circleSteps"),i.a.createElement("td",null,"\u751f\u6210\u5706\u8fb9\u6846\u7684\u6b65\u6570\uff0c\u6b65\u6570\u8d8a\u591a\u8d8a\u8fd1\u4f3c\u5706"),i.a.createElement("td",null,i.a.createElement("code",null,"number")),i.a.createElement("td",null,i.a.createElement("code",null,"64")),i.a.createElement("td",null,"-")),i.a.createElement("tr",null,i.a.createElement("td",null,"distanceOptions"),i.a.createElement("td",null,"\u8ddd\u79bb\u6587\u672c\u76f8\u5173\u914d\u7f6e"),i.a.createElement("td",null,i.a.createElement("code",null,"false")," | ",i.a.createElement(o["AnchorLink"],{to:"/docs/super/distance#%E9%85%8D%E7%BD%AE"},"Distance")),i.a.createElement("td",null,i.a.createElement("code",null,"false")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/circle/area"},"\u5c55\u793a\u8ddd\u79bb\u548c\u9762\u79ef"))),i.a.createElement("tr",null,i.a.createElement("td",null,"areaOptions"),i.a.createElement("td",null,"\u9762\u79ef\u6587\u672c\u76f8\u5173\u914d\u7f6e"),i.a.createElement("td",null,i.a.createElement("code",null,"false")," | ",i.a.createElement(o["AnchorLink"],{to:"/docs/super/area#%E9%85%8D%E7%BD%AE"},"Area")),i.a.createElement("td",null,i.a.createElement("code",null,"false")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/circle/area"},"\u5c55\u793a\u8ddd\u79bb\u548c\u9762\u79ef"))),i.a.createElement("tr",null,i.a.createElement("td",null,"autoActive"),i.a.createElement("td",null,"\u7ed8\u5236 Polygon \u540e\uff0c\u65b0\u589e\u7684 Polygon \u662f\u5426\u4e3a\u6fc0\u6d3b\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/circle/auto-active"},"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"editable"),i.a.createElement("td",null,"\u7ed8\u5236\u7684 Polygon \u662f\u5426\u652f\u6301\u4e8c\u6b21\u7f16\u8f91\uff08\u62d6\u62fd\u4f4d\u79fb\uff09"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/circle/editable"},"\u7981\u7528\u7f16\u8f91\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"multiple"),i.a.createElement("td",null,"Draw \u662f\u5426\u652f\u6301\u7ed8\u5236\u591a\u4e2a\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/example/circle/multiple#%E5%A7%8B%E7%BB%88%E6%9C%80%E5%A4%9A%E7%BB%98%E5%88%B6%E4%B8%80%E4%B8%AA"},"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a"))),i.a.createElement("tr",null,i.a.createElement("td",null,"style"),i.a.createElement("td",null,"Polygon \u5728\u4e0d\u540c\u72b6\u6001\u4e0b\u7684\u6837\u5f0f"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/docs/super/style#%E9%85%8D%E7%BD%AE"},"Style")),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-")),i.a.createElement("tr",null,i.a.createElement("td",null,"helper"),i.a.createElement("td",null,"\u7ed8\u5236\u63d0\u793a\u6587\u6848\u7684\u914d\u7f6e\uff0c\u652f\u6301\u4f20\u5165 ",i.a.createElement("code",null,"string | Element | DocumentFragment")," \u5728\u63d0\u793a\u6846\u4e2d\u8fdb\u884c\u6e32\u67d3\uff0c\u4f20 ",i.a.createElement("code",null,"false")," \u4e3a\u5173\u95ed\u63d0\u793a\u7ed8\u5236"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"#helper"},"Helper")," | ",i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/common/helper"},"\u63d0\u793a\u6587\u6848"))),i.a.createElement("tr",null,i.a.createElement("td",null,"popup"),i.a.createElement("td",null,"\u7ed8\u5236\u63d0\u793a\u6846\u914d\u7f6e\uff0c\u8be6\u7ec6\u914d\u7f6e\u53ef\u89c1 ",i.a.createElement(o["Link"],{to:"https://atomiks.github.io/tippyjs/v6/all-props/"},"Tippy.js"),"\uff0c\u4f20 ",i.a.createElement("code",null,"false")," \u4e3a\u5173\u95ed\u63d0\u793a\u6846"),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"https://atomiks.github.io/tippyjs/v6/all-props/"},"TippyProps")," | ",i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/common/helper"},"\u63d0\u793a\u6587\u6848"))),i.a.createElement("tr",null,i.a.createElement("td",null,"keyboard"),i.a.createElement("td",null,"\u81ea\u5b9a\u4e49\u5feb\u6377\u952e\u745f\u662f\u5426\u5f00\u542f\uff0c\u4ee5\u53ca\u5bf9\u5e94\u7684\u6309\u952e"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/docs/super/keyboard#%E9%85%8D%E7%BD%AE"},"Keyboard")),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-")),i.a.createElement("tr",null,i.a.createElement("td",null,"history"),i.a.createElement("td",null,"\u4fdd\u5b58\u5386\u53f2\u7ed8\u5236\u6570\u636e\u7684\u76f8\u5173\u914d\u7f6e\uff0c\u6d89\u53ca\u5230\u56de\u9000\u64cd\u4f5c\u7684\u6700\u5927\u64cd\u4f5c\u6b21\u6570"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/docs/super/history#%E9%85%8D%E7%BD%AE"},"History")),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-")))),i.a.createElement("h3",{id:"helper"},i.a.createElement(o["AnchorLink"],{to:"#helper","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"Helper"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"draw"),i.a.createElement("td",null,"\u7ed8\u5236\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u5355\u51fb\u7ed8\u5236\u9996\u4e2a\u8282\u70b9'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"drawFinish"),i.a.createElement("td",null,"\u7ed8\u5236\u8fc7\u7a0b\u4e2d\uff0c\u8282\u70b9\u4e2a\u6570\u5df2\u7ecf\u53ef\u4ee5\u751f\u6210\u95ed\u5408\u9762\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u5355\u51fb\u7ed3\u675f\u7ed8\u5236'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"pointHover"),i.a.createElement("td",null,"\u5149\u6807\u60ac\u505c\u5728\u70b9\u4e0a\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u53ef\u62d6\u62fd\u8c03\u6574\u8282\u70b9\u4f4d\u7f6e'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"pointDrag"),i.a.createElement("td",null,"\u62d6\u62fd\u70b9\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"null"))),i.a.createElement("tr",null,i.a.createElement("td",null,"lineHover"),i.a.createElement("td",null,"\u5149\u6807\u60ac\u505c\u5728\u7ebf\u4e0a\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u53ef\u62d6\u62fd\u8c03\u6574\u5706\u4f4d\u7f6e'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"lineDrag"),i.a.createElement("td",null,"\u62d6\u62fd\u7ebf\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"null"))),i.a.createElement("tr",null,i.a.createElement("td",null,"polygonHover"),i.a.createElement("td",null,"\u5149\u6807\u60ac\u505c\u5728\u9762\u4e0a\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u53ef\u62d6\u62fd\u8c03\u6574\u5706\u4f4d\u7f6e'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"polygonDrag"),i.a.createElement("td",null,"\u62d6\u62fd\u9762\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"null"))))),i.a.createElement("h2",{id:"\u65b9\u6cd5"},i.a.createElement(o["AnchorLink"],{to:"#\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u65b9\u6cd5")),i.a.createElement(i.a.Fragment,{children:i.a.createElement(n("KNbE").default)}),i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u4e8b\u4ef6"},i.a.createElement(o["AnchorLink"],{to:"#\u4e8b\u4ef6","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u4e8b\u4ef6"),i.a.createElement("p",null,i.a.createElement(o["Link"],{to:"/example/circle/event"},"\u76d1\u542c\u4e8b\u4ef6\u793a\u4f8b"))),i.a.createElement(i.a.Fragment,{children:i.a.createElement(n("uCgz").default)})))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(l,{demos:n})}},"3uUd":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("A2ZE"),u=n("SEBh"),c=n("WGBp"),f=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{filter:function(e){var t=a(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,o("Set"))),p=s(i.add);return f(n,(function(e){r(e,e,t)&&p.call(i,e)}),void 0,!1,!0),i}})},"406g":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n("z4Hk"),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},"49+q":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("fXLg");r({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},"49qf":function(e,t,n){},"4Brf":function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),o=n("2oRo"),a=n("UTVS"),s=n("hh1v"),l=n("m/L8").f,u=n("6JNq"),c=o.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var f={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new c(e):void 0===e?c():c(e);return""===e&&(f[t]=!0),t};u(p,c);var d=p.prototype=c.prototype;d.constructor=p;var h=d.toString,v="Symbol(test)"==String(c("test")),m=/^Symbol\((.*)\)[^)]+$/;l(d,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=h.call(e);if(a(f,e))return"";var n=v?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},"4IlW":function(e,t,n){"use strict";var r={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=r.F1&&t<=r.F12)return!1;switch(t){case r.ALT:case r.CAPS_LOCK:case r.CONTEXT_MENU:case r.CTRL:case r.DOWN:case r.END:case r.ESC:case r.HOME:case r.INSERT:case r.LEFT:case r.MAC_FF_META:case r.META:case r.NUMLOCK:case r.NUM_CENTER:case r.PAGE_DOWN:case r.PAGE_UP:case r.PAUSE:case r.PRINT_SCREEN:case r.RIGHT:case r.SHIFT:case r.UP:case r.WIN_KEY:case r.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=r.ZERO&&e<=r.NINE)return!0;if(e>=r.NUM_ZERO&&e<=r.NUM_MULTIPLY)return!0;if(e>=r.A&&e<=r.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case r.SPACE:case r.QUESTION_MARK:case r.NUM_PLUS:case r.NUM_MINUS:case r.NUM_PERIOD:case r.NUM_DIVISION:case r.SEMICOLON:case r.DASH:case r.EQUALS:case r.COMMA:case r.PERIOD:case r.SLASH:case r.APOSTROPHE:case r.SINGLE_QUOTE:case r.OPEN_SQUARE_BRACKET:case r.BACKSLASH:case r.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};t["a"]=r},"4JlD":function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},"4WOD":function(e,t,n){var r=n("UTVS"),i=n("ewvW"),o=n("93I0"),a=n("4Xet"),s=o("IE_PROTO"),l=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},"4XVi":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("Q7Ls"),s=n("S2ku"),l=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"\u7ed8\u5236\u9762-drawpolygon"},i.a.createElement(o["AnchorLink"],{to:"#\u7ed8\u5236\u9762-drawpolygon","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u7ed8\u5236\u9762 DrawPolygon"),i.a.createElement("h2",{id:"\u8bf4\u660e"},i.a.createElement(o["AnchorLink"],{to:"#\u8bf4\u660e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u8bf4\u660e"),i.a.createElement("p",null,i.a.createElement("code",null,"DrawPolygon")," \u7528\u4e8e\u5728\u5730\u56fe\u4e0a\u7ed8\u5236\u9762\u6570\u636e\u3002"),i.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/rms_2591f5/afts/img/A*PEWMTJnCKcYAAAAAAAAAAAAAARQnAQ",width:300}),i.a.createElement("h2",{id:"\u793a\u4f8b"},i.a.createElement(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b"),i.a.createElement(a["a"],{code:"import { DrawEvent, DrawPolygon } from '@antv/l7-draw';\n\n// \u5b9e\u4f8b\u5316\nconst drawer = new DrawPolygon(scene, {\n  autoActive: false,\n  //  ....\n});\n// \u5f00\u542f\u7ed8\u5236\ndrawer.enable();\n\n// \u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6\ndrawer.on(DrawEvent.Change, (polygonList) => {\n  console.log(polygonList);\n});",lang:"tsx"}),i.a.createElement("h2",{id:"\u914d\u7f6e"},i.a.createElement(o["AnchorLink"],{to:"#\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u914d\u7f6e"),i.a.createElement("p",null,"options \u914d\u7f6e\u662f Draw \u5b9e\u4f8b\u5316\u7684\u65f6\u5019\uff0c\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u6240\u6709\u7684 options \u914d\u7f6e\u5747\u4e0d\u662f\u5fc5\u4f20\u9879\u3002"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"),i.a.createElement("th",null,"\u793a\u4f8b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"initialData"),i.a.createElement("td",null,"\u8bbe\u7f6e Draw \u7684\u521d\u59cb\u6570\u636e\uff0c",i.a.createElement("code",null,"GeoJSON")," \u7c7b\u578b\u4e2d\u7684 ",i.a.createElement(o["Link"],{to:"https://datatracker.ietf.org/doc/html/rfc7946#section-3.1.6"},"Polygon")," \u6570\u7ec4"),i.a.createElement("td",null,i.a.createElement("code",null,"Feature[]")),i.a.createElement("td",null,i.a.createElement("code",null,"[]")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/polygon/initial-data"},"\u521d\u59cb\u5316\u6570\u636e\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"showMidPoint"),i.a.createElement("td",null,"\u662f\u5426\u5c55\u793a\u7ebf\u6bb5\u4e2d\u70b9"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/polygon/mid-point"},"\u7981\u7528\u4e2d\u70b9"))),i.a.createElement("tr",null,i.a.createElement("td",null,"distanceOptions"),i.a.createElement("td",null,"\u8ddd\u79bb\u6587\u672c\u76f8\u5173\u914d\u7f6e"),i.a.createElement("td",null,i.a.createElement("code",null,"false")," | ",i.a.createElement(o["AnchorLink"],{to:"/docs/super/distance#%E9%85%8D%E7%BD%AE"},"Distance")),i.a.createElement("td",null,i.a.createElement("code",null,"false")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/polygon/area"},"\u5c55\u793a\u8ddd\u79bb\u548c\u9762\u79ef"))),i.a.createElement("tr",null,i.a.createElement("td",null,"areaOptions"),i.a.createElement("td",null,"\u9762\u79ef\u6587\u672c\u76f8\u5173\u914d\u7f6e"),i.a.createElement("td",null,i.a.createElement("code",null,"false")," | ",i.a.createElement(o["AnchorLink"],{to:"/docs/super/area#%E9%85%8D%E7%BD%AE"},"Area")),i.a.createElement("td",null,i.a.createElement("code",null,"false")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/polygon/area"},"\u5c55\u793a\u8ddd\u79bb\u548c\u9762\u79ef"))),i.a.createElement("tr",null,i.a.createElement("td",null,"adsorbOptions"),i.a.createElement("td",null,"\u5438\u9644\u76f8\u5173\u914d\u7f6e"),i.a.createElement("td",null,i.a.createElement("code",null,"false")," | ",i.a.createElement(o["AnchorLink"],{to:"/docs/super/adsorb#%E9%85%8D%E7%BD%AE"},"Adsorb")),i.a.createElement("td",null,i.a.createElement("code",null,"false")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/polygon/adsorb"},"\u5438\u9644\u80fd\u529b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"liveUpdate"),i.a.createElement("td",null,"\u5728\u7ed8\u5236\u9762\u8fc7\u7a0b\u4e2d\uff0c\u9762\u662f\u5426\u8ddf\u968f\u9f20\u6807\u52a8\u6001\u66f4\u65b0"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"false")),i.a.createElement("td",null,"-")),i.a.createElement("tr",null,i.a.createElement("td",null,"autoActive"),i.a.createElement("td",null,"\u7ed8\u5236 Polygon \u540e\uff0c\u65b0\u589e\u7684 Polygon \u662f\u5426\u4e3a\u6fc0\u6d3b\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/polygon/auto-active"},"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"editable"),i.a.createElement("td",null,"\u7ed8\u5236\u7684 Polygon \u662f\u5426\u652f\u6301\u4e8c\u6b21\u7f16\u8f91\uff08\u62d6\u62fd\u4f4d\u79fb\uff09"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/polygon/editable"},"\u7981\u7528\u7f16\u8f91\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"multiple"),i.a.createElement("td",null,"Draw \u662f\u5426\u652f\u6301\u7ed8\u5236\u591a\u4e2a\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/example/polygon/multiple#%E5%A7%8B%E7%BB%88%E6%9C%80%E5%A4%9A%E7%BB%98%E5%88%B6%E4%B8%80%E4%B8%AA"},"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a"))),i.a.createElement("tr",null,i.a.createElement("td",null,"style"),i.a.createElement("td",null,"Polygon \u5728\u4e0d\u540c\u72b6\u6001\u4e0b\u7684\u6837\u5f0f"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/docs/super/style#%E9%85%8D%E7%BD%AE"},"Style")),i.a.createElement("td",null,"-"),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/polygon/style"},"\u81ea\u5b9a\u4e49\u7d2b\u8272\u6837\u5f0f"))),i.a.createElement("tr",null,i.a.createElement("td",null,"helper"),i.a.createElement("td",null,"\u7ed8\u5236\u63d0\u793a\u6587\u6848\u7684\u914d\u7f6e\uff0c\u652f\u6301\u4f20\u5165 ",i.a.createElement("code",null,"string | Element | DocumentFragment")," \u5728\u63d0\u793a\u6846\u4e2d\u8fdb\u884c\u6e32\u67d3\uff0c\u4f20 ",i.a.createElement("code",null,"false")," \u4e3a\u5173\u95ed\u63d0\u793a\u7ed8\u5236"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"#helper"},"Helper")," | ",i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/common/helper"},"\u63d0\u793a\u6587\u6848"))),i.a.createElement("tr",null,i.a.createElement("td",null,"popup"),i.a.createElement("td",null,"\u7ed8\u5236\u63d0\u793a\u6846\u914d\u7f6e\uff0c\u8be6\u7ec6\u914d\u7f6e\u53ef\u89c1 ",i.a.createElement(o["Link"],{to:"https://atomiks.github.io/tippyjs/v6/all-props/"},"Tippy.js"),"\uff0c\u4f20 ",i.a.createElement("code",null,"false")," \u4e3a\u5173\u95ed\u63d0\u793a\u6846"),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"https://atomiks.github.io/tippyjs/v6/all-props/"},"TippyProps")," | ",i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/common/helper"},"\u63d0\u793a\u6587\u6848"))),i.a.createElement("tr",null,i.a.createElement("td",null,"keyboard"),i.a.createElement("td",null,"\u81ea\u5b9a\u4e49\u5feb\u6377\u952e\u745f\u662f\u5426\u5f00\u542f\uff0c\u4ee5\u53ca\u5bf9\u5e94\u7684\u6309\u952e"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/docs/super/keyboard#%E9%85%8D%E7%BD%AE"},"Keyboard")),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-")),i.a.createElement("tr",null,i.a.createElement("td",null,"history"),i.a.createElement("td",null,"\u4fdd\u5b58\u5386\u53f2\u7ed8\u5236\u6570\u636e\u7684\u76f8\u5173\u914d\u7f6e\uff0c\u6d89\u53ca\u5230\u56de\u9000\u64cd\u4f5c\u7684\u6700\u5927\u64cd\u4f5c\u6b21\u6570"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/docs/super/history#%E9%85%8D%E7%BD%AE"},"History")),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-")))),i.a.createElement("h3",{id:"helper"},i.a.createElement(o["AnchorLink"],{to:"#helper","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"Helper"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"draw"),i.a.createElement("td",null,"\u7ed8\u5236\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u5355\u51fb\u7ed8\u5236\u9996\u4e2a\u8282\u70b9'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"drawContinue"),i.a.createElement("td",null,"\u7ed8\u5236\u8fc7\u7a0b\u4e2d\uff0c\u8282\u70b9\u4e2a\u6570\u8fd8\u65e0\u6cd5\u751f\u6210\u95ed\u5408\u9762\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u5355\u51fb\u7ee7\u7eed\u7ed8\u5236'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"drawFinish"),i.a.createElement("td",null,"\u7ed8\u5236\u8fc7\u7a0b\u4e2d\uff0c\u8282\u70b9\u4e2a\u6570\u5df2\u7ecf\u53ef\u4ee5\u751f\u6210\u95ed\u5408\u9762\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u5355\u51fb\u7ee7\u7eed\u7ed8\u5236\uff0c\u53cc\u51fb\u7ed3\u675f\u7ed8\u5236'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"pointHover"),i.a.createElement("td",null,"\u5149\u6807\u60ac\u505c\u5728\u70b9\u4e0a\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u53ef\u62d6\u62fd\u8c03\u6574\u8282\u70b9\u4f4d\u7f6e'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"pointDrag"),i.a.createElement("td",null,"\u62d6\u62fd\u70b9\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"null"))),i.a.createElement("tr",null,i.a.createElement("td",null,"lineHover"),i.a.createElement("td",null,"\u5149\u6807\u60ac\u505c\u5728\u7ebf\u4e0a\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u53ef\u62d6\u62fd\u8c03\u6574\u9762\u4f4d\u7f6e'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"lineDrag"),i.a.createElement("td",null,"\u62d6\u62fd\u7ebf\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"null"))),i.a.createElement("tr",null,i.a.createElement("td",null,"polygonHover"),i.a.createElement("td",null,"\u5149\u6807\u60ac\u505c\u5728\u9762\u4e0a\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u53ef\u62d6\u62fd\u8c03\u6574\u9762\u4f4d\u7f6e'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"polygonDrag"),i.a.createElement("td",null,"\u62d6\u62fd\u9762\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"null"))),i.a.createElement("tr",null,i.a.createElement("td",null,"midPointHover"),i.a.createElement("td",null,"\u5149\u6807\u60ac\u505c\u5728\u4e2d\u70b9\u4e0a\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u5355\u51fb\u5728\u8be5\u4f4d\u7f6e\u65b0\u589e\u8282\u70b9'"))))),i.a.createElement("h2",{id:"\u65b9\u6cd5"},i.a.createElement(o["AnchorLink"],{to:"#\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u65b9\u6cd5")),i.a.createElement(i.a.Fragment,{children:i.a.createElement(n("yLy4").default)}),i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u4e8b\u4ef6"},i.a.createElement(o["AnchorLink"],{to:"#\u4e8b\u4ef6","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u4e8b\u4ef6"),i.a.createElement("p",null,i.a.createElement(o["Link"],{to:"/example/polygon/event"},"\u76d1\u542c\u4e8b\u4ef6\u793a\u4f8b"))),i.a.createElement(i.a.Fragment,{children:i.a.createElement(n("0KJc").default)})))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(l,{demos:n})}},"4XaG":function(e,t,n){var r=n("dG/n");r("observable")},"4Xet":function(e,t,n){var r=n("0Dky");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"4cb6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=t.getServiceIdentifierAsString=t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=t.decorate=t.id=t.MetadataReader=t.postConstruct=t.targetName=t.multiInject=t.unmanaged=t.optional=t.LazyServiceIdentifer=t.inject=t.named=t.tagged=t.injectable=t.ContainerModule=t.AsyncContainerModule=t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=t.Container=t.METADATA_KEY=void 0;var r=n("xfSm");t.METADATA_KEY=r;var i=n("9Fde");Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return i.Container}});var o=n("FV85");Object.defineProperty(t,"BindingScopeEnum",{enumerable:!0,get:function(){return o.BindingScopeEnum}}),Object.defineProperty(t,"BindingTypeEnum",{enumerable:!0,get:function(){return o.BindingTypeEnum}}),Object.defineProperty(t,"TargetTypeEnum",{enumerable:!0,get:function(){return o.TargetTypeEnum}});var a=n("dxzI");Object.defineProperty(t,"AsyncContainerModule",{enumerable:!0,get:function(){return a.AsyncContainerModule}}),Object.defineProperty(t,"ContainerModule",{enumerable:!0,get:function(){return a.ContainerModule}});var s=n("cZ5Q");Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return s.injectable}});var l=n("0gSV");Object.defineProperty(t,"tagged",{enumerable:!0,get:function(){return l.tagged}});var u=n("ZzCi");Object.defineProperty(t,"named",{enumerable:!0,get:function(){return u.named}});var c=n("Yk9n");Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return c.inject}}),Object.defineProperty(t,"LazyServiceIdentifer",{enumerable:!0,get:function(){return c.LazyServiceIdentifer}});var f=n("jYx5");Object.defineProperty(t,"optional",{enumerable:!0,get:function(){return f.optional}});var p=n("n2J3");Object.defineProperty(t,"unmanaged",{enumerable:!0,get:function(){return p.unmanaged}});var d=n("jIg/");Object.defineProperty(t,"multiInject",{enumerable:!0,get:function(){return d.multiInject}});var h=n("oaX6");Object.defineProperty(t,"targetName",{enumerable:!0,get:function(){return h.targetName}});var v=n("Sk89");Object.defineProperty(t,"postConstruct",{enumerable:!0,get:function(){return v.postConstruct}});var m=n("wnjb");Object.defineProperty(t,"MetadataReader",{enumerable:!0,get:function(){return m.MetadataReader}});var g=n("d9O0");Object.defineProperty(t,"id",{enumerable:!0,get:function(){return g.id}});var y=n("Ztfv");Object.defineProperty(t,"decorate",{enumerable:!0,get:function(){return y.decorate}});var b=n("RR/i");Object.defineProperty(t,"traverseAncerstors",{enumerable:!0,get:function(){return b.traverseAncerstors}}),Object.defineProperty(t,"taggedConstraint",{enumerable:!0,get:function(){return b.taggedConstraint}}),Object.defineProperty(t,"namedConstraint",{enumerable:!0,get:function(){return b.namedConstraint}}),Object.defineProperty(t,"typeConstraint",{enumerable:!0,get:function(){return b.typeConstraint}});var _=n("ujMp");Object.defineProperty(t,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return _.getServiceIdentifierAsString}});var E=n("78VC");Object.defineProperty(t,"multiBindToService",{enumerable:!0,get:function(){return E.multiBindToService}})},"4kuk":function(e,t,n){var r=n("SfRM"),i=n("Hvzi"),o=n("u8Dt"),a=n("ekgI"),s=n("JSQU");function l(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},"4l63":function(e,t,n){var r=n("I+eb"),i=n("wg0c");r({global:!0,forced:parseInt!=i},{parseInt:i})},"4mDm":function(e,t,n){"use strict";var r=n("/GqU"),i=n("RNIs"),o=n("P4y1"),a=n("afO8"),s=n("fdAy"),l="Array Iterator",u=a.set,c=a.getterFor(l);e.exports=s(Array,"Array",(function(e,t){u(this,{type:l,target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},"4oU/":function(e,t,n){var r=n("2oRo"),i=r.isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}},"4qC0":function(e,t,n){var r=n("NykK"),i=n("Z0cm"),o=n("ExA7"),a="[object String]";function s(e){return"string"==typeof e||!i(e)&&o(e)&&r(e)==a}e.exports=s},"4syw":function(e,t,n){var r=n("busE");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},"55Ip":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return E}));var r=n("Ty5D"),i=n("dI71"),o=n("q1tI"),a=n.n(o),s=n("YS25"),l=n("wx14"),u=n("zLVn"),c=n("9R94");a.a.Component;a.a.Component;var f=function(e,t){return"function"===typeof e?e(t):e},p=function(e,t){return"string"===typeof e?Object(s["c"])(e,null,null,t):e},d=function(e){return e},h=a.a.forwardRef;function v(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}"undefined"===typeof h&&(h=d);var m=h((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(u["a"])(e,["innerRef","navigate","onClick"]),s=o.target,c=Object(l["a"])({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||v(e)||(e.preventDefault(),r())}});return c.ref=d!==h&&t||n,a.a.createElement("a",c)}));var g=h((function(e,t){var n=e.component,i=void 0===n?m:n,o=e.replace,s=e.to,v=e.innerRef,g=Object(u["a"])(e,["component","replace","to","innerRef"]);return a.a.createElement(r["h"].Consumer,null,(function(e){e||Object(c["a"])(!1);var n=e.history,r=p(f(s,e.location),e.location),u=r?n.createHref(r):"",m=Object(l["a"])({},g,{href:u,navigate:function(){var t=f(s,e.location),r=o?n.replace:n.push;r(t)}});return d!==h?m.ref=t||v:m.innerRef=v,a.a.createElement(i,m)}))})),y=function(e){return e},b=a.a.forwardRef;function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}"undefined"===typeof b&&(b=y);var E=b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,d=e.activeStyle,h=e.className,v=e.exact,m=e.isActive,E=e.location,x=e.sensitive,w=e.strict,S=e.style,O=e.to,C=e.innerRef,A=Object(u["a"])(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r["h"].Consumer,null,(function(e){e||Object(c["a"])(!1);var n=E||e.location,o=p(f(O,n),n),u=o.pathname,P=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=P?Object(r["i"])(n.pathname,{path:P,exact:v,sensitive:x,strict:w}):null,M=!!(m?m(k,n):k),T=M?_(h,s):h,L=M?Object(l["a"])({},S,{},d):S,I=Object(l["a"])({"aria-current":M&&i||null,className:T,style:L,to:o},A);return y!==b?I.ref=t||C:I.innerRef=C,a.a.createElement(g,I)}))}))},5921:function(e,t,n){var r=n("I+eb"),i=n("P940");r({target:"Map",stat:!0},{of:i})},"5DGS":function(e,t,n){e.exports={notification:"notification___3nVUg",container:"container___2p_0g",number:"number___139Dz",content:"content___1dG8p",description:"description___1z4RY",date:"date___2MSBP",showAndHide0:"showAndHide0___3prGn",showAndHide1:"showAndHide1___2eP_m"}},"5JV0":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("WGBp"),s=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{join:function(e){var t=o(this),n=a(t),r=void 0===e?",":String(e),i=[];return s(n,i.push,i,!1,!0),i.join(r)}})},"5Tg+":function(e,t,n){var r=n("tiKp");t.f=r},"5Tg0":function(e,t,n){(function(e){var r=n("Kz5y"),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?r.Buffer:void 0,l=s?s.allocUnsafe:void 0;function u(e,t){if(t)return e.slice();var n=e.length,r=l?l(n):new e.constructor(n);return e.copy(r),r}e.exports=u}).call(this,n("hOG+")(e))},"5Yz+":function(e,t,n){"use strict";var r=n("/GqU"),i=n("ppGB"),o=n("UMSQ"),a=n("pkCn"),s=n("rkAj"),l=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,f=a("lastIndexOf"),p=s("indexOf",{ACCESSORS:!0,1:0}),d=c||!f||!p;e.exports=d?function(e){if(c)return u.apply(this,arguments)||0;var t=r(this),n=o(t.length),a=n-1;for(arguments.length>1&&(a=l(a,i(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:u},"5Z9U":function(e,t,n){"use strict";t["a"]=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))}},"5mdu":function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},"5nmi":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["point-initialdata"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["point-initialdata"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"5r1n":function(e,t,n){var r=n("I+eb"),i=n("eDxR"),o=n("glrk"),a=i.get,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadata:function(e,t){var n=arguments.length<3?void 0:s(arguments[2]);return a(e,o(t),n)}})},"5s+n":function(e,t,n){"use strict";var r,i,o,a,s=n("I+eb"),l=n("xDBR"),u=n("2oRo"),c=n("0GbY"),f=n("/qmn"),p=n("busE"),d=n("4syw"),h=n("1E5z"),v=n("JiZb"),m=n("hh1v"),g=n("HAuM"),y=n("GarU"),b=n("xrYK"),_=n("iSVu"),E=n("ImZN"),x=n("HH4o"),w=n("SEBh"),S=n("LPSS").set,O=n("tXUg"),C=n("zfnd"),A=n("RN6c"),P=n("8GlL"),k=n("5mdu"),M=n("afO8"),T=n("lMq5"),L=n("tiKp"),I=n("LQDL"),D=L("species"),R="Promise",N=M.get,j=M.set,F=M.getterFor(R),B=f,U=u.TypeError,z=u.document,H=u.process,V=c("fetch"),G=P.f,W=G,q="process"==b(H),Y=!!(z&&z.createEvent&&u.dispatchEvent),X="unhandledrejection",K="rejectionhandled",Z=0,Q=1,J=2,$=1,ee=2,te=T(R,(function(){var e=_(B)!==String(B);if(!e){if(66===I)return!0;if(!q&&"function"!=typeof PromiseRejectionEvent)return!0}if(l&&!B.prototype["finally"])return!0;if(I>=51&&/native code/.test(B))return!1;var t=B.resolve(1),n=function(e){e((function(){}),(function(){}))},r=t.constructor={};return r[D]=n,!(t.then((function(){}))instanceof n)})),ne=te||!x((function(e){B.all(e)["catch"]((function(){}))})),re=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;O((function(){var i=t.value,o=t.state==Q,a=0;while(r.length>a){var s,l,u,c=r[a++],f=o?c.ok:c.fail,p=c.resolve,d=c.reject,h=c.domain;try{f?(o||(t.rejection===ee&&le(e,t),t.rejection=$),!0===f?s=i:(h&&h.enter(),s=f(i),h&&(h.exit(),u=!0)),s===c.promise?d(U("Promise-chain cycle")):(l=re(s))?l.call(s,p,d):p(s)):d(i)}catch(v){h&&!u&&h.exit(),d(v)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&ae(e,t)}))}},oe=function(e,t,n){var r,i;Y?(r=z.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},(i=u["on"+e])?i(r):e===X&&A("Unhandled promise rejection",n)},ae=function(e,t){S.call(u,(function(){var n,r=t.value,i=se(t);if(i&&(n=k((function(){q?H.emit("unhandledRejection",r,e):oe(X,e,r)})),t.rejection=q||se(t)?ee:$,n.error))throw n.value}))},se=function(e){return e.rejection!==$&&!e.parent},le=function(e,t){S.call(u,(function(){q?H.emit("rejectionHandled",e):oe(K,e,t.value)}))},ue=function(e,t,n,r){return function(i){e(t,n,i,r)}},ce=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=J,ie(e,t,!0))},fe=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw U("Promise can't be resolved itself");var i=re(n);i?O((function(){var r={done:!1};try{i.call(n,ue(fe,e,r,t),ue(ce,e,r,t))}catch(o){ce(e,r,o,t)}})):(t.value=n,t.state=Q,ie(e,t,!1))}catch(o){ce(e,{done:!1},o,t)}}};te&&(B=function(e){y(this,B,R),g(e),r.call(this);var t=N(this);try{e(ue(fe,this,t),ue(ce,this,t))}catch(n){ce(this,t,n)}},r=function(e){j(this,{type:R,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Z,value:void 0})},r.prototype=d(B.prototype,{then:function(e,t){var n=F(this),r=G(w(this,B));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=q?H.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=Z&&ie(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=N(e);this.promise=e,this.resolve=ue(fe,e,t),this.reject=ue(ce,e,t)},P.f=G=function(e){return e===B||e===o?new i(e):W(e)},l||"function"!=typeof f||(a=f.prototype.then,p(f.prototype,"then",(function(e,t){var n=this;return new B((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return C(B,V.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:te},{Promise:B}),h(B,R,!1,!0),v(R),o=c(R),s({target:R,stat:!0,forced:te},{reject:function(e){var t=G(this);return t.reject.call(void 0,e),t.promise}}),s({target:R,stat:!0,forced:l||te},{resolve:function(e){return C(l&&this===o?B:this,e)}}),s({target:R,stat:!0,forced:ne},{all:function(e){var t=this,n=G(t),r=n.resolve,i=n.reject,o=k((function(){var n=g(t.resolve),o=[],a=0,s=1;E(e,(function(e){var l=a++,u=!1;o.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,o[l]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=G(t),r=n.reject,i=k((function(){var i=g(t.resolve);E(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},"5wUe":function(e,t,n){var r=n("Q9SF"),i=n("MIOZ"),o=n("mGKP"),a=n("h0XC");function s(e,t){return r(e)||i(e,t)||o(e,t)||a()}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},"5xtp":function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),o=n("6x0u"),a=n("ewvW"),s=n("HAuM"),l=n("m/L8");i&&r({target:"Object",proto:!0,forced:o},{__defineSetter__:function(e,t){l.f(a(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},"5yvC":function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"a",(function(){return c}));var r=n("tJVT"),i=n("k1fw"),o=n("WVt+"),a=n("k/Of"),s=n("ZzG0"),l=n("0lfv"),u=n("I5JD");class c extends s["a"]{constructor(e,t){super(e,t),this.bindPointRenderEvent(),this.bindSceneEvent(),this.bindMidPointRenderEvent(),this.bindLineRenderEvent(),this.bindPolygonRenderEvent()}getDefaultOptions(e){var t=Object(i["a"])(Object(i["a"])({},super.getDefaultOptions(e)),{},{showMidPoint:!1,circleSteps:60});return t.distanceOptions&&(t.distanceOptions.showTotalDistance=!0,void 0===t.distanceOptions.showOnRadius&&(t.distanceOptions.showOnRadius=!0)),t.helper&&(t.helper=Object(i["a"])(Object(i["a"])({},t.helper),u["a"])),t}getDistanceTexts(){var e=this.options.distanceOptions;if(!e)return[];var t=[],n=e.showWhen,r=e.showDashDistance,i=e.format,o=e.showTotalDistance;return t.push(...this.getDashLineDistanceTexts(this.getDashLineData(),{showTotalDistance:!0,format:i,showDashDistance:r}),...this.getLineDistanceTexts(this.getLineData(),{showTotalDistance:o,format:i,showWhen:n})),t}setData(e){var t=e.map((e=>{var t,n,a;e.properties=Object(i["a"])(Object(i["a"])({},Object(l["l"])()),e.properties);var s=null===(t=e.properties)||void 0===t?void 0:t.nodes;if(2!==(null===(n=s)||void 0===n?void 0:n.length)){var u=Object(r["a"])(Object(o["center"])(e).geometry.coordinates,2),c=u[0],f=u[1],p=Object(o["bbox"])(e),d=p[2],h=(p[1]+p[3])/2;s=[Object(l["e"])([c,f]),Object(l["e"])([d,h])],e.properties.nodes=s}var v=s[0],m=s[1],g=!(null===(a=e.properties)||void 0===a||!a.isActive),y=e.properties.line;return y||(y=this.handleCreatePolygonLine(v,m,{isActive:g}),e.properties.line=y),this.handleCreatePolygon([v,m],y,Object(i["a"])(Object(i["a"])({},e.properties),{},{isActive:g}))}));this.source.setData({point:[],midPoint:[],dashLine:[],polygon:t,line:t.map((e=>e.properties.line))}),this.setTextData(this.getAllTexts()),this.editPolygon&&this.setActivePolygon(this.editPolygon)}handleCreatePolygonLine(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(o["distance"])(e,t,{units:"meters"}),i=Object(o["coordAll"])(Object(o["circle"])(e,r,{units:"meters",steps:this.options.circleSteps})),a=i.map((e=>Object(l["e"])(e)));return Object(l["d"])(a,n)}syncPolygonNodes(e,t){var n=e.properties.line,r=t[0],i=t[1],a=Object(o["distance"])(r,i,{units:"meters"}),s=Object(o["coordAll"])(Object(o["circle"])(r,a,{units:"meters",steps:this.options.circleSteps}));return e.properties.nodes=t,e.geometry.coordinates=[s],this.setPolygonData((t=>t.map((t=>Object(l["q"])(t,e)?e:t)))),this.setPointData(e.properties.isDraw?[t[0]]:t),n.properties.nodes.forEach(((e,t)=>{e.geometry.coordinates=s[t]})),n.geometry.coordinates=s,e}onLineDragging(e){var t=this.dragPolygon,n=Object(r["a"])(this.previousPosition,2),i=n[0],o=n[1],s=super.onLineDragging(e);if(t){var u=Object(l["o"])(e),c=Object(r["a"])(u,2),f=c[0],p=c[1],d=t.properties.nodes;d.forEach((e=>{var t=Object(r["a"])(e.geometry.coordinates,2),n=t[0],a=t[1];e.geometry.coordinates=[n+f-i,a+p-o]})),this.syncPolygonNodes(t,t.properties.nodes),this.setActivePolygon(t,{isDrag:!0}),this.emit(a["l"].Dragging,t,this.getPolygonData())}return s}}var f=n("LvDl");class p extends s["b"]{constructor(e,t){super(e,t),this.drawLineFinish=()=>{var e,t=this.drawLine,n=null!==(e=null===t||void 0===t?void 0:t.properties.nodes)&&void 0!==e?e:[];if(t&&!((null===n||void 0===n?void 0:n.length)<=1)){this.setActiveLine(t);var r=this.options,i=r.autoActive,o=r.editable;i&&o||this.handleLineUnClick(t),o&&i?this.setHelper("pointHover"):this.setHelper(this.addable?"draw":null),this.emit(a["l"].Add,t,this.getLineData())}},this.sceneRender.on(a["o"].DblClick,this.drawLineFinish),this.bindPointRenderEvent(),this.bindSceneEvent(),this.bindMidPointRenderEvent(),this.bindLineRenderEvent()}get dragItem(){return this.dragLine}get editItem(){return this.editLine}setData(e){var t=e.map((e=>{var t,n;return e.properties=Object(i["a"])(Object(i["a"])({},Object(l["j"])()),null!==(t=e.properties)&&void 0!==t?t:{}),null!==(n=e.properties.nodes)&&void 0!==n&&n.length||(e.properties.nodes=Object(o["coordAll"])(e).map((e=>Object(l["e"])(e)))),e}));this.source.setData({point:[],midPoint:[],dashLine:[],line:t}),this.setTextData(this.getAllTexts()),this.editLine&&this.setActiveLine(this.editLine)}getData(){return this.getLineData()}getRenderTypes(){return["line","dashLine","midPoint","point","text"]}bindPointRenderEvent(){var e;super.bindPointRenderEvent(),null===(e=this.pointRender)||void 0===e||e.on(a["o"].Contextmenu,this.onPointContextMenu.bind(this))}onPointClick(e){var t,n=this.drawLine,i=null!==(t=null===n||void 0===n?void 0:n.properties.nodes)&&void 0!==t?t:[],o=e.feature;if(Object(l["q"])(o,Object(f["last"])(i)))requestAnimationFrame((()=>{this.drawLineFinish()}));else{var a=Object(r["a"])(o.geometry.coordinates,2),s=a[0],u=a[1];e.lngLat={lng:s,lat:u},this.onPointCreate(e)}}removeNode(e,t){var n,r=this.getTargetFeature(t),i=this.getTargetFeature(e,null!==(n=null===r||void 0===r?void 0:r.properties.nodes)&&void 0!==n?n:[]);if(r&&i){var o,s=null!==(o=null===r||void 0===r?void 0:r.properties.nodes)&&void 0!==o?o:[];if(s.length<3)return;this.syncLineNodes(r,s.filter((e=>!Object(l["q"])(i,e)))),this.emit(a["l"].RemoveNode,i,r,this.getLineData()),this.emit(a["l"].Edit,r,this.getLineData())}}onPointContextMenu(e){var t,n=this.editLine,r=e.feature,i=null!==(t=null===n||void 0===n?void 0:n.properties.nodes)&&void 0!==t?t:[];if(n&&!(i.length<3))return this.removeNode(r,n),r}onPointCreate(e){if(this.addable){var t=super.onPointCreate(e);return t&&(this.setHelper("drawFinish"),this.emit(a["l"].AddNode,t,this.drawLine,this.getLineData())),t}}onPointDragEnd(e){var t=this.editLine,n=super.onPointDragEnd(e);return t&&n&&this.emit(a["l"].Edit,t,this.getLineData()),n}onLineDragStart(e){var t=super.onLineDragStart(e);return t&&this.emit(a["l"].DragStart,t,this.getLineData()),t}onLineDragging(e){var t=super.onLineDragging(e);return t&&this.emit(a["l"].Dragging,t,this.getLineData()),t}onLineDragEnd(e){var t=super.onLineDragEnd(e);return t&&(this.emit(a["l"].DragEnd,t,this.getLineData()),this.emit(a["l"].Edit,t,this.getLineData())),t}onMidPointClick(e){var t=this.editLine,n=super.onMidPointClick(e);return t&&n&&(this.emit(a["l"].Edit,t,this.getLineData()),this.emit(a["l"].AddNode,n,t,this.getLineData())),n}onSceneMouseMove(e){var t=this.drawLine;if(t){var n,r=Object(f["last"])(t.properties.nodes),i=Object(l["o"])(e);if(this.options.adsorbOptions)i=null!==(n=this.getAdsorbPosition(i))&&void 0!==n?n:i;this.setDashLineData([Object(l["c"])([i,r.geometry.coordinates])]),this.setTextData(this.getAllTexts())}}setActiveFeature(e){var t=this.getTargetFeature(e);t?this.setActiveLine(t):this.clearActiveLine()}resetFeatures(){var e=this.getLineData();this.drawLine&&(e=e.filter((e=>!e.properties.isDraw)),this.source.setData({point:[],dashLine:[],midPoint:[]}),this.setTextData((e=>e.filter((e=>!e.properties.isActive))))),this.editLine&&this.handleLineUnClick(this.editLine),this.setLineData(e.map((e=>(e.properties=Object(i["a"])(Object(i["a"])({},e.properties),{},{isDrag:!1,isActive:!1,isHover:!1}),e))))}enablePointRenderAction(){var e;(super.enablePointRenderAction(),this.options.editable)&&(null===(e=this.pointRender)||void 0===e||e.enableContextMenu())}disablePointRenderAction(){var e;super.disablePointRenderAction(),null===(e=this.pointRender)||void 0===e||e.disableContextMenu()}bindEnableEvent(){super.bindEnableEvent(),this.enableSceneRenderAction(),this.enablePointRenderAction(),this.enableLineRenderAction(),this.enableMidPointRenderAction(),this.sceneRender.enableDblClick()}unbindEnableEvent(){super.unbindEnableEvent(),this.disableSceneRenderAction(),this.disablePointRenderAction(),this.disableLineRenderAction(),this.disableMidPointRenderAction(),this.sceneRender.disableDblClick()}bindThis(){super.bindThis(),this.bindPointRenderEvent=this.bindPointRenderEvent.bind(this),this.bindSceneEvent=this.bindSceneEvent.bind(this),this.bindLineRenderEvent=this.bindLineRenderEvent.bind(this),this.bindMidPointRenderEvent=this.bindMidPointRenderEvent.bind(this)}}class d extends s["c"]{constructor(e,t){super(e,t),this.bindPointRenderEvent()}get dragItem(){return this.dragPoint}get editItem(){return this.editPoint}getDefaultOptions(e){var t=Object(i["a"])(Object(i["a"])({},this.getCommonOptions(e)),{},{helper:Object(f["cloneDeep"])(u["d"])});return t.style.point=a["h"],t}bindEnableEvent(){super.bindEnableEvent(),this.enablePointRenderAction()}unbindEnableEvent(){super.unbindEnableEvent(),this.disablePointRenderAction()}getRenderTypes(){return["point"]}setData(e){this.setPointData(e.map((e=>{var t;return e.properties=Object(i["a"])(Object(i["a"])({},Object(l["k"])()),null!==(t=e.properties)&&void 0!==t?t:{}),e})))}getData(){return this.getPointData()}onPointCreate(e){if(this.addable){var t=super.onPointCreate(e);if(t)return this.options.editable&&this.setHelper("pointHover"),this.emit(a["l"].Add,t,this.getData()),t}else this.setPointData((e=>e.map((e=>(e.properties=Object(i["a"])(Object(i["a"])({},e.properties),{},{isHover:!1,isActive:!1}),e)))))}onPointMouseMove(e){var t=super.onPointMouseMove(e);return this.options.editable&&!this.dragPoint&&this.setHelper("pointHover"),t}onPointMouseOut(e){var t=super.onPointMouseOut(e);return this.setHelper(this.addable?"draw":null),t}onPointDragStart(e){var t=super.onPointDragStart(e);return this.setHelper("pointDrag"),this.emit(a["l"].DragStart,t,this.getData()),t}onPointDragging(e){var t=super.onPointDragging(e);return t&&this.options.editable&&this.emit(a["l"].Dragging,t,this.getData()),t}onPointDragEnd(e){var t=super.onPointDragEnd(e);return t&&this.options.editable&&(this.setHelper("pointHover"),this.emit(a["l"].DragEnd,t,this.getData()),this.emit(a["l"].Edit,t,this.getData())),t}bindThis(){super.bindThis(),this.bindPointRenderEvent=this.bindPointRenderEvent.bind(this)}onSceneMouseMove(e){}setActiveFeature(e){var t=this.getTargetFeature(e);this.setPointData((e=>e.map((e=>(e.properties.isActive=Object(l["q"])(t,e),e)))))}resetFeatures(){this.setPointData((e=>e.map((e=>(e.properties=Object(i["a"])(Object(i["a"])({},e.properties),{},{isDrag:!1,isActive:!1,isHover:!1}),e)))))}}class h extends s["d"]{constructor(e,t){super(e,t),this.drawPolygonFinish=()=>{var e,t=this.drawPolygon,n=null!==(e=null===t||void 0===t?void 0:t.properties.nodes)&&void 0!==e?e:[];if(t&&!(n.length<3)){t.properties.isDraw=!1,this.syncPolygonNodes(t,n),this.setActivePolygon(t);var r=this.options,i=r.autoActive,o=r.editable;i&&o||this.handlePolygonUnClick(t),o?this.setHelper(i?"pointHover":"polygonHover"):this.setHelper(this.addable?"draw":null),this.emit(a["l"].Add,t,this.getPolygonData())}},this.sceneRender.on(a["o"].DblClick,this.drawPolygonFinish),this.bindPointRenderEvent(),this.bindSceneEvent(),this.bindMidPointRenderEvent(),this.bindLineRenderEvent(),this.bindPolygonRenderEvent()}getDefaultOptions(e){return Object(i["a"])(Object(i["a"])({},super.getDefaultOptions(e)),{},{liveUpdate:!1})}setData(e){var t=e.map((e=>{var t,n;if(e.properties=Object(i["a"])(Object(i["a"])({},Object(l["l"])()),null!==(t=e.properties)&&void 0!==t?t:{}),null===(n=e.properties.nodes)||void 0===n||!n.length){var r=Object(o["coordAll"])(e);r=r.slice(0,r.length-1),e.properties.nodes=r.map((e=>Object(l["e"])(e)))}if(!e.properties.line){var a=e.properties.nodes;e.properties.line=Object(l["d"])([...a,Object(l["e"])(Object(f["first"])(a).geometry.coordinates)])}return e}));this.source.setData({point:[],midPoint:[],dashLine:[],polygon:t,line:t.map((e=>e.properties.line))}),this.setTextData(this.getAllTexts()),this.editPolygon&&this.setActivePolygon(this.editPolygon)}onPointCreate(e){if(this.addable&&!this.dragPoint){var t=super.onPointCreate(e),n=this.drawPolygon,r=this.drawLine;if(t){if(n){this.syncPolygonNodes(n,[...n.properties.nodes,t]),this.setDashLineData([Object(l["c"])([Object(l["o"])(e),n.properties.nodes[0].geometry.coordinates])]);var i=n.properties.nodes.length;i>1&&this.setHelper("drawFinish")}else r&&(this.handleCreatePolygon([t],r),this.setHelper("drawContinue"));this.emit(a["l"].AddNode,t,n,this.getPolygonData())}return t}}onPointClick(e){var t=this.drawPolygon,n=e.feature;if(t){var i=t.properties.nodes;if(i.length>=3&&(Object(l["q"])(Object(f["first"])(i),n)||Object(l["q"])(Object(f["last"])(i),n)))requestAnimationFrame((()=>{this.drawPolygonFinish()}));else{var o=Object(r["a"])(n.geometry.coordinates,2),a=o[0],s=o[1];e.lngLat={lng:a,lat:s},this.onPointCreate(e)}}}onPointDragging(e){var t=this.dragPoint,n=this.editPolygon;if(t&&n){var r=n.properties.line;r.properties.nodes=r.properties.nodes.map((e=>Object(l["q"])(e,t)?t:e));var i=r.properties.nodes,o=i.slice(0,i.length-1),a=Object(f["first"])(i),s=Object(f["last"])(i),u=Object(l["q"])(a,t)||Object(l["q"])(s,t);if(u&&(a.geometry.coordinates=s.geometry.coordinates=Object(l["o"])(e)),this.options.adsorbOptions&&u){var c=this.resetAdsorbLngLat(e);c&&(a.geometry.coordinates=s.geometry.coordinates=c)}super.onPointDragging(e),this.syncPolygonNodes(n,o),this.setActivePolygon(n)}return t}onLineDragging(e){var t=this.dragPolygon,n=super.onLineDragging(e);if(n&&t){var r=n.properties.nodes;this.syncPolygonNodes(t,r.slice(0,r.length-1)),this.emit(a["l"].Dragging,t,this.getPolygonData())}return n}onMidPointClick(e){var t=super.onMidPointClick(e),n=this.editPolygon;return t&&n&&(this.emit(a["l"].Edit,n,this.getPolygonData()),this.emit(a["l"].AddNode,t,n,this.getPolygonData())),t}onSceneMouseMove(e){var t,n=this.drawPolygon,r=null!==(t=null===n||void 0===n?void 0:n.properties.nodes)&&void 0!==t?t:[];if(n&&r.length){this.options.adsorbOptions&&this.resetAdsorbLngLat(e);var i=Object(l["o"])(e),a=[];if(a.push(Object(l["c"])([i,Object(f["first"])(r).geometry.coordinates])),r.length>1&&a.push(Object(l["c"])([i,Object(f["last"])(r).geometry.coordinates])),this.options.liveUpdate&&r.length>=2){var s=Object(o["coordAll"])(Object(o["featureCollection"])(r));n.geometry.coordinates=[[...s,i,s[0]]],this.setPolygonData(this.getPolygonData())}this.setDashLineData(a),this.setTextData(this.getAllTexts())}}removeNode(e,t){var n,r=this.getTargetFeature(t),i=this.getTargetFeature(e,null!==(n=null===r||void 0===r?void 0:r.properties.nodes)&&void 0!==n?n:[]);if(r&&i){var o,s=null!==(o=null===r||void 0===r?void 0:r.properties.nodes)&&void 0!==o?o:[];if(s.length<4)return;this.syncPolygonNodes(r,s.filter((e=>!Object(l["q"])(i,e)))),this.emit(a["l"].RemoveNode,i,r,this.getLineData()),this.emit(a["l"].Edit,r,this.getPolygonData())}}onPointContextMenu(e){var t,n=this.editPolygon,r=e.feature,i=null!==(t=null===n||void 0===n?void 0:n.properties.nodes)&&void 0!==t?t:[];if(n&&!(i.length<4))return i.find((e=>Object(l["q"])(e,r)))||(r=i[0]),this.removeNode(r,n),r}bindPointRenderEvent(){var e;super.bindPointRenderEvent(),null===(e=this.pointRender)||void 0===e||e.on(a["o"].Contextmenu,this.onPointContextMenu.bind(this))}enablePointRenderAction(){var e;(super.enablePointRenderAction(),this.options.editable)&&(null===(e=this.pointRender)||void 0===e||e.enableContextMenu())}disablePointRenderAction(){var e;super.disablePointRenderAction(),null===(e=this.pointRender)||void 0===e||e.disableContextMenu()}}class v extends s["a"]{constructor(e,t){super(e,t),this.bindPointRenderEvent(),this.bindSceneEvent(),this.bindMidPointRenderEvent(),this.bindLineRenderEvent(),this.bindPolygonRenderEvent()}getDefaultOptions(e){var t=super.getDefaultOptions(e);return t.helper&&(t.helper=Object(i["a"])(Object(i["a"])({},t.helper),u["f"])),t}setData(e){var t=e.map((e=>{var t,n,a;e.properties=Object(i["a"])(Object(i["a"])({},Object(l["l"])()),null!==(t=e.properties)&&void 0!==t?t:{});var s=e.properties.nodes;if(2!==(null===(n=s)||void 0===n?void 0:n.length)){var u=Object(o["bbox"])(e),c=Object(r["a"])(u,4),f=c[0],p=c[1],d=c[2],h=c[3];s=[Object(l["e"])([f,p]),Object(l["e"])([d,h])],e.properties.nodes=s}var v=s,m=Object(r["a"])(v,2),g=m[0],y=m[1],b=!(null===(a=e.properties)||void 0===a||!a.isActive),_=e.properties.line;return _||(_=this.handleCreatePolygonLine(g,y,{isActive:b}),e.properties.line=_),this.handleCreatePolygon([g,y],_,Object(i["a"])(Object(i["a"])({},e.properties),{},{isActive:b}))}));this.source.setData({point:[],midPoint:[],dashLine:[],polygon:t,line:t.map((e=>e.properties.line))}),this.setTextData(this.getAllTexts()),this.editPolygon&&this.setActivePolygon(this.editPolygon)}handleCreatePolygonLine(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(o["coordAll"])(Object(o["envelope"])(Object(o["featureCollection"])([e,t]))),i=r.map(((n,r)=>0===r?e:2===r?t:Object(l["e"])(n)));return Object(l["d"])(i,n)}syncPolygonNodes(e,t){var n=e.properties.line,r=Object(o["coordAll"])(Object(o["envelope"])(Object(o["featureCollection"])(t)));e.properties.nodes=t,e.geometry.coordinates=[r],this.setPolygonData((t=>t.map((t=>Object(l["q"])(t,e)?e:t)))),this.setPointData(e.properties.isDraw?[t[0]]:t);var i=n.properties.nodes,a=r.filter((e=>!Object(f["isEqual"])(e,t[0].geometry.coordinates)&&!Object(f["isEqual"])(e,t[1].geometry.coordinates)));return i.forEach(((e,n)=>{var r=[0,0];switch(n){case 0:r=t[0].geometry.coordinates;break;case 1:r=a[0];break;case 2:r=t[1].geometry.coordinates;break;case 3:r=a[1];break;case 4:r=Object(f["cloneDeep"])(t[0].geometry.coordinates);break}e.geometry.coordinates=r})),n.geometry.coordinates=r,e}onLineDragging(e){var t=super.onLineDragging(e),n=this.dragPolygon;if(t&&n){var r=n.properties.line.properties.nodes;this.syncPolygonNodes(n,[r[0],r[2]]),this.setActivePolygon(n,{isDrag:!0}),this.emit(a["l"].Dragging,n,this.getPolygonData())}return t}}},"66V8":function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),o=n("4WOD"),a=n("0rvr"),s=n("fHMY"),l=n("m/L8"),u=n("XGwC"),c=n("ImZN"),f=n("kRJp"),p=n("afO8"),d=p.set,h=p.getterFor("AggregateError"),v=function(e,t){var n=this;if(!(n instanceof v))return new v(e,t);a&&(n=a(new Error(t),o(n)));var r=[];return c(e,r.push,r),i?d(n,{errors:r,type:"AggregateError"}):n.errors=r,void 0!==t&&f(n,"message",String(t)),n};v.prototype=s(Error.prototype,{constructor:u(5,v),message:u(5,""),name:u(5,"AggregateError")}),i&&l.f(v.prototype,"errors",{get:function(){return h(this).errors},configurable:!0}),r({global:!0},{AggregateError:v})},"67WC":function(e,t,n){"use strict";var r,i=n("qYE9"),o=n("g6v/"),a=n("2oRo"),s=n("hh1v"),l=n("UTVS"),u=n("9d/t"),c=n("kRJp"),f=n("busE"),p=n("m/L8").f,d=n("4WOD"),h=n("0rvr"),v=n("tiKp"),m=n("kOOl"),g=a.Int8Array,y=g&&g.prototype,b=a.Uint8ClampedArray,_=b&&b.prototype,E=g&&d(g),x=y&&d(y),w=Object.prototype,S=w.isPrototypeOf,O=v("toStringTag"),C=m("TYPED_ARRAY_TAG"),A=i&&!!h&&"Opera"!==u(a.opera),P=!1,k={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M=function(e){var t=u(e);return"DataView"===t||l(k,t)},T=function(e){return s(e)&&l(k,u(e))},L=function(e){if(T(e))return e;throw TypeError("Target is not a typed array")},I=function(e){if(h){if(S.call(E,e))return e}else for(var t in k)if(l(k,r)){var n=a[t];if(n&&(e===n||S.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},D=function(e,t,n){if(o){if(n)for(var r in k){var i=a[r];i&&l(i.prototype,e)&&delete i.prototype[e]}x[e]&&!n||f(x,e,n?t:A&&y[e]||t)}},R=function(e,t,n){var r,i;if(o){if(h){if(n)for(r in k)i=a[r],i&&l(i,e)&&delete i[e];if(E[e]&&!n)return;try{return f(E,e,n?t:A&&g[e]||t)}catch(s){}}for(r in k)i=a[r],!i||i[e]&&!n||f(i,e,t)}};for(r in k)a[r]||(A=!1);if((!A||"function"!=typeof E||E===Function.prototype)&&(E=function(){throw TypeError("Incorrect invocation")},A))for(r in k)a[r]&&h(a[r],E);if((!A||!x||x===w)&&(x=E.prototype,A))for(r in k)a[r]&&h(a[r].prototype,x);if(A&&d(_)!==x&&h(_,x),o&&!l(x,O))for(r in P=!0,p(x,O,{get:function(){return s(this)?this[C]:void 0}}),k)a[r]&&c(a[r],C,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:P&&C,aTypedArray:L,aTypedArrayConstructor:I,exportTypedArrayMethod:D,exportTypedArrayStaticMethod:R,isView:M,isTypedArray:T,TypedArray:E,TypedArrayPrototype:x}},"6AGu":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n("FV85"),i=n("LKzl"),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},"6JNq":function(e,t,n){var r=n("UTVS"),i=n("Vu81"),o=n("Bs8V"),a=n("m/L8");e.exports=function(e,t){for(var n=i(t),s=a.f,l=o.f,u=0;u<n.length;u++){var c=n[u];r(e,c)||s(e,c,l(t,c))}}},"6LWA":function(e,t,n){var r=n("xrYK");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"6V7H":function(e,t,n){var r=n("dG/n");r("patternMatch")},"6VBw":function(e,t,n){"use strict";var r=n("VTBJ"),i=n("ODXe"),o=n("rePB"),a=n("Ff2n"),s=n("q1tI"),l=n.n(s),u=n("TSYQ"),c=n.n(u),f=Object(s["createContext"])({}),p=f,d=n("U8pU");function h(e,t){v(e)&&(e="100%");var n=m(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t)),e)}function v(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)}function m(e){return"string"===typeof e&&-1!==e.indexOf("%")}function g(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function y(e){return e<=1?"".concat(100*Number(e),"%"):e}function b(e){return 1===e.length?"0"+e:String(e)}function _(e,t,n){return{r:255*h(e,255),g:255*h(t,255),b:255*h(n,255)}}function E(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function x(e,t,n){var r,i,o;if(e=h(e,360),t=h(t,100),n=h(n,100),0===t)i=n,o=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=E(s,a,e+1/3),i=E(s,a,e),o=E(s,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}function w(e,t,n){e=h(e,255),t=h(t,255),n=h(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=r,s=r-i,l=0===r?0:s/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4;break;default:break}o/=6}return{h:o,s:l,v:a}}function S(e,t,n){e=6*h(e,360),t=h(t,100),n=h(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6,u=[n,a,o,o,s,n][l],c=[s,n,n,a,o,o][l],f=[o,o,s,n,n,a][l];return{r:255*u,g:255*c,b:255*f}}function O(e,t,n,r){var i=[b(Math.round(e).toString(16)),b(Math.round(t).toString(16)),b(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function C(e){return A(e)/255}function A(e){return parseInt(e,16)}var P={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function k(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"===typeof e&&(e=N(e)),"object"===typeof e&&(j(e.r)&&j(e.g)&&j(e.b)?(t=_(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):j(e.h)&&j(e.s)&&j(e.v)?(r=y(e.s),i=y(e.v),t=S(e.h,r,i),a=!0,s="hsv"):j(e.h)&&j(e.s)&&j(e.l)&&(r=y(e.s),o=y(e.l),t=x(e.h,r,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=g(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var M="[-\\+]?\\d+%?",T="[-\\+]?\\d*\\.\\d+%?",L="(?:".concat(T,")|(?:").concat(M,")"),I="[\\s|\\(]+(".concat(L,")[,|\\s]+(").concat(L,")[,|\\s]+(").concat(L,")\\s*\\)?"),D="[\\s|\\(]+(".concat(L,")[,|\\s]+(").concat(L,")[,|\\s]+(").concat(L,")[,|\\s]+(").concat(L,")\\s*\\)?"),R={CSS_UNIT:new RegExp(L),rgb:new RegExp("rgb"+I),rgba:new RegExp("rgba"+D),hsl:new RegExp("hsl"+I),hsla:new RegExp("hsla"+D),hsv:new RegExp("hsv"+I),hsva:new RegExp("hsva"+D),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function N(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(P[e])e=P[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=R.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=R.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=R.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=R.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=R.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=R.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=R.hex8.exec(e),n?{r:A(n[1]),g:A(n[2]),b:A(n[3]),a:C(n[4]),format:t?"name":"hex8"}:(n=R.hex6.exec(e),n?{r:A(n[1]),g:A(n[2]),b:A(n[3]),format:t?"name":"hex"}:(n=R.hex4.exec(e),n?{r:A(n[1]+n[1]),g:A(n[2]+n[2]),b:A(n[3]+n[3]),a:C(n[4]+n[4]),format:t?"name":"hex8"}:(n=R.hex3.exec(e),!!n&&{r:A(n[1]+n[1]),g:A(n[2]+n[2]),b:A(n[3]+n[3]),format:t?"name":"hex"})))))))))}function j(e){return Boolean(R.CSS_UNIT.exec(String(e)))}var F=2,B=.16,U=.05,z=.05,H=.15,V=5,G=4,W=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function q(e){var t=e.r,n=e.g,r=e.b,i=w(t,n,r);return{h:360*i.h,s:i.s,v:i.v}}function Y(e){var t=e.r,n=e.g,r=e.b;return"#".concat(O(t,n,r,!1))}function X(e,t,n){var r=n/100,i={r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b};return i}function K(e,t,n){var r;return r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-F*t:Math.round(e.h)+F*t:n?Math.round(e.h)+F*t:Math.round(e.h)-F*t,r<0?r+=360:r>=360&&(r-=360),r}function Z(e,t,n){return 0===e.h&&0===e.s?e.s:(r=n?e.s-B*t:t===G?e.s+B:e.s+U*t,r>1&&(r=1),n&&t===V&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Q(e,t,n){var r;return r=n?e.v+z*t:e.v-H*t,r>1&&(r=1),Number(r.toFixed(2))}function J(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=k(e),i=V;i>0;i-=1){var o=q(r),a=Y(k({h:K(o,i,!0),s:Z(o,i,!0),v:Q(o,i,!0)}));n.push(a)}n.push(Y(r));for(var s=1;s<=G;s+=1){var l=q(r),u=Y(k({h:K(l,s),s:Z(l,s),v:Q(l,s)}));n.push(u)}return"dark"===t.theme?W.map((function(e){var r=e.index,i=e.opacity,o=Y(X(k(t.backgroundColor||"#141414"),k(n[r]),100*i));return o})):n}var $={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},ee={},te={};Object.keys($).forEach((function(e){ee[e]=J($[e]),ee[e].primary=ee[e][5],te[e]=J($[e],{theme:"dark",backgroundColor:"#141414"}),te[e].primary=te[e][5]}));ee.red,ee.volcano,ee.gold,ee.orange,ee.yellow,ee.lime,ee.green,ee.cyan,ee.blue,ee.geekblue,ee.purple,ee.magenta,ee.grey;var ne=n("Kwbf"),re=n("BU3w");function ie(e,t){Object(ne["a"])(e,"[@ant-design/icons] ".concat(t))}function oe(e){return"object"===Object(d["a"])(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===Object(d["a"])(e.icon)||"function"===typeof e.icon)}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];switch(n){case"class":t.className=r,delete t.class;break;default:t[n]=r}return t}),{})}function se(e,t,n){return n?l.a.createElement(e.tag,Object(r["a"])(Object(r["a"])({key:t},ae(e.attrs)),n),(e.children||[]).map((function(n,r){return se(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):l.a.createElement(e.tag,Object(r["a"])({key:t},ae(e.attrs)),(e.children||[]).map((function(n,r){return se(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function le(e){return J(e)[0]}function ue(e){return e?Array.isArray(e)?e:[e]:[]}var ce="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=Object(s["useContext"])(p),n=t.csp;Object(s["useEffect"])((function(){Object(re["a"])(e,"@ant-design-icons",{prepend:!0,csp:n})}),[])},pe=["icon","className","onClick","style","primaryColor","secondaryColor"],de={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function he(e){var t=e.primaryColor,n=e.secondaryColor;de.primaryColor=t,de.secondaryColor=n||le(t),de.calculated=!!n}function ve(){return Object(r["a"])({},de)}var me=function(e){var t=e.icon,n=e.className,i=e.onClick,o=e.style,s=e.primaryColor,l=e.secondaryColor,u=Object(a["a"])(e,pe),c=de;if(s&&(c={primaryColor:s,secondaryColor:l||le(s)}),fe(),ie(oe(t),"icon should be icon definiton, but got ".concat(t)),!oe(t))return null;var f=t;return f&&"function"===typeof f.icon&&(f=Object(r["a"])(Object(r["a"])({},f),{},{icon:f.icon(c.primaryColor,c.secondaryColor)})),se(f.icon,"svg-".concat(f.name),Object(r["a"])({className:n,onClick:i,style:o,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u))};me.displayName="IconReact",me.getTwoToneColors=ve,me.setTwoToneColors=he;var ge=me;function ye(e){var t=ue(e),n=Object(i["a"])(t,2),r=n[0],o=n[1];return ge.setTwoToneColors({primaryColor:r,secondaryColor:o})}function be(){var e=ge.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var _e=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];ye("#1890ff");var Ee=s["forwardRef"]((function(e,t){var n,l=e.className,u=e.icon,f=e.spin,d=e.rotate,h=e.tabIndex,v=e.onClick,m=e.twoToneColor,g=Object(a["a"])(e,_e),y=s["useContext"](p),b=y.prefixCls,_=void 0===b?"anticon":b,E=c()(_,(n={},Object(o["a"])(n,"".concat(_,"-").concat(u.name),!!u.name),Object(o["a"])(n,"".concat(_,"-spin"),!!f||"loading"===u.name),n),l),x=h;void 0===x&&v&&(x=-1);var w=d?{msTransform:"rotate(".concat(d,"deg)"),transform:"rotate(".concat(d,"deg)")}:void 0,S=ue(m),O=Object(i["a"])(S,2),C=O[0],A=O[1];return s["createElement"]("span",Object(r["a"])(Object(r["a"])({role:"img","aria-label":u.name},g),{},{ref:t,tabIndex:x,onClick:v,className:E}),s["createElement"](ge,{icon:u,primaryColor:C,secondaryColor:A,style:w}))}));Ee.displayName="AntdIcon",Ee.getTwoToneColor=be,Ee.setTwoToneColor=ye;t["a"]=Ee},"6VoE":function(e,t,n){var r=n("tiKp"),i=n("P4y1"),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},"6acW":function(e,t,n){var r=n("dt0z"),i=n("gQMU");function o(e){return i(r(e).toLowerCase())}e.exports=o},"6asN":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n("LtsZ"),i=n("zqmC"),o=(0,i.LinkWrapper)(r.NavLink);t["default"]=o},"6cGi":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,i=n("ODXe"),o=n("q1tI"),a=n("mBDr"),s=n("TNol"),l=n("dm2S");function u(e){return void 0!==e}function c(e,t){var n=t||{},c=n.defaultValue,f=n.value,p=n.onChange,d=n.postState,h=Object(l["a"])((function(){var t,n=void 0;return u(f)?(n=f,t=r.PROP):u(c)?(n="function"===typeof c?c():c,t=r.PROP):(n="function"===typeof e?e():e,t=r.INNER),[n,t,n]})),v=Object(i["a"])(h,2),m=v[0],g=v[1],y=u(f)?f:m[0],b=d?d(y):y;Object(s["b"])((function(){g((function(e){var t=Object(i["a"])(e,1),n=t[0];return[f,r.PROP,n]}))}),[f]);var _=o["useRef"](),E=Object(a["a"])((function(e,t){g((function(t){var n=Object(i["a"])(t,3),o=n[0],a=n[1],s=n[2],l="function"===typeof e?e(o):e;if(l===o)return t;var u=a===r.INNER&&_.current!==s?s:o;return[l,r.INNER,u]}),t)})),x=Object(a["a"])(p);return Object(s["a"])((function(){var e=Object(i["a"])(m,3),t=e[0],n=e[1],o=e[2];t!==o&&n===r.INNER&&(x(t,o),_.current=o)}),[m]),[b,E]}(function(e){e[e["INNER"]=0]="INNER",e[e["PROP"]=1]="PROP"})(r||(r={}))},"6ecT":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["point-editable"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["point-editable"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"6gmd":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["GAODE1.x"]="GAODE1.x",e["GAODE2.x"]="GAODE2.x",e["MAPBOX"]="MAPBOX",e["L7MAP"]="L7MAP",e["SIMPLE"]="SIMPLE",e["GLOBEL"]="GLOBEL"}(r||(r={}))},"6nK8":function(e,t,n){var r=n("dVn5"),i=n("fo6e"),o=n("dt0z"),a=n("9NmV");function s(e,t,n){return e=o(e),t=n?void 0:t,void 0===t?i(e)?a(e):r(e):e.match(t)||[]}e.exports=s},"6sVZ":function(e,t){var n=Object.prototype;function r(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||n;return e===r}e.exports=r},"6x0u":function(e,t,n){"use strict";var r=n("xDBR"),i=n("2oRo"),o=n("0Dky");e.exports=r||!o((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}))},"6xEa":function(e,t,n){var r,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var a=t.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(t){if(null===t||void 0===t)return o.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var a=[];return n.forEach((function(t){a.push(e(t))})),o.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,i,o,a={},s={},l="",u="",c="",f=2,p=3,d=2,h=[],v=0,m=0;for(o=0;o<e.length;o+=1)if(l=e.charAt(o),Object.prototype.hasOwnProperty.call(a,l)||(a[l]=p++,s[l]=!0),u=c+l,Object.prototype.hasOwnProperty.call(a,u))c=u;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<d;r++)v<<=1,m==t-1?(m=0,h.push(n(v)),v=0):m++;for(i=c.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1}else{for(i=1,r=0;r<d;r++)v=v<<1|i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1}f--,0==f&&(f=Math.pow(2,d),d++),delete s[c]}else for(i=a[c],r=0;r<d;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1;f--,0==f&&(f=Math.pow(2,d),d++),a[u]=p++,c=String(l)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<d;r++)v<<=1,m==t-1?(m=0,h.push(n(v)),v=0):m++;for(i=c.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1}else{for(i=1,r=0;r<d;r++)v=v<<1|i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1}f--,0==f&&(f=Math.pow(2,d),d++),delete s[c]}else for(i=a[c],r=0;r<d;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1;f--,0==f&&(f=Math.pow(2,d),d++)}for(i=2,r=0;r<d;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1;while(1){if(v<<=1,m==t-1){h.push(n(v));break}m++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var i,o,a,s,l,u,c,f=[],p=4,d=4,h=3,v="",m=[],g={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)f[i]=i;a=0,l=Math.pow(2,2),u=1;while(u!=l)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*u,u<<=1;switch(a){case 0:a=0,l=Math.pow(2,8),u=1;while(u!=l)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*u,u<<=1;c=e(a);break;case 1:a=0,l=Math.pow(2,16),u=1;while(u!=l)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*u,u<<=1;c=e(a);break;case 2:return""}f[3]=c,o=c,m.push(c);while(1){if(g.index>t)return"";a=0,l=Math.pow(2,h),u=1;while(u!=l)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*u,u<<=1;switch(c=a){case 0:a=0,l=Math.pow(2,8),u=1;while(u!=l)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*u,u<<=1;f[d++]=e(a),c=d-1,p--;break;case 1:a=0,l=Math.pow(2,16),u=1;while(u!=l)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*u,u<<=1;f[d++]=e(a),c=d-1,p--;break;case 2:return m.join("")}if(0==p&&(p=Math.pow(2,h),h++),f[c])v=f[c];else{if(c!==d)return null;v=o+o.charAt(0)}m.push(v),f[d++]=o+v.charAt(0),p--,o=v,0==p&&(p=Math.pow(2,h),h++)}}};return o}();r=function(){return i}.call(t,n,t,e),void 0===r||(e.exports=r)},"7+kd":function(e,t,n){var r=n("dG/n");r("isConcatSpreadable")},"7+zs":function(e,t,n){var r=n("kRJp"),i=n("UesL"),o=n("tiKp"),a=o("toPrimitive"),s=Date.prototype;a in s||r(s,a,i)},"702D":function(e,t,n){var r=n("I+eb"),i=n("qY7S");r({target:"WeakMap",stat:!0},{from:i})},"704j":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["polygon-start"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["polygon-start"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"74H1":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("S2ku"),s=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement(a["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"enable"),i.a.createElement("td",null,"\u5f00\u542f\u7ed8\u5236\uff0c\u53c2\u6570 ",i.a.createElement("code",null,"allowCreate")," \u7528\u4e8e\u63a7\u5236 ",i.a.createElement("code",null,"enable")," \u4e4b\u540e\u662f\u5426\u652f\u6301\u65b0\u589e\u7ed8\u5236\u7269\uff0c\u4f20 ",i.a.createElement("code",null,"false")," \u8868\u793a\u53ea\u5141\u8bb8\u7f16\u8f91\u4e0d\u5141\u8bb8\u65b0\u589e\uff0c\u9ed8\u8ba4\u4e3a ",i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement("code",null,"(allowCreate: boolean = true) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"disable"),i.a.createElement("td",null,"\u5173\u95ed\u7ed8\u5236"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"getData"),i.a.createElement("td",null,"\u83b7\u53d6\u5f53\u671f\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"() => Feature[]"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setData"),i.a.createElement("td",null,"\u8986\u76d6\u5e76\u8bbe\u7f6e\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"(features: Feature[]) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"clear"),i.a.createElement("td",null,"\u6e05\u7a7a\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"(disable: boolean) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"show"),i.a.createElement("td",null,"\u663e\u793a\u8be5 Draw \u4e0b\u6240\u6709\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"hide"),i.a.createElement("td",null,"\u9690\u85cf\u8be5 Draw \u4e0b\u6240\u6709\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setActiveFeature"),i.a.createElement("td",null,"\u5c06\u76ee\u6807 Feature \u8bbe\u4e3a\u6fc0\u6d3b\u6001\uff0c\u53ef\u4f20\u76ee\u6807 ",i.a.createElement("code",null,"Feature")," \u672c\u8eab\u6216\u5176 ",i.a.createElement("code",null,"id"),"\uff0c\u4f20 ",i.a.createElement("code",null,"null")," \u6216 ",i.a.createElement("code",null,"undefined")," \u5219\u53d6\u6d88\u6fc0\u6d3b\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"(feature: Feature | string | null | undefined) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"getRenderLayers"),i.a.createElement("td",null,"\u83b7\u53d6\u4e0d\u540c\u6e32\u67d3\u7c7b\u578b\u5bf9\u5e94\u7684 L7 \u539f\u751f\u56fe\u5c42"),i.a.createElement("td",null,i.a.createElement("code",null,"() => ","{"," [key: RenderType]: ILayer[] ","}"))),i.a.createElement("tr",null,i.a.createElement("td",null,"resetFeatures"),i.a.createElement("td",null,"\u6e05\u9664\u5f53\u524d\u6b63\u5728\u7ed8\u5236\u7684\u7ed8\u5236\u7269\uff0c\u540c\u65f6\u5c06\u6fc0\u6d3b\u7684\u7ed8\u5236\u7269\u7f6e\u4e3a\u666e\u901a\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"removeActiveFeature"),i.a.createElement("td",null,"\u5220\u9664\u5f53\u524d\u6fc0\u6d3b\u72b6\u6001\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"removeFeature"),i.a.createElement("td",null,"\u5220\u9664\u76ee\u6807 Feature \uff0c\u5c06\u76ee\u6807 Feature \u8bbe\u4e3a\u6fc0\u6d3b\u6001\uff0c\u53ef\u4f20\u76ee\u6807 Feature \u672c\u8eab\u6216\u5176 ",i.a.createElement("code",null,"properties")," \u4e2d ",i.a.createElement("code",null,"id")," \u5b57\u6bb5"),i.a.createElement("td",null,i.a.createElement("code",null,"(feature: Feature | string) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"isEnable"),i.a.createElement("td",null,"\u5224\u65ad\u5f53\u524d Draw \u662f\u5426\u5728\u7ed8\u5236\u72b6\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"() => boolean"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setHelper"),i.a.createElement("td",null,"\u8bbe\u7f6e\u5f53\u524d\u7ed8\u5236\u63d0\u793a\u6587\u6848\uff0c\u5efa\u8bae\u901a\u8fc7\u914d\u7f6e\u8fdb\u884c\u81ea\u5b9a\u4e49\u800c\u975e\u624b\u52a8\u8c03\u7528\u8be5\u65b9\u6cd5"),i.a.createElement("td",null,i.a.createElement("code",null,"(content: string | Element | DocumentFragment) => boolean"))),i.a.createElement("tr",null,i.a.createElement("td",null,"revertHistory"),i.a.createElement("td",null,"\u56de\u9000\u81f3\u4e0a\u4e00\u6b21\u4fdd\u5b58\u7684\u7ed8\u5236\u72b6\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"() => SourceData | undefined"))),i.a.createElement("tr",null,i.a.createElement("td",null,"redoHistory"),i.a.createElement("td",null,"\u91cd\u7f6e\u5230\u4e0a\u4e00\u6b21\u56de\u9000"),i.a.createElement("td",null,i.a.createElement("code",null,"() => SourceData | undefined"))),i.a.createElement("tr",null,i.a.createElement("td",null,"destroy"),i.a.createElement("td",null,"\u9500\u6bc1\u5f53\u524d Draw \u5b9e\u4f8b"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"77Zs":function(e,t,n){var r=n("Xi7e");function i(){this.__data__=new r,this.size=0}e.exports=i},"78VC":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0;var r=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}};t.multiBindToService=r},"7GkX":function(e,t,n){var r=n("b80T"),i=n("A90E"),o=n("MMmD");function a(e){return o(e)?r(e):i(e)}e.exports=a},"7Ix3":function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},"7JcK":function(e,t,n){"use strict";var r=n("67WC"),i=n("iqeF"),o=r.aTypedArrayConstructor,a=r.exportTypedArrayStaticMethod;a("of",(function(){var e=0,t=arguments.length,n=new(o(this))(t);while(t>e)n[e]=arguments[e++];return n}),i)},"7W2i":function(e,t,n){var r=n("SksO");function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"7fqy":function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}e.exports=n},"7sf/":function(e,t,n){"use strict";function r(){var e=n("q1tI");return r=function(){return e},e}function i(){var e=o(n("6xEa"));return i=function(){return e},e}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return f(e)||c(e,t)||l(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function f(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var p={"zh-CN":"https://www.typescriptlang.org/zh/play","en-US":"https://www.typescriptlang.org/play"},d=function(e,t){var n=function(){var e=/^zh|cn$/.test(arguments.length<=0?void 0:arguments[0])?p["zh-CN"]:p["en-US"];return"".concat(e,"?skipLibCheck=true&jsx=1#code/").concat(i()["default"].compressToEncodedURIComponent(arguments.length<=1?void 0:arguments[1]))},o=(0,r().useState)(n(e,t)),s=a(o,2),l=s[0],u=s[1];return(0,r().useEffect)((function(){u(n(e,t))}),[e,t]),l};t["default"]=d},"7tbW":function(e,t,n){var r=n("LGYb");function i(e){return e&&e.length?r(e):[]}e.exports=i},"7ueG":function(e,t,n){"use strict";var r=n("I+eb"),i=n("WKiH").start,o=n("yNLB"),a=o("trimStart"),s=a?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,forced:a},{trimStart:s,trimLeft:s})},"8//2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(n("q1tI")),i=n("ueNE"),o=l(n("pIsd")),a=l(n("BBPU")),s=n("x9Za");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function y(e){var t=E();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=(0,s.canUseDOM)()&&n("jpXb"),O=function(e){m(n,e);var t=y(n);function n(e){var r;return d(this,n),r=t.call(this,e),w(_(r),"innerSliderRefHandler",(function(e){return r.innerSlider=e})),w(_(r),"slickPrev",(function(){return r.innerSlider.slickPrev()})),w(_(r),"slickNext",(function(){return r.innerSlider.slickNext()})),w(_(r),"slickGoTo",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.innerSlider.slickGoTo(e,t)})),w(_(r),"slickPause",(function(){return r.innerSlider.pause("paused")})),w(_(r),"slickPlay",(function(){return r.innerSlider.autoPlay("play")})),r.state={breakpoint:null},r._responsiveMediaHandlers=[],r}return v(n,[{key:"media",value:function(e,t){S.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,o["default"])({minWidth:0,maxWidth:n}):(0,o["default"])({minWidth:t[r-1]+1,maxWidth:n}),(0,s.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,o["default"])({minWidth:t.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){S.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;this.state.breakpoint?(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})),e="unslick"===t[0].settings?"unslick":p(p(p({},a["default"]),this.props),t[0].settings)):e=p(p({},a["default"]),this.props),e.centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var o=r["default"].Children.toArray(this.props.children);o=o.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var s=[],l=null,u=0;u<o.length;u+=e.rows*e.slidesPerRow){for(var f=[],d=u;d<u+e.rows*e.slidesPerRow;d+=e.slidesPerRow){for(var h=[],v=d;v<d+e.slidesPerRow;v+=1){if(e.variableWidth&&o[v].props.style&&(l=o[v].props.style.width),v>=o.length)break;h.push(r["default"].cloneElement(o[v],{key:100*u+10*d+v,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}))}f.push(r["default"].createElement("div",{key:10*u+d},h))}e.variableWidth?s.push(r["default"].createElement("div",{key:u,style:{width:l}},f)):s.push(r["default"].createElement("div",{key:u},f))}if("unslick"===e){var m="regular slider "+(this.props.className||"");return r["default"].createElement("div",{className:m},o)}return s.length<=e.slidesToShow&&(e.unslick=!0),r["default"].createElement(i.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},e),s)}}]),n}(r["default"].Component);t["default"]=O},"88Gu":function(e,t){var n=800,r=16,i=Date.now;function o(e){var t=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}e.exports=o},"88Kz":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("Q7Ls"),s=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u8bf4\u660e"},i.a.createElement(o["AnchorLink"],{to:"#\u8bf4\u660e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u8bf4\u660e"),i.a.createElement("p",null,"\u5728 Draw \u7684\u6784\u9020\u5668\u4e2d\u652f\u6301\u4f20\u9012 ",i.a.createElement("code",null,"style")," \u53c2\u6570\uff0c\u5bf9\u7ed8\u5236\u8fc7\u7a0b\u4e2d\u7684\u56fe\u5c42\u6837\u5f0f\u8fdb\u884c\u81ea\u5b9a\u4e49\uff0c\u5f53\u524d Draw \u5df2\u7ecf\u5185\u7f6e\u4e86\u4e00\u5957 ",i.a.createElement(o["AnchorLink"],{to:"#%E9%BB%98%E8%AE%A4%E5%80%BC"},"\u9ed8\u8ba4\u6837\u5f0f\u914d\u7f6e"),"\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7 ",i.a.createElement("code",null,"style")," \u914d\u7f6e\uff0c\u57fa\u4e8e\u9ed8\u8ba4\u6837\u5f0f\u914d\u7f6e\u8fdb\u884c\u6df1\u8986\u76d6\u3002"),i.a.createElement("p",null,i.a.createElement("em",null,"\u540e\u671f Draw \u4f1a\u5185\u7f6e\u51e0\u5957\u7ed8\u5236\u4e3b\u9898\uff0c\u4ee5\u9002\u5e94\u4e0d\u540c\u5e95\u56fe\u6837\u5f0f\u4e0b\u7684\u7ed8\u5236\u5448\u73b0\u6548\u679c\u3002")),i.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/rms_2591f5/afts/img/A*pmHES4IvoqUAAAAAAAAAAAAAARQnAQ",width:300}),i.a.createElement("h2",{id:"\u793a\u4f8b"},i.a.createElement(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b"),i.a.createElement("p",null,"\u5728\u4f7f\u7528 Draw \u8fdb\u884c\u7ed8\u5236\u8fc7\u7a0b\u4e2d\u65f6\uff0c\u53ef\u4ee5\u8986\u76d6\u5185\u7f6e\u7684\u56fe\u5c42\u6837\u5f0f\u3002\u5f00\u53d1\u8005\u53ea\u9700\u8981\u586b\u5199\u5bf9\u5e94\u9700\u8981\u8986\u76d6\u7684\u5355\u4e2a\u9879\uff0c\u5728 Draw \u5185\u90e8\u4f1a\u5bf9\u5f00\u53d1\u8005\u4f20\u5165\u7684 style \u548c\u5185\u7f6e\u7684\u9ed8\u8ba4 style \u8fdb\u884c\u6df1\u8986\u76d6\uff0c\u5176\u4f59\u65e0\u9700\u8986\u76d6\u7684\u6837\u5f0f\u53ef\u4ee5\u65e0\u9700\u586b\u5199\u3002"),i.a.createElement(a["a"],{code:"// \u8986\u76d6\u4e3b\u9898\u8272\u793a\u4f8b\n\nimport { DrawPoint } from '@antv/l7-draw';\n\nconst overwriteColor = '#541DAB';\n\nconst drawer = new DrawPoint(scene, {\n  style: {\n    point: {\n      // options\u4f1a\u88ab\u4f20\u5165L7 Layer\u7684\u6784\u9020\u5668\u53c2\u6570\u4e2d\n      options: {\n        zIndex: 10,\n      },\n      // style\u914d\u7f6e\u5c06\u88ab\u539f\u751fL7 Layer\u7684style\u65b9\u6cd5\u8c03\u7528\n      style: {\n        opacity: 0.5,\n      },\n      // \u4f7f\u7528\u56de\u8c03\u51fd\u6570\uff0c\u53d6\u5230\u539f\u751f L7 Layer \u5b9e\u4f8b\uff0c\u8fdb\u884c\u64cd\u4f5c\n      callback: (layers) => {\n        layers.forEach((layer) => {\n          layer.style({\n            opacity: 0.3,\n          });\n        });\n      },\n\n      normal: {\n        color: overwriteColor,\n      },\n      hover: {\n        color: overwriteColor,\n      },\n      active: {\n        color: overwriteColor,\n      },\n    },\n  },\n});",lang:"tsx"}),i.a.createElement("h2",{id:"\u914d\u7f6e"},i.a.createElement(o["AnchorLink"],{to:"#\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u914d\u7f6e"),i.a.createElement("p",null,"\u7ed8\u5236\u6837\u5f0f\u7684\u63cf\u8ff0\u5bf9\u8c61\u4e3b\u8981\u5206\u4e3a\u4ee5\u4e0b\u516d\u4e2a\u7c7b\u578b\uff1a"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement(o["AnchorLink"],{to:"#point"},"point"),"\uff1a\u7ed3\u70b9\uff0c\u5373\u4f5c\u4e3a ",i.a.createElement("code",null,"DrawPoint")," \u4e2d\u70b9\u7684\u6837\u5f0f\uff0c\u4e5f\u4f5c\u4e3a\u5176\u4ed6\u51e0\u7c7b Draw \u4e2d\u7ed3\u70b9\u7684\u6837\u5f0f\u3002"),i.a.createElement("li",null,i.a.createElement(o["AnchorLink"],{to:"#line"},"line"),"\uff1a\u5b9e\u7ebf\uff0c\u5373\u4f5c\u4e3a ",i.a.createElement("code",null,"DrawLine")," \u4e2d\u7ebf\u7684\u6837\u5f0f\uff0c\u4e5f\u4f5c\u4e3a\u5176\u4ed6\u51e0\u7c7b\u9762 Draw \u4e2d\u8fb9\u6846\u7684\u6837\u5f0f\u3002"),i.a.createElement("li",null,i.a.createElement(o["AnchorLink"],{to:"#polygon"},"polygon"),"\uff1a\u591a\u8fb9\u5f62/\u9762\u3002"),i.a.createElement("li",null,i.a.createElement(o["AnchorLink"],{to:"#midpoint"},"midPoint"),"\uff1a\u7ebf\u6bb5\u4e2d\u70b9\uff0c\u70b9\u51fb\u5373\u53ef\u65b0\u589e\u8282\u70b9\u3002"),i.a.createElement("li",null,i.a.createElement(o["AnchorLink"],{to:"#dashline"},"dashLine"),"\uff1a\u865a\u7ebf\uff0c\u4e00\u822c\u5728\u7ed8\u5236\u8fc7\u7a0b\u4e2d\u5448\u73b0\u3002"),i.a.createElement("li",null,i.a.createElement(o["AnchorLink"],{to:"#text"},"text"),"\uff1a\u6587\u672c\uff0c\u4e00\u822c\u7528\u4e8e\u8868\u793a\u8ddd\u79bb\u548c\u9762\u79ef\u6587\u6848\u3002")),i.a.createElement("p",null,"\u6bcf\u4e2a\u6837\u5f0f\u7c7b\u578b\u6700\u591a\u5305\u542b\u4e09\u79cd\u72b6\u6001\uff0cDraw \u5185\u90e8\u5c06\u6839\u636e\u5404\u4e2a\u7c7b\u578b\u7684\u6837\u5f0f\u7c7b\u578b\u548c\u5176\u72b6\u6001\u914d\u7f6e\u5e76\u8fdb\u884c\u6e32\u67d3\u56fe\u5c42\uff1a"),i.a.createElement("ul",null,i.a.createElement("li",null,"normal\uff1a\u666e\u901a\u72b6\u6001\uff0c\u5373\u9ed8\u8ba4/\u5931\u7126\u72b6\u6001\u3002"),i.a.createElement("li",null,"hover\uff1a\u60ac\u505c\u72b6\u6001\uff0c\u9ed8\u8ba4\u914d\u7f6e\u4e0b\uff0c\u53ea\u6709 point \u7ed3\u70b9\u7c7b\u578b\u4e2d\u7684 ",i.a.createElement("code",null,"hover")," \u6001\u6837\u5f0f\u4e0e ",i.a.createElement("code",null,"normal")," \u6001\u6837\u5f0f\u4e0d\u540c\u3002"),i.a.createElement("li",null,"active\uff1a\u6fc0\u6d3b\u72b6\u6001\uff0c\u540c\u65f6\u5305\u542b\u7ed8\u5236\u72b6\u6001\u548c\u7f16\u8f91\u72b6\u6001\u3002")),i.a.createElement("p",null,"\u9664\u4e86\u4ee5\u4e0a\u4e09\u79cd\u72b6\u6001\u4ee5\u5916\uff0c\u6bcf\u4e2a\u6837\u5f0f\u7c7b\u578b\u8fd8\u66b4\u9732\u4e86 L7 Layer \u539f\u751f\u7684\u6784\u9020\u5668\u53c2\u6570 ",i.a.createElement(o["Link"],{to:"https://l7.antv.vision/zh/docs/api/base#options-%E9%85%8D%E7%BD%AE%E9%A1%B9"},"options")," \u548c ",i.a.createElement(o["Link"],{to:"https://l7.antv.vision/zh/docs/api/base#style"},"style")," \u914d\u7f6e\u53c2\u6570\u3002"),i.a.createElement("p",null,"\u5e76\u4e14\u8fd8\u63d0\u4f9b\u4e86 ",i.a.createElement("code",null,"callback")," \u56de\u8c03\u65b9\u6cd5\uff0c\u76f4\u63a5\u8ba9\u5f00\u53d1\u8005\u83b7\u53d6\u5230 L7 \u7684 Layer \u7684\u5b9e\u4f8b\u6570\u7ec4\uff0c\u5e76\u57fa\u4e8e L7 \u539f\u751f\u7684\u56fe\u5c42\u64cd\u4f5c\u65b9\u5f0f\u81ea\u5b9a\u4e49\u56fe\u5c42\uff0c\u8be6\u7ec6\u7684\u53c2\u6570\u914d\u7f6e\u4ee5 ",i.a.createElement(o["Link"],{to:"https://l7.antv.vision/zh/docs/api/base#options-%E9%85%8D%E7%BD%AE%E9%A1%B9"},"L7 \u5b98\u7f51"),"\u4e3a\u51c6\u3002"),i.a.createElement(a["a"],{code:"import { ILayer, ILayerConfig } from '@antv/l7';\n\n// \u6bcf\u4e2a\u6837\u5f0f\u63cf\u8ff0\u5bf9\u8c61\u7684\u57fa\u7840\u7c7b\u578b\nexport interface IBaseStyle {\n  options: Partial<ILayerConfig>;\n  style: any;\n  callback: (layers: ILayer[]) => void;\n}\n\n// .....\u5404\u4e2a\u6837\u5f0f\u5bf9\u8c61\u7684\u7c7b\u578b\u5b9a\u4e49\n\n// \u6574\u4e2a style \u914d\u7f6e\u7684\u7c7b\u578b\u5b9a\u4e49\nexport interface IStyle {\n  point: IPointStyle;\n  line: ILineStyle;\n  polygon: IPolygonStyle;\n  midPoint: IMidPointStyle;\n  dashLine: IDashLineStyle;\n  text: ITextStyle;\n}",lang:"ts"}),i.a.createElement("h3",{id:"point"},i.a.createElement(o["AnchorLink"],{to:"#point","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"point"),i.a.createElement(a["a"],{code:"export interface IPointStyleItem {\n  color: string; // \u586b\u5145\u8272\n  shape: string; // \u5f62\u72b6\n  size: number; // \u5927\u5c0f\n  stroke: string; // \u8fb9\u6846\u989c\u8272\n}\n\nexport interface IPointStyle extends IBaseStyle {\n  normal: IPointStyleItem;\n  hover: IPointStyleItem;\n  active: IPointStyleItem;\n}",lang:"ts"}),i.a.createElement("h3",{id:"line"},i.a.createElement(o["AnchorLink"],{to:"#line","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"line"),i.a.createElement(a["a"],{code:"export interface ILineStyleItem {\n  color: string; // \u586b\u5145\u8272\n  size: number; // \u5927\u5c0f\n}\n\nexport interface ILineStyle extends IBaseStyle {\n  normal: ILineStyleItem;\n  hover: ILineStyleItem;\n  active: ILineStyleItem;\n}",lang:"ts"}),i.a.createElement("h3",{id:"polygon"},i.a.createElement(o["AnchorLink"],{to:"#polygon","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"polygon"),i.a.createElement(a["a"],{code:"export interface IPolygonItem {\n  color: string; // \u586b\u5145\u8272\n}\n\nexport interface IPointStyle extends IBaseStyle {\n  normal: IPolygonItem;\n  hover: IPolygonItem;\n  active: IPolygonItem;\n}",lang:"ts"}),i.a.createElement("h3",{id:"midpoint"},i.a.createElement(o["AnchorLink"],{to:"#midpoint","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"midPoint"),i.a.createElement(a["a"],{code:"// \u548c point \u4e2d\u7684 IPointStyleItem \u76f8\u540c\nexport interface IPointStyleItem {\n  color: string; // \u586b\u5145\u8272\n  shape: string; // \u5f62\u72b6\n  size: number; // \u5927\u5c0f\n  stroke: string; // \u8fb9\u6846\u989c\u8272\n}\n\nexport interface IMidPointStyle extends IBaseStyle {\n  normal: IPointStyleItem;\n}",lang:"ts"}),i.a.createElement("h3",{id:"dashline"},i.a.createElement(o["AnchorLink"],{to:"#dashline","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"dashLine"),i.a.createElement(a["a"],{code:"// \u548c line \u4e2d\u7684 ILineStyleItem \u76f8\u540c\nexport interface ILineStyleItem {\n  color: string; // \u586b\u5145\u8272\n  size: number; // \u5927\u5c0f\n}\n\nexport interface IDashLineStyle extends IBaseStyle {\n  normal: ILineStyleItem;\n}",lang:"ts"}),i.a.createElement("h3",{id:"text"},i.a.createElement(o["AnchorLink"],{to:"#text","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"text"),i.a.createElement(a["a"],{code:"// \u6587\u672c\u7684 shape \u53ea\u80fd\u662f 'text'\nexport interface ITextStyleItem extends Omit<IPointStyleItem, 'shape'> {}\n\nexport interface ITextStyle extends IBaseStyle {\n  normal: IPointStyleItem;\n  active: IPointStyleItem;\n}",lang:"ts"}),i.a.createElement("h2",{id:"\u9ed8\u8ba4\u503c"},i.a.createElement(o["AnchorLink"],{to:"#\u9ed8\u8ba4\u503c","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u9ed8\u8ba4\u503c"),i.a.createElement(a["a"],{code:'{\n  "point": {\n    "options": {\n      "blend": "normal",\n      "pickingBuffer": 5\n    },\n    "normal": {\n      "color": "#ED9D48",\n      "shape": "circle",\n      "size": 6,\n      "stroke": "#ffffff"\n    },\n    "hover": {\n      "color": "#ED9D48",\n      "shape": "circle",\n      "size": 8,\n      "stroke": "#ffffff"\n    },\n    "active": {\n      "color": "#ED9D48",\n      "shape": "circle",\n      "size": 8,\n      "stroke": "#ffffff"\n    },\n    "style": {\n      "strokeWidth": 2\n    }\n  },\n  "line": {\n    "options": {\n      "blend": "normal",\n      "pickingBuffer": 5\n    },\n    "normal": {\n      "color": "#1990FF",\n      "size": 2\n    },\n    "hover": {\n      "color": "#1990FF",\n      "size": 2\n    },\n    "active": {\n      "color": "#ED9D48",\n      "size": 2\n    },\n    "style": {}\n  },\n  "polygon": {\n    "options": {\n      "blend": "normal",\n      "pickingBuffer": 5\n    },\n    "normal": {\n      "color": "#1990FF"\n    },\n    "hover": {\n      "color": "#1990FF"\n    },\n    "active": {\n      "color": "#ED9D48"\n    },\n    "style": {\n      "opacity": 0.15\n    }\n  },\n  "midPoint": {\n    "options": {\n      "blend": "normal",\n      "pickingBuffer": 5\n    },\n    "normal": {\n      "shape": "circle",\n      "size": 6,\n      "color": "#ED9D48",\n      "stroke": "#ffffff"\n    }\n  },\n  "dashLine": {\n    "options": {\n      "blend": "normal",\n      "pickingBuffer": 5\n    },\n    "normal": {\n      "color": "#ED9D48",\n      "size": 2\n    },\n    "style": {\n      "lineType": "dash",\n      "dashArray": [6, 6]\n    }\n  },\n  "text": {\n    "options": {\n      "blend": "normal",\n      "pickingBuffer": 5\n    },\n    "normal": {\n      "color": "#1990FF",\n      "size": 12,\n      "stroke": "#ffffff"\n    },\n    "active": {\n      "color": "#ED9D48",\n      "size": 12,\n      "stroke": "#ffffff"\n    },\n    "style": {\n      "fontWeight": "800",\n      "textOffset": [0, 18],\n      "textAllowOverlap": true,\n      "strokeWidth": 2\n    }\n  }\n}',lang:"json"})))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"8GlL":function(e,t,n){"use strict";var r=n("HAuM"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},"8L3h":function(e,t,n){"use strict";e.exports=n("f/k9")},"8OQS":function(e,t){function n(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"8STE":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("Cg3G");r({target:"WeakSet",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},"8XRh":function(e,t,n){"use strict";var r=n("rePB"),i=n("VTBJ"),o=n("ODXe"),a=n("U8pU"),s=n("q1tI"),l=n("m+aA"),u=n("c+Xe"),c=n("TSYQ"),f=n.n(c),p=n("MNnm");function d(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}function h(e,t){var n={animationend:d("Animation","AnimationEnd"),transitionend:d("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}var v=h(Object(p["a"])(),"undefined"!==typeof window?window:{}),m={};if(Object(p["a"])()){var g=document.createElement("div");m=g.style}var y={};function b(e){if(y[e])return y[e];var t=v[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in m)return y[e]=t[o],y[e]}return""}var _=b("animationend"),E=b("transitionend"),x=!(!_||!E),w=_||"animationend",S=E||"transitionend";function O(e,t){if(!e)return null;if("object"===Object(a["a"])(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var C="none",A="appear",P="enter",k="leave",M="none",T="prepare",L="start",I="active",D="end",R=n("dm2S"),N=n("wgJM"),j=function(){var e=s["useRef"](null);function t(){N["a"].cancel(e.current)}function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=Object(N["a"])((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):n(r,i-1)}));e.current=o}return s["useEffect"]((function(){return function(){t()}}),[]),[n,t]},F=Object(p["a"])()?s["useLayoutEffect"]:s["useEffect"],B=F,U=[T,L,I,D],z=!1,H=!0;function V(e){return e===I||e===D}var G=function(e,t){var n=Object(R["a"])(M),r=Object(o["a"])(n,2),i=r[0],a=r[1],l=j(),u=Object(o["a"])(l,2),c=u[0],f=u[1];function p(){a(T,!0)}return B((function(){if(i!==M&&i!==D){var e=U.indexOf(i),n=U[e+1],r=t(i);r===z?a(n,!0):c((function(e){function t(){e.isCanceled()||a(n,!0)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),s["useEffect"]((function(){return function(){f()}}),[]),[p,i]},W=function(e){var t=Object(s["useRef"])(),n=Object(s["useRef"])(e);n.current=e;var r=s["useCallback"]((function(e){n.current(e)}),[]);function i(e){e&&(e.removeEventListener(S,r),e.removeEventListener(w,r))}function o(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener(S,r),e.addEventListener(w,r),t.current=e)}return s["useEffect"]((function(){return function(){i(t.current)}}),[]),[o,i]};function q(e,t,n,a){var l=a.motionEnter,u=void 0===l||l,c=a.motionAppear,f=void 0===c||c,p=a.motionLeave,d=void 0===p||p,h=a.motionDeadline,v=a.motionLeaveImmediately,m=a.onAppearPrepare,g=a.onEnterPrepare,y=a.onLeavePrepare,b=a.onAppearStart,_=a.onEnterStart,E=a.onLeaveStart,x=a.onAppearActive,w=a.onEnterActive,S=a.onLeaveActive,O=a.onAppearEnd,M=a.onEnterEnd,D=a.onLeaveEnd,N=a.onVisibleChanged,j=Object(R["a"])(),F=Object(o["a"])(j,2),U=F[0],q=F[1],Y=Object(R["a"])(C),X=Object(o["a"])(Y,2),K=X[0],Z=X[1],Q=Object(R["a"])(null),J=Object(o["a"])(Q,2),$=J[0],ee=J[1],te=Object(s["useRef"])(!1),ne=Object(s["useRef"])(null);function re(){return n()}var ie=Object(s["useRef"])(!1);function oe(e){var t=re();if(!e||e.deadline||e.target===t){var n,r=ie.current;K===A&&r?n=null===O||void 0===O?void 0:O(t,e):K===P&&r?n=null===M||void 0===M?void 0:M(t,e):K===k&&r&&(n=null===D||void 0===D?void 0:D(t,e)),K!==C&&r&&!1!==n&&(Z(C,!0),ee(null,!0))}}var ae=W(oe),se=Object(o["a"])(ae,1),le=se[0],ue=s["useMemo"]((function(){var e,t,n;switch(K){case A:return e={},Object(r["a"])(e,T,m),Object(r["a"])(e,L,b),Object(r["a"])(e,I,x),e;case P:return t={},Object(r["a"])(t,T,g),Object(r["a"])(t,L,_),Object(r["a"])(t,I,w),t;case k:return n={},Object(r["a"])(n,T,y),Object(r["a"])(n,L,E),Object(r["a"])(n,I,S),n;default:return{}}}),[K]),ce=G(K,(function(e){if(e===T){var t=ue[T];return t?t(re()):z}var n;de in ue&&ee((null===(n=ue[de])||void 0===n?void 0:n.call(ue,re(),null))||null);return de===I&&(le(re()),h>0&&(clearTimeout(ne.current),ne.current=setTimeout((function(){oe({deadline:!0})}),h))),H})),fe=Object(o["a"])(ce,2),pe=fe[0],de=fe[1],he=V(de);ie.current=he,B((function(){q(t);var n,r=te.current;(te.current=!0,e)&&(!r&&t&&f&&(n=A),r&&t&&u&&(n=P),(r&&!t&&d||!r&&v&&!t&&d)&&(n=k),n&&(Z(n),pe()))}),[t]),Object(s["useEffect"])((function(){(K===A&&!f||K===P&&!u||K===k&&!d)&&Z(C)}),[f,u,d]),Object(s["useEffect"])((function(){return function(){te.current=!1,clearTimeout(ne.current)}}),[]);var ve=s["useRef"](!1);Object(s["useEffect"])((function(){U&&(ve.current=!0),void 0!==U&&K===C&&((ve.current||U)&&(null===N||void 0===N||N(U)),ve.current=!0)}),[U,K]);var me=$;return ue[T]&&de===L&&(me=Object(i["a"])({transition:"none"},me)),[K,de,me,null!==U&&void 0!==U?U:t]}var Y=n("1OyB"),X=n("vuIU"),K=n("Ji7U"),Z=n("LK+K"),Q=function(e){Object(K["a"])(n,e);var t=Object(Z["a"])(n);function n(){return Object(Y["a"])(this,n),t.apply(this,arguments)}return Object(X["a"])(n,[{key:"render",value:function(){return this.props.children}}]),n}(s["Component"]),J=Q;function $(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===Object(a["a"])(e)&&(t=e.transitionSupport);var c=s["forwardRef"]((function(e,t){var a=e.visible,c=void 0===a||a,p=e.removeOnLeave,d=void 0===p||p,h=e.forceRender,v=e.children,m=e.motionName,g=e.leavedClassName,y=e.eventProps,b=n(e),_=Object(s["useRef"])(),E=Object(s["useRef"])();function x(){try{return _.current instanceof HTMLElement?_.current:Object(l["a"])(E.current)}catch(e){return null}}var w=q(b,c,x,e),S=Object(o["a"])(w,4),A=S[0],P=S[1],k=S[2],M=S[3],I=s["useRef"](M);M&&(I.current=!0);var D,R=s["useCallback"]((function(e){_.current=e,Object(u["b"])(t,e)}),[t]),N=Object(i["a"])(Object(i["a"])({},y),{},{visible:c});if(v)if(A!==C&&n(e)){var j,F;P===T?F="prepare":V(P)?F="active":P===L&&(F="start"),D=v(Object(i["a"])(Object(i["a"])({},N),{},{className:f()(O(m,A),(j={},Object(r["a"])(j,O(m,"".concat(A,"-").concat(F)),F),Object(r["a"])(j,m,"string"===typeof m),j)),style:k}),R)}else D=M?v(Object(i["a"])({},N),R):!d&&I.current?v(Object(i["a"])(Object(i["a"])({},N),{},{className:g}),R):h?v(Object(i["a"])(Object(i["a"])({},N),{},{style:{display:"none"}}),R):null;else D=null;if(s["isValidElement"](D)&&Object(u["c"])(D)){var B=D,U=B.ref;U||(D=s["cloneElement"](D,{ref:R}))}return s["createElement"](J,{ref:E},D)}));return c.displayName="CSSMotion",c}var ee=$(x),te=n("wx14"),ne=n("Ff2n"),re="add",ie="keep",oe="remove",ae="removed";function se(e){var t;return t=e&&"object"===Object(a["a"])(e)&&"key"in e?e:{key:e},Object(i["a"])(Object(i["a"])({},t),{},{key:String(t.key)})}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(se)}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,o=t.length,a=le(e),s=le(t);a.forEach((function(e){for(var t=!1,a=r;a<o;a+=1){var l=s[a];if(l.key===e.key){r<a&&(n=n.concat(s.slice(r,a).map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{status:re})}))),r=a),n.push(Object(i["a"])(Object(i["a"])({},l),{},{status:ie})),r+=1,t=!0;break}}t||n.push(Object(i["a"])(Object(i["a"])({},e),{},{status:oe}))})),r<o&&(n=n.concat(s.slice(r).map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{status:re})}))));var l={};n.forEach((function(e){var t=e.key;l[t]=(l[t]||0)+1}));var u=Object.keys(l).filter((function(e){return l[e]>1}));return u.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==oe})),n.forEach((function(t){t.key===e&&(t.status=ie)}))})),n}var ce=["component","children","onVisibleChanged","onAllRemoved"],fe=["status"],pe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee,n=function(e){Object(K["a"])(r,e);var n=Object(Z["a"])(r);function r(){var e;Object(Y["a"])(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),e.state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities,r=n.map((function(e){return e.key!==t?e:Object(i["a"])(Object(i["a"])({},e),{},{status:ae})}));return e.setState({keyEntities:r}),r.filter((function(e){var t=e.status;return t!==ae})).length},e}return Object(X["a"])(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,i=r.component,o=r.children,a=r.onVisibleChanged,l=r.onAllRemoved,u=Object(ne["a"])(r,ce),c=i||s["Fragment"],f={};return pe.forEach((function(e){f[e]=u[e],delete u[e]})),delete u.keys,s["createElement"](c,u,n.map((function(n){var r=n.status,i=Object(ne["a"])(n,fe),u=r===re||r===ie;return s["createElement"](t,Object(te["a"])({},f,{key:i.key,visible:u,eventProps:i,onVisibleChanged:function(t){if(null===a||void 0===a||a(t,{key:i.key}),!t){var n=e.removeKey(i.key);0===n&&l&&l()}}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=le(n),o=ue(r,i);return{keyEntities:o.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==ae||e.status!==oe}))}}}]),r}(s["Component"]);return n.defaultProps={component:"div"},n}de(x),t["a"]=ee},"8YOa":function(e,t,n){var r=n("0BK2"),i=n("hh1v"),o=n("UTVS"),a=n("m/L8").f,s=n("kOOl"),l=n("uy83"),u=s("meta"),c=0,f=Object.isExtensible||function(){return!0},p=function(e){a(e,u,{value:{objectID:"O"+ ++c,weakData:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,u)){if(!f(e))return"F";if(!t)return"E";p(e)}return e[u].objectID},h=function(e,t){if(!o(e,u)){if(!f(e))return!0;if(!t)return!1;p(e)}return e[u].weakData},v=function(e){return l&&m.REQUIRED&&f(e)&&!o(e,u)&&p(e),e},m=e.exports={REQUIRED:!1,fastKey:d,getWeakData:h,onFreeze:v};r[u]=!0},"8go2":function(e,t,n){n("gg6r")},"8jRI":function(e,t,n){"use strict";var r="%[a-f0-9]{2}",i=new RegExp(r,"gi"),o=new RegExp("("+r+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],a(n),a(r))}function s(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(i),n=1;n<t.length;n++)e=a(t,n).join(""),t=e.match(i);return e}}function l(e){var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=o.exec(e);while(n){try{t[n[0]]=decodeURIComponent(n[0])}catch(u){var r=s(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="\ufffd";for(var i=Object.keys(t),a=0;a<i.length;a++){var l=i[a];e=e.replace(new RegExp(l,"g"),t[l])}return e}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return l(e)}}},"8l+E":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["line-autoactive"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["line-autoactive"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"8ml+":function(e,t,n){"use strict";n.d(t,"f",(function(){return Om})),n.d(t,"d",(function(){return Rl})),n.d(t,"e",(function(){return Eu})),n.d(t,"c",(function(){return Is})),n.d(t,"a",(function(){return Wt})),n.d(t,"b",(function(){return q["b"]}));var r={},i={},o=function(e){return i[e]},a=function(e,t){i[e]=t},s=function(e){return r[e]},l=function(e,t){r[e]=t},u={},c={},f=34,p=10,d=13;function h(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function v(e,t){var n=h(e);return function(r,i){return t(n(r),i,e)}}function m(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function g(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function y(e){return e<0?"-"+g(-e,6):e>9999?"+"+g(e,6):g(e,4)}function b(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":y(e.getUTCFullYear(),4)+"-"+g(e.getUTCMonth()+1,2)+"-"+g(e.getUTCDate(),2)+(i?"T"+g(t,2)+":"+g(n,2)+":"+g(r,2)+"."+g(i,3)+"Z":r?"T"+g(t,2)+":"+g(n,2)+":"+g(r,2)+"Z":n||t?"T"+g(t,2)+":"+g(n,2)+"Z":"")}var _=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var n,r,o=i(e,(function(e,i){if(n)return n(e,i-1);r=e,n=t?v(e,t):h(e)}));return o.columns=r||[],o}function i(e,t){var r,i=[],o=e.length,a=0,s=0,l=o<=0,h=!1;function v(){if(l)return c;if(h)return h=!1,u;var t,r,i=a;if(e.charCodeAt(i)===f){while(a++<o&&e.charCodeAt(a)!==f||e.charCodeAt(++a)===f);return(t=a)>=o?l=!0:(r=e.charCodeAt(a++))===p?h=!0:r===d&&(h=!0,e.charCodeAt(a)===p&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}while(a<o){if((r=e.charCodeAt(t=a++))===p)h=!0;else if(r===d)h=!0,e.charCodeAt(a)===p&&++a;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}e.charCodeAt(o-1)===p&&--o,e.charCodeAt(o-1)===d&&--o;while((r=v())!==c){var m=[];while(r!==u&&r!==c)m.push(r),r=v();t&&null==(m=t(m,s++))||i.push(m)}return i}function o(t,n){return t.map((function(t){return n.map((function(e){return y(t[e])})).join(e)}))}function a(t,n){return null==n&&(n=m(t)),[n.map(y).join(e)].concat(o(t,n)).join("\n")}function s(e,t){return null==t&&(t=m(e)),o(e,t).join("\n")}function l(e){return e.map(g).join("\n")}function g(t){return t.map(y).join(e)}function y(e){return null==e?"":e instanceof Date?b(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:g,formatValue:y}},E=_(","),x=E.parse,w=(E.parseRows,E.format,E.formatBody,E.formatRows,E.formatRow,E.formatValue,n("lSNA")),S=n.n(w),O=n("RIqP"),C=n.n(O),A=n("Aib3"),P=n.n(A);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){var n=t.x,r=t.y,i=t.x1,o=t.y1,a=t.coordinates,s=[];return Array.isArray(e)?(e.forEach((function(e,t){var l=[];if(n&&r&&(l=[parseFloat(e[n]),parseFloat(e[r])]),n&&r&&i&&o){var u=[parseFloat(e[n]),parseFloat(e[r])],c=[parseFloat(e[i]),parseFloat(e[o])];l=[u,c]}if(a){var f="Polygon";Array.isArray(a[0])||(f="Point"),Array.isArray(a[0])&&!Array.isArray(a[0][0])&&(f="LineString");var p={type:f,coordinates:C()(e[a])};P()(p,!0),l=p.coordinates}var d=M(M({},e),{},{_id:t,coordinates:l});s.push(d)})),{dataArray:s}):{dataArray:[]}}var L={PointLayer:{data:[],options:{parser:{type:"json",x:"lng",y:"lat"}}},LineLayer:{data:[{lng1:100,lat1:30,lng2:130,lat2:30}],options:{parser:{type:"json",x:"lng1",y:"lat1",x1:"lng2",y1:"lat2"}}}},I=[{lng1:100,lat1:30,lng2:130,lat2:30}],D={parser:{type:"json",x:"lng1",y:"lat1",x1:"lng2",y1:"lat2"}};function R(e,t){var n=x(e);return T(n,t)}var N=n("0wsv");function j(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function F(e){return"Feature"===e.type?e.geometry:e}function B(e,t){var n,r,i,o,a,s,l,u,c,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,v=d?e.features.length:1;for(n=0;n<v;n++){for(s=d?e.features[n].geometry:h?e.geometry:e,u=d?e.features[n].properties:h?e.properties:{},c=d?e.features[n].bbox:h?e.bbox:void 0,f=d?e.features[n].id:h?e.id:void 0,l=!!s&&"GeometryCollection"===s.type,a=l?s.geometries.length:1,i=0;i<a;i++)if(o=l?s.geometries[i]:s,null!==o)switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,p,u,c,f))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===t(o.geometries[r],p,u,c,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,u,c,f))return!1;p++}}function U(e,t){B(e,(function(e,n,r,i,o){var a,s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==t(Object(N["b"])(e,r,{bbox:i,id:o}),n,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var l=0;l<e.coordinates.length;l++){var u=e.coordinates[l],c={type:a,coordinates:u};if(!1===t(Object(N["b"])(c,r),n,l))return!1}}))}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e){var t=e.toString(),n=5381,r=t.length;while(r)n=33*n^t.charCodeAt(--r);return n>>>0}function G(e,t){return void 0===t?null:"id"===t&&e.id?e.id:e[t]?e[t]:e.properties&&e.properties[t]?V(e.properties[t]+"")%1000019:null}function W(e,t){var n=[],r={};return e.features?(e.features=e.features.filter((function(e){var t=e.geometry;return null!=e&&t&&t.type&&t.coordinates&&t.coordinates.length>0})),P()(e,!0),0===e.features.length?{dataArray:[],featureKeys:r}:(U(e,(function(e,r){var i=G(e,null===t||void 0===t?void 0:t.featureId);null===i&&(i=r);var o=i,a=j(e),s=H(H({},e.properties),{},{coordinates:a,_id:o});n.push(s)})),{dataArray:n,featureKeys:r})):(e.features=[],{dataArray:[]})}var q=n("Hel2");function Y(e,t){var n=t.extent,r=void 0===n?[121.168,30.2828,121.384,30.4219]:n,i=new Promise((function(t){e instanceof HTMLImageElement||Object(q["E"])(e)?t([e]):X(e,(function(e){t(e)}))})),o={originData:e,images:i,_id:1,dataArray:[{_id:0,coordinates:[[r[0],r[1]],[r[2],r[3]]]}]};return o}function X(e,t){var n=e,r=[];if("string"===typeof n)Object(q["z"])({url:n},(function(e,n){n&&(r.push(n),t(r))}));else{var i=n.length,o=0;n.forEach((function(e){Object(q["z"])({url:e},(function(e,n){o++,n&&r.push(n),o===i&&t(r)}))}))}return Y}var K=n("yXPU"),Z=n.n(K),Q=n("o0o1"),J=n.n(Q),$=n("dA7e"),ee=n("eRUA"),te=n.n(ee);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0},oe=512;function ae(e,t,n){var r=e/Math.pow(2,n)*360-180,i=Math.PI-2*Math.PI*t/Math.pow(2,n),o=180/Math.PI*Math.atan(.5*(Math.exp(i)-Math.exp(-i)));return[r,o]}function se(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)t=e[i],n=e[a],r+=(n.x-t.x)*(t.y+n.y);return r}function le(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=se(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}var ue=["Unknown","Point","LineString","Polygon"];function ce(e,t){var n,r,i=t.extent,o=t.loadGeometry(),a=t.type,s=t.properties,l=t.id,u=i*Math.pow(2,e),c=ue[a];function f(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[n.x/u*oe,n.y/u*oe]}}switch(a){case 1:var p=[];for(n=0;n<o.length;n++)p[n]=o[n][0];o=p,f(o);break;case 2:for(n=0;n<o.length;n++)f(o[n]);break;case 3:for(o=le(o),n=0;n<o.length;n++)for(r=0;r<o[n].length;r++)f(o[n][r]);break}1===o.length?o=o[0]:c="Multi"+c;var d={type:"Feature",geometry:{type:c,coordinates:o},properties:s,id:l,tileOrigin:[0,0],coord:""};return d}var fe,pe=function(){var e=Z()(J.a.mark((function e(t,n,r,i){var o;return J.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=Object(q["C"])(t,n),e.abrupt("return",new Promise((function(e){var t=Object(q["x"])({url:o},(function(t,r){if(t||!r)e({layers:{}});else{for(var o=new $["VectorTile"](new te.a(r)),a=ae(n.x,n.y,n.z),s=n.z,l=0,u=Object.keys(o.layers);l<u.length;l++){for(var c=u[l],f=[],p=o.layers[c],d=0;d<o.layers[c].length;d++){var h=o.layers[c].feature(d),v=void 0;"lnglat"===i?v=h.toGeoJSON(n.x,n.y,n.z):(v=ce(s,h),p.l7TileOrigin=a,p.l7TileCoord=i),f.push(v)}p.features=f}e(o)}}));r.xhrCancel=function(){return t.abort()}})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}();function de(e,t){var n=(null===t||void 0===t?void 0:t.coord)||"lnglat",r=function(t,r){return pe(e,t,r,n)},i=re(re(re({},ie),t),{},{getTileData:r});return{data:e,dataArray:[],tilesetOptions:i,isTile:!0}}function he(e,t){var n=t.extent,r=t.width,i=t.height,o=t.min,a=t.max,s={_id:1,dataArray:[{_id:1,data:Array.from(e),width:r,height:i,min:o,max:a,coordinates:[[n[0],n[1]],[n[2],n[3]]]}]};return s}(function(e){e["IMAGE"]="image",e["ARRAYBUFFER"]="arraybuffer"})(fe||(fe={}));var ve=function(){var e=Z()(J.a.mark((function e(t,n,r,i){var o;return J.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=Object(q["C"])(t,n),e.abrupt("return",new Promise((function(e,t){var n=Object(q["B"])({url:o},(function(n,r){n?t(n):r&&e(r)}),i);r.xhrCancel=function(){return n.abort()}})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),me=function(){var e=Z()(J.a.mark((function e(t,n,r){var i;return J.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Object(q["C"])(t,n),e.abrupt("return",new Promise((function(e,t){var n=Object(q["z"])({url:i},(function(n,r){n?t(n):r&&e(r)}));r.xhrCancel=function(){return n.abort()}})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ge=function(){return{rasterData:new Uint8Array([0]),width:1,height:1}};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0};function Ee(e,t){var n=(null===t||void 0===t?void 0:t.dataType)||fe.IMAGE,r=function(r,i){return n===fe.IMAGE?me(e,r,i):ve(e,r,i,(null===t||void 0===t?void 0:t.format)||ge)},i=be(be(be({},_e),t),{},{getTileData:r});return{data:e,dataArray:[],tilesetOptions:i,isTile:!0}}var xe=n("lwsE"),we=n.n(xe),Se=n("W8MJ"),Oe=n.n(Se),Ce=n("PJYZ"),Ae=n.n(Ce),Pe=n("7W2i"),ke=n.n(Pe),Me=n("a1gu"),Te=n.n(Me),Le=n("Nsbk"),Ie=n.n(Le),De=n("JBE3"),Re=n.n(De),Ne=n("4qC0"),je=n.n(Ne),Fe=n("lSCD"),Be=n.n(Fe),Ue=n("BkRI"),ze=n.n(Ue),He=n("xp6e"),Ve=n("uhBA"),Ge=n.n(Ve),We=n("mpbz"),qe=n.n(We);function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t){var n=t.radius,r=void 0===n?40:n,i=t.maxZoom,o=void 0===i?18:i,a=t.minZoom,s=void 0===a?0:a,l=t.zoom,u=void 0===l?2:l;if(e.pointIndex){var c=e.pointIndex.getClusters(e.extent,Math.floor(u));return e.dataArray=Ze(c),e}var f=new qe.a({radius:r,minZoom:s,maxZoom:o}),p={type:"FeatureCollection",features:[]};return p.features=e.dataArray.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:e.coordinates},properties:Xe({},e)}})),f.load(p.features),f}function Ze(e){return e.map((function(e,t){return Xe({coordinates:e.geometry.coordinates,_id:t+1},e.properties)}))}function Qe(e){if(0===e.length)throw new Error("max requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return t}function Je(e){if(0===e.length)throw new Error("min requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return t}function $e(e){if(0===e.length)return 0;for(var t,n=e[0],r=0,i=1;i<e.length;i++)t=n+1*e[i],Math.abs(n)>=Math.abs(e[i])?r+=n-t+e[i]:r+=e[i]-t+n,n=t;return n+1*r}function et(e){if(0===e.length)throw new Error("mean requires at least one data point");return $e(e)/e.length}var tt={min:Je,max:Qe,mean:et,sum:$e};function nt(e,t){return e.map((function(e){return 1*e[t]}))}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e){var t=at();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function at(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function st(e,t){if(Array.isArray(t))return t}var lt=function(e){ke()(n,e);var t=ot(n);function n(e,r){var i;return we()(this,n),i=t.call(this),S()(Ae()(i),"inited",!1),S()(Ae()(i),"data",void 0),S()(Ae()(i),"center",void 0),S()(Ae()(i),"extent",void 0),S()(Ae()(i),"hooks",{init:new He["c"]}),S()(Ae()(i),"parser",{type:"geojson"}),S()(Ae()(i),"transforms",[]),S()(Ae()(i),"cluster",!1),S()(Ae()(i),"clusterOptions",{enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"}),S()(Ae()(i),"tileset",void 0),S()(Ae()(i),"mapService",void 0),S()(Ae()(i),"invalidExtent",!1),S()(Ae()(i),"dataArrayChanged",!1),S()(Ae()(i),"originData",void 0),S()(Ae()(i),"rawData",void 0),S()(Ae()(i),"cfg",{}),S()(Ae()(i),"clusterIndex",void 0),i.originData=e,i.initCfg(r),i.init(),i}return Oe()(n,[{key:"getClusters",value:function(e){return this.clusterIndex.getClusters(this.caculClusterExtent(2),e)}},{key:"getClustersLeaves",value:function(e){return this.clusterIndex.getLeaves(e,1/0)}},{key:"updateClusterData",value:function(e){var t=this,n=this.clusterOptions,r=n.method,i=void 0===r?"sum":r,a=n.field,s=this.clusterIndex.getClusters(this.caculClusterExtent(2),Math.floor(e));this.clusterOptions.zoom=e,s.forEach((function(e){e.id||(e.properties.point_count=1)})),(a||Be()(i))&&(s=s.map((function(e){var n=e.id;if(n){var r,o=t.clusterIndex.getLeaves(n,1/0),s=o.map((function(e){return e.properties}));if(je()(i)&&a){var l=nt(s,a);r=tt[i](l)}Be()(i)&&(r=i(s)),e.properties.stat=r}else e.properties.point_count=1;return e}))),this.data=o("geojson")({type:"FeatureCollection",features:s}),this.executeTrans()}},{key:"getFeatureById",value:function(e){var t=this.parser.type,n=void 0===t?"geojson":t;if("geojson"!==n||this.cluster)return e<this.data.dataArray.length?this.data.dataArray[e]:"null";var r=e<this.originData.features.length?this.originData.features[e]:"null",i=ze()(r);if(0!==this.transforms.length||this.dataArrayChanged){var o=this.data.dataArray.find((function(t){return t._id===e}));i.properties=o}return i}},{key:"updateFeaturePropertiesById",value:function(e,t){this.data.dataArray=this.data.dataArray.map((function(n){return n._id===e?it(it({},n),t):n})),this.dataArrayChanged=!0,this.emit("update")}},{key:"getFeatureId",value:function(e,t){var n=this.data.dataArray.find((function(n){return n[e]===t}));return null===n||void 0===n?void 0:n._id}},{key:"setData",value:function(e,t){this.originData=e,this.dataArrayChanged=!1,this.initCfg(t),this.init()}},{key:"destroy",value:function(){var e;this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null,null===(e=this.tileset)||void 0===e||e.destroy()}},{key:"handleData",value:function(){var e=this;return new Promise((function(t,n){try{e.excuteParser(),e.initCluster(),e.executeTrans(),t({})}catch(r){n(r)}}))}},{key:"initCfg",value:function(e){this.cfg=Re()(this.cfg,e,st);var t=this.cfg;t&&(t.parser&&(this.parser=t.parser),t.transforms&&(this.transforms=t.transforms),this.cluster=t.cluster||!1,t.clusterOptions&&(this.cluster=!0,this.clusterOptions=it(it({},this.clusterOptions),t.clusterOptions)))}},{key:"init",value:function(){var e=this;this.inited=!1,this.handleData().then((function(){e.inited=!0,e.emit("sourceUpdate")}))}},{key:"excuteParser",value:function(){var e=this.parser,t=e.type||"geojson",n=o(t);this.data=n(this.originData,e),this.extent=Object(q["v"])(this.data.dataArray),this.setCenter(this.extent),this.invalidExtent=this.extent[0]===this.extent[2]||this.extent[1]===this.extent[3],this.tileset=this.initTileset()}},{key:"setCenter",value:function(e){this.center=[(e[0]+e[2])/2,(e[1]+e[3])/2],(isNaN(this.center[0])||isNaN(this.center[1]))&&(this.center=[108.92361111111111,34.54083333333333])}},{key:"initTileset",value:function(){var e=this.data.tilesetOptions;if(e){if(this.tileset)return this.tileset.updateOptions(e),this.tileset;var t=new q["g"](it({},e));return t}}},{key:"executeTrans",value:function(){var e=this,t=this.transforms;t.forEach((function(t){var n=t.type,r=s(n)(e.data,t);Object.assign(e.data,r)}))}},{key:"initCluster",value:function(){if(this.cluster){var e=this.clusterOptions||{};this.clusterIndex=Ke(this.data,e)}}},{key:"caculClusterExtent",value:function(e){var t=[[-1/0,-1/0],[1/0,1/0]];return this.invalidExtent||(t=Object(q["K"])(Object(q["n"])(this.extent),e)),t[0].concat(t[1])}}]),n}(Ve["EventEmitter"]);function ut(e,t){var n=t.callback;return n&&(e.dataArray=e.dataArray.filter(n)),e}function ct(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ft(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function ft(e,t){if(e){if("string"===typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(e,t):void 0}}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dt=6378e3;function ht(e,t){var n=e.dataArray,r=t.size,i=void 0===r?10:r,o=i/(2*Math.PI*dt)*(256<<20)/2,a=vt(n,i),s=a.gridHash,l=a.gridOffset,u=bt(s,l,t);return{yOffset:o,xOffset:o,radius:o,type:"grid",dataArray:u}}function vt(e,t){var n,r,i=1/0,o=-1/0,a=ct(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;n=s.coordinates[1],Number.isFinite(n)&&(i=n<i?n:i,o=n>o?n:o)}}catch(b){a.e(b)}finally{a.f()}var l=(i+o)/2,u=mt(t,l);if(u.xOffset<=0||u.yOffset<=0)return{gridHash:{},gridOffset:u};var c,f={},p=ct(e);try{for(p.s();!(c=p.n()).done;){var d=c.value,h=d.coordinates[1],v=d.coordinates[0];if(Number.isFinite(h)&&Number.isFinite(v)){var m=Math.floor((h+90)/u.yOffset),g=Math.floor((v+180)/u.xOffset),y="".concat(m,"-").concat(g);f[y]=f[y]||{count:0,points:[]},f[y].count+=1,f[y].points.push(d)}}}catch(b){p.e(b)}finally{p.f()}return{gridHash:f,gridOffset:u}}function mt(e,t){var n=gt(e),r=yt(t,e);return{yOffset:n,xOffset:r}}function gt(e){return e/dt*(180/Math.PI)}function yt(e,t){return t/dt*(180/Math.PI)/Math.cos(e*Math.PI/180)}function bt(e,t,n){return Object.keys(e).reduce((function(r,i,o){var a=i.split("-"),s=parseInt(a[0],10),l=parseInt(a[1],10),u={};if(n.field&&n.method){var c=q["f"].getColumn(e[i].points,n.field);u[n.method]=q["f"].statMap[n.method](c)}return Object.assign(u,{_id:o,coordinates:Object(q["i"])([t.xOffset*(l+.5)-180,t.yOffset*(s+.5)-90]),rawData:e[i].points,count:e[i].count}),r.push(u),r}),[])}var _t=n("J4zp"),Et=n.n(_t),xt=Math.PI/3,wt=[0,xt,2*xt,3*xt,4*xt,5*xt];function St(e){return e[0]}function Ot(e){return e[1]}var Ct=function(){var e,t,n,r=0,i=0,o=1,a=1,s=St,l=Ot;function u(e){var r,i={},o=[],a=e.length;for(r=0;r<a;++r)if(!isNaN(c=+s.call(null,u=e[r],r,e))&&!isNaN(f=+l.call(null,u,r,e))){var u,c,f,p=Math.round(f/=n),d=Math.round(c=c/t-(1&p)/2),h=f-p;if(3*Math.abs(h)>1){var v=c-d,m=d+(c<d?-1:1)/2,g=p+(f<p?-1:1),y=c-m,b=f-g;v*v+h*h>y*y+b*b&&(d=m+(1&p?1:-1)/2,p=g)}var _=d+"-"+p,E=i[_];E?E.push(u):(o.push(E=i[_]=[u]),E.x=(d+(1&p)/2)*t,E.y=p*n)}return o}function c(e){var t=0,n=0;return wt.map((function(r){var i=Math.sin(r)*e,o=-Math.cos(r)*e,a=i-t,s=o-n;return t=i,n=o,[a,s]}))}return u.hexagon=function(t){return"m"+c(null==t?e:+t).join("l")+"z"},u.centers=function(){for(var s=[],l=Math.round(i/n),u=Math.round(r/t),c=l*n;c<a+e;c+=n,++l)for(var f=u*t+(1&l)*t/2;f<o+t/2;f+=t)s.push([f,c]);return s},u.mesh=function(){var t=c(e).slice(0,4).join("l");return u.centers().map((function(e){return"M"+e+"m"+t})).join("")},u.x=function(e){return arguments.length?(s=e,u):s},u.y=function(e){return arguments.length?(l=e,u):l},u.radius=function(r){return arguments.length?(e=+r,t=2*e*Math.sin(xt),n=1.5*e,u):e},u.size=function(e){return arguments.length?(r=i=0,o=+e[0],a=+e[1],u):[o-r,a-i]},u.extent=function(e){return arguments.length?(r=+e[0][0],i=+e[0][1],o=+e[1][0],a=+e[1][1],u):[[r,i],[o,a]]},u.radius(1)};function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt=6378e3;function Mt(e,t){var n=e.dataArray,r=t.size,i=void 0===r?10:r,o=t.method,a=void 0===o?"sum":o,s=i/(2*Math.PI*kt)*(256<<20)/2,l=n.map((function(e){var t=Object(q["i"])(e.coordinates),n=Et()(t,2),r=n[0],i=n[1];return Pt(Pt({},e),{},{coordinates:[r,i]})})),u=Ct().radius(s).x((function(e){return e.coordinates[0]})).y((function(e){return e.coordinates[1]})),c=u(l),f={dataArray:c.map((function(e,n){var r;if(t.field&&a){var i=q["f"].getColumn(e,t.field);e[a]=q["f"].statMap[a](i)}return r={},S()(r,t.method,e[a]),S()(r,"count",e.length),S()(r,"rawData",e),S()(r,"coordinates",[e.x,e.y]),S()(r,"_id",n),r})),radius:s,xOffset:s,yOffset:s,type:"hexagon"};return f}function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t){var n=t.sourceField,r=t.targetField,i=t.data,o={};return i.forEach((function(e){o[e[n]]=e})),e.dataArray=e.dataArray.map((function(e){var t=e[r];return Lt(Lt({},e),o[t])})),e}function Dt(e,t){var n=t.callback;return n&&(e.dataArray=e.dataArray.map(n)),e}a("rasterTile",Ee),a("mvt",de),a("geojson",W),a("image",Y),a("csv",R),a("json",T),a("raster",he),l("cluster",Ke),l("filter",ut),l("join",It),l("map",Dt),l("grid",ht),l("hexagon",Mt);var Rt=L,Nt=I,jt=D,Ft=lt,Bt=n("h1nZ");function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ht(e){var t=Vt();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Vt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Gt=0,Wt=function(e){ke()(n,e);var t=Ht(n);function n(e){var r;return we()(this,n),r=t.call(this),S()(Ae()(r),"controlOption",void 0),S()(Ae()(r),"container",void 0),S()(Ae()(r),"sceneContainer",void 0),S()(Ae()(r),"mapsService",void 0),S()(Ae()(r),"renderService",void 0),S()(Ae()(r),"layerService",void 0),S()(Ae()(r),"controlService",void 0),S()(Ae()(r),"isShow",void 0),r.controlOption=zt(zt({},r.getDefault()),e||{}),r}return Oe()(n,[{key:"getDefault",value:function(){return{position:Bt["g"].TOPRIGHT,name:"".concat(Gt++)}}},{key:"setPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt["g"].BOTTOMRIGHT,t=this.controlService;return t&&t.removeControl(this),this.controlOption.position=e,t&&t.addControl(this,this.sceneContainer),this}},{key:"addTo",value:function(e){this.mapsService=e.get(Bt["k"].IMapService),this.renderService=e.get(Bt["k"].IRendererService),this.layerService=e.get(Bt["k"].ILayerService),this.controlService=e.get(Bt["k"].IControlService),this.sceneContainer=e,this.isShow=!0,this.container=this.onAdd();var t=this.container,n=this.controlOption.position,r=this.controlService.controlCorners[n];return q["b"].addClass(t,"l7-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this}},{key:"onAdd",value:function(){throw new Error("Method not implemented.")}},{key:"onRemove",value:function(){throw new Error("Method not implemented.")}},{key:"hide",value:function(){var e=this.container;q["b"].addClass(e,"l7-control-hide"),this.isShow=!1}},{key:"show",value:function(){var e=this.container;q["b"].removeClass(e,"l7-control-hide"),this.isShow=!0}},{key:"remove",value:function(){if(!this.mapsService)return this;q["b"].remove(this.container),this.onRemove()}},{key:"_refocusOnMap",value:function(e){if(this.mapsService&&e&&e.screenX>0&&e.screenY>0){var t=this.mapsService.getContainer();null!==t&&t.focus()}}}]),n}(Ve["EventEmitter"]);function qt(e){var t=Yt();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Yt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(function(e){ke()(n,e);var t=qt(n);function n(e){var r;return we()(this,n),r=t.call(this,e),S()(Ae()(r),"layerControlInputs",void 0),S()(Ae()(r),"layers",void 0),S()(Ae()(r),"lastZIndex",void 0),S()(Ae()(r),"handlingClick",void 0),S()(Ae()(r),"layersLink",void 0),S()(Ae()(r),"baseLayersList",void 0),S()(Ae()(r),"separator",void 0),S()(Ae()(r),"overlaysList",void 0),S()(Ae()(r),"form",void 0),r.layerControlInputs=[],r.layers=[],r.lastZIndex=0,r.handlingClick=!1,r.initLayers(),Object(q["o"])(["checkDisabledLayers","onLayerChange","collapse","extend","expand","onInputClick"],Ae()(r)),r}Oe()(n,[{key:"getDefault",value:function(){return{collapsed:!0,position:Bt["g"].TOPRIGHT,autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,name:"layers"}}},{key:"onAdd",value:function(){var e=this;return this.initLayout(),this.update(),this.mapsService.on("zoomend",this.checkDisabledLayers),this.layers.forEach((function(t){t.layer.on("remove",e.onLayerChange),t.layer.on("add",e.onLayerChange)})),this.container}},{key:"addVisualLayer",value:function(e,t){return this.addLayer(e,t,!0),this.mapsService?this.update():this}},{key:"expand",value:function(){var e=this.renderService.getViewportSize(),t=e.height;q["b"].addClass(this.container,"l7-control-layers-expanded"),this.form.style.height="null";var n=t-(this.container.offsetTop+50);return n<this.form.clientHeight?(q["b"].addClass(this.form,"l7-control-layers-scrollbar"),this.form.style.height=n+"px"):q["b"].removeClass(this.form,"l7-control-layers-scrollbar"),this.checkDisabledLayers(),this}},{key:"collapse",value:function(){return q["b"].removeClass(this.container,"l7-control-layers-expanded"),this}},{key:"onRemove",value:function(){var e=this;this.mapsService&&(this.mapsService.off("click",this.collapse),this.layers.forEach((function(t){t.layer.off("remove",e.onLayerChange),t.layer.off("add",e.onLayerChange)})))}},{key:"initLayout",value:function(){var e="l7-control-layers",t=this.container=q["b"].create("div",e),n=this.controlOption.collapsed;t.setAttribute("aria-haspopup","true");var r=this.form=q["b"].create("form",e+"-list");n&&(this.mapsService.on("click",this.collapse),t.addEventListener("mouseenter",this.expand),t.addEventListener("mouseleave",this.collapse)),this.layersLink=q["b"].create("a",e+"-toggle",t);var i=this.layersLink;i.title="Layers",n||this.expand(),this.baseLayersList=q["b"].create("div",e+"-base",r),this.separator=q["b"].create("div",e+"-separator",r),this.overlaysList=q["b"].create("div",e+"-overlays",r),t.appendChild(r)}},{key:"initLayers",value:function(){var e=this,t=this.controlOption,n=t.baseLayers,r=void 0===n?{}:n,i=t.overlayers,o=void 0===i?{}:i;Object.keys(r).forEach((function(t,n){e.addLayer(r[t],t,!1)})),Object.keys(o).forEach((function(t,n){e.addLayer(o[t],t,!0)}))}},{key:"update",value:function(){if(!this.container)return this;var e,t,n,r;q["b"].empty(this.baseLayersList),q["b"].empty(this.overlaysList),this.layerControlInputs=[];var i=0;for(n=0;n<this.layers.length;n++)r=this.layers[n],this.addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.controlOption.hideSingleBase&&(e=e&&i>1,this.baseLayersList.style.display=e?"":"none"),this.separator.style.display=t&&e?"":"none",this}},{key:"checkDisabledLayers",value:function(){for(var e,t,n=this.layerControlInputs,r=this.mapsService.getZoom(),i=n.length-1;i>=0;i--)if(e=n[i],t=this.layerService.getLayer(e.layerId),t&&t.inited){var o=t.getMinZoom(),a=t.getMaxZoom();e.disabled=r<o||r>a}}},{key:"addLayer",value:function(e,t,n){this.mapsService&&(e.on("add",this.onLayerChange),e.on("remove",this.onLayerChange)),this.layers.push({layer:e,name:t,overlay:n});var r=this.controlOption,i=r.sortLayers,o=r.sortFunction,a=r.autoZIndex;i&&this.layers.sort((function(e,t){return o(e.layer,t.layer,e.name,t.name)})),a&&e.setZIndex&&(this.lastZIndex++,e.setZIndex(this.lastZIndex)),this.expandIfNotCollapsed()}},{key:"expandIfNotCollapsed",value:function(){return this.mapsService&&!this.controlOption.collapsed&&this.expand(),this}},{key:"onLayerChange",value:function(e){this.handlingClick||this.update();var t=this.layerService.getLayer(e.target.layerId),n=null!==t&&void 0!==t&&t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this.emit(n,t)}},{key:"createRadioElement",value:function(e,t){var n='<input type="radio" class="l7-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild}},{key:"addItem",value:function(e){var t,n=document.createElement("label"),r=this.layerService.getLayer(e.layer.id),i=r&&r.inited&&e.layer.isVisible();e.overlay?(t=document.createElement("input"),t.type="checkbox",t.className="l7-control-layers-selector",t.defaultChecked=i):t=this.createRadioElement("l7-base-layers",i),this.layerControlInputs.push(t),t.layerId=e.layer.id,t.addEventListener("click",this.onInputClick);var o=document.createElement("span");o.innerHTML=" "+e.name;var a=document.createElement("div");n.appendChild(a),a.appendChild(t),a.appendChild(o);var s=e.overlay?this.overlaysList:this.baseLayersList;return s.appendChild(n),this.checkDisabledLayers(),n}},{key:"onInputClick",value:function(){var e,t,n=this.layerControlInputs,r=[],i=[];this.handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this.layerService.getLayer(e.layerId),e.checked?r.push(t):e.checked||i.push(t);i.forEach((function(e){e.hide()})),r.forEach((function(e){e.show()})),this.handlingClick=!1}}])})(Wt);function Xt(e){var t=Kt();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Kt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Zt=function(e){ke()(n,e);var t=Xt(n);function n(){return we()(this,n),t.apply(this,arguments)}return Oe()(n,[{key:"getDefault",value:function(){return{position:Bt["g"].BOTTOMLEFT,name:"logo"}}},{key:"onAdd",value:function(){var e="l7-control-logo",t=q["b"].create("div",e),n=q["b"].create("a","l7-ctrl-logo");return n.target="_blank",n.rel="noopener nofollow",n.href="https://antv.alipay.com/l7",n.setAttribute("aria-label","AntV logo"),n.setAttribute("rel","noopener nofollow"),t.appendChild(n),t}},{key:"onRemove",value:function(){return null}}]),n}(Wt);function Qt(e){var t=Jt();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Jt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(function(e){ke()(n,e);var t=Qt(n);function n(e){var r;return we()(this,n),r=t.call(this,e),S()(Ae()(r),"mScale",void 0),S()(Ae()(r),"iScale",void 0),Object(q["o"])(["update"],Ae()(r)),r}Oe()(n,[{key:"getDefault",value:function(){return{position:Bt["g"].BOTTOMLEFT,maxWidth:100,metric:!0,updateWhenIdle:!1,imperial:!1,name:"scale"}}},{key:"onAdd",value:function(){var e="l7-control-scale",t=q["b"].create("div",e);this.addScales(e+"-line",t);var n=this.controlOption.updateWhenIdle;return this.mapsService.on(n?"moveend":"mapmove",this.update),this.mapsService.on(n?"zoomend":"zoomchange",this.update),this.update(),t}},{key:"onRemove",value:function(){var e=this.controlOption.updateWhenIdle;this.mapsService.off(e?"zoomend":"zoomchange",this.update),this.mapsService.off(e?"moveend":"mapmove",this.update)}},{key:"update",value:function(){var e=this.mapsService,t=this.controlOption.maxWidth,n=e.getSize()[1]/2,r=e.containerToLngLat([0,n]),i=e.containerToLngLat([t,n]),o=Object(q["H"])([r.lng,r.lat],[i.lng,i.lat]);this.updateScales(o)}},{key:"updateScales",value:function(e){var t=this.controlOption,n=t.metric,r=t.imperial;n&&e&&this.updateMetric(e),r&&e&&this.updateImperial(e)}},{key:"updateMetric",value:function(e){var t=this.getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this.updateScale(this.mScale,n,t/e)}},{key:"updateImperial",value:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this.getRoundNum(t),this.updateScale(this.iScale,n+" mi",n/t)):(r=this.getRoundNum(i),this.updateScale(this.iScale,r+" ft",r/i))}},{key:"updateScale",value:function(e,t,n){var r=this.controlOption.maxWidth;e.style.width=Math.round(r*n)+"px",e.innerHTML=t}},{key:"getRoundNum",value:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}},{key:"addScales",value:function(e,t){var n=this.controlOption,r=n.metric,i=n.imperial;r&&(this.mScale=q["b"].create("div",e,t)),i&&(this.iScale=q["b"].create("div",e,t))}}])})(Wt);function $t(e){var t=en();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function en(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(function(e){ke()(n,e);var t=$t(n);function n(e){var r;return we()(this,n),r=t.call(this,e),S()(Ae()(r),"disabled",void 0),S()(Ae()(r),"zoomInButton",void 0),S()(Ae()(r),"zoomOutButton",void 0),Object(q["o"])(["updateDisabled","zoomIn","zoomOut"],Ae()(r)),r}Oe()(n,[{key:"getDefault",value:function(){return{position:Bt["g"].TOPLEFT,zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out",name:"zoom"}}},{key:"onAdd",value:function(){var e="l7-control-zoom",t=q["b"].create("div",e+" l7-bar");return this.zoomInButton=this.createButton(this.controlOption.zoomInText,this.controlOption.zoomInTitle,e+"-in",t,this.zoomIn),this.zoomOutButton=this.createButton(this.controlOption.zoomOutText,this.controlOption.zoomOutTitle,e+"-out",t,this.zoomOut),this.mapsService.on("zoomend",this.updateDisabled),this.mapsService.on("zoomchange",this.updateDisabled),this.updateDisabled(),t}},{key:"onRemove",value:function(){this.mapsService.off("zoomend",this.updateDisabled),this.mapsService.off("zoomchange",this.updateDisabled)}},{key:"disable",value:function(){return this.disabled=!0,this.updateDisabled(),this}},{key:"enable",value:function(){return this.disabled=!1,this.updateDisabled(),this}},{key:"zoomIn",value:function(){!this.disabled&&this.mapsService.getZoom()<this.mapsService.getMaxZoom()&&this.mapsService.zoomIn()}},{key:"zoomOut",value:function(){!this.disabled&&this.mapsService.getZoom()>this.mapsService.getMinZoom()&&this.mapsService.zoomOut()}},{key:"createButton",value:function(e,t,n,r,i){var o=q["b"].create("a",n,r);return o.innerHTML=e,o.title=t,o.href="javascript:void(0)",o.addEventListener("click",i),o}},{key:"updateDisabled",value:function(){var e=this.mapsService,t="l7-disabled";q["b"].removeClass(this.zoomInButton,t),q["b"].removeClass(this.zoomOutButton,t),(this.disabled||e.getZoom()<=e.getMinZoom())&&q["b"].addClass(this.zoomOutButton,t),(this.disabled||e.getZoom()>=e.getMaxZoom())&&q["b"].addClass(this.zoomInButton,t)}}])})(Wt);function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rn(e){var t=on();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function on(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var an=function(e){ke()(n,e);var t=rn(n);function n(e){var r;return we()(this,n),r=t.call(this),S()(Ae()(r),"markerOption",void 0),S()(Ae()(r),"defaultMarker",void 0),S()(Ae()(r),"popup",void 0),S()(Ae()(r),"mapsService",void 0),S()(Ae()(r),"sceneSerive",void 0),S()(Ae()(r),"lngLat",void 0),S()(Ae()(r),"scene",void 0),S()(Ae()(r),"added",!1),S()(Ae()(r),"eventHandle",(function(e){r.emit(e.type,{target:e,data:r.markerOption.extData,lngLat:r.lngLat})})),r.markerOption=nn(nn({},r.getDefault()),e),Object(q["o"])(["update","onMove","onUp","addDragHandler","onMapClick"],Ae()(r)),r.init(),r}return Oe()(n,[{key:"getDefault",value:function(){return{element:void 0,anchor:q["l"].BOTTOM,offsets:[0,0],color:"#5B8FF9",draggable:!1}}},{key:"addTo",value:function(e){this.scene=e,this.mapsService=e.get(Bt["k"].IMapService),this.sceneSerive=e.get(Bt["k"].ISceneService);var t=this.markerOption,n=t.element;t.draggable;return this.mapsService.getMarkerContainer().appendChild(n),this.registerMarkerEvent(n),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.update(),this.added=!0,this.emit("added"),this}},{key:"remove",value:function(){this.mapsService&&(this.mapsService.off("click",this.onMapClick),this.mapsService.off("move",this.update),this.mapsService.off("moveend",this.update),this.mapsService.off("mousedown",this.addDragHandler),this.mapsService.off("touchstart",this.addDragHandler),this.mapsService.off("mouseup",this.onUp),this.mapsService.off("touchend",this.onUp)),this.unRegisterMarkerEvent(),this.removeAllListeners();var e=this.markerOption.element;return e&&q["b"].remove(e),this.popup&&this.popup.remove(),this}},{key:"setLnglat",value:function(e){return this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.popup&&this.popup.setLnglat(this.lngLat),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"getElement",value:function(){return this.markerOption.element}},{key:"setElement",value:function(e){var t=this;if(!this.added)return this.once("added",(function(){t.setElement(e)})),this;var n=this.markerOption.element;return n&&q["b"].remove(n),this.markerOption.element=e,this.init(),this.mapsService.getMarkerContainer().appendChild(e),this.registerMarkerEvent(e),this.update(),this}},{key:"openPopup",value:function(){var e=this;if(!this.added)return this.once("added",(function(){e.openPopup()})),this;var t=this.popup;return t?(t.isOpen()||t.addTo(this.scene),this):this}},{key:"closePopup",value:function(){var e=this;this.added||this.once("added",(function(){e.closePopup()}));var t=this.popup;return t&&t.remove(),this}},{key:"setPopup",value:function(e){return this.popup=e,this.lngLat&&this.popup.setLnglat(this.lngLat),this}},{key:"togglePopup",value:function(){var e=this.popup;return e?(e.isOpen()?e.remove():e.addTo(this.scene),this):this}},{key:"getPopup",value:function(){return this.popup}},{key:"getOffset",value:function(){return this.markerOption.offsets}},{key:"setDraggable",value:function(e){throw new Error("Method not implemented.")}},{key:"isDraggable",value:function(){return this.markerOption.draggable}},{key:"getExtData",value:function(){return this.markerOption.extData}},{key:"setExtData",value:function(e){this.markerOption.extData=e}},{key:"update",value:function(){if(this.mapsService){var e=this.markerOption,t=e.element,n=e.anchor;this.updatePosition(),q["b"].setTransform(t,"".concat(q["k"][n]))}}},{key:"onMapClick",value:function(e){var t=this.markerOption.element;this.popup&&t&&this.togglePopup()}},{key:"updatePosition",value:function(){if(this.mapsService){var e=this.markerOption,t=e.element,n=e.offsets,r=this.lngLat,i=r.lng,o=r.lat,a=this.mapsService.getBounds(),s=this.mapsService.lngLatToContainer([i,o]);if(t){t.style.display="block",t.style.whiteSpace="nowrap";var l=this.mapsService.getContainer(),u=0,c=0;if(l&&(u=l.scrollWidth,c=l.scrollHeight),Math.abs(a[0][0])>180||Math.abs(a[1][0])>180){if(s.x>u){var f=this.mapsService.lngLatToContainer([i-360,o]);s.x=f.x}if(s.x<0){var p=this.mapsService.lngLatToContainer([i+360,o]);s.x=p.x}}(s.x>u||s.x<0||s.y>c||s.y<0)&&(t.style.display="none"),t.style.left=s.x+n[0]+"px",t.style.top=s.y-n[1]+"px"}}}},{key:"init",value:function(){var e=this,t=this.markerOption.element,n=this.markerOption,r=n.color,i=n.anchor;if(!t){this.defaultMarker=!0,t=q["b"].create("div"),this.markerOption.element=t;var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","48px"),o.setAttributeNS(null,"width","48px"),o.setAttributeNS(null,"viewBox","0 0 1024 1024");var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttributeNS(null,"d","M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z"),a.setAttributeNS(null,"fill",r),o.appendChild(a),t.appendChild(o)}q["b"].addClass(t,"l7-marker"),Object.keys(this.markerOption.style||{}).forEach((function(n){var r,i,o=(null===(r=e.markerOption)||void 0===r?void 0:r.style)&&(null===(i=e.markerOption)||void 0===i?void 0:i.style[n]);t&&(t.style[n]=o)})),t.addEventListener("click",(function(t){e.onMapClick(t)})),t.addEventListener("click",this.eventHandle),Object(q["m"])(t,i,"marker")}},{key:"registerMarkerEvent",value:function(e){e.addEventListener("mousemove",this.eventHandle),e.addEventListener("click",this.eventHandle),e.addEventListener("mousedown",this.eventHandle),e.addEventListener("mouseup",this.eventHandle),e.addEventListener("dblclick",this.eventHandle),e.addEventListener("contextmenu",this.eventHandle),e.addEventListener("mouseover",this.eventHandle),e.addEventListener("mouseout",this.eventHandle)}},{key:"unRegisterMarkerEvent",value:function(){var e=this.getElement();e.removeEventListener("mousemove",this.eventHandle),e.removeEventListener("click",this.eventHandle),e.removeEventListener("mousedown",this.eventHandle),e.removeEventListener("mouseup",this.eventHandle),e.removeEventListener("dblclick",this.eventHandle),e.removeEventListener("contextmenu",this.eventHandle),e.removeEventListener("mouseover",this.eventHandle),e.removeEventListener("mouseout",this.eventHandle)}},{key:"addDragHandler",value:function(e){throw new Error("Method not implemented.")}},{key:"onUp",value:function(e){throw new Error("Method not implemented.")}}]),n}(Ve["EventEmitter"]),sn=n("QkVN"),ln=n.n(sn);function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fn(e){var t=pn();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function pn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(function(e){ke()(n,e);var t=fn(n);function n(e){var r,i;return we()(this,n),i=t.call(this),S()(Ae()(i),"markers",[]),S()(Ae()(i),"markerLayerOption",void 0),S()(Ae()(i),"clusterIndex",void 0),S()(Ae()(i),"points",[]),S()(Ae()(i),"clusterMarkers",[]),S()(Ae()(i),"mapsService",void 0),S()(Ae()(i),"scene",void 0),S()(Ae()(i),"zoom",void 0),S()(Ae()(i),"bbox",void 0),i.markerLayerOption=ln()(i.getDefault(),e),Object(q["o"])(["update"],Ae()(i)),i.zoom=(null===(r=i.markerLayerOption.clusterOption)||void 0===r?void 0:r.zoom)||-99,i}Oe()(n,[{key:"getDefault",value:function(){return{cluster:!1,clusterOption:{radius:80,maxZoom:20,minZoom:0,zoom:-99,style:{},className:""}}}},{key:"addTo",value:function(e){return this.scene=e,this.mapsService=e.get(Bt["k"].IMapService),this.markerLayerOption.cluster&&(this.initCluster(),this.update(),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.addMarkers(),this}},{key:"addMarker",value:function(e){var t=this.markerLayerOption.cluster;if(t&&(this.addPoint(e,this.markers.length),this.mapsService)){var n=this.mapsService.getZoom(),r=this.mapsService.getBounds();this.bbox=Object(q["K"])(r,.5),this.zoom=Math.floor(n),this.getClusterMarker(this.bbox,this.zoom)}this.markers.push(e)}},{key:"removeMarker",value:function(e){this.markers.indexOf(e);var t=this.markers.indexOf(e);t>-1&&this.markers.splice(t,1)}},{key:"hide",value:function(){this.markers.map((function(e){e.getElement().style.opacity="0"})),this.clusterMarkers.map((function(e){e.getElement().style.opacity="0"}))}},{key:"show",value:function(){this.markers.map((function(e){e.getElement().style.opacity="1"})),this.clusterMarkers.map((function(e){e.getElement().style.opacity="1"}))}},{key:"getMarkers",value:function(){var e=this.markerLayerOption.cluster;return e?this.clusterMarkers:this.markers}},{key:"addMarkers",value:function(){var e=this;this.getMarkers().forEach((function(t){t.addTo(e.scene)}))}},{key:"clear",value:function(){this.markers.forEach((function(e){e.remove()})),this.clusterMarkers.forEach((function(e){e.remove()})),this.mapsService.off("camerachange",this.update),this.markers=[],this.clusterMarkers=[]}},{key:"destroy",value:function(){this.clear(),this.removeAllListeners()}},{key:"addPoint",value:function(e,t){var n=e.getLnglat(),r=n.lng,i=n.lat,o={geometry:{type:"Point",coordinates:[r,i]},properties:cn(cn({},e.getExtData()),{},{marker_id:t})};this.points.push(o),this.clusterIndex&&this.clusterIndex.load(this.points)}},{key:"initCluster",value:function(){if(this.markerLayerOption.cluster){var e=this.markerLayerOption.clusterOption,t=e.radius,n=e.minZoom,r=void 0===n?0:n,i=e.maxZoom;this.clusterIndex=new qe.a({radius:t,minZoom:r,maxZoom:i}),this.clusterIndex.load(this.points)}}},{key:"getClusterMarker",value:function(e,t){var n=this,r=e[0].concat(e[1]),i=this.clusterIndex.getClusters(r,t);this.clusterMarkers.forEach((function(e){e.remove()})),this.clusterMarkers=[],i.forEach((function(e){var t,r=n.markerLayerOption.clusterOption,i=r.field,o=r.method;if(e.properties&&null!==(t=e.properties)&&void 0!==t&&t.cluster_id){var a,s=n.getLeaves(null===(a=e.properties)||void 0===a?void 0:a.cluster_id);if(e.properties.clusterData=s,i&&o){var l=null===s||void 0===s?void 0:s.map((function(e){var t=S()({},i,e.properties[i]);return t})),u=q["f"].getColumn(l,i),c=q["f"].getSatByColumn(o,u),f="point_"+o;e.properties[f]=c.toFixed(2)}}var p=n.clusterMarker(e);n.clusterMarkers.push(p),p.addTo(n.scene)}))}},{key:"getLeaves",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e?this.clusterIndex.getLeaves(e,t,n):null}},{key:"clusterMarker",value:function(e){var t=this.markerLayerOption.clusterOption,n=t,r=n.element,i=void 0===r?this.generateElement.bind(this):r,o=new an({element:i(e)}).setLnglat({lng:e.geometry.coordinates[0],lat:e.geometry.coordinates[1]});return o}},{key:"normalMarker",value:function(e){var t=e.properties.marker_id;return this.markers[t]}},{key:"update",value:function(){if(this.mapsService){var e=this.mapsService.getZoom(),t=this.mapsService.getBounds();(!this.bbox||Math.abs(e-this.zoom)>=1||!Object(q["p"])(this.bbox,t))&&(this.bbox=Object(q["K"])(t,.5),this.zoom=Math.floor(e),this.getClusterMarker(this.bbox,this.zoom))}}},{key:"generateElement",value:function(e){var t=q["b"].create("div","l7-marker-cluster"),n=q["b"].create("div","",t),r=q["b"].create("span","",n),i=this.markerLayerOption.clusterOption,o=i.field,a=i.method;e.properties.point_count=e.properties.point_count||1;var s=o&&a?e.properties["point_"+a]||e.properties[o]:e.properties.point_count;return r.textContent=s,t}}])})(Ve["EventEmitter"]);function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vn(e){var t=mn();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function mn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(function(e){ke()(n,e);var t=vn(n);function n(e){var r;return we()(this,n),r=t.call(this),S()(Ae()(r),"popupOption",void 0),S()(Ae()(r),"mapsService",void 0),S()(Ae()(r),"sceneSerive",void 0),S()(Ae()(r),"lngLat",void 0),S()(Ae()(r),"content",void 0),S()(Ae()(r),"closeButton",void 0),S()(Ae()(r),"timeoutInstance",void 0),S()(Ae()(r),"container",void 0),S()(Ae()(r),"tip",void 0),S()(Ae()(r),"scene",void 0),r.popupOption=hn(hn({},r.getdefault()),e),Object(q["o"])(["update","onClickClose","remove"],Ae()(r)),r}Oe()(n,[{key:"addTo",value:function(e){var t=this;return this.mapsService=e.get(Bt["k"].IMapService),this.sceneSerive=e.get(Bt["k"].ISceneService),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.scene=e,this.update(),this.popupOption.closeOnClick&&(this.timeoutInstance=setTimeout((function(){t.mapsService.on("click",t.onClickClose)}),30)),this.emit("open"),this}},{key:"close",value:function(){this.remove()}},{key:"open",value:function(){this.addTo(this.scene)}},{key:"setHTML",value:function(e){var t,n=window.document.createDocumentFragment(),r=window.document.createElement("body");r.innerHTML=e;while(1){if(t=r.firstChild,!t)break;n.appendChild(t)}return this.setDOMContent(n)}},{key:"setLnglat",value:function(e){return this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.mapsService&&(this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"setText",value:function(e){return this.setDOMContent(window.document.createTextNode(e))}},{key:"setMaxWidth",value:function(e){return this.popupOption.maxWidth=e,this.update(),this}},{key:"setDOMContent",value:function(e){return this.createContent(),this.content.appendChild(e),this.update(),this}},{key:"remove",value:function(){return this.content&&this.removeDom(this.content),this.container&&(this.removeDom(this.container),delete this.container),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.mapsService.off("click",this.onClickClose),delete this.mapsService),clearTimeout(this.timeoutInstance),this.emit("close"),this}},{key:"isOpen",value:function(){return!!this.mapsService}},{key:"createContent",value:function(){this.content&&q["b"].remove(this.content),this.content=q["b"].create("div","l7-popup-content",this.container),this.popupOption.closeButton&&(this.closeButton=q["b"].create("button","l7-popup-close-button",this.content),this.popupOption.closeButtonOffsets&&(this.closeButton.style.right=this.popupOption.closeButtonOffsets[0]+"px",this.closeButton.style.top=this.popupOption.closeButtonOffsets[1]+"px"),this.closeButton.setAttribute("aria-label","Close popup"),this.closeButton.innerHTML="&#215;",this.closeButton.addEventListener("click",this.onClickClose))}},{key:"creatDom",value:function(e,t,n){var r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r}},{key:"removeDom",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"getdefault",value:function(){return{closeButton:!0,closeOnClick:!0,maxWidth:"240px",offsets:[0,0],anchor:q["l"].BOTTOM,className:"",stopPropagation:!0}}},{key:"onClickClose",value:function(e){e.stopPropagation&&e.stopPropagation(),this.remove()}},{key:"update",value:function(){var e=this,t=this.lngLat,n=this.popupOption,r=n.className,i=n.maxWidth,o=n.anchor;if(this.mapsService&&t&&this.content){var a=this.mapsService.getMarkerContainer();if(!this.container&&a){this.container=this.creatDom("div","l7-popup",a),this.tip=this.creatDom("div","l7-popup-tip",this.container),this.container.appendChild(this.content),r&&r.split(" ").forEach((function(t){return e.container.classList.add(t)}));var s=this.popupOption.stopPropagation;s&&["mousemove","mousedown","mouseup","click","dblclick"].forEach((function(t){e.container.addEventListener(t,(function(e){e.stopPropagation()}))})),this.container.style.whiteSpace="nowrap"}i&&this.container.style.maxWidth!==i&&(this.container.style.maxWidth=i),this.updatePosition(),q["b"].setTransform(this.container,"".concat(q["k"][o])),Object(q["m"])(this.container,o,"popup")}}},{key:"updatePosition",value:function(){if(this.mapsService){var e=this.lngLat,t=e.lng,n=e.lat,r=this.popupOption.offsets,i=this.mapsService.lngLatToContainer([t,n]);this.container.style.left=i.x+r[0]+"px",this.container.style.top=i.y-r[1]+"px"}}}])})(Ve["EventEmitter"]);function gn(e,t){var n="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM,r="undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||"undefined"!==typeof wx.miniProgram);if(!n&&!r&&(t||(t=document),t)){var i=t.head||t.getElementsByTagName("head")[0];if(!i){i=t.createElement("head");var o=t.body||t.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):t.documentElement.appendChild(i)}var a=t.createElement("style");return a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),i.appendChild(a),a}}gn(".l7-marker-container {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n}\n\n.l7-marker {\n  position: absolute !important;\n  top: 0;\n  left: 0;\n  z-index: 5;\n  cursor: pointer;\n}\n\n.l7-marker-cluster {\n  background-clip: padding-box;\n  border-radius: 20px;\n  background-color: rgba(181, 226, 140, 0.6);\n  width: 40px;\n  height: 40px;\n}\n.l7-marker-cluster div {\n  width: 30px;\n  height: 30px;\n  margin-left: 5px;\n  margin-top: 5px;\n  text-align: center;\n  border-radius: 15px;\n  font: 12px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n  background-color: rgba(110, 204, 57, 0.6);\n}\n.l7-marker-cluster span {\n  line-height: 30px;\n}\n\n.l7-popup-anchor-bottom,\n.l7-popup-anchor-bottom-left,\n.l7-popup-anchor-bottom-right {\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: column-reverse;\n          flex-direction: column-reverse;\n}\n\n.l7-popup-close-button {\n  position: absolute;\n  right: 0;\n  top: 0;\n  border: 0;\n  border-radius: 0 3px 0 0;\n  cursor: pointer;\n  background-color: transparent;\n}\n\n.l7-popup-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 10px 10px 15px;\n  pointer-events: auto;\n}\n\n/* layers control */\n\n.l7-control-layers {\n  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4);\n          box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4);\n  background: #fff;\n  border-radius: 5px;\n}\n.l7-popup-anchor-top,\n.l7-popup-anchor-top-left,\n.l7-popup-anchor-top-right {\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n\n.l7-popup-anchor-left {\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n}\n\n.l7-popup-anchor-right {\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: row-reverse;\n          flex-direction: row-reverse;\n}\n.l7-popup {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  will-change: transform;\n  pointer-events: none;\n  z-index: 5;\n}\n.l7-popup-tip {\n  width: 0;\n  height: 0;\n  border: 10px solid transparent;\n  z-index: 1;\n}\n.l7-popup-anchor-top .l7-popup-tip {\n  -webkit-align-self: center;\n  -ms-flex-item-align: center;\n      align-self: center;\n  border-top: none;\n  border-bottom-color: #fff;\n}\n\n.l7-popup-anchor-top-left .l7-popup-tip {\n  -webkit-align-self: flex-start;\n  -ms-flex-item-align: start;\n      align-self: flex-start;\n  border-top: none;\n  border-left: none;\n  border-bottom-color: #fff;\n}\n\n.l7-popup-anchor-top-right .l7-popup-tip {\n  -webkit-align-self: flex-end;\n  -ms-flex-item-align: end;\n      align-self: flex-end;\n  border-top: none;\n  border-right: none;\n  border-bottom-color: #fff;\n}\n\n.l7-popup-anchor-bottom .l7-popup-tip {\n  -webkit-align-self: center;\n  -ms-flex-item-align: center;\n      align-self: center;\n  border-bottom: none;\n  border-top-color: #fff;\n}\n\n.l7-popup-anchor-bottom-left .l7-popup-tip {\n  -webkit-align-self: flex-start;\n  -ms-flex-item-align: start;\n      align-self: flex-start;\n  border-bottom: none;\n  border-left: none;\n  border-top-color: #fff;\n}\n\n.l7-popup-anchor-bottom-right .l7-popup-tip {\n  -webkit-align-self: flex-end;\n  -ms-flex-item-align: end;\n      align-self: flex-end;\n  border-bottom: none;\n  border-right: none;\n  border-top-color: #fff;\n}\n\n.l7-popup-anchor-left .l7-popup-tip {\n  -webkit-align-self: center;\n  -ms-flex-item-align: center;\n      align-self: center;\n  border-left: none;\n  border-right-color: #fff;\n}\n\n.l7-popup-anchor-right .l7-popup-tip {\n  -webkit-align-self: center;\n  -ms-flex-item-align: center;\n      align-self: center;\n  border-right: none;\n  border-left-color: #fff;\n}\n\n.l7-popup-close-button {\n  position: absolute;\n  right: 0;\n  top: 0;\n  border: 0;\n  padding: 0;\n  font-size: 25px;\n  line-height: 20px;\n  border-radius: 0 3px 0 0;\n  cursor: pointer;\n  background-color: transparent;\n}\n\n.l7-popup-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 10px 10px 15px;\n  pointer-events: auto;\n}\n\n.l7-popup-anchor-top-left .l7-popup-content {\n  border-top-left-radius: 0;\n}\n\n.l7-popup-anchor-top-right .l7-popup-content {\n  border-top-right-radius: 0;\n}\n\n.l7-popup-anchor-bottom-left .l7-popup-content {\n  border-bottom-left-radius: 0;\n}\n\n.l7-popup-anchor-bottom-right .l7-popup-content {\n  border-bottom-right-radius: 0;\n}\n\n.l7-popup-track-pointer {\n  display: none;\n}\n\n.l7-popup-track-pointer * {\n  pointer-events: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n\n.l7-map:hover .l7-popup-track-pointer {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.l7-map:active .l7-popup-track-pointer {\n  display: none;\n}\n\n.l7-popup-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 10px 10px 15px;\n  pointer-events: auto;\n}\n\n/* general toolbar styles */\n\n.l7-bar {\n  -webkit-box-shadow: 0 0 1px rgba(0, 0, 0, 0.3);\n          box-shadow: 0 0 1px rgba(0, 0, 0, 0.3);\n  border-radius: 4px;\n}\n.l7-bar a,\n.l7-bar a:hover {\n  background-color: #fff;\n  width: 30px;\n  height: 30px;\n  font-size: 20px;\n  display: block;\n  text-align: center;\n  text-decoration: none;\n  color: #8e9dab;\n}\n.l7-bar a,\n.l7-control-layers-toggle {\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n  display: block;\n}\n.l7-bar a:hover {\n  background-color: #f4f4f4;\n}\n.l7-bar a:first-child {\n  border-top-left-radius: 2px;\n  border-top-right-radius: 2px;\n}\n.l7-bar a:last-child {\n  border-bottom-left-radius: 2px;\n  border-bottom-right-radius: 2px;\n  border-bottom: none;\n}\n.l7-bar a.l7-disabled {\n  cursor: default;\n  background-color: #f4f4f4;\n  color: #bbb;\n}\n\n/* control positioning */\n\n.l7-control-container {\n  font: 12px/1.5 'Helvetica Neue', Arial, Helvetica, sans-serif;\n}\n.l7-control-hide {\n  display: none;\n}\n.l7-control {\n  position: relative;\n  z-index: 800;\n  pointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\n  pointer-events: auto;\n}\n.l7-control {\n  float: left;\n  clear: both;\n}\n.l7-top,\n.l7-bottom {\n  position: absolute;\n  z-index: 1000;\n  pointer-events: none;\n}\n.l7-top {\n  top: 0;\n}\n.l7-right {\n  right: 0;\n}\n.l7-bottom {\n  bottom: 0;\n}\n.l7-left {\n  left: 0;\n}\n.l7-center {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  position: absolute;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.l7-bottom.l7-center,\n.l7-top.l7-center {\n  width: 100%;\n}\n.l7-right.l7-center,\n.l7-left.l7-center {\n  height: 100%;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n\n.l7-top.l7-center,\n.l7-left.l7-center {\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n}\n\n.l7-bottom.l7-center,\n.l7-right.l7-center {\n  -webkit-box-align: end;\n      -ms-flex-align: end;\n          align-items: flex-end;\n}\n\n.l7-center .l7-control {\n  margin-right: 10px;\n  margin-bottom: 10px;\n}\n\n.l7-control {\n  float: left;\n  clear: both;\n}\n.l7-right .l7-control {\n  float: right;\n}\n.l7-top .l7-control {\n  margin-top: 10px;\n}\n.l7-bottom .l7-control {\n  margin-bottom: 10px;\n}\n.l7-left .l7-control {\n  margin-left: 10px;\n}\n.l7-right .l7-control {\n  margin-right: 10px;\n}\n\n/* attribution and scale controls */\n\n.l7-control-container .l7-control-attribution {\n  background: #fff;\n  background: rgba(59, 58, 58, 0.7);\n  margin: 0;\n}\n.l7-control-attribution,\n.l7-control-scale-line {\n  padding: 0 5px;\n  color: #333;\n}\n.l7-control-attribution a {\n  text-decoration: none;\n}\n.l7-control-attribution a:hover {\n  text-decoration: underline;\n}\n.l7-container .l7-control-attribution,\n.l7-container .l7-control-scale {\n  font-size: 11px;\n  padding: 5px 5px 2px 5px;\n  background: rgba(255, 255, 255, 0.7);\n}\n.l7-left .l7-control-scale {\n  margin-left: 5px;\n}\n.l7-bottom .l7-control-scale {\n  margin-bottom: 5px;\n}\n.l7-control-scale-line {\n  border: 2px solid #000;\n  border-top: none;\n  color: #000;\n  line-height: 1.1;\n  padding: 2px 5px 1px;\n  font-size: 11px;\n  white-space: nowrap;\n  overflow: hidden;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n\n  background: #fff;\n}\n.l7-control-scale-line:not(:first-child) {\n  border-top: 2px solid #777;\n  border-bottom: none;\n  margin-top: -2px;\n}\n.l7-control-scale-line:not(:first-child):not(:last-child) {\n  border-bottom: 2px solid #777;\n}\n\n.l7-touch .l7-control-attribution,\n.l7-touch .l7-control-layers,\n.l7-touch .l7-bar {\n  -webkit-box-shadow: none;\n          box-shadow: none;\n}\n.l7-touch .l7-control-layers,\n.l7-touch .l7-bar {\n  border: 2px solid rgba(0, 0, 0, 0.2);\n  background-clip: padding-box;\n}\n/*logo */\n\n.l7-ctrl-logo {\n  background-size: 100% 100%;\n  width: 89px;\n  height: 16px;\n  margin: 0 0 -3px -3px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALIAAAAgCAYAAAHBIxK2AAAABGdBTUEAALGPC/xhBQAAIJZJREFUeAHtfAl8Tkf3/9z7PNmDRFbZSawhQcRSaqva1xCqpataqrT2UkuUUiqlaKtafe1VS1pUiypB0dIgIkpKRPZIELI/2/zO98akN48nltL3838//84nNzNzzpkzc+eee+bMOXMfxijNaMJ7LOrGO/HdYfZ8fb12gD2JJINJdR8WNHVQnRtSn7hilpz0u2DMKaEcFhZmhdzLNbiPyNVlwPxcm4Qh93Fr0gO4Ol5hfqiz6Q14G+QzGpYzQ9nXrUl7X/fgbrXdG3skX7m26+bNW2fQqJ5XmCs6RQKd6EQwB0zgtKgsvCidGF+N8wV/SBLqSKnXzx2WKIHw1xNxq2xtrKsBXqgrbePt1rivJFmloa5OoD129NcVQwa9Phxwaflw3ifvHCus1YIVjW7fwEF66dIhdYO/XV7Qk+9HY/5F7RA+w0G5TdRxq7gw10FBPWwA+3r9jpkYGcoJ5/7YiFxMiYCjLspsekOeCiJ1AhJJNER+8rfTX/j4BNcUMNCLMmhF+wC3cE9RZmMd/0IQjeTtGdwJjURD5EajsRQN1EwEHjAkUVce2LLhnKf8xGId3ZhkX4uxmj7MMKqJz0ZmMr3MJNZBmphV8WDBOCCgo+2QiE7DF3005wvU75e8vMLs4+P3HwwN7do5MzOu2NcjpPHRX/csCqjt2wvtxEAy8xJ3o+7j3jjkcurpn2xtrT0EPiS0oQPKSOfi/ygqL9H/qNbls8EXuer4+65xUa149QnBvGYFgapAN21EZ+pnuH3rrrnKdNA/zCRmjoqGzu36RoL21q38BLAAjRgo6iir63g1QAOcOoU27DAgwKtpPzVMKU+qBWIuve3Jx0zw4j/eQ0CASeNnjUi5mrYH72ZxUfFV0emJ479/BvrM9KxDAgZZEjziTp1d8+pL415sEdJloIAhF7QCZmnQoCkuLkkXNPfkozU8b4wVb30P4i4ADNQ41P08mtSBogHc27Vx70CPEHeUgRNwgUOuTqBR8wwODraGSIkrKipKxqVuI300mntri1jz9OOs0IHeHUdvms2t0iG+vn5nxmnan5QeUff6GGWttpidSjvGbCSZJdAAGTMwtjWSH2G5XrOp3oEv9wuWxqdeUPchZkW8OGqcedmcdujgUcMOH/zltmgL2YW2Fu22fbMz6q2xM+IEvmvHiCGyRq7AK3QLe959+T6v46co0uVBisLk0/9SqIIhcnQiVBPqULJ4dPVd2ypLg6Dx8wxuhAGDHrCOHTtqUfZ2b6KsYYIOuUiXL1/dKW4SMJRxkbbpG9nv5ecVutlt+PSoNvw7VPg8V4X5wqf4YQVp9g+NDQZDITr2cm/8lNIGlbvp+edGD/946eqJqOKmoBJRhjyjrclk0qlZAqeumw8YOEwE6ILdgh0raN9pcHeWx9n3mViPh9IKnlmBVBWI4bfoePDAEcOGPz9WWUDBzMe1cUdft5CnUfb2DvFR8rsz2avrkOdmT18wJisz5zDaqthVWjwAtzRgtBF9VbSdVofXIPWmB2CCouYqUBUFH59QbwwEqg0XykAi96/VuCEetRrm59msEfA+nqEtAUeqNEt324JGJEsDxpMi26gnaCpUxqJk6bahkGFp3akrZO8IBurcVGponpGW+VOdQP++uIAznzE1/cBBvRRZTc+OP0miUBJ78OiyxNxE6uX+KSP3vDIZuEE/z9BgWZZtHHj1oxZbkS6uJFNqIn+SWSy1AubjFtLd171xoHrQooyFQJRB7+0eHBrk2cxNtBW5mgYwoYNFXg5r7CvoFXWxajQ3mjiTc84wVkB2kTWt5NYk3lZ02SCvzphDDVrNZOY2p3mdA0wrhQoGSm5ig6SRyTsqwSxUaMKk+t4tXJIy4/IsoP82yNu7pYusKwk2WdslZmScvGHOyNs1tJ5GNrjVaeT2W2xsLCnuv5J6woQq/QtbXoLCMJqYtbWj208pKbGK4aamgWJR19XlCvpFEdxn6SDOl0byAjXB/cp8rlM/PteZ83k1T92PTuAw0Ly8GychmosWLB/v7xFSW+AeJQ/0auyLiYFEBgQ0dYKdDRsJfFOvpe0V76fgCVrgkNQTao63hAONr2vjFtAFltoTTFLzB415Al7RFdNipHRviWlLbzCHhZ05HxfEy9e7T/zX8FV+XLk+96e8Tl0xOJZfOpjdKp4kzboZXgGrouDj1rTunHnTQl1caoZ/unLNlKnTx32sNxobR0ZGakQTDCY8tEtEkG+LfihDg+NC2ccjpBXoyMTqVaLjTaFLduxe219XqH+67HYGKU5D0pbN30X5+vl0a9m6mZOPTxvFUIayPRAbM1RpS1uztp0a/SD6e9hcYlKVqgi7QEg/DAyRsAUsKSlNLyvT56Bs8e2Ias4LZzfnfEowJyOOVocZDs9jt8YnMDvUZzblZ+jis1rwtqg/KMHgwEThCUOCUS64U/An6iiL9oIGcFjwqMOQQB0JdTyEXd/tfR/1rMzsWCrPBxwPCxJMfJMELVYq0KO+fNkXk6CHRV/qXPSLXA0XZejpqiRZ0IgcY7hzu+AS2TB3quInaNnU2vzSlNqcT/fhHSqAVJgawAunEXxCPU4W9MMlcRN0ryZMAl2XcOHm6YlnYgMAToIOuxks+YBBErGrAa0YtKDDDkeYAaBFErjSUl2uKOfm5v1GE9y1nOLe/4IO+b3YchfKw0wy3lZ6m2arxyr4KV4RURH54qtS/fGufEMZZ7Hja/Ko0ptsgYML0+kKGM+4wbTbmGQUtPfLMfBrWWc3gIZenX4aJmUp9OQdqunk4nv2QmzMus0rO730wtj0qu2DqnuQjCYbrOjYrINq5JuRe/CKQp3QtRMweivm0yur+FBQf9xk6WFQX99Tvw2GDO0390jssWXW1vKf6n4q7Dc1EOXledJwQxF7RV/EomQbptMXssJlNyT5YSe4dq1m/s907eik1WprNKjdur9sW/1AWt7535Ur6/zvN2/lpcds/37eM892mEgTXGHuHD1y4qLRYK0YvrJsMly5knKu0tg0csmObbvfC2/ZbETK9bOnW4TU7xtGEw0a2geZbKysz/Xu9txQvV6fX6VOrMTw/hVsdF8b/tbGgX1feqF1m7Bq5hda+/o+pVgXm9Ztmzk0ctTBlMyEi/fnaoZ9g3HH1xmv5GgwI/m3+oAZUOzkj4fx7rQBt7qdxnhJDiuj/YlBe9dG1pLNbF9D8c2dem2xVMA3NQhjBk6WMyVaelmZVaL0+vmcB/Tz/zVa+8lIPlWW2SLMQh559ZSNCE2sbCq/FBuLyrrbLJVHsYZMr/sdfpiKJOv1pOxtyISp0tQRtHXqhNWQZffSy5d/LBOwJ5H71mrcAnzSSA2Z84ObJPlCbiujSZubkRefZI5X61hL5pavbzMvY4kuTCuzm6nXE4+Ztwf/lBRmcW1zcSkwxsXF6bWmEnbQSPJsoqWMZumwUqYC7QCVi3Y6tMmnCZdYDItiJezj0v3MaLJmRmXX58w0zKJ3w3ww2IwE+fk7JSUll9b2Crl4NfPcJXOav1OH7fyfdSs6cS7zl18Y65GRd36Pmk/S+dwex0/tHTN54pxNJ0/I2tTsM5WccqDFQgn9rW4nyphg4J95ut9gZis7p6Ym3BI4L9eQ+sS/ntrbLXDIE8/fLKaHVP7goyN5whKyKKMHcsWboSasqsznORfSRYEaz3v29uZt4JiDxMC8QVJLjzntg+ow+dBe7BhRJ1MwQ/AVkRbwQbBj7OtTXgVu49qt79LDrW/OX4yrqjEJ/OIPVrwlfM2CB/rW6XQ3wd9SgjsM41SsC9pLt+H0AptK2fdRjFdYHHwdhY0QOsL1VZDimkIHfLLD8xThcmCF+p3SjOxc0WlV+Zervm2x68dN/QQ+MLC2DVSHqOOVw6ZFXDRgCXjUBQ1y7Py+3bO+HyQLO0bArGV2auRrkxRv1orPPgjXF6XVARxJz0vCPvz4vbkoT50899yTenvAD0ljLx0L8Gr2Et4C9XXnTkEiecNKv/xiU/q1nHNXlQmN2iYVlpWwL0qLmSR3ZNFgQCpCogXuLDMa45WrTH8AcCVpTL8Q7ChbVDhAgO6XmwwGj7AWoa9lZ+UcBt3ufZvn6Ar0bUSbP/+42cJQ7NhbNjj3ybpW2p0G3LtP966DUIYk0TbZDr4Kk9Ho7lXLw1+0g6qo6Wtz8+f9sfmARQzqPZNWiCCBJ/NLtrOz9SkoKPxDlmT1SiJIHiuH6oAeF5e1o9XRGjWqa6pXrxbcqlm3YY7Wtifu6WDeU1xHF59an1cDki9wm8nnU7h3AV0fergDNrsln0+BtKUoP0yizYJr/57DhuJ1wnY5/mziepTVr6e3R0hrsbPLyck7BrxIZO/eAi2uuwE4I3Aok5rIAtzPPbjtxQuXtgCOOtQTwkqrPvlqMmBd2vcfDGeSpfGCXrS7H96SujCnBy+oj6LComSoEoGvUA0A6EvZ8DLaO9nYsUOoSzNy57Oi4mJyBu2SpuRcj2rGvZievUsRgleBf5gk6cpabd62egFoaYtr6NFl8DaUoz96LzTAq0kDlNWppLhE2UTg9Tuf8MdG2sw4DRjQU9H7e3b/FE2vomLoU3nJjm92rYSEwoXZuX3EJvDZsWtdz/+sjGlqMJqCXx/90jzALlz4syQl5awi7aj/EwnxPfC1srJy7ti232Sb6jZHRT+VJvm909I3pjKWayxjYdODeLkO1hnC2OLC/mhQWsJO6UvInCtjHQWDB+XKK2tvF3Dq5JkvVR4t/tzwiHk6namuefunwruvEq9ft86RW4Ef9sqQcK2WXRkzYtKBgtsFGYCNHjHpt3enzd+cnpvwo8pHbKQd2Wg9M3qDhjz9tqd+O7tao2XZqP+TKf8Ga3vyzP630EdGRpY+OTnutuiv0iQDqDOxVgaaSDLpjqMuResukoXHpwTw7jT5XnQlfHBBOgPcgxIiEqu+jG4NuoYN63a4mHzio0vJvy7Blhcwa2srWW0NAFZVgh0uaTSKj0LQYFERZVmy+WP1Z2uno25vZyd/tX5FO5T79x72faoF+xm4J5m4geLOPl7PHPvl1CeyLF1T875nkpdckq7qdOwIqY4aEz35i+XEXCYJ30MXs7dnSghSzaSqMunN2n36dZsBfG7uzYt3r0vpaVm/AHbkxJ4xJYWpD80PbapK6bmnL8+dvURRJXsPbXu5W49OU6n/ItA/zEapKr4PA8fC7OVVS1EXgwe8sq9Nh4aJ6nYWdyrFmayLvQsrIwleF8n4Jk9ntlCvo00gZ6ujE6UHBujQAZw2ZY52Cv8fvj/wwahXJu6VGFdu2sh4rdTs+M6+fl7dSAI+kTS0yfkbCWEndbhJIzPdjRu3TgcGBijqbcHc6Km21iz+b7C22KTEaGxFi1slHDyLsrGgKHr5kvYCsW3btkpeynskGYSrmaQnvTufLubhyL6WDGwK0zH9ypvSKMHoQXmuoaztz0diJoHu9VfePp6el3BYeOGstVYJ0Ys/VSR81OjhPmQqKAvbg3hqZNOd9PTsZNAt/3Rhi+5dW/cmy6SzaGfv7HS817NDlUUWsFWfrU9LzkxMFfjHyadMe3MZ7HPzCwJjMnK/8JbNI6rib1GSQfxpoTT7TRs+mYzLSJJoWkTYsKqYWIIbTNzWuaZTA0iWOT4l+2zKxx99fpXCUKxXv+5hn6/akP7n5eRztbw9O5rToi7cnx5+0rWIvi/uSU4/M2BgZJ/ZAwb2KiO9HynaXLp0rIAkTZeff/tc7MFju2Qm0T7r8RPcnJa43MjL1+PtocUif8SrE2ZkpWWX0Tmbex4q5q/KNFLLO8mcHSTXRc7nRsmzSkILCOzWsJkAypLjBXE4U+mdtmSCGclC+AEbC8US0Wh+u5Jz7jraIWREYfRGuJG064n7AAvxCHHIMxorpLcac4q9lHesYjLRb06qrgtZMoVpuecqzCi0tZRg2wq4pXEiKCDwlnIRMMD9WFvrjGqrwhK9RRj5kp+bwLgS37NI8C/wgTOgSPLyV7ibxoa9Rp7kV8nrVo1E3qSjJSr/CuNlBUxHTswSZmLFkhWTtLSGUqSEjO7yXEN1DZW1FBuQrQllxzK5FVuTc5HtnnOIwlRf1X6Waa1GM24KoNGQT69SkpiGFtIyYwwrMK1jb1+9/U9bApV6/7fyxGYAwewzZ1IdiosNBvF2PzHmD8FIWfcoKPIV7ZZ7Q8rImmJGPWPpR0jqdMxEAs5IgEkWCUm6mf6YRITIOXIFUC6heCvIyguhPIR5s1PE9TYrMixlWkM9ZqRwC2jLkywKSm4tPc005KKeOxe+qb+oKhE9fAUOvLLi0ubYH6AVNpoaLU++lnWezs8/OLbw8D09GUp8HkB7wHCEEwVHjBkOxqvX7x906kgOzMvn89qZWLm7SbSXmXwnqLHLMdVmWKAq5eolSY2wtDyp8aIcFNSqekl+Uftjhy5IbduGV0tKulrCdMEGrcRupeYm/iLoLOXkMpJqe4fUN+hZHRM3keQ9Wip3IGiSEIupmLjooXwByeoUA2daCrSw4nx2Kucye86qhJUq7MUKSznt+SqSHcq0KAqY1okZxqySrlcQUIEvJ7e+RDocW2JdmR3T8K0UT2lOwk1viKQnh2oUuaIqrFt120ct4ySGwaALHDPuVb8ZM9+OxjlFOh95oGXzrsvpxk2e/jb7ERB6VL6PQw9hS79427lUqzOOGBGZj5i64IcPYUp1paHDXxzs+UH07NUCvnrVumlzZ334h0ajuZqWc+68gKtz+Bq//CSmq4kbrRL/PDbPyalGKPDJySm7n27V+wtJywozshMPqduYl4Ugw/oHDm455A8ryDjEhp3CkV+/HxEYGKC0/XDRyreXLVmVbKeyE8HTPOE0DNmONhS3Gu0f4NPTHP+gOj7JGRwx4icYzRU7kUlfSzMW9+PJJMTLS03MztqahXs1YuuK8tmAqFgp70FM74eXxpeHTvhkR3eKY2wic6K5YmRoWBE51UdI825tuV/7h8Uh1qQzFAf26vusy8zZE1eKdt6+Xl1ooovbt+795fVUXRuC03rzzyecisZBYwoCsvETRgbcupFfunrl1mwSHtIW7EpqduKF5My4VBIG9w3rt7L+g3qtggsRI3t91IvzNq7d/sKVK1drk8bOtaSZ16zc3pw0sdV332/sLYSYzofd7tdj+H/Aw1O2/S0DhX8wlWvFv7eI0jpJqs1gs33brv09ej6TT7wqFKulIbt7utalw5RKxJwO4+yCEGMDFdjILbFCkNFw6k7py0XP8qu0Fm8nl4UTcW1nY81ORHXjPaL2SZcFcxq2xNbUXsSstB0oiCbA5TkWCCMvYQbda9KotCuVkCbTQGYyNCFb3ESh72wmayOlRbePV6L5m5UAOh+sK8wNh4tzxaeLF99lY6KjunGuri7h0BZf/GfZBfhQfDyaNEnPSUgw70o5bm8yuZrDUcdSTXftYL4EaiT5tobZJqXknsq+p52e+wB28vT+cfQyPYtyxOA+nw/oPXwPyiKl5ibE+Xs06UJb9x/OJB4OdXd3aUMmkPX2XWsnNAvu8EGZJDWhZfi62izyouPDRh2v9cabr/iGt2o6UvCa9c7CqfQFo0Gy0ZyJyyg/uiZw/0SuNocelX9qbvwv8F5+suxzv6VLPo211J6EvRZWnCXL5jUb+sKAoaDBh5SYKzyT1JxzRzAvlQQZRNN+kn6Oepq3JXn8gar+JKZBRPQbffnSJ+qEpAgdCTjnt/UbGCt7jkq+lbZwVmQqGPlcaVJWhRBHPcXd6ciG29xDbOecNtIGCm3VkKJLnqiy0JfcbIvxxx7fOc7Gxkpx6G3ZEDNn1rsLEy5cOb6GIkIuPXt3eef5FwaO3LxpByNteTM9Pb7yGO7az7+fPTBR+Km2bIyZPWPa/Pi1m1b0b0FONnt7Oz/0g0Su6oLLSVd+GP/G9G9154uLtZL2lsnGPo6XFjyDB0wx33JCC/8NBoavKQKBogB8noskH89jxs5dOw78MC7h5/VkUjiSQD+1fvPKDi8+/+ZhX0/lawzl5bv70jZ1dHTQTJ0xfr5gv+/HQ4vXr/smC/GC9Ixz6QL+T+aPo5ExrvT0E/BwX7I0RoR9TSajFebgmWc7TgINjk6OG/POKVnLctKzE06SECtNK2+67nKLOipdIEEOp7jI73QKg+lKWE3aDB56N5wPuUvCpInpCazEEM7yS86wQloh7tBVXFLEbpa8REL8fjkdl2Y158NItDOp/XnZimXM/ZW3lJY+WSH2dwttRt5o+6+3r+6C4A/6Tkq6EjNp4uz44pIS05wZi94V4164ZNYSN1cXKyz54hyowFnK+0X0GJGccXpneKuwQRcvJB3YvXPfAgSX6CPVeBK2avUb1huy79COLecuHp1Dx5fgU+wCId70zapnhNdZaGPwb9mq2SgBRx45uK87p1Xgjh3NjrV0FmHm92YtnirGggfYp09XV5PRFIBNIeDGohstke/9edtrCNmifC0l/YdXXxz3Cxy76dfPVz4DC4L/sYQvkhFh+HT1h62EEP+45+dFEGJ8xp6enXhSfUsWBRkEM45KubIDe5qE+DsE9XSlNM2lbMv0YP4OxaJIzsm+ePd6DivMb8vu6GKYviyJFRq7Se/d+hq4KMa104PZLBLgDXRiRkPhbU5h7s03PNgx4J9UCvBsGqDnBh/YoO07PDUefEtLyzK7tI9Yh80dQtTr1m7JPHL4+HLg6GxB9f2Hy0M1CNtg5wx4VUnWaO1bNn12YJBfizf69hr+5Zujpqx5PnLUp43rtZvVtFHHCBFAdHFxDlu28v1w8JEljf6FIaN/FseJ8DGe4I9wvYAj37Z113XZVnsaZxUyM8+nkYJJw5Gjn386/JFos3Tl+3NQ1nMpDB/aGbmpxkfL329Wu46fcqiD7je7U9u+n0M72jr5nhDt/ldzH7fgIJOJ+0+aNjaw34AeihI6ezph7YiX3zpGk3sjI/fsWfN7q1KQQUibvNIF51kECfMysmuNlFPUjy2sHchWvhzAyXNM9aWshDTsQOmD0vrShwWKkI704vZFddkXRDuXhJgsELKYS9n7CxKkF1b8KNFr8WQS3Gw6g74JztRNeefNDwXXyeNnzSIBI88gl40GpkRyhg4aeeD69RvKQ8aSHbNrfS+Exvy8yn9OQ7Q1z2kCd+D8BDZnGdcTTqTmJCTjRKgky3nQntezc0+JNl7etRT7WqM1XcOuX9ZoKnlvBB1yrdb6CmhwqU2cjNzEs/A2vPj82Nj0tMz9oLWzt/Pfd3DbYNjntJmr06x5Ywf6ZEIRbuBHvz5lWplOp7jrnvRxZPD/byZ8IE0u3IZ16wbaTpw8Zgn6pjBiQq9uQ2Po6/SyjJwEiy/qfQW5/AYkvviyNIEEcgIFqstweou07GgXA4sZ6cxrlNP89X9MDe7sILM9JK4v60CrYyUlejZy0Z/SrL+oHr8EB7w4q7hr78ZZcLMJritXL16jXr5FGZsoQdOqTfNRM2ZNrGvU81pVfXUGWnoZlN2seqOl8PgH/dFWtm4noF07te33KX0GmIv+GjdpOIzs4SCUN2xZ9Q5lyrPbuuW7uT/tPXjLykq6bMmzAfr/pVQs3WmG8W785rMRlCkr//w50eWrKWPx9zyHuzenvZs/MItOl1a85cGvajjbpJNYdYpd97C3YkfH2fGeK0qkdDCg3x4JoI3fXknH6hMNRnFLx9igZTnSwQd28IgExw9fpO9PTVbQVOR6CkFzslvP0pI/+36scLwRp+9A88a4Vxbt2bV3WHz8hUb0uzm3yn9i4H6tVbgHmCQqykcuptBX2/6uYXFk37d4+413pn62Jvo/YPLm+Nfmt+/QZouzs5PiL066dHnrhHEz4xB8QLDnkTv6hxuQtyWAPESKXV9VV5JReyM193QWBNTXlT4Y4boaeGF9fL26og3cbF9vjsmRtdqcq9nxVX6R9NCCDKYf50jfv+3EO5gYHYbjzItATZg1OzVG5t3IFrWmjeGPpL9cCQ8HXYpGw3rQB38XUX2SCd8ilOmMrouXzAmBpgJvsnUNg/u/shBlnMC2dD7Wzy24HTaAzVuFxtSrFxhBk6fd+u1X8+rXaT2Jlcmt6ZzVHQMYPKEk0SecYEVnd/WCpZNzjZoKjII28FrgvK9tDftjly//dkfQIL+WF5dF9nDyrl37WLeYZ+b3j+g5kzaX9s2aN3kV+OLC4iud2vXfiMMqdYJdfk2NBfT/jfTc0P49unXrVKXQiVEWFhUXvT12xgHaK+jpxf3doNH7IUjWf0DPZwXNvh8OHkFZMsiKshRw8/yRBBmNl+VLZ0fb8ZayzH4krdyEnpQnudbiKRxMAbry9Y5gJwnfOzpfUpZF804fp46dOwlxvY5dnnZ64aVIRbOC39ovN8/GAW9ZsrpoSYhBU82dnczPkbpiI5iUcrK1ra2Nl2M1x7oHf/lueOd2/TeYmEnxAID2iSSDdQbZVp6ff7J214IPZ3YnnnLdunUiyNSJuMvfSC/fi8eOnepAp6EOnss5Rydc/kp0EDORfuXOZeyoqSeDmzSIQVtg8Q3K4IGvzkSZW9vd87sdgP+3Ejw05n3hFxroMgffU6f7KBs4uM8fy5euTjFKRkf6ks4FRJ61PJojL7hTePH99z5Kwsuael3R2gBbTPcMwiKVBeBkxh0KtGw7mQ/dhbeUynihvrU2sKEr2JPb1Km7h238a+ylp4zc6IRNXsdObV3JTswqKCw0kUeCNmLxiWp68zLOBpTeLm5LGydt377dXJycnazhewUd/K/YLZPmk8aOf80/LSW96Ntvf8jFRGodXA5iyRf88Es5xQZda0GbkZZVtGP77ntocaKXlRW3wQOv5ugot+vUyqluUGB18CGT5hZ+jwuOfRx0FbzVOcLQaz7Z0Q6eCsDRHzayiodCI58URwXVbR6l/Lghavw6hYGZsDr/rYSNLSKQcfS7AwiOSGWF4eJewRAmRVAD59MPOjPytwUZncAN5yyzhVacDSFlbDJIbO1qkzQXuP9Gql+/bTXj7WLbUq1t4V3H+kN3q5zWOnq5Jn05Jdm6GvMTExPJnC9PCDgYC2/X1Mp6o38j1xv3m0Q1LT5wu985DghlzGcxdqUaKzvSRpLJXtaFhdUpND8mLsZhKQcPuhSTxRL+UWFCkM3bPexZC/N2/9b/nYF/Z+AxZuD/AA8zEhkTLyOGAAAAAElFTkSuQmCC');\n}\n\n/* layers control */\n\n.l7-control-layers {\n  -webkit-box-shadow: 0 1px 8px rgba(0, 0, 0, 0.4);\n          box-shadow: 0 1px 8px rgba(0, 0, 0, 0.4);\n  background: #fff;\n  border-radius: 2px;\n}\n.l7-control-layers-toggle {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAAGf7Ah0AAAABGdBTUEAALGPC/xhBQAABzdJREFUWAnVV3lslEUUn/l2F0tpwdAih1HEqCReDcphNCo1EkgFkXa5PNpuC0Fo2e7Wgko8KiaKWrvbK5672xYFpNtiRRuNiY0aURA14BGviBcVlaKltVa6+42/N9v5Mrtt05rwj/PHzjt+8743b+a9N8vYwKgMNlUQyemnMtAkaJajvb3dToQSGp8e6boopkr4VYgEMYwO0vhCTfMVzBcMf8bx086YyODcuM80zTqp9IWat+7evW8sMdIxIqqCLa6oiAaJpuEtcBqcc2HEWMZ0JclgZR/Nchf++ubrzKjJSguXS4tVjXvPjfb3/UAAacGTn/MOMb7QnjNpNqP/bKZ50Ai0tqYmCi0n4zbM+W+lBc7JBOa+QPhDwcTsxJXE2+32edKCL9h8hRDmRzpIOWydAylhrcMfDN+ugBRKSdP3KwPhsFJIPth02FISIYQwYsDYcVfWhy/Bon4JgumffMGmiGTwQ0B/sHml4q2ZFAD3WQIQVhx0IdFw8B189lolN+w8w5PnjPmlhJgtA8/vfn3iye7u3yGzDljDxZEG4097Cp3rSSjBtMHunp6vFR+HHoIxmbgTe1xHKssDHecLNFUjMzbqMs5ZlHF7ute17M84+TMHDzr+OvR9JwKdCms9yRkzJq6bPTsWXh05QOPUN+PUHyPWMPhm6UHd7vaUohWZPSRE8OqxpTyibQa/qcTlbEP0vwF7AWUAT3JM9dy69FfSNza+MU4awNE8iQtXSkJuGLleV852ov2h5jkwVof0mUs8aO4LhTuYYFOAjExId0wcFIPahpaLTkWiX9ECfHG/sLNi1i8+HODfgLFFRI96+INNi0cNTgTS1obKQh03aAuk9DeELzcj4pACYivvwvXrFK/PcQZiQWo+hmidpYMUjQC7EOB6xdNsGfAHwk/RDdOVw9Dm+NTUSWtWLDohDVQ37JkbiUT2DwMeVswZP+gtdM4x3HnLDhjcGM2XLWOISaenIGee9MCSgqgMht/H/q/SZYk0qviV3oKcj5XcioESyOoqIseFYDYloxnAGm/hcrcuk3JV2XBMl+pKqn6mENux11+w12m6jpqMMFn7rPPTHdwfCm8yTfG4tMaNu+GepPUFiqbM7T105ARSPQU+dY/LOC/N2gI65WEkyWUEtjmSppfkLvlRLaQ5VnZFDtGGzbheNRROKZmbu/AvUvh3tE4Wff2/0IUC+y2q+4VVoXBW1BSvkR7Rb8BW84lWJQBdlGozcs7GLy3Nd35OSqTxBqtfgkc1+sPjcqbDgEl6xK0dH5lv545LOCVL1/F+3CoY4eyY1+WcBiC2KYEHQBd5XDkyndE17xCm2Ug6BLcSwb3LigE1AlOYu6TS4HUwVEw0Df1osfBnLDwnpiFDCQPuvQ73Fkqxg8/hEVYLXt66MXbbzOK8bKre1hhkgDT0RDja3fEHytwZxCMLH0YWPkD0fxqjqUZDejDSV3z1LbexqPkEPJxKWLqtKOGbvPnZL460NlE/KgfkIZiRrfjShsQcG2QQDUwwXjcuZcID61Ys6ErUJ/LDOiCfLUzUjVQdEg0O4jn/ABEq0iuIjrEcwE0x/KGWNbjPj4BO00Gni0ZOoIPzLR5X9vMqqaQDqDzzENra4V5zp8sBZQcROYjsLvYUOPdbEVBKeiZ193QjCmwtZCM+ldS6EWYTH3wuNSV1i+pFCj/IAaWgGUfBq0N78qPM3DZcp9TxcTQeyzZm3ON2LatXpSlOP8BIB6qDLddHmHnFrBlpNZmZmdZbNXEB9XsRlZXFennqGHzoXW5DaId4iSoc/Q365EjnRjszPnYXZL9NDWUtGsqzCjAw7xprTypbn7fkaILcYqkInzzeX06C8emO8sKlS7stZQLxVMPes/+O9FVAvEpXob+utY6gZmfrtMjf/RUI+2odhF7wJbq+Gzf3zTj5CAwyaoEwozVoCzN1KKK00z7WUbZx9dIOklsO6CAZpu87i5gpHoJ8gtLh9vZixSO2KckV7qysf5Sc5uq2tjOix3rL0FW3IJuSNV0XM/iDs85LqxvqeKUD8n3LxUobt5WVuLJlS9IM4O9i09VRwWtxLWfpcix+hXjs8mZdjn19YuOiuKRgufzXqOuqQi2r8O+yAk/tl2Q/RMW7ETe8UdX1GJhHDM5qjDHJ5e7bs07qBp7ZsTe9t6/vUXykkLKEdLFbLgLJSUn3rrt1yXEdX/1C23jzVG+5Keg/B5r2wJD9g/NcaUAJq4MvXxxl/TWoATcoGc0Av4eUKnIXZlsvXpLHO0CS2KgOtGQgdeuwqWuUjGbUgrdszLHRXXDLF0oe54AS0kyPnc5Iz/2CmV7EeIzSwcjvsHQPXkUhld/kCP6Xu+DRNjg/SWHh+SnODF+aPeVh9XCydAPEsA4kAqsCzcuiTPiw7+maTj6SwGsVk/9gY9xbUpizR8MNS47aAd0C7s35CG8VdrxYyjl/FcdUgo73nY77X9D/Au9RDMh+aBoVAAAAAElFTkSuQmCC');\n  width: 30px;\n  height: 30px;\n  background-size: 20px 20px;\n}\n\n.l7-touch .l7-control-layers-toggle {\n  width: 44px;\n  height: 44px;\n}\n.l7-control-layers .l7-control-layers-list,\n.l7-control-layers-expanded .l7-control-layers-toggle {\n  display: none;\n}\n.l7-control-layers-expanded .l7-control-layers-list {\n  display: block;\n  position: relative;\n}\n.l7-control-layers-expanded {\n  padding: 6px 10px 6px 6px;\n  color: #59626b;\n  background: #fff;\n}\n.l7-control-layers-scrollbar {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  padding-right: 5px;\n}\n.l7-control-layers-selector {\n  margin-top: 2px;\n  position: relative;\n  top: 1px;\n}\n.l7-control-layers label {\n  display: block;\n  padding: 8px;\n}\n.l7-control-layers label input[type='radio'],\n.l7-control-layers label input[type='checkbox'] {\n  width: 14px;\n  height: 14px;\n  margin: 0;\n}\n.l7-control-layers-separator {\n  height: 0;\n  border-top: 1px solid #d8d8d8;\n  margin: 5px -10px 5px -6px;\n}\n.mapboxgl-ctrl-logo {\n  display: none !important;\n}\n.amap-logo {\n  display: none !important;\n}\n");var yn,bn=n("QILm"),_n=n.n(bn),En=n("yG8O"),xn=n.n(En),wn=n("U+yc"),Sn=n.n(wn),On=(n("1ABj"),n("TP7S")),Cn=n.n(On),An=n("GoyQ"),Pn=n.n(An),kn=(yn={},S()(yn,Bt["b"].additive,{enable:!0,func:{srcRGB:Bt["o"].ONE,dstRGB:Bt["o"].ONE,srcAlpha:1,dstAlpha:1}}),S()(yn,Bt["b"].none,{enable:!1}),S()(yn,Bt["b"].normal,{enable:!0,func:{srcRGB:Bt["o"].SRC_ALPHA,dstRGB:Bt["o"].ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}),S()(yn,Bt["b"].subtractive,{enable:!0,func:{srcRGB:Bt["o"].ONE,dstRGB:Bt["o"].ONE,srcAlpha:Bt["o"].ZERO,dstAlpha:Bt["o"].ONE_MINUS_SRC_COLOR},equation:{rgb:Bt["o"].FUNC_SUBTRACT,alpha:Bt["o"].FUNC_SUBTRACT}}),S()(yn,Bt["b"].max,{enable:!0,func:{srcRGB:Bt["o"].ONE,dstRGB:Bt["o"].ONE},equation:{rgb:Bt["o"].MAX_EXT}}),S()(yn,Bt["b"].min,{enable:!0,func:{srcRGB:Bt["o"].ONE,dstRGB:Bt["o"].ONE},equation:{rgb:Bt["o"].MIN_EXT}}),yn),Mn=n("UB5X"),Tn=n.n(Mn);function Ln(e,t,n,r,i){t.updateStyleAttribute(e,n,r,i)}function In(e,t){e.opacity&&Dn("opacity",t,e.opacity),e.strokeWidth&&Dn("strokeWidth",t,e.strokeWidth),e.strokeOpacity&&Dn("strokeOpacity",t,e.strokeOpacity),e.stroke&&Nn("stroke",t,e.stroke),e.offsets&&Rn("offsets",t,e.offsets),e.textOffset&&Rn("textOffset",t,e.textOffset),e.thetaOffset&&Dn("thetaOffset",t,e.thetaOffset)}function Dn(e,t,n){je()(n)?Ln(e,t,n,(function(e){return e})):Tn()(n)?Ln(e,t,[n],void 0):Array.isArray(n)&&2===n.length&&(je()(n[0])&&Be()(n[1])||je()(n[0])&&Array.isArray(n[1])&&Tn()(n[1][0])&&Tn()(n[1][1]))?Ln(e,t,n[0],n[1]):Ln(e,t,[1],void 0)}function Rn(e,t,n){je()(n)?Ln(e,t,n,(function(e){return e})):Array.isArray(n)&&2===n.length&&je()(n[0])&&Be()(n[1])?Ln(e,t,n[0],n[1]):Array.isArray(n)&&2===n.length&&Tn()(n[0])&&Tn()(n[1])?Ln(e,t,n,void 0):Ln(e,t,[0,0],void 0)}function Nn(e,t,n){je()(n)?Ln(e,t,n,void 0):Array.isArray(n)&&2===n.length&&(je()(n[0])&&Be()(n[1])||je()(n[0])&&Array.isArray(n[1])&&n[1].length>0)?Ln(e,t,n[0],n[1]):Ln(e,t,"#fff",void 0)}var jn=n("6gmd");function Fn(e,t){var n=[t[0]-e[0],t[1]-e[1]],r=Object(q["I"])(n),i=[e[0]+1e-4*r[0],e[1]+1e-4*r[1]];return i}function Bn(e,t){var n=this;e.length>0&&t.version===jn["a"]["GAODE2.x"]&&("number"===typeof e[0].coordinates[0]?e.filter((function(e){return!e.originCoordinates})).map((function(e){e.version=jn["a"]["GAODE2.x"],e.originCoordinates=cloneDeep(e.coordinates),e.coordinates=n.mapService.lngLatToCoord(e.coordinates)})):e.filter((function(e){return!e.originCoordinates})).map((function(e){e.version=jn["a"]["GAODE2.x"],e.originCoordinates=cloneDeep(e.coordinates),e.coordinates=n.mapService.lngLatToCoords(e.coordinates)})))}function Un(e,t){e.length>0&&t.version===jn["a"].SIMPLE&&e.map((function(e){e.simpleCoordinate||(e.coordinates=zn(e.coordinates,t),e.simpleCoordinate=!0)}))}function zn(e,t){if("number"===typeof e[0])return t.simpleMapCoord.unproject(e);if(e[0]&&e[0][0]instanceof Array){var n=[];return e.map((function(e){var r=[];e.map((function(e){r.push(t.simpleMapCoord.unproject(e))})),n.push(r)})),n}var r=[];return e.map((function(e){r.push(t.simpleMapCoord.unproject(e))})),r}function Hn(e,t,n){var r;if(!e.scale)return[];var i=(null===e||void 0===e||null===(r=e.scale)||void 0===r?void 0:r.scalers)||[],o=[];i.forEach((function(n){var r,i=n.field;(t.hasOwnProperty(i)||"variable"===(null===(r=e.scale)||void 0===r?void 0:r.type))&&o.push(t[i])}));var a=e.mapping?e.mapping(o):[];return"color"!==e.name||Object(q["D"])(a[0])?a:[n]}function Vn(e,t,n,r,i,o){var a=null===o||void 0===o?void 0:o.getLayerConfig(),s=a.arrow,l=void 0===s?{enable:!1}:s,u=t.map((function(t){var r={id:t._id,coordinates:t.coordinates};if(e.filter((function(e){return void 0!==e.scale})).forEach((function(e){var o=Hn(e,t,i);e.needRemapping=!1,"color"===e.name&&(o=o.map((function(e){return Object(q["M"])(e)}))),r[e.name]=Array.isArray(o)&&1===o.length?o[0]:o,"shape"===e.name&&(r.shape=n.getIconFontKey(r[e.name]))})),"line"===r.shape&&l.enable){var o=r.coordinates,a=Fn(o[0],o[1]);r.coordinates.splice(1,0,a,a)}return r}));return Bn(u,r),Un(u,r),u}function Gn(e,t,n,r,i,o){var a=new Ft(i,o),s=e.getBottomColor(),l=r.getLayerStyleAttributes()||[],u=a.data.dataArray,c=u,f=Vn(l,c,t,n,s,e);return a.destroy(),f}function Wn(e){return e.map((function(e){return"string"===typeof e&&(e=[e,{}]),e}))}function qn(e,t,n,r){var i=e.multiPassRenderer,o=e.getLayerConfig(),a=(o.enablePicking,o.enableTAA);return a?i.add(r("taa")):i.add(r("render")),Wn(t).forEach((function(e){var t=Et()(e,2),r=t[0],o=t[1];i.add(n(r),o)})),i.add(n("copy")),i}var Yn=[["circle","cylinder"],["square","cylinder"],["triangle","cylinder"],["pentagon","cylinder"],["hexagon","cylinder"],["octogon","cylinder"],["hexagram","cylinder"],["rhombus","cylinder"],["vesica","cylinder"]];function Xn(e,t,n){if("string"===typeof t&&"string"===typeof n&&t!==n){if("PointLayer"===e.type)return void(e.dataState.dataSourceNeedUpdate=!0);Yn.map((function(r){r.includes(t)&&r.includes(n)&&(e.dataState.dataSourceNeedUpdate=!0)}))}}var Kn,Zn,Qn,Jn=["passes"],$n=["moduleName","vertexShader","fragmentShader","triangulation","segmentNumber","workerEnabled","workerOptions"];function er(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=tr(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function tr(e,t){if(e){if("string"===typeof e)return nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nr(e,t):void 0}}function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function or(e){var t=ar();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function ar(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var sr,lr,ur,cr=0,fr=(Kn=Object(Bt["p"])(Bt["k"].IGlobalConfigService),Zn=function(e){ke()(n,e);var t=or(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return we()(this,n),e=t.call(this),S()(Ae()(e),"id","".concat(cr++)),S()(Ae()(e),"name","".concat(cr)),S()(Ae()(e),"type",void 0),S()(Ae()(e),"visible",!0),S()(Ae()(e),"zIndex",0),S()(Ae()(e),"minZoom",void 0),S()(Ae()(e),"maxZoom",void 0),S()(Ae()(e),"inited",!1),S()(Ae()(e),"layerModelNeedUpdate",!1),S()(Ae()(e),"pickedFeatureID",null),S()(Ae()(e),"selectedFeatureID",null),S()(Ae()(e),"styleNeedUpdate",!1),S()(Ae()(e),"rendering",void 0),S()(Ae()(e),"clusterZoom",0),S()(Ae()(e),"layerType",void 0),S()(Ae()(e),"triangulation",void 0),S()(Ae()(e),"dataState",{dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1}),S()(Ae()(e),"hooks",{init:new He["b"],afterInit:new He["b"],beforeRender:new He["b"],beforeRenderData:new He["d"],afterRender:new He["c"],beforePickingEncode:new He["c"],afterPickingEncode:new He["c"],beforeHighlight:new He["c"](["pickedColor"]),afterHighlight:new He["c"],beforeSelect:new He["c"](["pickedColor"]),afterSelect:new He["c"],beforeDestroy:new He["c"],afterDestroy:new He["c"]}),S()(Ae()(e),"models",[]),S()(Ae()(e),"multiPassRenderer",void 0),S()(Ae()(e),"plugins",void 0),S()(Ae()(e),"sourceOption",void 0),S()(Ae()(e),"layerModel",void 0),S()(Ae()(e),"shapeOption",void 0),S()(Ae()(e),"sceneContainer",void 0),S()(Ae()(e),"tileLayer",void 0),S()(Ae()(e),"layerChildren",[]),S()(Ae()(e),"masks",[]),S()(Ae()(e),"isVector",!1),xn()(Ae()(e),"configService",Qn,Ae()(e)),S()(Ae()(e),"shaderModuleService",void 0),S()(Ae()(e),"cameraService",void 0),S()(Ae()(e),"coordinateService",void 0),S()(Ae()(e),"iconService",void 0),S()(Ae()(e),"fontService",void 0),S()(Ae()(e),"pickingService",void 0),S()(Ae()(e),"rendererService",void 0),S()(Ae()(e),"layerService",void 0),S()(Ae()(e),"interactionService",void 0),S()(Ae()(e),"mapService",void 0),S()(Ae()(e),"styleAttributeService",void 0),S()(Ae()(e),"layerSource",void 0),S()(Ae()(e),"postProcessingPassFactory",void 0),S()(Ae()(e),"normalPassFactory",void 0),S()(Ae()(e),"animateOptions",{enable:!1}),S()(Ae()(e),"container",void 0),S()(Ae()(e),"encodedData",void 0),S()(Ae()(e),"configSchema",void 0),S()(Ae()(e),"currentPickId",null),S()(Ae()(e),"rawConfig",void 0),S()(Ae()(e),"needUpdateConfig",void 0),S()(Ae()(e),"pendingStyleAttributes",[]),S()(Ae()(e),"scaleOptions",{}),S()(Ae()(e),"animateStartTime",void 0),S()(Ae()(e),"aniamateStatus",!1),S()(Ae()(e),"bottomColor","rgba(0, 0, 0, 0)"),S()(Ae()(e),"isDestroied",!1),S()(Ae()(e),"sourceEvent",(function(){e.dataState.dataSourceNeedUpdate=!0;var t=e.getLayerConfig();t&&t.autoFit&&e.fitBounds(t.fitBoundsOptions),e.reRender()})),e.name=r.name||e.id,e.zIndex=r.zIndex||0,e.rawConfig=r,e}return Oe()(n,[{key:"addMaskLayer",value:function(e){this.masks.push(e)}},{key:"removeMaskLayer",value:function(e){var t=this.masks.indexOf(e);t>-1&&this.masks.splice(t,1),e.destroy()}},{key:"getAttribute",value:function(e){return this.styleAttributeService.getLayerStyleAttribute(e)}},{key:"getLayerConfig",value:function(){return this.configService.getLayerConfig(this.id)}},{key:"updateLayerConfig",value:function(e){var t=this;if(Object.keys(e).map((function(n){n in t.rawConfig&&(t.rawConfig[n]=e[n])})),this.inited){var n=this.container.get(Bt["k"].SceneID);In(e,this),this.configService.setLayerConfig(n,this.id,ir(ir(ir({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),e)),this.needUpdateConfig={}}else this.needUpdateConfig=ir(ir({},this.needUpdateConfig),e)}},{key:"setContainer",value:function(e,t){this.container=e,this.sceneContainer=t}},{key:"getContainer",value:function(){return this.container}},{key:"setBottomColor",value:function(e){this.bottomColor=e}},{key:"getBottomColor",value:function(){return this.bottomColor}},{key:"addPlugin",value:function(e){return this.plugins.push(e),this}},{key:"init",value:function(){var e=this,t=this.container.get(Bt["k"].SceneID);this.configService.setLayerConfig(t,this.id,this.rawConfig),this.layerType=this.rawConfig.layerType,this.iconService=this.container.get(Bt["k"].IIconService),this.fontService=this.container.get(Bt["k"].IFontService),this.rendererService=this.container.get(Bt["k"].IRendererService),this.layerService=this.container.get(Bt["k"].ILayerService),this.interactionService=this.container.get(Bt["k"].IInteractionService),this.pickingService=this.container.get(Bt["k"].IPickingService),this.mapService=this.container.get(Bt["k"].IMapService);var n=this.getLayerConfig(),r=n.enableMultiPassRenderer,i=n.passes;r&&null!==i&&void 0!==i&&i.length&&i.length>0&&this.mapService.on("mapAfterFrameChange",(function(){e.renderLayers()})),this.cameraService=this.container.get(Bt["k"].ICameraService),this.coordinateService=this.container.get(Bt["k"].ICoordinateSystemService),this.shaderModuleService=this.container.get(Bt["k"].IShaderModuleService),this.postProcessingPassFactory=this.container.get(Bt["k"].IFactoryPostProcessingPass),this.normalPassFactory=this.container.get(Bt["k"].IFactoryNormalPass),this.styleAttributeService=this.container.get(Bt["k"].IStyleAttributeService),this.multiPassRenderer=this.container.get(Bt["k"].IMultiPassRenderer),this.multiPassRenderer.setLayer(this),this.pendingStyleAttributes.forEach((function(t){var n=t.attributeName,r=t.attributeField,i=t.attributeValues,o=t.updateOptions;e.styleAttributeService.updateStyleAttribute(n,{scale:ir({field:r},e.splitValuesAndCallbackInAttribute(i,e.getLayerConfig()[n]))},o)})),this.pendingStyleAttributes=[],this.plugins=this.container.getAll(Bt["k"].ILayerPlugin);var o,a=er(this.plugins);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.apply(this,{rendererService:this.rendererService,mapService:this.mapService,styleAttributeService:this.styleAttributeService,normalPassFactory:this.normalPassFactory,postProcessingPassFactory:this.postProcessingPassFactory})}}catch(l){a.e(l)}finally{a.f()}return this.hooks.init.call(),this.hooks.afterInit.call(),this.emit("inited",{target:this,type:"inited"}),this.emit("add",{target:this,type:"add"}),this}},{key:"updateModelData",value:function(e){e.attributes&&e.elements?this.models.map((function(t){t.updateAttributesAndElements(e.attributes,e.elements)})):console.warn("data error")}},{key:"createModelData",value:function(e,t){var n;if(null!==(n=this.layerModel)&&void 0!==n&&n.createModelData)return this.layerModel.createModelData(t);var r=this.calculateEncodeData(e,t),i=this.triangulation;return r&&i?this.styleAttributeService.createAttributesAndIndices(r,i):{attributes:void 0,elements:void 0}}},{key:"calculateEncodeData",value:function(e,t){return this.inited?Gn(this,this.fontService,this.mapService,this.styleAttributeService,e,t):(console.warn("layer not inited!"),null)}},{key:"prepareBuildModel",value:function(){this.inited=!0,this.updateLayerConfig(ir(ir({},this.getDefaultConfig()),this.rawConfig));var e=this.getLayerConfig(),t=e.animateOption;null!==t&&void 0!==t&&t.enable&&(this.layerService.startAnimate(),this.aniamateStatus=!0)}},{key:"color",value:function(e,t,n){return this.updateStyleAttribute("color",e,t,n),this}},{key:"texture",value:function(e,t,n){return this.updateStyleAttribute("texture",e,t,n),this}},{key:"rotate",value:function(e,t,n){return this.updateStyleAttribute("rotate",e,t,n),this}},{key:"size",value:function(e,t,n){return this.updateStyleAttribute("size",e,t,n),this}},{key:"filter",value:function(e,t,n){return this.updateStyleAttribute("filter",e,t,n),this}},{key:"shape",value:function(e,t,n){var r,i,o,a=null===(r=this.styleAttributeService)||void 0===r||null===(i=r.getLayerStyleAttribute("shape"))||void 0===i||null===(o=i.scale)||void 0===o?void 0:o.field,s=e;return this.shapeOption={field:e,values:t},this.updateStyleAttribute("shape",e,t,n),this.tileLayer||Xn(this,a,s),this}},{key:"label",value:function(e,t,n){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:e,attributeValues:t,updateOptions:n}),this}},{key:"animate",value:function(e){var t={};return Pn()(e)?(t.enable=!0,t=ir(ir({},t),e)):t.enable=e,this.updateLayerConfig({animateOption:t}),this}},{key:"source",value:function(e,t){return null!==e&&void 0!==e&&e.data?(this.setSource(e),this):(this.sourceOption={data:e,options:t},this.clusterZoom=0,this)}},{key:"setData",value:function(e,t){var n=this;return this.inited?this.layerSource.setData(e,t):this.on("inited",(function(){var r=n.getSource();r?n.layerSource.setData(e,t):(n.source(new Ft(e,t)),n.sourceEvent())})),this}},{key:"style",value:function(e){var t=this,n=this.getLayerConfig(),r=e.passes,i=_n()(e,Jn);return r&&Wn(r).forEach((function(e){var n=t.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(e[0]);n&&n.updateOptions(e[1])})),this.rawConfig=ir(ir({},this.rawConfig),i),this.container&&(this.updateLayerConfig(this.rawConfig),this.styleNeedUpdate=!0),n&&!0===n.mask&&!1===e.mask&&(this.clearModels(),this.layerModel.buildModels((function(e){t.models=e}))),this}},{key:"scale",value:function(e,t){return Pn()(e)?this.scaleOptions=ir(ir({},this.scaleOptions),e):this.scaleOptions[e]=t,this}},{key:"renderLayers",value:function(){this.rendering=!0,this.layerService.renderLayers(),this.rendering=!1}},{key:"render",value:function(){return void 0!==this.tileLayer?(this.tileLayer.render(),this):(this.getEncodedData()&&0!==this.getEncodedData().length&&this.renderModels(),this)}},{key:"renderMultiPass",value:function(){var e=Z()(J.a.mark((function e(){return J.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.getEncodedData()||0===this.getEncodedData().length){e.next=7;break}if(!this.multiPassRenderer||!this.multiPassRenderer.getRenderFlag()){e.next=6;break}return e.next=4,this.multiPassRenderer.render();case 4:e.next=7;break;case 6:this.multiPassRenderer,this.renderModels();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"active",value:function(e){var t={};return t.enableHighlight=!!Pn()(e)||e,Pn()(e)?(t.enableHighlight=!0,e.color&&(t.highlightColor=e.color),e.mix&&(t.activeMix=e.mix)):t.enableHighlight=!!e,this.updateLayerConfig(t),this}},{key:"setActive",value:function(e,t){var n=this;if(Pn()(e)){var r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o;this.updateLayerConfig({highlightColor:Pn()(t)?t.color:this.getLayerConfig().highlightColor,activeMix:Pn()(t)?t.mix:this.getLayerConfig().activeMix}),this.pick({x:i,y:a})}else this.updateLayerConfig({pickedFeatureID:e,highlightColor:Pn()(t)?t.color:this.getLayerConfig().highlightColor,activeMix:Pn()(t)?t.mix:this.getLayerConfig().activeMix}),this.hooks.beforeSelect.call(Object(q["t"])(e)).then((function(){setTimeout((function(){n.reRender()}),1)}))}},{key:"select",value:function(e){var t={};return t.enableSelect=!!Pn()(e)||e,Pn()(e)?(t.enableSelect=!0,e.color&&(t.selectColor=e.color),e.mix&&(t.selectMix=e.mix)):t.enableSelect=!!e,this.updateLayerConfig(t),this}},{key:"setSelect",value:function(e,t){var n=this;if(Pn()(e)){var r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o;this.updateLayerConfig({selectColor:Pn()(t)?t.color:this.getLayerConfig().selectColor,selectMix:Pn()(t)?t.mix:this.getLayerConfig().selectMix}),this.pick({x:i,y:a})}else this.updateLayerConfig({pickedFeatureID:e,selectColor:Pn()(t)?t.color:this.getLayerConfig().selectColor,selectMix:Pn()(t)?t.mix:this.getLayerConfig().selectMix}),this.hooks.beforeSelect.call(Object(q["t"])(e)).then((function(){setTimeout((function(){n.reRender()}),1)}))}},{key:"setBlend",value:function(e){return this.updateLayerConfig({blend:e}),this.layerModelNeedUpdate=!0,this.reRender(),this}},{key:"show",value:function(){return this.updateLayerConfig({visible:!0}),this.reRender(),this}},{key:"hide",value:function(){return"CanvasLayer"===this.type&&this.layerModel.clearCanvas&&this.layerModel.clearCanvas(),this.updateLayerConfig({visible:!1}),this.reRender(),this}},{key:"setIndex",value:function(e){return this.zIndex=e,this.layerService.updateLayerRenderList(),this.layerService.renderLayers(),this}},{key:"setCurrentPickId",value:function(e){this.currentPickId=e}},{key:"getCurrentPickId",value:function(){return this.currentPickId}},{key:"setCurrentSelectedId",value:function(e){this.selectedFeatureID=e}},{key:"getCurrentSelectedId",value:function(){return this.selectedFeatureID}},{key:"isVisible",value:function(){var e=this.mapService.getZoom(),t=this.getLayerConfig(),n=t.visible,r=t.minZoom,i=void 0===r?-1/0:r,o=t.maxZoom,a=void 0===o?1/0:o;return!!n&&e>=i&&e<=a}},{key:"setMultiPass",value:function(e,t){if(this.updateLayerConfig({enableMultiPassRenderer:e}),t&&this.updateLayerConfig({passes:t}),e){var n=this.getLayerConfig(),r=n.passes,i=void 0===r?[]:r;this.multiPassRenderer=qn(this,i,this.postProcessingPassFactory,this.normalPassFactory),this.multiPassRenderer.setRenderFlag(!0);var o=this.rendererService.getViewportSize(),a=o.width,s=o.height;this.multiPassRenderer.resize(a,s)}return this}},{key:"setMinZoom",value:function(e){return this.updateLayerConfig({minZoom:e}),this}},{key:"getMinZoom",value:function(){var e=this.getLayerConfig(),t=e.minZoom;return t}},{key:"getMaxZoom",value:function(){var e=this.getLayerConfig(),t=e.maxZoom;return t}},{key:"get",value:function(e){var t=this.getLayerConfig();return t[e]}},{key:"setMaxZoom",value:function(e){return this.updateLayerConfig({maxZoom:e}),this}},{key:"setAutoFit",value:function(e){return this.updateLayerConfig({autoFit:e}),this}},{key:"fitBounds",value:function(e){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;var t=this.getSource(),n=t.extent,r=n.some((function(e){return Math.abs(e)===1/0}));return r||this.mapService.fitBounds([[n[0],n[1]],[n[2],n[3]]],e),this}},{key:"destroy",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isDestroied||(this.layerChildren.map((function(e){return e.destroy()})),this.layerChildren=[],this.masks.map((function(e){return e.destroy()})),this.masks=[],this.hooks.beforeDestroy.call(),this.layerSource.off("sourceUpdate",this.sourceEvent),this.multiPassRenderer.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),null===(e=this.layerModel)||void 0===e||e.clearModels(),this.models=[],this.layerService.cleanRemove(this,t),this.emit("remove",{target:this,type:"remove"}),this.emit("destroy",{target:this,type:"destroy"}),this.removeAllListeners(),this.isDestroied=!0)}},{key:"clear",value:function(){this.styleAttributeService.clearAllAttributes()}},{key:"clearModels",value:function(){var e;this.models.forEach((function(e){return e.destroy()})),null===(e=this.layerModel)||void 0===e||e.clearModels(),this.models=[]}},{key:"isDirty",value:function(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter((function(e){return e.needRescale||e.needRemapping||e.needRegenerateVertices})).length}},{key:"setSource",value:function(e){var t=this;if(this.layerSource&&this.layerSource.off("sourceUpdate",this.sourceEvent),this.layerSource=e,this.clusterZoom=0,this.inited&&this.layerSource.cluster){var n=this.mapService.getZoom();this.layerSource.updateClusterData(n)}this.layerSource.inited&&this.sourceEvent(),this.layerSource.on("sourceUpdate",(function(){t.sourceEvent()}))}},{key:"getSource",value:function(){return this.layerSource}},{key:"getScaleOptions",value:function(){return this.scaleOptions}},{key:"setEncodedData",value:function(e){this.encodedData=e}},{key:"getEncodedData",value:function(){return this.encodedData}},{key:"getScale",value:function(e){return this.styleAttributeService.getLayerAttributeScale(e)}},{key:"getLegendItems",value:function(e){var t=this.styleAttributeService.getLayerAttributeScale(e);if(!t)return[];if(t.invertExtent){var n=t.range().map((function(n){return S()({value:t.invertExtent(n)},e,n)}));return n}if(t.ticks){var r=t.ticks().map((function(n){return S()({value:n},e,t(n))}));return r}if(null!==t&&void 0!==t&&t.domain){var i=t.domain().filter((function(e){return!Cn()(e)})).map((function(n){return S()({value:n},e,t(n))}));return i}return[]}},{key:"pick",value:function(e){var t=e.x,n=e.y;this.interactionService.triggerHover({x:t,y:n})}},{key:"boxSelect",value:function(e,t){this.pickingService.boxPickLayer(this,e,t)}},{key:"buildLayerModel",value:function(e){var t=this,n=e.moduleName,r=e.vertexShader,i=e.fragmentShader,o=e.triangulation,a=e.segmentNumber,s=e.workerEnabled,l=void 0!==s&&s,u=e.workerOptions,c=_n()(e,$n);this.shaderModuleService.registerModule(n,{vs:r,fs:i});var f=this.shaderModuleService.getModule(n),p=f.vs,d=f.fs,h=f.uniforms,v=this.rendererService.createModel;return new Promise((function(e,n){if(u&&u.modelType in q["h"]&&l)t.styleAttributeService.createAttributesAndIndicesAscy(t.encodedData,a,u).then((function(t){var n=t.attributes,r=t.elements,i=v(ir({attributes:n,uniforms:h,fs:d,vs:p,elements:r,blend:kn[Bt["b"].normal]},c));e(i)}))["catch"]((function(e){return n(e)}));else{var r=t.styleAttributeService.createAttributesAndIndices(t.encodedData,o,a),i=r.attributes,s=r.elements,f=v(ir({attributes:i,uniforms:h,fs:d,vs:p,elements:s,blend:kn[Bt["b"].normal]},c));e(f)}}))}},{key:"createAttrubutes",value:function(e){var t=e.triangulation,n=this.styleAttributeService.createAttributes(this.encodedData,t),r=n.attributes;return r}},{key:"getTime",value:function(){return this.layerService.clock.getDelta()}},{key:"setAnimateStartTime",value:function(){this.animateStartTime=this.layerService.clock.getElapsedTime()}},{key:"stopAnimate",value:function(){this.aniamateStatus&&(this.layerService.stopAnimate(),this.aniamateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}},{key:"getLayerAnimateTime",value:function(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}},{key:"needPick",value:function(e){var t=this.getLayerConfig(),n=t.enableHighlight,r=void 0===n||n,i=t.enableSelect,o=void 0===i||i,a=-1!==this.eventNames().indexOf(e)||-1!==this.eventNames().indexOf("un"+e);return"click"!==e&&"dblclick"!==e||!o||(a=!0),"mousemove"!==e||!r&&-1===this.eventNames().indexOf("mouseenter")&&-1===this.eventNames().indexOf("unmousemove")&&-1===this.eventNames().indexOf("mouseout")||(a=!0),this.isVisible()&&a}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"rebuildModels",value:function(){throw new Error("Method not implemented.")}},{key:"renderMulPass",value:function(){var e=Z()(J.a.mark((function e(t){return J.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.render();case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"renderModels",value:function(e){var t,n=this;this.getEncodedData()&&this.getEncodedData().length>0&&(this.layerModelNeedUpdate&&this.layerModel&&this.layerModel.buildModels((function(e){n.models=e,n.hooks.beforeRender.call(),n.layerModelNeedUpdate=!1})),null!==this&&void 0!==this&&null!==(t=this.layerModel)&&void 0!==t&&t.renderUpdate&&this.layerModel.renderUpdate(),this.models.forEach((function(t){t.draw({uniforms:n.layerModel.getUninforms()},e)})));return this}},{key:"updateStyleAttribute",value:function(e,t,n,r){this.inited?this.styleAttributeService.updateStyleAttribute(e,{scale:ir({field:t},this.splitValuesAndCallbackInAttribute(n,this.getLayerConfig()[t]))},r):this.pendingStyleAttributes.push({attributeName:e,attributeField:t,attributeValues:n,updateOptions:r})}},{key:"getShaderPickStat",value:function(){return this.layerService.getShaderPickStat()}},{key:"setEarthTime",value:function(e){console.warn("empty fn")}},{key:"getConfigSchema",value:function(){throw new Error("Method not implemented.")}},{key:"getModelType",value:function(){throw new Error("Method not implemented.")}},{key:"getDefaultConfig",value:function(){return{}}},{key:"reRender",value:function(){this.inited&&(this.layerService.updateLayerRenderList(),this.layerService.renderLayers())}},{key:"splitValuesAndCallbackInAttribute",value:function(e,t){return{values:Be()(e)?void 0:e||t,callback:Be()(e)?e:void 0}}}]),n}(Ve["EventEmitter"]),Qn=Sn()(Zn.prototype,"configService",[Kn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zn),pr=n("Y+p1"),dr=n.n(pr),hr=n("FmoU");function vr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=mr(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function mr(e,t){if(e){if("string"===typeof e)return gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gr(e,t):void 0}}function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yr=(sr=Object(Bt["p"])(Bt["k"].IGlobalConfigService),lr=function(){function e(t){we()(this,e),S()(this,"triangulation",void 0),S()(this,"createTexture2D",void 0),S()(this,"layer",void 0),S()(this,"dataTexture",void 0),S()(this,"DATA_TEXTURE_WIDTH",void 0),S()(this,"rowCount",void 0),S()(this,"cacheStyleProperties",void 0),S()(this,"cellLength",void 0),S()(this,"cellProperties",void 0),S()(this,"cellTypeLayout",void 0),S()(this,"stylePropertyesExist",void 0),S()(this,"dataTextureTest",void 0),xn()(this,"configService",ur,this),S()(this,"shaderModuleService",void 0),S()(this,"rendererService",void 0),S()(this,"iconService",void 0),S()(this,"fontService",void 0),S()(this,"styleAttributeService",void 0),S()(this,"mapService",void 0),S()(this,"cameraService",void 0),S()(this,"layerService",void 0),S()(this,"pickingService",void 0),this.layer=t,this.rendererService=t.getContainer().get(Bt["k"].IRendererService),this.pickingService=t.getContainer().get(Bt["k"].IPickingService),this.shaderModuleService=t.getContainer().get(Bt["k"].IShaderModuleService),this.styleAttributeService=t.getContainer().get(Bt["k"].IStyleAttributeService),this.mapService=t.getContainer().get(Bt["k"].IMapService),this.iconService=t.getContainer().get(Bt["k"].IIconService),this.fontService=t.getContainer().get(Bt["k"].IFontService),this.cameraService=t.getContainer().get(Bt["k"].ICameraService),this.layerService=t.getContainer().get(Bt["k"].ILayerService),this.registerBuiltinAttributes(),this.startModelAnimate();var n=this.rendererService.createTexture2D;this.createTexture2D=n,this.DATA_TEXTURE_WIDTH=1024,this.rowCount=1,this.cellLength=0,this.cellProperties=[],this.cacheStyleProperties={thetaOffset:void 0,opacity:void 0,strokeOpacity:void 0,strokeWidth:void 0,stroke:void 0,offsets:void 0},this.stylePropertyesExist={hasThetaOffset:0,hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0},this.dataTextureTest=this.layerService.getOESTextureFloat(),this.dataTextureTest||(this.dataTexture=this.createTexture2D({data:new Uint8Array(4),mag:Bt["o"].NEAREST,min:Bt["o"].NEAREST,width:1,height:1}))}return Oe()(e,[{key:"clearLastCalRes",value:function(){this.cellProperties=[],this.cellLength=0,this.stylePropertyesExist={hasThetaOffset:0,hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0}}},{key:"getCellTypeLayout",value:function(){return this.dataTextureTest?[this.rowCount,this.DATA_TEXTURE_WIDTH,0,0,this.stylePropertyesExist.hasOpacity,this.stylePropertyesExist.hasStrokeOpacity,this.stylePropertyesExist.hasStrokeWidth,this.stylePropertyesExist.hasStroke,this.stylePropertyesExist.hasOffsets,this.stylePropertyesExist.hasThetaOffset,0,0,0,0,0,1]:[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-1]}},{key:"dataTextureNeedUpdate",value:function(e){var t=!1;return dr()(e.thetaOffset,this.cacheStyleProperties.thetaOffset)||(t=!0,this.cacheStyleProperties.thetaOffset=e.thetaOffset),dr()(e.opacity,this.cacheStyleProperties.opacity)||(t=!0,this.cacheStyleProperties.opacity=e.opacity),dr()(e.strokeOpacity,this.cacheStyleProperties.strokeOpacity)||(t=!0,this.cacheStyleProperties.strokeOpacity=e.strokeOpacity),dr()(e.strokeWidth,this.cacheStyleProperties.strokeWidth)||(t=!0,this.cacheStyleProperties.strokeWidth=e.strokeWidth),dr()(e.stroke,this.cacheStyleProperties.stroke)||(t=!0,this.cacheStyleProperties.stroke=e.stroke),dr()(e.offsets,this.cacheStyleProperties.offsets)||(t=!0,this.cacheStyleProperties.offsets=e.offsets),void 0===this.dataTexture&&(t=!0),t}},{key:"judgeStyleAttributes",value:function(e){this.clearLastCalRes(),void 0===e.opacity||Tn()(e.opacity)||(this.cellProperties.push({attr:"opacity",count:1}),this.stylePropertyesExist.hasOpacity=1,this.cellLength+=1),void 0===e.strokeOpacity||Tn()(e.strokeOpacity)||(this.cellProperties.push({attr:"strokeOpacity",count:1}),this.stylePropertyesExist.hasStrokeOpacity=1,this.cellLength+=1),void 0===e.strokeWidth||Tn()(e.strokeWidth)||(this.cellProperties.push({attr:"strokeWidth",count:1}),this.stylePropertyesExist.hasStrokeWidth=1,this.cellLength+=1),void 0===e.stroke||this.isStaticColor(e.stroke)||(this.cellProperties.push({attr:"stroke",count:4}),this.stylePropertyesExist.hasStroke=1,this.cellLength+=4),void 0===e.offsets||this.isOffsetStatic(e.offsets)||(this.cellProperties.push({attr:"offsets",count:2}),this.stylePropertyesExist.hasOffsets=1,this.cellLength+=2),void 0===e.thetaOffset||Tn()(e.thetaOffset)||(this.cellProperties.push({attr:"thetaOffset",count:1}),this.stylePropertyesExist.hasThetaOffset=1,this.cellLength+=1)}},{key:"isStaticColor",value:function(e){return!!je()(e)&&!!Object(hr["a"])(e)}},{key:"getStrokeColor",value:function(e){if(this.isStaticColor(e)){var t=Object(q["M"])(e);return t[0]=t[0]?t[0]:0,t[1]=t[1]?t[1]:0,t[2]=t[2]?t[2]:0,t[3]=t[3]?t[3]:0,t}return[0,0,0,0]}},{key:"isOffsetStatic",value:function(e){return!!(Array.isArray(e)&&2===e.length&&Tn()(e[0])&&Tn()(e[1]))}},{key:"patchMod",value:function(e,t){for(var n=0;n<t;n++)e.push(-1)}},{key:"patchData",value:function(e,t,n){var r,i=vr(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.attr,s=o.count,l=t[a];void 0!==l?"stroke"===a?e.push.apply(e,C()(Object(q["M"])(l))):"offsets"===a?this.isOffsetStatic(l)?e.push(-l[0],l[1]):e.push(0,0):e.push(Tn()(l)?l:1):this.patchMod(e,s)}}catch(u){i.e(u)}finally{i.f()}}},{key:"calDataFrame",value:function(e,t,n){for(var r=t.length,i=Math.ceil(r*e/this.DATA_TEXTURE_WIDTH),o=i*this.DATA_TEXTURE_WIDTH,a=[],s=0;s<r;s++){var l=t[s];this.patchData(a,l,n)}for(var u=a.length;u<o;u++)a.push(-1);return{data:a,width:this.DATA_TEXTURE_WIDTH,height:i}}},{key:"getBlend",value:function(){var e=this.layer.getLayerConfig(),t=e.blend,n=void 0===t?"normal":t;return kn[Bt["b"][n]]}},{key:"getDefaultStyle",value:function(){return{}}},{key:"getUninforms",value:function(){throw new Error("Method not implemented.")}},{key:"getAnimateUniforms",value:function(){return{}}},{key:"needUpdate",value:function(){return!1}},{key:"buildModels",value:function(e){throw new Error("Method not implemented.")}},{key:"initModels",value:function(e){throw new Error("Method not implemented.")}},{key:"clearModels",value:function(){}},{key:"getAttribute",value:function(){throw new Error("Method not implemented.")}},{key:"render",value:function(){throw new Error("Method not implemented.")}},{key:"registerBuiltinAttributes",value:function(){throw new Error("Method not implemented.")}},{key:"animateOption2Array",value:function(e){return[e.enable?0:1,e.duration||4,e.interval||.2,e.trailLength||.1]}},{key:"startModelAnimate",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;t.enable&&this.layer.setAnimateStartTime()}}]),e}(),ur=Sn()(lr.prototype,"configService",[sr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lr),br=n("VmRL"),_r=n.n(br),Er=n("IOcx"),xr=100;function wr(e){return e/180*Math.acos(-1)}function Sr(e){var t=wr(e[0])+Math.PI/2,n=wr(e[1]),r=xr+.4*Math.random(),i=r*Math.cos(n)*Math.cos(t),o=r*Math.cos(n)*Math.sin(t),a=r*Math.sin(n);return[o,a,i]}var Or=Er["b"].create(),Cr=(Er["b"].create(),Er["b"].create()),Ar=Er["b"].create(),Pr=Er["b"].create();function kr(e,t,n,r,i){Er["b"].add(e,n,r),Er["b"].normalize(e,e),t=Er["b"].fromValues(-e[1],e[0]);var o=Er["b"].fromValues(-n[1],n[0]);return[i/Er["b"].dot(t,o),t]}function Mr(e,t){return Er["b"].set(e,-t[1],t[0])}function Tr(e,t,n){return Er["b"].sub(e,t,n),Er["b"].normalize(e,e),e}function Lr(e,t){return e[0]===t[0]&&e[1]===t[1]}var Ir=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};we()(this,e),S()(this,"complex",void 0),S()(this,"join",void 0),S()(this,"cap",void 0),S()(this,"miterLimit",void 0),S()(this,"thickness",void 0),S()(this,"normal",void 0),S()(this,"lastFlip",-1),S()(this,"miter",Er["b"].fromValues(0,0)),S()(this,"started",!1),S()(this,"dash",!1),S()(this,"totalDistance",0),S()(this,"currentIndex",0),this.join=t.join||"miter",this.cap=t.cap||"butt",this.miterLimit=t.miterLimit||10,this.thickness=t.thickness||1,this.dash=t.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0,indexes:[]}}return Oe()(e,[{key:"extrude_gaode2",value:function(e,t){var n=this.complex;if(e.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var r=e.length,i=n.startIndex,o=1;o<r;o++){var a,s,l,u=e[o-1];u.push(null!==(a=t[o-1][2])&&void 0!==a?a:0);var c=t[o-1],f=e[o];f.push(null!==(s=t[o][2])&&void 0!==s?s:0);var p=t[o],d=o<e.length-1?[].concat(C()(e[o+1]),[null!==(l=t[o+1][2])&&void 0!==l?l:0]):null,h=o<t.length-1?t[o+1]:null,v=this.segment_gaode2(n,i,u,f,d,c,p,h);i+=v}if(this.dash)for(var m=0;m<n.positions.length/6;m++)n.positions[6*m+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}},{key:"extrude",value:function(e){var t=this.complex;if(e.length<=1)return t;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var n=e.length,r=t.startIndex,i=1;i<n;i++){var o=e[i-1],a=e[i],s=i<e.length-1?e[i+1]:null,l=this.segment(t,r,o,a,s);r+=l}if(this.dash)for(var u=0;u<t.positions.length/6;u++)t.positions[6*u+5]=this.totalDistance;return t.startIndex=t.positions.length/6,t}},{key:"segment_gaode2",value:function(e,t,n,r,i,o,a,s){var l=0,u=e.indices,c=e.positions,f=e.normals,p="square"===this.cap,d="bevel"===this.join,h=Object(q["i"])([a[0],a[1]]),v=Object(q["i"])([o[0],o[1]]);Tr(Cr,r,n);var m=0;if(this.dash&&(m=this.lineSegmentDistance(h,v),this.totalDistance+=m),this.normal||(this.normal=Er["b"].create(),Mr(this.normal,Cr)),!this.started)if(this.started=!0,p){var g=Er["b"].create(),y=Er["b"].create();Er["b"].add(g,this.normal,Cr),Er["b"].add(y,this.normal,Cr),f.push(y[0],y[1],0),f.push(g[0],g[1],0),c.push(n[0],n[1],0|n[2],this.totalDistance-m,-this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),c.push(n[0],n[1],0|n[2],this.totalDistance-m,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(c,f,n,this.normal,this.thickness,this.totalDistance-m);if(u.push(t+0,t+1,t+2),i){Lr(r,i)&&Er["b"].add(i,r,Er["b"].normalize(i,Er["b"].subtract(i,r,n))),Tr(Ar,i,r);var b=kr(Pr,Er["b"].create(),Cr,Ar,this.thickness),_=Et()(b,2),E=_[0],x=_[1],w=Er["b"].dot(Pr,this.normal)<0?-1:1,S=d;if(!S&&"miter"===this.join){var O=E;O>this.miterLimit&&(S=!0)}S?(f.push(this.normal[0],this.normal[1],0),f.push(x[0],x[1],0),c.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*w,0|r[2]),this.complex.indexes.push(this.currentIndex),c.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness*w,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,u.push.apply(u,C()(this.lastFlip!==-w?[t,t+2,t+3]:[t+2,t+1,t+3])),u.push(t+2,t+3,t+4),Mr(Or,Ar),Er["b"].copy(this.normal,Or),f.push(this.normal[0],this.normal[1],0),c.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*w,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,l+=3):(this.extrusions(c,f,r,x,E,this.totalDistance),u.push.apply(u,C()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),w=-1,Er["b"].copy(this.normal,x),l+=2),this.lastFlip=w}else{if(Mr(this.normal,Cr),p){var A=Er["b"].create(),P=Er["b"].create();Er["b"].sub(P,Cr,this.normal),Er["b"].add(A,Cr,this.normal),f.push(P[0],P[1],0),f.push(A[0],A[1],0),c.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),c.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(c,f,r,this.normal,this.thickness,this.totalDistance);u.push.apply(u,C()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),l+=2}return l}},{key:"segment",value:function(e,t,n,r,i){var o=0,a=e.indices,s=e.positions,l=e.normals,u="square"===this.cap,c="bevel"===this.join,f=Object(q["i"])([r[0],r[1]]),p=Object(q["i"])([n[0],n[1]]);Tr(Cr,f,p);var d=0;if(this.dash&&(d=this.lineSegmentDistance(f,p),this.totalDistance+=d),this.normal||(this.normal=Er["b"].create(),Mr(this.normal,Cr)),!this.started)if(this.started=!0,u){var h=Er["b"].create(),v=Er["b"].create();Er["b"].add(h,this.normal,Cr),Er["b"].add(v,this.normal,Cr),l.push(v[0],v[1],0),l.push(h[0],h[1],0),s.push(n[0],n[1],0|n[2],this.totalDistance-d,-this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),s.push(n[0],n[1],0|n[2],this.totalDistance-d,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(s,l,n,this.normal,this.thickness,this.totalDistance-d);if(a.push(t+0,t+1,t+2),i){var m=Object(q["i"])([i[0],i[1]]);Lr(f,m)&&Er["b"].add(m,f,Er["b"].normalize(m,Er["b"].subtract(m,f,p))),Tr(Ar,m,f);var g=kr(Pr,Er["b"].create(),Cr,Ar,this.thickness),y=Et()(g,2),b=y[0],_=y[1],E=Er["b"].dot(Pr,this.normal)<0?-1:1,x=c;if(!x&&"miter"===this.join){var w=b;w>this.miterLimit&&(x=!0)}x?(l.push(this.normal[0],this.normal[1],0),l.push(_[0],_[1],0),s.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*E,0|r[2]),this.complex.indexes.push(this.currentIndex),s.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness*E,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,a.push.apply(a,C()(this.lastFlip!==-E?[t,t+2,t+3]:[t+2,t+1,t+3])),a.push(t+2,t+3,t+4),Mr(Or,Ar),Er["b"].copy(this.normal,Or),l.push(this.normal[0],this.normal[1],0),s.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*E,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,o+=3):(this.extrusions(s,l,r,_,b,this.totalDistance),a.push.apply(a,C()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),E=-1,Er["b"].copy(this.normal,_),o+=2),this.lastFlip=E}else{if(Mr(this.normal,Cr),u){var S=Er["b"].create(),O=Er["b"].create();Er["b"].sub(O,Cr,this.normal),Er["b"].add(S,Cr,this.normal),l.push(O[0],O[1],0),l.push(S[0],S[1],0),s.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),s.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(s,l,r,this.normal,this.thickness,this.totalDistance);a.push.apply(a,C()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),o+=2}return o}},{key:"extrusions",value:function(e,t,n,r,i,o){t.push(r[0],r[1],0),t.push(r[0],r[1],0),e.push(n[0],n[1],0|n[2],o,-i,0|n[2]),this.complex.indexes.push(this.currentIndex),e.push(n[0],n[1],0|n[2],o,i,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}},{key:"lineSegmentDistance",value:function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}}]),e}(),Dr=Er["b"].create();function Rr(e,t,n){return Er["b"].sub(e,t,n),Er["b"].normalize(e,e),e}var Nr,jr,Fr,Br=function(){function e(){we()(this,e),S()(this,"complex",void 0),S()(this,"started",!1),S()(this,"totalDistance",0),S()(this,"currentIndex",0),this.complex={positions:[],indices:[],startIndex:0,indexes:[]}}return Oe()(e,[{key:"simpleExtrude",value:function(e){var t=this.complex;if(e.length<=1)return t;this.started=!1,this.totalDistance=0;for(var n=e.length,r=t.startIndex,i=1;i<n;i++){var o=e[i-1],a=e[i],s=this.simpleSegment(t,r,o,a);r+=s}for(var l=0;l<t.positions.length/6;l++)t.positions[6*l+5]=this.totalDistance;return t}},{key:"simpleSegment",value:function(e,t,n,r){var i=0,o=e.indices,a=e.positions,s=Object(q["i"])([r[0],r[1]]),l=Object(q["i"])([n[0],n[1]]);Rr(Dr,s,l);var u=this.lineSegmentDistance(s,l);return this.totalDistance+=u,this.started||(this.started=!0,this.extrusions(a,n,this.totalDistance-u)),this.extrusions(a,r,this.totalDistance),o.push(t+0,t+1,t+2),o.push(t+2,t+1,t+3),i+=2,i}},{key:"extrusions",value:function(e,t,n){e.push(t[0],t[1],0|t[2],n,0,0|t[2]),this.complex.indexes.push(this.currentIndex),e.push(t[0],t[1],0|t[2],n,0,0|t[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}},{key:"lineSegmentDistance",value:function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}}]),e}();function Ur(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e[0][0],r=e[0][e[0].length-1];n[0]===r[0]&&n[1]===r[1]&&(e[0]=e[0].slice(0,e[0].length-1));for(var i=e[0].length,o=_r.a.flatten(e),a=o.vertices,s=o.dimensions,l=[],u=[],c=[],f=0;f<a.length/s;f++)2===s?l.push(a[2*f],a[2*f+1],1,-1,-1):l.push(a[3*f],a[3*f+1],1,-1,-1),c.push(0,0,1);var p=_r()(o.vertices,o.holes,o.dimensions);u.push.apply(u,C()(p));for(var d=function(e){var n=o.vertices.slice(e*s,(e+1)*s),r=o.vertices.slice((e+1)*s,(e+2)*s);0===r.length&&(r=o.vertices.slice(0,s));var i=l.length/5;l.push(n[0],n[1],1,0,0,r[0],r[1],1,.1,0,n[0],n[1],0,0,.8,r[0],r[1],0,.1,.8);var a=zr([r[0],r[1],1],[n[0],n[1],0],[n[0],n[1],1],t);c.push.apply(c,C()(a).concat(C()(a),C()(a),C()(a))),u.push.apply(u,C()([1,2,0,3,2,1].map((function(e){return e+i}))))},h=0;h<i;h++)d(h);return{positions:l,index:u,normals:c}}function zr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Er["c"].create(),o=Er["c"].create(),a=Er["c"].create();r&&(e=Object(q["G"])(e),t=Object(q["G"])(t),n=Object(q["G"])(n));var s=Er["c"].fromValues.apply(Er["c"],C()(e)),l=Er["c"].fromValues.apply(Er["c"],C()(t)),u=Er["c"].fromValues.apply(Er["c"],C()(n));Er["c"].sub(i,u,l),Er["c"].sub(o,s,l),Er["c"].cross(a,i,o);var c=Er["c"].create();return Er["c"].normalize(c,a),c}function Hr(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=2*Math.PI/e,r=[],i=0;i<e;i++)r.push(n*i+t*Math.PI/12);var o=r.map((function(e){var t=Math.sin(e+Math.PI/4),n=Math.cos(e+Math.PI/4);return[t,n,0]}));return o}function Vr(){return Hr(30)}function Gr(){return Hr(4)}function Wr(){return Hr(3)}function qr(){return Hr(6,1)}function Yr(){return Hr(5)}(function(e){e["CYLINDER"]="cylinder",e["SQUARECOLUMN"]="squareColumn",e["TRIANGLECOLUMN"]="triangleColumn",e["HEXAGONCOLUMN"]="hexagonColumn",e["PENTAGONCOLUMN"]="pentagonColumn"})(jr||(jr={})),function(e){e["CIRCLE"]="circle",e["SQUARE"]="square",e["TRIANGLE"]="triangle",e["HEXAGON"]="hexagon",e["PENTAGON"]="pentagon"}(Fr||(Fr={}));var Xr=(Nr={},S()(Nr,Fr.CIRCLE,Vr),S()(Nr,Fr.HEXAGON,qr),S()(Nr,Fr.TRIANGLE,Wr),S()(Nr,Fr.SQUARE,Gr),S()(Nr,Fr.PENTAGON,Yr),S()(Nr,jr.CYLINDER,Vr),S()(Nr,jr.HEXAGONCOLUMN,qr),S()(Nr,jr.TRIANGLECOLUMN,Wr),S()(Nr,jr.SQUARECOLUMN,Gr),S()(Nr,jr.PENTAGONCOLUMN,Yr),Nr),Kr={};function Zr(e){var t=Object(q["q"])(e.coordinates);return{vertices:[].concat(C()(t),C()(t),C()(t),C()(t)),indices:[0,1,2,2,3,0],size:t.length}}function Qr(e){var t=Object(q["q"])(e.coordinates),n=Sr(t);return{vertices:[].concat(C()(n),C()(n),C()(n),C()(n)),indices:[0,1,2,2,3,0],size:n.length}}function Jr(e){var t=e.shape,n=li(t,!1),r=n.positions,i=n.index,o=n.normals;return{vertices:r,indices:i,normals:o,size:5}}function $r(e){var t=Object(q["q"])(e.coordinates);return{vertices:C()(t),indices:[0],size:t.length}}function ei(e){var t=e.coordinates,n=e.originCoordinates,r=e.version,i=new Ir({dash:!0,join:"bevel"});if("GAODE2.x"===r){var o=t;Array.isArray(o[0][0])||(o=[t]);var a=n;Array.isArray(a[0][0])||(a=[n]);for(var s=0;s<o.length;s++){var l=o[s],u=a[s];i.extrude_gaode2(l,u)}}else{var c=t;c[0]&&!Array.isArray(c[0][0])&&(c=[t]),c.forEach((function(e){i.extrude(e)}))}var f=i.complex;return{vertices:f.positions,indices:f.indices,normals:f.normals,indexes:f.indexes,size:6}}function ti(e){var t=e.coordinates,n=new Br,r=t;r[0]&&!Array.isArray(r[0][0])&&(r=[t]),r.forEach((function(e){n.simpleExtrude(e)}));var i=n.complex;return{vertices:i.positions,indices:i.indices,size:6}}function ni(e){var t=e.coordinates,n=_r.a.flatten(t),r=n.vertices,i=n.dimensions,o=n.holes;return{indices:_r()(r,o,i),vertices:r,size:i}}function ri(e){var t=e.coordinates,n=_r.a.flatten(t),r=n.vertices,i=n.dimensions,o=n.holes;return{indices:_r()(r,o,i),vertices:ii(r),size:i+4}}function ii(e){for(var t=[],n=Object(q["r"])(e),r=n.center,i=n.radius,o=0;o<e.length;o+=2){var a=e[o],s=e[o+1];t.push.apply(t,[a,s,0].concat(C()(r),[i]))}return t}function oi(e){var t=e.coordinates,n=Ur(t,!0),r=n.positions,i=n.index,o=n.normals;return{vertices:r,indices:i,normals:o,size:5}}function ai(e){var t=e.coordinates,n=[].concat(C()(t[0]),[0,0,1,t[1][0],t[0][1],0,1,1],C()(t[1]),[0,1,0],C()(t[0]),[0,0,1],C()(t[1]),[0,1,0,t[0][0],t[1][1],0,0,0]),r=[0,1,2,3,4,5];return{vertices:n,indices:r,size:5}}function si(e,t){for(var n=t||30,r=e.coordinates,i=[],o=[],a=function(e){i.push(e,1,e,r[0][0],r[0][1],r[1][0],r[1][1],e,-1,e,r[0][0],r[0][1],r[1][0],r[1][1]),e!==n-1&&o.push.apply(o,C()([0,1,2,1,3,2].map((function(t){return 2*e+t}))))},s=0;s<n;s++)a(s);return{vertices:i,indices:o,size:7}}function li(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Kr&&Kr[e])return Kr[e];var n=Xr[e]?Xr[e]():Xr.cylinder(),r=Ur([n],t);return Kr[e]=r,r}function ui(e){var t=ci();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function ci(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var fi="uniform float u_opacity;\nvarying vec4 v_Color;\n\nvoid main() {\n  gl_FragColor = v_Color;\n  gl_FragColor.a *= u_opacity;\n}\n",pi='attribute vec4 a_Color;\nattribute vec3 a_Position;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec4 v_Color;\n\n#pragma include "projection"\n\nvoid main() {\n\n  v_Color = a_Color;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n}\n\n',di=function(e){ke()(n,e);var t=ui(n);function n(){return we()(this,n),t.apply(this,arguments)}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?0:t;return{u_opacity:Tn()(n)?n:0}}},{key:"initModels",value:function(e){this.buildModels(e)}},{key:"buildModels",value:function(){var e=Z()(J.a.mark((function e(t){return J.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.layer.buildLayerModel({moduleName:"mask",vertexShader:pi,fragmentShader:fi,triangulation:ni,depth:{enable:!1},blend:this.getBlend(),stencil:{enable:!0,mask:255,func:{cmp:Bt["o"].ALWAYS,ref:1,mask:255},opFront:{fail:Bt["o"].REPLACE,zfail:Bt["o"].REPLACE,zpass:Bt["o"].REPLACE}}}).then((function(e){t([e])}))["catch"]((function(e){console.warn(e),t([])}));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy(),this.layerService.clear()}},{key:"registerBuiltinAttributes",value:function(){return""}}]),n}(yr),hi={fill:di},vi=hi;function mi(e){var t=gi();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function gi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var yi=function(e){ke()(n,e);var t=mi(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"type","MaskLayer"),e}return Oe()(n,[{key:"buildModels",value:function(){var e=this,t=this.getModelType();this.layerModel=new vi[t](this),this.layerModel.initModels((function(t){e.models=t,e.renderLayers()}))}},{key:"rebuildModels",value:function(){var e=this;this.layerModel.buildModels((function(t){return e.models=t}))}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){return"fill"}}]),n}(fr);function bi(e,t){t.map((function(t){var n=Object(Bt["m"])(e.sceneContainer);t.setContainer(n,e.sceneContainer),t.init()}))}function _i(e,t){var n,r,i=t.getAttribute("shape");if(i&&null!==(n=i.scale)&&void 0!==n&&n.field)return"text"===(null===(r=i.scale)||void 0===r?void 0:r.values)?[i.scale.field,i.scale.values]:i.scale.field;switch(e){case"PolygonLayer":return"fill";case"LineLayer":return"tileline";case"PointLayer":return"circle";case"RasterLayer":return"image";default:return""}}function Ei(e,t){switch(e){case"PolygonLayer":return!0;case"LineLayer":return!0;case"PointLayer":return!1;case"RasterLayer":return t;default:return t}}function xi(e,t,n,r){var i,o,a,s,l=(null===e||void 0===e||null===(i=e.bboxPolygon)||void 0===i?void 0:i.bbox)||[0,0,10,-10],u=Et()(l,4),c=u[0],f=void 0===c?0:c,p=u[1],d=void 0===p?0:p,h=u[2],v=void 0===h?10:h,m=u[3],g=void 0===m?-10:m,y=t.lngLatToContainer([f,d]),b=t.lngLatToContainer([v,g]),_=b.x-y.x,E=y.y-b.y,x=[(n-y.x)/_,(r-b.y)/E],w=(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.width)||1,S=(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.height)||1,O=Math.floor(x[0]*w),C=Math.floor(x[1]*S),A=Math.max(0,C-1)*w+O,P=null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data[A];return P}function wi(e){var t=Si();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Si(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Oi='#define LineTexture 1.0\nuniform float u_blur : 0.99;\nuniform float u_opacity : 1.0;\nuniform float u_textureBlend;\n\nuniform float u_borderWidth: 0.0;\nuniform vec4 u_borderColor;\nvarying vec4 v_color;\n\n// line texture\nuniform float u_line_texture;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\n\nvarying vec2 v_iconMapUV;\n\n#pragma include "picking"\n\nvarying mat4 styleMappingMat;\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float d_distance_ratio = styleMappingMat[3].r; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n  gl_FragColor = v_color;\n  // anti-alias\n  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));\n  gl_FragColor.a *= opacity; // \u5168\u5c40\u900f\u660e\u5ea6\n\n\n  if(u_line_texture == LineTexture) { // while load texture\n    float aDistance = styleMappingMat[3].g;      // \u5f53\u524d\u9876\u70b9\u7684\u8ddd\u79bb\n    float d_texPixelLen = styleMappingMat[3].b;  // \u8d34\u56fe\u7684\u50cf\u7d20\u957f\u5ea6\uff0c\u6839\u636e\u5730\u56fe\u5c42\u7ea7\u7f29\u653e\n    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen);\n    float v = styleMappingMat[3].a;  // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n    // v = max(smoothstep(0.95, 1.0, v), v);\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    \n    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, vec2(u, v)));\n    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, uv));\n     vec4 pattern = texture2D(u_texture, uv);\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      gl_FragColor += pattern;\n    } else { // replace\n        pattern.a *= opacity;\n        if(gl_FragColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        gl_FragColor = pattern;\n    }\n  } \n\n  float v = styleMappingMat[3].a;\n  float borderWidth = min(0.5, u_borderWidth);\n  // \u7ed8\u5236 border\n  if(borderWidth > 0.01) {\n    float borderOuterWidth = borderWidth/2.0;\n\n    if(v >= 1.0 - borderWidth || v <= borderWidth) {\n      if(v > borderWidth) {\n        float linear = smoothstep(0.0, 1.0, (v - (1.0 - borderWidth))/borderWidth);\n        gl_FragColor.rgb = mix(gl_FragColor.rgb, u_borderColor.rgb, linear);\n      } else if(v <= borderWidth) {\n        float linear = smoothstep(0.0, 1.0, v/borderWidth);\n        gl_FragColor.rgb = mix(u_borderColor.rgb, gl_FragColor.rgb, linear);\n      }\n    }\n\n    if(v < borderOuterWidth) {\n      gl_FragColor.a = mix(0.0, gl_FragColor.a, v/borderOuterWidth);\n    } else if(v > 1.0 - borderOuterWidth) {\n      gl_FragColor.a = mix(gl_FragColor.a, 0.0, (v - (1.0 - borderOuterWidth))/borderOuterWidth);\n    }\n  }\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Ci='\nattribute float a_Miter;\nattribute vec4 a_Color;\nattribute vec2 a_Size;\nattribute vec3 a_Normal;\nattribute vec3 a_Position;\n\nattribute vec2 a_iconMapUV;\n\n// dash line\nattribute float a_Total_Distance;\nattribute vec2 a_DistanceAndIndex;\n\nuniform vec2 u_tileOrigin;\nuniform float u_coord;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_icon_step: 100;\n\nuniform float u_heightfixed: 0.0;\nuniform float u_vertexScale: 1.0;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvarying vec4 v_color;\n\n// texV \u7ebf\u56fe\u5c42 - \u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\uff08\u7ebf\u7684\u5bbd\u5ea6\u65b9\u5411\uff09\nvarying vec2 v_iconMapUV;\n\n\nuniform float u_linearColor: 0;\nuniform float u_arrow: 0.0;\nuniform float u_arrowHeight: 3.0;\nuniform float u_arrowWidth: 2.0;\nuniform float u_tailWidth: 1.0;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\nvec2 calculateArrow(vec2 offset) {\n  /*\n  * \u5728\u652f\u6301\u7bad\u5934\u7684\u65f6\u5019\uff0c\u7b2c\u4e8c\u3001\u7b2c\u4e09\u7ec4\u9876\u70b9\u662f\u989d\u5916\u63d2\u5165\u7528\u4e8e\u6784\u5efa\u9876\u70b9\u7684\n  */\n  float arrowFlag = -1.0;\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // \u9ad8\u5fb7 2.0 \u7684\u65cb\u8f6c\u89d2\u5ea6\u4e0d\u540c\n    arrowFlag = 1.0;\n  }\n  float pi = arrowFlag * 3.1415926/2.;\n  if(a_Miter < 0.) {\n    // \u6839\u636e\u7ebf\u7684\u4e24\u4fa7\u504f\u79fb\u4e0d\u540c\u3001\u65cb\u8f6c\u7684\u65b9\u5411\u76f8\u53cd\n    pi = -pi;\n  }\n  highp float angle_sin = sin(pi);\n  highp float angle_cos = cos(pi);\n  // \u8ba1\u7b97\u5782\u76f4\u4e0e\u7ebf\u65b9\u5411\u7684\u65cb\u8f6c\u77e9\u9635\n  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n  float arrowWidth = u_arrowWidth;\n  float arrowHeight = u_arrowHeight;\n\n  vec2 arrowOffset = vec2(0.0);\n  /*\n  * a_DistanceAndIndex.y \u7528\u4e8e\u6807\u8bb0\u5f53\u524d\u9876\u70b9\u5c5e\u4e8e\u54ea\u4e00\u7ec4\uff08\u4e24\u4e2a\u9876\u70b9\u4e00\u7ec4\uff0c\u6784\u6210\u7ebf\u7684\u5176\u5b9e\u662f\u77e9\u5f62\uff0c\u6700\u7b80\u9700\u8981\u56db\u4e2a\u9876\u70b9\u3001\u4e24\u7ec4\u9876\u70b9\u6784\u6210\uff09\n  */\n  if(a_DistanceAndIndex.y == 0.0) {\n    // \u7bad\u5934\u5c16\u90e8\n    offset = vec2(0.0);\n  } else if(a_DistanceAndIndex.y == 1.0) {\n    // \u7bad\u5934\u4e24\u4fa7\n    arrowOffset = rotation_matrix*(offset * arrowHeight);\n    offset += arrowOffset; // \u6cbf\u7ebf\u504f\u79fb\n    offset = offset * arrowWidth; // \u5782\u76f4\u7ebf\u5411\u5916\u504f\u79fb\uff08\u662f\u6784\u5efa\u7bad\u5934\u4e24\u4fa7\u7684\u9876\u70b9\uff09\n  } else if(a_DistanceAndIndex.y == 2.0 || a_DistanceAndIndex.y == 3.0 || a_DistanceAndIndex.y == 4.0) {\n    // \u504f\u79fb\u5176\u4f59\u7684\u70b9\u4f4d\uff08\u5c06\u957f\u5ea6\u8ba9\u4f4d\u7ed9\u7bad\u5934\uff09\n    arrowOffset = rotation_matrix*(offset * arrowHeight) * arrowWidth;\n    offset += arrowOffset;// \u6cbf\u7ebf\u504f\u79fb\n  }\n\n  return offset;\n}\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // distance_ratio/distance/pixelLen/texV\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  float d_texPixelLen;    // \u8d34\u56fe\u7684\u50cf\u7d20\u957f\u5ea6\uff0c\u6839\u636e\u5730\u56fe\u5c42\u7ea7\u7f29\u653e\n\n  v_iconMapUV = a_iconMapUV;\n  d_texPixelLen = project_float_pixel(u_icon_step);\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    d_texPixelLen *= 10.0;\n  }\n\n  v_color = a_Color;\n\n  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);\n  \n  vec2 offset = project_pixel(size.xy);\n\n  float lineDistance = a_DistanceAndIndex.x;\n  float currentLinePointRatio = lineDistance / a_Total_Distance;\n \n  if(u_arrow > 0.0) {\n      //  \u8ba1\u7b97\u7bad\u5934\n    offset = calculateArrow(offset);\n\n    if(a_DistanceAndIndex.y > 4.0) {\n      offset *= mix(1.0, u_tailWidth, currentLinePointRatio);\n    }\n  }\n\n  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // \u7ebf\u6a2a\u5411\u504f\u79fb\u7684\u8ddd\u79bb\uff08\u5411\u4e24\u4fa7\u504f\u79fb\u7684\u548c\uff09\n  float linePixelSize = project_pixel(a_Size.x) * 2.0;  // \u5b9a\u70b9\u4f4d\u7f6e\u504f\u79fb\uff0c\u6309\u5730\u56fe\u7b49\u7ea7\u7f29\u653e\u540e\u7684\u8ddd\u79bb \u5355\u4fa7 * 2\n  float texV = lineOffsetWidth/linePixelSize; // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n  // \u8bbe\u7f6e\u6570\u636e\u96c6\u7684\u53c2\u6570\n  styleMappingMat[3][0] = currentLinePointRatio; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n  styleMappingMat[3][1] = lineDistance;       // \u5f53\u524d\u9876\u70b9\u7684\u8ddd\u79bb\n  styleMappingMat[3][2] = d_texPixelLen;    // \u8d34\u56fe\u7684\u50cf\u7d20\u957f\u5ea6\uff0c\u6839\u636e\u5730\u56fe\u5c42\u7ea7\u7f29\u653e\n  styleMappingMat[3][3] = texV;             // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));\n\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));\n\n  float h = float(a_Position.z) * u_vertexScale; // \u7ebf\u9876\u70b9\u7684\u9ad8\u5ea6 - \u517c\u5bb9\u4e0d\u5b58\u5728\u7b2c\u4e09\u4e2a\u6570\u503c\u7684\u60c5\u51b5 vertex height\n  float lineHeight = a_Size.y; // size \u7b2c\u4e8c\u4e2a\u53c2\u6570\u4ee3\u8868\u7684\u9ad8\u5ea6 [linewidth, lineheight]\n\nif(u_coord > 0.0) {\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    lineHeight *= 0.2; // \u4fdd\u6301\u548c amap/mapbox \u4e00\u81f4\u7684\u6548\u679c\n    h *= 0.2;\n    if(u_heightfixed < 1.0) {\n      lineHeight = project_pixel(a_Size.y);\n    }\n    gl_Position = u_Mvp * (vec4(project_pos.xy + offset, lineHeight + h, 1.0));\n  } else {\n    // mapbox -  amap\n    \n    // \u517c\u5bb9 mapbox \u5728\u7ebf\u9ad8\u5ea6\u4e0a\u7684\u6548\u679c\u8868\u73b0\u57fa\u672c\u4e00\u81f4\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      // mapbox\n      // \u4fdd\u6301\u9ad8\u5ea6\u76f8\u5bf9\u4e0d\u53d8\n      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n      h *= mapboxZoomScale;\n      if(u_heightfixed > 0.0) {\n        lineHeight *= mapboxZoomScale;\n      }\n      \n    } else {\n      // amap\n      // lineHeight \u9876\u70b9\u504f\u79fb\u9ad8\u5ea6\n      if(u_heightfixed < 1.0) {\n        lineHeight *= pow(2.0, 20.0 - u_Zoom);\n      }\n    }\n\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, lineHeight + h, 1.0));\n  }\n} else {\n  vec2 pointPos = a_Position.xy;\n  vec4 tileWorld = vec4(project_mvt_offset_position(vec4(u_tileOrigin, 0.0, 1.0)).xyz, 1.0); // \u74e6\u7247\u8d77\u59cb\u70b9\u7684\u4e16\u754c\u5750\u6807\n\n  vec2 pointOffset =  pointPos *  pow(2.0, u_Zoom); // \u74e6\u7247\u5185\u7684\u70b9\u7684\u504f\u79fb\u5750\u6807\n  \n  tileWorld.xy += pointOffset;\n\n  tileWorld.xy += offset;\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n    tileWorld.w *= u_PixelsPerMeter.z;\n  }\n\n  gl_Position = u_ViewProjectionMatrix * tileWorld + u_ViewportCenterProjection;\n}\n\n\n  setPickingColor(a_PickingColor);\n\n\n}\n',Ai=function(e){ke()(n,e);var t=wi(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"texture",void 0),S()(Ae()(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:Bt["o"].NEAREST,min:Bt["o"].NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.textureBlend,i=void 0===r?"normal":r,o=e.lineTexture,a=void 0!==o&&o,s=e.iconStep,l=void 0===s?100:s,u=e.vertexHeightScale,c=void 0===u?20:u,f=e.borderWidth,p=void 0===f?0:f,d=e.borderColor,h=void 0===d?"#ccc":d,v=e.heightfixed,m=void 0!==v&&v,g=e.arrow,y=void 0===g?{enable:!1,arrowWidth:2,arrowHeight:3,tailWidth:1}:g,b=e.coord,_=void 0===b?"lnglat":b,E=e.tileOrigin;if(this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var x=this.layer.getEncodedData(),w=this.calDataFrame(this.cellLength,x,this.cellProperties),S=w.data,O=w.width,C=w.height;this.rowCount=C,this.dataTexture=this.cellLength>0&&S.length>0?this.createTexture2D({flipY:!0,data:S,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:O,height:C}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_tileOrigin:E||[0,0],u_coord:"lnglat"===_?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Number(n),u_textureBlend:"normal"===i?0:1,u_texture:this.texture,u_line_texture:a?1:0,u_icon_step:l,u_textSize:[1024,this.iconService.canvasHeight||128],u_borderWidth:p,u_borderColor:Object(q["M"])(h),u_heightfixed:Number(m),u_vertexScale:c,u_arrow:Number(y.enable),u_arrowHeight:y.arrowHeight||3,u_arrowWidth:y.arrowWidth||2,u_tailWidth:void 0===y.tailWidth?1:y.tailWidth}}},{key:"initModels",value:function(e){this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels(e)}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){var e=Z()(J.a.mark((function e(t){var n,r,i,o,a,s,l;return J.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=this.layer.getLayerConfig(),r=n.mask,i=void 0!==r&&r,o=n.maskInside,a=void 0===o||o,s=n.depth,l=void 0!==s&&s,this.layer.triangulation=ei,this.layer.buildLayerModel({moduleName:"lineTile",vertexShader:Ci,fragmentShader:Oi,triangulation:ei,blend:this.getBlend(),depth:{enable:l},stencil:Object(q["A"])(i,a)}).then((function(e){t([e])}))["catch"]((function(e){console.warn(e),t([])}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"distanceAndIndex",type:Bt["a"].Attribute,descriptor:{name:"a_DistanceAndIndex",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,n,r,i,o){return void 0===o?[n[3],10]:[n[3],o]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:Bt["a"].Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){return[n[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0],o[1]]:[o,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Bt["a"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:Bt["a"].Attribute,descriptor:{name:"a_Miter",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){return[n[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Bt["a"].Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(t,n,r,i){var o=e.iconService.getIconMap(),a=t.texture,s=o[a]||{x:0,y:0},l=s.x,u=s.y;return[l,u]}}})}}]),n}(yr);function Pi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ki(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function ki(e,t){if(e){if("string"===typeof e)return Mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mi(e,t):void 0}}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ti=function(){function e(t,n,r){we()(this,e),S()(this,"boxCells",[]),S()(this,"xCellCount",void 0),S()(this,"yCellCount",void 0),S()(this,"boxKeys",void 0),S()(this,"bboxes",void 0),S()(this,"width",void 0),S()(this,"height",void 0),S()(this,"xScale",void 0),S()(this,"yScale",void 0),S()(this,"boxUid",void 0);var i=this.boxCells;this.xCellCount=Math.ceil(t/r),this.yCellCount=Math.ceil(n/r);for(var o=0;o<this.xCellCount*this.yCellCount;o++)i.push([]);this.boxKeys=[],this.bboxes=[],this.width=t,this.height=n,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/n,this.boxUid=0}return Oe()(e,[{key:"insert",value:function(e,t,n,r,i){this.forEachCell(t,n,r,i,this.insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}},{key:"query",value:function(e,t,n,r,i){return this.queryHitTest(e,t,n,r,!1,i)}},{key:"hitTest",value:function(e,t,n,r,i){return this.queryHitTest(e,t,n,r,!0,i)}},{key:"insertBoxCell",value:function(e,t,n,r,i,o){this.boxCells[i].push(o)}},{key:"queryHitTest",value:function(e,t,n,r,i,o){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];var a=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});return o?a.filter(o):a}var l={hitTest:i,seenUids:{box:{},circle:{}}};return this.forEachCell(e,t,n,r,this.queryCell,a,l,o),i?a.length>0:a}},{key:"queryCell",value:function(e,t,n,r,i,o,a,s){var l=a.seenUids,u=this.boxCells[i];if(null!==u){var c,f=this.bboxes,p=Pi(u);try{for(p.s();!(c=p.n()).done;){var d=c.value;if(!l.box[d]){l.box[d]=!0;var h=4*d;if(e<=f[h+2]&&t<=f[h+3]&&n>=f[h+0]&&r>=f[h+1]&&(!s||s(this.boxKeys[d]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[d],x1:f[h],y1:f[h+1],x2:f[h+2],y2:f[h+3]})}}}}catch(v){p.e(v)}finally{p.f()}}return!1}},{key:"forEachCell",value:function(e,t,n,r,i,o,a,s){for(var l=this.convertToXCellCoord(e),u=this.convertToYCellCoord(t),c=this.convertToXCellCoord(n),f=this.convertToYCellCoord(r),p=l;p<=c;p++)for(var d=u;d<=f;d++){var h=this.xCellCount*d+p;if(i.call(this,e,t,n,r,h,o,a,s))return}}},{key:"convertToXCellCoord",value:function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}},{key:"convertToYCellCoord",value:function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}}]),e}(),Li=Ti,Ii=function(){function e(t,n){we()(this,e),S()(this,"width",void 0),S()(this,"height",void 0),S()(this,"grid",void 0),S()(this,"viewportPadding",100),S()(this,"screenRightBoundary",void 0),S()(this,"screenBottomBoundary",void 0),S()(this,"gridRightBoundary",void 0),S()(this,"gridBottomBoundary",void 0),this.width=t,this.height=n,this.viewportPadding=Math.max(t,n),this.grid=new Li(t+this.viewportPadding,n+this.viewportPadding,25),this.screenRightBoundary=t+this.viewportPadding,this.screenBottomBoundary=n+this.viewportPadding,this.gridRightBoundary=t+2*this.viewportPadding,this.gridBottomBoundary=n+2*this.viewportPadding}return Oe()(e,[{key:"placeCollisionBox",value:function(e){var t=e.x1+e.anchorPointX+this.viewportPadding,n=e.y1+e.anchorPointY+this.viewportPadding,r=e.x2+e.anchorPointX+this.viewportPadding,i=e.y2+e.anchorPointY+this.viewportPadding;return!this.isInsideGrid(t,n,r,i)||this.grid.hitTest(t,n,r,i)?{box:[]}:{box:[t,n,r,i]}}},{key:"insertCollisionBox",value:function(e,t){var n={featureIndex:t};this.grid.insert(n,e[0],e[1],e[2],e[3])}},{key:"project",value:function(e,t,n){var r=Er["d"].fromValues(t,n,0,1),i=Er["d"].create(),o=Er["a"].fromValues.apply(Er["a"],C()(e));return Er["d"].transformMat4(i,r,o),{x:(i[0]/i[3]+1)/2*this.width+this.viewportPadding,y:(-i[1]/i[3]+1)/2*this.height+this.viewportPadding}}},{key:"isInsideGrid",value:function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}}]),e}();function Di(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ri(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function Ri(e,t){if(e){if("string"===typeof e)return Ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ni(e,t):void 0}}function Ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ji(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0;break;default:t=.5}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0;break;default:n=.5}return{horizontalAlign:t,verticalAlign:n}}function Fi(e,t,n,r,i){if(i){var o=e[r],a=o.glyph;if(a)for(var s=t[a].advance*o.scale,l=(e[r].x+s)*i,u=n;u<=r;u++)e[u].x-=l}}function Bi(e,t,n,r,i,o,a){var s,l=(t-n)*i,u=(-r*a+.5)*o,c=Di(e);try{for(c.s();!(s=c.n()).done;){var f=s.value;f.x+=l,f.y+=u}}catch(p){c.e(p)}finally{c.f()}}function Ui(e,t,n,r,i,o,a){var s=-8,l=0,u=s,c=0,f=e.positionedGlyphs,p="right"===o?1:"left"===o?0:.5,d=f.length;n.forEach((function(e){if(e.split("").forEach((function(e){var n=t[e],r=0;n&&(f.push({glyph:e,x:l,y:u+r,vertical:!1,scale:1,metrics:n}),l+=n.advance+a)})),f.length!==d){var n=l-a;c=Math.max(n,c),Fi(f,t,d,f.length-1,p)}l=0,u-=r+5}));var h=ji(i),v=h.horizontalAlign,m=h.verticalAlign;Bi(f,p,v,m,c,r,n.length);var g=u-s;e.top+=-m*g,e.bottom=e.top-g,e.left+=-v*c,e.right=e.left+c}function zi(e,t,n,r,i,o,a){var s=-8,l=0,u=s,c=0,f=e.positionedGlyphs,p="right"===o?1:"left"===o?0:.5,d=f.length;n.forEach((function(e){var n=t[e],i=0;if(n&&(f.push({glyph:e,x:n.advance/2,y:u+i,vertical:!1,scale:1,metrics:n}),l+=n.advance+a),f.length!==d){var o=l-a;c=Math.max(o,c),Fi(f,t,d,f.length-1,p)}l=0,u-=r+5}));var h=ji(i),v=h.horizontalAlign,m=h.verticalAlign;Bi(f,p,v,m,c,r,n.length);var g=u-s;e.top+=-m*g,e.bottom=e.top-g,e.left+=-v*c,e.right=e.left+c}function Hi(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[0,0],s=arguments.length>7?arguments[7]:void 0,l=e.split("\n"),u=[],c={positionedGlyphs:u,top:a[1],bottom:a[1],left:a[0],right:a[0],lineCount:l.length,text:e};return s?zi(c,t,l,n,r,i,o):Ui(c,t,l,n,r,i,o),!!u.length&&c}function Vi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],r=arguments.length>2?arguments[2]:void 0,i=e.positionedGlyphs,o=void 0===i?[]:i,a=[],s=Di(o);try{for(s.s();!(t=s.n()).done;){var l=t.value,u=l.metrics,c=4,f=u.advance*l.scale/2,p=r?[l.x+f,l.y]:[0,0],d=r?[0,0]:[l.x+f+n[0],l.y+n[1]],h=(0-c)*l.scale-f+d[0],v=(0-c)*l.scale+d[1],m=h+u.width*l.scale,g=v+u.height*l.scale,y={x:h,y:v},b={x:m,y:v},_={x:h,y:g},E={x:m,y:g};a.push({tl:y,tr:b,bl:_,br:E,tex:u,glyphOffset:p})}}catch(x){s.e(x)}finally{s.f()}return a}function Gi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Wi(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function Wi(e,t){if(e){if("string"===typeof e)return qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(e,t):void 0}}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yi(e){var t=Xi();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Xi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Ki='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 48.0\nuniform sampler2D u_sdf_map;\nuniform float u_gamma_scale : 0.5;\n// uniform float u_font_size : 24.0;\nuniform float u_opacity : 1.0;\nuniform vec4 u_stroke_color : [0, 0, 0, 1];\nuniform float u_stroke_width : 2.0;\nuniform float u_halo_blur : 0.5;\nuniform float u_DevicePixelRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_uv;\nvarying float v_gamma_scale;\nvarying float v_fontScale;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\nvoid main() {\n  // get style data mapping\n  float opacity = styleMappingMat[0][0];\n  float strokeWidth = styleMappingMat[0][2];\n  vec4 textrueStroke = vec4(\n    styleMappingMat[1][0],\n    styleMappingMat[1][1],\n    styleMappingMat[1][2],\n    styleMappingMat[1][3]\n  );\n\n  // get sdf from atlas\n  float dist = texture2D(u_sdf_map, v_uv).a;\n\n  // float fontScale = u_font_size / FONT_SIZE;\n\n  // lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;\n  lowp float buff = (6.0 - strokeWidth / v_fontScale) / SDF_PX;\n  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;\n\n  highp float gamma_scaled = gamma * v_gamma_scale;\n\n  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n  // gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), vec4(u_stroke_color.rgb, u_stroke_color.a * u_opacity), smoothstep(0., 0.5, 1. - dist));\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), vec4(textrueStroke.rgb, textrueStroke.a * opacity), smoothstep(0., 0.5, 1. - dist));\n  gl_FragColor.a= gl_FragColor.a * alpha;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Zi='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 24.0\nattribute vec3 a_Position;\nattribute vec2 a_tex;\nattribute vec2 a_textOffsets;\nattribute vec4 a_Color;\nattribute float a_Size;\nattribute float a_Rotate;\n\nuniform vec2 u_sdf_map_size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_raisingHeight: 0.0;\n\nvarying vec2 v_uv;\nvarying float v_gamma_scale;\nvarying vec4 v_color;\nvarying float v_fontScale;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\nuniform float u_opacity : 1;\nuniform float u_stroke_width : 2;\nuniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n#pragma include "styleMappingCalStrokeWidth"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n   styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n   vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][2] = strokeWidthAndOffset.r;\n  textureOffset = strokeWidthAndOffset.g;\n\n  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);\n  if(hasStroke()) {\n    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R\n    textureOffset += 1.0;\n\n    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G\n    textureOffset += 1.0;\n\n    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B\n    textureOffset += 1.0;\n\n    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A\n    textureOffset += 1.0;\n  } else {\n    if(u_stroke_color == vec4(0.0)) {\n      styleMappingMat[1][0] = v_color.r;\n      styleMappingMat[1][1] = v_color.g;\n      styleMappingMat[1][2] = v_color.b;\n      styleMappingMat[1][3] = v_color.a;\n    } else {\n      styleMappingMat[1][0] = u_stroke_color.r;\n      styleMappingMat[1][1] = u_stroke_color.g;\n      styleMappingMat[1][2] = u_stroke_color.b;\n      styleMappingMat[1][3] = u_stroke_color.a;\n    }\n  }\n  \n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_color = a_Color;\n  v_uv = a_tex / u_sdf_map_size;\n\n  // \u6587\u672c\u7f29\u653e\u6bd4\u4f8b\n  float fontScale = a_Size / FONT_SIZE;\n  v_fontScale = fontScale;\n\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  highp float angle_sin = sin(a_Rotate);\n  highp float angle_cos = cos(a_Rotate);\n  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n  \n  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\n\n  float raiseHeight = u_raisingHeight;\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n    raiseHeight = u_raisingHeight * mapboxZoomScale;\n  }\n\n  vec4 projected_position;\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n   projected_position  = u_Mvp * (vec4(a_Position.xyz + vec3(0.0, 0.0, raiseHeight), 1.0));\n  } else { // else\n   projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz + vec3(0.0, 0.0, raiseHeight), 1.0));\n  }\n\n  gl_Position = vec4(\n    projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\n  v_gamma_scale = gl_Position.w;\n  setPickingColor(a_PickingColor);\n\n}\n';function Qi(e){var t=this,n=e.id,r=[],i=[];if(!t.glyphInfoMap||!t.glyphInfoMap[n])return{vertices:[],indices:[],size:7};var o=t.glyphInfoMap[n].centroid,a=2===o.length?[o[0],o[1],0]:o;return t.glyphInfoMap[n].glyphQuads.forEach((function(e,t){r.push.apply(r,C()(a).concat([e.tex.x,e.tex.y+e.tex.height,e.tl.x,e.tl.y],C()(a),[e.tex.x+e.tex.width,e.tex.y+e.tex.height,e.tr.x,e.tr.y],C()(a),[e.tex.x+e.tex.width,e.tex.y,e.br.x,e.br.y],C()(a),[e.tex.x,e.tex.y,e.bl.x,e.bl.y])),i.push(0+4*t,1+4*t,2+4*t,2+4*t,3+4*t,0+4*t)})),{vertices:r,indices:i,size:7}}var Ji=function(e){ke()(n,e);var t=Yi(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"glyphInfo",void 0),S()(Ae()(e),"glyphInfoMap",{}),S()(Ae()(e),"texture",void 0),S()(Ae()(e),"currentZoom",-1),S()(Ae()(e),"extent",void 0),S()(Ae()(e),"textureHeight",0),S()(Ae()(e),"textCount",0),S()(Ae()(e),"preTextStyle",{}),S()(Ae()(e),"buildModels",function(){var t=Z()(J.a.mark((function t(n){var r,i,o,a,s;return J.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.layer.getLayerConfig(),i=r.mask,o=void 0!==i&&i,a=r.maskInside,s=void 0===a||a,e.mapping(),e.layer.buildLayerModel({moduleName:"pointText",vertexShader:Zi,fragmentShader:Ki,triangulation:Qi.bind(Ae()(e)),depth:{enable:!1},blend:e.getBlend(),stencil:Object(q["A"])(o,s)}).then((function(e){n([e])}))["catch"]((function(e){console.warn(e),n([])}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),S()(Ae()(e),"mapping",(function(){e.initGlyph(),e.updateTexture(),e.filterGlyphs(),e.reBuildModel()})),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.stroke,i=void 0===r?"#fff":r,o=e.strokeWidth,a=void 0===o?0:o,s=e.textAnchor,l=void 0===s?"center":s,u=e.textAllowOverlap,c=void 0!==u&&u,f=e.halo,p=void 0===f?.5:f,d=e.gamma,h=void 0===d?2:d,v=e.raisingHeight,m=void 0===v?0:v,g=this.fontService,y=g.canvas,b=g.mapping;if(Object.keys(b).length!==this.textCount&&(this.updateTexture(),this.textCount=Object.keys(b).length),this.preTextStyle={textAnchor:l,textAllowOverlap:c},this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,strokeWidth:a,stroke:i})){this.judgeStyleAttributes({opacity:n,strokeWidth:a,stroke:i});var _=this.layer.getEncodedData(),E=this.calDataFrame(this.cellLength,_,this.cellProperties),x=E.data,w=E.width,S=E.height;this.rowCount=S,this.dataTexture=this.cellLength>0&&x.length>0?this.createTexture2D({flipY:!0,data:x,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:w,height:S}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_raisingHeight:Number(m),u_opacity:Tn()(n)?n:1,u_stroke_width:Tn()(a)?a:1,u_stroke_color:this.getStrokeColor(i),u_sdf_map:this.texture,u_halo_blur:p,u_gamma_scale:h,u_sdf_map_size:[y.width,y.height]}}},{key:"initModels",value:function(e){this.layer.on("remapping",this.mapping),this.extent=this.textExtent();var t=this.layer.getLayerConfig(),n=t.textAnchor,r=void 0===n?"center":n,i=t.textAllowOverlap,o=void 0===i||i;this.preTextStyle={textAnchor:r,textAllowOverlap:o},this.buildModels(e)}},{key:"needUpdate",value:function(){var e=this.layer.getLayerConfig(),t=e.textAllowOverlap,n=void 0!==t&&t,r=this.mapService.getZoom(),i=this.mapService.getBounds(),o=Object(q["p"])(this.extent,i);return(!n&&(Math.abs(this.currentZoom-r)>1||!o)||n!==this.preTextStyle.textAllowOverlap)&&(this.reBuildModel(),!0)}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.layer.off("remapping",this.mapping)}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"rotate",type:Bt["a"].Attribute,descriptor:{name:"a_Rotate",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){var i=e.rotate,o=void 0===i?0:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:Bt["a"].Attribute,descriptor:{name:"a_textOffsets",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,n,r){return[n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?12:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:Bt["a"].Attribute,descriptor:{name:"a_tex",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}})}},{key:"textExtent",value:function(){var e=this.mapService.getBounds();return Object(q["K"])(e,.5)}},{key:"initTextFont",value:function(){var e=this.layer.getLayerConfig(),t=e.fontWeight,n=void 0===t?"400":t,r=e.fontFamily,i=void 0===r?"sans-serif":r,o=this.layer.getEncodedData(),a=[];o.forEach((function(e){var t=e.shape,n=void 0===t?"":t;n=n.toString();var r,i=Gi(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;-1===a.indexOf(o)&&a.push(o)}}catch(s){i.e(s)}finally{i.f()}})),this.fontService.setFontOptions({characterSet:a,fontWeight:n,fontFamily:i,iconfont:!1})}},{key:"initIconFontTex",value:function(){var e=this.layer.getLayerConfig(),t=e.fontWeight,n=void 0===t?"400":t,r=e.fontFamily,i=void 0===r?"sans-serif":r,o=this.layer.getEncodedData(),a=[];o.forEach((function(e){var t=e.shape,n=void 0===t?"":t;n="".concat(n),-1===a.indexOf(n)&&a.push(n)})),this.fontService.setFontOptions({characterSet:a,fontWeight:n,fontFamily:i,iconfont:!0})}},{key:"generateGlyphLayout",value:function(e){var t=this,n=this.fontService.mapping,r=this.layer.getLayerConfig(),i=r.spacing,o=void 0===i?2:i,a=r.textAnchor,s=void 0===a?"center":a,l=this.layer.getEncodedData();this.glyphInfo=l.map((function(r){var i=r.shape,a=void 0===i?"":i,l=r.id,u=r.size,c=void 0===u?1:u,f=r.textOffset,p=void 0===f?[0,0]:f,d=Hi(a.toString(),n,c,s,"left",o,p,e),h=Vi(d,p,!1);return r.shaping=d,r.glyphQuads=h,r.centroid=Object(q["q"])(r.coordinates),r.originCentroid="GAODE2.x"===r.version?Object(q["q"])(r.originCoordinates):r.originCentroid=r.centroid,t.glyphInfoMap[l]={shaping:d,glyphQuads:h,centroid:Object(q["q"])(r.coordinates)},r}))}},{key:"filterGlyphs",value:function(){var e=this,t=this.layer.getLayerConfig(),n=t.padding,r=void 0===n?[4,4]:n,i=t.textAllowOverlap,o=void 0!==i&&i;if(!o){this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();var a=this.rendererService.getViewportSize(),s=a.width,l=a.height,u=new Ii(s,l),c=this.glyphInfo.filter((function(t){var n=t.shaping,i=t.id,o=void 0===i?0:i,a="GAODE2.x"===t.version?t.originCentroid:t.centroid,s=t.size,l=s/24,c=e.mapService.lngLatToContainer(a),f=u.placeCollisionBox({x1:n.left*l-r[0],x2:n.right*l+r[0],y1:n.top*l-r[1],y2:n.bottom*l+r[1],anchorPointX:c.x,anchorPointY:c.y}),p=f.box;return!(!p||!p.length)&&(u.insertCollisionBox(p,o),!0)}));c.forEach((function(t){e.glyphInfoMap[t.id]=t}))}}},{key:"initGlyph",value:function(){var e=this.layer.getLayerConfig(),t=e.iconfont,n=void 0!==t&&t;n?this.initIconFontTex():this.initTextFont(),this.generateGlyphLayout(n)}},{key:"updateTexture",value:function(){var e=this.rendererService.createTexture2D,t=this.fontService.canvas;this.textureHeight=t.height,this.texture&&this.texture.destroy(),this.texture=e({data:t,mag:Bt["o"].LINEAR,min:Bt["o"].LINEAR,width:t.width,height:t.height})}},{key:"reBuildModel",value:function(){var e=this,t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i;this.filterGlyphs(),this.layer.buildLayerModel({moduleName:"pointText",vertexShader:Zi,fragmentShader:Ki,triangulation:Qi.bind(this),depth:{enable:!1},blend:this.getBlend(),stencil:Object(q["A"])(r,o)}).then((function(t){e.layer.models=[t],e.layer.renderLayers()}))["catch"]((function(t){console.warn(t),e.layer.models=[]}))}}]),n}(yr);function $i(e){var t=eo();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function eo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var to="uniform float u_additive;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\n#pragma include \"sdf_2d\"\n#pragma include \"picking\"\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  vec4 textrueStroke = vec4(\n    styleMappingMat[1][0],\n    styleMappingMat[1][1],\n    styleMappingMat[1][2],\n    styleMappingMat[1][3]\n  );\n\n  float opacity = styleMappingMat[0][0];\n  float stroke_opacity = styleMappingMat[0][1];\n  float strokeWidth = styleMappingMat[0][2];\n  vec4 strokeColor = textrueStroke == vec4(0) ? v_color : textrueStroke;\n\n  lowp float antialiasblur = v_data.z;\n  float r = v_radius / (v_radius + strokeWidth);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  } else if (shape == 1) {\n    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  } else if (shape == 2) {\n    outer_df = sdBox(v_data.xy, vec2(1.));\n    inner_df = sdBox(v_data.xy, vec2(r));\n  } else if (shape == 3) {\n    outer_df = sdPentagon(v_data.xy, 0.8);\n    inner_df = sdPentagon(v_data.xy, r * 0.8);\n  } else if (shape == 4) {\n    outer_df = sdHexagon(v_data.xy, 0.8);\n    inner_df = sdHexagon(v_data.xy, r * 0.8);\n  } else if (shape == 5) {\n    outer_df = sdOctogon(v_data.xy, 1.0);\n    inner_df = sdOctogon(v_data.xy, r);\n  } else if (shape == 6) {\n    outer_df = sdHexagram(v_data.xy, 0.52);\n    inner_df = sdHexagram(v_data.xy, r * 0.52);\n  } else if (shape == 7) {\n    outer_df = sdRhombus(v_data.xy, vec2(1.0));\n    inner_df = sdRhombus(v_data.xy, vec2(r));\n  } else if (shape == 8) {\n    outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  }\n\n\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\n\n  float color_t = strokeWidth < 0.01 ? 0.0 : smoothstep(\n    antialiasblur,\n    0.0,\n    inner_df\n  );\n\n  if(strokeWidth < 0.01) {\n    gl_FragColor = vec4(v_color.rgb, v_color.a * opacity);\n  } else {\n    gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), strokeColor * stroke_opacity, color_t);\n  }\n\n  if(u_additive > 0.0) {\n    gl_FragColor *= opacity_t;\n    gl_FragColor = filterColorAlpha(gl_FragColor, gl_FragColor.a);\n  } else {\n    gl_FragColor.a *= opacity_t;\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n}\n",no='attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Extrude;\nattribute float a_Size;\nattribute float a_Shape;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_isMeter;\n\nuniform vec2 u_tileOrigin;\nuniform float u_coord;\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\nuniform float u_opacity : 1;\nuniform float u_stroke_opacity : 1;\nuniform float u_stroke_width : 2;\nuniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\nuniform vec2 u_offsets;\n\nuniform float u_blur : 0.0;\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n#pragma include "styleMappingCalStrokeOpacity"\n#pragma include "styleMappingCalStrokeWidth"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  vec3 extrude = a_Extrude;\n  float shape_type = a_Shape;\n  float newSize = setPickingSize(a_Size);\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 strokeOpacityAndOffset = calStrokeOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][1] = strokeOpacityAndOffset.r;\n  textureOffset = strokeOpacityAndOffset.g;\n\n  vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][2] = strokeWidthAndOffset.r;\n  textureOffset = strokeWidthAndOffset.g;\n\n  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);\n  if(hasStroke()) {\n    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R\n    textureOffset += 1.0;\n\n    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G\n    textureOffset += 1.0;\n\n    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B\n    textureOffset += 1.0;\n\n    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A\n    textureOffset += 1.0;\n  } else {\n    if(u_stroke_color == vec4(0.0)) {\n      styleMappingMat[1][0] = v_color.r;\n      styleMappingMat[1][1] = v_color.g;\n      styleMappingMat[1][2] = v_color.b;\n      styleMappingMat[1][3] = v_color.a;\n    } else {\n      styleMappingMat[1][0] = u_stroke_color.r;\n      styleMappingMat[1][1] = u_stroke_color.g;\n      styleMappingMat[1][2] = u_stroke_color.b;\n      styleMappingMat[1][3] = u_stroke_color.a;\n    }\n  }\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping\n\n  v_color = a_Color;\n  v_radius = newSize;\n\n  // anti-alias\n  //  float antialiased_blur = -max(u_blur, antialiasblur);\n  float antialiasblur = -max(2.0 / u_DevicePixelRatio / a_Size, u_blur);\n\n  vec2 offset = (extrude.xy * (newSize + u_stroke_width) + textrueOffsets);\n  vec3 aPosition = a_Position;\n  if(u_isMeter < 1.0) {\n    // \u4e0d\u4ee5\u7c73\u4e3a\u5b9e\u9645\u5355\u4f4d\n    offset = project_pixel(offset);\n  } else {\n    // \u4ee5\u7c73\u4e3a\u5b9e\u9645\u5355\u4f4d\n    antialiasblur *= pow(19.0 - u_Zoom, 2.0);\n    antialiasblur = max(antialiasblur, -0.01);\n    // offset *= 0.5;\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      aPosition.xy += offset;\n      offset.x = 0.0;\n      offset.y = 0.0;\n    }\n  }\n\n  v_data = vec4(extrude.x, extrude.y, antialiasblur,shape_type);\n\n  vec4 project_pos = project_position(vec4(aPosition.xy, 0.0, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n  }\n\nif(u_coord > 0.0) {\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * vec4(project_pos.xy + offset, 0.0, 1.0);\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n  }\n} else {\n  gl_PointSize = 24.0;\n  vec2 pointPos = a_Position.xy;\n  vec4 world = vec4(project_mvt_offset_position(vec4(u_tileOrigin, 0.0, 1.0)).xyz, 1.0); // \u74e6\u7247\u8d77\u59cb\u70b9\u7684\u4e16\u754c\u5750\u6807\n\n  vec2 pointOffset =  pointPos *  pow(2.0, u_Zoom); // \u74e6\u7247\u5185\u7684\u70b9\u7684\u504f\u79fb\u5750\u6807\n  \n  world.xy += offset;\n  world.xy += pointOffset;\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n    world.w *= u_PixelsPerMeter.z;\n  }\n\n  gl_Position = u_ViewProjectionMatrix * world + u_ViewportCenterProjection;\n}\n\n \n  setPickingColor(a_PickingColor);\n\n\n}\n',ro=function(e){ke()(n,e);var t=$i(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"meter2coord",1),S()(Ae()(e),"isMeter",!1),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.strokeOpacity,i=void 0===r?1:r,o=e.strokeWidth,a=void 0===o?0:o,s=e.stroke,l=void 0===s?"rgba(0,0,0,0)":s,u=e.offsets,c=void 0===u?[0,0]:u,f=e.blend,p=e.blur,d=void 0===p?0:p,h=e.coord,v=void 0===h?"lnglat":h,m=e.tileOrigin;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,strokeOpacity:i,strokeWidth:a,stroke:l,offsets:c})){this.judgeStyleAttributes({opacity:n,strokeOpacity:i,strokeWidth:a,stroke:l,offsets:c});var g=this.layer.getEncodedData(),y=this.calDataFrame(this.cellLength,g,this.cellProperties),b=y.data,_=y.width,E=y.height;this.rowCount=E,this.dataTexture=this.cellLength>0&&b.length>0?this.createTexture2D({flipY:!0,data:b,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:_,height:E}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_tileOrigin:m||[0,0],u_coord:"lnglat"===v?1:0,u_isMeter:Number(this.isMeter),u_blur:d,u_additive:"additive"===f?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Number(n),u_stroke_opacity:Number(i),u_stroke_width:Number(a),u_stroke_color:this.getStrokeColor(l),u_offsets:this.isOffsetStatic(c)?c:[0,0]}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),Zr)}},{key:"initModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.unit,r=void 0===n?"l7size":n,i=this.mapService.version;"meter"===r&&i!==jn["a"].L7MAP&&i!==jn["a"].GLOBEL&&(this.isMeter=!0,this.calMeter2Coord()),this.buildModels(e)}},{key:"calMeter2Coord",value:function(){var e=Et()(this.layer.getSource().extent,4),t=e[0],n=e[1],r=e[2],i=e[3],o=[(t+r)/2,(n+i)/2],a=this.mapService.version;if(a===jn["a"].MAPBOX&&window.mapboxgl.MercatorCoordinate){var s=window.mapboxgl.MercatorCoordinate.fromLngLat({lng:o[0],lat:o[1]},0),l=1,u=l*s.meterInMercatorCoordinateUnits(),c=new window.mapboxgl.MercatorCoordinate(s.x-u,s.y,s.z),f=c.toLngLat();this.meter2coord=o[0]-f.lng}else{var p=this.mapService.meterToCoord(o,[t,n]),d=this.mapService.meterToCoord(o,[r===t?r+.1:r,i===n?n+.1:i]);this.meter2coord=(p+d)/2,Boolean(this.meter2coord)||(this.meter2coord=7.70681090738883)}}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i,a=t.workerEnabled,s=void 0!==a&&a;this.layer.triangulation=Zr,this.layer.buildLayerModel({moduleName:"pointTile",vertexShader:no,fragmentShader:to,triangulation:Zr,depth:{enable:!1},cull:{enable:!0,face:Object(q["y"])(this.mapService.version)},blend:this.getBlend(),stencil:Object(q["A"])(r,o),workerEnabled:s,workerOptions:{modelType:"pointTile"}}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Bt["a"].Attribute,descriptor:{name:"a_Extrude",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r){var i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],o=r%4*3;return[i[o],i[o+1],i[o+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(t,n,r,i){var o=t.size,a=void 0===o?5:o;return Array.isArray(a)?[a[0]*e.meter2coord]:[a*e.meter2coord]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Bt["a"].Attribute,descriptor:{name:"a_Shape",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(t,n,r,i){var o=t.shape,a=void 0===o?2:o,s=e.layer.getLayerConfig().shape2d,l=s.indexOf(a);return[l]}}})}}]),n}(yr);function io(e){var t=oo();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function oo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ao='uniform float u_opacity: 1.0;\nvarying vec4 v_Color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  gl_FragColor = v_Color;\n  gl_FragColor.a *= opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',so='attribute vec4 a_Color;\nattribute vec3 a_Position;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nuniform float u_opacity: 1.0;\n\nuniform vec2 u_tileOrigin;\nuniform float u_coord;\n\nvarying vec4 v_Color;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\nstyleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_Color = a_Color;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n    project_pos.z *= mapboxZoomScale;\n  }\n\nif(u_coord > 0.0) {\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n} else {\n    vec2 pointPos = a_Position.xy;\n    vec4 world = vec4(project_mvt_offset_position(vec4(u_tileOrigin, 0.0, 1.0)).xyz, 1.0); // \u74e6\u7247\u8d77\u59cb\u70b9\u7684\u4e16\u754c\u5750\u6807\n\n    vec2 pointOffset =  pointPos *  pow(2.0, u_Zoom); // \u74e6\u7247\u5185\u7684\u70b9\u7684\u504f\u79fb\u5750\u6807\n    \n    world.xy += pointOffset;\n\n    if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      // Needs to be divided with project_uCommonUnitsPerMeter\n      world.w *= u_PixelsPerMeter.z;\n    }\n\n    gl_Position = u_ViewProjectionMatrix * world + u_ViewportCenterProjection;\n}\n\n\n  setPickingColor(a_PickingColor);\n}\n\n',lo=function(e){ke()(n,e);var t=io(n);function n(){return we()(this,n),t.apply(this,arguments)}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.tileOrigin,i=e.coord,o=void 0===i?"lnglat":i;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var a=this.layer.getEncodedData(),s=this.calDataFrame(this.cellLength,a,this.cellProperties),l=s.data,u=s.width,c=s.height;this.rowCount=c,this.dataTexture=this.cellLength>0&&l.length>0?this.createTexture2D({flipY:!0,data:l,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:u,height:c}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_tileOrigin:r||[0,0],u_coord:"lnglat"===o?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:n}}},{key:"initModels",value:function(e){this.buildModels(e)}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i;this.layer.triangulation=ni,this.layer.buildLayerModel({moduleName:"polygonTile",vertexShader:so,fragmentShader:ao,triangulation:ni,primitive:Bt["o"].TRIANGLES,depth:{enable:!1},blend:this.getBlend(),stencil:Object(q["A"])(r,o)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){}}]),n}(yr);function uo(e){var t=co();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function co(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var fo=function(e){ke()(n,e);var t=uo(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"isVector",!0),S()(Ae()(e),"type",e.layerType),S()(Ae()(e),"pickedID",null),e}return Oe()(n,[{key:"getPickID",value:function(){return this.pickedID}},{key:"setPickID",value:function(){return this.pickedID}},{key:"buildModels",value:function(){var e=this,t=this.getModelType();this.layerModel=new t(this),this.layerModel.initModels((function(t){e.models=t,e.renderLayers()}))}},{key:"rebuildModels",value:function(){var e=this;this.layerModel.buildModels((function(t){return e.models=t}))}},{key:"getModelType",value:function(){switch(this.layerType){case"PolygonLayer":return lo;case"LineLayer":return Ai;case"PointLayer":return this.getPointModel();default:return ro}}},{key:"getPointModel",value:function(){var e=this.getEncodedData(),t=this.getLayerConfig(),n=t.shape2d,r=e.find((function(e){return e.hasOwnProperty("shape")}));if(r){var i=r.shape;return-1!==(null===n||void 0===n?void 0:n.indexOf(i))?ro:Ji}return ro}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){return{}}}]),n}(fr),po=n("3L5V"),ho=n.n(po);function vo(e,t,n){void 0===n&&(n={});var r=F(e),i=F(t),o=ho.a.union(r.coordinates,i.coordinates);return 0===o.length?null:1===o.length?Object(N["h"])(o[0],n.properties):Object(N["f"])(o,n.properties)}var mo=vo;function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bo=function(){function e(t){we()(this,e),S()(this,"type",void 0),S()(this,"parentLayer",void 0),S()(this,"mapService",void 0),S()(this,"rendererService",void 0),S()(this,"outSideEventTimer",null),S()(this,"zoomOffset",void 0),S()(this,"tilesetManager",void 0),S()(this,"layers",void 0),S()(this,"eventCache",{click:0,mousemove:0,mouseup:0,mousedown:0,contextmenu:0}),this.parentLayer=t.parent,this.mapService=t.mapService,this.rendererService=t.rendererService;var n=this.parentLayer.getSource();this.zoomOffset=n.parser.zoomOffset||0,this.tilesetManager=n.tileset}return Oe()(e,[{key:"createTile",value:function(e,t){return{layers:[],layerIDList:[]}}},{key:"getFeatureData",value:function(e,t){var n={features:[],featureId:null,vectorTileLayer:null,source:null},r=t.sourceLayer,i=t.featureId;if(!r)return n;var o=e.data.layers[r],a=null===o||void 0===o?void 0:o.features;if(Array.isArray(a)&&a.length>0){var s=new Ft({type:"FeatureCollection",features:a},{parser:{type:"geojson",featureId:i}});return{features:a,featureId:i,vectorTileLayer:o,source:s}}return n}},{key:"createLayer",value:function(e){var t=e.L7Layer,n=e.tile,r=e.initOptions,i=e.vectorTileLayer,o=e.source,a=r.mask,s=r.color,l=r.layerType,u=r.size,c=r.shape,f=t||fo,p=new f(yo({visible:n.isVisible,tileOrigin:null===i||void 0===i?void 0:i.l7TileOrigin,coord:null===i||void 0===i?void 0:i.l7TileCoord},this.getLayerInitOption(r)));p.isVector&&(this.emitEvent([p]),p.type=l,p.select(!0)),p.source(o),this.setScale(p),this.setStyleAttributeField(p,"shape",c),this.setStyleAttributeField(p,"color",s),this.setStyleAttributeField(p,"size",u);var d=[p];if(a&&p.isVector){var h=(new yi).source({type:"FeatureCollection",features:[n.bboxPolygon]}).shape("fill");d.push(h),p.addMaskLayer(h)}return bi(this.parentLayer,d),this.layers=[p],p}},{key:"updateStyle",value:function(e){return""}},{key:"getDefautStyleAttributeField",value:function(e,t){switch(t){case"size":return 2;case"color":return"#fff";case"shape":return _i(this.parentLayer.type,e);default:return""}}},{key:"setStyleAttributeField",value:function(e,t,n){if(Array.isArray(n))e[t].apply(e,C()(n));else if("string"!==typeof n){var r=this.getDefautStyleAttributeField(e,t);if(!n)return e[t](r),e;var i=this.parseScaleValue(n,t);0===i.length?e[t](r):e[t].apply(e,C()(i))}else e[t](n)}},{key:"parseScaleValue",value:function(e,t){if("shape"===t)return"string"===typeof e?[e]:null!==e&&void 0!==e&&e.field?[null===e||void 0===e?void 0:e.field]:[];var n=e,r=n.field,i=n.values,o=n.callback;return r&&i&&Array.isArray(i)?[r,i]:r&&o?[r,o]:r?[r]:[]}},{key:"getTile",value:function(e,t){var n=this.mapService.getZoom(),r=Math.ceil(n)+this.zoomOffset,i=Object(q["J"])(e,t,r),o=this.tilesetManager.tiles.filter((function(e){return e.key==="".concat(i[0],",").concat(i[1],",").concat(r)})),a=o[0];return a}},{key:"emitEvent",value:function(e,t){var n=this;e.map((function(e){e.once("inited",(function(){e.on("click",(function(r){if(n.eventCache.click=1,"RasterLayer"===n.parentLayer.type){var i=r.lngLat,o=i.lng,a=i.lat,s=n.getTile(o,a);n.getFeatureAndEmitEvent(e,"subLayerClick",r,t,s)}else n.getFeatureAndEmitEvent(e,"subLayerClick",r)})),e.on("mousemove",(function(r){if(n.eventCache.mousemove=1,"RasterLayer"===n.parentLayer.type){var i=r.lngLat,o=i.lng,a=i.lat,s=n.getTile(o,a);n.getFeatureAndEmitEvent(e,"subLayerMouseMove",r,t,s)}else n.getFeatureAndEmitEvent(e,"subLayerMouseMove",r)})),e.on("mouseup",(function(t){n.eventCache.mouseup=1,n.getFeatureAndEmitEvent(e,"subLayerMouseUp",t)})),e.on("mouseenter",(function(r){if("RasterLayer"===n.parentLayer.type){var i=r.lngLat,o=i.lng,a=i.lat,s=n.getTile(o,a);n.getFeatureAndEmitEvent(e,"subLayerMouseMove",r,t,s)}else n.getFeatureAndEmitEvent(e,"subLayerMouseEnter",r)})),e.on("mouseout",(function(t){n.getFeatureAndEmitEvent(e,"subLayerMouseOut",t)})),e.on("mousedown",(function(t){n.eventCache.mousedown=1,n.getFeatureAndEmitEvent(e,"subLayerMouseDown",t)})),e.on("contextmenu",(function(t){n.eventCache.contextmenu=1,n.getFeatureAndEmitEvent(e,"subLayerContextmenu",t)})),e.on("unclick",(function(t){return n.handleOutsideEvent("click","subLayerUnClick",e,t)})),e.on("unmouseup",(function(t){return n.handleOutsideEvent("mouseup","subLayerUnMouseUp",e,t)})),e.on("unmousedown",(function(t){return n.handleOutsideEvent("mousedown","subLayerUnMouseDown",e,t)})),e.on("uncontextmenu",(function(t){return n.handleOutsideEvent("contextmenu","subLayerUnContextmenu",e,t)}))}))}))}},{key:"getCombineFeature",value:function(e){var t=null,n=e[0];return e.map((function(e){var n=N["h"](e.coordinates);null===t&&(t=n),t=mo(t,n)})),n&&(t.properties=yo({},n)),t}},{key:"getFeatureAndEmitEvent",value:function(e,t,n,r,i){if(!1===r)n.value=xi(i,this.mapService,n.x,n.y);else{var o=n.featureId,a=this.getAllFeatures(o);try{n.feature=this.getCombineFeature(a)}catch(s){console.warn("Combine Featuer Err! Return First Feature!"),n.feature=a[0]}}this.parentLayer.emit(t,n)}},{key:"setScale",value:function(e){var t=this.parentLayer.tileLayer.scaleField,n=Object.keys(t);n.map((function(n){e.scale(n,t[n])}))}},{key:"getAllFeatures",value:function(e){var t=this.parentLayer.tileLayer.children,n=[];return t.map((function(t){var r=t.getSource();r.data.dataArray.map((function(t){t._id===e&&n.push(t)}))})),n}},{key:"getLayerInitOption",value:function(e){var t=yo({},e);return delete t.color,delete t.shape,delete t.size,delete t.coords,delete t.sourceLayer,delete t.coords,t}},{key:"handleOutsideEvent",value:function(e,t,n,r){var i=this;this.outSideEventTimer&&(clearTimeout(this.outSideEventTimer),this.outSideEventTimer=null),this.outSideEventTimer=setTimeout((function(){i.eventCache[e]>0?i.eventCache[e]=0:i.getFeatureAndEmitEvent(n,t,r)}),64)}}]),e}();function _o(e){var t=Eo();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Eo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var xo=function(e){ke()(n,e);var t=_o(n);function n(e){var r;return we()(this,n),r=t.call(this,e),S()(Ae()(r),"parentLayer",void 0),r.parentLayer=e.parent,r}return Oe()(n,[{key:"createTile",value:function(e,t){var n=this.getFeatureData(e,t),r=n.features,i=n.vectorTileLayer,o=n.source;if(0===r.length)return{layers:[],layerIDList:[]};var a=this.createLayer({tile:e,initOptions:t,vectorTileLayer:i,source:o});return{layers:[a],layerIDList:[a.id]}}}]),n}(bo);function wo(e){var t=So();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function So(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Oo=function(e){ke()(n,e);var t=wo(n);function n(e){var r;return we()(this,n),r=t.call(this,e),S()(Ae()(r),"parentLayer",void 0),r.parentLayer=e.parent,r}return Oe()(n,[{key:"createTile",value:function(e,t){var n=this.getFeatureData(e,t),r=n.features,i=n.vectorTileLayer,o=n.source;if(0===r.length)return{layers:[],layerIDList:[]};var a=this.createLayer({tile:e,initOptions:t,vectorTileLayer:i,source:o});return{layers:[a],layerIDList:[a.id]}}}]),n}(bo);function Co(e){var t=Ao();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Ao(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Po=function(e){ke()(n,e);var t=Co(n);function n(e){var r;return we()(this,n),r=t.call(this,e),S()(Ae()(r),"parentLayer",void 0),r.parentLayer=e.parent,r}return Oe()(n,[{key:"createTile",value:function(e,t){var n=this.getFeatureData(e,t),r=n.features,i=n.vectorTileLayer,o=n.source;if(0===r.length)return{layers:[],layerIDList:[]};var a=this.createLayer({tile:e,initOptions:t,vectorTileLayer:i,source:o});return{layers:[a],layerIDList:[a.id]}}}]),n}(bo);function ko(e){var t=Mo();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Mo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var To="precision mediump float;\nuniform float u_opacity: 1.0;\n\nuniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\n\nvarying vec2 v_texCoord;\n\nuniform vec2 u_domain;\nuniform float u_noDataValue;\nuniform bool u_clampLow: true;\nuniform bool u_clampHigh: true;\n\nuniform float u_pixelConstant;\nuniform float u_pixelConstantR;\nuniform float u_pixelConstantG;\nuniform float u_pixelConstantB;\nuniform float u_pixelConstantRGB;\n\nvoid main() {\n  vec4 baseColor = texture2D(u_texture, vec2(v_texCoord.x, v_texCoord.y));\n\n  float r = baseColor.r;\n  float g = baseColor.g;\n  float b = baseColor.b;\n\n  float value = u_pixelConstant + ((r * u_pixelConstantR + g * u_pixelConstantG + b * u_pixelConstantB) * u_pixelConstantRGB);\n  if (value == u_noDataValue) {\n    gl_FragColor = vec4(0.0, 0, 0, 0.0);\n  } else if ((!u_clampLow && value < u_domain[0]) || (!u_clampHigh && value > u_domain[1])) {\n    gl_FragColor = vec4(0, 0, 0, 0);\n  } else {\n    float normalisedValue =(value - u_domain[0]) / (u_domain[1] - u_domain[0]);\n    vec4 color = texture2D(u_colorTexture, vec2(normalisedValue, 0));\n    gl_FragColor = color;\n    gl_FragColor.a =  gl_FragColor.a * u_opacity ;\n  }\n}\n",Lo='precision highp float;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nvarying vec2 v_texCoord;\n#pragma include "projection"\nvoid main() {\n   v_texCoord = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      gl_Position = u_Mvp * (vec4(project_pos.xy,0., 1.0));\n   } else {\n      gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n   }\n}\n',Io=function(e){ke()(n,e);var t=ko(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"texture",void 0),S()(Ae()(e),"colorTexture",void 0),S()(Ae()(e),"rampColors",void 0),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.clampLow,r=void 0===n||n,i=e.clampHigh,o=void 0===i||i,a=e.noDataValue,s=void 0===a?-9999999:a,l=e.domain,u=void 0===l?[0,1]:l,c=e.rampColors,f=e.pixelConstant,p=void 0===f?0:f,d=e.pixelConstantR,h=void 0===d?65536:d,v=e.pixelConstantG,m=void 0===v?256:v,g=e.pixelConstantB,y=void 0===g?1:g,b=e.pixelConstantRGB,_=void 0===b?.1:b;return dr()(this.rampColors,c)||(this.updateColorTexure(),this.rampColors=c),{u_opacity:t||1,u_texture:this.texture,u_pixelConstant:p,u_pixelConstantR:h,u_pixelConstantG:m,u_pixelConstantB:y,u_pixelConstantRGB:_,u_domain:u,u_clampLow:r,u_clampHigh:"undefined"!==typeof o?o:r,u_noDataValue:s,u_colorTexture:this.colorTexture}}},{key:"initModels",value:function(e){var t=this,n=this.layer.getLayerConfig(),r=n.mask,i=void 0!==r&&r,o=n.maskInside,a=void 0===o||o,s=n.rampColorsData,l=n.rampColors,u=this.layer.getSource(),c=this.rendererService.createTexture2D;if(this.texture=c({height:0,width:0}),q["F"]){var f=this.layerService.sceneService.getSceneConfig().canvas,p=f.createImage();p.crossOrigin="anonymous",p.src=u.data.originData,p.onload=function(){t.texture=c({data:p,width:p.width,height:p.height}),t.layerService.updateLayerRenderList(),t.layerService.renderLayers()}}else u.data.images.then((function(e){t.texture=c({data:e[0],width:e[0].width,height:e[0].height}),t.layerService.updateLayerRenderList(),t.layerService.renderLayers()}));var d=s||Object(q["w"])(l);this.colorTexture=c({data:d.data,width:d.width,height:d.height,flipY:!1}),this.layer.buildLayerModel({moduleName:"RasterImage",vertexShader:Lo,fragmentShader:To,triangulation:ai,primitive:Bt["o"].TRIANGLES,depth:{enable:!1},blend:this.getBlend(),stencil:Object(q["A"])(i,a)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.colorTexture)||void 0===t||t.destroy()}},{key:"buildModels",value:function(e){this.initModels(e)}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:Bt["a"].Attribute,descriptor:{name:"a_Uv",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}})}},{key:"updateColorTexure",value:function(){var e=this.rendererService.createTexture2D,t=this.layer.getLayerConfig(),n=t.rampColors,r=Object(q["w"])(n);this.colorTexture=e({data:r.data,width:r.width,height:r.height,flipY:!1})}}]),n}(yr);function Do(e){var t=Ro();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Ro(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var No="precision mediump float;\nuniform float u_opacity: 1.0;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nvoid main() {\n  vec4 color = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y));\n  gl_FragColor = color;\n  gl_FragColor.a *= u_opacity;\n}\n",jo='precision highp float;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nvarying vec2 v_texCoord;\n#pragma include "projection"\nvoid main() {\n   v_texCoord = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      gl_Position = u_Mvp * (vec4(project_pos.xy,0., 1.0));\n   } else {\n      gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n   }\n}\n',Fo=function(e){ke()(n,e);var t=Do(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"texture",void 0),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity;return{u_opacity:t||1,u_texture:this.texture}}},{key:"initModels",value:function(e){var t=this,n=this.layer.getLayerConfig(),r=n.mask,i=void 0!==r&&r,o=n.maskInside,a=void 0===o||o,s=this.layer.getSource(),l=this.rendererService.createTexture2D;if(this.texture=l({height:0,width:0}),q["F"]){var u=this.layerService.sceneService.getSceneConfig().canvas,c=u.createImage();c.crossOrigin="anonymous",c.src=s.data.originData,c.onload=function(){t.texture=l({data:c,width:c.width,height:c.height}),t.layerService.updateLayerRenderList(),t.layerService.renderLayers()}}else s.data.images.then((function(e){t.texture=l({data:e[0],width:e[0].width,height:e[0].height}),t.layerService.updateLayerRenderList(),t.layerService.renderLayers()}));this.layer.buildLayerModel({moduleName:"rasterImage",vertexShader:jo,fragmentShader:No,triangulation:ai,primitive:Bt["o"].TRIANGLES,depth:{enable:!1},stencil:Object(q["A"])(i,a)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"clearModels",value:function(){var e;null===(e=this.texture)||void 0===e||e.destroy()}},{key:"buildModels",value:function(e){this.initModels(e)}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:Bt["a"].Attribute,descriptor:{name:"a_Uv",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}})}}]),n}(yr),Bo={image:Fo,dataImage:Io},Uo=Bo;function zo(e){var t=Ho();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Ho(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Vo=function(e){ke()(n,e);var t=zo(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"type","ImageLayer"),e}return Oe()(n,[{key:"buildModels",value:function(){var e=this,t=this.getModelType();this.layerModel=new Uo[t](this),this.layerModel.initModels((function(t){e.models=t,e.renderLayers()}))}},{key:"rebuildModels",value:function(){var e=this;this.layerModel.buildModels((function(t){return e.models=t}))}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var e=this.getModelType(),t={image:{},dataImage:{}};return t[e]}},{key:"getModelType",value:function(){var e,t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=null===t||void 0===t||null===(e=t.scale)||void 0===e?void 0:e.field;return"dataImage"===n?"dataImage":"image"}}]),n}(fr);function Go(e){var t=Wo();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Wo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var qo=function(e){ke()(n,e);var t=Go(n);function n(e){var r;return we()(this,n),r=t.call(this,e),S()(Ae()(r),"parentLayer",void 0),r.parentLayer=e.parent,r}return Oe()(n,[{key:"createTile",value:function(e,t){var n=new Ft(e.data,{parser:{type:"image",extent:e.bounds}}),r=this.createLayer({L7Layer:Vo,tile:e,initOptions:t,source:n});return{layers:[r],layerIDList:[r.id]}}}]),n}(bo);function Yo(e){var t=Xo();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Xo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Ko="precision mediump float;\nuniform float u_opacity: 1.0;\nuniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\nuniform float u_min;\nuniform float u_max;\nuniform vec2 u_domain;\nuniform float u_noDataValue;\nuniform bool u_clampLow: true;\nuniform bool u_clampHigh: true;\nvarying vec2 v_texCoord;\n\nvoid main() {\n\n  float value = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y)).r;\n  if (value == u_noDataValue)\n    gl_FragColor = vec4(0.0, 0, 0, 0.0);\n  else if ((!u_clampLow && value < u_domain[0]) || (!u_clampHigh && value > u_domain[1]))\n    gl_FragColor = vec4(0, 0, 0, 0);\n  else {\n    float normalisedValue =(value - u_domain[0]) / (u_domain[1] -u_domain[0]);\n    vec4 color = texture2D(u_colorTexture,vec2(normalisedValue, 0));\n    gl_FragColor = color;\n    gl_FragColor.a =  gl_FragColor.a * u_opacity ;\n  }\n\n\n}\n",Zo='precision highp float;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nvarying vec2 v_texCoord;\n#pragma include "projection"\nvoid main() {\n   v_texCoord = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n\n   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      gl_Position = u_Mvp * (vec4(project_pos.xy,0., 1.0));\n   } else {\n      gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n   }\n}\n',Qo=function(e){ke()(n,e);var t=Yo(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"texture",void 0),S()(Ae()(e),"colorTexture",void 0),S()(Ae()(e),"rampColors",void 0),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.clampLow,i=void 0===r||r,o=e.clampHigh,a=void 0===o||o,s=e.noDataValue,l=void 0===s?-9999999:s,u=e.domain,c=void 0===u?[0,1]:u,f=e.rampColors;return dr()(this.rampColors,f)||(this.updateColorTexure(),this.rampColors=f),{u_opacity:n||1,u_texture:this.texture,u_domain:c,u_clampLow:i,u_clampHigh:"undefined"!==typeof a?a:i,u_noDataValue:l,u_colorTexture:this.colorTexture}}},{key:"initModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i,a=t.rampColorsData,s=t.rampColors,l=this.layer.getSource(),u=this.rendererService.createTexture2D,c=l.data.dataArray[0];this.texture=u({data:c.data,width:c.width,height:c.height,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT});var f=a||Object(q["w"])(s);this.colorTexture=u({data:f.data,width:f.width,height:f.height,flipY:!1}),this.layer.buildLayerModel({moduleName:"rasterImageData",vertexShader:Zo,fragmentShader:Ko,triangulation:ai,primitive:Bt["o"].TRIANGLES,depth:{enable:!1},stencil:Object(q["A"])(r,o)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"buildModels",value:function(e){this.initModels(e)}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.colorTexture)||void 0===t||t.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:Bt["a"].Attribute,descriptor:{name:"a_Uv",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}})}},{key:"updateColorTexure",value:function(){var e=this.rendererService.createTexture2D,t=this.layer.getLayerConfig(),n=t.rampColors,r=Object(q["w"])(n);this.colorTexture=e({data:r.data,width:r.width,height:r.height,flipY:!1})}}]),n}(yr);function Jo(e){var t=$o();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function $o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ea=function(e){ke()(n,e);var t=Jo(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"type",e.layerType),e}return Oe()(n,[{key:"buildModels",value:function(){var e=this,t=this.getModelType();this.layerModel=new t(this),this.layerModel.initModels((function(t){e.models=t,e.renderLayers()}))}},{key:"rebuildModels",value:function(){var e=this;this.layerModel.buildModels((function(t){return e.models=t}))}},{key:"getModelType",value:function(){return Qo}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){return{}}}]),n}(fr);function ta(e){var t=na();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function na(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ra=function(e){ke()(n,e);var t=ta(n);function n(e){var r;return we()(this,n),r=t.call(this,e),S()(Ae()(r),"parentLayer",void 0),r.parentLayer=e.parent,r}return Oe()(n,[{key:"createTile",value:function(e,t){var n=t.opacity,r=t.domain,i=t.clampHigh,o=t.clampLow,a=t.rampColors,s=t.rampColorsData,l=t.mask,u=e.data;if(!u.data)return console.warn("raster data not exist!"),{layers:[],layerIDList:[]};var c=new ea({visible:e.isVisible,mask:l}).source(u.data,{parser:{type:"raster",width:u.width,height:u.height,extent:e.bboxPolygon.bbox}}).style({opacity:n,domain:r,clampHigh:i,clampLow:o,rampColors:a,rampColorsData:s});return this.emitEvent([c],!1),bi(this.parentLayer,[c]),{layers:[c],layerIDList:[c.id]}}}]),n}(bo);function ia(e,t){switch(e){case"PolygonLayer":return Po;case"LineLayer":return xo;case"PointLayer":return Oo;case"RasterLayer":return"arraybuffer"===t.dataType?ra:qo;default:return console.warn("Current Tile Not Exist!"),qo}}function oa(e){var t=aa();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function aa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var sa=function(e){ke()(n,e);var t=oa(n);function n(){var e;return we()(this,n),e=t.call(this),S()(Ae()(e),"cacheConfig",void 0),S()(Ae()(e),"checkConfigList",[]),e.cacheConfig=new Map,e}return Oe()(n,[{key:"setConfig",value:function(e,t){this.checkConfigList.includes(e)||this.checkConfigList.push(e),this.cacheConfig.set(e,t)}},{key:"removeConfig",value:function(e){var t=this.checkConfigList.indexOf(e);t>-1&&(this.cacheConfig["delete"](e),this.checkConfigList.splice(t,1))}},{key:"checkConfig",value:function(e){var t=this;if(e.inited){var n=e.getLayerConfig(),r=[];this.checkConfigList.map((function(i){var o,a=t.cacheConfig.get(i);if(["color","size","shape"].includes(i)){var s;o=null===(s=e.getAttribute(i))||void 0===s?void 0:s.scale}else{if(!(i in n))return;o=n[i]}dr()(a,o)||(r.push(i),t.setConfig(i,o))})),r.length>0&&(console.warn("tile config cache update!",r),this.emit("updateConfig",r))}}},{key:"getAttributeScale",value:function(e,t){var n=e.getAttribute(t),r={field:void 0,values:void 0,callback:void 0};if(n&&n.scale){var i=n.scale,o=i.field,a=i.values,s=i.callback;r.field=o,r.values=a,r.callback=s}return r}}]),n}(Ge.a);function la(e){var t=ua();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function ua(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ca=function(e){ke()(n,e);var t=la(n);function n(e,r,i,o,a){var s;return we()(this,n),s=t.call(this),S()(Ae()(s),"isLastPicked",!1),S()(Ae()(s),"rendererService",void 0),S()(Ae()(s),"pickingService",void 0),S()(Ae()(s),"layerService",void 0),S()(Ae()(s),"children",void 0),S()(Ae()(s),"parent",void 0),s.parent=e,s.rendererService=r,s.pickingService=i,s.layerService=a,s.children=o,s}return Oe()(n,[{key:"normalRender",value:function(e){var t=this;e.filter((function(e){return e.inited})).filter((function(e){return e.isVisible()})).map((function(e){e.hooks.beforeRenderData.call(),e.hooks.beforeRender.call(),e.masks.length>0&&(t.rendererService.clear({stencil:0,depth:1,framebuffer:null}),e.masks.map((function(e){e.hooks.beforeRenderData.call(),e.hooks.beforeRender.call(),e.render(),e.hooks.afterRender.call()}))),e.render(),e.hooks.afterRender.call()}))}},{key:"pickRender",value:function(e,t){var n=this;"RasterLayer"===this.parent.type&&this.renderMask(this.parent);var r=e.filter((function(e){return n.parent.needPick(t.type)&&e.inited&&e.isVisible()})).some((function(e){e.hooks.beforePickingEncode.call(),e.masks.length>0&&(n.rendererService.clear({stencil:0,depth:1,framebuffer:null}),e.masks.map((function(e){e.hooks.beforeRender.call(),e.render(),e.hooks.afterRender.call()}))),e.renderModels(!0),e.hooks.afterPickingEncode.call();var r=n.pickingService.pickFromPickingFBO(e,t);return r&&"RasterLayer"!==n.parent.type&&(n.emit("pick",{type:t.type,pickedColors:n.pickingService.pickedColors,layer:e}),n.pickingService.pickedTileLayers=[n.parent]),r}));return"RasterLayer"!==this.parent.type&&!r&&this.isLastPicked&&"click"!==t.type&&(this.pickingService.pickedTileLayers=[],this.emit("unpick",{}),this.beforeHighlight([0,0,0])),this.isLastPicked=r,r}},{key:"clearPick",value:function(){this.children.filter((function(e){return e.inited&&e.isVisible()})).map((function(e){e.hooks.beforeSelect.call([0,0,0])})),this.pickingService.pickedTileLayers=[]}},{key:"beforeHighlight",value:function(e){this.children.filter((function(e){return e.inited&&e.isVisible()})).map((function(t){t.hooks.beforeHighlight.call(e)}))}},{key:"beforeSelect",value:function(e){this.children.filter((function(e){return e.inited&&e.isVisible()})).map((function(t){t.hooks.beforeSelect.call(e)}))}},{key:"renderMask",value:function(e){e.inited&&e.isVisible()&&(e.hooks.beforeRender.call(),e.masks.length>0&&(this.rendererService.clear({stencil:0,depth:1,framebuffer:null}),e.masks.map((function(e){e.hooks.beforeRender.call(),e.render(),e.hooks.afterRender.call()}))),e.hooks.afterRender.call())}}]),n}(Ve["EventEmitter"]),fa=function(){function e(t,n,r,i,o){we()(this,e),S()(this,"sourceLayer",void 0),S()(this,"parent",void 0),S()(this,"children",void 0),S()(this,"mapService",void 0),S()(this,"rendererService",void 0),S()(this,"tilePickManager",void 0),S()(this,"tileConfigManager",void 0),S()(this,"tileFactory",void 0),S()(this,"initOptions",void 0),S()(this,"rampColorsData",void 0),this.parent=t,this.children=t.layerChildren,this.mapService=n,this.rendererService=r,this.tilePickManager=new ca(t,r,i,this.children,o),this.tileConfigManager=new sa,this.setSubLayerInitOptipn(),this.setConfigListener(),this.initTileFactory()}return Oe()(e,[{key:"createTile",value:function(e){return this.tileFactory.createTile(e,this.initOptions)}},{key:"updateLayersConfig",value:function(e,t,n){e.map((function(e){"mask"===t?e.style({mask:n}):e.updateLayerConfig(S()({},t,n))}))}},{key:"addChild",value:function(e){this.children.push(e)}},{key:"addChilds",value:function(e){var t;(t=this.children).push.apply(t,C()(e))}},{key:"removeChilds",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],r=[];this.children.filter((function(t){e.includes(t.id)?n.push(t):r.push(t)})),n.map((function(e){return e.destroy(t)})),this.children=r}},{key:"removeChild",value:function(e){var t=this.children.indexOf(e);t>-1&&this.children.splice(t,1),e.destroy()}},{key:"getChilds",value:function(e){return this.children.filter((function(t){return e.includes(t.id)}))}},{key:"getChild",value:function(e){return this.children.filter((function(t){return t.id===e}))[0]}},{key:"clearChild",value:function(){this.children.forEach((function(e){e.destroy()})),this.children.slice(0,this.children.length)}},{key:"hasChild",value:function(e){return this.children.includes(e)}},{key:"render",value:function(){var e,t;null===(e=this.tileConfigManager)||void 0===e||e.checkConfig(this.parent),null===(t=this.tilePickManager)||void 0===t||t.normalRender(this.children)}},{key:"pickLayers",value:function(e){var t;return null===(t=this.tilePickManager)||void 0===t?void 0:t.pickRender(this.children,e)}},{key:"setSubLayerInitOptipn",value:function(){var e,t=this.parent.getLayerConfig(),n=t.zIndex,r=void 0===n?0:n,i=t.opacity,o=void 0===i?1:i,a=t.mask,s=void 0!==a&&a,l=t.stroke,u=void 0===l?"#fff":l,c=t.strokeWidth,f=void 0===c?0:c,p=t.strokeOpacity,d=void 0===p?1:p,h=t.clampLow,v=void 0===h||h,m=t.clampHigh,g=void 0===m||m,y=t.domain,b=void 0===y?[0,1]:y,_=t.rampColors,E=void 0===_?{colors:["rgb(166,97,26)","rgb(223,194,125)","rgb(245,245,245)","rgb(128,205,193)","rgb(1,133,113)"],positions:[0,.25,.5,.75,1]}:_,x=t.featureId,w=void 0===x?"id":x,S=t.workerEnabled,O=void 0!==S&&S,C=t.sourceLayer,A=t.pixelConstant,P=void 0===A?0:A,k=t.pixelConstantR,M=void 0===k?65536:k,T=t.pixelConstantG,L=void 0===T?256:T,I=t.pixelConstantB,D=void 0===I?1:I,R=t.pixelConstantRGB,N=void 0===R?.1:R,j=this.tileConfigManager.getAttributeScale(this.parent,"color"),F=this.tileConfigManager.getAttributeScale(this.parent,"size"),B=this.parent.getSource(),U=(null===B||void 0===B||null===(e=B.data)||void 0===e?void 0:e.tilesetOptions)||{},z=U.coords,H=_i(this.parent.type,this.parent);E&&(this.rampColorsData=Object(q["w"])(E)),this.initOptions={layerType:this.parent.type,shape:H,zIndex:r,opacity:o,sourceLayer:C,coords:z,featureId:w,color:j,size:F,mask:Ei(this.parent.type,s),stroke:u,strokeWidth:f,strokeOpacity:d,clampLow:v,clampHigh:g,domain:b,rampColors:E,rampColorsData:this.rampColorsData,workerEnabled:O,pixelConstant:P,pixelConstantR:M,pixelConstantG:L,pixelConstantB:D,pixelConstantRGB:N}}},{key:"setConfigListener",value:function(){var e,t,n,r=this;(this.tileConfigManager.setConfig("opacity",this.initOptions.opacity),this.tileConfigManager.setConfig("zIndex",this.initOptions.zIndex),this.tileConfigManager.setConfig("mask",this.initOptions.mask),"RasterLayer"===this.parent.type)?(this.tileConfigManager.setConfig("rampColors",this.initOptions.rampColors),this.tileConfigManager.setConfig("domain",this.initOptions.domain),this.tileConfigManager.setConfig("clampHigh",this.initOptions.clampHigh),this.tileConfigManager.setConfig("clampLow",this.initOptions.clampLow),this.tileConfigManager.setConfig("pixelConstant",this.initOptions.pixelConstant),this.tileConfigManager.setConfig("pixelConstantR",this.initOptions.pixelConstantR),this.tileConfigManager.setConfig("pixelConstantG",this.initOptions.pixelConstantG),this.tileConfigManager.setConfig("pixelConstantB",this.initOptions.pixelConstantB),this.tileConfigManager.setConfig("pixelConstantRGB",this.initOptions.pixelConstantRGB)):(this.tileConfigManager.setConfig("stroke",this.initOptions.stroke),this.tileConfigManager.setConfig("strokeWidth",this.initOptions.strokeWidth),this.tileConfigManager.setConfig("strokeOpacity",this.initOptions.strokeOpacity),this.tileConfigManager.setConfig("color",null===(e=this.parent.getAttribute("color"))||void 0===e?void 0:e.scale),this.tileConfigManager.setConfig("shape",null===(t=this.parent.getAttribute("shape"))||void 0===t?void 0:t.scale),this.tileConfigManager.setConfig("size",null===(n=this.parent.getAttribute("size"))||void 0===n?void 0:n.scale));this.tileConfigManager.on("updateConfig",(function(e){e.map((function(e){return r.updateStyle(e),""}))}))}},{key:"updateStyle",value:function(e){var t=this,n=null;if(["size","color","shape"].includes(e)){var r,i=null===(r=this.parent.getAttribute(e))||void 0===r?void 0:r.scale;if(!i)return;n=i,this.children.map((function(n){return t.tileFactory.setStyleAttributeField(n,e,i),""}))}else{var o=this.parent.getLayerConfig();if(!(e in o))return;var a=o[e];n=a,this.updateLayersConfig(this.children,e,a),"rampColors"===e&&a&&(this.rampColorsData=Object(q["w"])(a))}this.initOptions[e]=n}},{key:"initTileFactory",value:function(){var e=this.parent.getSource(),t=ia(this.parent.type,e.parser);this.tileFactory=new t({parent:this.parent,mapService:this.mapService,rendererService:this.rendererService})}}]),e}();function pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ha=function(){function e(t){var n,r=t.parent,i=t.rendererService,o=t.mapService,a=t.layerService,s=t.pickingService;we()(this,e),S()(this,"type","baseTile"),S()(this,"sourceLayer",void 0),S()(this,"parent",void 0),S()(this,"initedTileset",!1),S()(this,"tilesetManager",void 0),S()(this,"tileLayerManager",void 0),S()(this,"scaleField",void 0),S()(this,"lastViewStates",void 0),S()(this,"timer",void 0),S()(this,"mapService",void 0),S()(this,"layerService",void 0),S()(this,"pickColors",{select:null,active:null});var l=r.getSource(),u=(null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.tilesetOptions)||{},c=u.sourceLayer;u.coords,u.featureId;this.sourceLayer=c,this.parent=r,this.mapService=o,this.layerService=a,this.tileLayerManager=new fa(r,o,i,s,a),this.initTileSetManager(),this.bindSubLayerEvent(),this.bindSubLayerPick(),this.scaleField=this.parent.getScaleOptions()}return Oe()(e,[{key:"children",get:function(){return this.tileLayerManager.children}},{key:"render",value:function(){this.tileLayerManager&&this.tileLayerManager.render()}},{key:"clearPick",value:function(e){"mousemove"===e&&this.tileLayerManager.tilePickManager.clearPick()}},{key:"clearPickState",value:function(){var e=this;this.children.filter((function(e){return e.inited&&e.isVisible()})).filter((function(e){return null!==e.getCurrentSelectedId()})).map((function(t){e.selectFeature(t,new Uint8Array([0,0,0,0])),t.setCurrentSelectedId(null)}))}},{key:"pickLayers",value:function(e){return this.tileLayerManager.pickLayers(e)}},{key:"tileLoaded",value:function(e){}},{key:"tileError",value:function(e){console.warn("error:",e)}},{key:"tileUnLoad",value:function(e){this.tileLayerManager.removeChilds(e.layerIDList,!1)}},{key:"tileUpdate",value:function(){var e=this;this.tilesetManager&&(this.tilesetManager.tiles.filter((function(e){return e.isLoaded})).map((function(t){if(0===t.layerIDList.length){var n=e.tileLayerManager.createTile(t),r=n.layers,i=n.layerIDList;t.layerIDList=i,e.tileLayerManager.addChilds(r)}else{if(!t.isVisibleChange)return;var o=e.tileLayerManager.getChilds(t.layerIDList);e.tileLayerManager.updateLayersConfig(o,"visible",t.isVisible)}})),this.tilesetManager.isLoaded&&this.parent.emit("tiles-loaded",this.tilesetManager.currentTiles))}},{key:"setPickState",value:function(e){var t=this;if(this.pickColors.select){var n=Object(q["s"])(this.pickColors.select);e.map((function(e){t.selectFeature(e,t.pickColors.select),e.setCurrentSelectedId(n)}))}if(this.pickColors.active){var r=Object(q["s"])(this.pickColors.active);e.filter((function(e){return e.inited&&e.isVisible()})).map((function(e){e.hooks.beforeHighlight.call(t.pickColors.active),e.setCurrentPickId(r)}))}}},{key:"bindSubLayerPick",value:function(){var e=this;this.tileLayerManager.tilePickManager.on("pick",(function(t){var n=Et()(t.pickedColors,3),r=n[0],i=n[1],o=n[2];if("click"===t.type){var a=e.children.filter((function(e){return e.inited&&e.isVisible()&&e.isVector})).filter((function(e){return e!==t.layer}));e.setSelect(a,[r,i,o])}else e.setHighlight([r,i,o])})),this.tileLayerManager.tilePickManager.on("unpick",(function(){e.pickColors.active=null}))}},{key:"setHighlight",value:function(e){var t=Object(q["s"])(e);this.pickColors.active=e,this.children.filter((function(e){return e.inited&&e.isVisible()&&e.isVector})).filter((function(e){return e.getPickID()!==t})).map((function(n){n.setPickID(t),n.hooks.beforeHighlight.call(e)}))}},{key:"setSelect",value:function(e,t){var n=this,r=Object(q["s"])(t);e.map((function(e){null===e.getCurrentSelectedId()||r!==e.getCurrentSelectedId()?(n.selectFeature(e,t),e.setCurrentSelectedId(r),n.pickColors.select=t):(n.selectFeature(e,new Uint8Array([0,0,0,0])),e.setCurrentSelectedId(null),n.pickColors.select=null)}));var i=this.layerService.getRenderList();i.filter((function(e){return e.inited&&!e.isVector&&e.isVisible()&&e.needPick("click")})).filter((function(e){return null!==e.getCurrentSelectedId()})).map((function(e){n.selectFeature(e,new Uint8Array([0,0,0,0])),e.setCurrentSelectedId(null)}))}},{key:"selectFeature",value:function(e,t){var n=Et()(t,3),r=n[0],i=n[1],o=n[2];e.hooks.beforeSelect.call([r,i,o])}},{key:"bindSubLayerEvent",value:function(){var e=this;this.parent.on("subLayerClick",(function(t){e.parent.emit("click",da({},t))})),this.parent.on("subLayerMouseMove",(function(t){return e.parent.emit("mousemove",da({},t))})),this.parent.on("subLayerMouseUp",(function(t){return e.parent.emit("mouseup",da({},t))})),this.parent.on("subLayerMouseEnter",(function(t){return e.parent.emit("mouseenter",da({},t))})),this.parent.on("subLayerMouseOut",(function(t){return e.parent.emit("mouseout",da({},t))})),this.parent.on("subLayerMouseDown",(function(t){return e.parent.emit("mousedown",da({},t))})),this.parent.on("subLayerContextmenu",(function(t){return e.parent.emit("contextmenu",da({},t))})),this.parent.on("subLayerUnClick",(function(t){return e.parent.emit("unclick",da({},t))})),this.parent.on("subLayerUnMouseMove",(function(t){return e.parent.emit("unmousemove",da({},t))})),this.parent.on("subLayerUnMouseUp",(function(t){return e.parent.emit("unmouseup",da({},t))})),this.parent.on("subLayerUnMouseDown",(function(t){return e.parent.emit("unmousedown",da({},t))})),this.parent.on("subLayerUnContextmenu",(function(t){return e.parent.emit("uncontextmenu",da({},t))}))}},{key:"initTileSetManager",value:function(){var e,t=this.parent.getSource();this.tilesetManager=t.tileset,this.initedTileset||(this.bindTilesetEvent(),this.initedTileset=!0);var n=this.getCurrentView(),r=n.latLonBounds,i=n.zoom;null===(e=this.tilesetManager)||void 0===e||e.update(i,r)}},{key:"mapchange",value:function(){var e,t=this.getCurrentView(),n=t.latLonBounds,r=t.zoom;if("GAODE1.x"===this.mapService.version){var i=this.parent.getLayerConfig(),o=i.visible;r<3&&o?(this.parent.updateLayerConfig({visible:!1}),this.layerService.updateLayerRenderList()):r>=3&&!o&&(this.parent.updateLayerConfig({visible:!0}),this.layerService.updateLayerRenderList())}this.lastViewStates&&this.lastViewStates.zoom===r&&this.lastViewStates.latLonBounds.toString()===n.toString()||(this.lastViewStates={zoom:r,latLonBounds:n},this.timer&&(clearTimeout(this.timer),this.timer=null),null===(e=this.tilesetManager)||void 0===e||e.update(r,n))}},{key:"bindTilesetEvent",value:function(){var e=this;this.tilesetManager&&(this.tilesetManager.on("tile-loaded",(function(e){})),this.tilesetManager.on("tile-unload",(function(t){e.tileUnLoad(t)})),this.tilesetManager.on("tile-error",(function(t,n){e.tileError(t)})),this.tilesetManager.on("tile-update",(function(){e.tileUpdate()})),this.mapService.on("zoomend",(function(){return e.mapchange()})),this.mapService.on("moveend",(function(){return e.mapchange()})))}},{key:"getCurrentView",value:function(){var e=this.mapService.getBounds(),t=[e[0][0],e[0][1],e[1][0],e[1][1]],n=this.mapService.getZoom();return{latLonBounds:t,zoom:n}}}]),e}();function va(e){var t=ma();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function ma(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ga=function(e){ke()(n,e);var t=va(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"type","TMS"),e}return Oe()(n,[{key:"tileUnLoad",value:function(e){this.tileLayerManager.removeChilds(e.layerIDList,!1)}},{key:"tileUpdate",value:function(){var e=this;this.tilesetManager&&(this.tilesetManager.tiles.filter((function(e){return e.isLoaded})).map((function(t){var n;if(null!==(n=t.data)&&void 0!==n&&n.layers&&e.sourceLayer){var r=t.data.layers[e.sourceLayer],i=null===r||void 0===r?void 0:r.features;if(!(Array.isArray(i)&&i.length>0))return}if(t.parentLayerIDList.includes(e.parent.id)){if(!t.isVisibleChange)return;var o=e.tileLayerManager.getChilds(t.layerIDList);e.tileLayerManager.updateLayersConfig(o,"visible",t.isVisible),e.setPickState(o)}else{var a,s=e.tileLayerManager.createTile(t),l=s.layers,u=s.layerIDList;t.parentLayerIDList.push(e.parent.id),(a=t.layerIDList).push.apply(a,C()(u)),e.tileLayerManager.addChilds(l),e.setPickState(l)}})),this.parent.renderLayers(),this.tilesetManager.isLoaded&&this.parent.emit("tiles-loaded",this.tilesetManager.currentTiles))}}]),n}(ha);function ya(e){var t=ba();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function ba(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _a=function(e){ke()(n,e);var t=ya(n);function n(){return we()(this,n),t.apply(this,arguments)}return Oe()(n,[{key:"getUninforms",value:function(){return{}}},{key:"initModels",value:function(){var e;return null!==(e=this.layer.getSource())&&void 0!==e&&e.data.isTile&&(this.layer.tileLayer=new ga({parent:this.layer,rendererService:this.rendererService,mapService:this.mapService,layerService:this.layerService,pickingService:this.pickingService})),this.buildModels()}},{key:"buildModels",value:function(){return[]}},{key:"registerBuiltinAttributes",value:function(){}}]),n}(yr);function Ea(e){var t=xa();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function xa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var wa='\nuniform float u_opacity;\n\nvarying vec4 v_dash_array;\nvarying vec4 v_color;\n\nuniform float segmentNumber;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float d_distance_ratio = styleMappingMat[3].b; // \u5f53\u524d\u9876\u70b9\u5728\u5f27\u7ebf\u4e2d\u6240\u5904\u7684\u5206\u6bb5\u6bd4\u4f8b\n\n  gl_FragColor = v_color;\n  gl_FragColor.a *= opacity;\n\n  float flag = 0.;\n  float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n  if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n    flag = 1.;\n  };\n  gl_FragColor.a *=flag;\n  \n  gl_FragColor = filterColor(gl_FragColor);\n}',Sa='\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float segmentNumber;\nvarying vec4 v_color;\n\n\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nuniform float u_lineDir: 1.0;\nvarying vec4 v_dash_array;\n\nuniform float u_thetaOffset: 0.314;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n#pragma include "styleMappingCalThetaOffset"\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat bezier3(vec3 arr, float t) {\n  float ut = 1. - t;\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\n}\nvec2 midPoint(vec2 source, vec2 target, float arcThetaOffset) {\n  vec2 center = target - source;\n  float r = length(center);\n  float theta = atan(center.y, center.x);\n  float thetaOffset = arcThetaOffset;\n  float r2 = r / 2.0 / cos(thetaOffset);\n  float theta2 = theta + thetaOffset;\n  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);\n  if(u_lineDir == 1.0) { // \u6b63\u5411\n    return mid;\n  } else { // \u9006\u5411\n    // (mid + vmin)/2 = (s + t)/2\n    vec2 vmid = source + target - mid;\n    return vmid;\n  }\n  // return mid;\n}\nfloat getSegmentRatio(float index) {\n  return index / (segmentNumber - 1.);\n}\nvec2 interpolate (vec2 source, vec2 target, float t, float arcThetaOffset) {\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  vec2 mid = midPoint(source, target, arcThetaOffset);\n  vec3 x = vec3(source.x, mid.x, target.x);\n  vec3 y = vec3(source.y, mid.y, target.y);\n  return vec2(bezier3(x ,t), bezier3(y,t));\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\n\nvoid main() {\n  v_color = a_Color;\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636e\u96c6\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke -> thetaOffset... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 thetaOffsetAndOffset = calThetaOffsetAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][1] = thetaOffsetAndOffset.r;\n  textureOffset = thetaOffsetAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  \n  vec2 source = a_Instance.rg;  // \u8d77\u59cb\u70b9\n  vec2 target =  a_Instance.ba; // \u7ec8\u70b9\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n\n  vec2 s = source;\n  vec2 t = target;\n  \n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    s = unProjCustomCoord(source);\n    t = unProjCustomCoord(target);\n  }\n  float total_Distance = pixelDistance(s, t) / 2.0 * PI;\n  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;\n\n  styleMappingMat[3].b = segmentIndex / segmentNumber;\n\n  // styleMappingMat[0][1] - arcThetaOffset\n  vec4 curr = project_position(vec4(interpolate(source, target, segmentRatio, styleMappingMat[0][1]), 0.0, 1.0));\n  vec4 next = project_position(vec4(interpolate(source, target, nextSegmentRatio, styleMappingMat[0][1]), 0.0, 1.0));\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n  //unProjCustomCoord\n  \n  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));\n  \n\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));\n    gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));\n  }\n  gl_PointSize = 5.0;\n  setPickingColor(a_PickingColor);\n}\n',Oa='\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform float u_opacity;\nuniform float u_textureBlend;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\n// varying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying vec4 v_color;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\nuniform float u_line_texture;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\n\nuniform float segmentNumber;\nvarying vec2 v_iconMapUV;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0; // \u8fd0\u52a8\u901f\u5ea6\n  float d_segmentIndex = styleMappingMat[3].r;   // \u5f53\u524d\u9876\u70b9\u5728\u5f27\u7ebf\u4e2d\u6240\u5904\u7684\u5206\u6bb5\u4f4d\u7f6e\n  float d_distance_ratio = styleMappingMat[3].b; // \u5f53\u524d\u9876\u70b9\u5728\u5f27\u7ebf\u4e2d\u6240\u5904\u7684\u5206\u6bb5\u6bd4\u4f8b\n\n  gl_FragColor = v_color;\n  \n  gl_FragColor.a *= opacity;\n\n  if(u_aimate.x == Animate && u_line_texture != LineTexture) {\n      animateSpeed = u_time / u_aimate.y;\n      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      // alpha = smoothstep(0., 1., alpha);\n      alpha = clamp(alpha, 0.0, 1.0);\n      gl_FragColor.a *= alpha;\n  }\n\n  // \u5f53\u5b58\u5728\u8d34\u56fe\u65f6\u5728\u5e95\u8272\u4e0a\u8d34\u4e0a\u8d34\u56fe\n  if(u_line_texture == LineTexture) { // while load texture\n    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / segmentNumber));\n    // float arcRadio = smoothstep( 0.0, 1.0, d_distance_ratio);\n\n    float count = styleMappingMat[3].g; // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n\n    float time = 0.0;\n    if(u_aimate.x == Animate) {\n      time = u_time / u_aimate.y;\n    }\n    float redioCount = arcRadio * count;\n\n    float u = fract(redioCount - time);\n    float v = styleMappingMat[3].a; // \u6a2a\u5411 v\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n\n    vec4 pattern = texture2D(u_texture, uv);\n\n    if(u_aimate.x == Animate) {\n      float currentPlane = floor(redioCount - time);\n      float textureStep = floor(count * u_aimate.z);\n      float a = mod(currentPlane, textureStep);\n      if(a < textureStep - 1.0) {\n        pattern = vec4(0.0);\n      }\n    }\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      gl_FragColor = filterColor(gl_FragColor + pattern);\n    } else { // replace\n        pattern.a *= opacity;\n        if(gl_FragColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        gl_FragColor = filterColor(pattern);\n    }\n    \n  } else {\n     gl_FragColor = filterColor(gl_FragColor);\n  }\n  // gl_FragColor = filterColor(gl_FragColor);\n}',Ca='#define Animate 0.0\n#define LineTexture 1.0\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\n\nuniform float u_lineDir: 1.0;\n\nuniform float u_thetaOffset: 0.314;\nuniform float u_icon_step: 100;\nuniform float u_line_texture: 0.0;\nattribute vec2 a_iconMapUV;\nvarying vec2 v_iconMapUV;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n#pragma include "styleMappingCalThetaOffset"\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat bezier3(vec3 arr, float t) {\n  float ut = 1. - t;\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\n}\nvec2 midPoint(vec2 source, vec2 target, float arcThetaOffset) {\n  vec2 center = target - source;\n  float r = length(center);\n  float theta = atan(center.y, center.x);\n  float thetaOffset = arcThetaOffset;\n  float r2 = r / 2.0 / cos(thetaOffset);\n  float theta2 = theta + thetaOffset;\n  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);\n  if(u_lineDir == 1.0) { // \u6b63\u5411\n    return mid;\n  } else { // \u9006\u5411\n    // (mid + vmin)/2 = (s + t)/2\n    vec2 vmid = source + target - mid;\n    return vmid;\n  }\n  // return mid;\n}\nfloat getSegmentRatio(float index) {\n    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));\n}\nvec2 interpolate (vec2 source, vec2 target, float t, float arcThetaOffset) {\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  vec2 mid = midPoint(source, target, arcThetaOffset);\n  vec3 x = vec3(source.x, mid.x, target.x);\n  vec3 y = vec3(source.y, mid.y, target.y);\n  return vec2(bezier3(x ,t), bezier3(y,t));\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\n\nvoid main() {\n  v_color = a_Color;\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636e\u96c6\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke -> thetaOffset... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 thetaOffsetAndOffset = calThetaOffsetAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][1] = thetaOffsetAndOffset.r;\n  textureOffset = thetaOffsetAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  \n  vec2 source = a_Instance.rg;  // \u8d77\u59cb\u70b9\n  vec2 target =  a_Instance.ba; // \u7ec8\u70b9\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  float d_distance_ratio;\n  \n  if(u_aimate.x == Animate) {\n      d_distance_ratio = segmentIndex / segmentNumber;\n      if(u_lineDir != 1.0) {\n        d_distance_ratio = 1.0 - d_distance_ratio;\n      }\n  }\n\n   styleMappingMat[3].b = d_distance_ratio;\n\n  // styleMappingMat[0][1] - arcThetaOffset\n  vec4 curr = project_position(vec4(interpolate(source, target, segmentRatio, styleMappingMat[0][1]), 0.0, 1.0));\n  vec4 next = project_position(vec4(interpolate(source, target, nextSegmentRatio, styleMappingMat[0][1]), 0.0, 1.0));\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n  //unProjCustomCoord\n  \n  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));\n\n\n  float d_segmentIndex = a_Position.x + 1.0; // \u5f53\u524d\u9876\u70b9\u5728\u5f27\u7ebf\u4e2d\u6240\u5904\u7684\u5206\u6bb5\u4f4d\u7f6e\n  styleMappingMat[3].r = d_segmentIndex;\n\n  if(LineTexture == u_line_texture) { // \u5f00\u542f\u8d34\u56fe\u6a21\u5f0f\n\n    float arcDistrance = length(source - target); // \u8d77\u59cb\u70b9\u548c\u7ec8\u70b9\u7684\u8ddd\u79bb\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap\n      arcDistrance *= 1000000.0;\n    }\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox\n      // arcDistrance *= 8.0;\n      arcDistrance = project_pixel_allmap(arcDistrance);\n    }\n    v_iconMapUV = a_iconMapUV;\n\n    float pixelLen = project_pixel_texture(u_icon_step); // \u8d34\u56fe\u6cbf\u5f27\u7ebf\u65b9\u5411\u7684\u957f\u5ea6 - \u968f\u5730\u56fe\u7f29\u653e\u6539\u53d8\n    float texCount = floor(arcDistrance/pixelLen); // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n     styleMappingMat[3].g = texCount;\n\n    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7ebf\u6a2a\u5411\u504f\u79fb\u7684\u8ddd\u79bb\n    float linePixelSize = project_pixel(a_Size); // \u5b9a\u70b9\u4f4d\u7f6e\u504f\u79fb\n     styleMappingMat[3].a = lineOffsetWidth/linePixelSize; // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n  }\n  \n\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));\n    gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));\n  }\n  setPickingColor(a_PickingColor);\n}\n',Aa='#define Animate 0.0\n#define LineTexture 1.0\n\nuniform float u_opacity;\nuniform float u_textureBlend;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\n// varying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying vec4 v_color;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\nuniform float u_line_texture;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\n\nuniform float segmentNumber;\nvarying vec2 v_iconMapUV;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float d_segmentIndex = styleMappingMat[3].r;   // \u5f53\u524d\u9876\u70b9\u5728\u5f27\u7ebf\u4e2d\u6240\u5904\u7684\u5206\u6bb5\u4f4d\u7f6e\n\n  // \u8bbe\u7f6e\u5f27\u7ebf\u7684\u5e95\u8272\n  gl_FragColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);\n  gl_FragColor.a *= opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}',Pa='\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float segmentNumber;\nvarying vec4 v_color;\n\nuniform float u_lineDir: 1.0;\n\nuniform float u_thetaOffset: 0.314;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n#pragma include "styleMappingCalThetaOffset"\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat bezier3(vec3 arr, float t) {\n  float ut = 1. - t;\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\n}\nvec2 midPoint(vec2 source, vec2 target, float arcThetaOffset) {\n  vec2 center = target - source;\n  float r = length(center);\n  float theta = atan(center.y, center.x);\n  float thetaOffset = arcThetaOffset;\n  float r2 = r / 2.0 / cos(thetaOffset);\n  float theta2 = theta + thetaOffset;\n  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);\n  if(u_lineDir == 1.0) { // \u6b63\u5411\n    return mid;\n  } else { // \u9006\u5411\n    // (mid + vmin)/2 = (s + t)/2\n    vec2 vmid = source + target - mid;\n    return vmid;\n  }\n  // return mid;\n}\nfloat getSegmentRatio(float index) {\n    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));\n}\nvec2 interpolate (vec2 source, vec2 target, float t, float arcThetaOffset) {\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  vec2 mid = midPoint(source, target, arcThetaOffset);\n  vec3 x = vec3(source.x, mid.x, target.x);\n  vec3 y = vec3(source.y, mid.y, target.y);\n  return vec2(bezier3(x ,t), bezier3(y,t));\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\n\nvoid main() {\n  v_color = a_Color;\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636e\u96c6\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke -> thetaOffset... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 thetaOffsetAndOffset = calThetaOffsetAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][1] = thetaOffsetAndOffset.r;\n  textureOffset = thetaOffsetAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  \n  vec2 source = a_Instance.rg;  // \u8d77\u59cb\u70b9\n  vec2 target =  a_Instance.ba; // \u7ec8\u70b9\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  float d_distance_ratio;\n\n   styleMappingMat[3].b = d_distance_ratio;\n\n  // styleMappingMat[0][1] - arcThetaOffset\n  vec4 curr = project_position(vec4(interpolate(source, target, segmentRatio, styleMappingMat[0][1]), 0.0, 1.0));\n  vec4 next = project_position(vec4(interpolate(source, target, nextSegmentRatio, styleMappingMat[0][1]), 0.0, 1.0));\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n  //unProjCustomCoord\n  \n  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));\n\n\n  float d_segmentIndex = a_Position.x + 1.0; // \u5f53\u524d\u9876\u70b9\u5728\u5f27\u7ebf\u4e2d\u6240\u5904\u7684\u5206\u6bb5\u4f4d\u7f6e\n  styleMappingMat[3].r = d_segmentIndex;\n\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));\n    gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));\n  }\n  setPickingColor(a_PickingColor);\n}\n',ka={solid:0,dash:1},Ma=function(e){ke()(n,e);var t=Ea(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"texture",void 0),S()(Ae()(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:Bt["o"].NEAREST,min:Bt["o"].NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.sourceColor,i=e.targetColor,o=e.textureBlend,a=void 0===o?"normal":o,s=e.lineType,l=void 0===s?"solid":s,u=e.dashArray,c=void 0===u?[10,5]:u,f=e.forward,p=void 0===f||f,d=e.lineTexture,h=void 0!==d&&d,v=e.iconStep,m=void 0===v?100:v,g=e.segmentNumber,y=void 0===g?30:g,b=e.thetaOffset,_=void 0===b?.314:b;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,thetaOffset:_})){this.judgeStyleAttributes({opacity:n,thetaOffset:_});var E=this.layer.getEncodedData(),x=this.calDataFrame(this.cellLength,E,this.cellProperties),w=x.data,S=x.width,O=x.height;this.rowCount=O,this.dataTexture=this.cellLength>0&&w.length>0?this.createTexture2D({flipY:!0,data:w,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:S,height:O}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}2===c.length&&c.push(0,0);var C=0,A=[0,0,0,0],P=[0,0,0,0];return r&&i&&(A=Object(q["M"])(r),P=Object(q["M"])(i),C=1),this.rendererService.getDirty()&&this.texture.bind(),{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_thetaOffset:Tn()(_)?_:0,u_opacity:Tn()(n)?n:1,u_textureBlend:"normal"===a?0:1,segmentNumber:y,u_line_type:ka[l||"solid"],u_dash_array:c,u_blur:.9,u_lineDir:p?1:-1,u_texture:this.texture,u_line_texture:h?1:0,u_icon_step:m,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:C,u_sourceColor:A,u_targetColor:P}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(e){this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels(e)}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"getShaders",value:function(){var e=this.layer.getLayerConfig(),t=e.sourceColor,n=e.targetColor,r=e.lineType;return"dash"===r?{frag:wa,vert:Sa,type:"Dash"}:t&&n?{frag:Aa,vert:Pa,type:"Linear"}:{frag:Oa,vert:Ca,type:""}}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.segmentNumber,r=void 0===n?30:n,i=t.mask,o=void 0!==i&&i,a=t.maskInside,s=void 0===a||a,l=this.getShaders(),u=l.frag,c=l.vert,f=l.type;this.layer.buildLayerModel({moduleName:"lineArc2d"+f,vertexShader:c,fragmentShader:u,triangulation:si,depth:{enable:!1},blend:this.getBlend(),segmentNumber:r,stencil:Object(q["A"])(o,s)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Bt["a"].Attribute,descriptor:{name:"a_Instance",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Bt["a"].Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(t,n,r,i){var o=e.iconService.getIconMap(),a=t.texture,s=o[a]||{x:0,y:0},l=s.x,u=s.y;return[l,u]}}})}}]),n}(yr);function Ta(e){var t=La();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function La(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Ia='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform float u_opacity;\nuniform float u_textureBlend;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\n// varying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying vec4 v_color;\n\nuniform float u_line_texture: 0.0;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\nvarying float v_segmentIndex;\nuniform float segmentNumber;\n\nvarying vec2 v_iconMapUV;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\nvarying mat4 styleMappingMat;\n\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0; // \u8fd0\u52a8\u901f\u5ea6\n  float d_distance_ratio = styleMappingMat[3].g; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n  gl_FragColor = v_color;\n\n  gl_FragColor.a *= opacity;\n  if(u_line_type == LineTypeDash) {\n    float flag = 0.;\n    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n  }\n\n  if(u_aimate.x == Animate && u_line_texture != LineTexture) {\n      animateSpeed = u_time / u_aimate.y;\n      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      // alpha = smoothstep(0., 1., alpha);\n      alpha = clamp(alpha, 0.0, 1.0);\n      gl_FragColor.a *= alpha;\n\n      // u_aimate \n      // x enable\n      // y duration\n      // z interval\n      // w trailLength\n  }\n\n  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture\n    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));\n    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);\n    float count = styleMappingMat[3].b; // // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n\n    float time = 0.0;\n    if(u_aimate.x == Animate) {\n      time = u_time / u_aimate.y;\n    }\n    float redioCount = arcRadio * count;\n\n    float u = fract(redioCount - time);\n\n    float v = styleMappingMat[3].a;  // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    vec4 pattern = texture2D(u_texture, uv);\n\n    if(u_aimate.x == Animate) {\n      float currentPlane = floor(redioCount - time);\n      float textureStep = floor(count * u_aimate.z);\n      float a = mod(currentPlane, textureStep);\n      if(a < textureStep - 1.0) {\n        pattern = vec4(0.0);\n      }\n    }\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      gl_FragColor = filterColor(gl_FragColor + pattern);\n    } else { // replace\n        pattern.a *= opacity;\n        if(gl_FragColor.a <= 0.0) {\n          pattern.a = 0.0;\n          discard;\n        } else {\n          gl_FragColor = filterColor(pattern);\n        }\n    }\n\n  } else {\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n}\n',Da='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute vec4 a_Color;\nattribute float a_Size;\n\nuniform float u_globel;\nuniform float u_globel_radius;\nuniform float u_global_height: 10;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\n// varying vec2 v_normal;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nvarying vec4 v_dash_array;\n\nuniform float u_icon_step: 100;\nuniform float u_line_texture: 0.0;\nvarying float v_segmentIndex;\n\nattribute vec2 a_iconMapUV;\nvarying vec2 v_iconMapUV;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\n  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n  );\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\n\nfloat torad(float deg) {\n  return (deg / 180.0) * acos(-1.0);\n}\n\nvec3 lglt2xyz(vec2 lnglat) {\n  float pi = 3.1415926;\n  // TODO: + Math.PI/2 \u662f\u4e3a\u4e86\u5bf9\u9f50\u5750\u6807\n  float lng = torad(lnglat.x) + pi / 2.0;\n  float lat = torad(lnglat.y);\n\n  // TODO: \u624b\u52a8\u589e\u52a0\u4e00\u4e9b\u504f\u79fb\uff0c\u51cf\u8f7b\u9762\u7684\u51b2\u7a81\n  float radius = u_globel_radius;\n\n  float z = radius * cos(lat) * cos(lng);\n  float x = radius * cos(lat) * sin(lng);\n  float y = radius * sin(lat);\n  return vec3(x, y, z);\n}\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636e\u96c6\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_color = a_Color;\n  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;\n  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n\n  float d_distance_ratio;\n   if(u_line_type == LineTypeDash) {\n    d_distance_ratio = segmentIndex / segmentNumber;\n    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;\n    vec2 s = source;\n    vec2 t = target;\n    \n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      s = unProjCustomCoord(source);\n      t = unProjCustomCoord(target);\n    }\n    float total_Distance = pixelDistance(s, t) / 2.0 * PI;\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n    if(u_aimate.x == Animate) {\n      d_distance_ratio = segmentIndex / segmentNumber;\n  }\n  styleMappingMat[3].g = d_distance_ratio; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  vec3 curr = getPos(source, target, segmentRatio);\n  vec3 next = getPos(source, target, nextSegmentRatio);\n  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n\n\n  v_segmentIndex = a_Position.x;\n  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5f00\u542f\u8d34\u56fe\u6a21\u5f0f  \n\n    float arcDistrance = length(source - target);\n    float pixelLen =  project_pixel_texture(u_icon_step);\n    styleMappingMat[3].b = floor(arcDistrance/pixelLen); // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n\n    vec2 projectOffset = project_pixel(offset);\n    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // \u7ebf\u6a2a\u5411\u504f\u79fb\u7684\u8ddd\u79bb\n    float linePixelSize = project_pixel(a_Size);  // \u5b9a\u70b9\u4f4d\u7f6e\u504f\u79fb\uff0c\u6309\u5730\u56fe\u7b49\u7ea7\u7f29\u653e\u540e\u7684\u8ddd\u79bb\n    styleMappingMat[3].a = lineOffsetWidth/linePixelSize;  // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n    v_iconMapUV = a_iconMapUV;\n  }\n  \n\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  }\n\n  // \u5730\u7403\u6a21\u5f0f\n  if(u_globel > 0.0) {\n    vec3 startLngLat = lglt2xyz(a_Instance.rg);\n    vec3 endLngLat = lglt2xyz(a_Instance.ba);\n    float globalRadius = length(startLngLat);\n\n    vec3 lineDir = normalize(endLngLat - startLngLat);\n    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);\n\n    // \u7ebf\u7684\u504f\u79fb\n    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;\n    // \u8ba1\u7b97\u8d77\u59cb\u70b9\u548c\u7ec8\u6b62\u70b9\u7684\u8ddd\u79bb\n    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;\n    // \u8ba1\u7b97\u98de\u7ebf\u5404\u4e2a\u8282\u70b9\u76f8\u5e94\u7684\u9ad8\u5ea6\n    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;\n    // \u5730\u7403\u70b9\u4f4d\n    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;\n    \n    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);\n  }\n \n\n  setPickingColor(a_PickingColor);\n}\n',Ra='\n#define Animate 0.0\n\nuniform float u_opacity;\nuniform float u_blur : 0.9;\nvarying float v_segmentIndex;\nuniform float segmentNumber;\n\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\nvarying mat4 styleMappingMat;\n\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0; // \u8fd0\u52a8\u901f\u5ea6\n  float d_distance_ratio = styleMappingMat[3].g; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n\n  gl_FragColor = mix(u_sourceColor, u_targetColor, v_segmentIndex/segmentNumber);\n\n  gl_FragColor.a *= opacity;\n\n  if(u_aimate.x == Animate) {\n      animateSpeed = u_time / u_aimate.y;\n      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      // alpha = smoothstep(0., 1., alpha);\n      alpha = clamp(alpha, 0.0, 1.0);\n      gl_FragColor.a *= alpha;\n\n      // u_aimate \n      // x enable\n      // y duration\n      // z interval\n      // w trailLength\n  }\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Na='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute vec4 a_Color;\nattribute float a_Size;\n\nuniform float u_globel;\nuniform float u_globel_radius;\nuniform float u_global_height: 10;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\n// varying vec2 v_normal;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nvarying vec4 v_dash_array;\n\nuniform float u_icon_step: 100;\nuniform float u_line_texture: 0.0;\nvarying float v_segmentIndex;\n\nattribute vec2 a_iconMapUV;\nvarying vec2 v_iconMapUV;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\n  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n  );\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\n\nfloat torad(float deg) {\n  return (deg / 180.0) * acos(-1.0);\n}\n\nvec3 lglt2xyz(vec2 lnglat) {\n  float pi = 3.1415926;\n  // TODO: + Math.PI/2 \u662f\u4e3a\u4e86\u5bf9\u9f50\u5750\u6807\n  float lng = torad(lnglat.x) + pi / 2.0;\n  float lat = torad(lnglat.y);\n\n  // TODO: \u624b\u52a8\u589e\u52a0\u4e00\u4e9b\u504f\u79fb\uff0c\u51cf\u8f7b\u9762\u7684\u51b2\u7a81\n  float radius = u_globel_radius;\n\n  float z = radius * cos(lat) * cos(lng);\n  float x = radius * cos(lat) * sin(lng);\n  float y = radius * sin(lat);\n  return vec3(x, y, z);\n}\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636e\u96c6\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_color = a_Color;\n  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;\n  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n\n  float d_distance_ratio;\n   if(u_line_type == LineTypeDash) {\n    d_distance_ratio = segmentIndex / segmentNumber;\n    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;\n    vec2 s = source;\n    vec2 t = target;\n    \n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      s = unProjCustomCoord(source);\n      t = unProjCustomCoord(target);\n    }\n    float total_Distance = pixelDistance(s, t) / 2.0 * PI;\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n    if(u_aimate.x == Animate) {\n      d_distance_ratio = segmentIndex / segmentNumber;\n  }\n  styleMappingMat[3].g = d_distance_ratio; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  vec3 curr = getPos(source, target, segmentRatio);\n  vec3 next = getPos(source, target, nextSegmentRatio);\n  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n\n\n  v_segmentIndex = a_Position.x;\n  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5f00\u542f\u8d34\u56fe\u6a21\u5f0f  \n\n    float arcDistrance = length(source - target);\n    float pixelLen =  project_pixel_texture(u_icon_step);\n    styleMappingMat[3].b = floor(arcDistrance/pixelLen); // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n\n    vec2 projectOffset = project_pixel(offset);\n    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // \u7ebf\u6a2a\u5411\u504f\u79fb\u7684\u8ddd\u79bb\n    float linePixelSize = project_pixel(a_Size);  // \u5b9a\u70b9\u4f4d\u7f6e\u504f\u79fb\uff0c\u6309\u5730\u56fe\u7b49\u7ea7\u7f29\u653e\u540e\u7684\u8ddd\u79bb\n    styleMappingMat[3].a = lineOffsetWidth/linePixelSize;  // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n    v_iconMapUV = a_iconMapUV;\n  }\n  \n\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  }\n\n  // \u5730\u7403\u6a21\u5f0f\n  if(u_globel > 0.0) {\n    vec3 startLngLat = lglt2xyz(a_Instance.rg);\n    vec3 endLngLat = lglt2xyz(a_Instance.ba);\n    float globalRadius = length(startLngLat);\n\n    vec3 lineDir = normalize(endLngLat - startLngLat);\n    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);\n\n    // \u7ebf\u7684\u504f\u79fb\n    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;\n    // \u8ba1\u7b97\u8d77\u59cb\u70b9\u548c\u7ec8\u6b62\u70b9\u7684\u8ddd\u79bb\n    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;\n    // \u8ba1\u7b97\u98de\u7ebf\u5404\u4e2a\u8282\u70b9\u76f8\u5e94\u7684\u9ad8\u5ea6\n    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;\n    // \u5730\u7403\u70b9\u4f4d\n    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;\n    \n    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);\n  }\n \n\n  setPickingColor(a_PickingColor);\n}\n',ja={solid:0,dash:1},Fa=function(e){ke()(n,e);var t=Ta(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"texture",void 0),S()(Ae()(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:Bt["o"].NEAREST,min:Bt["o"].NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.sourceColor,i=e.targetColor,o=e.textureBlend,a=void 0===o?"normal":o,s=e.lineType,l=void 0===s?"solid":s,u=e.dashArray,c=void 0===u?[10,5]:u,f=e.lineTexture,p=void 0!==f&&f,d=e.iconStep,h=void 0===d?100:d,v=e.segmentNumber,m=void 0===v?30:v,g=e.globalArcHeight,y=void 0===g?10:g;2===c.length&&c.push(0,0);var b=0,_=[0,0,0,0],E=[0,0,0,0];if(r&&i&&(_=Object(q["M"])(r),E=Object(q["M"])(i),b=1),this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var x=this.layer.getEncodedData(),w=this.calDataFrame(this.cellLength,x,this.cellProperties),S=w.data,O=w.width,C=w.height;this.rowCount=C,this.dataTexture=this.cellLength>0&&S.length>0?this.createTexture2D({flipY:!0,data:S,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:O,height:C}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_globel:"GLOBEL"===this.mapService.version?1:0,u_globel_radius:xr,u_global_height:y,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(n)?n:1,u_textureBlend:"normal"===a?0:1,segmentNumber:m,u_line_type:ja[l]||0,u_dash_array:c,u_texture:this.texture,u_line_texture:p?1:0,u_icon_step:h,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:b,u_sourceColor:_,u_targetColor:E}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(e){this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels(e)}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"getShaders",value:function(){var e=this.layer.getLayerConfig(),t=e.sourceColor,n=e.targetColor;return t&&n?{frag:Ra,vert:Na,type:"Linear"}:{frag:Ia,vert:Da,type:""}}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.segmentNumber,r=void 0===n?30:n,i=t.mask,o=void 0!==i&&i,a=t.maskInside,s=void 0===a||a,l=this.getShaders(),u=l.frag,c=l.vert,f=l.type;this.layer.buildLayerModel({moduleName:"lineArc3d"+f,vertexShader:c,fragmentShader:u,triangulation:si,blend:this.getBlend(),segmentNumber:r,stencil:Object(q["A"])(o,s)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Bt["a"].Attribute,descriptor:{name:"a_Instance",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Bt["a"].Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(t,n,r,i){var o=e.iconService.getIconMap(),a=t.texture,s=o[a]||{x:0,y:0},l=s.x,u=s.y;return[l,u]}}})}}]),n}(yr);function Ba(e){var t=Ua();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Ua(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var za='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform float u_opacity;\nuniform float u_textureBlend;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\n// varying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying vec4 v_color;\n\nuniform float u_line_texture: 0.0;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\nvarying float v_segmentIndex;\nuniform float segmentNumber;\n\nvarying vec2 v_iconMapUV;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\nvarying mat4 styleMappingMat;\n\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0; // \u8fd0\u52a8\u901f\u5ea6\n  float d_distance_ratio = styleMappingMat[3].g; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n  gl_FragColor = v_color;\n\n  gl_FragColor.a *= opacity;\n  if(u_line_type == LineTypeDash) {\n    float flag = 0.;\n    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n  }\n\n  if(u_aimate.x == Animate && u_line_texture != LineTexture) {\n      animateSpeed = u_time / u_aimate.y;\n      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      // alpha = smoothstep(0., 1., alpha);\n      alpha = clamp(alpha, 0.0, 1.0);\n      gl_FragColor.a *= alpha;\n\n      // u_aimate \n      // x enable\n      // y duration\n      // z interval\n      // w trailLength\n  }\n\n  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture\n    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));\n    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);\n    float count = styleMappingMat[3].b; // // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n\n    float time = 0.0;\n    if(u_aimate.x == Animate) {\n      time = u_time / u_aimate.y;\n    }\n    float redioCount = arcRadio * count;\n\n    float u = fract(redioCount - time);\n\n    float v = styleMappingMat[3].a;  // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    vec4 pattern = texture2D(u_texture, uv);\n\n    if(u_aimate.x == Animate) {\n      float currentPlane = floor(redioCount - time);\n      float textureStep = floor(count * u_aimate.z);\n      float a = mod(currentPlane, textureStep);\n      if(a < textureStep - 1.0) {\n        pattern = vec4(0.0);\n      }\n    }\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      gl_FragColor = filterColor(gl_FragColor + pattern);\n    } else { // replace\n        pattern.a *= opacity;\n        if(gl_FragColor.a <= 0.0) {\n          pattern.a = 0.0;\n          discard;\n        } else {\n          gl_FragColor = filterColor(pattern);\n        }\n    }\n\n  } else {\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n}\n',Ha='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute vec4 a_Color;\nattribute float a_Size;\n\nuniform float u_globel;\nuniform float u_globel_radius;\nuniform float u_global_height: 10;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\n// varying vec2 v_normal;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nvarying vec4 v_dash_array;\n\nuniform float u_icon_step: 100;\nuniform float u_line_texture: 0.0;\nvarying float v_segmentIndex;\n\nattribute vec2 a_iconMapUV;\nvarying vec2 v_iconMapUV;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\n  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n  );\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\n\nfloat torad(float deg) {\n  return (deg / 180.0) * acos(-1.0);\n}\n\nvec3 lglt2xyz(vec2 lnglat) {\n  float pi = 3.1415926;\n  // TODO: + Math.PI/2 \u662f\u4e3a\u4e86\u5bf9\u9f50\u5750\u6807\n  float lng = torad(lnglat.x) + pi / 2.0;\n  float lat = torad(lnglat.y);\n\n  // TODO: \u624b\u52a8\u589e\u52a0\u4e00\u4e9b\u504f\u79fb\uff0c\u51cf\u8f7b\u9762\u7684\u51b2\u7a81\n  float radius = u_globel_radius;\n\n  float z = radius * cos(lat) * cos(lng);\n  float x = radius * cos(lat) * sin(lng);\n  float y = radius * sin(lat);\n  return vec3(x, y, z);\n}\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636e\u96c6\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_color = a_Color;\n  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;\n  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n\n  float d_distance_ratio;\n   if(u_line_type == LineTypeDash) {\n    d_distance_ratio = segmentIndex / segmentNumber;\n    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;\n    vec2 s = source;\n    vec2 t = target;\n    \n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      s = unProjCustomCoord(source);\n      t = unProjCustomCoord(target);\n    }\n    float total_Distance = pixelDistance(s, t) / 2.0 * PI;\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n    if(u_aimate.x == Animate) {\n      d_distance_ratio = segmentIndex / segmentNumber;\n  }\n  styleMappingMat[3].g = d_distance_ratio; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  vec3 curr = getPos(source, target, segmentRatio);\n  vec3 next = getPos(source, target, nextSegmentRatio);\n  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n\n\n  v_segmentIndex = a_Position.x;\n  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5f00\u542f\u8d34\u56fe\u6a21\u5f0f  \n\n    float arcDistrance = length(source - target);\n    float pixelLen =  project_pixel_texture(u_icon_step);\n    styleMappingMat[3].b = floor(arcDistrance/pixelLen); // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n\n    vec2 projectOffset = project_pixel(offset);\n    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // \u7ebf\u6a2a\u5411\u504f\u79fb\u7684\u8ddd\u79bb\n    float linePixelSize = project_pixel(a_Size);  // \u5b9a\u70b9\u4f4d\u7f6e\u504f\u79fb\uff0c\u6309\u5730\u56fe\u7b49\u7ea7\u7f29\u653e\u540e\u7684\u8ddd\u79bb\n    styleMappingMat[3].a = lineOffsetWidth/linePixelSize;  // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n    v_iconMapUV = a_iconMapUV;\n  }\n  \n\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  }\n\n  // \u5730\u7403\u6a21\u5f0f\n  if(u_globel > 0.0) {\n    vec3 startLngLat = lglt2xyz(a_Instance.rg);\n    vec3 endLngLat = lglt2xyz(a_Instance.ba);\n    float globalRadius = length(startLngLat);\n\n    vec3 lineDir = normalize(endLngLat - startLngLat);\n    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);\n\n    // \u7ebf\u7684\u504f\u79fb\n    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;\n    // \u8ba1\u7b97\u8d77\u59cb\u70b9\u548c\u7ec8\u6b62\u70b9\u7684\u8ddd\u79bb\n    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;\n    // \u8ba1\u7b97\u98de\u7ebf\u5404\u4e2a\u8282\u70b9\u76f8\u5e94\u7684\u9ad8\u5ea6\n    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;\n    // \u5730\u7403\u70b9\u4f4d\n    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;\n    \n    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);\n  }\n \n\n  setPickingColor(a_PickingColor);\n}\n',Va='\n#define Animate 0.0\n\nuniform float u_opacity;\nuniform float u_blur : 0.9;\nvarying float v_segmentIndex;\nuniform float segmentNumber;\n\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\nvarying mat4 styleMappingMat;\n\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0; // \u8fd0\u52a8\u901f\u5ea6\n  float d_distance_ratio = styleMappingMat[3].g; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n\n  gl_FragColor = mix(u_sourceColor, u_targetColor, v_segmentIndex/segmentNumber);\n\n  gl_FragColor.a *= opacity;\n\n  if(u_aimate.x == Animate) {\n      animateSpeed = u_time / u_aimate.y;\n      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      // alpha = smoothstep(0., 1., alpha);\n      alpha = clamp(alpha, 0.0, 1.0);\n      gl_FragColor.a *= alpha;\n\n      // u_aimate \n      // x enable\n      // y duration\n      // z interval\n      // w trailLength\n  }\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Ga='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute vec4 a_Color;\nattribute float a_Size;\n\nuniform float u_globel;\nuniform float u_globel_radius;\nuniform float u_global_height: 10;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\n// varying vec2 v_normal;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nvarying vec4 v_dash_array;\n\nuniform float u_icon_step: 100;\nuniform float u_line_texture: 0.0;\nvarying float v_segmentIndex;\n\nattribute vec2 a_iconMapUV;\nvarying vec2 v_iconMapUV;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\n  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n  );\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\n\nfloat torad(float deg) {\n  return (deg / 180.0) * acos(-1.0);\n}\n\nvec3 lglt2xyz(vec2 lnglat) {\n  float pi = 3.1415926;\n  // TODO: + Math.PI/2 \u662f\u4e3a\u4e86\u5bf9\u9f50\u5750\u6807\n  float lng = torad(lnglat.x) + pi / 2.0;\n  float lat = torad(lnglat.y);\n\n  // TODO: \u624b\u52a8\u589e\u52a0\u4e00\u4e9b\u504f\u79fb\uff0c\u51cf\u8f7b\u9762\u7684\u51b2\u7a81\n  float radius = u_globel_radius;\n\n  float z = radius * cos(lat) * cos(lng);\n  float x = radius * cos(lat) * sin(lng);\n  float y = radius * sin(lat);\n  return vec3(x, y, z);\n}\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636e\u96c6\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_color = a_Color;\n  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;\n  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n\n  float d_distance_ratio;\n   if(u_line_type == LineTypeDash) {\n    d_distance_ratio = segmentIndex / segmentNumber;\n    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;\n    vec2 s = source;\n    vec2 t = target;\n    \n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      s = unProjCustomCoord(source);\n      t = unProjCustomCoord(target);\n    }\n    float total_Distance = pixelDistance(s, t) / 2.0 * PI;\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n    if(u_aimate.x == Animate) {\n      d_distance_ratio = segmentIndex / segmentNumber;\n  }\n  styleMappingMat[3].g = d_distance_ratio; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  vec3 curr = getPos(source, target, segmentRatio);\n  vec3 next = getPos(source, target, nextSegmentRatio);\n  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n\n\n  v_segmentIndex = a_Position.x;\n  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5f00\u542f\u8d34\u56fe\u6a21\u5f0f  \n\n    float arcDistrance = length(source - target);\n    float pixelLen =  project_pixel_texture(u_icon_step);\n    styleMappingMat[3].b = floor(arcDistrance/pixelLen); // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n\n    vec2 projectOffset = project_pixel(offset);\n    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // \u7ebf\u6a2a\u5411\u504f\u79fb\u7684\u8ddd\u79bb\n    float linePixelSize = project_pixel(a_Size);  // \u5b9a\u70b9\u4f4d\u7f6e\u504f\u79fb\uff0c\u6309\u5730\u56fe\u7b49\u7ea7\u7f29\u653e\u540e\u7684\u8ddd\u79bb\n    styleMappingMat[3].a = lineOffsetWidth/linePixelSize;  // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n    v_iconMapUV = a_iconMapUV;\n  }\n  \n\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  }\n\n  // \u5730\u7403\u6a21\u5f0f\n  if(u_globel > 0.0) {\n    vec3 startLngLat = lglt2xyz(a_Instance.rg);\n    vec3 endLngLat = lglt2xyz(a_Instance.ba);\n    float globalRadius = length(startLngLat);\n\n    vec3 lineDir = normalize(endLngLat - startLngLat);\n    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);\n\n    // \u7ebf\u7684\u504f\u79fb\n    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;\n    // \u8ba1\u7b97\u8d77\u59cb\u70b9\u548c\u7ec8\u6b62\u70b9\u7684\u8ddd\u79bb\n    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;\n    // \u8ba1\u7b97\u98de\u7ebf\u5404\u4e2a\u8282\u70b9\u76f8\u5e94\u7684\u9ad8\u5ea6\n    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;\n    // \u5730\u7403\u70b9\u4f4d\n    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;\n    \n    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);\n  }\n \n\n  setPickingColor(a_PickingColor);\n}\n',Wa={solid:0,dash:1},qa=function(e){ke()(n,e);var t=Ba(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"texture",void 0),S()(Ae()(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:Bt["o"].NEAREST,min:Bt["o"].NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.sourceColor,i=e.targetColor,o=e.textureBlend,a=void 0===o?"normal":o,s=e.lineType,l=void 0===s?"solid":s,u=e.dashArray,c=void 0===u?[10,5]:u,f=e.lineTexture,p=void 0!==f&&f,d=e.iconStep,h=void 0===d?100:d,v=e.segmentNumber,m=void 0===v?30:v,g=e.globalArcHeight,y=void 0===g?10:g;2===c.length&&c.push(0,0);var b=0,_=[0,0,0,0],E=[0,0,0,0];if(r&&i&&(_=Object(q["M"])(r),E=Object(q["M"])(i),b=1),this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var x=this.layer.getEncodedData(),w=this.calDataFrame(this.cellLength,x,this.cellProperties),S=w.data,O=w.width,C=w.height;this.rowCount=C,this.dataTexture=this.cellLength>0&&S.length>0?this.createTexture2D({flipY:!0,data:S,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:O,height:C}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_globel:1,u_globel_radius:xr,u_global_height:y,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(n)?n:1,u_textureBlend:"normal"===a?0:1,segmentNumber:m,u_line_type:Wa[l]||0,u_dash_array:c,u_texture:this.texture,u_line_texture:p?1:0,u_icon_step:h,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:b,u_sourceColor:_,u_targetColor:E}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(e){this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels(e)}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"getShaders",value:function(){var e=this.layer.getLayerConfig(),t=e.sourceColor,n=e.targetColor;return t&&n?{frag:Va,vert:Ga,type:"Linear"}:{frag:za,vert:Ha,type:""}}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.segmentNumber,r=void 0===n?30:n,i=t.mask,o=void 0!==i&&i,a=t.maskInside,s=void 0===a||a,l=this.getShaders(),u=l.frag,c=l.vert,f=l.type;this.layer.buildLayerModel({moduleName:"lineEarthArc3d"+f,vertexShader:c,fragmentShader:u,triangulation:si,depth:{enable:!0},blend:this.getBlend(),segmentNumber:r,stencil:Object(q["A"])(o,s)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Bt["a"].Attribute,descriptor:{name:"a_Instance",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Bt["a"].Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(t,n,r,i){var o=e.iconService.getIconMap(),a=t.texture,s=o[a]||{x:0,y:0},l=s.x,u=s.y;return[l,u]}}})}}]),n}(yr);function Ya(e){var t=Xa();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Xa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Ka='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform float u_opacity;\nuniform float u_textureBlend;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\n// varying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying float v_distance_ratio;\nvarying vec4 v_color;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\nuniform float u_line_texture: 0.0;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\nuniform float segmentNumber;\n\nvarying vec2 v_iconMapUV;\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\nvarying mat4 styleMappingMat;\n\n#pragma include "picking"\n#pragma include "project"\n#pragma include "projection"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0;\n  float d_segmentIndex = styleMappingMat[3].g;\n  \n  // \u8bbe\u7f6e\u5f27\u7ebf\u7684\u5e95\u8272\n  if(u_linearColor == 1.0) { // \u4f7f\u7528\u6e10\u53d8\u989c\u8272\n    gl_FragColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);\n  } else { // \u4f7f\u7528 color \u65b9\u6cd5\u4f20\u5165\u7684\u989c\u8272\n     gl_FragColor = v_color;\n  }\n\n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\n  gl_FragColor.a *= opacity;\n  if(u_line_type == LineTypeDash) {\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      // \u5b9e\u7ebf\u90e8\u5206\n    } else {\n      // \u865a\u7ebf\u90e8\u5206\n      discard;\n    };\n  }\n\n  // \u8bbe\u7f6e\u5f27\u7ebf\u7684\u52a8\u753b\u6a21\u5f0f\n  if(u_aimate.x == Animate) {\n      animateSpeed = u_time / u_aimate.y;\n      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      alpha = smoothstep(0., 1., alpha);\n      gl_FragColor.a *= alpha;\n  }\n\n  // \u8bbe\u7f6e\u5f27\u7ebf\u7684\u8d34\u56fe\n  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { \n    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / (segmentNumber - 1.0)));\n    // float arcRadio = d_segmentIndex / (segmentNumber - 1.0);\n    float count = styleMappingMat[3].b; // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n    float u = fract(arcRadio * count - animateSpeed * count);\n    // float u = fract(arcRadio * count - animateSpeed);\n    if(u_aimate.x == Animate) {\n      u = gl_FragColor.a/opacity;\n    }\n\n    float v = styleMappingMat[3].a; // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    vec4 pattern = texture2D(u_texture, uv);\n    \n    // \u8bbe\u7f6e\u8d34\u56fe\u548c\u5e95\u8272\u7684\u53e0\u52a0\u6a21\u5f0f\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      gl_FragColor = filterColor(gl_FragColor + pattern);\n    } else { // replace\n        pattern.a *= opacity;\n        if(gl_FragColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        gl_FragColor = filterColor(pattern);\n    }\n  } else {\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n\n  // gl_FragColor = filterColor(gl_FragColor);\n}',Za='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\n// varying vec2 v_normal;\n\nvarying float v_distance_ratio;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nvarying vec4 v_dash_array;\n\nuniform float u_icon_step: 100;\nuniform float u_line_texture: 0.0;\n\nattribute vec2 a_iconMapUV;\nvarying vec2 v_iconMapUV;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\n    return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n    return index / (segmentNumber - 1.);\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n    vec2 x = mix(source, target, ratio);\n    vec2 center = mix(source, target, 0.5);\n    float dSourceCenter = distance(source, center);\n    float dXCenter = distance(x, center);\n    return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n     float vertex_height = paraboloid(source, target, segmentRatio);\n\n    return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n    );\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size)/ 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\nfloat getAngularDist (vec2 source, vec2 target) {\n  vec2 delta = source - target;\n  vec2 sin_half_delta = sin(delta / 2.0);\n  float a =\n    sin_half_delta.y * sin_half_delta.y +\n    cos(source.y) * cos(target.y) *\n    sin_half_delta.x * sin_half_delta.x;\n  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));\n}\n\nvec2 midPoint(vec2 source, vec2 target) {\n  vec2 center = target - source;\n  float r = length(center);\n  float theta = atan(center.y, center.x);\n  float thetaOffset = 0.314;\n  float r2 = r / 2.0 / cos(thetaOffset);\n  float theta2 = theta + thetaOffset;\n  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);\n  return mid;\n}\nfloat bezier3(vec3 arr, float t) {\n  float ut = 1. - t;\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\n}\n\nvec2 interpolate (vec2 source, vec2 target, float angularDist, float t) {\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    vec2 mid = midPoint(source, target);\n    vec3 x = vec3(source.x, mid.x, target.x);\n    vec3 y = vec3(source.y, mid.y, target.y);\n    return vec2(bezier3(x ,t), bezier3(y,t));\n  }else {\n    if(abs(angularDist - PI) < 0.001) {\n      return (1.0 - t) * source + t * target;\n    }\n    float a = sin((1.0 - t) * angularDist) / sin(angularDist);\n    float b = sin(t * angularDist) / sin(angularDist);\n    vec2 sin_source = sin(source);\n    vec2 cos_source = cos(source);\n    vec2 sin_target = sin(target);\n    vec2 cos_target = cos(target);\n    float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;\n    float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;\n    float z = a * sin_source.y + b * sin_target.y;\n    return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));\n  }\n}\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636e\u96c6\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_color = a_Color;\n  vec2 source = radians(a_Instance.rg);\n  vec2 target = radians(a_Instance.ba);\n  float angularDist = getAngularDist(source, target);\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n\n  if(u_line_type == LineTypeDash) {\n    v_distance_ratio = segmentIndex / segmentNumber;\n    vec2 s = source;\n    vec2 t = target;\n    \n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      s = unProjCustomCoord(source);\n      t = unProjCustomCoord(target);\n    }\n    float total_Distance = pixelDistance(s, t) / 2.0 * PI;\n    total_Distance = total_Distance*16.0; // total_Distance*16.0 \u8c03\u6574\u9ed8\u8ba4\u7684\u6548\u679c\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;\n  }\n\n  if(u_aimate.x == Animate) {\n      v_distance_ratio = segmentIndex / segmentNumber;\n  }\n\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  v_distance_ratio = segmentIndex / segmentNumber;\n  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0));\n  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0));\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));\n  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));\n\n  styleMappingMat[3].g = a_Position.x; // \u8be5\u9876\u70b9\u5728\u5f27\u7ebf\u4e0a\u7684\u5206\u6bb5\u6392\u5e8f\n  if(LineTexture == u_line_texture) { // \u5f00\u542f\u8d34\u56fe\u6a21\u5f0f  \n    // float mapZoomScale = u_CoordinateSystem !== COORDINATE_SYSTEM_P20_2?10000000.0:1.0;\n    float d_arcDistrance = length(source - target);\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap\n      d_arcDistrance = d_arcDistrance * 1000000.0;\n    }\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox\n      d_arcDistrance = project_pixel_allmap(d_arcDistrance);\n    }\n    float d_pixelLen = project_pixel(u_icon_step)/8.0;\n    styleMappingMat[3].b = floor(d_arcDistrance/d_pixelLen); // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n\n    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7ebf\u6a2a\u5411\u504f\u79fb\u7684\u8ddd\u79bb\n    float linePixelSize = project_pixel(a_Size);  // \u5b9a\u70b9\u4f4d\u7f6e\u504f\u79fb\uff0c\u6309\u5730\u56fe\u7b49\u7ea7\u7f29\u653e\u540e\u7684\u8ddd\u79bb\n    styleMappingMat[3].a = lineOffsetWidth/linePixelSize;  // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n    v_iconMapUV = a_iconMapUV;\n  }\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(curr.xy + offset, curr.z, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));\n  }\n  setPickingColor(a_PickingColor);\n}\n\n',Qa={solid:0,dash:1},Ja=function(e){ke()(n,e);var t=Ya(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"texture",void 0),S()(Ae()(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:Bt["o"].NEAREST,min:Bt["o"].NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.sourceColor,i=e.targetColor,o=e.textureBlend,a=void 0===o?"normal":o,s=e.lineType,l=void 0===s?"solid":s,u=e.dashArray,c=void 0===u?[10,5]:u,f=e.lineTexture,p=void 0!==f&&f,d=e.iconStep,h=void 0===d?100:d,v=e.segmentNumber,m=void 0===v?30:v;2===c.length&&c.push(0,0),this.rendererService.getDirty()&&this.texture.bind();var g=0,y=[0,0,0,0],b=[0,0,0,0];if(r&&i&&(y=Object(q["M"])(r),b=Object(q["M"])(i),g=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var _=this.layer.getEncodedData(),E=this.calDataFrame(this.cellLength,_,this.cellProperties),x=E.data,w=E.width,S=E.height;this.rowCount=S,this.dataTexture=this.cellLength>0&&x.length>0?this.createTexture2D({flipY:!0,data:x,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:w,height:S}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(n)?n:1,u_textureBlend:"normal"===a?0:1,segmentNumber:m,u_line_type:Qa[l]||0,u_dash_array:c,u_texture:this.texture,u_line_texture:p?1:0,u_icon_step:h,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:g,u_sourceColor:y,u_targetColor:b}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(e){this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels(e)}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i;this.layer.buildLayerModel({moduleName:"lineGreatCircle",vertexShader:Za,fragmentShader:Ka,triangulation:si,depth:{enable:!1},blend:this.getBlend(),stencil:Object(q["A"])(r,o)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Bt["a"].Attribute,descriptor:{name:"a_Instance",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Bt["a"].Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(t,n,r,i){var o=e.iconService.getIconMap(),a=t.texture,s=o[a]||{x:0,y:0},l=s.x,u=s.y;return[l,u]}}})}}]),n}(yr);function $a(e){var t=es();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function es(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ts='#define COORDINATE_SYSTEM_LNGLAT 1.0        // mapbox\n#define COORDINATE_SYSTEM_LNGLAT_OFFSET 2.0 // mapbox offset\n#define COORDINATE_SYSTEM_VECTOR_TILE 3.0\n#define COORDINATE_SYSTEM_IDENTITY 4.0\n#define COORDINATE_SYSTEM_P20 5.0           // amap\n#define COORDINATE_SYSTEM_P20_OFFSET 6.0    // amap offset\n#define COORDINATE_SYSTEM_METER_OFFSET 7.0\n\n#define COORDINATE_SYSTEM_P20_2 8.0         // amap2.0\nuniform float u_CoordinateSystem;\nvarying vec4 v_color;\nuniform float u_arrow: 0.0;\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\n#pragma include "picking"\n\nvarying mat4 styleMappingMat;\nvoid main() {\n  float distanceAndIndex = styleMappingMat[0][3];\n  float miter = styleMappingMat[0][2];\n\n  float opacity = styleMappingMat[0][0];\n  float d_distance_ratio = styleMappingMat[3].r; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n\n\n  if(u_arrow > 0.0 && distanceAndIndex < 2.0) { // arrow\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) { \n      if(cross(vec3(styleMappingMat[1].rg, 0.0), vec3(styleMappingMat[1].ba, 0.0)).z < 0.0) { // amap\n        discard;\n      }\n    } else { // amap2 mapbox map\n      if(cross(vec3(styleMappingMat[1].rg, 0.0), vec3(styleMappingMat[1].ba, 0.0)).z > 0.0) { \n        discard;\n      }\n    }\n  } else { // line body\n    if(miter < 0.0) {\n      discard;\n    }\n  }\n\n\n  if(u_linearColor == 1.0) { // \u4f7f\u7528\u6e10\u53d8\u989c\u8272\n    gl_FragColor = mix(u_sourceColor, u_targetColor, d_distance_ratio);\n  } else { // \u4f7f\u7528 color \u65b9\u6cd5\u4f20\u5165\u7684\u989c\u8272\n    gl_FragColor = v_color;\n  }\n\n  gl_FragColor.a *= opacity; // \u5168\u5c40\u900f\u660e\u5ea6\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',ns='attribute float a_Miter;\nattribute vec4 a_Color;\nattribute vec2 a_Size;\nattribute vec3 a_Normal;\nattribute vec3 a_Position;\n\n// dash line\nattribute vec4 a_dirPoints;\nattribute vec3 a_DistanceAndIndex;\n\nuniform vec4 u_lineDir;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvarying vec4 v_color;\n\nuniform float u_linearColor: 0;\nuniform float u_arrow: 0.0;\nuniform float u_arrowHeight: 3.0;\nuniform float u_arrowWidth: 2.0;\nuniform float u_tailWidth: 1.0;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\nvec2 calculateArrow(vec2 offset) {\n  /*\n  * \u5728\u652f\u6301\u7bad\u5934\u7684\u65f6\u5019\uff0c\u7b2c\u4e8c\u3001\u7b2c\u4e09\u7ec4\u9876\u70b9\u662f\u989d\u5916\u63d2\u5165\u7528\u4e8e\u6784\u5efa\u9876\u70b9\u7684\n  */\n  float arrowFlag = -1.0;\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // \u9ad8\u5fb7 2.0 \u7684\u65cb\u8f6c\u89d2\u5ea6\u4e0d\u540c\n    arrowFlag = 1.0;\n  }\n  float pi = arrowFlag * 3.1415926/2.;\n  if(a_Miter < 0.) {\n    // \u6839\u636e\u7ebf\u7684\u4e24\u4fa7\u504f\u79fb\u4e0d\u540c\u3001\u65cb\u8f6c\u7684\u65b9\u5411\u76f8\u53cd\n    pi = -pi;\n  }\n  highp float angle_sin = sin(pi);\n  highp float angle_cos = cos(pi);\n  // \u8ba1\u7b97\u5782\u76f4\u4e0e\u7ebf\u65b9\u5411\u7684\u65cb\u8f6c\u77e9\u9635\n  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n  float arrowWidth = u_arrowWidth;\n  float arrowHeight = u_arrowHeight;\n\n  vec2 arrowOffset = vec2(0.0);\n  /*\n  * a_DistanceAndIndex.y \u7528\u4e8e\u6807\u8bb0\u5f53\u524d\u9876\u70b9\u5c5e\u4e8e\u54ea\u4e00\u7ec4\uff08\u4e24\u4e2a\u9876\u70b9\u4e00\u7ec4\uff0c\u6784\u6210\u7ebf\u7684\u5176\u5b9e\u662f\u77e9\u5f62\uff0c\u6700\u7b80\u9700\u8981\u56db\u4e2a\u9876\u70b9\u3001\u4e24\u7ec4\u9876\u70b9\u6784\u6210\uff09\n  */\n  if(a_DistanceAndIndex.y == 0.0) {\n    // \u7bad\u5934\u5c16\u90e8\n    offset = vec2(0.0);\n  } else if(a_DistanceAndIndex.y == 1.0) {\n    // \u7bad\u5934\u4e24\u4fa7\n    arrowOffset = rotation_matrix*(offset * arrowHeight);\n    offset += arrowOffset; // \u6cbf\u7ebf\u504f\u79fb\n    offset = offset * arrowWidth; // \u5782\u76f4\u7ebf\u5411\u5916\u504f\u79fb\uff08\u662f\u6784\u5efa\u7bad\u5934\u4e24\u4fa7\u7684\u9876\u70b9\uff09\n  } else if(a_DistanceAndIndex.y == 2.0 || a_DistanceAndIndex.y == 3.0 || a_DistanceAndIndex.y == 4.0) {\n    // \u504f\u79fb\u5176\u4f59\u7684\u70b9\u4f4d\uff08\u5c06\u957f\u5ea6\u8ba9\u4f4d\u7ed9\u7bad\u5934\uff09\n    arrowOffset = rotation_matrix*(offset * arrowHeight) * arrowWidth;\n    offset += arrowOffset;// \u6cbf\u7ebf\u504f\u79fb\n  }\n\n  return offset;\n}\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - a_Miter - a_DistanceAndIndex\n    0.0, 0.0, 0.0, 0.0, // originX - originY - vectorX - vectorY\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // distance_ratio/distance/pixelLen/texV\n  );\n  styleMappingMat[0][3] = a_DistanceAndIndex.y;\n  styleMappingMat[0][2] = a_Miter;\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n\n  v_color = a_Color;\n\n  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);\n  \n  vec2 offset = project_pixel(size.xy);\n\n  // styleMappingMat[1].rg = a_Position.xy + offset;\n\n  vec2 copyOffset = vec2(offset.x, offset.y);\n\n  float lineDistance = a_DistanceAndIndex.x;\n  float total_Distance = a_DistanceAndIndex.z;\n  float currentLinePointRatio = lineDistance / total_Distance;\n \n  if(u_arrow > 0.0) {\n      //  \u8ba1\u7b97\u7bad\u5934\n    offset = calculateArrow(offset);\n\n    if(a_DistanceAndIndex.y > 4.0) {\n      offset *= mix(1.0, u_tailWidth, currentLinePointRatio);\n    }\n  }\n\n  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // \u7ebf\u6a2a\u5411\u504f\u79fb\u7684\u8ddd\u79bb\uff08\u5411\u4e24\u4fa7\u504f\u79fb\u7684\u548c\uff09\n  float linePixelSize = project_pixel(a_Size.x) * 2.0;  // \u5b9a\u70b9\u4f4d\u7f6e\u504f\u79fb\uff0c\u6309\u5730\u56fe\u7b49\u7ea7\u7f29\u653e\u540e\u7684\u8ddd\u79bb \u5355\u4fa7 * 2\n\n  // \u8bbe\u7f6e\u6570\u636e\u96c6\u7684\u53c2\u6570\n  styleMappingMat[3][0] = currentLinePointRatio; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n  styleMappingMat[3][1] = lineDistance;       // \u5f53\u524d\u9876\u70b9\u7684\u8ddd\u79bb\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));\n\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));\n\n  float h = float(a_Position.z); // \u7ebf\u9876\u70b9\u7684\u9ad8\u5ea6 - \u517c\u5bb9\u4e0d\u5b58\u5728\u7b2c\u4e09\u4e2a\u6570\u503c\u7684\u60c5\u51b5 vertex height\n  float lineHeight = a_Size.y; // size \u7b2c\u4e8c\u4e2a\u53c2\u6570\u4ee3\u8868\u7684\u9ad8\u5ea6 [linewidth, lineheight]\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    lineHeight *= 0.2; // \u4fdd\u6301\u548c amap/mapbox \u4e00\u81f4\u7684\u6548\u679c\n    gl_Position = u_Mvp * (vec4(project_pos.xy + offset, lineHeight, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, lineHeight, 1.0));\n  }\n  \n  if(u_arrow > 0.0 && a_DistanceAndIndex.y < 2.0) {\n    vec2 startPoint = a_dirPoints.rg;\n    vec2 endPoint = a_dirPoints.ba;\n    vec4 t1 = project_position(vec4(startPoint, 0, 1.0));\n    vec4 t2 = project_position(vec4(endPoint, 0, 1.0));\n    // TODO\uff1a \u540e\u7eed\u4f18\u5316\u53ef\u4ee5\u628a\u4f4d\u7f6e\u8ba1\u7b97\u653e\u5728 cpu \u4e2d\u5b8c\u6210\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      vec2 p1 = (u_Mvp * vec4(t1.xy, 0.0, 1.0)).xy;\n      vec2 p2 = (u_Mvp * vec4(t2.xy, 0.0, 1.0)).xy;\n      styleMappingMat[1].rg = normalize(p1 - p2);\n      styleMappingMat[1].ba = normalize(gl_Position.xy - p2);\n    } else {\n      vec2 p1 = project_common_position_to_clipspace(vec4(t1.xy, 0.0, 1.0)).xy;\n      vec2 p2 = project_common_position_to_clipspace(vec4(t2.xy, 0.0, 1.0)).xy;\n      styleMappingMat[1].rg = normalize(p1 - p2);\n      styleMappingMat[1].ba = normalize(gl_Position.xy - p2);\n    }\n  }\n\n  setPickingColor(a_PickingColor);\n}\n',rs=function(e){ke()(n,e);var t=$a(n);function n(){return we()(this,n),t.apply(this,arguments)}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.sourceColor,i=e.targetColor,o=e.arrow,a=void 0===o?{enable:!1,arrowWidth:2,arrowHeight:3,tailWidth:1}:o,s=0,l=[0,0,0,0],u=[0,0,0,0];if(r&&i&&(l=Object(q["M"])(r),u=Object(q["M"])(i),s=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var c=this.layer.getEncodedData(),f=this.calDataFrame(this.cellLength,c,this.cellProperties),p=f.data,d=f.width,h=f.height;this.rowCount=h,this.dataTexture=this.cellLength>0&&p.length>0?this.createTexture2D({flipY:!0,data:p,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:d,height:h}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(n)?n:1,u_linearColor:s,u_sourceColor:l,u_targetColor:u,u_arrow:Number(a.enable),u_arrowHeight:a.arrowHeight||3,u_arrowWidth:a.arrowWidth||2,u_tailWidth:void 0===a.tailWidth?1:a.tailWidth}}},{key:"initModels",value:function(e){this.buildModels(e)}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"buildModels",value:function(){var e=Z()(J.a.mark((function e(t){var n,r,i,o,a,s,l,u,c,f;return J.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=this.layer.getLayerConfig(),r=n.mask,i=void 0!==r&&r,o=n.maskInside,a=void 0===o||o,s=n.depth,l=void 0!==s&&s,u=this.getShaders(),c=u.frag,f=u.vert,this.layer.triangulation=ei,this.layer.buildLayerModel({moduleName:"lineHalf",vertexShader:f,fragmentShader:c,triangulation:ei,depth:{enable:l},blend:this.getBlend(),stencil:Object(q["A"])(i,a)}).then((function(e){t([e])}))["catch"]((function(e){console.warn(e),t([])}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getShaders",value:function(){return{frag:ts,vert:ns,type:"normal"}}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"distanceAndIndex",type:Bt["a"].Attribute,descriptor:{name:"a_DistanceAndIndex",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r,i,o){return void 0===o?[n[3],10,n[5]]:[n[3],o,n[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"dirPoints",type:Bt["a"].Attribute,descriptor:{name:"a_dirPoints",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:4,update:function(e,t,n,r){var i=e.coordinates[0]||[0,0],o=e.coordinates[3]||[0,0];return[i[0],i[1],o[0],o[1]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0],o[1]]:[o,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Bt["a"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:Bt["a"].Attribute,descriptor:{name:"a_Miter",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){return[n[4]]}}})}}]),n}(yr);function is(e){var t=os();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function os(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var as='#define LineTypeSolid 0.0\nuniform float u_opacity : 1.0;\n\nvarying vec4 v_color;\n\n// dash\nvarying vec4 v_dash_array;\n\n#pragma include "picking"\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ]; // \u63a7\u5236\u8fd0\u52a8\n\nvarying mat4 styleMappingMat;\n// [animate, duration, interval, trailLength],\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float d_distance_ratio = styleMappingMat[3].r; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n  gl_FragColor = v_color;\n  gl_FragColor.a *= opacity; // \u5168\u5c40\u900f\u660e\u5ea6\n \n  float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n  if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n    // \u5b9e\u7ebf\u90e8\u5206\n  } else {\n    // \u865a\u7ebf\u90e8\u5206\n    discard;\n  };\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',ss='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n\nattribute float a_Miter;\nattribute vec4 a_Color;\nattribute vec2 a_Size;\nattribute vec3 a_Normal;\nattribute vec3 a_Position;\n\nattribute vec2 a_iconMapUV;\n\n// dash line\nattribute float a_Total_Distance;\nattribute vec2 a_DistanceAndIndex;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\n\nuniform float u_vertexScale: 1.0;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvarying vec4 v_color;\nvarying vec4 v_dash_array;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // distance_ratio/distance/pixelLen/texV\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;\n  v_color = a_Color;\n\n  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);\n  vec2 offset = project_pixel(size.xy);\n\n  // \u8bbe\u7f6e\u6570\u636e\u96c6\u7684\u53c2\u6570\n  styleMappingMat[3][0] = a_DistanceAndIndex.x / a_Total_Distance; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n  styleMappingMat[3][1] = a_DistanceAndIndex.x;       // \u5f53\u524d\u9876\u70b9\u7684\u8ddd\u79bb\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));\n\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(project_pos.xy + offset, project_pixel(a_Size.y), 1.0));\n  } else {\n    float lineHeight = a_Size.y;\n \n    // #define COORDINATE_SYSTEM_P20 5.0\n    // #define COORDINATE_SYSTEM_P20_OFFSET 6.0\n    // amap1.x\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n      // \u4fdd\u6301\u9ad8\u5ea6\u76f8\u5bf9\u4e0d\u53d8\n      lineHeight *= pow(2.0, 20.0 - u_Zoom);\n    }\n\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, lineHeight, 1.0));\n  }\n\n  setPickingColor(a_PickingColor);\n}\n',ls='#define Animate 0.0\n#define LineTexture 1.0\nuniform float u_blur : 0.99;\nuniform float u_opacity : 1.0;\nuniform float u_textureBlend;\n\nuniform float u_borderWidth: 0.0;\nuniform vec4 u_borderColor;\nvarying vec4 v_color;\n\n// line texture\nuniform float u_line_texture;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\n\nvarying vec2 v_iconMapUV;\n\n#pragma include "picking"\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ]; // \u63a7\u5236\u8fd0\u52a8\n\nvarying mat4 styleMappingMat;\n// [animate, duration, interval, trailLength],\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0; // \u8fd0\u52a8\u901f\u5ea6\n  float d_distance_ratio = styleMappingMat[3].r; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n  gl_FragColor = v_color;\n  // anti-alias\n  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));\n  gl_FragColor.a *= opacity; // \u5168\u5c40\u900f\u660e\u5ea6\n  if(u_aimate.x == Animate) {\n      animateSpeed = u_time / u_aimate.y;\n       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + animateSpeed);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      alpha = smoothstep(0., 1., alpha);\n      gl_FragColor.a *= alpha;\n  }\n\n  if(u_line_texture == LineTexture) { // while load texture\n    float aDistance = styleMappingMat[3].g;      // \u5f53\u524d\u9876\u70b9\u7684\u8ddd\u79bb\n    float d_texPixelLen = styleMappingMat[3].b;  // \u8d34\u56fe\u7684\u50cf\u7d20\u957f\u5ea6\uff0c\u6839\u636e\u5730\u56fe\u5c42\u7ea7\u7f29\u653e\n    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);\n    float v = styleMappingMat[3].a;  // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n    // v = max(smoothstep(0.95, 1.0, v), v);\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    \n    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, vec2(u, v)));\n    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, uv));\n     vec4 pattern = texture2D(u_texture, uv);\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      gl_FragColor += pattern;\n    } else { // replace\n        pattern.a *= opacity;\n        if(gl_FragColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        gl_FragColor = pattern;\n    }\n  } \n\n  float v = styleMappingMat[3].a;\n  float borderWidth = min(0.5, u_borderWidth);\n  // \u7ed8\u5236 border\n  if(borderWidth > 0.01) {\n    float borderOuterWidth = borderWidth/2.0;\n\n    if(v >= 1.0 - borderWidth || v <= borderWidth) {\n      if(v > borderWidth) {\n        float linear = smoothstep(0.0, 1.0, (v - (1.0 - borderWidth))/borderWidth);\n        gl_FragColor.rgb = mix(gl_FragColor.rgb, u_borderColor.rgb, linear);\n      } else if(v <= borderWidth) {\n        float linear = smoothstep(0.0, 1.0, v/borderWidth);\n        gl_FragColor.rgb = mix(u_borderColor.rgb, gl_FragColor.rgb, linear);\n      }\n    }\n\n    if(v < borderOuterWidth) {\n      gl_FragColor.a = mix(0.0, gl_FragColor.a, v/borderOuterWidth);\n    } else if(v > 1.0 - borderOuterWidth) {\n      gl_FragColor.a = mix(gl_FragColor.a, 0.0, (v - (1.0 - borderOuterWidth))/borderOuterWidth);\n    }\n  }\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',us='\n#define Animate 0.0\n\nattribute float a_Miter;\nattribute vec4 a_Color;\nattribute vec2 a_Size;\nattribute vec3 a_Normal;\nattribute vec3 a_Position;\n\nattribute vec2 a_iconMapUV;\n\n// dash line\nattribute float a_Total_Distance;\nattribute vec2 a_DistanceAndIndex;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nuniform float u_icon_step: 100;\n\nuniform float u_heightfixed: 0.0;\nuniform float u_vertexScale: 1.0;\nuniform float u_raisingHeight: 0.0;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvarying vec4 v_color;\n\n// texV \u7ebf\u56fe\u5c42 - \u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\uff08\u7ebf\u7684\u5bbd\u5ea6\u65b9\u5411\uff09\nvarying vec2 v_iconMapUV;\n\n\nuniform float u_linearColor: 0;\nuniform float u_arrow: 0.0;\nuniform float u_arrowHeight: 3.0;\nuniform float u_arrowWidth: 2.0;\nuniform float u_tailWidth: 1.0;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\nvec2 calculateArrow(vec2 offset) {\n  /*\n  * \u5728\u652f\u6301\u7bad\u5934\u7684\u65f6\u5019\uff0c\u7b2c\u4e8c\u3001\u7b2c\u4e09\u7ec4\u9876\u70b9\u662f\u989d\u5916\u63d2\u5165\u7528\u4e8e\u6784\u5efa\u9876\u70b9\u7684\n  */\n  float arrowFlag = -1.0;\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // \u9ad8\u5fb7 2.0 \u7684\u65cb\u8f6c\u89d2\u5ea6\u4e0d\u540c\n    arrowFlag = 1.0;\n  }\n  float pi = arrowFlag * 3.1415926/2.;\n  if(a_Miter < 0.) {\n    // \u6839\u636e\u7ebf\u7684\u4e24\u4fa7\u504f\u79fb\u4e0d\u540c\u3001\u65cb\u8f6c\u7684\u65b9\u5411\u76f8\u53cd\n    pi = -pi;\n  }\n  highp float angle_sin = sin(pi);\n  highp float angle_cos = cos(pi);\n  // \u8ba1\u7b97\u5782\u76f4\u4e0e\u7ebf\u65b9\u5411\u7684\u65cb\u8f6c\u77e9\u9635\n  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n  float arrowWidth = u_arrowWidth;\n  float arrowHeight = u_arrowHeight;\n\n  vec2 arrowOffset = vec2(0.0);\n  /*\n  * a_DistanceAndIndex.y \u7528\u4e8e\u6807\u8bb0\u5f53\u524d\u9876\u70b9\u5c5e\u4e8e\u54ea\u4e00\u7ec4\uff08\u4e24\u4e2a\u9876\u70b9\u4e00\u7ec4\uff0c\u6784\u6210\u7ebf\u7684\u5176\u5b9e\u662f\u77e9\u5f62\uff0c\u6700\u7b80\u9700\u8981\u56db\u4e2a\u9876\u70b9\u3001\u4e24\u7ec4\u9876\u70b9\u6784\u6210\uff09\n  */\n  if(a_DistanceAndIndex.y == 0.0) {\n    // \u7bad\u5934\u5c16\u90e8\n    offset = vec2(0.0);\n  } else if(a_DistanceAndIndex.y == 1.0) {\n    // \u7bad\u5934\u4e24\u4fa7\n    arrowOffset = rotation_matrix*(offset * arrowHeight);\n    offset += arrowOffset; // \u6cbf\u7ebf\u504f\u79fb\n    offset = offset * arrowWidth; // \u5782\u76f4\u7ebf\u5411\u5916\u504f\u79fb\uff08\u662f\u6784\u5efa\u7bad\u5934\u4e24\u4fa7\u7684\u9876\u70b9\uff09\n  } else if(a_DistanceAndIndex.y == 2.0 || a_DistanceAndIndex.y == 3.0 || a_DistanceAndIndex.y == 4.0) {\n    // \u504f\u79fb\u5176\u4f59\u7684\u70b9\u4f4d\uff08\u5c06\u957f\u5ea6\u8ba9\u4f4d\u7ed9\u7bad\u5934\uff09\n    arrowOffset = rotation_matrix*(offset * arrowHeight) * arrowWidth;\n    offset += arrowOffset;// \u6cbf\u7ebf\u504f\u79fb\n  }\n\n  return offset;\n}\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // distance_ratio/distance/pixelLen/texV\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  float d_texPixelLen;    // \u8d34\u56fe\u7684\u50cf\u7d20\u957f\u5ea6\uff0c\u6839\u636e\u5730\u56fe\u5c42\u7ea7\u7f29\u653e\n\n  v_iconMapUV = a_iconMapUV;\n  d_texPixelLen = project_float_pixel(u_icon_step);\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    d_texPixelLen *= 10.0;\n  }\n\n  v_color = a_Color;\n\n  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);\n  \n  vec2 offset = project_pixel(size.xy);\n\n  float lineDistance = a_DistanceAndIndex.x;\n  float currentLinePointRatio = lineDistance / a_Total_Distance;\n \n  if(u_arrow > 0.0) {\n      //  \u8ba1\u7b97\u7bad\u5934\n    offset = calculateArrow(offset);\n\n    if(a_DistanceAndIndex.y > 4.0) {\n      offset *= mix(1.0, u_tailWidth, currentLinePointRatio);\n    }\n  }\n\n  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // \u7ebf\u6a2a\u5411\u504f\u79fb\u7684\u8ddd\u79bb\uff08\u5411\u4e24\u4fa7\u504f\u79fb\u7684\u548c\uff09\n  float linePixelSize = project_pixel(a_Size.x) * 2.0;  // \u5b9a\u70b9\u4f4d\u7f6e\u504f\u79fb\uff0c\u6309\u5730\u56fe\u7b49\u7ea7\u7f29\u653e\u540e\u7684\u8ddd\u79bb \u5355\u4fa7 * 2\n  float texV = lineOffsetWidth/linePixelSize; // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n  // \u8bbe\u7f6e\u6570\u636e\u96c6\u7684\u53c2\u6570\n  styleMappingMat[3][0] = currentLinePointRatio; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n  styleMappingMat[3][1] = lineDistance;       // \u5f53\u524d\u9876\u70b9\u7684\u8ddd\u79bb\n  styleMappingMat[3][2] = d_texPixelLen;    // \u8d34\u56fe\u7684\u50cf\u7d20\u957f\u5ea6\uff0c\u6839\u636e\u5730\u56fe\u5c42\u7ea7\u7f29\u653e\n  styleMappingMat[3][3] = texV;             // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));\n\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));\n\n  float h = float(a_Position.z) * u_vertexScale; // \u7ebf\u9876\u70b9\u7684\u9ad8\u5ea6 - \u517c\u5bb9\u4e0d\u5b58\u5728\u7b2c\u4e09\u4e2a\u6570\u503c\u7684\u60c5\u51b5 vertex height\n  float lineHeight = a_Size.y; // size \u7b2c\u4e8c\u4e2a\u53c2\u6570\u4ee3\u8868\u7684\u9ad8\u5ea6 [linewidth, lineheight]\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    lineHeight *= 0.2; // \u4fdd\u6301\u548c amap/mapbox \u4e00\u81f4\u7684\u6548\u679c\n    h *= 0.2;\n    if(u_heightfixed < 1.0) {\n      lineHeight = project_pixel(a_Size.y);\n    }\n    gl_Position = u_Mvp * (vec4(project_pos.xy + offset, lineHeight + h + u_raisingHeight, 1.0));\n  } else {\n    // mapbox -  amap\n    \n    // \u517c\u5bb9 mapbox \u5728\u7ebf\u9ad8\u5ea6\u4e0a\u7684\u6548\u679c\u8868\u73b0\u57fa\u672c\u4e00\u81f4\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      // mapbox\n      // \u4fdd\u6301\u9ad8\u5ea6\u76f8\u5bf9\u4e0d\u53d8\n      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n      h *= mapboxZoomScale;\n      h += u_raisingHeight * mapboxZoomScale;\n      if(u_heightfixed > 0.0) {\n        lineHeight *= mapboxZoomScale;\n      }\n      \n    } else {\n      // amap\n      h += u_raisingHeight;\n      // lineHeight \u9876\u70b9\u504f\u79fb\u9ad8\u5ea6\n      if(u_heightfixed < 1.0) {\n        lineHeight *= pow(2.0, 20.0 - u_Zoom);\n      }\n    }\n\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, lineHeight + h, 1.0));\n  }\n\n  setPickingColor(a_PickingColor);\n}\n',cs='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\nuniform float u_blur : 0.99;\nuniform float u_line_type: 0.0;\nuniform float u_opacity : 1.0;\n\nvarying vec4 v_color;\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\n#pragma include "picking"\n\n\nvarying mat4 styleMappingMat;\n// [animate, duration, interval, trailLength],\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float d_distance_ratio = styleMappingMat[3].r; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n\n  if(u_linearColor == 1.0) { // \u4f7f\u7528\u6e10\u53d8\u989c\u8272\n    gl_FragColor = mix(u_sourceColor, u_targetColor, d_distance_ratio);\n  } else { // \u4f7f\u7528 color \u65b9\u6cd5\u4f20\u5165\u7684\u989c\u8272\n     gl_FragColor = v_color;\n  }\n\n  gl_FragColor.a *= opacity; // \u5168\u5c40\u900f\u660e\u5ea6\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',fs={solid:0,dash:1},ps=function(e){ke()(n,e);var t=is(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"texture",void 0),S()(Ae()(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:Bt["o"].NEAREST,min:Bt["o"].NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.sourceColor,i=e.targetColor,o=e.textureBlend,a=void 0===o?"normal":o,s=e.lineType,l=void 0===s?"solid":s,u=e.dashArray,c=void 0===u?[10,5,0,0]:u,f=e.lineTexture,p=void 0!==f&&f,d=e.iconStep,h=void 0===d?100:d,v=e.vertexHeightScale,m=void 0===v?20:v,g=e.borderWidth,y=void 0===g?0:g,b=e.borderColor,_=void 0===b?"#ccc":b,E=e.raisingHeight,x=void 0===E?0:E,w=e.heightfixed,S=void 0!==w&&w,O=e.arrow,C=void 0===O?{enable:!1,arrowWidth:2,arrowHeight:3,tailWidth:1}:O;2===c.length&&c.push(0,0),this.rendererService.getDirty()&&this.texture.bind();var A=0,P=[0,0,0,0],k=[0,0,0,0];if(r&&i&&(P=Object(q["M"])(r),k=Object(q["M"])(i),A=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var M=this.layer.getEncodedData(),T=this.calDataFrame(this.cellLength,M,this.cellProperties),L=T.data,I=T.width,D=T.height;this.rowCount=D,this.dataTexture=this.cellLength>0&&L.length>0?this.createTexture2D({flipY:!0,data:L,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:I,height:D}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(n)?n:1,u_textureBlend:"normal"===a?0:1,u_line_type:fs[l],u_dash_array:c,u_texture:this.texture,u_line_texture:p?1:0,u_icon_step:h,u_textSize:[1024,this.iconService.canvasHeight||128],u_borderWidth:y,u_borderColor:Object(q["M"])(_),u_linearColor:A,u_sourceColor:P,u_targetColor:k,u_heightfixed:Number(S),u_vertexScale:m,u_raisingHeight:Number(x),u_arrow:Number(C.enable),u_arrowHeight:C.arrowHeight||3,u_arrowWidth:C.arrowWidth||2,u_tailWidth:void 0===C.tailWidth?1:C.tailWidth}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(e){this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels(e)}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i,a=t.depth,s=void 0!==a&&a,l=t.workerEnabled,u=void 0!==l&&l,c=t.enablePicking,f=this.getShaders(),p=f.frag,d=f.vert,h=f.type;this.layer.triangulation=q["d"],this.layer.buildLayerModel({moduleName:"line"+h,vertexShader:d,fragmentShader:p,triangulation:q["d"],depth:{enable:s},blend:this.getBlend(),stencil:Object(q["A"])(r,o),workerEnabled:u,workerOptions:{modelType:"line"+h,enablePicking:c,iconMap:this.iconService.getIconMap()}}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"getShaders",value:function(){var e=this.layer.getLayerConfig(),t=e.sourceColor,n=e.targetColor,r=e.lineType;return"dash"===r?{frag:as,vert:ss,type:"Dash"}:t&&n?{frag:cs,vert:us,type:"Linear"}:{frag:ls,vert:us,type:""}}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"distanceAndIndex",type:Bt["a"].Attribute,descriptor:{name:"a_DistanceAndIndex",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,n,r,i,o){return void 0===o?[n[3],10]:[n[3],o]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:Bt["a"].Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){return[n[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0],o[1]]:[o,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Bt["a"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:Bt["a"].Attribute,descriptor:{name:"a_Miter",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){return[n[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Bt["a"].Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(t,n,r,i){var o=e.iconService.getIconMap(),a=t.texture,s=o[a]||{x:0,y:0},l=s.x,u=s.y;return[l,u]}}})}}]),n}(yr);function ds(e){var t=hs();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function hs(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var vs='uniform float u_opacity : 1.0;\nuniform sampler2D u_texture;\n\n#pragma include "picking"\n\nvarying mat4 styleMappingMat;\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float d_distance_ratio = styleMappingMat[3].r; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n\n  gl_FragColor = texture2D(u_texture, vec2(d_distance_ratio, 0.5));\n\n  gl_FragColor.a *= opacity; // \u5168\u5c40\u900f\u660e\u5ea6\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',ms='\nattribute float a_Miter;\nattribute vec2 a_Size;\nattribute vec3 a_Normal;\nattribute vec3 a_Position;\n\n// dash line\nattribute float a_Total_Distance;\nattribute vec2 a_DistanceAndIndex;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nuniform float u_heightfixed: 0.0;\nuniform float u_vertexScale: 1.0;\nuniform float u_raisingHeight: 0.0;\n\nuniform float u_opacity: 1.0;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // distance_ratio/distance/pixelLen/texV\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);\n  \n  vec2 offset = project_pixel(size.xy);\n\n  float lineDistance = a_DistanceAndIndex.x;\n  float currentLinePointRatio = lineDistance / a_Total_Distance;\n \n\n  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // \u7ebf\u6a2a\u5411\u504f\u79fb\u7684\u8ddd\u79bb\uff08\u5411\u4e24\u4fa7\u504f\u79fb\u7684\u548c\uff09\n  float linePixelSize = project_pixel(a_Size.x) * 2.0;  // \u5b9a\u70b9\u4f4d\u7f6e\u504f\u79fb\uff0c\u6309\u5730\u56fe\u7b49\u7ea7\u7f29\u653e\u540e\u7684\u8ddd\u79bb \u5355\u4fa7 * 2\n  float texV = lineOffsetWidth/linePixelSize; // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n  // \u8bbe\u7f6e\u6570\u636e\u96c6\u7684\u53c2\u6570\n  styleMappingMat[3][0] = currentLinePointRatio; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));\n\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));\n\n  float h = float(a_Position.z) * u_vertexScale; // \u7ebf\u9876\u70b9\u7684\u9ad8\u5ea6 - \u517c\u5bb9\u4e0d\u5b58\u5728\u7b2c\u4e09\u4e2a\u6570\u503c\u7684\u60c5\u51b5 vertex height\n  float lineHeight = a_Size.y; // size \u7b2c\u4e8c\u4e2a\u53c2\u6570\u4ee3\u8868\u7684\u9ad8\u5ea6 [linewidth, lineheight]\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    lineHeight *= 0.2; // \u4fdd\u6301\u548c amap/mapbox \u4e00\u81f4\u7684\u6548\u679c\n    h *= 0.2;\n    if(u_heightfixed < 1.0) {\n      lineHeight = project_pixel(a_Size.y);\n    }\n    gl_Position = u_Mvp * (vec4(project_pos.xy + offset, lineHeight + h + u_raisingHeight, 1.0));\n  } else {\n    // mapbox -  amap\n    \n    // \u517c\u5bb9 mapbox \u5728\u7ebf\u9ad8\u5ea6\u4e0a\u7684\u6548\u679c\u8868\u73b0\u57fa\u672c\u4e00\u81f4\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      // mapbox\n      // \u4fdd\u6301\u9ad8\u5ea6\u76f8\u5bf9\u4e0d\u53d8\n      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n      h *= mapboxZoomScale;\n      h += u_raisingHeight * mapboxZoomScale;\n      if(u_heightfixed > 0.0) {\n        lineHeight *= mapboxZoomScale;\n      }\n      \n    } else {\n      // amap\n      h += u_raisingHeight;\n      // lineHeight \u9876\u70b9\u504f\u79fb\u9ad8\u5ea6\n      if(u_heightfixed < 1.0) {\n        lineHeight *= pow(2.0, 20.0 - u_Zoom);\n      }\n    }\n\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, lineHeight + h, 1.0));\n  }\n\n  setPickingColor(a_PickingColor);\n}\n',gs=function(e){ke()(n,e);var t=ds(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"colorTexture",void 0),S()(Ae()(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;e.colorTexture&&e.colorTexture.destroy();var n=e.layer.getLayerConfig(),r=n.rampColors,i=Object(q["w"])(r);e.colorTexture=t({data:new Uint8Array(i.data),width:i.width,height:i.height,wrapS:Bt["o"].CLAMP_TO_EDGE,wrapT:Bt["o"].CLAMP_TO_EDGE,min:Bt["o"].NEAREST,mag:Bt["o"].NEAREST,flipY:!1})})),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.vertexHeightScale,i=void 0===r?20:r,o=e.raisingHeight,a=void 0===o?0:o,s=e.heightfixed,l=void 0!==s&&s;if(this.rendererService.getDirty()&&this.colorTexture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var u=this.layer.getEncodedData(),c=this.calDataFrame(this.cellLength,u,this.cellProperties),f=c.data,p=c.width,d=c.height;this.rowCount=d,this.dataTexture=this.cellLength>0&&f.length>0?this.createTexture2D({flipY:!0,data:f,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:p,height:d}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(n)?n:1,u_texture:this.colorTexture,u_heightfixed:Number(l),u_vertexScale:i,u_raisingHeight:Number(a)}}},{key:"initModels",value:function(e){this.updateTexture(),this.buildModels(e)}},{key:"clearModels",value:function(){var e,t;null===(e=this.colorTexture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy()}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i,a=t.depth,s=void 0!==a&&a;this.layer.triangulation=ei,this.layer.buildLayerModel({moduleName:"lineRampColors",vertexShader:ms,fragmentShader:vs,triangulation:ei,depth:{enable:s},blend:this.getBlend(),stencil:Object(q["A"])(r,o)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"distanceAndIndex",type:Bt["a"].Attribute,descriptor:{name:"a_DistanceAndIndex",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,n,r,i,o){return void 0===o?[n[3],10]:[n[3],o]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:Bt["a"].Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){return[n[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0],o[1]]:[o,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Bt["a"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:Bt["a"].Attribute,descriptor:{name:"a_Miter",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){return[n[4]]}}})}}]),n}(yr);function ys(e){var t=bs();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function bs(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _s="\nvarying vec4 v_color;\nvarying mat4 styleMappingMat;\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float d_distance_ratio = styleMappingMat[3].r; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n\n  gl_FragColor = v_color;\n  gl_FragColor.a *= opacity; // \u5168\u5c40\u900f\u660e\u5ea6\n}\n",Es="uniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\nvarying mat4 styleMappingMat;\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n\n  // styleMappingMat[3][0] \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n  gl_FragColor = mix(u_sourceColor, u_targetColor, styleMappingMat[3][0]);\n  gl_FragColor.a *= opacity; // \u5168\u5c40\u900f\u660e\u5ea6\n}\n",xs='attribute vec4 a_Color;\nattribute vec2 a_Size;\nattribute vec3 a_Position;\n\nattribute float a_Total_Distance;\nattribute float a_Distance;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nuniform float u_opacity: 1.0;\nuniform float u_vertexScale: 1.0;\n\n#pragma include "projection"\n\nvarying vec4 v_color;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // distance_ratio/distance/pixelLen/texV\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  \n  v_color = a_Color; \n  styleMappingMat[3][0] = a_Distance / a_Total_Distance;\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));\n\n  float h = float(a_Position.z) * u_vertexScale; // \u7ebf\u9876\u70b9\u7684\u9ad8\u5ea6 - \u517c\u5bb9\u4e0d\u5b58\u5728\u7b2c\u4e09\u4e2a\u6570\u503c\u7684\u60c5\u51b5\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(project_pos.xy, project_pixel(a_Size.y) + h * 0.2, 1.0));\n  } else {\n    float lineHeight = a_Size.y;\n    // \u517c\u5bb9 mapbox \u5728\u7ebf\u9ad8\u5ea6\u4e0a\u7684\u6548\u679c\u8868\u73b0\u57fa\u672c\u4e00\u81f4\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      // \u4fdd\u6301\u9ad8\u5ea6\u76f8\u5bf9\u4e0d\u53d8\n      h *= 2.0/pow(2.0, 20.0 - u_Zoom);\n    }\n\n    // #define COORDINATE_SYSTEM_P20 5.0\n    // #define COORDINATE_SYSTEM_P20_OFFSET 6.0\n    // amap1.x\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n      // \u4fdd\u6301\u9ad8\u5ea6\u76f8\u5bf9\u4e0d\u53d8\n      lineHeight *= pow(2.0, 20.0 - u_Zoom);\n    }\n\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, lineHeight + h, 1.0));\n  }\n}\n',ws=function(e){ke()(n,e);var t=ys(n);function n(){return we()(this,n),t.apply(this,arguments)}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.sourceColor,i=e.targetColor,o=e.vertexHeightScale,a=void 0===o?20:o,s=0,l=[0,0,0,0],u=[0,0,0,0];if(r&&i&&(l=Object(q["M"])(r),u=Object(q["M"])(i),s=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var c=this.layer.getEncodedData(),f=this.calDataFrame(this.cellLength,c,this.cellProperties),p=f.data,d=f.width,h=f.height;this.rowCount=h,this.dataTexture=this.cellLength>0&&p.length>0?this.createTexture2D({flipY:!0,data:p,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:d,height:h}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(n)?n:1,u_linearColor:s,u_sourceColor:l,u_targetColor:u,u_vertexScale:a}}},{key:"initModels",value:function(e){this.buildModels(e)}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"getShaders",value:function(){var e=this.layer.getLayerConfig(),t=e.sourceColor,n=e.targetColor;return t&&n?{frag:Es,vert:xs,type:"lineSimpleLinear"}:{frag:_s,vert:xs,type:"lineSimpleNormal"}}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i,a=this.getShaders(),s=a.frag,l=a.vert,u=a.type;this.layer.buildLayerModel({moduleName:u,vertexShader:l,fragmentShader:s,triangulation:ti,primitive:Bt["o"].LINES,depth:{enable:!1},blend:this.getBlend(),stencil:Object(q["A"])(r,o)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"distance",type:Bt["a"].Attribute,descriptor:{name:"a_Distance",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){return[n[3]]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:Bt["a"].Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){return[n[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0],o[1]]:[o,0]}}})}}]),n}(yr);function Ss(e){var t=Os();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Os(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Cs='#define Animate 0.0\n#define LineTexture 1.0\n\nuniform float u_opacity : 1.0;\nuniform float u_textureBlend;\nuniform float u_iconStepCount;\n\nvarying vec4 v_color;\n\n// line texture\nuniform float u_line_texture;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\n\nvarying vec2 v_iconMapUV;\nvarying float v_blur;\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\n#pragma include "picking"\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ]; // \u63a7\u5236\u8fd0\u52a8\n\nvarying mat4 styleMappingMat;\n// [animate, duration, interval, trailLength],\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0; // \u8fd0\u52a8\u901f\u5ea6\n  float d_distance_ratio = styleMappingMat[3].r; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n  float v = styleMappingMat[3].a;\n\n  if(u_linearColor == 1.0) { // \u4f7f\u7528\u6e10\u53d8\u989c\u8272\n    gl_FragColor = mix(u_sourceColor, u_targetColor, v);\n  } else { // \u4f7f\u7528 color \u65b9\u6cd5\u4f20\u5165\u7684\u989c\u8272\n     gl_FragColor = v_color;\n  }\n\n  gl_FragColor.a *= opacity; // \u5168\u5c40\u900f\u660e\u5ea6\n  if(u_aimate.x == Animate) {\n      animateSpeed = u_time / u_aimate.y;\n       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + animateSpeed);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      alpha = smoothstep(0., 1., alpha);\n      gl_FragColor.a *= alpha;\n  }\n\n  if(u_line_texture == LineTexture) { // while load texture\n    float aDistance = styleMappingMat[3].g;      // \u5f53\u524d\u9876\u70b9\u7684\u8ddd\u79bb\n    float d_texPixelLen = styleMappingMat[3].b;  // \u8d34\u56fe\u7684\u50cf\u7d20\u957f\u5ea6\uff0c\u6839\u636e\u5730\u56fe\u5c42\u7ea7\u7f29\u653e\n    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);\n    float v = styleMappingMat[3].a;  // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n    // \u8ba1\u7b97\u7eb9\u7406\u95f4\u9694 start\n    float flag = 0.0;\n    if(u > 1.0/u_iconStepCount) {\n      flag = 1.0;\n    }\n    u = fract(u*u_iconStepCount);\n    // \u8ba1\u7b97\u7eb9\u7406\u95f4\u9694 end\n\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    vec4 pattern = texture2D(u_texture, uv);\n\n    // Tip: \u5224\u65ad\u7eb9\u7406\u95f4\u9694\n    if(flag > 0.0) {\n      pattern = vec4(0.0);\n    }\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      gl_FragColor = filterColor(gl_FragColor + pattern);\n    } else { // replace\n        pattern.a *= opacity;\n        if(gl_FragColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        gl_FragColor = filterColor(pattern);\n    }\n  }\n  \n\n  // blur - AA\n  if(v < v_blur) {\n    gl_FragColor.a = mix(0.0, gl_FragColor.a, v/v_blur);\n  } else if(v > 1.0 - v_blur) {\n    gl_FragColor.a = mix(gl_FragColor.a, 0.0, (v - (1.0 - v_blur))/v_blur);\n  }\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',As='#define Animate 0.0\n\nattribute float a_Miter;\nattribute vec4 a_Color;\nattribute vec2 a_Size;\nattribute vec3 a_Normal;\nattribute vec3 a_Position;\nattribute vec2 a_iconMapUV;\n\nattribute float a_Total_Distance;\nattribute float a_Distance;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nuniform float u_icon_step: 100;\nuniform float u_heightfixed;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvarying vec4 v_color;\nvarying float v_blur;\n\n// texV \u7ebf\u56fe\u5c42 - \u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\uff08\u7ebf\u7684\u5bbd\u5ea6\u65b9\u5411\uff09\nvarying vec2 v_iconMapUV;\n\nuniform float u_linearColor: 0;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "light"\n#pragma include "styleMappingCalOpacity"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // distance_ratio/distance/pixelLen/texV\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  float d_distance_ratio; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n  float d_texPixelLen;    // \u8d34\u56fe\u7684\u50cf\u7d20\u957f\u5ea6\uff0c\u6839\u636e\u5730\u56fe\u5c42\u7ea7\u7f29\u653e\n\n  v_iconMapUV = a_iconMapUV;\n  if(u_heightfixed < 1.0) {     // \u9ad8\u5ea6\u968f zoom \u8c03\u6574\n    d_texPixelLen = project_pixel(u_icon_step);\n  } else {\n    d_texPixelLen = u_icon_step;\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    d_texPixelLen *= 10.0;\n  }\n\n  if(u_aimate.x == Animate || u_linearColor == 1.0) {\n      d_distance_ratio = a_Distance / a_Total_Distance;\n  }\n\n  float miter = (a_Miter + 1.0)/2.0;\n  // \u8bbe\u7f6e\u6570\u636e\u96c6\u7684\u53c2\u6570\n  styleMappingMat[3][0] = d_distance_ratio; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n  styleMappingMat[3][1] = a_Distance;       // \u5f53\u524d\u9876\u70b9\u7684\u8ddd\u79bb\n  styleMappingMat[3][2] = d_texPixelLen;    // \u8d34\u56fe\u7684\u50cf\u7d20\u957f\u5ea6\uff0c\u6839\u636e\u5730\u56fe\u5c42\u7ea7\u7f29\u653e\n  styleMappingMat[3][3] = miter;          // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c 0 - 1\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));\n\n  float originSize = a_Size.x;  // \u56fa\u5b9a\u9ad8\u5ea6\n  if(u_heightfixed < 1.0) {     // \u9ad8\u5ea6\u968f zoom \u8c03\u6574\n    originSize = project_float_pixel(a_Size.x);\n  }\n\n  float wallHeight = originSize * miter;\n  float lightWeight = calc_lighting(vec4(project_pos.xy, wallHeight, 1.0));\n\n  v_blur = min(project_float_pixel(2.0) / originSize, 0.05);\n\n  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w);\n  // v_color = a_Color;\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(project_pos.xy, wallHeight, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, wallHeight, 1.0));\n  }\n\n  setPickingColor(a_PickingColor);\n}\n',Ps=function(e){ke()(n,e);var t=Ss(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"texture",void 0),S()(Ae()(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:Bt["o"].NEAREST,min:Bt["o"].NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.sourceColor,i=e.targetColor,o=e.textureBlend,a=void 0===o?"normal":o,s=e.heightfixed,l=void 0!==s&&s,u=e.lineTexture,c=void 0!==u&&u,f=e.iconStep,p=void 0===f?100:f,d=e.iconStepCount,h=void 0===d?1:d;this.rendererService.getDirty()&&this.texture.bind();var v=0,m=[0,0,0,0],g=[0,0,0,0];if(r&&i&&(m=Object(q["M"])(r),g=Object(q["M"])(i),v=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var y=this.layer.getEncodedData(),b=this.calDataFrame(this.cellLength,y,this.cellProperties),_=b.data,E=b.width,x=b.height;this.rowCount=x,this.dataTexture=this.cellLength>0&&_.length>0?this.createTexture2D({flipY:!0,data:_,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:E,height:x}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_heightfixed:Number(l),u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(n)?n:1,u_textureBlend:"normal"===a?0:1,u_texture:this.texture,u_line_texture:c?1:0,u_iconStepCount:h,u_icon_step:p,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:v,u_sourceColor:m,u_targetColor:g}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(e){this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels(e)}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(e){this.layer.buildLayerModel({moduleName:"lineWall",vertexShader:As,fragmentShader:Cs,triangulation:ei,depth:{enable:!1},blend:this.getBlend()}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"distance",type:Bt["a"].Attribute,descriptor:{name:"a_Distance",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){return[n[3]]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:Bt["a"].Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){return[n[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0],o[1]]:[o,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Bt["a"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:Bt["a"].Attribute,descriptor:{name:"a_Miter",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){return[n[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Bt["a"].Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(t,n,r,i){var o=e.iconService.getIconMap(),a=t.texture,s=o[a]||{x:0,y:0},l=s.x,u=s.y;return[l,u]}}})}}]),n}(yr),ks={arc:Ma,arc3d:Fa,greatcircle:Ja,wall:Ps,line:ps,halfLine:rs,simple:ws,linearline:gs,vectorline:_a,tileLine:Ai,earthArc3d:qa},Ms=ks;function Ts(e){var t=Ls();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Ls(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Is=function(e){ke()(n,e);var t=Ts(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"type","LineLayer"),e}return Oe()(n,[{key:"buildModels",value:function(){var e=this,t=this.getModelType();this.layerModel=new Ms[t](this),this.layerModel.initModels((function(t){e.models=t,e.renderLayers()}))}},{key:"rebuildModels",value:function(){var e=this;this.layerModel.buildModels((function(t){return e.models=t}))}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var e=this.getModelType(),t={line:{},linearline:{},simple:{},wall:{},arc3d:{blend:"additive"},arc:{blend:"additive"},greatcircle:{blend:"additive"},vectorline:{},tileLine:{},halfLine:{},earthArc3d:{}};return t[e]}},{key:"getModelType",value:function(){var e;if(this.layerType)return this.layerType;if("mvt"===this.layerSource.parser.type)return"vectorline";var t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=null===t||void 0===t||null===(e=t.scale)||void 0===e?void 0:e.field;return n||"line"}}]),n}(fr);function Ds(e){var t=Rs();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Rs(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Ns='varying vec4 v_color;\nuniform float u_opacity: 1.0;\n\nuniform float u_pickLight: 0.0;\n\n#pragma include "picking"\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\nuniform float u_opacitylinear: 0.0;\nuniform float u_opacitylinear_dir: 1.0;\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float lightWeight = styleMappingMat[1][3];\n  float barLinearZ = styleMappingMat[2][3];\n\n  // \u8bbe\u7f6e\u5706\u67f1\u7684\u5e95\u8272\n  if(u_linearColor == 1.0) { // \u4f7f\u7528\u6e10\u53d8\u989c\u8272\n    gl_FragColor = mix(u_sourceColor, u_targetColor, barLinearZ);\n    gl_FragColor.rgb *= lightWeight;\n  } else { // \u4f7f\u7528 color \u65b9\u6cd5\u4f20\u5165\u7684\u989c\u8272\n     gl_FragColor = v_color;\n  }\n\n  // \u5e94\u7528\u900f\u660e\u5ea6\n  gl_FragColor.a *= opacity;\n\n  // \u5f00\u542f\u900f\u660e\u5ea6\u6e10\u53d8\n  if(u_opacitylinear > 0.0) {\n    gl_FragColor.a *= u_opacitylinear_dir > 0.0 ? (1.0 - barLinearZ): barLinearZ;\n  }\n\n  // picking\n  if(u_pickLight > 0.0) {\n    gl_FragColor = filterColorAlpha(gl_FragColor, lightWeight);\n  } else {\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n}\n',js='precision highp float;\n\n#define pi 3.1415926535\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec3 a_Position;\nattribute vec3 a_Pos;\nattribute vec4 a_Color;\nattribute vec3 a_Size;\nattribute vec3 a_Normal;\n\nuniform float u_heightfixed: 0.0; // \u9ed8\u8ba4\u4e0d\u56fa\u5b9a\nuniform float u_globel;\nuniform float u_r;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nvarying vec4 v_color;\n\nuniform float u_opacity : 1;\nuniform float u_lightEnable: 1;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nfloat getYRadian(float x, float z) {\n  if(x > 0.0 && z > 0.0) {\n    return atan(x/z);\n  } else if(x > 0.0 && z <= 0.0){\n    return atan(-z/x) + pi/2.0;\n  } else if(x <= 0.0 && z <= 0.0) {\n    return  pi + atan(x/z); //atan(x/z) + \n  } else {\n    return atan(z/-x) + pi*3.0/2.0;\n  }\n}\n\nfloat getXRadian(float y, float r) {\n  return atan(y/r);\n}\n\nvoid main() {\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA - lightWeight\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1] - linearZ(\u5782\u76f4\u65b9\u5411 0 - 1 \u7684\u503c)\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  vec3 size = a_Size * a_Position;\n\n  // a_Position.z \u662f\u5728\u6784\u5efa\u7f51\u683c\u7684\u65f6\u5019\u4f20\u5165\u7684\u6807\u51c6\u503c 0 - 1\uff0c\u5728\u63d2\u503c\u5668\u63d2\u503c\u53ef\u4ee5\u83b7\u53d6 0\uff5e1 \u7ebf\u6027\u6e10\u53d8\u7684\u503c\n  styleMappingMat[2][3] =  a_Position.z;\n\n  vec3 offset = size; // \u63a7\u5236\u5706\u67f1\u4f53\u7684\u5927\u5c0f - \u4ece\u6807\u51c6\u5355\u4f4d\u5706\u67f1\u4f53\u8fdb\u884c\u504f\u79fb\n  if(u_heightfixed < 1.0) { // \u5706\u67f1\u4f53\u4e0d\u56fa\u5b9a\u9ad8\u5ea6\n    \n    if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n      // P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n      offset = offset * pow(2.0, (19.0 - u_Zoom));\n    }\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n      // P20_2 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf3\n      offset = offset * pow(2.0, (19.0 - 3.0 - u_Zoom));\n    }\n  } else {// \u5706\u67f1\u4f53\u56fa\u5b9a\u9ad8\u5ea6 \uff08 \u5904\u7406 mapbox \uff09\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      offset *= 4.0/pow(2.0, 21.0 - u_Zoom);\n    }\n  }\n\n\n  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));\n\n  // u_r \u63a7\u5236\u5706\u67f1\u7684\u751f\u957f\n  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);\n\n  // \u5706\u67f1\u5149\u7167\u6548\u679c\n  float lightWeight = 1.0;\n  if(u_lightEnable > 0.0) { // \u53d6\u6d88\u4e09\u5143\u8868\u8fbe\u5f0f\uff0c\u589e\u5f3a\u5065\u58ee\u6027\n    lightWeight = calc_lighting(pos);\n  }\n  styleMappingMat[1][3] = lightWeight;\n\n  v_color =vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  \n  // \u5728\u5730\u7403\u6a21\u5f0f\u4e0b\uff0c\u5c06\u539f\u672c\u5782\u76f4\u4e8e xy \u5e73\u9762\u7684\u5706\u67f1\u8c03\u6574\u59ff\u6001\u5230\u9002\u5e94\u5706\u7684\u89d2\u5ea6\n  //\u65cb\u8f6c\u77e9\u9635mx\uff0c\u521b\u5efa\u7ed5x\u8f74\u65cb\u8f6c\u77e9\u9635\n  float r = sqrt(a_Pos.z*a_Pos.z + a_Pos.x*a_Pos.x);\n  float xRadian = getXRadian(a_Pos.y, r);\n  float xcos = cos(xRadian);//\u6c42\u89e3\u65cb\u8f6c\u89d2\u5ea6\u4f59\u5f26\u503c\n  float xsin = sin(xRadian);//\u6c42\u89e3\u65cb\u8f6c\u89d2\u5ea6\u6b63\u5f26\u503c\n  mat4 mx = mat4(\n    1,0,0,0,  \n    0,xcos,-xsin,0,  \n    0,xsin,xcos,0,  \n    0,0,0,1);\n\n  //\u65cb\u8f6c\u77e9\u9635my\uff0c\u521b\u5efa\u7ed5y\u8f74\u65cb\u8f6c\u77e9\u9635\n  float yRadian = getYRadian(a_Pos.x, a_Pos.z);\n  float ycos = cos(yRadian);//\u6c42\u89e3\u65cb\u8f6c\u89d2\u5ea6\u4f59\u5f26\u503c\n  float ysin = sin(yRadian);//\u6c42\u89e3\u65cb\u8f6c\u89d2\u5ea6\u6b63\u5f26\u503c\n  mat4 my = mat4(\n    ycos,0,-ysin,0,  \n    0,1,0,0,  \n    ysin,0,ycos,0,  \n    0,0,0,1);\n\n  gl_Position = u_ViewProjectionMatrix * vec4(( my * mx *  vec4(a_Position * a_Size, 1.0)).xyz + a_Pos, 1.0);\n  \n\n  setPickingColor(a_PickingColor);\n}\n',Fs=function(e){ke()(n,e);var t=Ds(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"raiseCount",0),S()(Ae()(e),"raiserepeat",0),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption,n=void 0===t?{enable:!1,speed:.01,repeat:!1}:t,r=e.opacity,i=void 0===r?1:r,o=e.sourceColor,a=e.targetColor,s=e.pickLight,l=void 0!==s&&s,u=e.heightfixed,c=void 0!==u&&u,f=e.opacityLinear,p=void 0===f?{enable:!1,dir:"up"}:f,d=e.lightEnable,h=void 0===d||d;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:i})){this.judgeStyleAttributes({opacity:i});var v=this.layer.getEncodedData(),m=this.calDataFrame(this.cellLength,v,this.cellProperties),g=m.data,y=m.width,b=m.height;this.rowCount=b,this.dataTexture=this.cellLength>0&&g.length>0?this.createTexture2D({flipY:!0,data:g,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:y,height:b}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}var _=0,E=[0,0,0,0],x=[0,0,0,0];if(o&&a&&(E=Object(q["M"])(o),x=Object(q["M"])(a),_=1),this.raiseCount<1&&this.raiserepeat>0&&n.enable){var w=n.speed,S=void 0===w?.01:w;n.repeat;this.raiseCount+=S,this.raiseCount>=1&&(this.raiserepeat>1?(this.raiseCount=0,this.raiserepeat--):this.raiseCount=1)}return{u_pickLight:Number(l),u_heightfixed:Number(c),u_r:n.enable&&this.raiserepeat>0?this.raiseCount:1,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(i)?i:1,u_linearColor:_,u_sourceColor:E,u_targetColor:x,u_opacitylinear:Number(p.enable),u_opacitylinear_dir:"up"===p.dir?1:0,u_lightEnable:Number(h)}}},{key:"initModels",value:function(e){this.buildModels(e)}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.animateOption.repeat,r=void 0===n?1:n;this.raiserepeat=r,this.layer.buildLayerModel({moduleName:"pointEarthExtrude",vertexShader:js,fragmentShader:Ns,triangulation:Jr,depth:{enable:!0},cull:{enable:!0,face:Object(q["y"])(this.mapService.version)},blend:this.getBlend()}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r){var i=e.size;if(i){var o=[];return Array.isArray(i)&&(o=2===i.length?[i[0],i[0],i[1]]:i),Array.isArray(i)||(o=[i,i,i]),o}return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Bt["a"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:Bt["a"].Attribute,descriptor:{name:"a_Pos",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t){var n=Object(q["q"])(e.coordinates);return Sr([n[0],n[1]])}}})}}]),n}(yr);function Bs(e){var t=Us();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Us(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var zs="uniform float u_additive;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\n#pragma include \"sdf_2d\"\n#pragma include \"picking\"\n\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  vec4 textrueStroke = vec4(\n    styleMappingMat[1][0],\n    styleMappingMat[1][1],\n    styleMappingMat[1][2],\n    styleMappingMat[1][3]\n  );\n\n  float opacity = styleMappingMat[0][0];\n  float stroke_opacity = styleMappingMat[0][1];\n  float strokeWidth = styleMappingMat[0][2];\n  vec4 strokeColor = textrueStroke == vec4(0) ? v_color : textrueStroke;\n\n  lowp float antialiasblur = v_data.z;\n  float r = v_radius / (v_radius + strokeWidth);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  } else if (shape == 1) {\n    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  } else if (shape == 2) {\n    outer_df = sdBox(v_data.xy, vec2(1.));\n    inner_df = sdBox(v_data.xy, vec2(r));\n  } else if (shape == 3) {\n    outer_df = sdPentagon(v_data.xy, 0.8);\n    inner_df = sdPentagon(v_data.xy, r * 0.8);\n  } else if (shape == 4) {\n    outer_df = sdHexagon(v_data.xy, 0.8);\n    inner_df = sdHexagon(v_data.xy, r * 0.8);\n  } else if (shape == 5) {\n    outer_df = sdOctogon(v_data.xy, 1.0);\n    inner_df = sdOctogon(v_data.xy, r);\n  } else if (shape == 6) {\n    outer_df = sdHexagram(v_data.xy, 0.52);\n    inner_df = sdHexagram(v_data.xy, r * 0.52);\n  } else if (shape == 7) {\n    outer_df = sdRhombus(v_data.xy, vec2(1.0));\n    inner_df = sdRhombus(v_data.xy, vec2(r));\n  } else if (shape == 8) {\n    outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  }\n\n  if(outer_df > antialiasblur + 0.018) discard;\n\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\n\n  float color_t = strokeWidth < 0.01 ? 0.0 : smoothstep(\n    antialiasblur,\n    0.0,\n    inner_df\n  );\n\n  if(strokeWidth < 0.01) {\n    gl_FragColor = vec4(v_color.rgb, v_color.a * opacity);\n  } else {\n    gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), strokeColor * stroke_opacity, color_t);\n  }\n\n  if(u_additive > 0.0) {\n    gl_FragColor *= opacity_t;\n    gl_FragColor = filterColorAlpha(gl_FragColor, gl_FragColor.a);\n  } else {\n    gl_FragColor.a *= opacity_t;\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n}\n",Hs='attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Extrude;\nattribute float a_Size;\nattribute float a_Shape;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\nuniform float u_opacity : 1;\nuniform float u_stroke_opacity : 1;\nuniform float u_stroke_width : 2;\nuniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\nuniform vec2 u_offsets;\n\nuniform float u_blur : 0.0;\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n#pragma include "styleMappingCalStrokeOpacity"\n#pragma include "styleMappingCalStrokeWidth"\n\n#pragma include "projection"\n#pragma include "picking"\n\n\nvoid main() {\n  vec3 extrude = a_Extrude;\n  float shape_type = a_Shape;\n  /*\n  *  setPickingSize \u8bbe\u7f6e\u62fe\u53d6\u5927\u5c0f\n  */\n  float newSize = setPickingSize(a_Size);\n  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 strokeOpacityAndOffset = calStrokeOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][1] = strokeOpacityAndOffset.r;\n  textureOffset = strokeOpacityAndOffset.g;\n\n  vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][2] = strokeWidthAndOffset.r;\n  textureOffset = strokeWidthAndOffset.g;\n\n  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);\n  if(hasStroke()) {\n    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R\n    textureOffset += 1.0;\n\n    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G\n    textureOffset += 1.0;\n\n    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B\n    textureOffset += 1.0;\n\n    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A\n    textureOffset += 1.0;\n  } else {\n    if(u_stroke_color == vec4(0.0)) {\n      styleMappingMat[1][0] = v_color.r;\n      styleMappingMat[1][1] = v_color.g;\n      styleMappingMat[1][2] = v_color.b;\n      styleMappingMat[1][3] = v_color.a;\n    } else {\n      styleMappingMat[1][0] = u_stroke_color.r;\n      styleMappingMat[1][1] = u_stroke_color.g;\n      styleMappingMat[1][2] = u_stroke_color.b;\n      styleMappingMat[1][3] = u_stroke_color.a;\n    }\n  }\n\n  // cal style mapping\n\n  // unpack color(vec2)\n  v_color = a_Color;\n\n  // radius(16-bit)\n  v_radius = newSize;\n\n  // TODO: billboard\n  // anti-alias\n  //  float antialiased_blur = -max(u_blur, antialiasblur);\n  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur);\n\n  // TODP: /abs(extrude.x) \u662f\u4e3a\u4e86\u517c\u5bb9\u5730\u7403\u6a21\u5f0f\n  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);\n\n\n  gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1, 1.0);\n\n  setPickingColor(a_PickingColor);\n}\n',Vs=function(e){ke()(n,e);var t=Bs(n);function n(){return we()(this,n),t.apply(this,arguments)}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.strokeOpacity,i=void 0===r?1:r,o=e.strokeWidth,a=void 0===o?0:o,s=e.stroke,l=void 0===s?"rgba(0,0,0,0)":s,u=e.offsets,c=void 0===u?[0,0]:u,f=e.blend,p=e.blur,d=void 0===p?0:p;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,strokeOpacity:i,strokeWidth:a,stroke:l,offsets:c})){this.judgeStyleAttributes({opacity:n,strokeOpacity:i,strokeWidth:a,stroke:l,offsets:c});var h=this.layer.getEncodedData(),v=this.calDataFrame(this.cellLength,h,this.cellProperties),m=v.data,g=v.width,y=v.height;this.rowCount=y,this.dataTexture=this.cellLength>0&&m.length>0?this.createTexture2D({flipY:!0,data:m,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:g,height:y}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_blur:d,u_additive:"additive"===f?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(n)?n:1,u_stroke_opacity:Tn()(i)?i:1,u_stroke_width:Tn()(a)?a:1,u_stroke_color:this.getStrokeColor(l),u_offsets:this.isOffsetStatic(c)?c:[0,0]}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption,n=void 0===t?{enable:!1}:t;return{u_aimate:this.animateOption2Array(n),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(e){this.buildModels(e)}},{key:"buildModels",value:function(e){this.layer.triangulation=Qr,this.layer.buildLayerModel({moduleName:"pointEarthFill",vertexShader:Hs,fragmentShader:zs,triangulation:Qr,depth:{enable:!0},blend:this.getBlend()}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"animateOption2Array",value:function(e){return[e.enable?0:1,e.speed||1,e.rings||3,0]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Bt["a"].Attribute,descriptor:{name:"a_Extrude",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r){var i=Et()(n,3),o=i[0],a=i[1],s=i[2],l=Er["c"].fromValues(0,0,1),u=Er["c"].fromValues(o,0,s),c=o>=0?Er["c"].angle(l,u):2*Math.PI-Er["c"].angle(l,u),f=2*Math.PI-Math.asin(a/100),p=Er["a"].create();Er["a"].rotateY(p,p,c),Er["a"].rotateX(p,p,f);var d=Er["c"].fromValues(1,1,0);Er["c"].transformMat4(d,d,p),Er["c"].normalize(d,d);var h=Er["c"].fromValues(-1,1,0);Er["c"].transformMat4(h,h,p),Er["c"].normalize(h,h);var v=Er["c"].fromValues(-1,-1,0);Er["c"].transformMat4(v,v,p),Er["c"].normalize(v,v);var m=Er["c"].fromValues(1,-1,0);Er["c"].transformMat4(m,m,p),Er["c"].normalize(m,m);var g=[].concat(C()(d),C()(h),C()(v),C()(m)),y=r%4*3;return[g[y],g[y+1],g[y+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?5:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Bt["a"].Attribute,descriptor:{name:"a_Shape",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(t,n,r,i){var o=t.shape,a=void 0===o?2:o,s=e.layer.getLayerConfig().shape2d,l=s.indexOf(a);return[l]}}})}}]),n}(yr);function Gs(e){var t=Ws();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Ws(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var qs='varying vec4 v_color;\nuniform float u_opacity: 1.0;\n\nuniform float u_pickLight: 0.0;\n\n#pragma include "picking"\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\nuniform float u_opacitylinear: 0.0;\nuniform float u_opacitylinear_dir: 1.0;\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float lightWeight = styleMappingMat[1][3];\n  float barLinearZ = styleMappingMat[2][3];\n\n  // \u8bbe\u7f6e\u5706\u67f1\u7684\u5e95\u8272\n  if(u_linearColor == 1.0) { // \u4f7f\u7528\u6e10\u53d8\u989c\u8272\n    gl_FragColor = mix(u_sourceColor, u_targetColor, barLinearZ);\n    gl_FragColor.rgb *= lightWeight;\n  } else { // \u4f7f\u7528 color \u65b9\u6cd5\u4f20\u5165\u7684\u989c\u8272\n     gl_FragColor = v_color;\n  }\n\n  // \u5e94\u7528\u900f\u660e\u5ea6\n  gl_FragColor.a *= opacity;\n\n  // \u5f00\u542f\u900f\u660e\u5ea6\u6e10\u53d8\n  if(u_opacitylinear > 0.0) {\n    gl_FragColor.a *= u_opacitylinear_dir > 0.0 ? (1.0 - barLinearZ): barLinearZ;\n  }\n\n  // picking\n  if(u_pickLight > 0.0) {\n    gl_FragColor = filterColorAlpha(gl_FragColor, lightWeight);\n  } else {\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n}\n',Ys='precision highp float;\n\n#define pi 3.1415926535\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec3 a_Position;\nattribute vec3 a_Pos;\nattribute vec4 a_Color;\nattribute vec3 a_Size;\nattribute vec3 a_Normal;\n\nuniform float u_heightfixed: 0.0; // \u9ed8\u8ba4\u4e0d\u56fa\u5b9a\nuniform float u_r;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nvarying vec4 v_color;\n\nuniform float u_opacity : 1;\nuniform float u_lightEnable: 1;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nfloat getYRadian(float x, float z) {\n  if(x > 0.0 && z > 0.0) {\n    return atan(x/z);\n  } else if(x > 0.0 && z <= 0.0){\n    return atan(-z/x) + pi/2.0;\n  } else if(x <= 0.0 && z <= 0.0) {\n    return  pi + atan(x/z); //atan(x/z) + \n  } else {\n    return atan(z/-x) + pi*3.0/2.0;\n  }\n}\n\nfloat getXRadian(float y, float r) {\n  return atan(y/r);\n}\n\nvoid main() {\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA - lightWeight\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1] - linearZ(\u5782\u76f4\u65b9\u5411 0 - 1 \u7684\u503c)\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  vec3 size = a_Size * a_Position;\n\n  // a_Position.z \u662f\u5728\u6784\u5efa\u7f51\u683c\u7684\u65f6\u5019\u4f20\u5165\u7684\u6807\u51c6\u503c 0 - 1\uff0c\u5728\u63d2\u503c\u5668\u63d2\u503c\u53ef\u4ee5\u83b7\u53d6 0\uff5e1 \u7ebf\u6027\u6e10\u53d8\u7684\u503c\n  styleMappingMat[2][3] =  a_Position.z;\n\n  vec3 offset = size; // \u63a7\u5236\u5706\u67f1\u4f53\u7684\u5927\u5c0f - \u4ece\u6807\u51c6\u5355\u4f4d\u5706\u67f1\u4f53\u8fdb\u884c\u504f\u79fb\n  if(u_heightfixed < 1.0) { // \u5706\u67f1\u4f53\u4e0d\u56fa\u5b9a\u9ad8\u5ea6\n    \n    if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n      // P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n      offset = offset * pow(2.0, (19.0 - u_Zoom));\n    }\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n      // P20_2 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf3\n      offset = offset * pow(2.0, (19.0 - 3.0 - u_Zoom));\n    }\n  } else {// \u5706\u67f1\u4f53\u56fa\u5b9a\u9ad8\u5ea6 \uff08 \u5904\u7406 mapbox \uff09\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      offset *= 4.0/pow(2.0, 21.0 - u_Zoom);\n    }\n  }\n\n\n  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));\n\n  // u_r \u63a7\u5236\u5706\u67f1\u7684\u751f\u957f\n  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);\n\n  // \u5706\u67f1\u5149\u7167\u6548\u679c\n  float lightWeight = 1.0;\n  if(u_lightEnable > 0.0) { // \u53d6\u6d88\u4e09\u5143\u8868\u8fbe\u5f0f\uff0c\u589e\u5f3a\u5065\u58ee\u6027\n    lightWeight = calc_lighting(pos);\n  }\n  styleMappingMat[1][3] = lightWeight;\n\n  v_color =vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  // gl_Position = project_common_position_to_clipspace(pos);\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * pos;\n  } else {\n    gl_Position = project_common_position_to_clipspace(pos);\n  }\n\n  setPickingColor(a_PickingColor);\n}\n',Xs=function(e){ke()(n,e);var t=Gs(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"raiseCount",0),S()(Ae()(e),"raiserepeat",0),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption,n=void 0===t?{enable:!1,speed:.01,repeat:!1}:t,r=e.opacity,i=void 0===r?1:r,o=e.sourceColor,a=e.targetColor,s=e.pickLight,l=void 0!==s&&s,u=e.heightfixed,c=void 0!==u&&u,f=e.opacityLinear,p=void 0===f?{enable:!1,dir:"up"}:f,d=e.lightEnable,h=void 0===d||d;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:i})){this.judgeStyleAttributes({opacity:i});var v=this.layer.getEncodedData(),m=this.calDataFrame(this.cellLength,v,this.cellProperties),g=m.data,y=m.width,b=m.height;this.rowCount=b,this.dataTexture=this.cellLength>0&&g.length>0?this.createTexture2D({flipY:!0,data:g,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:y,height:b}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}var _=0,E=[0,0,0,0],x=[0,0,0,0];if(o&&a&&(E=Object(q["M"])(o),x=Object(q["M"])(a),_=1),this.raiseCount<1&&this.raiserepeat>0&&n.enable){var w=n.speed,S=void 0===w?.01:w;n.repeat;this.raiseCount+=S,this.raiseCount>=1&&(this.raiserepeat>1?(this.raiseCount=0,this.raiserepeat--):this.raiseCount=1)}return{u_pickLight:Number(l),u_heightfixed:Number(c),u_r:n.enable&&this.raiserepeat>0?this.raiseCount:1,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(i)?i:1,u_linearColor:_,u_sourceColor:E,u_targetColor:x,u_opacitylinear:Number(p.enable),u_opacitylinear_dir:"up"===p.dir?1:0,u_lightEnable:Number(h)}}},{key:"initModels",value:function(e){this.buildModels(e)}},{key:"buildModels",value:function(){var e=Z()(J.a.mark((function e(t){var n,r,i,o,a;return J.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=this.layer.getLayerConfig(),r=n.depth,i=void 0===r||r,o=n.animateOption.repeat,a=void 0===o?1:o,this.raiserepeat=a,this.layer.buildLayerModel({moduleName:"pointExtrude",vertexShader:Ys,fragmentShader:qs,triangulation:Jr,blend:this.getBlend(),cull:{enable:!0,face:Object(q["y"])(this.mapService.version)},depth:{enable:i}}).then((function(e){t([e])}))["catch"]((function(e){console.warn(e),t([])}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r){var i=e.size;if(i){var o=[];return Array.isArray(i)&&(o=2===i.length?[i[0],i[0],i[1]]:i),Array.isArray(i)||(o=[i,i,i]),o}return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Bt["a"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:Bt["a"].Attribute,descriptor:{name:"a_Pos",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t){var n=Object(q["q"])(e.coordinates);return[n[0],n[1],0]}}})}}]),n}(yr);function Ks(e){var t=Zs();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Zs(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Qs="\nuniform float u_additive;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\n#pragma include \"sdf_2d\"\n#pragma include \"picking\"\n\nvoid main() {\n\n  vec4 textrueStroke = vec4(\n    styleMappingMat[1][0],\n    styleMappingMat[1][1],\n    styleMappingMat[1][2],\n    styleMappingMat[1][3]\n  );\n\n  float opacity = styleMappingMat[0][0];\n\n  lowp float antialiasblur = v_data.z;\n  float r = v_radius / (v_radius);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  \n  outer_df = sdCircle(v_data.xy, 1.0);\n  inner_df = sdCircle(v_data.xy, r);\n\n\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\n\n  float color_t = smoothstep(\n    antialiasblur,\n    0.0,\n    inner_df\n  );\n  float PI = 3.14159;\n  float N_RINGS = 3.0;\n  float FREQ = 1.0;\n\n gl_FragColor = vec4(v_color.rgb, v_color.a * opacity);\n\n  float d = length(v_data.xy);\n  if(d > 0.5) {\n    discard;\n  }\n  float intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_aimate.z - u_aimate.y * u_time)), 0.0, 1.0);\n  \n  // TODO: \u6839\u636e\u53e0\u52a0\u6a21\u5f0f\u9009\u62e9\u6548\u679c\n  if(u_additive > 0.0) {\n    gl_FragColor *= intensity;\n    // TODO: \u4f18\u5316\u6c34\u6ce2\u70b9 blend additive \u6a21\u5f0f\u4e0b\u6709\u7684\u62fe\u53d6\u6548\u679c \n    gl_FragColor = filterColorAlpha(gl_FragColor, gl_FragColor.a);\n  } else {\n    gl_FragColor = vec4(gl_FragColor.xyz, gl_FragColor.a * intensity);\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n}\n",Js="uniform float u_additive;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\n#pragma include \"sdf_2d\"\n#pragma include \"picking\"\n\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  vec4 textrueStroke = vec4(\n    styleMappingMat[1][0],\n    styleMappingMat[1][1],\n    styleMappingMat[1][2],\n    styleMappingMat[1][3]\n  );\n\n  float opacity = styleMappingMat[0][0];\n  float stroke_opacity = styleMappingMat[0][1];\n  float strokeWidth = styleMappingMat[0][2];\n  vec4 strokeColor = textrueStroke == vec4(0) ? v_color : textrueStroke;\n\n  lowp float antialiasblur = v_data.z;\n  float r = v_radius / (v_radius + strokeWidth);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  } else if (shape == 1) {\n    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  } else if (shape == 2) {\n    outer_df = sdBox(v_data.xy, vec2(1.));\n    inner_df = sdBox(v_data.xy, vec2(r));\n  } else if (shape == 3) {\n    outer_df = sdPentagon(v_data.xy, 0.8);\n    inner_df = sdPentagon(v_data.xy, r * 0.8);\n  } else if (shape == 4) {\n    outer_df = sdHexagon(v_data.xy, 0.8);\n    inner_df = sdHexagon(v_data.xy, r * 0.8);\n  } else if (shape == 5) {\n    outer_df = sdOctogon(v_data.xy, 1.0);\n    inner_df = sdOctogon(v_data.xy, r);\n  } else if (shape == 6) {\n    outer_df = sdHexagram(v_data.xy, 0.52);\n    inner_df = sdHexagram(v_data.xy, r * 0.52);\n  } else if (shape == 7) {\n    outer_df = sdRhombus(v_data.xy, vec2(1.0));\n    inner_df = sdRhombus(v_data.xy, vec2(r));\n  } else if (shape == 8) {\n    outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  }\n\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\n\n  float color_t = strokeWidth < 0.01 ? 0.0 : smoothstep(\n    antialiasblur,\n    0.0,\n    inner_df\n  );\n\n  if(strokeWidth < 0.01) {\n    gl_FragColor = vec4(v_color.rgb, v_color.a * opacity);\n  } else {\n    gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), strokeColor * stroke_opacity, color_t);\n  }\n\n  if(u_additive > 0.0) {\n    gl_FragColor *= opacity_t;\n    gl_FragColor = filterColorAlpha(gl_FragColor, gl_FragColor.a);\n  } else {\n    gl_FragColor.a *= opacity_t;\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n}\n",$s='attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Extrude;\nattribute float a_Size;\nattribute float a_Shape;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_meter2coord;\nuniform float u_meteryScale;\nuniform float u_isMeter;\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\nuniform float u_opacity : 1;\nuniform float u_stroke_opacity : 1;\nuniform float u_stroke_width : 2;\nuniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\nuniform vec2 u_offsets;\n\nuniform float u_blur : 0.0;\nuniform float u_raisingHeight: 0.0;\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n#pragma include "styleMappingCalStrokeOpacity"\n#pragma include "styleMappingCalStrokeWidth"\n\n#pragma include "projection"\n#pragma include "picking"\n\n\nvoid main() {\n  vec3 extrude = a_Extrude;\n  float shape_type = a_Shape;\n  /*\n  *  setPickingSize \u8bbe\u7f6e\u62fe\u53d6\u5927\u5c0f\n  *  u_meter2coord \u5728\u7b49\u9762\u79ef\u5927\u5c0f\u7684\u65f6\u5019\u8bbe\u7f6e\u5355\u4f4d\n  */\n  float newSize = setPickingSize(a_Size) * u_meter2coord;\n  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 strokeOpacityAndOffset = calStrokeOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][1] = strokeOpacityAndOffset.r;\n  textureOffset = strokeOpacityAndOffset.g;\n\n  vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][2] = strokeWidthAndOffset.r;\n  textureOffset = strokeWidthAndOffset.g;\n\n  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);\n  if(hasStroke()) {\n    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R\n    textureOffset += 1.0;\n\n    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G\n    textureOffset += 1.0;\n\n    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B\n    textureOffset += 1.0;\n\n    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A\n    textureOffset += 1.0;\n  } else {\n    if(u_stroke_color == vec4(0.0)) {\n      styleMappingMat[1][0] = v_color.r;\n      styleMappingMat[1][1] = v_color.g;\n      styleMappingMat[1][2] = v_color.b;\n      styleMappingMat[1][3] = v_color.a;\n    } else {\n      styleMappingMat[1][0] = u_stroke_color.r;\n      styleMappingMat[1][1] = u_stroke_color.g;\n      styleMappingMat[1][2] = u_stroke_color.b;\n      styleMappingMat[1][3] = u_stroke_color.a;\n    }\n  }\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping\n\n  // unpack color(vec2)\n  v_color = a_Color;\n\n  // radius(16-bit)\n  v_radius = newSize;\n\n  // TODO: billboard\n  // anti-alias\n  //  float antialiased_blur = -max(u_blur, antialiasblur);\n  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur);\n\n  vec2 offset = (extrude.xy * (newSize + u_stroke_width) + textrueOffsets);\n  vec3 aPosition = a_Position;\n  if(u_isMeter < 1.0) {\n    // \u4e0d\u4ee5\u7c73\u4e3a\u5b9e\u9645\u5355\u4f4d\n    offset = project_pixel(offset);\n  } else {\n    // \u4ee5\u7c73\u4e3a\u5b9e\u9645\u5355\u4f4d\n    if(newSize * pow(2.0, u_Zoom) < 48.0) {\n      antialiasblur = max(antialiasblur, -0.05);\n    } else if(newSize * pow(2.0, u_Zoom) < 128.0) {\n      antialiasblur = max(antialiasblur, -0.6/pow(u_Zoom, 2.0));\n    } else {\n      antialiasblur = max(antialiasblur, -0.8/pow(u_Zoom, 2.0));\n    }\n    \n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      aPosition.x += offset.x / u_meteryScale;\n      aPosition.y += offset.y;\n      offset = vec2(0.0);\n    }\n  }\n\n  // TODP: /abs(extrude.x) \u662f\u4e3a\u4e86\u517c\u5bb9\u5730\u7403\u6a21\u5f0f\n  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);\n\n\n  // vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n  vec4 project_pos = project_position(vec4(aPosition.xy, 0.0, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n\n  float raiseHeight = u_raisingHeight;\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n    raiseHeight = u_raisingHeight * mapboxZoomScale;\n  }\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * vec4(project_pos.xy + offset, raiseHeight, 1.0);\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, u_raisingHeight, 1.0));\n  }\n \n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',el=function(e){ke()(n,e);var t=Ks(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"meter2coord",1),S()(Ae()(e),"meteryScale",1),S()(Ae()(e),"isMeter",!1),S()(Ae()(e),"unit","l7size"),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.strokeOpacity,i=void 0===r?1:r,o=e.strokeWidth,a=void 0===o?0:o,s=e.stroke,l=void 0===s?"rgba(0,0,0,0)":s,u=e.offsets,c=void 0===u?[0,0]:u,f=e.blend,p=e.blur,d=void 0===p?0:p,h=e.raisingHeight,v=void 0===h?0:h,m=e.unit,g=void 0===m?"l7size":m;if(this.updateUnit(g),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,strokeOpacity:i,strokeWidth:a,stroke:l,offsets:c})){this.judgeStyleAttributes({opacity:n,strokeOpacity:i,strokeWidth:a,stroke:l,offsets:c});var y=this.layer.getEncodedData(),b=this.calDataFrame(this.cellLength,y,this.cellProperties),_=b.data,E=b.width,x=b.height;this.rowCount=x,this.dataTexture=this.cellLength>0&&_.length>0?this.createTexture2D({flipY:!0,data:_,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:E,height:x}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_raisingHeight:Number(v),u_meter2coord:this.meter2coord,u_meteryScale:this.meteryScale,u_isMeter:Number(this.isMeter),u_blur:d,u_additive:"additive"===f?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(n)?n:1,u_stroke_opacity:Tn()(i)?i:1,u_stroke_width:Tn()(a)?a:1,u_stroke_color:this.getStrokeColor(l),u_offsets:this.isOffsetStatic(c)?c:[0,0]}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption,n=void 0===t?{enable:!1}:t;return{u_aimate:this.animateOption2Array(n),u_time:this.layer.getLayerAnimateTime()}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),q["e"])}},{key:"initModels",value:function(e){this.updateUnit("l7size"),this.buildModels(e)}},{key:"calMeter2Coord",value:function(){var e=Et()(this.layer.getSource().extent,4),t=e[0],n=e[1],r=e[2],i=e[3],o=[(t+r)/2,(n+i)/2],a=this.mapService.version,s=null===q["a"]||void 0===q["a"]?void 0:q["a"].mapboxgl;if(a===jn["a"].MAPBOX&&null!==s&&void 0!==s&&s.MercatorCoordinate){var l=s.MercatorCoordinate.fromLngLat({lng:o[0],lat:o[1]},0),u=l.meterInMercatorCoordinateUnits(),c=new s.MercatorCoordinate(l.x-u,l.y,l.z),f=c.toLngLat(),p=new s.MercatorCoordinate(l.x,l.y-u,l.z),d=p.toLngLat();return this.meter2coord=o[0]-f.lng,void(this.meteryScale=(d.lat-o[1])/this.meter2coord)}var h=this.mapService.meterToCoord(o,[t,n]),v=this.mapService.meterToCoord(o,[r===t?r+.1:r,i===n?n+.1:i]);this.meter2coord=(h+v)/2,Boolean(this.meter2coord)||(this.meter2coord=7.70681090738883)}},{key:"buildModels",value:function(){var e=Z()(J.a.mark((function e(t){var n,r,i,o,a,s,l,u,c,f,p,d,h,v,m;return J.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=this.layer.getLayerConfig(),r=n.mask,i=void 0!==r&&r,o=n.maskInside,a=void 0===o||o,s=n.animateOption,l=void 0===s?{enable:!1}:s,u=n.workerEnabled,c=void 0!==u&&u,f=n.enablePicking,p=n.shape2d,d=this.getShaders(l),h=d.frag,v=d.vert,m=d.type,this.layer.triangulation=q["e"],this.layer.buildLayerModel({moduleName:m,vertexShader:v,fragmentShader:h,triangulation:q["e"],depth:{enable:!1},blend:this.getBlend(),stencil:Object(q["A"])(i,a),workerEnabled:c,workerOptions:{modelType:m,enablePicking:f,shape2d:p}}).then((function(e){t([e])}))["catch"]((function(e){console.warn(e),t([])}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getShaders",value:function(e){if(!e.enable)return{frag:Js,vert:$s,type:"pointFill"};switch(e.type){case"wave":return{frag:Qs,vert:$s,type:"pointWave"};default:return{frag:Qs,vert:$s,type:"pointWave"}}}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"animateOption2Array",value:function(e){return[e.enable?0:1,e.speed||1,e.rings||3,0]}},{key:"registerBuiltinAttributes",value:function(){var e=this.layer.getLayerConfig().shape2d;this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Bt["a"].Attribute,descriptor:{name:"a_Extrude",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r){var i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],o=r%4*3;return[i[o],i[o+1],i[o+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?5:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Bt["a"].Attribute,descriptor:{name:"a_Shape",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(t,n,r,i){var o=t.shape,a=void 0===o?2:o,s=e.indexOf(a);return[s]}}})}},{key:"updateUnit",value:function(e){var t=this.mapService.version;this.unit!==e&&("meter"!==this.unit&&"meter"===e&&t!==jn["a"].L7MAP&&t!==jn["a"].GLOBEL?(this.isMeter=!0,this.calMeter2Coord()):"meter"===this.unit&&"meter"!==e&&(this.isMeter=!1,this.meter2coord=1),this.unit=e)}}]),n}(yr);function tl(e){var t=nl();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function nl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var rl='uniform sampler2D u_texture;\nuniform vec2 u_textSize;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "sdf_2d"\n#pragma include "picking"\nvarying vec2 v_uv; // \u672c\u8eab\u7684 uv \u5750\u6807\nvarying vec2 v_Iconuv;\n\nvoid main() {\n\n  float opacity = styleMappingMat[0][0];\n\n  vec2 pos = v_Iconuv / u_textSize + v_uv / u_textSize * 64.;\n  gl_FragColor = texture2D(u_texture, pos);\n  gl_FragColor.a *= opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',il='attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Extrude;\nattribute float a_Size;\nattribute vec2 a_Uv;\nattribute float a_Rotate;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform mat2 u_RotateMatrix;\nuniform float u_isMeter;\n\nvarying vec2 v_uv; // \u672c\u8eab\u7684 uv \u5750\u6807\nvarying vec2 v_Iconuv; // icon \u8d34\u56fe\u7684 uv \u5750\u6807\n\nuniform float u_opacity : 1;\nuniform vec2 u_offsets;\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  vec3 extrude = a_Extrude;\n\n  v_uv = (a_Extrude.xy + 1.0)/2.0;\n  v_uv.y = 1.0 - v_uv.y;\n  v_Iconuv = a_Uv;\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - empty - empty - empty\n    0.0, 0.0, 0.0, 0.0, // empty - empty - empty - empty\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping\n\n  highp float angle_sin = sin(a_Rotate);\n  highp float angle_cos = cos(a_Rotate);\n  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n  // vec2 offset = (u_RotateMatrix * extrude.xy * (a_Size) + textrueOffsets);\n  vec2 offset = (rotation_matrix * u_RotateMatrix * extrude.xy * (a_Size) + textrueOffsets);\n  vec3 aPosition = a_Position;\n  if(u_isMeter < 1.0) {\n    // \u4e0d\u4ee5\u7c73\u4e3a\u5b9e\u9645\u5355\u4f4d\n    offset = project_pixel(offset);\n  } else {\n    // \u4ee5\u7c73\u4e3a\u5b9e\u9645\u5355\u4f4d\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      aPosition.xy += offset;\n      offset.x = 0.0;\n      offset.y = 0.0;\n    }\n  }\n\n\n  // vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n  vec4 project_pos = project_position(vec4(aPosition.xy, 0.0, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * vec4(project_pos.xy + offset, 0.0, 1.0);\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n  }\n \n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',ol=function(e){ke()(n,e);var t=tl(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"meter2coord",1),S()(Ae()(e),"texture",void 0),S()(Ae()(e),"isMeter",!1),S()(Ae()(e),"radian",0),S()(Ae()(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),void e.layer.renderLayers();e.texture=t({data:e.iconService.getCanvas(),mag:Bt["o"].LINEAR,min:Bt["o"].LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128,mipmap:!0})})),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.offsets,i=void 0===r?[0,0]:r,o=e.rotation;this.rendererService.getDirty()&&this.texture.bind();var a=1;if("GAODE2.x"!==this.mapService.version&&"GAODE1.x"!==this.mapService.version||(a=-1),this.radian=void 0!==o?a*Math.PI*o/180:a*Math.PI*(this.mapService.getRotation()%360)/180,this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,offsets:i})){this.judgeStyleAttributes({opacity:n,offsets:i});var s=this.layer.getEncodedData(),l=this.calDataFrame(this.cellLength,s,this.cellProperties),u=l.data,c=l.width,f=l.height;this.rowCount=f,this.dataTexture=this.cellLength>0&&u.length>0?this.createTexture2D({flipY:!0,data:u,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:c,height:f}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_isMeter:Number(this.isMeter),u_RotateMatrix:new Float32Array([Math.cos(this.radian),Math.sin(this.radian),-Math.sin(this.radian),Math.cos(this.radian)]),u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128],u_opacity:Tn()(n)?n:1,u_offsets:this.isOffsetStatic(i)?i:[0,0]}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),Zr)}},{key:"initModels",value:function(e){this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture);var t=this.layer.getLayerConfig(),n=t.unit,r=void 0===n?"l7size":n,i=this.mapService.version;"meter"===r&&i!==jn["a"].L7MAP&&i!==jn["a"].GLOBEL&&(this.isMeter=!0,this.calMeter2Coord()),this.buildModels(e)}},{key:"calMeter2Coord",value:function(){var e=Et()(this.layer.getSource().extent,4),t=e[0],n=e[1],r=e[2],i=e[3],o=[(t+r)/2,(n+i)/2],a=this.mapService.version;if(a===jn["a"].MAPBOX&&window.mapboxgl.MercatorCoordinate){var s=window.mapboxgl.MercatorCoordinate.fromLngLat({lng:o[0],lat:o[1]},0),l=1,u=l*s.meterInMercatorCoordinateUnits(),c=new window.mapboxgl.MercatorCoordinate(s.x-u,s.y,s.z),f=c.toLngLat();this.meter2coord=o[0]-f.lng}else{var p=this.mapService.meterToCoord(o,[t,n]),d=this.mapService.meterToCoord(o,[r===t?r+.1:r,i===n?n+.1:i]);this.meter2coord=(p+d)/2,Boolean(this.meter2coord)||(this.meter2coord=7.70681090738883)}}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i;this.layer.buildLayerModel({moduleName:"pointFillImage",vertexShader:il,fragmentShader:rl,triangulation:Zr,depth:{enable:!1},blend:this.getBlend(),stencil:Object(q["A"])(r,o),cull:{enable:!0,face:Object(q["y"])(this.mapService.version)}}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"clearModels",value:function(){var e,t;this.iconService.off("imageUpdate",this.updateTexture),null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy()}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"rotate",type:Bt["a"].Attribute,descriptor:{name:"a_Rotate",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){var i=e.rotate,o=void 0===i?0:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Bt["a"].Attribute,descriptor:{name:"a_Uv",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(t,n,r,i){var o=e.iconService.getIconMap(),a=t.shape,s=o[a]||{x:0,y:0},l=s.x,u=s.y;return[l,u]}}}),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Bt["a"].Attribute,descriptor:{name:"a_Extrude",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r){var i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],o=r%4*3;return[i[o],i[o+1],i[o+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(t,n,r,i){var o=t.size,a=void 0===o?5:o;return Array.isArray(a)?[a[0]*e.meter2coord]:[a*e.meter2coord]}}})}}]),n}(yr);function al(e){var t=sl();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function sl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ll='\nuniform sampler2D u_texture;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform vec2 u_textSize;\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\n\nvoid main(){\n      float opacity = styleMappingMat[0][0];\n      float size = styleMappingMat[1][0];\n      vec2 pos = v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;\n      vec4 textureColor;\n\n      // Y = 0.299R + 0.587G + 0.114B // \u4eae\u5ea6\u63d0\u53d6\n     \n      textureColor = texture2D(u_texture, pos);\n\n      // Tip: \u53bb\u9664\u8fb9\u7f18\u90e8\u5206 mipmap \u5bfc\u81f4\u7684\u6df7\u5408\u53d8\u6697\n      float fragmengTocenter = distance(vec2(0.5), gl_PointCoord);\n      if(fragmengTocenter >= 0.5) {\n            float luma = 0.299 * textureColor.r + 0.587 * textureColor.g + 0.114 * textureColor.b;\n            textureColor.a *= luma;\n      }\n      \n      \n\n      if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){\n            gl_FragColor= textureColor;\n      }else {\n            gl_FragColor= step(0.01, textureColor.z) * v_color;\n      }\n\n      gl_FragColor.a = gl_FragColor.a * opacity;\n      gl_FragColor = filterColor(gl_FragColor);\n}\n',ul='precision highp float;\nattribute vec3 a_Position;\nattribute vec4 a_Color;\nattribute vec2 a_Uv;\nattribute float a_Size;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform vec2 u_offsets;\n\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  styleMappingMat[1][0] = a_Size;\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n   v_color = a_Color;\n   v_uv = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   \n  //  vec2 offset = project_pixel(u_offsets);\n  vec2 offset = project_pixel(textrueOffsets);\n\n  //  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0);\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));\n  }\n  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n\n  setPickingColor(a_PickingColor);\n}\n',cl=function(e){ke()(n,e);var t=al(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"texture",void 0),S()(Ae()(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),void e.layer.renderLayers();e.texture=t({data:e.iconService.getCanvas(),mag:Bt["o"].LINEAR,min:Bt["o"].LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128,mipmap:!0})})),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.offsets,i=void 0===r?[0,0]:r;if(this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,offsets:i})){this.judgeStyleAttributes({opacity:n,offsets:i});var o=this.layer.getEncodedData(),a=this.calDataFrame(this.cellLength,o,this.cellProperties),s=a.data,l=a.width,u=a.height;this.rowCount=u,this.dataTexture=this.cellLength>0&&s.length>0?this.createTexture2D({flipY:!0,data:s,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:l,height:u}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128],u_opacity:Tn()(n)?n:1,u_offsets:this.isOffsetStatic(i)?i:[0,0]}}},{key:"initModels",value:function(e){this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels(e)}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i;this.layer.buildLayerModel({moduleName:"pointImage",vertexShader:ul,fragmentShader:ll,triangulation:$r,depth:{enable:!1},primitive:Bt["o"].POINTS,blend:this.getBlend(),stencil:Object(q["A"])(r,o)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?5:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Bt["a"].Attribute,descriptor:{name:"a_Uv",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(t,n,r,i){var o=e.iconService.getIconMap(),a=t.shape,s=o[a]||{x:0,y:0},l=s.x,u=s.y;return[l,u]}}})}}]),n}(yr);function fl(e){var t=pl();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function pl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var dl='\nuniform float u_opacity : 1;\nuniform vec2 u_offsets;\nvarying vec4 v_color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n\n  gl_FragColor = v_color;\n  // gl_FragColor.a =gl_FragColor.a * u_opacity;\n  gl_FragColor.a =gl_FragColor.a * opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',hl='\nattribute vec3 a_Position;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nattribute float a_Size;\nattribute vec4 a_Color;\nvarying vec4 v_color;\n\nuniform float u_opacity : 1;\nuniform vec2 u_offsets;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "project"\nvoid main() {\n  v_color = a_Color;\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\nstyleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping\n  \n  // vec2 offset = project_pixel(u_offsets);\n  vec2 offset = project_pixel(textrueOffsets);\n  // vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);\n  // gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\\\n  // \n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // vec2 offset = project_pixel((u_offsets));\n    gl_Position = u_Mvp * vec4(a_Position.xy + offset, a_Position.z, 1.0);\n  } else { // else\n    // vec2 offset = project_pixel(u_offsets);\n    vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);\n    gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\n  }\n\n  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n  setPickingColor(a_PickingColor);\n}\n';function vl(e){var t=e.coordinates;return{vertices:C()(t),indices:[0],size:t.length}}var ml=function(e){ke()(n,e);var t=fl(n);function n(){return we()(this,n),t.apply(this,arguments)}return Oe()(n,[{key:"getDefaultStyle",value:function(){return{blend:"additive"}}},{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.offsets,i=void 0===r?[0,0]:r;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,offsets:i})){this.judgeStyleAttributes({opacity:n,offsets:i});var o=this.layer.getEncodedData(),a=this.calDataFrame(this.cellLength,o,this.cellProperties),s=a.data,l=a.width,u=a.height;this.rowCount=u,this.dataTexture=this.cellLength>0&&s.length>0?this.createTexture2D({flipY:!0,data:s,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:l,height:u}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(n)?n:1,u_offsets:this.isOffsetStatic(i)?i:[0,0]}}},{key:"initModels",value:function(e){this.buildModels(e)}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i;this.layer.triangulation=vl,this.layer.buildLayerModel({moduleName:"pointNormal",vertexShader:hl,fragmentShader:dl,triangulation:vl,depth:{enable:!1},primitive:Bt["o"].POINTS,blend:this.getBlend(),stencil:Object(q["A"])(r,o)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0]]:[o]}}})}},{key:"defaultStyleOptions",value:function(){return{blend:Bt["b"].additive}}}]),n}(yr);function gl(e){var t=yl();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function yl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var bl='\nuniform float u_additive;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\n#pragma include "sdf_2d"\n#pragma include "picking"\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  vec4 textrueStroke = vec4(\n    styleMappingMat[1][0],\n    styleMappingMat[1][1],\n    styleMappingMat[1][2],\n    styleMappingMat[1][3]\n  );\n\n  float opacity = styleMappingMat[0][0];\n\n  lowp float antialiasblur = v_data.z;\n  float r = v_radius / (v_radius);\n\n  float outer_df = sdCircle(v_data.xy, 1.0);\n  float inner_df = sdCircle(v_data.xy, r);\n\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\n\n  gl_FragColor = vec4(v_color.rgb, v_color.a * opacity);\n\n  if(u_additive > 0.0) {\n    gl_FragColor *= opacity_t;\n  } else {\n    gl_FragColor.a *= opacity_t;\n  }\n\n  if(gl_FragColor.a > 0.0) {\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n\n  vec2 extrude =  styleMappingMat[2].ba;\n  vec2 dir = normalize(extrude);\n  vec2 baseDir = vec2(1.0, 0.0);\n  float pi = 3.14159265359;\n  // full circle\n  // float rades = dot(dir, baseDir);\n  // float flag = sign(dir.y);\n  // float radar_v = (flag - 1.0) * -0.5 + flag * acos(rades)/pi/2.0;\n  \n  // half circle\n  float flag = sign(dir.y);\n  float rades = dot(dir, baseDir);\n  float radar_v = (flag - 1.0) * -0.5 * acos(rades)/pi;\n  // simple AA\n  if(radar_v > 0.99) {\n    radar_v = 1.0 - (radar_v - 0.99)/0.01;\n  }\n\n  gl_FragColor.a *= radar_v;\n}\n',_l='attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Extrude;\nattribute float a_Size;\nattribute float a_Shape;\nuniform float u_speed: 1.0;\nuniform float u_time;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_isMeter;\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\nuniform float u_opacity : 1;\nuniform vec2 u_offsets;\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  vec3 extrude = a_Extrude;\n  float shape_type = a_Shape;\n  float newSize = setPickingSize(a_Size);\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - empty - empty - empty\n    0.0, 0.0, 0.0, 0.0, // empty - empty - empty - empty\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1] - a_Extrude.x - a_Extrude.y\n    0.0, 0.0, 0.0, 0.0  // \n  );\n\n  float time = u_time * u_speed;\n  mat2 rotateMatrix = mat2( \n    cos(time), sin(time), \n    -sin(time), cos(time)\n  );\n  styleMappingMat[2].ba = rotateMatrix * a_Extrude.xy;\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> empty -> empty ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping\n\n  // unpack color(vec2)\n  v_color = a_Color;\n\n  // radius(16-bit)\n  v_radius = newSize;\n\n  // anti-alias\n  float blur = 0.0;\n  float antialiasblur = -max(2.0 / u_DevicePixelRatio / a_Size, blur);\n\n  vec2 offset = (extrude.xy * (newSize) + textrueOffsets);\n  vec3 aPosition = a_Position;\n  if(u_isMeter < 1.0) {\n    // \u4e0d\u4ee5\u7c73\u4e3a\u5b9e\u9645\u5355\u4f4d\n    offset = project_pixel(offset);\n  } else {\n    // \u4ee5\u7c73\u4e3a\u5b9e\u9645\u5355\u4f4d\n    antialiasblur *= pow(19.0 - u_Zoom, 2.0);\n    antialiasblur = max(antialiasblur, -0.01);\n    // offset *= 0.5;\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      aPosition.xy += offset;\n      offset.x = 0.0;\n      offset.y = 0.0;\n    }\n  }\n\n  v_data = vec4(extrude.x, extrude.y, antialiasblur,shape_type);\n\n  vec4 project_pos = project_position(vec4(aPosition.xy, 0.0, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * vec4(project_pos.xy + offset, 0.0, 1.0);\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n  }\n\n  setPickingColor(a_PickingColor);\n}\n',El=function(e){ke()(n,e);var t=gl(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"meter2coord",1),S()(Ae()(e),"isMeter",!1),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.offsets,i=void 0===r?[0,0]:r,o=e.blend,a=e.speed,s=void 0===a?1:a;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,offsets:i})){this.judgeStyleAttributes({opacity:n,offsets:i});var l=this.layer.getEncodedData(),u=this.calDataFrame(this.cellLength,l,this.cellProperties),c=u.data,f=u.width,p=u.height;this.rowCount=p,this.dataTexture=this.cellLength>0&&c.length>0?this.createTexture2D({flipY:!0,data:c,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:f,height:p}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_isMeter:Number(this.isMeter),u_speed:s,u_additive:"additive"===o?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(n)?n:1,u_offsets:this.isOffsetStatic(i)?i:[0,0]}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption,n=void 0===t?{enable:!1}:t;return{u_aimate:this.animateOption2Array(n),u_time:this.layer.getLayerAnimateTime()}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),Zr)}},{key:"initModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.unit,r=void 0===n?"l7size":n,i=this.mapService.version;"meter"===r&&i!==jn["a"].L7MAP&&i!==jn["a"].GLOBEL&&(this.isMeter=!0,this.calMeter2Coord()),this.buildModels(e)}},{key:"calMeter2Coord",value:function(){var e=Et()(this.layer.getSource().extent,4),t=e[0],n=e[1],r=e[2],i=e[3],o=[(t+r)/2,(n+i)/2],a=this.mapService.version;if(a===jn["a"].MAPBOX&&window.mapboxgl.MercatorCoordinate){var s=window.mapboxgl.MercatorCoordinate.fromLngLat({lng:o[0],lat:o[1]},0),l=1,u=l*s.meterInMercatorCoordinateUnits(),c=new window.mapboxgl.MercatorCoordinate(s.x-u,s.y,s.z),f=c.toLngLat();this.meter2coord=o[0]-f.lng}else{var p=this.mapService.meterToCoord(o,[t,n]),d=this.mapService.meterToCoord(o,[r===t?r+.1:r,i===n?n+.1:i]);this.meter2coord=(p+d)/2,Boolean(this.meter2coord)||(this.meter2coord=7.70681090738883)}}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i;this.layer.buildLayerModel({moduleName:"pointRadar",vertexShader:_l,fragmentShader:bl,triangulation:Zr,depth:{enable:!1},blend:this.getBlend(),stencil:Object(q["A"])(r,o)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"animateOption2Array",value:function(e){return[e.enable?0:1,e.speed||1,e.rings||3,0]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Bt["a"].Attribute,descriptor:{name:"a_Extrude",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r){var i;i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0];var o=r%4*3;return[i[o],i[o+1],i[o+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(t,n,r,i){var o=t.size,a=void 0===o?5:o;return Array.isArray(a)?[a[0]*e.meter2coord]:[a*e.meter2coord]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Bt["a"].Attribute,descriptor:{name:"a_Shape",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(t,n,r,i){var o=t.shape,a=void 0===o?2:o,s=e.layer.getLayerConfig().shape2d,l=s.indexOf(a);return[l]}}})}}]),n}(yr);function xl(e){var t=wl();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function wl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Sl='\nuniform float u_opacity : 1;\nuniform vec2 u_offsets;\nuniform float u_additive;\n\nuniform float u_stroke_opacity : 1;\n\nuniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\n\nvarying vec4 v_color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\nvarying float v_blur;\nvarying float v_innerRadius;\n\n#pragma include "picking"\nvoid main() {\n  vec2 center = vec2(0.5);\n\n  float opacity = styleMappingMat[0][0];\n  // Tip: \u7247\u5143\u5230\u4e2d\u5fc3\u70b9\u7684\u8ddd\u79bb 0 - 1\n  float fragmengTocenter = distance(center, gl_PointCoord) * 2.0;\n  // Tip: \u7247\u5143\u7684\u526a\u5207\u6210\u5706\u5f62\n  float circleClipOpacity = 1.0 - smoothstep(v_blur, 1.0, fragmengTocenter);\n\n\n  if(v_innerRadius < 0.99) {\n    // \u5f53\u5b58\u5728 stroke \u4e14 stroke > 0.01\n    float blurWidth = (1.0 - v_blur)/2.0;\n    vec4 stroke = vec4(u_stroke_color.rgb, u_stroke_opacity);\n    if(fragmengTocenter > v_innerRadius + blurWidth) {\n      gl_FragColor = stroke;\n    } else if(fragmengTocenter > v_innerRadius - blurWidth){\n      float mixR = (fragmengTocenter - (v_innerRadius - blurWidth)) / (blurWidth * 2.0);\n      gl_FragColor = mix(v_color, stroke, mixR);\n    } else {\n      gl_FragColor = v_color;\n    }\n  } else {\n    // \u5f53\u4e0d\u5b58\u5728 stroke \u6216 stroke <= 0.01\n    gl_FragColor = v_color;\n  }\n\n  gl_FragColor.a *= opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n  \n  if(u_additive > 0.0) {\n    gl_FragColor *= circleClipOpacity;\n  } else {\n    gl_FragColor.a *= circleClipOpacity;\n  }\n\n}\n',Ol='\nattribute vec3 a_Position;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nattribute float a_Size;\nattribute vec4 a_Color;\nvarying vec4 v_color;\n\nuniform float u_opacity : 1;\nuniform vec2 u_offsets;\nuniform float u_stroke_width;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\nvarying float v_blur;\nvarying float v_innerRadius;\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "project"\nvoid main() {\n  v_color = a_Color;\n  v_blur = 1.0 - max(2.0/a_Size, 0.05);\n  v_innerRadius = max((a_Size - u_stroke_width) / a_Size, 0.0);\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\nstyleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping\n  \n  vec2 offset = project_pixel(textrueOffsets);\n  \n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * vec4(a_Position.xy + offset, a_Position.z, 1.0);\n  } else { // else\n    vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);\n    gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\n  }\n\n  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n  setPickingColor(a_PickingColor);\n}\n';function Cl(e){var t=e.coordinates;return{vertices:C()(t),indices:[0],size:t.length}}var Al=function(e){ke()(n,e);var t=xl(n);function n(){return we()(this,n),t.apply(this,arguments)}return Oe()(n,[{key:"getDefaultStyle",value:function(){return{blend:"additive"}}},{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.offsets,i=void 0===r?[0,0]:r,o=e.blend,a=e.strokeOpacity,s=void 0===a?1:a,l=e.strokeWidth,u=void 0===l?0:l,c=e.stroke,f=void 0===c?"#fff":c;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,offsets:i})){this.judgeStyleAttributes({opacity:n,offsets:i});var p=this.layer.getEncodedData(),d=this.calDataFrame(this.cellLength,p,this.cellProperties),h=d.data,v=d.width,m=d.height;this.rowCount=m,this.dataTexture=this.cellLength>0&&h.length>0?this.createTexture2D({flipY:!0,data:h,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:v,height:m}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_additive:"additive"===o?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(n)?n:1,u_offsets:this.isOffsetStatic(i)?i:[0,0],u_stroke_opacity:Tn()(s)?s:1,u_stroke_width:Tn()(u)?u:1,u_stroke_color:this.getStrokeColor(f)}}},{key:"initModels",value:function(e){this.buildModels(e)}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i;this.layer.triangulation=Cl,this.layer.buildLayerModel({moduleName:"pointSimple",vertexShader:Ol,fragmentShader:Sl,triangulation:Cl,depth:{enable:!1},primitive:Bt["o"].POINTS,blend:this.getBlend(),stencil:Object(q["A"])(r,o)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0]]:[o]}}})}},{key:"defaultStyleOptions",value:function(){return{blend:Bt["b"].additive}}}]),n}(yr),Pl={fillImage:ol,fill:el,radar:El,image:cl,normal:ml,simplePoint:Al,extrude:Xs,text:Ji,vectorpoint:_a,tile:ro,earthFill:Vs,earthExtrude:Fs},kl=Pl;function Ml(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Tl(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function Tl(e,t){if(e){if("string"===typeof e)return Ll(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ll(e,t):void 0}}function Ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Il(e){var t=Dl();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function Dl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Rl=function(e){ke()(n,e);var t=Il(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"type","PointLayer"),e}return Oe()(n,[{key:"buildModels",value:function(){var e=this,t=this.getModelType();this.layerModel=new kl[t](this),this.layerModel.initModels((function(t){e.models=t,e.layerService.updateLayerRenderList(),e.renderLayers()}))}},{key:"rebuildModels",value:function(){var e=this;this.layerModel.buildModels((function(t){return e.models=t}))}},{key:"getModelTypeWillEmptyData",value:function(){if(this.shapeOption){var e=this.shapeOption,t=e.field,n=e.values,r=this.getLayerConfig(),i=r.shape2d,o=(r.shape3d,this.iconService.getIconMap());if(t&&-1!==(null===i||void 0===i?void 0:i.indexOf(t)))return"fill";if(n&&n instanceof Array){var a,s=Ml(n);try{for(s.s();!(a=s.n()).done;){var l=a.value;if("string"===typeof l&&o.hasOwnProperty(l))return"image"}}catch(u){s.e(u)}finally{s.f()}}}return"normal"}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var e=this.getModelType(),t={fillImage:{},normal:{blend:"additive"},radar:{},simplePoint:{},fill:{blend:"normal"},extrude:{},image:{},text:{blend:"normal"},vectorpoint:{},tile:{},earthFill:{},earthExtrude:{}};return t[e]}},{key:"getModelType",value:function(){if("mvt"===this.layerSource.parser.type)return"vectorpoint";var e=this.getEncodedData(),t=this.getLayerConfig(),n=t.shape2d,r=t.shape3d,i=this.iconService.getIconMap(),o=e.find((function(e){return e.hasOwnProperty("shape")}));if(o){var a=o.shape;return"dot"===a?"normal":"simple"===a?"simplePoint":"radar"===a?"radar":"fillImage"===this.layerType?"fillImage":-1!==(null===n||void 0===n?void 0:n.indexOf(a))?"GLOBEL"===this.mapService.version?"earthFill":"fill":-1!==(null===r||void 0===r?void 0:r.indexOf(a))?"GLOBEL"===this.mapService.version?"earthExtrude":"extrude":i.hasOwnProperty(a)?"image":"text"}return this.getModelTypeWillEmptyData()}}]),n}(fr);function Nl(e){var t=jl();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function jl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Fl='uniform float u_opacity: 1.0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\nuniform float u_linearColor: 0;\n\nuniform float u_topsurface: 1.0;\nuniform float u_sidesurface: 1.0;\n\nvarying vec4 v_Color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];  \n  float isSide = styleMappingMat[0][3];\n  float sidey = styleMappingMat[3][0];\n  float lightWeight = styleMappingMat[3][1];\n\n  if(isSide < 1.0) {\n    // side face\n    if(u_sidesurface < 1.0) {\n      discard;\n    }\n\n    if(u_linearColor == 1.0) {\n      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);\n      linearColor.rgb *= lightWeight;\n      gl_FragColor = linearColor;\n    } else {\n      gl_FragColor = v_Color;\n    }\n\n  } else {\n     // top face\n    if(u_topsurface < 1.0) {\n      discard;\n    }\n\n    gl_FragColor = v_Color;\n  }\n\n  gl_FragColor.a *= opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Bl='precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Normal;\nattribute float a_Size;\nattribute vec3 a_uvs;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec4 v_Color;\nuniform float u_heightfixed: 0.0; // \u9ed8\u8ba4\u4e0d\u56fa\u5b9a\nuniform float u_raisingHeight: 0.0;\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - isSide\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // sidey\n  );\n  styleMappingMat[0][3] = a_Position.z;\n  styleMappingMat[3][0] = a_uvs[2];\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos);\n\n  if(u_heightfixed > 0.0) { // \u5224\u65ad\u51e0\u4f55\u4f53\u662f\u5426\u56fa\u5b9a\u9ad8\u5ea6\n    project_pos.z = a_Position.z * a_Size;\n    project_pos.z += u_raisingHeight;\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n      project_pos.z *= mapboxZoomScale;\n      project_pos.z += u_raisingHeight * mapboxZoomScale;\n    }\n  }\n\n  // project_pos.z += 500000.0; // amap1\n\n  // project_pos.z += (500000.0 * 4.0)/pow(2.0, 21.0 - u_Zoom); // mapbox\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // gl_Position = u_Mvp * (vec4(project_pos.xyz * vec3(1.0, 1.0, -1.0), 1.0));\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n\n  float lightWeight = calc_lighting(pos);\n  // v_Color = a_Color;\n  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  styleMappingMat[3][1] = lightWeight;\n\n  setPickingColor(a_PickingColor);\n}\n',Ul='uniform sampler2D u_texture;\nuniform float u_opacity: 1.0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\nuniform float u_linearColor: 0;\n\nuniform float u_topsurface: 1.0;\nuniform float u_sidesurface: 1.0;\n\nvarying vec4 v_Color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float isSide = styleMappingMat[0][3];\n  float lightWeight = styleMappingMat[3][1];\n  float topU = styleMappingMat[2][2];\n  float topV = styleMappingMat[2][3];\n\n  float sidey = styleMappingMat[3][0];\n  if(isSide < 1.0) {\n    // side face\n    if(u_sidesurface < 1.0) {\n      discard;\n    }\n\n    if(u_linearColor == 1.0) {\n      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);\n      linearColor.rgb *= lightWeight;\n      gl_FragColor = linearColor;\n    } else {\n      gl_FragColor = v_Color;\n    }\n  } else {\n\n     // top face\n    if(u_topsurface < 1.0) {\n      discard;\n    }\n\n    gl_FragColor = texture2D(u_texture, vec2(topU, topV));\n  }\n  \n\n  gl_FragColor.a *= opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',zl='precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Normal;\nattribute float a_Size;\nattribute vec3 a_uvs;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec4 v_Color;\nuniform float u_heightfixed: 0.0; // \u9ed8\u8ba4\u4e0d\u56fa\u5b9a\nuniform float u_raisingHeight: 0.0;\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  v_Color = a_Color;\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - a_Position.z(judge side by a_Position.z)\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1] - u - v\n    0.0, 0.0, 0.0, 0.0  // sidey\n  );\n  \n  styleMappingMat[0][3] = a_Position.z;\n  styleMappingMat[2][2] = a_uvs[0];\n  styleMappingMat[2][3] = 1.0 - a_uvs[1];\n  styleMappingMat[3][0] = a_uvs[2];\n\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos);\n\n  if(u_heightfixed > 0.0) { // \u5224\u65ad\u51e0\u4f55\u4f53\u662f\u5426\u56fa\u5b9a\u9ad8\u5ea6\n    project_pos.z = a_Position.z * a_Size;\n    project_pos.z += u_raisingHeight;\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n      project_pos.z *= mapboxZoomScale;\n      project_pos.z += u_raisingHeight * mapboxZoomScale;\n    }\n  }\n\n  // project_pos.z += 500000.0; // amap1\n\n  // project_pos.z += (500000.0 * 4.0)/pow(2.0, 21.0 - u_Zoom); // mapbox\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // gl_Position = u_Mvp * (vec4(project_pos.xyz * vec3(1.0, 1.0, -1.0), 1.0));\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n\n  float lightWeight = calc_lighting(pos);\n  styleMappingMat[3][1] = lightWeight;\n\n  setPickingColor(a_PickingColor);\n}\n',Hl='uniform float u_opacity: 1.0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\nuniform float u_linearColor: 0;\n\nuniform float u_topsurface: 1.0;\nuniform float u_sidesurface: 1.0;\n\nvarying vec4 v_Color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float isSide = styleMappingMat[0][3];\n  float sidey = styleMappingMat[3][0];\n  float lightWeight = styleMappingMat[3][1];\n\n  if(isSide < 1.0) {\n    // side face\n    if(u_sidesurface < 1.0) {\n      discard;\n    }\n    \n    if( u_linearColor == 1.0) {\n      // side use linear\n      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);\n      linearColor.rgb *= lightWeight;\n      gl_FragColor = linearColor;\n    } else {\n      // side notuse linear\n       gl_FragColor = v_Color;\n    }\n  } else {\n    // top face\n    if(u_topsurface < 1.0) {\n      discard;\n    }\n    gl_FragColor = v_Color;\n  }\n\n  gl_FragColor.a *= opacity;\n  gl_FragColor = filterColorAlpha(gl_FragColor, lightWeight);\n}\n',Vl='precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Normal;\nattribute float a_Size;\nattribute vec3 a_uvs;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec4 v_Color;\nuniform float u_heightfixed: 0.0; // \u9ed8\u8ba4\u4e0d\u56fa\u5b9a\nuniform float u_raisingHeight: 0.0;\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - isSide\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0  // sidey\n  );\n  styleMappingMat[0][3] = a_Position.z;\n  styleMappingMat[3][0] = a_uvs[2];\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos);\n\n  if(u_heightfixed > 0.0) { // \u5224\u65ad\u51e0\u4f55\u4f53\u662f\u5426\u56fa\u5b9a\u9ad8\u5ea6\n    project_pos.z = a_Position.z * a_Size;\n    project_pos.z += u_raisingHeight;\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n      project_pos.z *= mapboxZoomScale;\n      project_pos.z += u_raisingHeight * mapboxZoomScale;\n    }\n  }\n\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // gl_Position = u_Mvp * (vec4(project_pos.xyz * vec3(1.0, 1.0, -1.0), 1.0));\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n\n  float lightWeight = calc_lighting(pos);\n  // v_Color = a_Color;\n  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  styleMappingMat[3][1] = lightWeight;\n\n  setPickingColor(a_PickingColor);\n}\n',Gl=function(e){ke()(n,e);var t=Nl(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"texture",void 0),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.heightfixed,i=void 0!==r&&r,o=e.raisingHeight,a=void 0===o?0:o,s=e.topsurface,l=void 0===s||s,u=e.sidesurface,c=void 0===u||u,f=e.sourceColor,p=e.targetColor;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var d=this.layer.getEncodedData(),h=this.calDataFrame(this.cellLength,d,this.cellProperties),v=h.data,m=h.width,g=h.height;this.rowCount=g,this.dataTexture=this.cellLength>0&&v.length>0?this.createTexture2D({flipY:!0,data:v,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:m,height:g}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}var y=0,b=[1,1,1,1],_=[1,1,1,1];return f&&p&&(b=Object(q["M"])(f),_=Object(q["M"])(p),y=1),{u_topsurface:Number(l),u_sidesurface:Number(c),u_heightfixed:Number(i),u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_raisingHeight:Number(a),u_opacity:Tn()(n)?n:1,u_linearColor:y,u_sourceColor:b,u_targetColor:_,u_texture:this.texture}}},{key:"initModels",value:function(e){this.loadTexture(),this.buildModels(e)}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i,a=this.getShaders(),s=a.frag,l=a.vert,u=a.type;this.layer.buildLayerModel({moduleName:u,vertexShader:l,fragmentShader:s,triangulation:oi,stencil:Object(q["A"])(r,o)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"getShaders",value:function(){var e=this.layer.getLayerConfig(),t=e.pickLight,n=e.mapTexture;return n?{frag:Ul,vert:zl,type:"polygonExtrudeTexture"}:t?{frag:Hl,vert:Vl,type:"polygonExtrudePickLight"}:{frag:Fl,vert:Bl,type:"polygonExtrude"}}},{key:"clearModels",value:function(){var e,t;null===(e=this.dataTexture)||void 0===e||e.destroy(),null===(t=this.texture)||void 0===t||t.destroy()}},{key:"registerBuiltinAttributes",value:function(){var e=this.layer.getSource().extent,t=Et()(e,4),n=t[0],r=t[1],i=t[2],o=t[3],a=i-n,s=o-r;this.styleAttributeService.registerStyleAttribute({name:"uvs",type:Bt["a"].Attribute,descriptor:{name:"a_uvs",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,i,o,l){var u=i[0],c=i[1];return[(u-n)/a,(c-r)/s,i[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Bt["a"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Bt["a"].Attribute,descriptor:{name:"a_Size",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?10:i;return Array.isArray(o)?[o[0]]:[o]}}})}},{key:"loadTexture",value:function(){var e=this,t=this.layer.getLayerConfig(),n=t.mapTexture,r=this.rendererService.createTexture2D;if(this.texture=r({height:0,width:0}),n){var i=new Image;i.crossOrigin="",i.src=n,i.onload=function(){e.texture=r({data:i,width:i.width,height:i.height,wrapS:Bt["o"].CLAMP_TO_EDGE,wrapT:Bt["o"].CLAMP_TO_EDGE,min:Bt["o"].LINEAR,mag:Bt["o"].LINEAR}),e.layerService.updateLayerRenderList(),e.layerService.renderLayers()}}}}]),n}(yr);function Wl(e){var t=ql();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function ql(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Yl='uniform float u_opacity: 1.0;\nvarying vec4 v_Color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  gl_FragColor = v_Color;\n  gl_FragColor.a *= opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Xl='uniform float u_opacity: 1.0;\nvarying vec4 v_Color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\nuniform float u_opacitylinear: 0.0;\nuniform float u_dir: 1.0;\nvarying vec3 v_linear;\nvarying vec2 v_pos;\n\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  gl_FragColor = v_Color;\n  \n  if(u_opacitylinear > 0.0) {\n    gl_FragColor.a *= u_dir == 1.0 ? 1.0 - length(v_pos - v_linear.xy)/v_linear.z : length(v_pos - v_linear.xy)/v_linear.z;\n  }\n\n  gl_FragColor.a *= opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Kl='attribute vec4 a_Color;\nattribute vec3 a_Position;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_opacity: 1.0;\nuniform float u_raisingHeight: 0.0;\n\nvarying vec4 v_Color;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\nuniform float u_opacitylinear: 0.0;\n\nattribute vec3 a_linear;\nvarying vec3 v_linear;\nvarying vec2 v_pos;\n\nvoid main() {\n  if(u_opacitylinear > 0.0) {\n    v_linear = a_linear;\n    v_pos = a_Position.xy;\n  }\n  \n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\nstyleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_Color = a_Color;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  project_pos.z += u_raisingHeight;\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n    project_pos.z *= mapboxZoomScale;\n    project_pos.z += u_raisingHeight * mapboxZoomScale;\n  }\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n\n  setPickingColor(a_PickingColor);\n}',Zl='attribute vec4 a_Color;\nattribute vec3 a_Position;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nuniform float u_opacity: 1.0;\nuniform float u_raisingHeight: 0.0;\n\nvarying vec4 v_Color;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\nstyleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_Color = a_Color;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  project_pos.z += u_raisingHeight;\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n    project_pos.z *= mapboxZoomScale;\n    project_pos.z += u_raisingHeight * mapboxZoomScale;\n  }\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n\n  setPickingColor(a_PickingColor);\n}\n\n',Ql=function(e){ke()(n,e);var t=Wl(n);function n(){return we()(this,n),t.apply(this,arguments)}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.raisingHeight,n=void 0===t?0:t,r=e.opacity,i=void 0===r?1:r,o=e.opacityLinear,a=void 0===o?{enable:!1,dir:"in"}:o;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:i})){this.judgeStyleAttributes({opacity:i});var s=this.layer.getEncodedData(),l=this.calDataFrame(this.cellLength,s,this.cellProperties),u=l.data,c=l.width,f=l.height;this.rowCount=f,this.dataTexture=this.cellLength>0&&u.length>0?this.createTexture2D({flipY:!0,data:u,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:c,height:f}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_raisingHeight:Number(n),u_opacity:Tn()(i)?i:1,u_opacitylinear:Number(a.enable),u_dir:"in"===a.dir?1:0}}},{key:"initModels",value:function(e){this.buildModels(e)}},{key:"buildModels",value:function(e){var t=this.getModelParams(),n=t.frag,r=t.vert,i=t.triangulation,o=t.type,a=this.layer.getLayerConfig(),s=a.mask,l=void 0!==s&&s,u=a.maskInside,c=void 0===u||u,f=a.workerEnabled,p=void 0!==f&&f,d=a.enablePicking;this.layer.triangulation=i,this.layer.buildLayerModel({moduleName:o,vertexShader:r,fragmentShader:n,triangulation:i,primitive:Bt["o"].TRIANGLES,depth:{enable:!1},blend:this.getBlend(),stencil:Object(q["A"])(l,c),workerEnabled:p,workerOptions:{modelType:o,enablePicking:d}}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){var e=this.layer.getLayerConfig(),t=e.opacityLinear,n=void 0===t?{enable:!1,dir:"in"}:t;n.enable&&this.styleAttributeService.registerStyleAttribute({name:"linear",type:Bt["a"].Attribute,descriptor:{name:"a_linear",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n,r,i){return[n[3],n[4],n[5]]}}})}},{key:"getModelParams",value:function(){var e=this.layer.getLayerConfig(),t=e.opacityLinear,n=void 0===t?{enable:!1}:t;return n.enable?{frag:Xl,vert:Kl,type:"polygonLinear",triangulation:ri}:{frag:Yl,vert:Zl,type:"polygonFill",triangulation:q["L"]}}}]),n}(yr);function Jl(e){var t=$l();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function $l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var eu="\nuniform float u_time: 0.0;\nuniform float u_opacity: 1.0;\n\nvarying vec2 v_uv;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nfloat coast2water_fadedepth = 0.10;\nfloat large_waveheight      = .750; // change to adjust the \"heavy\" waves\nfloat large_wavesize        = 3.4;  // factor to adjust the large wave size\nfloat small_waveheight      = 0.6;  // change to adjust the small random waves\nfloat small_wavesize        = 0.5;   // factor to ajust the small wave size\nfloat water_softlight_fact  = 15.;  // range [1..200] (should be << smaller than glossy-fact)\nfloat water_glossylight_fact= 120.; // range [1..200]\nfloat particle_amount       = 70.;\n// vec3 watercolor             = vec3(0.43, 0.60, 0.66); // 'transparent' low-water color (RGB)\n// vec3 watercolor2            = vec3(0.06, 0.07, 0.11); // deep-water color (RGB, should be darker than the low-water color)\nuniform vec4 u_watercolor;\nuniform vec4 u_watercolor2;\nvec3 water_specularcolor    = vec3(1.3, 1.3, 0.9);    // specular Color (RGB) of the water-highlights\n#define light                 vec3(-0., sin(u_time*0.5)*.5 + .35, 2.8) // position of the sun\n\nuniform sampler2D u_texture1;\nuniform sampler2D u_texture2;\nuniform sampler2D u_texture3;\n\n  \n\nfloat hash( float n ) {\n    return fract(sin(n)*43758.5453123);\n}\n\n// 2d noise function\nfloat noise1( in vec2 x ) {\n  vec2 p  = floor(x);\n  vec2 f  = smoothstep(0.0, 1.0, fract(x));\n  float n = p.x + p.y*57.0;\n  return mix(mix( hash(n+  0.0), hash(n+  1.0),f.x),\n    mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y);\n}\n\nfloat noise(vec2 p) {\n    return texture2D(u_texture2,p*vec2(1./256.)).x;\n}\n\nvec4 highness(vec2 p) {\n    vec4 t = texture2D(u_texture1,fract(p));\n    float clipped = -2.0-smoothstep(3.,10.,t.a)*6.9-smoothstep(10.,100.,t.a)*89.9-smoothstep(0.,10000.,t.a)*10000.0;\n    return clamp(t, 0.0,3.0)+clamp(t/3.0-1.0, 0.0,1.0)+clamp(t/16.0-1.0, 0.0,1.0);\n}\n\nfloat height_map( vec2 p ) {\n    vec4 height=highness(p);\n    /*\n    height = -0.5+\n        0.5*smoothstep(-100.,0.,-height)+\n        2.75*smoothstep(0.,2.,height)+\n        1.75*smoothstep(2.,4.,height)+\n        2.75*smoothstep(4.,16.,height)+\n        1.5*smoothstep(16.,1000.,height);\n    */\n\n    mat2 m = mat2( 0.9563*1.4,  -0.2924*1.4,  0.2924*1.4,  0.9563*1.4 );\n    //p = p*6.;\n    float f = 0.6000*noise1( p ); p = m*p*1.1*6.;\n    f += 0.2500*noise( p ); p = m*p*1.32;\n    f += 0.1666*noise( p ); p = m*p*1.11;\n    f += 0.0834*noise( p ); p = m*p*1.12;\n    f += 0.0634*noise( p ); p = m*p*1.13;\n    f += 0.0444*noise( p ); p = m*p*1.14;\n    f += 0.0274*noise( p ); p = m*p*1.15;\n    f += 0.0134*noise( p ); p = m*p*1.16;\n    f += 0.0104*noise( p ); p = m*p*1.17;\n    f += 0.0084*noise( p );\n    f = .25*f+dot(height,vec4(-.03125,-.125,.25,.25))*.5;\n        const float FLAT_LEVEL = 0.92525;\n        //f = f*0.25+height*0.75;\n    if (f<FLAT_LEVEL)\n        f = f;\n    else\n        f = pow((f-FLAT_LEVEL)/(1.-FLAT_LEVEL), 2.)*(1.-FLAT_LEVEL)*2.0+FLAT_LEVEL; // makes a smooth coast-increase\n    return clamp(f, 0., 10.);\n}\n\nvec3 plasma_quintic( float x ) {\n    x = clamp( x, 0.0, 1.0);\n    vec4 x1 = vec4( 1.0, x, x * x, x * x * x ); // 1 x x2 x3\n    vec4 x2 = x1 * x1.w * x; // x4 x5 x6 x7\n    return vec3(\n        dot( x1.xyzw, vec4( +0.063861086, +1.992659096, -1.023901152, -0.490832805 ) ) + dot( x2.xy, vec2( +1.308442123, -0.914547012 ) ),\n        dot( x1.xyzw, vec4( +0.049718590, -0.791144343, +2.892305078, +0.811726816 ) ) + dot( x2.xy, vec2( -4.686502417, +2.717794514 ) ),\n        dot( x1.xyzw, vec4( +0.513275779, +1.580255060, -5.164414457, +4.559573646 ) ) + dot( x2.xy, vec2( -1.916810682, +0.570638854 ) ) );\n}\n\nvec4 color(vec2 p){\n    vec4 c1 = vec4(1.7,1.6,.9,1);\n    vec4 c2 = vec4(.2,.94,.1,1);\n    vec4 c3 = vec4(.3,.2,.0,1);\n    vec4 c4 = vec4(.99,.99,1.6,1);\n    vec4 v = highness(p);\n    float los = smoothstep(0.1,1.1,v.b);\n    float his = smoothstep(3.5,6.5,v.b);\n    float ces = smoothstep(1.,5.,v.a);\n    vec4 lo = mix(c1,c2,los);\n    vec4 hi = mix(c3,c4,his);\n    vec4 ce = mix(lo,hi,ces);\n\n    return vec4(plasma_quintic(ces),1).ragb;\n}\n\nvec3 terrain_map( vec2 p )\n{\n  return color(p).rgb*0.75+0.25*vec3(0.7, .55, .4)+texture2D(u_texture3, fract(p*5.)).rgb*.5; // test-terrain is simply 'sandstone'\n}\n\nconst mat2 m = mat2( 0.72, -1.60,  1.60,  0.72 );\n\nfloat water_map( vec2 p, float height ) {\n    vec2 p2 = p*large_wavesize;\n    vec2 shift1 = 0.001*vec2( u_time*160.0*2.0, u_time*120.0*2.0 );\n    vec2 shift2 = 0.001*vec2( u_time*190.0*2.0, -u_time*130.0*2.0 );\n\n    // coarse crossing 'ocean' waves...\n    float f = 0.6000*noise( p );\n    f += 0.2500*noise( p*m );\n    f += 0.1666*noise( p*m*m );\n    float wave = sin(p2.x*0.622+p2.y*0.622+shift2.x*4.269)*large_waveheight*f*height*height ;\n\n    p *= small_wavesize;\n    f = 0.;\n    float amp = 1.0, s = .5;\n    for (int i=0; i<9; i++)\n    { p = m*p*.947; f -= amp*abs(sin((noise( p+shift1*s )-.5)*2.)); amp = amp*.59; s*=-1.329; }\n    \n    return wave+f*small_waveheight;\n}\n\nfloat nautic(vec2 p) {\n    p *= 18.;\n    float f = 0.;\n    float amp = 1.0, s = .5;\n    for (int i=0; i<3; i++)\n    { p = m*p*1.2; f += amp*abs(smoothstep(0., 1., noise( p+u_time*s ))-.5); amp = amp*.5; s*=-1.227; }\n    return pow(1.-f, 5.);\n}\n\nfloat particles(vec2 p) {\n    p *= 200.;\n    float f = 0.;\n    float amp = 1.0, s = 1.5;\n    for (int i=0; i<3; i++)\n    { p = m*p*1.2; f += amp*noise( p+u_time*s ); amp = amp*.5; s*=-1.227; }\n    return pow(f*.35, 7.)*particle_amount;\n}\n\nfloat test_shadow( vec2 xy, float height) {\n    vec3 r0 = vec3(xy, height);\n    vec3 rd = normalize( light - r0 );\n    \n    float hit = 1.0;\n    float t   = 0.001;\n    for (int j=1; j<25; j++)\n    {\n        vec3 p = r0 + t*rd;\n        float h = height_map( p.xy );\n        float height_diff = p.z - h;\n        if (height_diff<0.0)\n        {\n            return 0.0;\n        }\n        t += 0.01+height_diff*.02;\n        hit = min(hit, 2.*height_diff/t); // soft shaddow   \n    }\n    return hit;\n}\n\nvec3 CalcTerrain(vec2 uv, float height) {\n    vec3 col = terrain_map( uv );\n    vec2 iResolution = vec2(512.);\n    float h1 = height_map(uv-vec2(0., 0.5)/ iResolution.xy);\n    float h2 = height_map(uv+vec2(0., 0.5)/ iResolution.xy);\n    float h3 = height_map(uv-vec2(0.5, 0.)/ iResolution.xy);\n    float h4 = height_map(uv+vec2(0.5, 0.)/ iResolution.xy);\n    vec3 norm = normalize(vec3(h3-h4, h1-h2, 1.));\n    vec3 r0 = vec3(uv, height);\n    vec3 rd = normalize( light - r0 );\n    float grad = dot(norm, rd);\n    col *= grad+pow(grad, 8.);\n    float terrainshade = test_shadow( uv, height );\n    col = mix(col*.25, col, terrainshade);\n    return col;\n}\n\n\nvoid main() {\n  vec3 watercolor = u_watercolor.rgb;\n  vec3 watercolor2 = u_watercolor2.rgb;\n  vec2 uv = v_uv;\n  float WATER_LEVEL = 0.84; // Water level (range: 0.0 - 2.0)\n  float deepwater_fadedepth   = 0.4 + coast2water_fadedepth;\n  float height = height_map( uv );\n  vec3 col;\n\n    float waveheight = clamp(WATER_LEVEL*3.-1.5, 0., 1.);\n    float level = WATER_LEVEL + .2*water_map(uv*15. + vec2(u_time*.1), waveheight);\n    if (height > level)\n    {\n        col = CalcTerrain(uv, height);\n    }\n    if (height <= level)\n    {\n        vec2 dif = vec2(.0, .01);\n        vec2 pos = uv*15. + vec2(u_time*.01);\n        float h1 = water_map(pos-dif,waveheight);\n        float h2 = water_map(pos+dif,waveheight);\n        float h3 = water_map(pos-dif.yx,waveheight);\n        float h4 = water_map(pos+dif.yx,waveheight);\n        vec3 normwater = normalize(vec3(h3-h4, h1-h2, .125)); // norm-vector of the 'bumpy' water-plane\n        uv += normwater.xy*.002*(level-height);\n        \n        col = CalcTerrain(uv, height);\n\n        float coastfade = clamp((level-height)/coast2water_fadedepth, 0., 1.);\n        float coastfade2= clamp((level-height)/deepwater_fadedepth, 0., 1.);\n        float intensity = col.r*.2126+col.g*.7152+col.b*.0722;\n        watercolor = mix(watercolor*intensity, watercolor2, smoothstep(0., 1., coastfade2));\n\n        vec3 r0 = vec3(uv, WATER_LEVEL);\n        vec3 rd = normalize( light - r0 ); // ray-direction to the light from water-position\n        float grad     = dot(normwater, rd); // dot-product of norm-vector and light-direction\n        float specular = pow(grad, water_softlight_fact);  // used for soft highlights                          \n        float specular2= pow(grad, water_glossylight_fact); // used for glossy highlights\n        float gradpos  = dot(vec3(0., 0., 1.), rd);\n        float specular1= smoothstep(0., 1., pow(gradpos, 5.));  // used for diffusity (some darker corona around light's specular reflections...)                          \n        float watershade  = test_shadow( uv, level );\n        watercolor *= 2.2+watershade;\n        watercolor += (.2+.8*watershade) * ((grad-1.0)*.5+specular) * .25;\n        watercolor /= (1.+specular1*1.25);\n        watercolor += watershade*specular2*water_specularcolor;\n        watercolor += watershade*coastfade*(1.-coastfade2)*(vec3(.5, .6, .7)*nautic(uv)+vec3(1., 1., 1.)*particles(uv));\n        \n        col = mix(col, watercolor, coastfade);\n    }\n    \n\n  float opacity = styleMappingMat[0][0];\n  gl_FragColor = vec4(col, opacity);  \n}\n",tu='attribute vec2 a_uv;\nattribute vec3 a_Position;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec2 v_uv;\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n\nvoid main() {\n  v_uv = a_uv;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\nstyleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n}\n\n',nu=function(e){ke()(n,e);var t=Jl(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"texture1",void 0),S()(Ae()(e),"texture2",void 0),S()(Ae()(e),"texture3",void 0),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.watercolor,i=void 0===r?"#6D99A8":r,o=e.watercolor2,a=void 0===o?"#0F121C":o;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var s=this.layer.getEncodedData(),l=this.calDataFrame(this.cellLength,s,this.cellProperties),u=l.data,c=l.width,f=l.height;this.rowCount=f,this.dataTexture=this.cellLength>0&&u.length>0?this.createTexture2D({flipY:!0,data:u,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:c,height:f}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_texture1:this.texture1,u_texture2:this.texture2,u_texture3:this.texture3,u_watercolor:Object(q["M"])(i),u_watercolor2:Object(q["M"])(a),u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Tn()(n)?n:1}}},{key:"getAnimateUniforms",value:function(){return{u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(e){this.loadTexture(),this.buildModels(e)}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i;this.layer.buildLayerModel({moduleName:"polygonOcean",vertexShader:tu,fragmentShader:eu,triangulation:ni,primitive:Bt["o"].TRIANGLES,depth:{enable:!1},stencil:Object(q["A"])(r,o)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"clearModels",value:function(){var e,t,n,r;null===(e=this.texture1)||void 0===e||e.destroy(),null===(t=this.texture2)||void 0===t||t.destroy(),null===(n=this.texture3)||void 0===n||n.destroy(),null===(r=this.dataTexture)||void 0===r||r.destroy()}},{key:"registerBuiltinAttributes",value:function(){var e=this.layer.getSource().extent,t=Et()(e,4),n=t[0],r=t[1],i=t[2],o=t[3],a=i-n,s=o-r;this.styleAttributeService.registerStyleAttribute({name:"oceanUv",type:Bt["a"].Attribute,descriptor:{name:"a_uv",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,i,o,l){var u=Et()(i,2),c=u[0],f=u[1];return[(c-n)/a,(f-r)/s]}}})}},{key:"loadTexture",value:function(){var e=this,t=this.rendererService.createTexture2D,n={height:0,width:0};function r(e){var t=0,n=[],r=["https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*MJ22QbpuCzIAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*-z2HSIVDsHIAAAAAAAAAAAAAARQnAQ"];r.map((function(r){var i=new Image;i.crossOrigin="",i.src=r,n.push(i),i.onload=function(){t++,3===t&&e(n)}}))}function i(e){return t({data:e,width:e.width,height:e.height,wrapS:Bt["o"].MIRRORED_REPEAT,wrapT:Bt["o"].MIRRORED_REPEAT,min:Bt["o"].LINEAR,mag:Bt["o"].LINEAR})}this.texture1=t(n),this.texture2=t(n),this.texture3=t(n),r((function(t){e.texture1=i(t[0]),e.texture2=i(t[1]),e.texture3=i(t[2]),e.layerService.updateLayerRenderList(),e.layerService.renderLayers()}))}}]),n}(yr);function ru(e){var t=iu();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function iu(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ou="uniform sampler2D u_texture;\nuniform float u_time: 0.0;\nuniform float u_speed: 1.0;\nuniform float u_opacity: 1.0;\n\nvarying vec4 v_Color;\nvarying vec2 v_uv;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n\nfloat rand(vec2 n) { return 0.5 + 0.5 * fract(sin(dot(n.xy, vec2(12.9898, 78.233)))* 43758.5453); }\n\nfloat water(vec3 p) {\n  float t = u_time * u_speed;\n  p.z += t * 2.; p.x += t * 2.;\n  vec3 c1 = texture2D(u_texture, p.xz / 30.).xyz;\n  p.z += t * 3.; p.x += t * 0.52;\n  vec3 c2 = texture2D(u_texture, p.xz / 30.).xyz;\n  p.z += t * 4.; p.x += t * 0.8;\n  vec3 c3 = texture2D(u_texture, p.xz / 30.).xyz;\n  c1 += c2 - c3;\n  float z = (c1.x + c1.y + c1.z) / 3.;\n  return p.y + z / 4.;\n}\n\nfloat map(vec3 p) {\n  float d = 100.0;\n  d = water(p);\n  return d;\n}\n\nfloat intersect(vec3 ro, vec3 rd) {\n  float d = 0.0;\n  for (int i = 0; i <= 100; i++) {\n    float h = map(ro + rd * d);\n    if (h < 0.1) return  d;\n    d += h;\n  }\n  return 0.0;\n}\n\nvec3 norm(vec3 p) {\n  float eps = .1;\n  return normalize(vec3(\n    map(p + vec3(eps, 0, 0)) - map(p + vec3(-eps, 0, 0)),\n    map(p + vec3(0, eps, 0)) - map(p + vec3(0, -eps, 0)),\n    map(p + vec3(0, 0, eps)) - map(p + vec3(0, 0, -eps))\n  ));\n} \n\nfloat calSpc() {\n  vec3 l1 = normalize(vec3(1, 1, 1));\n  vec3 ro = vec3(-3, 20, -8);\n  vec3 rc = vec3(0, 0, 0);\n  vec3 ww = normalize(rc - ro);\n  vec3 uu = normalize(cross(vec3(0,1,0), ww));\n  vec3 vv = normalize(cross(rc - ro, uu));\n  vec3 rd = normalize(uu * v_uv.x + vv * v_uv.y + ww);\n  float d = intersect(ro, rd);\n  vec3 p = ro + rd * d;\n  vec3 n = norm(p);\n  float spc = pow(max(0.0, dot(reflect(l1, n), rd)), 30.0);\n  return spc;\n}\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  gl_FragColor = v_Color;\n  gl_FragColor.a *= opacity;\n\n  float spc = calSpc();\n  gl_FragColor += spc * 0.4;\n}\n",au='attribute vec4 a_Color;\nattribute vec2 a_uv;\nattribute vec3 a_Position;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec4 v_Color;\nvarying vec2 v_uv;\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n\nvoid main() {\n  v_uv = a_uv;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\nstyleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_Color = a_Color;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n}\n\n',su=function(e){ke()(n,e);var t=ru(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"texture",void 0),e}return Oe()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.speed,i=void 0===r?.5:r;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var o=this.layer.getEncodedData(),a=this.calDataFrame(this.cellLength,o,this.cellProperties),s=a.data,l=a.width,u=a.height;this.rowCount=u,this.dataTexture=this.cellLength>0&&s.length>0?this.createTexture2D({flipY:!0,data:s,format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:l,height:u}):this.createTexture2D({flipY:!0,data:[1],format:Bt["o"].LUMINANCE,type:Bt["o"].FLOAT,width:1,height:1})}return{u_texture:this.texture,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_speed:i,u_opacity:Tn()(n)?n:1}}},{key:"getAnimateUniforms",value:function(){return{u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(e){this.loadTexture(),this.buildModels(e)}},{key:"buildModels",value:function(e){var t=this.layer.getLayerConfig(),n=t.mask,r=void 0!==n&&n,i=t.maskInside,o=void 0===i||i;this.layer.buildLayerModel({moduleName:"polygonWater",vertexShader:au,fragmentShader:ou,triangulation:ni,primitive:Bt["o"].TRIANGLES,depth:{enable:!1},stencil:Object(q["A"])(r,o)}).then((function(t){e([t])}))["catch"]((function(t){console.warn(t),e([])}))}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy()}},{key:"registerBuiltinAttributes",value:function(){var e=this.layer.getSource().extent,t=Et()(e,4),n=t[0],r=t[1],i=t[2],o=t[3],a=i-n,s=o-r;this.styleAttributeService.registerStyleAttribute({name:"waterUv",type:Bt["a"].Attribute,descriptor:{name:"a_uv",buffer:{usage:Bt["o"].STATIC_DRAW,data:[],type:Bt["o"].FLOAT},size:2,update:function(e,t,i,o,l){var u=Et()(i,2),c=u[0],f=u[1];return[(c-n)/a,(f-r)/s]}}})}},{key:"loadTexture",value:function(){var e=this,t=this.layer.getLayerConfig(),n=t.waterTexture,r=this.rendererService.createTexture2D;this.texture=r({height:0,width:0});var i=new Image;i.crossOrigin="",n?(console.warn("L7 recommend\uff1ahttps://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ"),i.src=n):i.src="https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ",i.onload=function(){e.texture=r({data:i,width:i.width,height:i.height,wrapS:Bt["o"].MIRRORED_REPEAT,wrapT:Bt["o"].MIRRORED_REPEAT,min:Bt["o"].LINEAR,mag:Bt["o"].LINEAR}),e.layerService.updateLayerRenderList(),e.layerService.renderLayers()}}}]),n}(yr),lu={fill:Ql,line:ps,extrude:Gl,text:Ji,point_fill:el,point_image:cl,point_normal:ml,point_extrude:Xs,water:su,ocean:nu,vectorpolygon:_a,tile:lo},uu=lu;function cu(e){var t=fu();return function(){var n,r=Ie()(e);if(t){var i=Ie()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Te()(this,n)}}function fu(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var pu,du,hu,vu,mu,gu,yu,bu,_u,Eu=function(e){ke()(n,e);var t=cu(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),S()(Ae()(e),"type","PolygonLayer"),e}return Oe()(n,[{key:"buildModels",value:function(){var e=this,t=this.getModelType();this.layerModel=new uu[t](this),this.layerModel.initModels((function(t){e.models=t,e.renderLayers()}))}},{key:"rebuildModels",value:function(){var e=this;this.layerModel.buildModels((function(t){return e.models=t}))}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){var e;if("mvt"===this.layerSource.parser.type)return"vectorpolygon";var t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=null===t||void 0===t||null===(e=t.scale)||void 0===e?void 0:e.field;return"fill"===n?"fill":"extrude"===n?"extrude":"water"===n?"water":"ocean"===n?"ocean":"line"===n?"line":"tile"===n?"tile":this.getPointModelType()}},{key:"getPointModelType",value:function(){var e=this.getEncodedData(),t=this.getLayerConfig(),n=t.shape2d,r=t.shape3d,i=this.iconService.getIconMap(),o=e.find((function(e){return e.hasOwnProperty("shape")}));if(o){var a=o.shape;return"dot"===a?"point_normal":-1!==(null===n||void 0===n?void 0:n.indexOf(a))?"point_fill":-1!==(null===r||void 0===r?void 0:r.indexOf(a))?"point_extrude":i.hasOwnProperty(a)?"point_image":"text"}return"fill"}}]),n}(fr),xu=n("4cb6");n("mNvP");function wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Su(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ou,Cu,Au=(pu=Object(xu["injectable"])(),du=Object(xu["inject"])(Bt["k"].IGlobalConfigService),hu=Object(xu["inject"])(Bt["k"].IMapService),vu=Object(xu["inject"])(Bt["k"].IFontService),pu((gu=function(){function e(){we()(this,e),xn()(this,"configService",yu,this),xn()(this,"mapService",bu,this),xn()(this,"fontService",_u,this)}return Oe()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("DataMappingPlugin",(function(){var t=e.getSource();t.inited?n.generateMaping(e,{styleAttributeService:r}):t.once("sourceUpdate",(function(){n.generateMaping(e,{styleAttributeService:r})}))})),e.hooks.beforeRenderData.tap("DataMappingPlugin",(function(){e.dataState.dataMappingNeedUpdate=!1;var t=e.getSource();return t.inited?n.generateMaping(e,{styleAttributeService:r}):t.once("sourceUpdate",(function(){n.generateMaping(e,{styleAttributeService:r})})),!0})),e.hooks.beforeRender.tap("DataMappingPlugin",(function(){var t=e.getSource();if(!e.layerModelNeedUpdate&&t&&t.inited){var i=e.getBottomColor(),o=r.getLayerStyleAttributes()||[],a=r.getLayerStyleAttribute("filter"),s=t.data.dataArray,l=o.filter((function(e){return e.needRemapping})),u=s;null!==a&&void 0!==a&&a.needRemapping&&null!==a&&void 0!==a&&a.scale&&(u=s.filter((function(e){return n.applyAttributeMapping(a,e,i)[0]}))),l.length&&(null!==a&&void 0!==a&&a.needRemapping?(e.setEncodedData(n.mapping(e,o,u,void 0,i)),a.needRemapping=!1):e.setEncodedData(n.mapping(e,l,u,e.getEncodedData(),i)),e.emit("remapping",null))}}))}},{key:"generateMaping",value:function(e,t){var n=this,r=t.styleAttributeService,i=e.getBottomColor(),o=r.getLayerStyleAttributes()||[],a=r.getLayerStyleAttribute("filter"),s=e.getSource().data.dataArray,l=s;null!==a&&void 0!==a&&a.scale&&(l=s.filter((function(e){return n.applyAttributeMapping(a,e,i)[0]}))),e.setEncodedData(this.mapping(e,o,l,void 0,i)),e.emit("dataUpdate",null)}},{key:"getArrowPoints",value:function(e,t){var n=[t[0]-e[0],t[1]-e[1]],r=Object(q["I"])(n),i=[e[0]+1e-4*r[0],e[1]+1e-4*r[1]];return i}},{key:"mapping",value:function(e,t,n,r,i){var o=this,a=e.getLayerConfig(),s=a.arrow,l=void 0===s?{enable:!1}:s,u=n.map((function(e,n){var a=r?r[n]:{},s=Su({id:e._id,coordinates:e.coordinates},a);if(t.filter((function(e){return void 0!==e.scale})).forEach((function(t){var n=o.applyAttributeMapping(t,e,i);t.needRemapping=!1,"color"===t.name&&(n=n.map((function(e){return Object(q["M"])(e)}))),s[t.name]=Array.isArray(n)&&1===n.length?n[0]:n,"shape"===t.name&&(s.shape=o.fontService.getIconFontKey(s[t.name]))})),l.enable&&("line"===s.shape||"halfLine"===s.shape)){var u=s.coordinates,c=o.getArrowPoints(u[0],u[1]);s.coordinates.splice(1,0,c,c)}return s}));return this.adjustData2Amap2Coordinates(u,e),this.adjustData2SimpleCoordinates(u),u}},{key:"adjustData2Amap2Coordinates",value:function(e,t){var n=this;if(e.length>0&&this.mapService.version===jn["a"]["GAODE2.x"]){var r=this.getLayerCenter(t);"number"===typeof e[0].coordinates[0]?e.filter((function(e){return!e.originCoordinates})).map((function(e){e.version=jn["a"]["GAODE2.x"],e.originCoordinates=ze()(e.coordinates),e.coordinates=n.mapService.lngLatToCoordByLayer(e.coordinates,r)})):e.filter((function(e){return!e.originCoordinates})).map((function(e){e.version=jn["a"]["GAODE2.x"],e.originCoordinates=ze()(e.coordinates),e.coordinates=n.mapService.lngLatToCoordsByLayer(e.coordinates,r)}))}}},{key:"getLayerCenter",value:function(e){var t=e.getSource();return t.center}},{key:"adjustData2SimpleCoordinates",value:function(e){var t=this;e.length>0&&this.mapService.version===jn["a"].SIMPLE&&e.map((function(e){e.simpleCoordinate||(e.coordinates=t.unProjectCoordinates(e.coordinates),e.simpleCoordinate=!0)}))}},{key:"unProjectCoordinates",value:function(e){var t=this;if("number"===typeof e[0])return this.mapService.simpleMapCoord.unproject(e);if(e[0]&&e[0][0]instanceof Array){var n=[];return e.map((function(e){var r=[];e.map((function(e){r.push(t.mapService.simpleMapCoord.unproject(e))})),n.push(r)})),n}var r=[];return e.map((function(e){r.push(t.mapService.simpleMapCoord.unproject(e))})),r}},{key:"applyAttributeMapping",value:function(e,t,n){var r;if(!e.scale)return[];var i=(null===e||void 0===e||null===(r=e.scale)||void 0===r?void 0:r.scalers)||[],o=[];i.forEach((function(n){var r,i=n.field;(t.hasOwnProperty(i)||"variable"===(null===(r=e.scale)||void 0===r?void 0:r.type))&&o.push(t[i])}));var a=e.mapping?e.mapping(o):[];return"color"!==e.name||Object(q["D"])(a[0])?a:[n]}}]),e}(),yu=Sn()(gu.prototype,"configService",[du],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bu=Sn()(gu.prototype,"mapService",[hu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_u=Sn()(gu.prototype,"fontService",[vu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mu=gu))||mu),Pu=(Ou=Object(xu["injectable"])(),Ou(Cu=function(){function e(){we()(this,e),S()(this,"mapService",void 0)}return Oe()(e,[{key:"apply",value:function(e){var t=this;this.mapService=e.getContainer().get(Bt["k"].IMapService),e.hooks.init.tap("DataSourcePlugin",(function(){var n=e.getSource();if(!n){var r=Rt[e.type]||{data:Nt,options:jt},i=e.sourceOption||r,o=i.data,a=i.options;n=new Ft(o,a),e.setSource(n)}n.inited?t.updateClusterData(e):n.once("sourceUpdate",(function(){t.updateClusterData(e)}))})),e.hooks.beforeRenderData.tap("DataSourcePlugin",(function(){var n=t.updateClusterData(e),r=e.dataState.dataSourceNeedUpdate;return e.dataState.dataSourceNeedUpdate=!1,n||r}))}},{key:"updateClusterData",value:function(e){var t=e.getSource(),n=t.cluster,r=t.clusterOptions.zoom,i=void 0===r?0:r,o=this.mapService.getZoom()-1,a=e.dataState.dataSourceNeedUpdate;return n&&a&&t.updateClusterData(Math.floor(o)),!!(n&&Math.abs(e.clusterZoom-o)>=1)&&(i!==Math.floor(o)&&t.updateClusterData(Math.floor(o)),e.clusterZoom=o,!0)}}]),e}())||Cu),ku=n("7tbW"),Mu=n.n(ku),Tu=n("J2iB"),Lu=n.n(Tu),Iu=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Du=function(e){return 1===e.length&&(e=Ru(e)),{left:function(t,n,r,i){null==r&&(r=0),null==i&&(i=t.length);while(r<i){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){null==r&&(r=0),null==i&&(i=t.length);while(r<i){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}};function Ru(e){return function(t,n){return Iu(e(t),n)}}var Nu=Du(Iu),ju=Nu.right,Fu=(Nu.left,ju);var Bu=function(e){return null===e?NaN:+e},Uu=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){while(++a<o)if(null!=(n=e[a])&&n>=n){r=i=n;while(++a<o)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}}else while(++a<o)if(null!=(n=t(e[a],a,e))&&n>=n){r=i=n;while(++a<o)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n))}return[r,i]},zu=Array.prototype,Hu=(zu.slice,zu.map,Math.sqrt(50)),Vu=Math.sqrt(10),Gu=Math.sqrt(2),Wu=function(e,t,n){var r,i,o,a,s=-1;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=qu(e,t,n))||!isFinite(a))return[];if(a>0){e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));while(++s<i)o[s]=(e+s)*a}else{e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));while(++s<i)o[s]=(e-s)/a}return r&&o.reverse(),o};function qu(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Hu?10:o>=Vu?5:o>=Gu?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Hu?10:o>=Vu?5:o>=Gu?2:1)}function Yu(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Hu?i*=10:o>=Vu?i*=5:o>=Gu&&(i*=2),t<e?-i:i}var Xu=function(e,t,n){if(null==n&&(n=Bu),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}};function Ku(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}var Zu=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Ku((n-r/t)*t,a,i,o,s)}},Qu=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Ku((n-r/t)*t,i,o,a,s)}},Ju=function(e){return function(){return e}};function $u(e,t){return function(n){return e+n*t}}function ec(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function tc(e){return 1===(e=+e)?nc:function(t,n){return n-t?ec(t,n,e):Ju(isNaN(t)?n:t)}}function nc(e,t){var n=t-e;return n?$u(e,n):Ju(isNaN(e)?t:e)}var rc=function e(t){var n=tc(t);function r(e,t){var r=n((e=Object(hr["b"])(e)).r,(t=Object(hr["b"])(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=nc(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function ic(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Object(hr["b"])(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}var oc=ic(Zu);ic(Qu);function ac(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function sc(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e);break}return this}var lc="$";function uc(){}function cc(e,t){var n=new uc;if(e instanceof uc)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(null==t)while(++i<o)n.set(i,e[i]);else while(++i<o)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}uc.prototype=cc.prototype={constructor:uc,has:function(e){return lc+e in this},get:function(e){return this[lc+e]},set:function(e,t){return this[lc+e]=t,this},remove:function(e){var t=lc+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===lc&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===lc&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===lc&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===lc&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===lc&&++e;return e},empty:function(){for(var e in this)if(e[0]===lc)return!1;return!0},each:function(e){for(var t in this)t[0]===lc&&e(this[t],t.slice(1),this)}};var fc=cc;function pc(){}var dc=fc.prototype;function hc(e,t){var n=new pc;if(e instanceof pc)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)while(++r<i)n.add(e[r]);else while(++r<i)n.add(t(e[r],r,e))}return n}pc.prototype=hc.prototype={constructor:pc,has:dc.has,add:function(e){return e+="",this[lc+e]=e,this},remove:dc.remove,clear:dc.clear,values:dc.keys,size:dc.size,empty:dc.empty,each:dc.each};var vc=Array.prototype,mc=vc.map,gc=vc.slice,yc={name:"implicit"};function bc(){var e=fc(),t=[],n=[],r=yc;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==yc)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=fc();var r,o,a=-1,s=n.length;while(++a<s)e.has(o=(r=n[a])+"")||e.set(o,t.push(r));return i},i.range=function(e){return arguments.length?(n=gc.call(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return bc(t,n).unknown(r)},ac.apply(i,arguments),i}var _c=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}};function Ec(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xc(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Tc(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}var wc=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},Sc=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},Oc=function(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Tc(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},Cc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ac=new RegExp(Cc.source,"g");function Pc(e){return function(){return e}}function kc(e){return function(t){return e(t)+""}}var Mc=function(e,t){var n,r,i,o=Cc.lastIndex=Ac.lastIndex=0,a=-1,s=[],l=[];e+="",t+="";while((n=Cc.exec(e))&&(r=Ac.exec(t)))(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Sc(n,r)})),o=Ac.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?kc(l[0].x):Pc(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})},Tc=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?Ju(t):("number"===r?Sc:"string"===r?(n=Object(hr["a"])(t))?(t=n,rc):Mc:t instanceof hr["a"]?rc:t instanceof Date?wc:Ec(t)?_c:Array.isArray(t)?xc:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Oc:Sc)(e,t)},Lc=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},Ic=function(e){return function(){return e}},Dc=function(e){return+e},Rc=[0,1];function Nc(e){return e}function jc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ic(isNaN(t)?NaN:.5)}function Fc(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function Bc(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=jc(i,r),o=n(a,o)):(r=jc(r,i),o=n(o,a)),function(e){return o(r(e))}}function Uc(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());while(++a<r)i[a]=jc(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=Fu(e,t,1,r)-1;return o[n](i[n](t))}}function zc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hc(){var e,t,n,r,i,o,a=Rc,s=Rc,l=Tc,u=Nc;function c(){return r=Math.min(a.length,s.length)>2?Uc:Bc,i=o=null,f}function f(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(u(t)))}return f.invert=function(n){return u(t((o||(o=r(s,a.map(e),Sc)))(n)))},f.domain=function(e){return arguments.length?(a=mc.call(e,Dc),u===Nc||(u=Fc(a)),c()):a.slice()},f.range=function(e){return arguments.length?(s=gc.call(e),c()):s.slice()},f.rangeRound=function(e){return s=gc.call(e),l=Lc,c()},f.clamp=function(e){return arguments.length?(u=e?Fc(a):Nc,f):u!==Nc},f.interpolate=function(e){return arguments.length?(l=e,c()):l},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}function Vc(e,t){return Hc()(e,t)}var Gc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wc(e){if(!(t=Gc.exec(e)))throw new Error("invalid format: "+e);var t;return new qc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function qc(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}Wc.prototype=qc.prototype,qc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Yc=function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)};function Xc(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}var Kc,Zc,Qc,Jc,$c=function(e){return e=Xc(Math.abs(e)),e?e[1]:NaN},ef=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor($c(t)/3)))-$c(Math.abs(e)))},tf=function(e,t){return function(n,r){var i=n.length,o=[],a=0,s=e[0],l=0;while(i>0&&s>0){if(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),(l+=s+1)>r)break;s=e[a=(a+1)%e.length]}return o.reverse().join(t)}},nf=function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}},rf=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(t+1):e},of=function(e,t){var n=Xc(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Kc=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Xc(e,Math.max(0,t+o-1))[0]},af=function(e,t){var n=Xc(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},sf={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:Yc,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return af(100*e,t)},r:af,s:of,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},lf=function(e){return e},uf=Array.prototype.map,cf=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],ff=function(e){var t=void 0===e.grouping||void 0===e.thousands?lf:tf(uf.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?lf:nf(uf.call(e.numerals,String)),a=void 0===e.percent?"%":e.percent+"",s=void 0===e.minus?"-":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function u(e){e=Wc(e);var u=e.fill,c=e.align,f=e.sign,p=e.symbol,d=e.zero,h=e.width,v=e.comma,m=e.precision,g=e.trim,y=e.type;"n"===y?(v=!0,y="g"):sf[y]||(void 0===m&&(m=12),g=!0,y="g"),(d||"0"===u&&"="===c)&&(d=!0,u="0",c="=");var b="$"===p?n:"#"===p&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===p?r:/[%p]/.test(y)?a:"",E=sf[y],x=/[defgprs%]/.test(y);function w(e){var n,r,a,p=b,w=_;if("c"===y)w=E(e)+w,e="";else{e=+e;var S=e<0||1/e<0;if(e=isNaN(e)?l:E(Math.abs(e),m),g&&(e=rf(e)),S&&0===+e&&"+"!==f&&(S=!1),p=(S?"("===f?f:s:"-"===f||"("===f?"":f)+p,w=("s"===y?cf[8+Kc/3]:"")+w+(S&&"("===f?")":""),x){n=-1,r=e.length;while(++n<r)if(a=e.charCodeAt(n),48>a||a>57){w=(46===a?i+e.slice(n+1):e.slice(n))+w,e=e.slice(0,n);break}}}v&&!d&&(e=t(e,1/0));var O=p.length+e.length+w.length,C=O<h?new Array(h-O+1).join(u):"";switch(v&&d&&(e=t(C+e,C.length?h-w.length:1/0),C=""),c){case"<":e=p+e+w+C;break;case"=":e=p+C+e+w;break;case"^":e=C.slice(0,O=C.length>>1)+p+e+w+C.slice(O);break;default:e=C+p+e+w;break}return o(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),w.toString=function(){return e+""},w}function c(e,t){var n=u((e=Wc(e),e.type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor($c(t)/3))),i=Math.pow(10,-r),o=cf[8+r/3];return function(e){return n(i*e)+o}}return{format:u,formatPrefix:c}};function pf(e){return Zc=ff(e),Qc=Zc.format,Jc=Zc.formatPrefix,Zc}pf({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var df=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$c(t)-$c(e))+1},hf=function(e){return Math.max(0,-$c(Math.abs(e)))},vf=function(e,t,n,r){var i,o=Yu(e,t,n);switch(r=Wc(null==r?",f":r),r.type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=ef(o,a))||(r.precision=i),Jc(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=df(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=hf(o))||(r.precision=i-2*("%"===r.type));break}return Qc(r)};function mf(e){var t=e.domain;return e.ticks=function(e){var n=t();return Wu(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return vf(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,s=i[o],l=i[a];return l<s&&(r=s,s=l,l=r,r=o,o=a,a=r),r=qu(s,l,n),r>0?(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,r=qu(s,l,n)):r<0&&(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,r=qu(s,l,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(l/r)*r,t(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(l*r)/r,t(i)),e},e}function gf(){var e=Vc(Nc,Nc);return e.copy=function(){return zc(e,gf())},ac.apply(e,arguments),mf(e)}function yf(e){var t;function n(e){return isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=mc.call(t,Dc),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return yf(e).unknown(t)},e=arguments.length?mc.call(e,Dc):[0,1],mf(n)}var bf=function(e,t){e=e.slice();var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e};function _f(e){return Math.log(e)}function Ef(e){return Math.exp(e)}function xf(e){return-Math.log(-e)}function wf(e){return-Math.exp(-e)}function Sf(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Of(e){return 10===e?Sf:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Cf(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function Af(e){return function(t){return-e(-t)}}function Pf(e){var t,n,r=e(_f,Ef),i=r.domain,o=10;function a(){return t=Cf(o),n=Of(o),i()[0]<0?(t=Af(t),n=Af(n),e(xf,wf)):e(_f,Ef),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),s=a[0],l=a[a.length-1];(r=l<s)&&(p=s,s=l,l=p);var u,c,f,p=t(s),d=t(l),h=null==e?10:+e,v=[];if(!(o%1)&&d-p<h){if(p=Math.round(p)-1,d=Math.round(d)+1,s>0){for(;p<d;++p)for(c=1,u=n(p);c<o;++c)if(f=u*c,!(f<s)){if(f>l)break;v.push(f)}}else for(;p<d;++p)for(c=o-1,u=n(p);c>=1;--c)if(f=u*c,!(f<s)){if(f>l)break;v.push(f)}}else v=Wu(p,d,Math.min(d-p,h)).map(n);return r?v.reverse():v},r.tickFormat=function(e,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=Qc(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?i(e):""}},r.nice=function(){return i(bf(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function kf(){var e=Pf(Hc()).domain([1,10]);return e.copy=function(){return zc(e,kf()).base(e.base())},ac.apply(e,arguments),e}function Mf(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Tf(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Lf(e){return e<0?-e*e:e*e}function If(e){var t=e(Nc,Nc),n=1;function r(){return 1===n?e(Nc,Nc):.5===n?e(Tf,Lf):e(Mf(n),Mf(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},mf(t)}function Df(){var e=If(Hc());return e.copy=function(){return zc(e,Df()).exponent(e.exponent())},ac.apply(e,arguments),e}function Rf(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);r=new Array(i-1);while(++e<i)r[e-1]=Xu(t,e/i);return o}function o(t){return isNaN(t=+t)?e:n[Fu(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,r=0,o=e.length;r<o;++r)n=e[r],null==n||isNaN(n=+n)||t.push(n);return t.sort(Iu),i()},o.range=function(e){return arguments.length?(n=gc.call(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return Rf().domain(t).range(n).unknown(e)},ac.apply(o,arguments)}function Nf(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return t<=t?o[Fu(i,t,0,r)]:e}function s(){var e=-1;i=new Array(r);while(++e<r)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=gc.call(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Nf().domain([t,n]).range(o).unknown(e)},ac.apply(mf(a),arguments)}function jf(){var e,t=[.5],n=[0,1],r=1;function i(i){return i<=i?n[Fu(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=gc.call(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=gc.call(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return jf().domain(t).range(n).unknown(e)},ac.apply(i,arguments)}var Ff=new Date,Bf=new Date;function Uf(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return Uf((function(t){if(t>=t)while(e(t),!n(t))t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)while(++r<=0)while(t(e,-1),!n(e));else while(--r>=0)while(t(e,1),!n(e));}))},n&&(i.count=function(t,r){return Ff.setTime(+t),Bf.setTime(+r),e(Ff),e(Bf),Math.floor(n(Ff,Bf))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var zf=Uf((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));zf.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Uf((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var Hf=zf,Vf=(zf.range,Uf((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),Gf=Vf,Wf=(Vf.range,1e3),qf=6e4,Yf=36e5,Xf=864e5,Kf=6048e5;function Zf(e){return Uf((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qf)/Kf}))}var Qf=Zf(0),Jf=Zf(1),$f=Zf(2),ep=Zf(3),tp=Zf(4),np=Zf(5),rp=Zf(6),ip=(Qf.range,Jf.range,$f.range,ep.range,tp.range,np.range,rp.range,Uf((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qf)/Xf}),(function(e){return e.getDate()-1}))),op=ip,ap=(ip.range,Uf((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wf-e.getMinutes()*qf)}),(function(e,t){e.setTime(+e+t*Yf)}),(function(e,t){return(t-e)/Yf}),(function(e){return e.getHours()}))),sp=ap,lp=(ap.range,Uf((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wf)}),(function(e,t){e.setTime(+e+t*qf)}),(function(e,t){return(t-e)/qf}),(function(e){return e.getMinutes()}))),up=lp,cp=(lp.range,Uf((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*Wf)}),(function(e,t){return(t-e)/Wf}),(function(e){return e.getUTCSeconds()}))),fp=cp,pp=(cp.range,Uf((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));pp.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Uf((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):pp:null};var dp=pp;pp.range;function hp(e){return Uf((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/Kf}))}var vp=hp(0),mp=hp(1),gp=hp(2),yp=hp(3),bp=hp(4),_p=hp(5),Ep=hp(6),xp=(vp.range,mp.range,gp.range,yp.range,bp.range,_p.range,Ep.range,Uf((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/Xf}),(function(e){return e.getUTCDate()-1}))),wp=xp,Sp=(xp.range,Uf((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));Sp.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Uf((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Op=Sp;Sp.range;function Cp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ap(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pp(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function kp(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=Fp(i),c=Bp(i),f=Fp(o),p=Bp(o),d=Fp(a),h=Bp(a),v=Fp(s),m=Bp(s),g=Fp(l),y=Bp(l),b={a:I,A:D,b:R,B:N,c:null,d:ad,e:ad,f:fd,g:xd,G:Sd,H:sd,I:ld,j:ud,L:cd,m:pd,M:dd,p:j,q:F,Q:Yd,s:Xd,S:hd,u:vd,U:md,V:yd,w:bd,W:_d,x:null,X:null,y:Ed,Y:wd,Z:Od,"%":qd},_={a:B,A:U,b:z,B:H,c:null,d:Cd,e:Cd,f:Td,g:Hd,G:Gd,H:Ad,I:Pd,j:kd,L:Md,m:Ld,M:Id,p:V,q:G,Q:Yd,s:Xd,S:Dd,u:Rd,U:Nd,V:Fd,w:Bd,W:Ud,x:null,X:null,y:zd,Y:Vd,Z:Wd,"%":qd},E={a:C,A:A,b:P,B:k,c:M,d:Zp,e:Zp,f:nd,g:qp,G:Wp,H:Jp,I:Jp,j:Qp,L:td,m:Kp,M:$p,p:O,q:Xp,Q:id,s:od,S:ed,u:zp,U:Hp,V:Vp,w:Up,W:Gp,x:T,X:L,y:qp,Y:Wp,Z:Yp,"%":rd};function x(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;n instanceof Date||(n=new Date(+n));while(++s<u)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Lp[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function w(e,t){return function(n){var r,i,o=Pp(1900,void 0,1),a=S(o,e,n+="",0);if(a!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=Ap(Pp(o.y,0,1)),i=r.getUTCDay(),r=i>4||0===i?mp.ceil(r):mp(r),r=wp.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=Cp(Pp(o.y,0,1)),i=r.getDay(),r=i>4||0===i?Jf.ceil(r):Jf(r),r=op.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Ap(Pp(o.y,0,1)).getUTCDay():Cp(Pp(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Ap(o)):Cp(o)}}function S(e,t,n,r){var i,o,a=0,s=t.length,l=n.length;while(a<s){if(r>=l)return-1;if(i=t.charCodeAt(a++),37===i){if(i=t.charAt(a++),o=E[i in Lp?t.charAt(a++):i],!o||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function O(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1}function C(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h[r[0].toLowerCase()],n+r[0].length):-1}function A(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1}function P(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1}function k(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=m[r[0].toLowerCase()],n+r[0].length):-1}function M(e,n,r){return S(e,t,n,r)}function T(e,t,r){return S(e,n,t,r)}function L(e,t,n){return S(e,r,t,n)}function I(e){return a[e.getDay()]}function D(e){return o[e.getDay()]}function R(e){return l[e.getMonth()]}function N(e){return s[e.getMonth()]}function j(e){return i[+(e.getHours()>=12)]}function F(e){return 1+~~(e.getMonth()/3)}function B(e){return a[e.getUTCDay()]}function U(e){return o[e.getUTCDay()]}function z(e){return l[e.getUTCMonth()]}function H(e){return s[e.getUTCMonth()]}function V(e){return i[+(e.getUTCHours()>=12)]}function G(e){return 1+~~(e.getUTCMonth()/3)}return b.x=x(n,b),b.X=x(r,b),b.c=x(t,b),_.x=x(n,_),_.X=x(r,_),_.c=x(t,_),{format:function(e){var t=x(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=w(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=w(e+="",!0);return t.toString=function(){return e},t}}}var Mp,Tp,Lp={"-":"",_:" ",0:"0"},Ip=/^\s*\d+/,Dp=/^%/,Rp=/[\\^$*+?|[\]().{}]/g;function Np(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function jp(e){return e.replace(Rp,"\\$&")}function Fp(e){return new RegExp("^(?:"+e.map(jp).join("|")+")","i")}function Bp(e){var t={},n=-1,r=e.length;while(++n<r)t[e[n].toLowerCase()]=n;return t}function Up(e,t,n){var r=Ip.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function zp(e,t,n){var r=Ip.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Hp(e,t,n){var r=Ip.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Vp(e,t,n){var r=Ip.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Gp(e,t,n){var r=Ip.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Wp(e,t,n){var r=Ip.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function qp(e,t,n){var r=Ip.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Yp(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Xp(e,t,n){var r=Ip.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Kp(e,t,n){var r=Ip.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Zp(e,t,n){var r=Ip.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Qp(e,t,n){var r=Ip.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Jp(e,t,n){var r=Ip.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function $p(e,t,n){var r=Ip.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ed(e,t,n){var r=Ip.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function td(e,t,n){var r=Ip.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function nd(e,t,n){var r=Ip.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function rd(e,t,n){var r=Dp.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function id(e,t,n){var r=Ip.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function od(e,t,n){var r=Ip.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ad(e,t){return Np(e.getDate(),t,2)}function sd(e,t){return Np(e.getHours(),t,2)}function ld(e,t){return Np(e.getHours()%12||12,t,2)}function ud(e,t){return Np(1+op.count(Hf(e),e),t,3)}function cd(e,t){return Np(e.getMilliseconds(),t,3)}function fd(e,t){return cd(e,t)+"000"}function pd(e,t){return Np(e.getMonth()+1,t,2)}function dd(e,t){return Np(e.getMinutes(),t,2)}function hd(e,t){return Np(e.getSeconds(),t,2)}function vd(e){var t=e.getDay();return 0===t?7:t}function md(e,t){return Np(Qf.count(Hf(e)-1,e),t,2)}function gd(e){var t=e.getDay();return t>=4||0===t?tp(e):tp.ceil(e)}function yd(e,t){return e=gd(e),Np(tp.count(Hf(e),e)+(4===Hf(e).getDay()),t,2)}function bd(e){return e.getDay()}function _d(e,t){return Np(Jf.count(Hf(e)-1,e),t,2)}function Ed(e,t){return Np(e.getFullYear()%100,t,2)}function xd(e,t){return e=gd(e),Np(e.getFullYear()%100,t,2)}function wd(e,t){return Np(e.getFullYear()%1e4,t,4)}function Sd(e,t){var n=e.getDay();return e=n>=4||0===n?tp(e):tp.ceil(e),Np(e.getFullYear()%1e4,t,4)}function Od(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Np(t/60|0,"0",2)+Np(t%60,"0",2)}function Cd(e,t){return Np(e.getUTCDate(),t,2)}function Ad(e,t){return Np(e.getUTCHours(),t,2)}function Pd(e,t){return Np(e.getUTCHours()%12||12,t,2)}function kd(e,t){return Np(1+wp.count(Op(e),e),t,3)}function Md(e,t){return Np(e.getUTCMilliseconds(),t,3)}function Td(e,t){return Md(e,t)+"000"}function Ld(e,t){return Np(e.getUTCMonth()+1,t,2)}function Id(e,t){return Np(e.getUTCMinutes(),t,2)}function Dd(e,t){return Np(e.getUTCSeconds(),t,2)}function Rd(e){var t=e.getUTCDay();return 0===t?7:t}function Nd(e,t){return Np(vp.count(Op(e)-1,e),t,2)}function jd(e){var t=e.getUTCDay();return t>=4||0===t?bp(e):bp.ceil(e)}function Fd(e,t){return e=jd(e),Np(bp.count(Op(e),e)+(4===Op(e).getUTCDay()),t,2)}function Bd(e){return e.getUTCDay()}function Ud(e,t){return Np(mp.count(Op(e)-1,e),t,2)}function zd(e,t){return Np(e.getUTCFullYear()%100,t,2)}function Hd(e,t){return e=jd(e),Np(e.getUTCFullYear()%100,t,2)}function Vd(e,t){return Np(e.getUTCFullYear()%1e4,t,4)}function Gd(e,t){var n=e.getUTCDay();return e=n>=4||0===n?bp(e):bp.ceil(e),Np(e.getUTCFullYear()%1e4,t,4)}function Wd(){return"+0000"}function qd(){return"%"}function Yd(e){return+e}function Xd(e){return Math.floor(+e/1e3)}function Kd(e){return Mp=kp(e),Tp=Mp.format,Mp.parse,Mp.utcFormat,Mp.utcParse,Mp}Kd({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Zd=1e3,Qd=60*Zd,Jd=60*Qd,$d=24*Jd,eh=7*$d,th=30*$d,nh=365*$d;function rh(e){return new Date(e)}function ih(e){return e instanceof Date?+e:+new Date(+e)}function oh(e,t,n,r,i,o,a,s,l){var u=Vc(Nc,Nc),c=u.invert,f=u.domain,p=l(".%L"),d=l(":%S"),h=l("%I:%M"),v=l("%I %p"),m=l("%a %d"),g=l("%b %d"),y=l("%B"),b=l("%Y"),_=[[a,1,Zd],[a,5,5*Zd],[a,15,15*Zd],[a,30,30*Zd],[o,1,Qd],[o,5,5*Qd],[o,15,15*Qd],[o,30,30*Qd],[i,1,Jd],[i,3,3*Jd],[i,6,6*Jd],[i,12,12*Jd],[r,1,$d],[r,2,2*$d],[n,1,eh],[t,1,th],[t,3,3*th],[e,1,nh]];function E(s){return(a(s)<s?p:o(s)<s?d:i(s)<s?h:r(s)<s?v:t(s)<s?n(s)<s?m:g:e(s)<s?y:b)(s)}function x(t,n,r,i){if(null==t&&(t=10),"number"===typeof t){var o=Math.abs(r-n)/t,a=Du((function(e){return e[2]})).right(_,o);a===_.length?(i=Yu(n/nh,r/nh,t),t=e):a?(a=_[o/_[a-1][2]<_[a][2]/o?a-1:a],i=a[1],t=a[0]):(i=Math.max(Yu(n,r,t),1),t=s)}return null==i?t:t.every(i)}return u.invert=function(e){return new Date(c(e))},u.domain=function(e){return arguments.length?f(mc.call(e,ih)):f().map(rh)},u.ticks=function(e,t){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=x(e,i,o,t),n=n?n.range(i,o+1):[],a?n.reverse():n},u.tickFormat=function(e,t){return null==t?E:l(t)},u.nice=function(e,t){var n=f();return(e=x(e,n[0],n[n.length-1],t))?f(bf(n,e)):u},u.copy=function(){return zc(u,oh(e,t,n,r,i,o,a,s,l))},u}var ah,sh,lh,uh,ch,fh,ph=function(){return ac.apply(oh(Hf,Gf,Qf,op,sp,up,fp,dp,Tp).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},dh=Uf((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),hh=(dh.range,Uf((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*Yf)}),(function(e,t){return(t-e)/Yf}),(function(e){return e.getUTCHours()}))),vh=(hh.range,Uf((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*qf)}),(function(e,t){return(t-e)/qf}),(function(e){return e.getUTCMinutes()})));vh.range;function mh(){var e,t,n,r,i,o=0,a=1,s=Nc,l=!1;function u(t){return isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}return u.domain=function(i){return arguments.length?(e=r(o=+i[0]),t=r(a=+i[1]),n=e===t?0:1/(t-e),u):[o,a]},u.clamp=function(e){return arguments.length?(l=!!e,u):l},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.unknown=function(e){return arguments.length?(i=e,u):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),u}}function gh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yh(){var e=mf(mh()(Nc));return e.copy=function(){return gh(e,yh())},sc.apply(e,arguments)}function bh(){var e,t,n,r,i,o,a,s=0,l=.5,u=1,c=Nc,f=!1;function p(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(e<t?r:i),c(f?Math.max(0,Math.min(1,e)):e))}return p.domain=function(a){return arguments.length?(e=o(s=+a[0]),t=o(l=+a[1]),n=o(u=+a[2]),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),p):[s,l,u]},p.clamp=function(e){return arguments.length?(f=!!e,p):f},p.interpolator=function(e){return arguments.length?(c=e,p):c},p.unknown=function(e){return arguments.length?(a=e,p):a},function(a){return o=a,e=a(s),t=a(l),n=a(u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),p}}function _h(){var e=mf(bh()(Nc));return e.copy=function(){return gh(e,_h())},sc.apply(e,arguments)}function Eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eh(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wh,Sh,Oh,Ch,Ah,Ph,kh,Mh=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,Th=(ah={},S()(ah,Bt["h"].LINEAR,gf),S()(ah,Bt["h"].POWER,Df),S()(ah,Bt["h"].LOG,kf),S()(ah,Bt["h"].IDENTITY,yf),S()(ah,Bt["h"].SEQUENTIAL,yh),S()(ah,Bt["h"].TIME,ph),S()(ah,Bt["h"].QUANTILE,Rf),S()(ah,Bt["h"].QUANTIZE,Nf),S()(ah,Bt["h"].THRESHOLD,jf),S()(ah,Bt["h"].CAT,bc),S()(ah,Bt["h"].DIVERGING,_h),ah),Lh=(sh=Object(xu["injectable"])(),lh=Object(xu["inject"])(Bt["k"].IGlobalConfigService),sh((ch=function(){function e(){we()(this,e),xn()(this,"configService",fh,this),S()(this,"scaleCache",{}),S()(this,"scaleOptions",{})}return Oe()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("FeatureScalePlugin",(function(){n.scaleOptions=e.getScaleOptions();var t=r.getLayerStyleAttributes(),i=e.getSource().data.dataArray;0!==i.length&&n.caculateScalesForAttributes(t||[],i)})),e.hooks.beforeRenderData.tap("FeatureScalePlugin",(function(){n.scaleOptions=e.getScaleOptions();var t=r.getLayerStyleAttributes(),i=e.getSource().data.dataArray;return n.caculateScalesForAttributes(t||[],i),e.layerModelNeedUpdate=!0,!0})),e.hooks.beforeRender.tap("FeatureScalePlugin",(function(){if(!e.layerModelNeedUpdate){n.scaleOptions=e.getScaleOptions();var t=r.getLayerStyleAttributes();if(t){var i=e.getSource().data.dataArray;if(0===i.length)return;var o=t.filter((function(e){return e.needRescale}));o.length&&n.caculateScalesForAttributes(o,i)}}}))}},{key:"isNumber",value:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},{key:"caculateScalesForAttributes",value:function(e,t){var n=this;this.scaleCache={},e.forEach((function(e){if(e.scale){var r=e.scale;e.name;r.names=n.parseFields(e.scale.field||[]);var i=[];r.names.forEach((function(r){var o;i.push(n.createScale(r,e.name,null===(o=e.scale)||void 0===o?void 0:o.values,t))})),i.some((function(e){return e.type===Bt["j"].VARIABLE}))?(r.type=Bt["j"].VARIABLE,i.forEach((function(e){var t,n;if(!r.callback&&"text"!==r.values)switch(null===(t=e.option)||void 0===t?void 0:t.type){case Bt["h"].LOG:case Bt["h"].LINEAR:case Bt["h"].POWER:if(r.values&&r.values.length>2){var i=e.scale.ticks(r.values.length);e.scale.domain(i)}r.values?e.scale.range(r.values):e.scale.range(e.option.domain);break;case Bt["h"].QUANTILE:case Bt["h"].QUANTIZE:case Bt["h"].THRESHOLD:e.scale.range(r.values);break;case Bt["h"].CAT:r.values?e.scale.range(r.values):e.scale.range(e.option.domain);break;case Bt["h"].DIVERGING:case Bt["h"].SEQUENTIAL:e.scale.interpolator(oc(r.values));break}"text"===r.values&&e.scale.range(null===(n=e.option)||void 0===n?void 0:n.domain)}))):(r.type=Bt["j"].CONSTANT,r.defaultValues=i.map((function(e,t){return e.scale(r.names[t])}))),r.scalers=i.map((function(e){return{field:e.field,func:e.scale,option:e.option}})),e.needRescale=!1}}))}},{key:"parseFields",value:function(e){return Array.isArray(e)?e:je()(e)?e.split("*"):[e]}},{key:"createScale",value:function(e,t,n,r){var i,o,a=this.scaleOptions[t]&&(null===(i=this.scaleOptions[t])||void 0===i?void 0:i.field)===e?this.scaleOptions[t]:this.scaleOptions[e],s={field:e,scale:void 0,type:Bt["j"].VARIABLE,option:a};if(!r||!r.length)return a&&a.type?s.scale=this.createDefaultScale(a):(s.scale=bc([e]),s.type=Bt["j"].CONSTANT),s;var l=null===(o=r.find((function(t){return!Lu()(t[e])})))||void 0===o?void 0:o[e];if(this.isNumber(e)||Lu()(l)&&!a)s.scale=bc([e]),s.type=Bt["j"].CONSTANT;else{var u=a&&a.type||this.getDefaultType(l);"text"===n&&(u=Bt["h"].CAT);var c=this.createScaleConfig(u,e,a,r);s.scale=this.createDefaultScale(c),s.option=c}return s}},{key:"getDefaultType",value:function(e){var t=Bt["h"].LINEAR;return"string"===typeof e&&(t=Mh.test(e)?Bt["h"].TIME:Bt["h"].CAT),t}},{key:"createScaleConfig",value:function(e,t,n,r){var i={type:e},o=(null===r||void 0===r?void 0:r.map((function(e){return e[t]})))||[];if(null!==n&&void 0!==n&&n.domain)i.domain=null===n||void 0===n?void 0:n.domain;else if(e!==Bt["h"].CAT&&e!==Bt["h"].QUANTILE&&e!==Bt["h"].DIVERGING)i.domain=Uu(o);else if(e===Bt["h"].CAT)i.domain=Mu()(o);else if(e===Bt["h"].QUANTILE)i.domain=o;else if(e===Bt["h"].DIVERGING){var a=Uu(o),s=void 0!==(null===n||void 0===n?void 0:n.neutral)?null===n||void 0===n?void 0:n.neutral:(a[0]+a[1])/2;i.domain=[a[0],s,a[1]]}return xh(xh({},i),n)}},{key:"createDefaultScale",value:function(e){var t=e.type,n=e.domain,r=e.unknown,i=e.clamp,o=e.nice,a=Th[t]();return n&&a.domain&&a.domain(n),r&&a.unknown(r),void 0!==i&&a.clamp&&a.clamp(i),void 0!==o&&a.nice&&a.nice(o),a}}]),e}(),fh=Sn()(ch.prototype,"configService",[lh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uh=ch))||uh);function Ih(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ih(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ih(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rh,Nh,jh,Fh,Bh,Uh,zh=(wh=Object(xu["injectable"])(),Sh=Object(xu["inject"])(Bt["k"].ICameraService),Oh=Object(xu["inject"])(Bt["k"].IRendererService),wh((Ah=function(){function e(){we()(this,e),xn()(this,"cameraService",Ph,this),xn()(this,"rendererService",kh,this)}return Oe()(e,[{key:"apply",value:function(e){e.hooks.beforeRender.tap("LayerAnimateStylePlugin",(function(){e.models.forEach((function(t){t.addUniforms(Dh({},e.layerModel.getAnimateUniforms()))}))}))}}]),e}(),Ph=Sn()(Ah.prototype,"cameraService",[Sh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kh=Sn()(Ah.prototype,"rendererService",[Oh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ch=Ah))||Ch),Hh=(Rh=Object(xu["injectable"])(),Rh(Nh=function(){function e(){we()(this,e)}return Oe()(e,[{key:"initLayerModel",value:function(e){e.prepareBuildModel(),e.buildModels(),e.emit("modelLoaded",null),e.styleNeedUpdate=!1}},{key:"prepareLayerModel",value:function(e){e.prepareBuildModel(),e.clearModels(),e.buildModels(),e.emit("modelLoaded",null),e.layerModelNeedUpdate=!1}},{key:"apply",value:function(e){var t=this;e.hooks.init.tap("LayerModelPlugin",(function(){e.inited=!0;var n=e.getSource();n.inited&&t.initLayerModel(e)})),e.hooks.beforeRenderData.tap("DataSourcePlugin",(function(){var n=e.getSource();return n.inited?t.prepareLayerModel(e):n.once("sourceUpdate",(function(){t.prepareLayerModel(e)})),!1}))}}]),e}())||Nh),Vh=(jh=Object(xu["injectable"])(),jh(Fh=function(){function e(){we()(this,e)}return Oe()(e,[{key:"apply",value:function(e){e.hooks.afterInit.tap("LayerStylePlugin",(function(){e.updateLayerConfig({});var t=e.getLayerConfig(),n=t.autoFit,r=t.fitBoundsOptions;n&&setTimeout((function(){e.fitBounds(r)}),100)}))}}]),e}())||Fh),Gh=["type"];function Wh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wh(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yh={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},Xh={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},Kh={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},Zh={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5};function Qh(e){var t={u_DirectionalLights:new Array(3).fill(qh({},Kh)),u_NumOfDirectionalLights:0,u_SpotLights:new Array(3).fill(qh({},Zh)),u_NumOfSpotLights:0};return e&&e.length||(e=[Xh]),e.forEach((function(e,n){var r=e.type,i=void 0===r?"directional":r,o=_n()(e,Gh),a=Yh[i].lights,s=Yh[i].num,l=t[s];t[a][l]=qh(qh({},t[a][l]),o),t[s]++})),t}var Jh,$h,ev,tv,nv,rv,iv,ov,av,sv,lv,uv,cv,fv,pv,dv,hv,vv,mv,gv,yv,bv,_v,Ev,xv=(Bh=Object(xu["injectable"])(),Bh(Uh=function(){function e(){we()(this,e)}return Oe()(e,[{key:"apply",value:function(e){e.hooks.beforeRender.tap("LightingPlugin",(function(){var t=e.getLayerConfig(),n=t.enableLighting;n&&e.models.forEach((function(e){return e.addUniforms(qh({},Qh()))}))}))}}]),e}())||Uh),wv=(Jh=Object(xu["injectable"])(),$h=Object(xu["inject"])(Bt["k"].IGlobalConfigService),Jh((tv=function(){function e(){we()(this,e),xn()(this,"configService",nv,this),S()(this,"enabled",void 0)}return Oe()(e,[{key:"apply",value:function(e,t){var n=this,r=t.rendererService,i=t.postProcessingPassFactory,o=t.normalPassFactory;e.hooks.init.tap("MultiPassRendererPlugin",(function(){var t=e.getLayerConfig(),r=t.enableMultiPassRenderer,a=t.passes,s=void 0===a?[]:a;n.enabled=!!r&&!1!==e.getLayerConfig().enableMultiPassRenderer,n.enabled&&(e.multiPassRenderer=qn(e,s,i,o),e.multiPassRenderer.setRenderFlag(!0))})),e.hooks.beforeRender.tap("MultiPassRendererPlugin",(function(){if(n.enabled){var t=r.getViewportSize(),i=t.width,o=t.height;e.multiPassRenderer.resize(i,o)}}))}}]),e}(),nv=Sn()(tv.prototype,"configService",[$h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ev=tv))||ev),Sv={NONE:0,ENCODE:1,HIGHLIGHT:2},Ov=(rv=Object(xu["injectable"])(),rv(iv=function(){function e(){we()(this,e)}return Oe()(e,[{key:"apply",value:function(e,t){t.rendererService;var n=t.styleAttributeService;e.hooks.init.tap("PixelPickingPlugin",(function(){var t=e.getLayerConfig(),r=t.enablePicking;t.enableMultiPassRenderer;n.registerStyleAttribute({name:"pickingColor",type:Bt["a"].Attribute,descriptor:{name:"a_PickingColor",buffer:{data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t){var n=e.id;return r?Object(q["t"])(n):[0,0,0]}}})})),e.hooks.beforePickingEncode.tap("PixelPickingPlugin",(function(){var t=e.getLayerConfig(),n=t.enablePicking;n&&e.isVisible()&&e.models.forEach((function(e){return e.addUniforms({u_PickingStage:Sv.ENCODE})}))})),e.hooks.afterPickingEncode.tap("PixelPickingPlugin",(function(){var t=e.getLayerConfig(),n=t.enablePicking;n&&e.isVisible()&&e.models.forEach((function(e){return e.addUniforms({u_PickingStage:Sv.HIGHLIGHT})}))})),e.hooks.beforeHighlight.tap("PixelPickingPlugin",(function(t){var n=e.getLayerConfig(),r=n.highlightColor,i=n.activeMix,o=void 0===i?0:i,a="string"===typeof r?Object(q["M"])(r):r||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:Object(q["s"])(new Uint8Array(t))}),e.models.forEach((function(e){return e.addUniforms({u_PickingStage:Sv.HIGHLIGHT,u_PickingColor:t,u_HighlightColor:a.map((function(e){return 255*e})),u_activeMix:o})}))})),e.hooks.beforeSelect.tap("PixelPickingPlugin",(function(t){var n=e.getLayerConfig(),r=n.selectColor,i=n.selectMix,o=void 0===i?0:i,a="string"===typeof r?Object(q["M"])(r):r||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:Object(q["s"])(new Uint8Array(t))}),e.models.forEach((function(e){return e.addUniforms({u_PickingStage:Sv.HIGHLIGHT,u_PickingColor:t,u_HighlightColor:a.map((function(e){return 255*e})),u_activeMix:o,u_CurrentSelectedId:t,u_SelectColor:a.map((function(e){return 255*e})),u_EnableSelect:1})}))}))}}]),e}())||iv),Cv=(ov=Object(xu["injectable"])(),ov(av=function(){function e(){we()(this,e)}return Oe()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("RegisterStyleAttributePlugin",(function(){n.registerBuiltinAttributes(r)}))}},{key:"registerBuiltinAttributes",value:function(e){e.registerStyleAttribute({name:"position",type:Bt["a"].Attribute,descriptor:{name:"a_Position",buffer:{data:[],type:Bt["o"].FLOAT},size:3,update:function(e,t,n){return 2===n.length?[n[0],n[1],0]:[n[0],n[1],n[2]]}}}),e.registerStyleAttribute({name:"filter",type:Bt["a"].Attribute,descriptor:{name:"filter",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t){var n=e.filter;return n?[1]:[0]}}}),e.registerStyleAttribute({name:"color",type:Bt["a"].Attribute,descriptor:{name:"a_Color",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:4,update:function(e,t){var n=e.color;return n&&n.length?n:[1,1,1,1]}}}),e.registerStyleAttribute({name:"vertexId",type:Bt["a"].Attribute,descriptor:{name:"a_vertexId",buffer:{usage:Bt["o"].DYNAMIC_DRAW,data:[],type:Bt["o"].FLOAT},size:1,update:function(e,t,n,r){return[t]}}})}}]),e}())||av),Av=(sv=Object(xu["injectable"])(),lv=Object(xu["inject"])(Bt["k"].ICameraService),uv=Object(xu["inject"])(Bt["k"].ICoordinateSystemService),cv=Object(xu["inject"])(Bt["k"].IRendererService),fv=Object(xu["inject"])(Bt["k"].IMapService),sv((dv=function(){function e(){we()(this,e),xn()(this,"cameraService",hv,this),xn()(this,"coordinateSystemService",vv,this),xn()(this,"rendererService",mv,this),xn()(this,"mapService",gv,this)}return Oe()(e,[{key:"apply",value:function(e){var t=this,n=this.mapService.version,r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i=[0,0];e.hooks.beforeRender.tap("ShaderUniformPlugin",(function(){var o=e.getLayerConfig().tileOrigin;if(t.coordinateSystemService.refresh(o),"GAODE2.x"===n){var a=t.getLayerCenter(e);t.mapService.map.customCoords.setCenter(a),t.mapService.setCustomCoordCenter(a),r=t.mapService.map.customCoords.getMVPMatrix(),i=t.mapService.getCustomCoordCenter()}var s=t.rendererService.getViewportSize(),l=s.width,u=s.height;e.models.forEach((function(n){var o;n.addUniforms((o={},S()(o,Bt["c"].ProjectionMatrix,t.cameraService.getProjectionMatrix()),S()(o,Bt["c"].ViewMatrix,t.cameraService.getViewMatrix()),S()(o,Bt["c"].ViewProjectionMatrix,t.cameraService.getViewProjectionMatrix()),S()(o,Bt["c"].Zoom,t.cameraService.getZoom()),S()(o,Bt["c"].ZoomScale,t.cameraService.getZoomScale()),S()(o,Bt["c"].FocalDistance,t.cameraService.getFocalDistance()),S()(o,Bt["c"].CameraPosition,t.cameraService.getCameraPosition()),S()(o,Bt["e"].CoordinateSystem,t.coordinateSystemService.getCoordinateSystem()),S()(o,Bt["e"].ViewportCenter,t.coordinateSystemService.getViewportCenter()),S()(o,Bt["e"].ViewportCenterProjection,t.coordinateSystemService.getViewportCenterProjection()),S()(o,Bt["e"].PixelsPerDegree,t.coordinateSystemService.getPixelsPerDegree()),S()(o,Bt["e"].PixelsPerDegree2,t.coordinateSystemService.getPixelsPerDegree2()),S()(o,Bt["e"].PixelsPerMeter,t.coordinateSystemService.getPixelsPerMeter()),S()(o,Bt["e"].Mvp,r),S()(o,"u_SceneCenterMKT",i),S()(o,"u_ViewportSize",[l,u]),S()(o,"u_ModelMatrix",t.cameraService.getModelMatrix()),S()(o,"u_DevicePixelRatio",q["a"].devicePixelRatio),S()(o,"u_PickingBuffer",e.getLayerConfig().pickingBuffer||0),S()(o,"u_shaderPick",Number(e.getShaderPickStat())),o))}))}))}},{key:"getLayerCenter",value:function(e){var t=e.getSource();return t.center}}]),e}(),hv=Sn()(dv.prototype,"cameraService",[lv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vv=Sn()(dv.prototype,"coordinateSystemService",[uv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mv=Sn()(dv.prototype,"rendererService",[cv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gv=Sn()(dv.prototype,"mapService",[fv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pv=dv))||pv),Pv=(yv=Object(xu["injectable"])(),yv(bv=function(){function e(){we()(this,e)}return Oe()(e,[{key:"apply",value:function(e){e.hooks.beforeRender.tap("UpdateModelPlugin",(function(){e.layerModel&&e.layerModel.needUpdate()}))}}]),e}())||bv),kv=(_v=Object(xu["injectable"])(),_v(Ev=function(){function e(){we()(this,e)}return Oe()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("UpdateStyleAttributePlugin",(function(){n.initStyleAttribute(e,{styleAttributeService:r})})),e.hooks.beforeRender.tap("UpdateStyleAttributePlugin",(function(){e.layerModelNeedUpdate||n.updateStyleAtrribute(e,{styleAttributeService:r})}))}},{key:"updateStyleAtrribute",value:function(e,t){var n=t.styleAttributeService,r=n.getLayerStyleAttributes()||[],i=n.getLayerStyleAttribute("filter");n.getLayerStyleAttribute("shape");if(i&&i.needRegenerateVertices)return e.layerModelNeedUpdate=!0,void r.forEach((function(e){return e.needRegenerateVertices=!1}));r.filter((function(e){return e.needRegenerateVertices})).forEach((function(t){n.updateAttributeByFeatureRange(t.name,e.getEncodedData(),t.featureRange.startIndex,t.featureRange.endIndex),t.needRegenerateVertices=!1}))}},{key:"initStyleAttribute",value:function(e,t){var n=t.styleAttributeService,r=n.getLayerStyleAttributes()||[];r.filter((function(e){return e.needRegenerateVertices})).forEach((function(t){n.updateAttributeByFeatureRange(t.name,e.getEncodedData(),t.featureRange.startIndex,t.featureRange.endIndex),t.needRegenerateVertices=!1}))}}]),e}())||Ev);Bt["l"].bind(Bt["k"].ILayerPlugin).to(Pu).inRequestScope(),Bt["l"].bind(Bt["k"].ILayerPlugin).to(Cv).inRequestScope(),Bt["l"].bind(Bt["k"].ILayerPlugin).to(Lh).inRequestScope(),Bt["l"].bind(Bt["k"].ILayerPlugin).to(Au).inRequestScope(),Bt["l"].bind(Bt["k"].ILayerPlugin).to(Vh).inRequestScope(),Bt["l"].bind(Bt["k"].ILayerPlugin).to(kv).inRequestScope(),Bt["l"].bind(Bt["k"].ILayerPlugin).to(Pv).inRequestScope(),Bt["l"].bind(Bt["k"].ILayerPlugin).to(wv).inRequestScope(),Bt["l"].bind(Bt["k"].ILayerPlugin).to(Av).inRequestScope(),Bt["l"].bind(Bt["k"].ILayerPlugin).to(zh).inRequestScope(),Bt["l"].bind(Bt["k"].ILayerPlugin).to(xv).inRequestScope(),Bt["l"].bind(Bt["k"].ILayerPlugin).to(Ov).inRequestScope(),Bt["l"].bind(Bt["k"].ILayerPlugin).to(Hh).inRequestScope();var Mv,Tv,Lv,Iv,Dv,Rv,Nv,jv,Fv,Bv,Uv,zv,Hv,Vv,Gv=n("SUU4"),Wv=n.n(Gv),qv=function(){function e(t,n){we()(this,e),S()(this,"attribute",void 0),S()(this,"buffer",void 0);var r=n.buffer,i=n.offset,o=n.stride,a=n.normalized,s=n.size,l=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:i||0,stride:o||0,normalized:a||!1,divisor:l||0},s&&(this.attribute.size=s)}return Oe()(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),Yv=(Mv={},S()(Mv,Bt["o"].POINTS,"points"),S()(Mv,Bt["o"].LINES,"lines"),S()(Mv,Bt["o"].LINE_LOOP,"line loop"),S()(Mv,Bt["o"].LINE_STRIP,"line strip"),S()(Mv,Bt["o"].TRIANGLES,"triangles"),S()(Mv,Bt["o"].TRIANGLE_FAN,"triangle fan"),S()(Mv,Bt["o"].TRIANGLE_STRIP,"triangle strip"),Mv),Xv=(Tv={},S()(Tv,Bt["o"].STATIC_DRAW,"static"),S()(Tv,Bt["o"].DYNAMIC_DRAW,"dynamic"),S()(Tv,Bt["o"].STREAM_DRAW,"stream"),Tv),Kv=(Lv={},S()(Lv,Bt["o"].BYTE,"int8"),S()(Lv,Bt["o"].UNSIGNED_INT,"int16"),S()(Lv,Bt["o"].INT,"int32"),S()(Lv,Bt["o"].UNSIGNED_BYTE,"uint8"),S()(Lv,Bt["o"].UNSIGNED_SHORT,"uint16"),S()(Lv,Bt["o"].UNSIGNED_INT,"uint32"),S()(Lv,Bt["o"].FLOAT,"float"),Lv),Zv=(Iv={},S()(Iv,Bt["o"].ALPHA,"alpha"),S()(Iv,Bt["o"].LUMINANCE,"luminance"),S()(Iv,Bt["o"].LUMINANCE_ALPHA,"luminance alpha"),S()(Iv,Bt["o"].RGB,"rgb"),S()(Iv,Bt["o"].RGBA,"rgba"),S()(Iv,Bt["o"].RGBA4,"rgba4"),S()(Iv,Bt["o"].RGB5_A1,"rgb5 a1"),S()(Iv,Bt["o"].RGB565,"rgb565"),S()(Iv,Bt["o"].DEPTH_COMPONENT,"depth"),S()(Iv,Bt["o"].DEPTH_STENCIL,"depth stencil"),Iv),Qv=(Dv={},S()(Dv,Bt["o"].DONT_CARE,"dont care"),S()(Dv,Bt["o"].NICEST,"nice"),S()(Dv,Bt["o"].FASTEST,"fast"),Dv),Jv=(Rv={},S()(Rv,Bt["o"].NEAREST,"nearest"),S()(Rv,Bt["o"].LINEAR,"linear"),S()(Rv,Bt["o"].LINEAR_MIPMAP_LINEAR,"mipmap"),S()(Rv,Bt["o"].NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),S()(Rv,Bt["o"].LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),S()(Rv,Bt["o"].NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Rv),$v=(Nv={},S()(Nv,Bt["o"].REPEAT,"repeat"),S()(Nv,Bt["o"].CLAMP_TO_EDGE,"clamp"),S()(Nv,Bt["o"].MIRRORED_REPEAT,"mirror"),Nv),em=(jv={},S()(jv,Bt["o"].NONE,"none"),S()(jv,Bt["o"].BROWSER_DEFAULT_WEBGL,"browser"),jv),tm=(Fv={},S()(Fv,Bt["o"].NEVER,"never"),S()(Fv,Bt["o"].ALWAYS,"always"),S()(Fv,Bt["o"].LESS,"less"),S()(Fv,Bt["o"].LEQUAL,"lequal"),S()(Fv,Bt["o"].GREATER,"greater"),S()(Fv,Bt["o"].GEQUAL,"gequal"),S()(Fv,Bt["o"].EQUAL,"equal"),S()(Fv,Bt["o"].NOTEQUAL,"notequal"),Fv),nm=(Bv={},S()(Bv,Bt["o"].FUNC_ADD,"add"),S()(Bv,Bt["o"].MIN_EXT,"min"),S()(Bv,Bt["o"].MAX_EXT,"max"),S()(Bv,Bt["o"].FUNC_SUBTRACT,"subtract"),S()(Bv,Bt["o"].FUNC_REVERSE_SUBTRACT,"reverse subtract"),Bv),rm=(Uv={},S()(Uv,Bt["o"].ZERO,"zero"),S()(Uv,Bt["o"].ONE,"one"),S()(Uv,Bt["o"].SRC_COLOR,"src color"),S()(Uv,Bt["o"].ONE_MINUS_SRC_COLOR,"one minus src color"),S()(Uv,Bt["o"].SRC_ALPHA,"src alpha"),S()(Uv,Bt["o"].ONE_MINUS_SRC_ALPHA,"one minus src alpha"),S()(Uv,Bt["o"].DST_COLOR,"dst color"),S()(Uv,Bt["o"].ONE_MINUS_DST_COLOR,"one minus dst color"),S()(Uv,Bt["o"].DST_ALPHA,"dst alpha"),S()(Uv,Bt["o"].ONE_MINUS_DST_ALPHA,"one minus dst alpha"),S()(Uv,Bt["o"].CONSTANT_COLOR,"constant color"),S()(Uv,Bt["o"].ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),S()(Uv,Bt["o"].CONSTANT_ALPHA,"constant alpha"),S()(Uv,Bt["o"].ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),S()(Uv,Bt["o"].SRC_ALPHA_SATURATE,"src alpha saturate"),Uv),im=(zv={},S()(zv,Bt["o"].NEVER,"never"),S()(zv,Bt["o"].ALWAYS,"always"),S()(zv,Bt["o"].LESS,"less"),S()(zv,Bt["o"].LEQUAL,"lequal"),S()(zv,Bt["o"].GREATER,"greater"),S()(zv,Bt["o"].GEQUAL,"gequal"),S()(zv,Bt["o"].EQUAL,"equal"),S()(zv,Bt["o"].NOTEQUAL,"notequal"),zv),om=(Hv={},S()(Hv,Bt["o"].ZERO,"zero"),S()(Hv,Bt["o"].KEEP,"keep"),S()(Hv,Bt["o"].REPLACE,"replace"),S()(Hv,Bt["o"].INVERT,"invert"),S()(Hv,Bt["o"].INCR,"increment"),S()(Hv,Bt["o"].DECR,"decrement"),S()(Hv,Bt["o"].INCR_WRAP,"increment wrap"),S()(Hv,Bt["o"].DECR_WRAP,"decrement wrap"),Hv),am=(Vv={},S()(Vv,Bt["o"].FRONT,"front"),S()(Vv,Bt["o"].BACK,"back"),Vv),sm=function(){function e(t,n){we()(this,e),S()(this,"buffer",void 0);var r=n.data,i=n.usage,o=n.type;this.buffer=t.buffer({data:r,usage:Xv[i||Bt["o"].STATIC_DRAW],type:Kv[o||Bt["o"].UNSIGNED_BYTE]})}return Oe()(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.buffer.subdata(t,n)}}]),e}(),lm=function(){function e(t,n){we()(this,e),S()(this,"elements",void 0);var r=n.data,i=n.usage,o=n.type,a=n.count;this.elements=t.elements({data:r,usage:Xv[i||Bt["o"].STATIC_DRAW],type:Kv[o||Bt["o"].UNSIGNED_BYTE],count:a})}return Oe()(e,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(e){var t=e.data;this.elements.subdata(t)}},{key:"destroy",value:function(){}}]),e}(),um=function(){function e(t,n){we()(this,e),S()(this,"framebuffer",void 0);var r=n.width,i=n.height,o=n.color,a=n.colors,s=(n.depth,n.stencil,{width:r,height:i});Array.isArray(a)&&(s.colors=a.map((function(e){return e.get()}))),o&&"boolean"!==typeof o&&(s.color=o.get()),this.framebuffer=t.framebuffer(s)}return Oe()(e,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.framebuffer.resize(t,n)}}]),e}(),cm=n("cDf5"),fm=n.n(cm),pm=n("c6wG"),dm=n.n(pm),hm=n("YO3V"),vm=n.n(hm);function mm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mm(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ym,bm,_m=function(){function e(t,n){we()(this,e),S()(this,"reGl",void 0),S()(this,"destroyed",!1),S()(this,"drawCommand",void 0),S()(this,"drawPickCommand",void 0),S()(this,"drawParams",void 0),S()(this,"options",void 0),S()(this,"uniforms",{}),this.reGl=t;var r=n.vs,i=n.fs,o=n.attributes,a=n.uniforms,s=n.primitive,l=n.count,u=n.elements,c=n.depth,f=n.blend,p=n.stencil,d=n.cull,h=n.instances,v={};this.options=n,a&&(this.uniforms=this.extractUniforms(a),Object.keys(a).forEach((function(e){v[e]=t.prop(e)})));var m={};Object.keys(o).forEach((function(e){m[e]=o[e].get()}));var g={attributes:m,frag:i,uniforms:v,vert:r,blend:{},primitive:Yv[void 0===s?Bt["o"].TRIANGLES:s]};h&&(g.instances=h),l&&(g.count=l),u&&(g.elements=u.get()),this.initDepthDrawParams({depth:c},g),this.initBlendDrawParams({blend:f},g),this.initStencilDrawParams({stencil:p},g),this.initCullDrawParams({cull:d},g),this.drawCommand=t(g);var y=ze()(g);y.blend=gm(gm({},y.blend),{},{enable:!1}),this.drawPickCommand=t(y),this.drawParams=g}return Oe()(e,[{key:"updateAttributesAndElements",value:function(e,t){var n={};Object.keys(e).forEach((function(t){n[t]=e[t].get()})),this.drawParams.attributes=n,this.drawParams.elements=t.get(),this.drawCommand=this.reGl(this.drawParams);var r=ze()(this.drawParams);r.blend=gm(gm({},r.blend),{},{enable:!1}),this.drawPickCommand=this.reGl(r)}},{key:"updateAttributes",value:function(e){var t={};Object.keys(e).forEach((function(n){t[n]=e[n].get()})),this.drawParams.attributes=t,this.drawCommand=this.reGl(this.drawParams);var n=ze()(this.drawParams);n.blend=gm(gm({},n.blend),{},{enable:!1}),this.drawPickCommand=this.reGl(n)}},{key:"addUniforms",value:function(e){this.uniforms=gm(gm({},this.uniforms),this.extractUniforms(e))}},{key:"draw",value:function(e,t){if(!this.drawParams.attributes||0!==Object.keys(this.drawParams.attributes).length){var n=gm(gm({},this.uniforms),this.extractUniforms(e.uniforms||{})),r={};Object.keys(n).forEach((function(e){var t=fm()(n[e]);"boolean"===t||"number"===t||Array.isArray(n[e])||n[e].BYTES_PER_ELEMENT?r[e]=n[e]:r[e]=n[e].get()})),t?this.drawPickCommand(r):this.drawCommand(r)}}},{key:"destroy",value:function(){this.drawParams.elements.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach((function(e){e.destroy()})),this.destroyed=!0}},{key:"initDepthDrawParams",value:function(e,t){var n=e.depth;n&&(t.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:tm[n.func||Bt["o"].LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(e,t){var n=e.blend;if(n){var r=n.enable,i=n.func,o=n.equation,a=n.color,s=void 0===a?[0,0,0,0]:a;t.blend={enable:!!r,func:{srcRGB:rm[i&&i.srcRGB||Bt["o"].SRC_ALPHA],srcAlpha:rm[i&&i.srcAlpha||Bt["o"].SRC_ALPHA],dstRGB:rm[i&&i.dstRGB||Bt["o"].ONE_MINUS_SRC_ALPHA],dstAlpha:rm[i&&i.dstAlpha||Bt["o"].ONE_MINUS_SRC_ALPHA]},equation:{rgb:nm[o&&o.rgb||Bt["o"].FUNC_ADD],alpha:nm[o&&o.alpha||Bt["o"].FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(e,t){var n=e.stencil;if(n){var r=n.enable,i=n.mask,o=void 0===i?-1:i,a=n.func,s=void 0===a?{cmp:Bt["o"].ALWAYS,ref:0,mask:-1}:a,l=n.opFront,u=void 0===l?{fail:Bt["o"].KEEP,zfail:Bt["o"].KEEP,zpass:Bt["o"].KEEP}:l,c=n.opBack,f=void 0===c?{fail:Bt["o"].KEEP,zfail:Bt["o"].KEEP,zpass:Bt["o"].KEEP}:c;t.stencil={enable:!!r,mask:o,func:gm(gm({},s),{},{cmp:im[s.cmp]}),opFront:{fail:om[u.fail],zfail:om[u.zfail],zpass:om[u.zpass]},opBack:{fail:om[f.fail],zfail:om[f.zfail],zpass:om[f.zpass]}}}}},{key:"initCullDrawParams",value:function(e,t){var n=e.cull;if(n){var r=n.enable,i=n.face,o=void 0===i?Bt["o"].BACK:i;t.cull={enable:!!r,face:am[o]}}}},{key:"extractUniforms",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){t.extractUniformsRecursively(r,e[r],n,"")})),n}},{key:"extractUniformsRecursively",value:function(e,t,n,r){var i=this;null===t||"number"===typeof t||"boolean"===typeof t||Array.isArray(t)&&"number"===typeof t[0]||dm()(t)||""===t||"resize"in t?n["".concat(r&&r+".").concat(e)]=t:(vm()(t)&&Object.keys(t).forEach((function(o){i.extractUniformsRecursively(o,t[o],n,"".concat(r&&r+".").concat(e))})),Array.isArray(t)&&t.forEach((function(t,o){Object.keys(t).forEach((function(a){i.extractUniformsRecursively(a,t[a],n,"".concat(r&&r+".").concat(e,"[").concat(o,"]"))}))})))}}]),e}(),Em=function(){function e(t,n){we()(this,e),S()(this,"texture",void 0),S()(this,"width",void 0),S()(this,"height",void 0),S()(this,"isDistroy",!1);var r=n.data,i=n.type,o=void 0===i?Bt["o"].UNSIGNED_BYTE:i,a=n.width,s=n.height,l=n.flipY,u=void 0!==l&&l,c=n.format,f=void 0===c?Bt["o"].RGBA:c,p=n.mipmap,d=void 0!==p&&p,h=n.wrapS,v=void 0===h?Bt["o"].CLAMP_TO_EDGE:h,m=n.wrapT,g=void 0===m?Bt["o"].CLAMP_TO_EDGE:m,y=n.aniso,b=void 0===y?0:y,_=n.alignment,E=void 0===_?1:_,x=n.premultiplyAlpha,w=void 0!==x&&x,O=n.mag,C=void 0===O?Bt["o"].NEAREST:O,A=n.min,P=void 0===A?Bt["o"].NEAREST:A,k=n.colorSpace,M=void 0===k?Bt["o"].BROWSER_DEFAULT_WEBGL:k,T=n.x,L=void 0===T?0:T,I=n.y,D=void 0===I?0:I,R=n.copy,N=void 0!==R&&R;this.width=a,this.height=s;var j={width:a,height:s,type:Kv[o],format:Zv[f],wrapS:$v[v],wrapT:$v[g],mag:Jv[C],min:Jv[P],alignment:E,flipY:u,colorSpace:em[M],premultiplyAlpha:w,aniso:b,x:L,y:D,copy:N};r&&(j.data=r),"number"===typeof d?j.mipmap=Qv[d]:"boolean"===typeof d&&(j.mipmap=d),this.texture=t.texture(j)}return Oe()(e,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.texture(e)}},{key:"bind",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.texture.resize(t,n),this.width=t,this.height=n}},{key:"destroy",value:function(){var e;this.isDistroy||(null===(e=this.texture)||void 0===e||e.destroy());this.isDistroy=!0}}]),e}(),xm=(ym=Object(xu["injectable"])(),ym(bm=function(){function e(){var t=this;we()(this,e),S()(this,"extensionObject",void 0),S()(this,"gl",void 0),S()(this,"$container",void 0),S()(this,"canvas",void 0),S()(this,"width",void 0),S()(this,"height",void 0),S()(this,"isDirty",void 0),S()(this,"createModel",(function(e){return new _m(t.gl,e)})),S()(this,"createAttribute",(function(e){return new qv(t.gl,e)})),S()(this,"createBuffer",(function(e){return new sm(t.gl,e)})),S()(this,"createElements",(function(e){return new lm(t.gl,e)})),S()(this,"createTexture2D",(function(e){return new Em(t.gl,e)})),S()(this,"createFramebuffer",(function(e){return new um(t.gl,e)})),S()(this,"useFramebuffer",(function(e,n){t.gl({framebuffer:e?e.get():null})(n)})),S()(this,"clear",(function(e){var n,r=e.color,i=e.depth,o=e.stencil,a=e.framebuffer,s=void 0===a?null:a,l={color:r,depth:i,stencil:o};l.framebuffer=null===s?s:s.get(),null===(n=t.gl)||void 0===n||n.clear(l)})),S()(this,"viewport",(function(e){var n=e.x,r=e.y,i=e.width,o=e.height;t.gl._gl.viewport(n,r,i,o),t.width=i,t.height=o,t.gl._refresh()})),S()(this,"readPixels",(function(e){var n=e.framebuffer,r=e.x,i=e.y,o=e.width,a=e.height,s={x:r,y:i,width:o,height:a};return n&&(s.framebuffer=n.get()),t.gl.read(s)})),S()(this,"getViewportSize",(function(){return{width:t.gl._gl.drawingBufferWidth,height:t.gl._gl.drawingBufferHeight}})),S()(this,"getContainer",(function(){return q["F"]?t.canvas:null===(e=t.canvas)||void 0===e?void 0:e.parentElement;var e})),S()(this,"getCanvas",(function(){return t.canvas})),S()(this,"getGLContext",(function(){return t.gl._gl})),S()(this,"destroy",(function(){var e,n,r;t.canvas=null,null===(e=t.gl)||void 0===e||null===(n=e._gl)||void 0===n||null===(r=n.getExtension("WEBGL_lose_context"))||void 0===r||r.loseContext(),t.gl.destroy(),t.gl=null}))}return Oe()(e,[{key:"init",value:function(){var e=Z()(J.a.mark((function e(t,n){var r=this;return J.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.canvas=t,e.next=3,new Promise((function(e,t){Wv()({canvas:r.canvas,attributes:{alpha:!0,antialias:n.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,stencil:n.stencil},extensions:["OES_element_index_uint","OES_standard_derivatives","ANGLE_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(n,r){!n&&r||t(n),e(r)}})}));case 3:this.gl=e.sent,this.extensionObject={OES_texture_float:this.testExtension("OES_texture_float")};case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getPointSizeRange",value:function(){return this.gl._gl.getParameter(this.gl._gl.ALIASED_POINT_SIZE_RANGE)}},{key:"testExtension",value:function(e){return!!this.getGLContext().getExtension(e)}},{key:"setState",value:function(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!0,equation:"add"},framebuffer:null}),this.gl._refresh()}},{key:"setBaseState",value:function(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh()}},{key:"setCustomLayerDefaults",value:function(){var e=this.getGLContext();e.disable(e.CULL_FACE)}},{key:"setDirty",value:function(e){this.isDirty=e}},{key:"getDirty",value:function(){return this.isDirty}}]),e}())||bm);function wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wm(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Om=function(){function e(t){we()(this,e),S()(this,"sceneService",void 0),S()(this,"mapService",void 0),S()(this,"controlService",void 0),S()(this,"layerService",void 0),S()(this,"iconService",void 0),S()(this,"markerService",void 0),S()(this,"popupService",void 0),S()(this,"fontService",void 0),S()(this,"interactionService",void 0),S()(this,"container",void 0);var n=t.id,r=t.map,i=t.canvas,o=t.hasBaseMap,a=Object(Bt["n"])();this.container=a,r.setContainer(a,n,i,o),a.bind(Bt["k"].IRendererService).to(xm).inSingletonScope(),this.sceneService=a.get(Bt["k"].ISceneService),this.mapService=a.get(Bt["k"].IMapService),this.iconService=a.get(Bt["k"].IIconService),this.fontService=a.get(Bt["k"].IFontService),this.controlService=a.get(Bt["k"].IControlService),this.layerService=a.get(Bt["k"].ILayerService),this.markerService=a.get(Bt["k"].IMarkerService),this.interactionService=a.get(Bt["k"].IInteractionService),this.popupService=a.get(Bt["k"].IPopupService),q["F"]?this.sceneService.initMiniScene(t):(this.initComponent(n),this.sceneService.init(t),this.initControl())}return Oe()(e,[{key:"map",get:function(){return this.mapService.map}},{key:"loaded",get:function(){return this.sceneService.loaded}},{key:"getServiceContainer",value:function(){return this.container}},{key:"getSize",value:function(){return this.mapService.getSize()}},{key:"getMinZoom",value:function(){return this.mapService.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.mapService.getMaxZoom()}},{key:"getType",value:function(){return this.mapService.getType()}},{key:"getMapContainer",value:function(){return this.mapService.getMapContainer()}},{key:"getMapCanvasContainer",value:function(){return this.mapService.getMapCanvasContainer()}},{key:"getMapService",value:function(){return this.mapService}},{key:"exportPng",value:function(e){return this.sceneService.exportPng(e)}},{key:"exportMap",value:function(e){return this.sceneService.exportPng(e)}},{key:"registerRenderService",value:function(e){var t=this;if(this.sceneService.loaded){var n=new e(this);n.init()}else this.on("loaded",(function(){var n=new e(t);n.init()}))}},{key:"setBgColor",value:function(e){this.mapService.setBgColor(e)}},{key:"addLayer",value:function(e){var t=Object(Bt["m"])(this.container);e.setContainer(t,this.container),this.sceneService.addLayer(e);var n=e.getLayerConfig();if(n){var r=n.mask,i=n.maskfence,o=n.maskColor,a=void 0===o?"#000":o,s=n.maskOpacity,l=void 0===s?0:s;if(r&&i){var u=(new yi).source(i).shape("fill").color(a).style({opacity:l});this.addMask(u,e.id)}}else console.warn("addLayer should run after scene loaded!")}},{key:"addMask",value:function(e,t){var n=this.getLayer(t);if(n){var r=Object(Bt["m"])(this.container);e.setContainer(r,this.container),n.addMaskLayer(e),this.sceneService.addLayer(e)}else console.warn("parent layer not find!")}},{key:"getPickedLayer",value:function(){return this.layerService.pickedLayerId}},{key:"getLayers",value:function(){return this.layerService.getLayers()}},{key:"getLayer",value:function(e){return this.layerService.getLayer(e)}},{key:"getLayerByName",value:function(e){return this.layerService.getLayerByName(e)}},{key:"removeLayer",value:function(e,t){this.layerService.remove(e,t)}},{key:"removeAllLayer",value:function(){this.layerService.removeAllLayers()}},{key:"render",value:function(){this.sceneService.render()}},{key:"setEnableRender",value:function(e){this.layerService.setEnableRender(e)}},{key:"addIconFont",value:function(e,t){this.fontService.addIconFont(e,t)}},{key:"addIconFonts",value:function(e){var t=this;e.forEach((function(e){var n=Et()(e,2),r=n[0],i=n[1];t.fontService.addIconFont(r,i)}))}},{key:"addFontFace",value:function(e,t){this.sceneService.addFontFace(e,t)}},{key:"addImage",value:function(e,t){q["F"]?this.iconService.addImageMini(e,t,this.sceneService):this.iconService.addImage(e,t)}},{key:"hasImage",value:function(e){return this.iconService.hasImage(e)}},{key:"removeImage",value:function(e){this.iconService.removeImage(e)}},{key:"addIconFontGlyphs",value:function(e,t){this.fontService.addIconGlyphs(t)}},{key:"addControl",value:function(e){this.controlService.addControl(e,this.container)}},{key:"removeControl",value:function(e){this.controlService.removeControl(e)}},{key:"getControlByName",value:function(e){return this.controlService.getControlByName(e)}},{key:"addMarker",value:function(e){this.markerService.addMarker(e)}},{key:"addMarkerLayer",value:function(e){this.markerService.addMarkerLayer(e)}},{key:"removeMarkerLayer",value:function(e){this.markerService.removeMarkerLayer(e)}},{key:"removeAllMakers",value:function(){this.markerService.removeAllMarkers()}},{key:"addPopup",value:function(e){this.popupService.addPopup(e)}},{key:"on",value:function(e,t){-1===Bt["i"].indexOf(e)?this.mapService.on(e,t):this.sceneService.on(e,t)}},{key:"once",value:function(e,t){-1===Bt["i"].indexOf(e)?this.mapService.once(e,t):this.sceneService.once(e,t)}},{key:"off",value:function(e,t){-1===Bt["i"].indexOf(e)?this.mapService.off(e,t):this.sceneService.off(e,t)}},{key:"getZoom",value:function(){return this.mapService.getZoom()}},{key:"getCenter",value:function(e){return this.mapService.getCenter(e)}},{key:"setCenter",value:function(e,t){return this.mapService.setCenter(e,t)}},{key:"getPitch",value:function(){return this.mapService.getPitch()}},{key:"setPitch",value:function(e){return this.mapService.setPitch(e)}},{key:"getRotation",value:function(){return this.mapService.getRotation()}},{key:"getBounds",value:function(){return this.mapService.getBounds()}},{key:"setRotation",value:function(e){this.mapService.setRotation(e)}},{key:"zoomIn",value:function(){this.mapService.zoomIn()}},{key:"zoomOut",value:function(){this.mapService.zoomOut()}},{key:"panTo",value:function(e){this.mapService.panTo(e)}},{key:"panBy",value:function(e,t){this.mapService.panBy(e,t)}},{key:"getContainer",value:function(){return this.mapService.getContainer()}},{key:"setZoom",value:function(e){this.mapService.setZoom(e)}},{key:"fitBounds",value:function(e,t){var n=this.sceneService.getSceneConfig(),r=n.fitBoundsOptions,i=n.animate;this.mapService.fitBounds(e,t||Sm(Sm({},r),{},{animate:i}))}},{key:"setZoomAndCenter",value:function(e,t){this.mapService.setZoomAndCenter(e,t)}},{key:"setMapStyle",value:function(e){this.mapService.setMapStyle(e)}},{key:"setMapStatus",value:function(e){this.mapService.setMapStatus(e)}},{key:"pixelToLngLat",value:function(e){return this.mapService.pixelToLngLat(e)}},{key:"lngLatToPixel",value:function(e){return this.mapService.lngLatToPixel(e)}},{key:"containerToLngLat",value:function(e){return this.mapService.containerToLngLat(e)}},{key:"lngLatToContainer",value:function(e){return this.mapService.lngLatToContainer(e)}},{key:"destroy",value:function(){this.sceneService.destroy()}},{key:"registerPostProcessingPass",value:function(e,t){this.container.bind(Bt["k"].IPostProcessingPass).to(e).whenTargetNamed(t)}},{key:"enableShaderPick",value:function(){this.layerService.enableShaderPick()}},{key:"diasbleShaderPick",value:function(){this.layerService.disableShaderPick()}},{key:"getPointSizeRange",value:function(){return this.sceneService.getPointSizeRange()}},{key:"initComponent",value:function(e){this.controlService.init({container:q["b"].getContainer(e)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}},{key:"initControl",value:function(){var e=this.sceneService.getSceneConfig(),t=e.logoVisible,n=e.logoPosition;t&&this.addControl(new Zt({position:n}))}}]),e}()},"8r4s":function(e,t,n){var r=n("I+eb"),i=n("P940");r({target:"Set",stat:!0},{of:i})},"8x8i":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["circle-start"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["circle-start"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"8yz6":function(e,t,n){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},"8z13":function(e,t,n){"use strict";var r=n("wx14"),i=n("VTBJ"),o=n("ODXe"),a=n("Ff2n"),s=n("q1tI"),l=n("TSYQ"),u=n.n(l),c=n("t23M"),f=n("TNol"),p=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],d=void 0;function h(e,t){var n=e.prefixCls,o=e.invalidate,l=e.item,f=e.renderItem,h=e.responsive,v=e.responsiveDisabled,m=e.registerSize,g=e.itemKey,y=e.className,b=e.style,_=e.children,E=e.display,x=e.order,w=e.component,S=void 0===w?"div":w,O=Object(a["a"])(e,p),C=h&&!E;function A(e){m(g,e)}s["useEffect"]((function(){return function(){A(null)}}),[]);var P,k=f&&l!==d?f(l):_;o||(P={opacity:C?0:1,height:C?0:d,overflowY:C?"hidden":d,order:h?x:d,pointerEvents:C?"none":d,position:C?"absolute":d});var M={};C&&(M["aria-hidden"]=!0);var T=s["createElement"](S,Object(r["a"])({className:u()(!o&&n,y),style:Object(i["a"])(Object(i["a"])({},P),b)},M,O,{ref:t}),k);return h&&(T=s["createElement"](c["a"],{onResize:function(e){var t=e.offsetWidth;A(t)},disabled:v},T)),T}var v=s["forwardRef"](h);v.displayName="Item";var m=v,g=n("wgJM"),y=n("dm2S");function b(){var e=Object(y["a"])({}),t=Object(o["a"])(e,2),n=t[1],r=Object(s["useRef"])([]),i=0,a=0;function l(e){var t=i;i+=1,r.current.length<t+1&&(r.current[t]=e);var o=r.current[t];function s(e){r.current[t]="function"===typeof e?e(r.current[t]):e,g["a"].cancel(a),a=Object(g["a"])((function(){n({},!0)}))}return[o,s]}return l}var _=["component"],E=["className"],x=["className"],w=function(e,t){var n=s["useContext"](A);if(!n){var i=e.component,o=void 0===i?"div":i,l=Object(a["a"])(e,_);return s["createElement"](o,Object(r["a"])({},l,{ref:t}))}var c=n.className,f=Object(a["a"])(n,E),p=e.className,d=Object(a["a"])(e,x);return s["createElement"](A.Provider,{value:null},s["createElement"](m,Object(r["a"])({ref:t,className:u()(c,p)},f,d)))},S=s["forwardRef"](w);S.displayName="RawItem";var O=S,C=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],A=s["createContext"](null),P="responsive",k="invalidate";function M(e){return"+ ".concat(e.length," ...")}function T(e,t){var n=e.prefixCls,l=void 0===n?"rc-overflow":n,p=e.data,d=void 0===p?[]:p,h=e.renderItem,v=e.renderRawItem,g=e.itemKey,y=e.itemWidth,_=void 0===y?10:y,E=e.ssr,x=e.style,w=e.className,S=e.maxCount,O=e.renderRest,T=e.renderRawRest,L=e.suffix,I=e.component,D=void 0===I?"div":I,R=e.itemComponent,N=e.onVisibleChange,j=Object(a["a"])(e,C),F=b(),B="full"===E,U=F(null),z=Object(o["a"])(U,2),H=z[0],V=z[1],G=H||0,W=F(new Map),q=Object(o["a"])(W,2),Y=q[0],X=q[1],K=F(0),Z=Object(o["a"])(K,2),Q=Z[0],J=Z[1],$=F(0),ee=Object(o["a"])($,2),te=ee[0],ne=ee[1],re=F(0),ie=Object(o["a"])(re,2),oe=ie[0],ae=ie[1],se=Object(s["useState"])(null),le=Object(o["a"])(se,2),ue=le[0],ce=le[1],fe=Object(s["useState"])(null),pe=Object(o["a"])(fe,2),de=pe[0],he=pe[1],ve=s["useMemo"]((function(){return null===de&&B?Number.MAX_SAFE_INTEGER:de||0}),[de,H]),me=Object(s["useState"])(!1),ge=Object(o["a"])(me,2),ye=ge[0],be=ge[1],_e="".concat(l,"-item"),Ee=Math.max(Q,te),xe=S===P,we=d.length&&xe,Se=S===k,Oe=we||"number"===typeof S&&d.length>S,Ce=Object(s["useMemo"])((function(){var e=d;return we?e=null===H&&B?d:d.slice(0,Math.min(d.length,G/_)):"number"===typeof S&&(e=d.slice(0,S)),e}),[d,_,H,S,we]),Ae=Object(s["useMemo"])((function(){return we?d.slice(ve+1):d.slice(Ce.length)}),[d,Ce,we,ve]),Pe=Object(s["useCallback"])((function(e,t){var n;return"function"===typeof g?g(e):null!==(n=g&&(null===e||void 0===e?void 0:e[g]))&&void 0!==n?n:t}),[g]),ke=Object(s["useCallback"])(h||function(e){return e},[h]);function Me(e,t,n){(de!==e||void 0!==t&&t!==ue)&&(he(e),n||(be(e<d.length-1),null===N||void 0===N||N(e)),void 0!==t&&ce(t))}function Te(e,t){V(t.clientWidth)}function Le(e,t){X((function(n){var r=new Map(n);return null===t?r["delete"](e):r.set(e,t),r}))}function Ie(e,t){ne(t),J(te)}function De(e,t){ae(t)}function Re(e){return Y.get(Pe(Ce[e],e))}Object(f["a"])((function(){if(G&&Ee&&Ce){var e=oe,t=Ce.length,n=t-1;if(!t)return void Me(0,null);for(var r=0;r<t;r+=1){var i=Re(r);if(B&&(i=i||0),void 0===i){Me(r-1,void 0,!0);break}if(e+=i,0===n&&e<=G||r===n-1&&e+Re(n)<=G){Me(n,null);break}if(e+Ee>G){Me(r-1,e-i-oe+te);break}}L&&Re(0)+oe>G&&ce(null)}}),[G,Y,te,oe,Pe,Ce]);var Ne=ye&&!!Ae.length,je={};null!==ue&&we&&(je={position:"absolute",left:ue,top:0});var Fe,Be={prefixCls:_e,responsive:we,component:R,invalidate:Se},Ue=v?function(e,t){var n=Pe(e,t);return s["createElement"](A.Provider,{key:n,value:Object(i["a"])(Object(i["a"])({},Be),{},{order:t,item:e,itemKey:n,registerSize:Le,display:t<=ve})},v(e,t))}:function(e,t){var n=Pe(e,t);return s["createElement"](m,Object(r["a"])({},Be,{order:t,key:n,item:e,renderItem:ke,itemKey:n,registerSize:Le,display:t<=ve}))},ze={order:Ne?ve:Number.MAX_SAFE_INTEGER,className:"".concat(_e,"-rest"),registerSize:Ie,display:Ne};if(T)T&&(Fe=s["createElement"](A.Provider,{value:Object(i["a"])(Object(i["a"])({},Be),ze)},T(Ae)));else{var He=O||M;Fe=s["createElement"](m,Object(r["a"])({},Be,ze),"function"===typeof He?He(Ae):He)}var Ve=s["createElement"](D,Object(r["a"])({className:u()(!Se&&l,w),style:x,ref:t},j),Ce.map(Ue),Oe?Fe:null,L&&s["createElement"](m,Object(r["a"])({},Be,{responsive:xe,responsiveDisabled:!we,order:ve,className:"".concat(_e,"-suffix"),registerSize:De,display:!0,style:je}),L));return xe&&(Ve=s["createElement"](c["a"],{onResize:Te,disabled:!we},Ve)),Ve}var L=s["forwardRef"](T);L.displayName="Overflow",L.Item=O,L.RESPONSIVE=P,L.INVALIDATE=k;var I=L;t["a"]=I},"9/5/":function(e,t,n){(function(t){var n="Expected a function",r=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=c||f||Function("return this")(),d=Object.prototype,h=d.toString,v=Math.max,m=Math.min,g=function(){return p.Date.now()};function y(e,t,r){var i,o,a,s,l,u,c=0,f=!1,p=!1,d=!0;if("function"!=typeof e)throw new TypeError(n);function h(t){var n=i,r=o;return i=o=void 0,c=t,s=e.apply(r,n),s}function y(e){return c=e,l=setTimeout(w,t),f?h(e):s}function _(e){var n=e-u,r=e-c,i=t-n;return p?m(i,a-r):i}function E(e){var n=e-u,r=e-c;return void 0===u||n>=t||n<0||p&&r>=a}function w(){var e=g();if(E(e))return S(e);l=setTimeout(w,_(e))}function S(e){return l=void 0,d&&i?h(e):(i=o=void 0,s)}function O(){void 0!==l&&clearTimeout(l),c=0,i=u=o=l=void 0}function C(){return void 0===l?s:S(g())}function A(){var e=g(),n=E(e);if(i=arguments,o=this,u=e,n){if(void 0===l)return y(u);if(p)return l=setTimeout(w,t),h(u)}return void 0===l&&(l=setTimeout(w,t)),s}return t=x(t)||0,b(r)&&(f=!!r.leading,p="maxWait"in r,a=p?v(x(r.maxWait)||0,t):a,d="trailing"in r?!!r.trailing:d),A.cancel=O,A.flush=C,A}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){return!!e&&"object"==typeof e}function E(e){return"symbol"==typeof e||_(e)&&h.call(e)==i}function x(e){if("number"==typeof e)return e;if(E(e))return r;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?r:+e}e.exports=y}).call(this,n("IyRk"))},"90hW":function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},"93I0":function(e,t,n){var r=n("VpIT"),i=n("kOOl"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},"94Qb":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["polygon-event"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["polygon-event"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"94Xl":function(e,t,n){var r=n("JiZb");r("Array")},"9D6x":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("HAuM");r({target:"Map",proto:!0,real:!0,forced:i},{update:function(e,t){var n=o(this),r=arguments.length;a(t);var i=n.has(e);if(!i&&r<3)throw TypeError("Updating absent value");var s=i?n.get(e):a(r>2?arguments[2]:void 0)(e,n);return n.set(e,t(s,e,n)),n}})},"9Fde":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var a=n("LgvC"),s=n("MON2"),l=n("FV85"),u=n("xfSm"),c=n("wnjb"),f=n("h7MG"),p=n("aPG5"),d=n("gzZq"),h=n("d9O0"),v=n("ujMp"),m=n("HpQ9"),g=n("AwBQ"),y=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!==typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=l.BindingScopeEnum.Transient;else if(t.defaultScope!==l.BindingScopeEnum.Singleton&&t.defaultScope!==l.BindingScopeEnum.Transient&&t.defaultScope!==l.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!==typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!==typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=h.id(),this._bindingDictionary=new g.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new c.MetadataReader}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new e,s=o([t,n],r).map((function(e){return f.getBindingDictionary(e)})),l=f.getBindingDictionary(a);function u(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return s.forEach((function(e){u(e,l)})),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],a=t(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||l.BindingScopeEnum.Transient,n=new a.Binding(e,t);return this._bindingDictionary.add(e,n),new d.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+v.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new g.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,u.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=f.createMockRequest(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(m.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,l.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,l.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,u.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,l.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,l.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,u.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach((function(e){t.applyMiddleware(e)})),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.bind.bind(e),o=i(r);return t(o,n),o}},r=function(t){return function(t){var n=e.unbind.bind(e);n(t)}},i=function(t){return function(t){var n=e.isBound.bind(e);return n(t)}},o=function(n){return function(r){var i=e.rebind.bind(e),o=i(r);return t(o,n),o}};return function(e){return{bindFunction:n(e),isboundFunction:i(e),rebindFunction:o(e),unbindFunction:r(e)}}},e.prototype._get=function(e,t,n,r,i,o){var a=null,l={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(a=this._middleware(l),void 0===a||null===a)throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(l);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=f.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);n=t.contextInterceptor(n);var r=p.resolve(n);return r}},e}();t.Container=y},"9N29":function(e,t,n){"use strict";var r=n("I+eb"),i=n("1Y/n").right,o=n("pkCn"),a=n("rkAj"),s=o("reduceRight"),l=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!l},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"9NmV":function(e,t){var n="\\ud800-\\udfff",r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",a=r+i+o,s="\\u2700-\\u27bf",l="a-z\\xdf-\\xf6\\xf8-\\xff",u="\\xac\\xb1\\xd7\\xf7",c="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",f="\\u2000-\\u206f",p=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",d="A-Z\\xc0-\\xd6\\xd8-\\xde",h="\\ufe0e\\ufe0f",v=u+c+f+p,m="['\u2019]",g="["+v+"]",y="["+a+"]",b="\\d+",_="["+s+"]",E="["+l+"]",x="[^"+n+v+b+s+l+d+"]",w="\\ud83c[\\udffb-\\udfff]",S="(?:"+y+"|"+w+")",O="[^"+n+"]",C="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",P="["+d+"]",k="\\u200d",M="(?:"+E+"|"+x+")",T="(?:"+P+"|"+x+")",L="(?:"+m+"(?:d|ll|m|re|s|t|ve))?",I="(?:"+m+"(?:D|LL|M|RE|S|T|VE))?",D=S+"?",R="["+h+"]?",N="(?:"+k+"(?:"+[O,C,A].join("|")+")"+R+D+")*",j="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",F="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",B=R+D+N,U="(?:"+[_,C,A].join("|")+")"+B,z=RegExp([P+"?"+E+"+"+L+"(?="+[g,P,"$"].join("|")+")",T+"+"+I+"(?="+[g,P+M,"$"].join("|")+")",P+"?"+M+"+"+L,P+"+"+I,F,j,b,U].join("|"),"g");function H(e){return e.match(z)||[]}e.exports=H},"9R94":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=!0,i="Invariant failed";function o(e,t){if(!e){if(r)throw new Error(i);var n="function"===typeof t?t():t,o=n?i+": "+n:i;throw new Error(o)}}},"9d/t":function(e,t,n){var r=n("AO7/"),i=n("xrYK"),o=n("tiKp"),a=o("toStringTag"),s="Arguments"==i(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=Object(e),a))?n:s?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},"9iN/":function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol["for"],i=r?Symbol["for"]("react.element"):60103,o=r?Symbol["for"]("react.portal"):60106,a=r?Symbol["for"]("react.fragment"):60107,s=r?Symbol["for"]("react.strict_mode"):60108,l=r?Symbol["for"]("react.profiler"):60114,u=r?Symbol["for"]("react.provider"):60109,c=r?Symbol["for"]("react.context"):60110,f=r?Symbol["for"]("react.async_mode"):60111,p=r?Symbol["for"]("react.concurrent_mode"):60111,d=r?Symbol["for"]("react.forward_ref"):60112,h=r?Symbol["for"]("react.suspense"):60113,v=r?Symbol["for"]("react.suspense_list"):60120,m=r?Symbol["for"]("react.memo"):60115,g=r?Symbol["for"]("react.lazy"):60116,y=r?Symbol["for"]("react.block"):60121,b=r?Symbol["for"]("react.fundamental"):60117,_=r?Symbol["for"]("react.responder"):60118,E=r?Symbol["for"]("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type,e){case f:case p:case a:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof,e){case c:case d:case g:case m:case u:return e;default:return t}}case o:return t}}}function w(e){return x(e)===p}t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||x(e)===f},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===l},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===p||e===l||e===s||e===h||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===E||e.$$typeof===y)},t.typeOf=x},"9kvl":function(e,t,n){"use strict";var r=n("FfOG");n.d(t,"a",(function(){return r["b"]}));n("bCY9")},"9nhX":function(e,t,n){var r=n("g4R6"),i=n("tLB3");function o(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=i(n),n=n===n?n:0),void 0!==t&&(t=i(t),t=t===t?t:0),r(i(e),t,n)}e.exports=o},"9xmf":function(e,t,n){var r=n("EdiO");function i(e){if(Array.isArray(e))return r(e)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},A2ZE:function(e,t,n){var r=n("HAuM");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},A90E:function(e,t,n){var r=n("6sVZ"),i=n("V6Ve"),o=Object.prototype,a=o.hasOwnProperty;function s(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}e.exports=s},AEXf:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=(n("TpwP"),n("q1tI")),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawCircle"](e,{trigger:"drag"});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},ANai:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["line-midpoint"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["line-midpoint"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},ANw4:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawPolygon"](e,{distanceOptions:{},areaOptions:{}});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},"AO7/":function(e,t,n){var r=n("tiKp"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},AP2z:function(e,t,n){var r=n("nmnc"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;function l(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}e.exports=l},APxj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Ucsi");function i(e,t){void 0===t&&(t=!0);var n=r.makePropertyInjectDecorator(e,t),i=r.makePropertyInjectNamedDecorator(e,t),o=r.makePropertyInjectTaggedDecorator(e,t),a=r.makePropertyMultiInjectDecorator(e,t);return{lazyInject:n,lazyInjectNamed:i,lazyInjectTagged:o,lazyMultiInject:a}}t["default"]=i},AVoK:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("Cg3G");r({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},AfwI:function(e,t,n){var r;(function(i,o,a,s){"use strict";var l,u="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM,c="undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||"undefined"!==typeof wx.miniProgram),f=u||c,p=["","webkit","Moz","MS","ms","o"],d=f?"":o.createElement("div"),h="function",v=Math.round,m=Math.abs,g=Date.now;function y(e,t,n){return setTimeout(O(e,n),t)}function b(e,t,n){return!!Array.isArray(e)&&(_(e,n[t],n),!0)}function _(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s){r=0;while(r<e.length)t.call(n,e[r],r,e),r++}else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function E(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}l="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var x=E((function(e,t,n){var r=Object.keys(t),i=0;while(i<r.length)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),w=E((function(e,t){return x(e,t,!0)}),"merge","Use `assign`.");function S(e,t,n){var r,i=t.prototype;r=e.prototype=Object.create(i),r.constructor=e,r._super=i,n&&l(r,n)}function O(e,t){return function(){return e.apply(t,arguments)}}function C(e,t){return typeof e==h?e.apply(t&&t[0]||s,t):e}function A(e,t){return e===s?t:e}function P(e,t,n){_(L(t),(function(t){e.addEventListener(t,n,!1)}))}function k(e,t,n){_(L(t),(function(t){e.removeEventListener(t,n,!1)}))}function M(e,t){while(e){if(e==t)return!0;e=e.parentNode}return!1}function T(e,t){return e.indexOf(t)>-1}function L(e){return e.trim().split(/\s+/g)}function I(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);var r=0;while(r<e.length){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function D(e){return Array.prototype.slice.call(e,0)}function R(e,t,n){var r=[],i=[],o=0;while(o<e.length){var a=t?e[o][t]:e[o];I(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function N(e,t){var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;while(o<p.length){if(n=p[o],r=n?n+i:t,r in e)return r;o++}return s}var j=1;function F(){return j++}function B(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var U=/mobile|tablet|ip(ad|hone|od)|android/i,z="ontouchstart"in i,H=N(i,"PointerEvent")!==s,V=z&&U.test(navigator.userAgent),G="touch",W="pen",q="mouse",Y="kinect",X=25,K=1,Z=2,Q=4,J=8,$=1,ee=2,te=4,ne=8,re=16,ie=ee|te,oe=ne|re,ae=ie|oe,se=["x","y"],le=["clientX","clientY"];function ue(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){C(e.options.enable,[e])&&n.handler(t)},this.init()}function ce(e){var t,n=e.options.inputClass;return t=n||(H?Te:V?Be:z?Ve:Ce),new t(e,fe)}function fe(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&K&&r-i===0,a=t&(Q|J)&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,pe(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function pe(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=ve(t)),i>1&&!n.firstMultiple?n.firstMultiple=ve(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,l=t.center=me(r);t.timeStamp=g(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=_e(s,l),t.distance=be(s,l),de(n,t),t.offsetDirection=ye(t.deltaX,t.deltaY);var u=ge(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=m(u.x)>m(u.y)?u.x:u.y,t.scale=a?xe(a.pointers,r):1,t.rotation=a?Ee(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,he(n,t);var c=e.element;M(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function de(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==K&&o.eventType!==Q||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}function he(e,t){var n,r,i,o,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(t.eventType!=J&&(l>X||a.velocity===s)){var u=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,f=ge(l,u,c);r=f.x,i=f.y,n=m(f.x)>m(f.y)?f.x:f.y,o=ye(u,c),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}function ve(e){var t=[],n=0;while(n<e.pointers.length)t[n]={clientX:v(e.pointers[n].clientX),clientY:v(e.pointers[n].clientY)},n++;return{timeStamp:g(),pointers:t,center:me(t),deltaX:e.deltaX,deltaY:e.deltaY}}function me(e){var t=e.length;if(1===t)return{x:v(e[0].clientX),y:v(e[0].clientY)};var n=0,r=0,i=0;while(i<t)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:v(n/t),y:v(r/t)}}function ge(e,t,n){return{x:t/e||0,y:n/e||0}}function ye(e,t){return e===t?$:m(e)>=m(t)?e<0?ee:te:t<0?ne:re}function be(e,t,n){n||(n=se);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function _e(e,t,n){n||(n=se);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}function Ee(e,t){return _e(t[1],t[0],le)+_e(e[1],e[0],le)}function xe(e,t){return be(t[0],t[1],le)/be(e[0],e[1],le)}ue.prototype={handler:function(){},init:function(){this.evEl&&P(this.element,this.evEl,this.domHandler),this.evTarget&&P(this.target,this.evTarget,this.domHandler),this.evWin&&P(B(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(B(this.element),this.evWin,this.domHandler)}};var we={mousedown:K,mousemove:Z,mouseup:Q},Se="mousedown",Oe="mousemove mouseup";function Ce(){this.evEl=Se,this.evWin=Oe,this.pressed=!1,ue.apply(this,arguments)}S(Ce,ue,{handler:function(e){var t=we[e.type];t&K&&0===e.button&&(this.pressed=!0),t&Z&&1!==e.which&&(t=Q),this.pressed&&(t&Q&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:q,srcEvent:e}))}});var Ae={pointerdown:K,pointermove:Z,pointerup:Q,pointercancel:J,pointerout:J},Pe={2:G,3:W,4:q,5:Y},ke="pointerdown",Me="pointermove pointerup pointercancel";function Te(){this.evEl=ke,this.evWin=Me,ue.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}f||!i.MSPointerEvent||i.PointerEvent||(ke="MSPointerDown",Me="MSPointerMove MSPointerUp MSPointerCancel"),S(Te,ue,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=Ae[r],o=Pe[e.pointerType]||e.pointerType,a=o==G,s=I(t,e.pointerId,"pointerId");i&K&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):i&(Q|J)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var Le={touchstart:K,touchmove:Z,touchend:Q,touchcancel:J},Ie="touchstart",De="touchstart touchmove touchend touchcancel";function Re(){this.evTarget=Ie,this.evWin=De,this.started=!1,ue.apply(this,arguments)}function Ne(e,t){var n=D(e.touches),r=D(e.changedTouches);return t&(Q|J)&&(n=R(n.concat(r),"identifier",!0)),[n,r]}S(Re,ue,{handler:function(e){var t=Le[e.type];if(t===K&&(this.started=!0),this.started){var n=Ne.call(this,e,t);t&(Q|J)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:G,srcEvent:e})}}});var je={touchstart:K,touchmove:Z,touchend:Q,touchcancel:J},Fe="touchstart touchmove touchend touchcancel";function Be(){this.evTarget=Fe,this.targetIds={},ue.apply(this,arguments)}function Ue(e,t){var n=D(e.touches),r=this.targetIds;if(t&(K|Z)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=D(e.changedTouches),s=[],l=this.target;if(o=n.filter((function(e){return M(e.target,l)})),t===K){i=0;while(i<o.length)r[o[i].identifier]=!0,i++}i=0;while(i<a.length)r[a[i].identifier]&&s.push(a[i]),t&(Q|J)&&delete r[a[i].identifier],i++;return s.length?[R(o.concat(s),"identifier",!0),s]:void 0}S(Be,ue,{handler:function(e){var t=je[e.type],n=Ue.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:G,srcEvent:e})}});var ze=2500,He=25;function Ve(){ue.apply(this,arguments);var e=O(this.handler,this);this.touch=new Be(this.manager,e),this.mouse=new Ce(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ge(e,t){e&K?(this.primaryTouch=t.changedPointers[0].identifier,We.call(this,t)):e&(Q|J)&&We.call(this,t)}function We(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches,i=function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)};setTimeout(i,ze)}}function qe(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=He&&a<=He)return!0}return!1}S(Ve,ue,{handler:function(e,t,n){var r=n.pointerType==G,i=n.pointerType==q;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Ge.call(this,t,n);else if(i&&qe.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ye=f?s:N(d.style,"touchAction"),Xe=Ye!==s,Ke="compute",Ze="auto",Qe="manipulation",Je="none",$e="pan-x",et="pan-y",tt=it();function nt(e,t){this.manager=e,this.set(t)}function rt(e){if(T(e,Je))return Je;var t=T(e,$e),n=T(e,et);return t&&n?Je:t||n?t?$e:et:T(e,Qe)?Qe:Ze}function it(){if(!Xe)return!1;var e={};if(f)return e;var t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}nt.prototype={set:function(e){e==Ke&&(e=this.compute()),Xe&&this.manager.element.style&&tt[e]&&(this.manager.element.style[Ye]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return _(this.manager.recognizers,(function(t){C(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),rt(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=T(r,Je)&&!tt[Je],o=T(r,et)&&!tt[et],a=T(r,$e)&&!tt[$e];if(i){var s=1===e.pointers.length,l=e.distance<2,u=e.deltaTime<250;if(s&&l&&u)return}if(!a||!o)return i||o&&n&ie||a&&n&oe?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ot=1,at=2,st=4,lt=8,ut=lt,ct=16,ft=32;function pt(e){this.options=l({},this.defaults,e||{}),this.id=F(),this.manager=null,this.options.enable=A(this.options.enable,!0),this.state=ot,this.simultaneous={},this.requireFail=[]}function dt(e){return e&ct?"cancel":e&lt?"end":e&st?"move":e&at?"start":""}function ht(e){return e==re?"down":e==ne?"up":e==ee?"left":e==te?"right":""}function vt(e,t){var n=t.manager;return n?n.get(e):e}function mt(){pt.apply(this,arguments)}function gt(){mt.apply(this,arguments),this.pX=null,this.pY=null}function yt(){mt.apply(this,arguments)}function bt(){pt.apply(this,arguments),this._timer=null,this._input=null}function _t(){mt.apply(this,arguments)}function Et(){mt.apply(this,arguments)}function xt(){pt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function wt(e,t){return t=t||{},t.recognizers=A(t.recognizers,wt.defaults.preset),new Ct(e,t)}pt.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(b(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=vt(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return b(e,"dropRecognizeWith",this)||(e=vt(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(b(e,"requireFailure",this))return this;var t=this.requireFail;return e=vt(e,this),-1===I(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(b(e,"dropRequireFailure",this))return this;e=vt(e,this);var t=I(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<lt&&r(t.options.event+dt(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=lt&&r(t.options.event+dt(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=ft},canEmit:function(){var e=0;while(e<this.requireFail.length){if(!(this.requireFail[e].state&(ft|ot)))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!C(this.options.enable,[this,t]))return this.reset(),void(this.state=ft);this.state&(ut|ct|ft)&&(this.state=ot),this.state=this.process(t),this.state&(at|st|lt|ct)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},S(mt,pt,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(at|st),i=this.attrTest(e);return r&&(n&J||!i)?t|ct:r||i?n&Q?t|lt:t&at?t|st:at:ft}}),S(gt,mt,{defaults:{event:"pan",threshold:10,pointers:1,direction:ae},getTouchAction:function(){var e=this.options.direction,t=[];return e&ie&&t.push(et),e&oe&&t.push($e),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&ie?(i=0===o?$:o<0?ee:te,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?$:a<0?ne:re,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return mt.prototype.attrTest.call(this,e)&&(this.state&at||!(this.state&at)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ht(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),S(yt,mt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Je]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&at)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),S(bt,pt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ze]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(Q|J)&&!i)this.reset();else if(e.eventType&K)this.reset(),this._timer=y((function(){this.state=ut,this.tryEmit()}),t.time,this);else if(e.eventType&Q)return ut;return ft},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ut&&(e&&e.eventType&Q?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=g(),this.manager.emit(this.options.event,this._input)))}}),S(_t,mt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Je]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&at)}}),S(Et,mt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ie|oe,pointers:1},getTouchAction:function(){return gt.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(ie|oe)?t=e.overallVelocity:n&ie?t=e.overallVelocityX:n&oe&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&m(t)>this.options.velocity&&e.eventType&Q},emit:function(e){var t=ht(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),S(xt,pt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Qe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&K&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=Q)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||be(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e;var s=this.count%t.taps;if(0===s)return this.hasRequireFailures()?(this._timer=y((function(){this.state=ut,this.tryEmit()}),t.interval,this),at):ut}return ft},failTimeout:function(){return this._timer=y((function(){this.state=ft}),this.options.interval,this),ft},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ut&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),wt.VERSION="2.0.7",wt.defaults={domEvents:!1,touchAction:Ke,enable:!0,inputTarget:null,inputClass:null,preset:[[_t,{enable:!1}],[yt,{enable:!1},["rotate"]],[Et,{direction:ie}],[gt,{direction:ie},["swipe"]],[xt],[xt,{event:"doubletap",taps:2},["tap"]],[bt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var St=1,Ot=2;function Ct(e,t){this.options=l({},wt.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=ce(this),this.touchAction=new nt(this,this.options.touchAction),At(this,!0),_(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function At(e,t){var n,r=e.element;r.style&&(_(e.options.cssProps,(function(i,o){n=N(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}function Pt(e,t){if(!f){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}}if(Ct.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?Ot:St},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&ut)&&(i=t.curRecognizer=null);var o=0;while(o<r.length)n=r[o],t.stopped===Ot||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(at|st|lt)&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof pt)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(b(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(b(e,"remove",this))return this;if(e=this.get(e),e){var t=this.recognizers,n=I(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return _(L(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return _(L(e),(function(e){t?n[e]&&n[e].splice(I(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&Pt(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};var r=0;while(r<n.length)n[r](t),r++}},destroy:function(){this.element&&At(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},!f){l(wt,{INPUT_START:K,INPUT_MOVE:Z,INPUT_END:Q,INPUT_CANCEL:J,STATE_POSSIBLE:ot,STATE_BEGAN:at,STATE_CHANGED:st,STATE_ENDED:lt,STATE_RECOGNIZED:ut,STATE_CANCELLED:ct,STATE_FAILED:ft,DIRECTION_NONE:$,DIRECTION_LEFT:ee,DIRECTION_RIGHT:te,DIRECTION_UP:ne,DIRECTION_DOWN:re,DIRECTION_HORIZONTAL:ie,DIRECTION_VERTICAL:oe,DIRECTION_ALL:ae,Manager:Ct,Input:ue,TouchAction:nt,TouchInput:Be,MouseInput:Ce,PointerEventInput:Te,TouchMouseInput:Ve,SingleTouchInput:Re,Recognizer:pt,AttrRecognizer:mt,Tap:xt,Pan:gt,Swipe:Et,Pinch:yt,Rotate:_t,Press:bt,on:P,off:k,each:_,merge:w,extend:x,assign:l,inherit:S,bindFn:O,prefixed:N});var kt="undefined"!==typeof window?window:"undefined"!==typeof self?self:{};kt.Hammer=wt,r=function(){return wt}.call(t,n,t,e),r===s||(e.exports=r)}})("undefined"!==typeof window?window:{console:null,MSPointerEvent:null,PointerEvent:null,CSS:null},document)},Aib3:function(e,t){function n(e,t){var i,o=e&&e.type;if("FeatureCollection"===o)for(i=0;i<e.features.length;i++)n(e.features[i],t);else if("GeometryCollection"===o)for(i=0;i<e.geometries.length;i++)n(e.geometries[i],t);else if("Feature"===o)n(e.geometry,t);else if("Polygon"===o)r(e.coordinates,t);else if("MultiPolygon"===o)for(i=0;i<e.coordinates.length;i++)r(e.coordinates[i],t);return e}function r(e,t){if(0!==e.length){i(e[0],t);for(var n=1;n<e.length;n++)i(e[n],!t)}}function i(e,t){for(var n=0,r=0,i=0,o=e.length,a=o-1;i<o;a=i++){var s=(e[i][0]-e[a][0])*(e[a][1]+e[i][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!==!!t&&e.reverse()}e.exports=n},AlPv:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["circle-area"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["circle-area"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},AqCL:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},AwBQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n("MON2"),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(!this._map["delete"](e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var i=n.filter((function(t){return!e(t)}));i.length>0?t._map.set(r,i):t._map["delete"](r)}))},e.prototype.hasKey=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=i},AwgR:function(e,t,n){var r=n("I+eb"),i=n("eDxR"),o=n("glrk"),a=i.has,s=i.toKey;r({target:"Reflect",stat:!0},{hasOwnMetadata:function(e,t){var n=arguments.length<3?void 0:s(arguments[2]);return a(e,o(t),n)}})},B6y2:function(e,t,n){var r=n("I+eb"),i=n("b1O7").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},B8du:function(e,t){function n(){return!1}e.exports=n},B93f:function(e,t,n){"use strict";var r=n("DiGy");function i(e,t){this.layers=e.readFields(o,{},t)}function o(e,t,n){if(3===e){var i=new r(n,n.readVarint()+n.pos);i.length&&(t[i.name]=i)}}e.exports=i},BAzh:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("S2ku"),s=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement(a["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u4e8b\u4ef6\u540d"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Init | 'init'"),i.a.createElement("td",null,"Draw \u521d\u59cb\u5316\u5b8c\u6210\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Destroy | 'destroy'"),i.a.createElement("td",null,"Draw \u5b8c\u6210\u9500\u6bc1\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Enable | 'enable'"),i.a.createElement("td",null,"\u542f\u7528\u7ed8\u5236\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Disable | 'disable'"),i.a.createElement("td",null,"\u7981\u7528\u7ed8\u5236\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Clear | 'clear'"),i.a.createElement("td",null,"\u6e05\u7a7a\u6570\u636e\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Add | 'add'"),i.a.createElement("td",null,"\u65b0\u589e\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(newFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Edit | 'edit'"),i.a.createElement("td",null,"\u7f16\u8f91(\u4f4d\u79fb\u6216\u8282\u70b9\u53d1\u751f\u53d8\u66f4)\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(editFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Remove | 'remove'"),i.a.createElement("td",null,"\u5220\u9664\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(deleteFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.DragStart | 'dragStart'"),i.a.createElement("td",null,"\u5f00\u59cb\u62d6\u62fd\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(dragFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Dragging | 'dragging'"),i.a.createElement("td",null,"\u62d6\u62fd\u4e2d\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(dragFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.DragEnd | 'dragEnd'"),i.a.createElement("td",null,"\u62d6\u62fd\u7ed3\u675f\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(dragFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Change | 'change'"),i.a.createElement("td",null,"\u7ed8\u5236\u6570\u636e\u53d1\u751f\u53d8\u66f4\u540e\u7684\u4e8b\u4ef6\uff08\u5305\u542b\u4ee5\u4e0a\u7ed8\u5236\u6570\u636e\u53d8\u52a8\u7684\u4e8b\u4ef6\uff09"),i.a.createElement("td",null,i.a.createElement("code",null,"function(featureList: Feature[])"))))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},BBPU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=i(n("q1tI"));function i(e){return e&&e.__esModule?e:{default:e}}var o={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return r["default"].createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return r["default"].createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},a=o;t["default"]=a},BFG4:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["circle-multiple"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["circle-multiple"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},BGb9:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("SEBh"),u=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{union:function(e){var t=a(this),n=new(l(t,o("Set")))(t);return u(e,s(n.add),n),n}})},BIHw:function(e,t,n){"use strict";var r=n("I+eb"),i=n("or9q"),o=n("ewvW"),a=n("UMSQ"),s=n("ppGB"),l=n("ZfDv");r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=a(t.length),r=l(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},BJfS:function(e,t){var n=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()};e.exports=n},BTho:function(e,t,n){"use strict";var r=n("HAuM"),i=n("hh1v"),o=[].slice,a={},s=function(e,t,n){if(!(t in a)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),a=function(){var r=n.concat(o.call(arguments));return this instanceof a?s(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(a.prototype=t.prototype),a}},BU3w:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("MNnm"),i="rc-util-key";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):i}function a(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(r["a"])())return null;var i,o=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(o.nonce=null===(i=n.csp)||void 0===i?void 0:i.nonce);o.innerHTML=e;var s=a(n),l=s.firstChild;return n.prepend&&s.prepend?s.prepend(o):n.prepend&&l?s.insertBefore(o,l):s.appendChild(o),o}var l=new Map;function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a(t);return Array.from(l.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(o(t))===e}))}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a(n);if(!l.has(r)){var i=s("",n),c=i.parentNode;l.set(r,c),c.removeChild(i)}var f=u(t,n);if(f){var p,d,h;if((null===(p=n.csp)||void 0===p?void 0:p.nonce)&&f.nonce!==(null===(d=n.csp)||void 0===d?void 0:d.nonce))f.nonce=null===(h=n.csp)||void 0===h?void 0:h.nonce;return f.innerHTML!==e&&(f.innerHTML=e),f}var v=s(e,n);return v.setAttribute(o(n),t),v}},"BX/b":function(e,t,n){var r=n("/GqU"),i=n("JBy8").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},BbnX:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["line-multiple"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["line-multiple"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},BkRI:function(e,t,n){var r=n("OBhP"),i=1,o=4;function a(e){return r(e,i|o)}e.exports=a},BnQ9:function(e,t,n){"use strict";function r(e){return Object.keys(e).filter((function(t){return e[t]})).join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.classNames=r},Bnag:function(e,t){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},Bq5P:function(e,t,n){},Bs8V:function(e,t,n){var r=n("g6v/"),i=n("0eef"),o=n("XGwC"),a=n("/GqU"),s=n("wE6v"),l=n("UTVS"),u=n("DPsx"),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=a(e),t=s(t,!0),u)try{return c(e,t)}catch(n){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},BsWD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("a3WO");function i(e,t){if(e){if("string"===typeof e)return Object(r["a"])(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(e,t):void 0}}},C1JJ:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("HAuM"),s=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(e){var t=o(this),n=a(t.has);return!s(e,(function(e){if(!0===n.call(t,e))return s.stop()})).stopped}})},C9Fb:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["polygon-multiple"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["polygon-multiple"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},CH3K:function(e,t){function n(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}e.exports=n},CRWo:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[120.10116577148436,30.292867742612255],[120.08949279785156,30.216058476325074],[120.15781402587892,30.207751175495517],[120.17051696777344,30.277154904692335],[120.10597229003906,30.325174912575307],[120.10116577148436,30.292867742612255]]]}},{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[120.02357482910155,30.24839093066276],[120.06889343261717,30.24839093066276],[120.06889343261717,30.29790717639933],[120.02357482910155,30.29790717639933],[120.02357482910155,30.24839093066276]]]}},{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[120.18287658691406,30.316284093102404],[120.18424987792969,30.285159872426014],[120.20450592041017,30.275968928008236],[120.20862579345703,30.2907926063742],[120.18287658691406,30.316284093102404]]]}}]},CUyW:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("A2ZE"),u=n("SEBh"),c=n("Sssf"),f=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(e){var t=a(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,o("Map"))),p=s(i.set);return f(n,(function(e,n){p.call(i,e,r(n,e,t))}),void 0,!0,!0),i}})},CWQg:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}},CZoQ:function(e,t){function n(e,t,n){var r=n-1,i=e.length;while(++r<i)if(e[r]===t)return r;return-1}e.exports=n},Cdyg:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=(n("TpwP"),n("q1tI")),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawRect"](e,{autoActive:!1});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},Cg3G:function(e,t,n){"use strict";var r=n("glrk"),i=n("HAuM");e.exports=function(){for(var e,t=r(this),n=i(t["delete"]),o=!0,a=0,s=arguments.length;a<s;a++)e=n.call(t,arguments[a]),o=o&&e;return!!o}},Co1j:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("HAuM"),s=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(e){var t=o(this),n=a(t.has);return!s(e,(function(e){if(!1===n.call(t,e))return s.stop()})).stopped}})},CokG:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawRect"](e,{multiple:!1});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},Copi:function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol["for"],i=r?Symbol["for"]("react.element"):60103,o=r?Symbol["for"]("react.portal"):60106,a=r?Symbol["for"]("react.fragment"):60107,s=r?Symbol["for"]("react.strict_mode"):60108,l=r?Symbol["for"]("react.profiler"):60114,u=r?Symbol["for"]("react.provider"):60109,c=r?Symbol["for"]("react.context"):60110,f=r?Symbol["for"]("react.async_mode"):60111,p=r?Symbol["for"]("react.concurrent_mode"):60111,d=r?Symbol["for"]("react.forward_ref"):60112,h=r?Symbol["for"]("react.suspense"):60113,v=r?Symbol["for"]("react.suspense_list"):60120,m=r?Symbol["for"]("react.memo"):60115,g=r?Symbol["for"]("react.lazy"):60116,y=r?Symbol["for"]("react.block"):60121,b=r?Symbol["for"]("react.fundamental"):60117,_=r?Symbol["for"]("react.responder"):60118,E=r?Symbol["for"]("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type,e){case f:case p:case a:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof,e){case c:case d:case g:case m:case u:return e;default:return t}}case o:return t}}}function w(e){return x(e)===p}t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||x(e)===f},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===l},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===p||e===l||e===s||e===h||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===E||e.$$typeof===y)},t.typeOf=x},Cwc5:function(e,t,n){var r=n("NKxu"),i=n("Npjl");function o(e,t){var n=i(e,t);return r(n)?n:void 0}e.exports=o},CxY0:function(e,t,n){"use strict";var r=n("GYWy"),i=n("Nehr");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=E,t.resolve=w,t.resolveObject=S,t.format=x,t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r","\n","\t"],c=["{","}","|","\\","^","`"].concat(u),f=["'"].concat(c),p=["%","/","?",";","#"].concat(f),d=["/","?","#"],h=255,v=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=n("s4NR");function E(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}function x(e){return i.isString(e)&&(e=E(e)),e instanceof o?e.format():o.prototype.format.call(e)}function w(e,t){return E(e,!1,!0).resolve(t)}function S(e,t){return e?E(e,!1,!0).resolveObject(t):t}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(s),c=/\\/g;u[0]=u[0].replace(c,"/"),e=u.join(s);var E=e;if(E=E.trim(),!n&&1===e.split("#").length){var x=l.exec(E);if(x)return this.path=E,this.href=E,this.pathname=x[1],x[2]?(this.search=x[2],this.query=t?_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(E);if(w){w=w[0];var S=w.toLowerCase();this.protocol=S,E=E.substr(w.length)}if(n||w||E.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===E.substr(0,2);!O||w&&y[w]||(E=E.substr(2),this.slashes=!0)}if(!y[w]&&(O||w&&!b[w])){for(var C,A,P=-1,k=0;k<d.length;k++){var M=E.indexOf(d[k]);-1!==M&&(-1===P||M<P)&&(P=M)}A=-1===P?E.lastIndexOf("@"):E.lastIndexOf("@",P),-1!==A&&(C=E.slice(0,A),E=E.slice(A+1),this.auth=decodeURIComponent(C)),P=-1;for(k=0;k<p.length;k++){M=E.indexOf(p[k]);-1!==M&&(-1===P||M<P)&&(P=M)}-1===P&&(P=E.length),this.host=E.slice(0,P),E=E.slice(P),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var L=this.hostname.split(/\./),I=(k=0,L.length);k<I;k++){var D=L[k];if(D&&!D.match(v)){for(var R="",N=0,j=D.length;N<j;N++)D.charCodeAt(N)>127?R+="x":R+=D[N];if(!R.match(v)){var F=L.slice(0,k),B=L.slice(k+1),U=D.match(m);U&&(F.push(U[1]),B.unshift(U[2])),B.length&&(E="/"+B.join(".")+E),this.hostname=F.join(".");break}}}this.hostname.length>h?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=r.toASCII(this.hostname));var z=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+z,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==E[0]&&(E="/"+E))}if(!g[S])for(k=0,I=f.length;k<I;k++){var V=f[k];if(-1!==E.indexOf(V)){var G=encodeURIComponent(V);G===V&&(G=escape(V)),E=E.split(V).join(G)}}var W=E.indexOf("#");-1!==W&&(this.hash=E.substr(W),E=E.slice(0,W));var q=E.indexOf("?");if(-1!==q?(this.search=E.substr(q),this.query=E.substr(q+1),t&&(this.query=_.parse(this.query)),E=E.slice(0,q)):t&&(this.search="",this.query={}),E&&(this.pathname=E),b[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var Y=this.search||"";this.path=z+Y}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=_.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})),s=s.replace("#","%23"),t+o+n+s+r},o.prototype.resolve=function(e){return this.resolveObject(E(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),u=0;u<l.length;u++){var c=l[u];"protocol"!==c&&(n[c]=e[c])}return b[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!b[e.protocol]){for(var f=Object.keys(e),p=0;p<f.length;p++){var d=f[p];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||y[e.protocol])n.pathname=e.pathname;else{var h=(e.pathname||"").split("/");while(h.length&&!(e.host=h.shift()));e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",m=n.search||"";n.path=v+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=_||g||n.host&&e.pathname,x=E,w=n.pathname&&n.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!b[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),E=E&&(""===h[0]||""===w[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=h;else if(h.length)w||(w=[]),w.pop(),w=w.concat(h),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(S){n.hostname=n.host=w.shift();var O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=w.slice(-1)[0],A=(n.host||e.host||w.length>1)&&("."===C||".."===C)||""===C,P=0,k=w.length;k>=0;k--)C=w[k],"."===C?w.splice(k,1):".."===C?(w.splice(k,1),P++):P&&(w.splice(k,1),P--);if(!E&&!x)for(;P--;P)w.unshift("..");!E||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),A&&"/"!==w.join("/").substr(-1)&&w.push("");var M=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(S){n.hostname=n.host=M?"":w.length?w.shift():"";O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return E=E||n.host&&w.length,E&&!M&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},CyXQ:function(e,t,n){var r=n("ppGB"),i=n("UMSQ");e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},D9lx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n("6AGu"),i=n("406g"),o=n("z4Hk"),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},DEfu:function(e,t,n){var r=n("2oRo"),i=n("1E5z");i(r.JSON,"JSON",!0)},DMt2:function(e,t,n){var r=n("UMSQ"),i=n("EUja"),o=n("HYAF"),a=Math.ceil,s=function(e){return function(t,n,s){var l,u,c=String(o(t)),f=c.length,p=void 0===s?" ":String(s),d=r(n);return d<=f||""==p?c:(l=d-f,u=i.call(p,a(l/p.length)),u.length>l&&(u=u.slice(0,l)),e?c+u:u+c)}};e.exports={start:s(!1),end:s(!0)}},DPsx:function(e,t,n){var r=n("g6v/"),i=n("0Dky"),o=n("zBJ4");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},DSFK:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},DSRE:function(e,t,n){(function(e){var r=n("Kz5y"),i=n("B8du"),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,l=s?r.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||i;e.exports=c}).call(this,n("hOG+")(e))},DTth:function(e,t,n){var r=n("0Dky"),i=n("tiKp"),o=n("xDBR"),a=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},DhMN:function(e,t,n){n("ofBz")},DiGy:function(e,t,n){"use strict";var r=n("HfwV");function i(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(o,this,t),this.length=this._features.length}function o(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(a(n))}function a(e){var t=null,n=e.readVarint()+e.pos;while(e.pos<n){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}e.exports=i,i.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new r(this._pbf,t,this.extent,this._keys,this._values)}},DrvE:function(e,t,n){"use strict";var r=n("I+eb"),i=n("HAuM"),o=n("0GbY"),a=n("8GlL"),s=n("5mdu"),l=n("ImZN"),u="No one promise resolved";r({target:"Promise",stat:!0},{any:function(e){var t=this,n=a.f(t),r=n.resolve,c=n.reject,f=s((function(){var n=i(t.resolve),a=[],s=0,f=1,p=!1;l(e,(function(e){var i=s++,l=!1;a.push(void 0),f++,n.call(t,e).then((function(e){l||p||(p=!0,r(e))}),(function(e){l||p||(l=!0,a[i]=e,--f||c(new(o("AggregateError"))(a,u)))}))})),--f||c(new(o("AggregateError"))(a,u))}));return f.error&&c(f.value),n.promise}})},Dvsm:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=(n("TpwP"),n("q1tI")),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawRect"](e,{trigger:"drag"});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},"Dw+G":function(e,t,n){var r=n("juv8"),i=n("mTTR");function o(e,t){return e&&r(t,i(t),e)}e.exports=o},E2jh:function(e,t,n){var r=n("2gN3"),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function o(e){return!!i&&i in e}e.exports=o},E9XD:function(e,t,n){"use strict";var r=n("I+eb"),i=n("1Y/n").left,o=n("pkCn"),a=n("rkAj"),s=o("reduce"),l=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!l},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},EA7m:function(e,t,n){var r=n("zZ0H"),i=n("Ioao"),o=n("wclG");function a(e,t){return o(i(e,t,r),e+"")}e.exports=a},"EDT/":function(e,t,n){var r=n("I+eb"),i=n("p5mE"),o=n("0GbY");r({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"===typeof arguments[0]?o("Symbol")["for"](arguments[0]):i.apply(null,arguments).get("symbol",o("Symbol"))}})},EEGq:function(e,t,n){var r=n("juv8"),i=n("oCl/");function o(e,t){return r(e,i(e),t)}e.exports=o},ENF9:function(e,t,n){"use strict";var r,i=n("2oRo"),o=n("4syw"),a=n("8YOa"),s=n("bWFh"),l=n("rKzb"),u=n("hh1v"),c=n("afO8").enforce,f=n("f5p1"),p=!i.ActiveXObject&&"ActiveXObject"in i,d=Object.isExtensible,h=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},v=e.exports=s("WeakMap",h,l);if(f&&p){r=l.getConstructor(h,"WeakMap",!0),a.REQUIRED=!0;var m=v.prototype,g=m["delete"],y=m.has,b=m.get,_=m.set;o(m,{delete:function(e){if(u(e)&&!d(e)){var t=c(this);return t.frozen||(t.frozen=new r),g.call(this,e)||t.frozen["delete"](e)}return g.call(this,e)},has:function(e){if(u(e)&&!d(e)){var t=c(this);return t.frozen||(t.frozen=new r),y.call(this,e)||t.frozen.has(e)}return y.call(this,e)},get:function(e){if(u(e)&&!d(e)){var t=c(this);return t.frozen||(t.frozen=new r),y.call(this,e)?b.call(this,e):t.frozen.get(e)}return b.call(this,e)},set:function(e,t){if(u(e)&&!d(e)){var n=c(this);n.frozen||(n.frozen=new r),y.call(this,e)?_.call(this,e,t):n.frozen.set(e,t)}else _.call(this,e,t);return this}})}},EQzx:function(e,t,n){},EUja:function(e,t,n){"use strict";var r=n("ppGB"),i=n("HYAF");e.exports="".repeat||function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},EWBW:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawLine"](e,{});n(t),t.enable(),t.on(o["DrawEvent"].Add,((e,t)=>{console.log("add",e,t)})),t.on(o["DrawEvent"].Edit,((e,t)=>{console.log("edit",e,t)})),t.on(o["DrawEvent"].Remove,((e,t)=>{console.log("remove",e,t)})),t.on(o["DrawEvent"].AddNode,((e,t,n)=>{console.log("addNode",e,t,n)})),t.on(o["DrawEvent"].RemoveNode,((e,t,n)=>{console.log("removeNode",e,t,n)})),t.on(o["DrawEvent"].Change,(e=>{console.log("change",e)})),t.on(o["DrawEvent"].DragStart,((e,t)=>{console.log("dragStart",e,t)})),t.on(o["DrawEvent"].Dragging,((e,t)=>{console.log("dragging",e,t)})),t.on(o["DrawEvent"].DragEnd,((e,t)=>{console.log("dragEnd",e,t)}))}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},EbDI:function(e,t){function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},EdiO:function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},Em2t:function(e,t,n){var r=n("bahg"),i=n("quyA"),o=n("0JQy");function a(e){return i(e)?o(e):r(e)}e.exports=a},Em5h:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["polygon-area"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["polygon-area"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},EnZy:function(e,t,n){"use strict";var r=n("14Sl"),i=n("ROdP"),o=n("glrk"),a=n("HYAF"),s=n("SEBh"),l=n("iqWW"),u=n("UMSQ"),c=n("FMNM"),f=n("kmMV"),p=n("0Dky"),d=[].push,h=Math.min,v=4294967295,m=!p((function(){return!RegExp(v,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),o=void 0===n?v:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);var s,l,u,c=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,m=new RegExp(e.source,p+"g");while(s=f.call(m,r)){if(l=m.lastIndex,l>h&&(c.push(r.slice(h,s.index)),s.length>1&&s.index<r.length&&d.apply(c,s.slice(1)),u=s[0].length,h=l,c.length>=o))break;m.lastIndex===s.index&&m.lastIndex++}return h===r.length?!u&&m.test("")||c.push(""):c.push(r.slice(h)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=a(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var a=n(r,e,this,i,r!==t);if(a.done)return a.value;var f=o(e),p=String(this),d=s(f,RegExp),g=f.unicode,y=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(m?"y":"g"),b=new d(m?f:"^(?:"+f.source+")",y),_=void 0===i?v:i>>>0;if(0===_)return[];if(0===p.length)return null===c(b,p)?[p]:[];var E=0,x=0,w=[];while(x<p.length){b.lastIndex=m?x:0;var S,O=c(b,m?p:p.slice(x));if(null===O||(S=h(u(b.lastIndex+(m?0:x)),p.length))===E)x=l(p,x,g);else{if(w.push(p.slice(E,x)),w.length===_)return w;for(var C=1;C<=O.length-1;C++)if(w.push(O[C]),w.length===_)return w;x=E=S}}return w.push(p.slice(E)),w}]}),!m)},Ep9I:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},EpBk:function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},Eqjn:function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),o=n("6x0u"),a=n("ewvW"),s=n("HAuM"),l=n("m/L8");i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(e,t){l.f(a(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},"Ew+T":function(e,t,n){var r=n("I+eb"),i=n("2oRo"),o=n("LPSS"),a=!i.setImmediate||!i.clearImmediate;r({global:!0,bind:!0,enumerable:!0,forced:a},{setImmediate:o.set,clearImmediate:o.clear})},ExA7:function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},F4QJ:function(e,t,n){"use strict";function r(){var e=o(n("q1tI"));return r=function(){return e},e}function i(){var e=n("dEAq");return i=function(){return e},e}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=function(e){return e.render()},c=function(e,t){var n=[],o=e.match.params.uuid,a=void 0===e.location.query.wrapper,l=t[o];if(l){var c=s(s({},l.previewerProps),{},{hideActions:(l.previewerProps.hideActions||[]).concat(["EXTERNAL"])});void 0!==e.location.query.capture&&(c.motions=(c.motions||[]).slice(),c.motions.unshift("autoplay"),c.motions.every((function(e){return!e.startsWith("capture")}))&&c.motions.push("capture:[id|=root]")),n=a?[r()["default"].createElement(u,{render:function(){return(0,i().useMotions)(c.motions||[],"undefined"!==typeof window?document.documentElement:null),r()["default"].createElement("div",{},r()["default"].createElement(l.component))}})]:[c,r()["default"].createElement(l.component)]}return n};t["default"]=c},F8JR:function(e,t,n){"use strict";var r=n("tycR").forEach,i=n("pkCn"),o=n("rkAj"),a=i("forEach"),s=o("forEach");e.exports=a&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},FDzp:function(e,t,n){var r=n("dOgj");r("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},FMNM:function(e,t,n){var r=n("xrYK"),i=n("kmMV");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},FV85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0;var r={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingScopeEnum=r;var i={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.BindingTypeEnum=i;var o={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};t.TargetTypeEnum=o},FZtP:function(e,t,n){var r=n("2oRo"),i=n("/byt"),o=n("F8JR"),a=n("kRJp");for(var s in i){var l=r[s],u=l&&l.prototype;if(u&&u.forEach!==o)try{a(u,"forEach",o)}catch(c){u.forEach=o}}},Ff2n:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("zLVn");function i(e,t){if(null==e)return{};var n,i,o=Object(r["a"])(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},FfOG:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n("YS25"),i={basename:"/"};window.routerBase&&(i.basename=window.routerBase);var o=Object({NODE_ENV:"production"}).__IS_SERVER?null:Object(r["a"])(i),a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e||(o=Object(r["a"])(i)),o}},FmoU:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return C}));var r=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function o(){}var a=.7,s=1/a,l="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f=/^#([0-9a-f]{3,8})$/,p=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),d=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),h=new RegExp("^rgba\\("+[l,l,l,u]+"\\)$"),v=new RegExp("^rgba\\("+[c,c,c,u]+"\\)$"),m=new RegExp("^hsl\\("+[u,c,c]+"\\)$"),g=new RegExp("^hsla\\("+[u,c,c,u]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(){return this.rgb().formatHex()}function _(){return L(this).formatHsl()}function E(){return this.rgb().formatRgb()}function x(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=f.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?w(t):3===n?new A(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?S(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?S(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=p.exec(e))?new A(t[1],t[2],t[3],1):(t=d.exec(e))?new A(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?S(t[1],t[2],t[3],t[4]):(t=v.exec(e))?S(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=m.exec(e))?T(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?T(t[1],t[2]/100,t[3]/100,t[4]):y.hasOwnProperty(e)?w(y[e]):"transparent"===e?new A(NaN,NaN,NaN,0):null}function w(e){return new A(e>>16&255,e>>8&255,255&e,1)}function S(e,t,n,r){return r<=0&&(e=t=n=NaN),new A(e,t,n,r)}function O(e){return e instanceof o||(e=x(e)),e?(e=e.rgb(),new A(e.r,e.g,e.b,e.opacity)):new A}function C(e,t,n,r){return 1===arguments.length?O(e):new A(e,t,n,null==r?1:r)}function A(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function P(){return"#"+M(this.r)+M(this.g)+M(this.b)}function k(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function M(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function T(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new D(e,t,n,r)}function L(e){if(e instanceof D)return new D(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=x(e)),!e)return new D;if(e instanceof D)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-i,u=(a+i)/2;return l?(s=t===a?(n-r)/l+6*(n<r):n===a?(r-t)/l+2:(t-n)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new D(s,l,u,e.opacity)}function I(e,t,n,r){return 1===arguments.length?L(e):new D(e,t,n,null==r?1:r)}function D(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function R(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}r(o,x,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHsl:_,formatRgb:E,toString:E}),r(A,C,i(o,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new A(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new A(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:P,formatHex:P,formatRgb:k,toString:k})),r(D,I,i(o,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new D(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new D(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new A(R(e>=240?e-240:e+120,i,r),R(e,i,r),R(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},Fy6L:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["control-draw"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["control-draw"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"G+Rx":function(e,t,n){var r=n("0GbY");e.exports=r("document","documentElement")},G6z8:function(e,t,n){var r=n("fR/l"),i=n("oCl/"),o=n("mTTR");function a(e){return r(e,o,i)}e.exports=a},GC2F:function(e,t,n){var r=n("+M1K");e.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},GWd1:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=n("rz5R"),c=String(Math.random()),f=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:c,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawLine"](e,{initialData:u["a"]});n(t),t.enable(),t.on(o["DrawEvent"].Add,(e=>{}))}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:c,style:{height:400,position:"relative"}}))};t["default"]=f},GXnB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n("xfSm"),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},GXvd:function(e,t,n){var r=n("dG/n");r("species")},GYWy:function(e,t,n){(function(e,r){var i;(function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,l=2147483647,u=36,c=1,f=26,p=38,d=700,h=72,v=128,m="-",g=/^xn--/,y=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=u-c,x=Math.floor,w=String.fromCharCode;function S(e){throw new RangeError(_[e])}function O(e,t){var n=e.length,r=[];while(n--)r[n]=t(e[n]);return r}function C(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(b,".");var i=e.split("."),o=O(i,t).join(".");return r+o}function A(e){var t,n,r=[],i=0,o=e.length;while(i<o)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function P(e){return O(e,(function(e){var t="";return e>65535&&(e-=65536,t+=w(e>>>10&1023|55296),e=56320|1023&e),t+=w(e),t})).join("")}function k(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:u}function M(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function T(e,t,n){var r=0;for(e=n?x(e/d):e>>1,e+=x(e/t);e>E*f>>1;r+=u)e=x(e/E);return x(r+(E+1)*e/(e+p))}function L(e){var t,n,r,i,o,a,s,p,d,g,y=[],b=e.length,_=0,E=v,w=h;for(n=e.lastIndexOf(m),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&S("not-basic"),y.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=_,a=1,s=u;;s+=u){if(i>=b&&S("invalid-input"),p=k(e.charCodeAt(i++)),(p>=u||p>x((l-_)/a))&&S("overflow"),_+=p*a,d=s<=w?c:s>=w+f?f:s-w,p<d)break;g=u-d,a>x(l/g)&&S("overflow"),a*=g}t=y.length+1,w=T(_-o,t,0==o),x(_/t)>l-E&&S("overflow"),E+=x(_/t),_%=t,y.splice(_++,0,E)}return P(y)}function I(e){var t,n,r,i,o,a,s,p,d,g,y,b,_,E,O,C=[];for(e=A(e),b=e.length,t=v,n=0,o=h,a=0;a<b;++a)y=e[a],y<128&&C.push(w(y));r=i=C.length,i&&C.push(m);while(r<b){for(s=l,a=0;a<b;++a)y=e[a],y>=t&&y<s&&(s=y);for(_=r+1,s-t>x((l-n)/_)&&S("overflow"),n+=(s-t)*_,t=s,a=0;a<b;++a)if(y=e[a],y<t&&++n>l&&S("overflow"),y==t){for(p=n,d=u;;d+=u){if(g=d<=o?c:d>=o+f?f:d-o,p<g)break;O=p-g,E=u-g,C.push(w(M(g+O%E,0))),p=x(O/E)}C.push(w(M(p,0))),o=T(n,_,r==i),n=0,++r}++n,++t}return C.join("")}function D(e){return C(e,(function(e){return g.test(e)?L(e.slice(4).toLowerCase()):e}))}function R(e){return C(e,(function(e){return y.test(e)?"xn--"+I(e):e}))}s={version:"1.4.1",ucs2:{decode:A,encode:P},decode:L,encode:I,toASCII:R,toUnicode:D},i=function(){return s}.call(t,n,t,e),void 0===i||(e.exports=i)})()}).call(this,n("hOG+")(e),n("IyRk"))},GarU:function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},Gi0A:function(e,t,n){var r=n("QqLw"),i=n("ExA7"),o="[object Map]";function a(e){return i(e)&&r(e)==o}e.exports=a},GilN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n("q1tI"),o=d(i),a=n("17x9"),s=d(a),l=n("Ibp0"),u=d(l),c=n("BnQ9"),f=p(c);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):h(e,t))}var _={stargazers:"Star",watchers:"Watch",forks:"Fork"},E={forks:"network"},x=function(e){function t(){var n,r,i;g(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=y(this,e.call.apply(e,[this].concat(a))),n=r,r.state={count:null},i=n,y(r,i)}return b(t,e),t.prototype.componentDidMount=function(){var e=this;this.xhr=(0,u["default"])(this.getRequestUrl(),(function(t){e.setCount(t)}))},t.prototype.componentWillUnmount=function(){this.xhr&&this.xhr.abort()},t.prototype.setCount=function(e){if(e){var t=e[this.props.type+"_count"];this.setState({count:t})}},t.prototype.getRequestUrl=function(){var e=this.props,t=e.namespace,n=e.repo;return"//api.github.com/repos/"+t+"/"+n},t.prototype.getRepoUrl=function(){var e=this.props,t=e.namespace,n=e.repo;return"//github.com/"+t+"/"+n+"/"},t.prototype.getCountUrl=function(){var e=this.props,t=e.namespace,n=e.repo,r=e.type;return"//github.com/"+t+"/"+n+"/"+(E[r]||r)+"/"},t.prototype.getCountStyle=function(){var e=this.state.count;return null!==e?{display:"block"}:null},t.prototype.render=function(){var e=this.props,t=e.className,n=e.type,i=e.size,a=m(e,["className","type","size"]);delete a.namespace,delete a.repo;var s=this.state.count,l=f.classNames(v({"github-btn":!0,"github-btn-large":"large"===i},t,t));return o["default"].createElement("span",r({},a,{className:l}),o["default"].createElement("a",{className:"gh-btn",href:this.getRepoUrl(),target:"_blank"},o["default"].createElement("span",{className:"gh-ico","aria-hidden":"true"}),o["default"].createElement("span",{className:"gh-text"},_[n])),o["default"].createElement("a",{className:"gh-count",target:"_blank",href:this.getCountUrl(),style:this.getCountStyle()},s))},t}(o["default"].Component);x.displayName="GitHubButton",x.propTypes={className:s["default"].string,type:s["default"].oneOf(["stargazers","watchers","forks"]).isRequired,namespace:s["default"].string.isRequired,repo:s["default"].string.isRequired,size:s["default"].oneOf(["large"])},t["default"]=x,e.exports=t["default"]},Gnu0:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["circle-initialdata"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["circle-initialdata"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},GoyQ:function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},Gytx:function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var u=o[l];if(!s(u))return!1;var c=e[u],f=t[u];if(i=n?n.call(r,c,f,u):void 0,!1===i||void 0===i&&c!==f)return!1}return!0}},"H+LF":function(e,t,n){"use strict";var r=n("bWFh"),i=n("rKzb");r("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},H84U:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));n("wx14");var r=n("q1tI"),i=function(e,t){return t||(e?"ant-".concat(e):"ant")},o=r["createContext"]({getPrefixCls:i}),a=o.Consumer},H8j4:function(e,t,n){var r=n("QkVE");function i(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}e.exports=i},HAuM:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},HDyB:function(e,t,n){var r=n("nmnc"),i=n("JHRd"),o=n("ljhN"),a=n("or5M"),s=n("7fqy"),l=n("rEGp"),u=1,c=2,f="[object Boolean]",p="[object Date]",d="[object Error]",h="[object Map]",v="[object Number]",m="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",E="[object DataView]",x=r?r.prototype:void 0,w=x?x.valueOf:void 0;function S(e,t,n,r,x,S,O){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!S(new i(e),new i(t)));case f:case p:case v:return o(+e,+t);case d:return e.name==t.name&&e.message==t.message;case m:case y:return e==t+"";case h:var C=s;case g:var A=r&u;if(C||(C=l),e.size!=t.size&&!A)return!1;var P=O.get(e);if(P)return P==t;r|=c,O.set(e,t);var k=a(C(e),C(t),r,x,S,O);return O["delete"](e),k;case b:if(w)return w.call(e)==w.call(t)}return!1}e.exports=S},HH4o:function(e,t,n){var r=n("tiKp"),i=r("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(l){}return n}},HNyW:function(e,t,n){var r=n("NC/Y");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},HOxn:function(e,t,n){var r=n("Cwc5"),i=n("Kz5y"),o=r(i,"Promise");e.exports=o},HRXO:function(e,t,n){},HYAF:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"HaE+":function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},Hd5f:function(e,t,n){var r=n("0Dky"),i=n("tiKp"),o=n("LQDL"),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},Hel2:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"F",(function(){return Ot})),n.d(t,"a",(function(){return At})),n.d(t,"x",(function(){return gn})),n.d(t,"z",(function(){return En})),n.d(t,"B",(function(){return wn})),n.d(t,"v",(function(){return An})),n.d(t,"G",(function(){return kn})),n.d(t,"i",(function(){return In})),n.d(t,"j",(function(){return Dn})),n.d(t,"H",(function(){return Rn})),n.d(t,"K",(function(){return Nn})),n.d(t,"p",(function(){return jn})),n.d(t,"n",(function(){return Fn})),n.d(t,"I",(function(){return Bn})),n.d(t,"q",(function(){return zn})),n.d(t,"r",(function(){return Hn})),n.d(t,"c",(function(){return Vn})),n.d(t,"o",(function(){return Gn})),n.d(t,"D",(function(){return Yn})),n.d(t,"M",(function(){return Xn})),n.d(t,"s",(function(){return Kn})),n.d(t,"t",(function(){return Zn})),n.d(t,"w",(function(){return Qn})),n.d(t,"l",(function(){return Wn})),n.d(t,"k",(function(){return Jn})),n.d(t,"m",(function(){return $n})),n.d(t,"A",(function(){return er})),n.d(t,"h",(function(){return pi})),n.d(t,"u",(function(){return Oi})),n.d(t,"y",(function(){return Mi})),n.d(t,"E",(function(){return ln})),n.d(t,"C",(function(){return Ti})),n.d(t,"g",(function(){return co})),n.d(t,"J",(function(){return Yi})),n.d(t,"d",(function(){return ii})),n.d(t,"e",(function(){return oi})),n.d(t,"L",(function(){return ai}));var r={};n.r(r),n.d(r,"getContainer",(function(){return kt})),n.d(r,"trim",(function(){return Mt})),n.d(r,"splitWords",(function(){return Tt})),n.d(r,"create",(function(){return It})),n.d(r,"remove",(function(){return Dt})),n.d(r,"addClass",(function(){return Rt})),n.d(r,"removeClass",(function(){return Nt})),n.d(r,"hasClass",(function(){return jt})),n.d(r,"setClass",(function(){return Ft})),n.d(r,"getClass",(function(){return Bt})),n.d(r,"empty",(function(){return Ut})),n.d(r,"setTransform",(function(){return Ht})),n.d(r,"triggerResize",(function(){return Vt})),n.d(r,"printCanvas",(function(){return Gt})),n.d(r,"getViewPortScale",(function(){return Wt})),n.d(r,"DPR",(function(){return qt}));var i={};n.r(i),n.d(i,"sum",(function(){return Kt})),n.d(i,"max",(function(){return Yt})),n.d(i,"min",(function(){return Xt})),n.d(i,"mean",(function(){return Zt})),n.d(i,"mode",(function(){return Qt})),n.d(i,"statMap",(function(){return Jt})),n.d(i,"getColumn",(function(){return $t})),n.d(i,"getSatByColumn",(function(){return en}));var o=n("J4zp"),a=n.n(o),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function l(e){this.message=e}function u(e){var t=String(e).replace(/=+$/,"");if(t.length%4===1)throw new l("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i="",o=0,a=0;r=t.charAt(a++);~r&&(n=o%4?64*n+r:r,o++%4)?i+=String.fromCharCode(255&n>>(-2*o&6)):0)r=s.indexOf(r);return i}function c(e){e=String(e);for(var t,n,r,i,o="",a=0,l=e.length%3;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(i=e.charCodeAt(a++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");t=n<<16|r<<8|i,o+=s.charAt(t>>18&63)+s.charAt(t>>12&63)+s.charAt(t>>6&63)+s.charAt(63&t)}return l?o.slice(0,l-3)+"===".substring(l):o}l.prototype=new Error,l.prototype.name="InvalidCharacterError";var f=n("lwsE"),p=n.n(f),d=n("W8MJ"),h=n.n(d),v=function(){function e(t,n){p()(this,e),this.buffers=t,this.type=n}return h()(e,[{key:"arraybuffer",value:function(){return Promise.resolve(this.buffers[0])}},{key:"stream",value:function(){throw new Error("not implemented")}},{key:"text",value:function(){throw new Error("not implemented")}},{key:"slice",value:function(e,t,n){throw new Error("not implemented")}}]),e}(),m=n("Qo3T"),g="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM,y=g?my.getSystemInfoSync().pixelRatio:m["a"].devicePixelRatio,b=n("7W2i"),_=n.n(b),E=n("a1gu"),x=n.n(E),w=n("Nsbk"),S=n.n(w),O=n("lSNA"),C=n.n(O),A=h()((function e(t,n){p()(this,e),C()(this,"cancelBubble",void 0),C()(this,"cancelable",void 0),C()(this,"target",void 0),C()(this,"currentTarget",void 0),C()(this,"preventDefault",void 0),C()(this,"stopPropagation",void 0),C()(this,"type",void 0),C()(this,"timeStamp",void 0),this.cancelBubble=!1,this.cancelable=!1,this.target=null,this.currentTarget=null,this.preventDefault=function(){},this.stopPropagation=function(){},this.type=t,this.timeStamp=Date.now()})),P=n("PJYZ"),k=n.n(P);function M(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=T(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function T(e,t){if(e){if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=new WeakMap,D=function(){function e(){p()(this,e),I.set(this,{})}return h()(e,[{key:"addEventListener",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=I.get(this);r||(r={}),r[e]||(r[e]=[]),r[e].push(t),I.set(this,r),n.capture,n.once,n.passive}},{key:"removeEventListener",value:function(e,t){var n=I.get(this);if(n){var r=n[e];if(r&&r.length>0)for(var i=r.length;i--;i>0)if(r[i]===t){r.splice(i,1);break}}}},{key:"dispatchEvent",value:function(e){var t=I.get(this)[e.type];if(t){var n,r=M(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;i(e)}}catch(o){r.e(o)}finally{r.f()}}}}]),e}();function R(e){var t=N();return function(){var n,r=S()(e);if(t){var i=S()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x()(this,n)}}function N(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var j=function(e){_()(n,e);var t=R(n);function n(){var e;return p()(this,n),e=t.call(this),C()(k()(e),"childNodes",void 0),e.childNodes=[],e}return h()(n,[{key:"appendChild",value:function(e){this.childNodes.push(e)}},{key:"cloneNode",value:function(){var e=Object.create(this);return Object.assign(e,this),e}},{key:"removeChild",value:function(e){var t=this.childNodes.findIndex((function(t){return t===e}));return t>-1?this.childNodes.splice(t,1):null}}]),n}(D);function F(e){var t=B();return function(){var n,r=S()(e);if(t){var i=S()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x()(this,n)}}function B(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var U,z,H,V,G=function(e){_()(n,e);var t=F(n);function n(){var e;return p()(this,n),e=t.call(this),C()(k()(e),"className",void 0),C()(k()(e),"children",void 0),e.className="",e.children=[],e}return h()(n,[{key:"setAttribute",value:function(e,t){this[e]=t}},{key:"getAttribute",value:function(e){return this[e]}},{key:"setAttributeNS",value:function(e,t){this[e]=t}},{key:"getAttributeNS",value:function(e){return this[e]}}]),n}(j),W="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM;if(W){var q=my.getSystemInfoSync();U=q.screenWidth,z=q.screenHeight,H=q.windowWidth,V=q.windowHeight}else{var Y=m["a"].innerWidth,X=m["a"].innerHeight;U=Y,z=X,H=Y,V=X}var K={width:U,height:z,availWidth:H,availHeight:V,availLeft:0,availTop:0},Z=K.availWidth,Q=K.availHeight,J={style:[]};function $(e,t){var n,r;"parentNode"in e||(n=0===t?function(){return null}:1===t?function(){return J}:function(){return null},Object.defineProperty(e,"parentNode",{enumerable:!0,get:n}));"parentElement"in e||(r=0===t?function(){return null}:1===t?function(){return J}:function(){return null},Object.defineProperty(e,"parentElement",{enumerable:!0,get:r}))}function ee(e){e.style=e.style||{},Object.assign(e.style,{top:"0px",left:"0px",width:Z+"px",height:Q+"px",margin:"0px",padding:"0px"})}function te(e){"clientLeft"in e||(e.clientLeft=0,e.clientTop=0),"clientWidth"in e||(e.clientWidth=Z,e.clientHeight=Q),"getBoundingClientRect"in e||(e.getBoundingClientRect=function(){var e={x:0,y:0,top:0,left:0,width:this.clientWidth,height:this.clientHeight,right:this.clientWidth,bottom:this.clientHeight};return e})}function ne(e){"offsetLeft"in e||(e.offsetLeft=0,e.offsetTop=0),"offsetWidth"in e||(e.offsetWidth=Z,e.offsetHeight=Q)}function re(e){"scrollLeft"in e||(e.scrollLeft=0,e.scrollTop=0),"scrollWidth"in e||(e.scrollWidth=Z,e.scrollHeight=Q)}function ie(e){var t=function(){return!0};e.classList=[],e.classList.add=t,e.classList.remove=t,e.classList.contains=t,e.classList.toggle=t}function oe(e){var t=ae();return function(){var n,r=S()(e);if(t){var i=S()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x()(this,n)}}function ae(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function se(){}var le=function(e){_()(n,e);var t=oe(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;return p()(this,n),e=t.call(this),C()(k()(e),"className",void 0),C()(k()(e),"children",void 0),C()(k()(e),"focus",void 0),C()(k()(e),"blur",void 0),C()(k()(e),"insertBefore",void 0),C()(k()(e),"appendChild",void 0),C()(k()(e),"removeChild",void 0),C()(k()(e),"remove",void 0),C()(k()(e),"innerHTML",void 0),C()(k()(e),"tagName",void 0),e.className="",e.children=[],e.focus=se,e.blur=se,e.insertBefore=se,e.appendChild=se,e.removeChild=se,e.remove=se,e.innerHTML="",e.tagName=r.toUpperCase(),$(k()(e),i),ee(k()(e)),ie(k()(e)),te(k()(e)),ne(k()(e)),re(k()(e)),e}return h()(n)}(G);function ue(e){var t=ce();return function(){var n,r=S()(e);if(t){var i=S()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x()(this,n)}}function ce(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var fe=function(e){_()(n,e);var t=ue(n);function n(e){return p()(this,n),t.call(this,e)}return h()(n,[{key:"addTextTrack",value:function(){}},{key:"captureStream",value:function(){}},{key:"fastSeek",value:function(){}},{key:"load",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(){}}]),n}(le);function pe(e){var t=de();return function(){var n,r=S()(e);if(t){var i=S()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x()(this,n)}}function de(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var he=function(e){_()(n,e);var t=pe(n);function n(){return p()(this,n),t.call(this,"video")}return h()(n)}(fe),ve={};function me(){return ve}var ge=h()((function e(){p()(this,e);var t=me(),n=t.createImage&&t.createImage()||{};return"tagName"in n||(n.tagName="IMG",n.__proto__=e.prototype),$(n),ie(n),Object.assign(n,{addEventListener:function(e,t){n["on".concat(e)]=t.bind(n)},removeEventListener:function(e){n["on".concat(e)]=null}}),n})),ye={href:"",protocol:"",host:""};function be(e){var t=_e();return function(){var n,r=S()(e);if(t){var i=S()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x()(this,n)}}function _e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Ee=function(e){_()(n,e);var t=be(n);function n(){return p()(this,n),t.call(this,"body",0)}return h()(n,[{key:"addEventListener",value:function(e,t){}},{key:"removeEventListener",value:function(e,t,n){}},{key:"dispatchEvent",value:function(e){}}]),n}(le),xe=function(e){_()(n,e);var t=be(n);function n(){return p()(this,n),t.call(this,"html",0)}return h()(n,[{key:"addEventListener",value:function(e,t){}},{key:"removeEventListener",value:function(e,t){}},{key:"dispatchEvent",value:function(e){}}]),n}(le),we={},Se={readyState:"complete",visibilityState:"visible",hidden:!1,fullscreen:!0,scripts:[],style:{},location:ye,ontouchstart:null,ontouchmove:null,ontouchend:null,onvisibilitychange:null,parentNode:null,parentElement:null,head:null,body:null,documentElement:{style:[]},createElement:function(e){return e=e.toLowerCase(),"canvas"===e?my.createOffscreenCanvas(1024,128,"2d"):"img"===e?new ge:"video"===e?new he:new le(e)},createElementNS:function(e,t){return this.createElement(t)},createTextNode:function(e){return e},getElementById:function(e){return null},getElementsByTagName:function(e){return e=e.toLowerCase(),[]},getElementsByTagNameNS:function(e,t){return this.getElementsByTagName(t)},getElementsByName:function(e){return[]},querySelector:function(e){return null},querySelectorAll:function(e){return[]},addEventListener:function(e,t,n){we[e]||(we[e]=[]),we[e].push(t)},removeEventListener:function(e,t){var n=we[e];if(n&&n.length>0)for(var r=n.length;r--;r>0)if(n[r]===t){n.splice(r,1);break}},dispatchEvent:function(e){var t=e.type,n=we[t];if(n)for(var r=0;r<n.length;r++)n[r](e);e.target&&"function"===typeof e.target["on"+t]&&e.target["on"+t](e)},createEvent:function(e){return new A(e)}};Se.documentElement=new xe,Se.head=new le("head"),Se.body=new Ee;var Oe,Ce,Ae,Pe=Object,ke=n("cDf5"),Me=n.n(ke),Te=function(){function e(){p()(this,e),C()(this,"_w",void 0),C()(this,"_h",void 0),C()(this,"_data",void 0);var t=arguments.length;if(2===t){if("number"===typeof arguments[0]&&"number"===typeof arguments[1])return this._w=arguments[0],this._h=arguments[1],void(this._data=new Uint8ClampedArray(this._w*this._h*4))}else 3===t&&"object"===Me()(arguments[0])&&"number"===typeof arguments[1]&&"number"===typeof arguments[2]&&(this._data=arguments[0],this._w=arguments[1],this._h=arguments[2]);throw new Error("ImageData: params error")}return h()(e,[{key:"width",get:function(){return this._w}},{key:"height",get:function(){return this._h}},{key:"data",get:function(){return this._data}}]),e}(),Le="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM;if(Le){var Ie=my.getSystemInfoSync();Oe=Ie.system,Ce=Ie.platform,Ae=Ie.language}else{var De={versions:function(){var e=m["a"].navigator.userAgent;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1===e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1===e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,qq:" qq"===e.match(/\sQQ/i)}}(),language:(m["a"].navigator.browserLanguage||m["a"].navigator.language).toLowerCase()};De.versions.android?Ce="android":De.versions.trident?Ce="IE":De.versions.presto?Ce="Opera":De.versions.webKit?Ce="webKit":De.versions.gecko?Ce="Firefox":De.versions.mobile?Ce="mobile":De.versions.ios?Ce="ios":De.versions.iPhone?Ce="iPhone":De.versions.iPad?Ce="ipad":De.versions.webApp?Ce="webApp":De.versions.weixin?Ce="weixin":De.versions.qq&&(Ce="qq"),Oe=m["a"].navigator.userAgent,Ae=De.language}var Re=-1!==Oe.toLowerCase().indexOf("android"),Ne=Re?"Android; CPU Android 6.0":"iPhone; CPU iPhone OS 10_3_1 like Mac OS X",je="Mozilla/5.0 (".concat(Ne,") AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/").concat(Ae),Fe={platform:Ce,language:Ae,appVersion:"5.0 (".concat(Ne,") AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"),userAgent:je},Be={mark:function(e){return null},clearMeasures:function(e){return null},clearMarks:function(e){return null},measure:function(e,t,n){return{duration:0}},now:function(){}},Ue=0,ze=0;function He(e){var t=Date.now(),n=Math.max(Ue+23,t);return ze=setTimeout((function(){e(Ue=n)}),n-t),ze}function Ve(e){var t=me();return t.requestAnimationFrame?t.requestAnimationFrame(e):He(e)}function Ge(e){var t=me();return t.cancelAnimationFrame?t.cancelAnimationFrame(e):clearTimeout(e)}var We=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";p()(this,e),C()(this,"href",void 0),0!=t.indexOf("http://")&&0!=t.indexOf("https://")?this.href=n+t:this.href=t}return h()(e,null,[{key:"createObjectURL",value:function(e){var t=e.buffers[0],n=e.type,r=qe(t),i="data:".concat(n,";base64, ");return i+r}}]),e}();function qe(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return c(t)}var Ye={GCCSO_SHADER_BINARY_FJ:37472,_3DC_XY_AMD:34810,_3DC_X_AMD:34809,ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_PROGRAM_EXT:33369,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALL_COMPLETED_NV:34034,ALL_SHADER_BITS_EXT:4294967295,ALPHA:6406,ALPHA16F_EXT:34844,ALPHA32F_EXT:34838,ALPHA8_EXT:32828,ALPHA8_OES:32828,ALPHA_BITS:3413,ALPHA_TEST_FUNC_QCOM:3009,ALPHA_TEST_QCOM:3008,ALPHA_TEST_REF_QCOM:3010,ALREADY_SIGNALED_APPLE:37146,ALWAYS:519,AMD_compressed_3DC_texture:1,AMD_compressed_ATC_texture:1,AMD_performance_monitor:1,AMD_program_binary_Z400:1,ANGLE_depth_texture:1,ANGLE_framebuffer_blit:1,ANGLE_framebuffer_multisample:1,ANGLE_instanced_arrays:1,ANGLE_pack_reverse_row_order:1,ANGLE_program_binary:1,ANGLE_texture_compression_dxt3:1,ANGLE_texture_compression_dxt5:1,ANGLE_texture_usage:1,ANGLE_translated_shader_source:1,ANY_SAMPLES_PASSED_CONSERVATIVE_EXT:36202,ANY_SAMPLES_PASSED_EXT:35887,APPLE_copy_texture_levels:1,APPLE_framebuffer_multisample:1,APPLE_rgb_422:1,APPLE_sync:1,APPLE_texture_format_BGRA8888:1,APPLE_texture_max_level:1,ARM_mali_program_binary:1,ARM_mali_shader_binary:1,ARM_rgba8:1,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATC_RGBA_EXPLICIT_ALPHA_AMD:35987,ATC_RGBA_INTERPOLATED_ALPHA_AMD:34798,ATC_RGB_AMD:35986,ATTACHED_SHADERS:35717,BACK:1029,BGRA8_EXT:37793,BGRA_EXT:32993,BGRA_IMG:32993,BINNING_CONTROL_HINT_QCOM:36784,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BUFFER:33504,BUFFER_ACCESS_OES:35003,BUFFER_MAPPED_OES:35004,BUFFER_MAP_POINTER_OES:35005,BUFFER_OBJECT_EXT:37201,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_BORDER_NV:33069,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_ATTACHMENT0_NV:36064,COLOR_ATTACHMENT10_NV:36074,COLOR_ATTACHMENT11_NV:36075,COLOR_ATTACHMENT12_NV:36076,COLOR_ATTACHMENT13_NV:36077,COLOR_ATTACHMENT14_NV:36078,COLOR_ATTACHMENT15_NV:36079,COLOR_ATTACHMENT1_NV:36065,COLOR_ATTACHMENT2_NV:36066,COLOR_ATTACHMENT3_NV:36067,COLOR_ATTACHMENT4_NV:36068,COLOR_ATTACHMENT5_NV:36069,COLOR_ATTACHMENT6_NV:36070,COLOR_ATTACHMENT7_NV:36071,COLOR_ATTACHMENT8_NV:36072,COLOR_ATTACHMENT9_NV:36073,COLOR_ATTACHMENT_EXT:37104,COLOR_BUFFER_BIT:16384,COLOR_BUFFER_BIT0_QCOM:1,COLOR_BUFFER_BIT1_QCOM:2,COLOR_BUFFER_BIT2_QCOM:4,COLOR_BUFFER_BIT3_QCOM:8,COLOR_BUFFER_BIT4_QCOM:16,COLOR_BUFFER_BIT5_QCOM:32,COLOR_BUFFER_BIT6_QCOM:64,COLOR_BUFFER_BIT7_QCOM:128,COLOR_CLEAR_VALUE:3106,COLOR_EXT:6144,COLOR_WRITEMASK:3107,COMPARE_REF_TO_TEXTURE_EXT:34894,COMPILE_STATUS:35713,COMPRESSED_RGBA_ASTC_10x10_KHR:37819,COMPRESSED_RGBA_ASTC_10x5_KHR:37816,COMPRESSED_RGBA_ASTC_10x6_KHR:37817,COMPRESSED_RGBA_ASTC_10x8_KHR:37818,COMPRESSED_RGBA_ASTC_12x10_KHR:37820,COMPRESSED_RGBA_ASTC_12x12_KHR:37821,COMPRESSED_RGBA_ASTC_4x4_KHR:37808,COMPRESSED_RGBA_ASTC_5x4_KHR:37809,COMPRESSED_RGBA_ASTC_5x5_KHR:37810,COMPRESSED_RGBA_ASTC_6x5_KHR:37811,COMPRESSED_RGBA_ASTC_6x6_KHR:37812,COMPRESSED_RGBA_ASTC_8x5_KHR:37813,COMPRESSED_RGBA_ASTC_8x6_KHR:37814,COMPRESSED_RGBA_ASTC_8x8_KHR:37815,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGBA_PVRTC_2BPPV2_IMG:37175,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGBA_PVRTC_4BPPV2_IMG:37176,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_ANGLE:33778,COMPRESSED_RGBA_S3TC_DXT5_ANGLE:33779,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:37853,COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:37847,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_NV:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_NV:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_NV:35919,COMPRESSED_SRGB_S3TC_DXT1_NV:35916,COMPRESSED_TEXTURE_FORMATS:34467,CONDITION_SATISFIED_APPLE:37148,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_FLAG_DEBUG_BIT:2,CONTEXT_ROBUST_ACCESS_EXT:37107,COUNTER_RANGE_AMD:35777,COUNTER_TYPE_AMD:35776,COVERAGE_ALL_FRAGMENTS_NV:36565,COVERAGE_ATTACHMENT_NV:36562,COVERAGE_AUTOMATIC_NV:36567,COVERAGE_BUFFERS_NV:36563,COVERAGE_BUFFER_BIT_NV:32768,COVERAGE_COMPONENT4_NV:36561,COVERAGE_COMPONENT_NV:36560,COVERAGE_EDGE_FRAGMENTS_NV:36566,COVERAGE_SAMPLES_NV:36564,CPU_OPTIMIZED_QCOM:36785,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_QUERY_EXT:34917,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DEBUG_CALLBACK_FUNCTION:33348,DEBUG_CALLBACK_USER_PARAM:33349,DEBUG_GROUP_STACK_DEPTH:33389,DEBUG_LOGGED_MESSAGES:37189,DEBUG_NEXT_LOGGED_MESSAGE_LENGTH:33347,DEBUG_OUTPUT:37600,DEBUG_OUTPUT_SYNCHRONOUS:33346,DEBUG_SEVERITY_HIGH:37190,DEBUG_SEVERITY_LOW:37192,DEBUG_SEVERITY_MEDIUM:37191,DEBUG_SEVERITY_NOTIFICATION:33387,DEBUG_SOURCE_API:33350,DEBUG_SOURCE_APPLICATION:33354,DEBUG_SOURCE_OTHER:33355,DEBUG_SOURCE_SHADER_COMPILER:33352,DEBUG_SOURCE_THIRD_PARTY:33353,DEBUG_SOURCE_WINDOW_SYSTEM:33351,DEBUG_TYPE_DEPRECATED_BEHAVIOR:33357,DEBUG_TYPE_ERROR:33356,DEBUG_TYPE_MARKER:33384,DEBUG_TYPE_OTHER:33361,DEBUG_TYPE_PERFORMANCE:33360,DEBUG_TYPE_POP_GROUP:33386,DEBUG_TYPE_PORTABILITY:33359,DEBUG_TYPE_PUSH_GROUP:33385,DEBUG_TYPE_UNDEFINED_BEHAVIOR:33358,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH24_STENCIL8_OES:35056,DEPTH_ATTACHMENT:36096,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_BUFFER_BIT0_QCOM:256,DEPTH_BUFFER_BIT1_QCOM:512,DEPTH_BUFFER_BIT2_QCOM:1024,DEPTH_BUFFER_BIT3_QCOM:2048,DEPTH_BUFFER_BIT4_QCOM:4096,DEPTH_BUFFER_BIT5_QCOM:8192,DEPTH_BUFFER_BIT6_QCOM:16384,DEPTH_BUFFER_BIT7_QCOM:32768,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,DEPTH_COMPONENT16:33189,DEPTH_COMPONENT16_NONLINEAR_NV:36396,DEPTH_COMPONENT16_OES:33189,DEPTH_COMPONENT24_OES:33190,DEPTH_COMPONENT32_OES:33191,DEPTH_EXT:6145,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_OES:34041,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DMP_shader_binary:1,DONT_CARE:4352,DRAW_BUFFER0_NV:34853,DRAW_BUFFER10_NV:34863,DRAW_BUFFER11_NV:34864,DRAW_BUFFER12_NV:34865,DRAW_BUFFER13_NV:34866,DRAW_BUFFER14_NV:34867,DRAW_BUFFER15_NV:34868,DRAW_BUFFER1_NV:34854,DRAW_BUFFER2_NV:34855,DRAW_BUFFER3_NV:34856,DRAW_BUFFER4_NV:34857,DRAW_BUFFER5_NV:34858,DRAW_BUFFER6_NV:34859,DRAW_BUFFER7_NV:34860,DRAW_BUFFER8_NV:34861,DRAW_BUFFER9_NV:34862,DRAW_BUFFER_EXT:3073,DRAW_FRAMEBUFFER_ANGLE:36009,DRAW_FRAMEBUFFER_APPLE:36009,DRAW_FRAMEBUFFER_BINDING_ANGLE:36006,DRAW_FRAMEBUFFER_BINDING_APPLE:36006,DRAW_FRAMEBUFFER_BINDING_NV:36006,DRAW_FRAMEBUFFER_NV:36009,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,ES_VERSION_2_0:1,ETC1_RGB8_OES:36196,ETC1_SRGB8_NV:35054,EXTENSIONS:7939,EXT_blend_minmax:1,EXT_color_buffer_half_float:1,EXT_debug_label:1,EXT_debug_marker:1,EXT_discard_framebuffer:1,EXT_map_buffer_range:1,EXT_multi_draw_arrays:1,EXT_multisampled_render_to_texture:1,EXT_multiview_draw_buffers:1,EXT_occlusion_query_boolean:1,EXT_read_format_bgra:1,EXT_robustness:1,EXT_sRGB:1,EXT_separate_shader_objects:1,EXT_shader_framebuffer_fetch:1,EXT_shader_texture_lod:1,EXT_shadow_samplers:1,EXT_texture_compression_dxt1:1,EXT_texture_filter_anisotropic:1,EXT_texture_format_BGRA8888:1,EXT_texture_rg:1,EXT_texture_storage:1,EXT_texture_type_2_10_10_10_REV:1,EXT_unpack_subimage:1,FALSE:0,FASTEST:4353,FENCE_CONDITION_NV:34036,FENCE_STATUS_NV:34035,FIXED:5132,FJ_shader_binary_GCCSO:1,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAGMENT_SHADER_BIT_EXT:2,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,FRAGMENT_SHADER_DISCARDS_SAMPLES_EXT:35410,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_ANGLE:37795,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_3D_ZOFFSET_OES:36052,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_SAMPLES_EXT:36204,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_ANGLE:36182,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_APPLE:36182,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_EXT:36182,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_IMG:37172,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_NV:36182,FRAMEBUFFER_UNDEFINED_OES:33305,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GPU_OPTIMIZED_QCOM:36786,GREATER:516,GREEN_BITS:3411,GUILTY_CONTEXT_RESET_EXT:33363,HALF_FLOAT_OES:36193,HIGH_FLOAT:36338,HIGH_INT:36341,IMG_multisampled_render_to_texture:1,IMG_program_binary:1,IMG_read_format:1,IMG_shader_binary:1,IMG_texture_compression_pvrtc:1,IMG_texture_compression_pvrtc2:1,IMPLEMENTATION_COLOR_READ_FORMAT:35739,IMPLEMENTATION_COLOR_READ_TYPE:35738,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INNOCENT_CONTEXT_RESET_EXT:33364,INT:5124,INT_10_10_10_2_OES:36343,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,KHR_debug:1,KHR_texture_compression_astc_ldr:1,LEFT:1030,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOSE_CONTEXT_ON_RESET_EXT:33362,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE16F_EXT:34846,LUMINANCE32F_EXT:34840,LUMINANCE4_ALPHA4_OES:32835,LUMINANCE8_ALPHA8_EXT:32837,LUMINANCE8_ALPHA8_OES:32837,LUMINANCE8_EXT:32832,LUMINANCE8_OES:32832,LUMINANCE_ALPHA:6410,LUMINANCE_ALPHA16F_EXT:34847,LUMINANCE_ALPHA32F_EXT:34841,MALI_PROGRAM_BINARY_ARM:36705,MALI_SHADER_BINARY_ARM:36704,MAP_FLUSH_EXPLICIT_BIT_EXT:16,MAP_INVALIDATE_BUFFER_BIT_EXT:8,MAP_INVALIDATE_RANGE_BIT_EXT:4,MAP_READ_BIT_EXT:1,MAP_UNSYNCHRONIZED_BIT_EXT:32,MAP_WRITE_BIT_EXT:2,MAX_3D_TEXTURE_SIZE_OES:32883,MAX_COLOR_ATTACHMENTS_NV:36063,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_DEBUG_GROUP_STACK_DEPTH:33388,MAX_DEBUG_LOGGED_MESSAGES:37188,MAX_DEBUG_MESSAGE_LENGTH:37187,MAX_DRAW_BUFFERS_NV:34852,MAX_EXT:32776,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_LABEL_LENGTH:33512,MAX_MULTIVIEW_BUFFERS_EXT:37106,MAX_RENDERBUFFER_SIZE:34024,MAX_SAMPLES_ANGLE:36183,MAX_SAMPLES_APPLE:36183,MAX_SAMPLES_EXT:36183,MAX_SAMPLES_IMG:37173,MAX_SAMPLES_NV:36183,MAX_SERVER_WAIT_TIMEOUT_APPLE:37137,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIN_EXT:32775,MIRRORED_REPEAT:33648,MULTISAMPLE_BUFFER_BIT0_QCOM:16777216,MULTISAMPLE_BUFFER_BIT1_QCOM:33554432,MULTISAMPLE_BUFFER_BIT2_QCOM:67108864,MULTISAMPLE_BUFFER_BIT3_QCOM:134217728,MULTISAMPLE_BUFFER_BIT4_QCOM:268435456,MULTISAMPLE_BUFFER_BIT5_QCOM:536870912,MULTISAMPLE_BUFFER_BIT6_QCOM:1073741824,MULTISAMPLE_BUFFER_BIT7_QCOM:2147483648,MULTIVIEW_EXT:37105,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NO_RESET_NOTIFICATION_EXT:33377,NUM_COMPRESSED_TEXTURE_FORMATS:34466,NUM_PROGRAM_BINARY_FORMATS_OES:34814,NUM_SHADER_BINARY_FORMATS:36345,NV_coverage_sample:1,NV_depth_nonlinear:1,NV_draw_buffers:1,NV_draw_instanced:1,NV_fbo_color_attachments:1,NV_fence:1,NV_framebuffer_blit:1,NV_framebuffer_multisample:1,NV_generate_mipmap_sRGB:1,NV_instanced_arrays:1,NV_read_buffer:1,NV_read_buffer_front:1,NV_read_depth:1,NV_read_depth_stencil:1,NV_read_stencil:1,NV_sRGB_formats:1,NV_shadow_samplers_array:1,NV_shadow_samplers_cube:1,NV_texture_border_clamp:1,NV_texture_compression_s3tc_update:1,NV_texture_npot_2D_mipmap:1,OBJECT_TYPE_APPLE:37138,OES_EGL_image:1,OES_EGL_image_external:1,OES_compressed_ETC1_RGB8_texture:1,OES_compressed_paletted_texture:1,OES_depth24:1,OES_depth32:1,OES_depth_texture:1,OES_element_index_uint:1,OES_fbo_render_mipmap:1,OES_fragment_precision_high:1,OES_get_program_binary:1,OES_mapbuffer:1,OES_packed_depth_stencil:1,OES_required_internalformat:1,OES_rgb8_rgba8:1,OES_standard_derivatives:1,OES_stencil1:1,OES_stencil4:1,OES_surfaceless_context:1,OES_texture_3D:1,OES_texture_float:1,OES_texture_float_linear:1,OES_texture_half_float:1,OES_texture_half_float_linear:1,OES_texture_npot:1,OES_vertex_array_object:1,OES_vertex_half_float:1,OES_vertex_type_10_10_10_2:1,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,PACK_REVERSE_ROW_ORDER_ANGLE:37796,PALETTE4_R5_G6_B5_OES:35730,PALETTE4_RGB5_A1_OES:35732,PALETTE4_RGB8_OES:35728,PALETTE4_RGBA4_OES:35731,PALETTE4_RGBA8_OES:35729,PALETTE8_R5_G6_B5_OES:35735,PALETTE8_RGB5_A1_OES:35737,PALETTE8_RGB8_OES:35733,PALETTE8_RGBA4_OES:35736,PALETTE8_RGBA8_OES:35734,PERCENTAGE_AMD:35779,PERFMON_GLOBAL_MODE_QCOM:36768,PERFMON_RESULT_AMD:35782,PERFMON_RESULT_AVAILABLE_AMD:35780,PERFMON_RESULT_SIZE_AMD:35781,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,PROGRAM:33506,PROGRAM_BINARY_ANGLE:37798,PROGRAM_BINARY_FORMATS_OES:34815,PROGRAM_BINARY_LENGTH_OES:34625,PROGRAM_OBJECT_EXT:35648,PROGRAM_PIPELINE_BINDING_EXT:33370,PROGRAM_PIPELINE_OBJECT_EXT:35407,PROGRAM_SEPARABLE_EXT:33368,QCOM_alpha_test:1,QCOM_binning_control:1,QCOM_driver_control:1,QCOM_extended_get:1,QCOM_extended_get2:1,QCOM_perfmon_global_mode:1,QCOM_tiled_rendering:1,QCOM_writeonly_rendering:1,QUERY:33507,QUERY_OBJECT_EXT:37203,QUERY_RESULT_AVAILABLE_EXT:34919,QUERY_RESULT_EXT:34918,R16F_EXT:33325,R32F_EXT:33326,R8_EXT:33321,READ_BUFFER_EXT:3074,READ_BUFFER_NV:3074,READ_FRAMEBUFFER_ANGLE:36008,READ_FRAMEBUFFER_APPLE:36008,READ_FRAMEBUFFER_BINDING_ANGLE:36010,READ_FRAMEBUFFER_BINDING_APPLE:36010,READ_FRAMEBUFFER_BINDING_NV:36010,READ_FRAMEBUFFER_NV:36008,RED_BITS:3410,RED_EXT:6403,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_SAMPLES_ANGLE:36011,RENDERBUFFER_SAMPLES_APPLE:36011,RENDERBUFFER_SAMPLES_EXT:36011,RENDERBUFFER_SAMPLES_IMG:37171,RENDERBUFFER_SAMPLES_NV:36011,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,RENDER_DIRECT_TO_FRAMEBUFFER_QCOM:36787,REPEAT:10497,REPLACE:7681,REQUIRED_TEXTURE_IMAGE_UNITS_OES:36200,RESET_NOTIFICATION_STRATEGY_EXT:33366,RG16F_EXT:33327,RG32F_EXT:33328,RG8_EXT:33323,RGB:6407,RGB10_A2_EXT:32857,RGB10_EXT:32850,RGB16F_EXT:34843,RGB32F_EXT:34837,RGB565:36194,RGB565_OES:36194,RGB5_A1:32855,RGB5_A1_OES:32855,RGB8_OES:32849,RGBA:6408,RGBA16F_EXT:34842,RGBA32F_EXT:34836,RGBA4:32854,RGBA4_OES:32854,RGBA8_OES:32856,RGB_422_APPLE:35359,RG_EXT:33319,RIGHT:1031,SAMPLER:33510,SAMPLER_2D:35678,SAMPLER_2D_ARRAY_SHADOW_NV:36292,SAMPLER_2D_SHADOW_EXT:35682,SAMPLER_3D_OES:35679,SAMPLER_CUBE:35680,SAMPLER_CUBE_SHADOW_NV:36293,SAMPLER_EXTERNAL_OES:36198,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SGX_BINARY_IMG:35850,SGX_PROGRAM_BINARY_IMG:37168,SHADER:33505,SHADER_BINARY_DMP:37456,SHADER_BINARY_FORMATS:36344,SHADER_BINARY_VIV:36804,SHADER_COMPILER:36346,SHADER_OBJECT_EXT:35656,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SIGNALED_APPLE:37145,SLUMINANCE8_ALPHA8_NV:35909,SLUMINANCE8_NV:35911,SLUMINANCE_ALPHA_NV:35908,SLUMINANCE_NV:35910,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,SRGB8_ALPHA8_EXT:35907,SRGB8_NV:35905,SRGB_ALPHA_EXT:35906,SRGB_EXT:35904,STACK_OVERFLOW:1283,STACK_UNDERFLOW:1284,STATE_RESTORE:35804,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_BUFFER_BIT0_QCOM:65536,STENCIL_BUFFER_BIT1_QCOM:131072,STENCIL_BUFFER_BIT2_QCOM:262144,STENCIL_BUFFER_BIT3_QCOM:524288,STENCIL_BUFFER_BIT4_QCOM:1048576,STENCIL_BUFFER_BIT5_QCOM:2097152,STENCIL_BUFFER_BIT6_QCOM:4194304,STENCIL_BUFFER_BIT7_QCOM:8388608,STENCIL_CLEAR_VALUE:2961,STENCIL_EXT:6146,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX1_OES:36166,STENCIL_INDEX4_OES:36167,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,SYNC_CONDITION_APPLE:37139,SYNC_FENCE_APPLE:37142,SYNC_FLAGS_APPLE:37141,SYNC_FLUSH_COMMANDS_BIT_APPLE:1,SYNC_GPU_COMMANDS_COMPLETE_APPLE:37143,SYNC_OBJECT_APPLE:35411,SYNC_STATUS_APPLE:37140,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE2:33986,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE3:33987,TEXTURE30:34014,TEXTURE31:34015,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE_2D:3553,TEXTURE_3D_OES:32879,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_3D_OES:32874,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_BINDING_EXTERNAL_OES:36199,TEXTURE_BORDER_COLOR_NV:4100,TEXTURE_COMPARE_FUNC_EXT:34893,TEXTURE_COMPARE_MODE_EXT:34892,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_DEPTH_QCOM:35796,TEXTURE_EXTERNAL_OES:36197,TEXTURE_FORMAT_QCOM:35798,TEXTURE_HEIGHT_QCOM:35795,TEXTURE_IMAGE_VALID_QCOM:35800,TEXTURE_IMMUTABLE_FORMAT_EXT:37167,TEXTURE_INTERNAL_FORMAT_QCOM:35797,TEXTURE_MAG_FILTER:10240,TEXTURE_MAX_ANISOTROPY_EXT:34046,TEXTURE_MAX_LEVEL_APPLE:33085,TEXTURE_MIN_FILTER:10241,TEXTURE_NUM_LEVELS_QCOM:35801,TEXTURE_OBJECT_VALID_QCOM:35803,TEXTURE_SAMPLES_IMG:37174,TEXTURE_TARGET_QCOM:35802,TEXTURE_TYPE_QCOM:35799,TEXTURE_USAGE_ANGLE:37794,TEXTURE_WIDTH_QCOM:35794,TEXTURE_WRAP_R_OES:32882,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TIMEOUT_EXPIRED_APPLE:37147,TIMEOUT_IGNORED_APPLE:0x10000000000000000,TRANSLATED_SHADER_SOURCE_LENGTH_ANGLE:37792,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,TRUE:1,UNKNOWN_CONTEXT_RESET_EXT:33365,UNPACK_ALIGNMENT:3317,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_PIXELS:3316,UNPACK_SKIP_ROWS:3315,UNSIGNALED_APPLE:37144,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_INT64_AMD:35778,UNSIGNED_INT_10_10_10_2_OES:36342,UNSIGNED_INT_24_8_OES:34042,UNSIGNED_INT_2_10_10_10_REV_EXT:33640,UNSIGNED_NORMALIZED_EXT:35863,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_1_5_5_5_REV_EXT:33638,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_4_4_4_4_REV_EXT:33637,UNSIGNED_SHORT_4_4_4_4_REV_IMG:33637,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,UNSIGNED_SHORT_8_8_APPLE:34234,UNSIGNED_SHORT_8_8_REV_APPLE:34235,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ARRAY_BINDING_OES:34229,VERTEX_ARRAY_OBJECT_EXT:37204,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,VERTEX_ATTRIB_ARRAY_DIVISOR_NV:35070,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VERTEX_SHADER_BIT_EXT:1,VIEWPORT:2978,VIV_shader_binary:1,WAIT_FAILED_APPLE:37149,WRITEONLY_RENDERING_QCOM:34851,WRITE_ONLY_OES:35001,Z400_BINARY_AMD:34624,ZERO:0,RASTERIZER_DISCARD:35977,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444},Xe={};function Ke(e){var t=Ze();return function(){var n,r=S()(e);if(t){var i=S()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x()(this,n)}}function Ze(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Qe=new Map,Je=new Map,$e=new Map;var et=function(e){_()(n,e);var t=Ke(n);function n(){var e;return p()(this,n),e=t.call(this),C()(k()(e),"onabort",void 0),C()(k()(e),"onerror",void 0),C()(k()(e),"onload",void 0),C()(k()(e),"onloadstart",void 0),C()(k()(e),"onprogress",void 0),C()(k()(e),"ontimeout",void 0),C()(k()(e),"onloadend",void 0),C()(k()(e),"onreadystatechange",void 0),C()(k()(e),"readyState",void 0),C()(k()(e),"response",void 0),C()(k()(e),"responseText",void 0),C()(k()(e),"_responseType",void 0),C()(k()(e),"responseXML",void 0),C()(k()(e),"status",void 0),C()(k()(e),"statusText",void 0),C()(k()(e),"upload",void 0),C()(k()(e),"withCredentials",void 0),C()(k()(e),"timeout",void 0),C()(k()(e),"_url",void 0),C()(k()(e),"_method",void 0),e.onabort=null,e.onerror=null,e.onload=null,e.onloadstart=null,e.onprogress=null,e.ontimeout=null,e.onloadend=null,e.onreadystatechange=null,e.readyState=0,e.response=null,e.responseText=null,e._responseType="text",e.responseXML=null,e.status=0,e.statusText="",e.upload={},e.withCredentials=!1,Qe.set("requestHeader",{"content-type":"application/x-www-form-urlencoded"}),e}return h()(n,[{key:"responseType",set:function(e){this._responseType=e}},{key:"abort",value:function(){var e=$e.get("requestTask");e&&e.abort()}},{key:"getAllResponseHeaders",value:function(){var e=Je.get("responseHeader");return Object.keys(e).map((function(t){return"".concat(t,": ").concat(e[t])})).join("\n")}},{key:"getResponseHeader",value:function(e){return Je.get("responseHeader")[e]}},{key:"open",value:function(e,t,n){this._method=e,this._url=t}},{key:"overrideMimeType",value:function(){}},{key:"send",value:function(){}},{key:"setRequestHeader",value:function(e,t){var n=Qe.get("requestHeader");n[e]=t,Qe.set("requestHeader",n)}},{key:"addEventListener",value:function(e,t){var n=this;"function"===typeof t&&(this["on"+e]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.target=e.target||n,t.call(n,e)})}},{key:"removeEventListener",value:function(e,t){this["on"+e]===t&&(this["on"+e]=null)}}]),n}(D);function tt(e){var t=nt();return function(){var n,r=S()(e);if(t){var i=S()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x()(this,n)}}function nt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}C()(et,"UNSEND",void 0),C()(et,"OPENED",void 0),C()(et,"HEADERS_RECEIVED",void 0),C()(et,"LOADING",void 0),C()(et,"DONE",void 0),et.UNSEND=0,et.OPENED=1,et.HEADERS_RECEIVED=2,et.LOADING=3,et.DONE=4;var rt=function(e){_()(n,e);var t=tt(n);function n(e){var r;return p()(this,n),r=t.call(this,e),C()(k()(r),"touches",void 0),C()(k()(r),"targetTouches",void 0),C()(k()(r),"changedTouches",void 0),r.touches=[],r.targetTouches=[],r.changedTouches=[],r.target=me(),r.currentTarget=me(),r}return h()(n)}(A);function it(e){var t=e||{},n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=t.clientX,s=void 0===a?0:a,l=t.clientY,u=void 0===l?0:l;-1!==Object.keys(e).indexOf("x")?(e.pageX=e.clientX=r,e.pageY=e.clientY=o):(e.x=s,e.y=u)}function ot(e){return function(t){var n=new rt(e);n.changedTouches=t.changedTouches,n.touches=t.touches,n.targetTouches=Array.prototype.slice.call(t.touches),n.timeStamp=t.timeStamp,n.changedTouches.forEach((function(e){return it(e)})),n.touches.forEach((function(e){return it(e)})),n.targetTouches.forEach((function(e){return it(e)})),Se.dispatchEvent(n)}}function at(e){return function(t){t.type=e,Se.dispatchEvent(t)}}ot("touchstart"),ot("touchmove"),ot("touchend"),at("mapCameaParams");function st(e){var t=lt();return function(){var n,r=S()(e);if(t){var i=S()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x()(this,n)}}function lt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ut=function(e){_()(n,e);var t=st(n);function n(e){var r;return p()(this,n),r=t.call(this,e),C()(k()(r),"buttons",void 0),C()(k()(r),"which",void 0),C()(k()(r),"pointerId",void 0),C()(k()(r),"bubbles",void 0),C()(k()(r),"button",void 0),C()(k()(r),"width",void 0),C()(k()(r),"height",void 0),C()(k()(r),"pressure",void 0),C()(k()(r),"isPrimary",void 0),C()(k()(r),"pointerType",void 0),C()(k()(r),"altKey",void 0),C()(k()(r),"ctrlKey",void 0),C()(k()(r),"metaKey",void 0),C()(k()(r),"shiftKey",void 0),r.target=me(),r.currentTarget=me(),r}return h()(n)}(A),ct=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","pageX","pageY","timeStamp"],ft=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,0,0,0],pt="touch";function dt(e,t,n){for(var r=new ut(e),i=0;i<ct.length;i++){var o=ct[i];r[o]=t[o]||ft[i]}return r.type=e,r.target=me(),r.currentTarget=me(),r.buttons=ht(e),r.which=r.buttons,r.pointerId=(t.identifier||0)+2,r.bubbles=!0,r.cancelable=!0,r.button=0,r.width=2*(t.radiusX||.5),r.height=2*(t.radiusY||.5),r.pressure=t.force||.5,r.isPrimary=mt(t),r.pointerType=pt,r.altKey=n.altKey,r.ctrlKey=n.ctrlKey,r.metaKey=n.metaKey,r.shiftKey=n.shiftKey,n.preventDefault&&(r.preventDefault=function(){n.preventDefault()}),r}function ht(e){var t=0;return"touchstart"!==e&&"touchmove"!==e&&"pointerdown"!==e&&"pointermove"!==e||(t=1),t}var vt=null;function mt(e){return vt===e.identifier}function gt(e){null===vt&&(vt=e.identifier)}function yt(e){vt===e.identifier&&(vt=null)}function bt(e){return function(t){for(var n=t.changedTouches,r=0;r<n.length;r++){var i=n[r];0===r&&"pointerdown"===e?gt(i):"pointerup"!==e&&"pointercancel"!==e||yt(i);var o=dt(e,i,t);Se.dispatchEvent(o)}}}bt("pointerdown"),bt("pointermove"),bt("pointerup");function _t(e){var t=Et();return function(){var n,r=S()(e);if(t){var i=S()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x()(this,n)}}function Et(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(function(e){_()(n,e);var t=_t(n);function n(e){return p()(this,n),t.call(this,e)}h()(n)})(A);function xt(e){return function(t){t.type=e,Se.dispatchEvent(t)}}xt("mousedown"),xt("mousemove"),xt("mouseup");var wt="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM,St="undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||"undefined"!==typeof wx.miniProgram),Ot=wt||St,Ct={atob:u,btoa:c,devicePixelRatio:y,Blob:v,document:Se,Element:G,Event:A,EventTarget:D,HTMLCanvasElement:Pe,HTMLElement:le,HTMLMediaElement:fe,HTMLVideoElement:he,Image:ge,ImageData:Te,navigator:Fe,Node:j,requestAnimationFrame:Ve,cancelAnimationFrame:Ge,screen:K,XMLHttpRequest:et,performance:Be,URL:We,WebGLRenderingContext:Ye,WebGL2RenderingContext:Xe,addEventListener:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Se.addEventListener(e,t,n)},removeEventListener:function(e,t,n){Se.removeEventListener(e,t)},dispatchEvent:function(e){Se.dispatchEvent(e)},innerWidth:K.availWidth,innerHeight:K.availHeight,setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval},At=Ot?Ct:m["a"],Pt=Ot?et:m["a"].XMLHttpRequest;Ot||m["a"].location;function kt(e){var t=e;return"string"===typeof e&&(t=At.document.getElementById(e)),t}function Mt(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Tt(e){return Mt(e).split(/\s+/)}function Lt(e){var t,n,r=null===At||void 0===At||null===(t=At.document)||void 0===t||null===(n=t.documentElement)||void 0===n?void 0:n.style;if(!r)return e[0];for(var i in e)if(e[i]&&e[i]in r)return e[i];return e[0]}function It(e,t,n){var r=At.document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function Dt(e){var t=e.parentNode;t&&t.removeChild(e)}function Rt(e,t){if(void 0!==e.classList)for(var n=Tt(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!jt(e,t)){var o=Bt(e);Ft(e,(o?o+" ":"")+t)}}function Nt(e,t){void 0!==e.classList?e.classList.remove(t):Ft(e,Mt((" "+Bt(e)+" ").replace(" "+t+" "," ")))}function jt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=Bt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function Ft(e,t){e instanceof HTMLElement?e.className=t:e.className.baseVal=t}function Bt(e){return e instanceof SVGElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function Ut(e){while(e&&e.firstChild)e.removeChild(e.firstChild)}var zt=Lt(["transform","WebkitTransform"]);function Ht(e,t){e.style[zt]=t}function Vt(){if("function"===typeof Event)At.dispatchEvent(new Event("resize"));else{var e=At.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,At,0),At.dispatchEvent(e)}}function Gt(e){var t=["padding: "+(e.height/2-8)+"px "+e.width/2+"px;","line-height: "+e.height+"px;","background-image: url("+e.toDataURL()+");"];console.log("%c\n",t.join(""))}function Wt(){var e,t=At.document.querySelector('meta[name="viewport"]');if(!t)return 1;var n=null===(e=t.content)||void 0===e?void 0:e.split(","),r=n.find((function(e){var t=e.split("="),n=a()(t,2),r=n[0];n[1];return"initial-scale"===r}));return r?1*r.split("=")[1]:1}var qt=Wt()<1?1:At.devicePixelRatio;function Yt(e){if(0===e.length)throw new Error("max requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return 1*t}function Xt(e){if(0===e.length)throw new Error("min requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return 1*t}function Kt(e){if(0===e.length)return 0;for(var t=1*e[0],n=1;n<e.length;n++)t+=1*e[n];return t}function Zt(e){if(0===e.length)throw new Error("mean requires at least one data point");return Kt(e)/e.length}function Qt(e){if(0===e.length)throw new Error("mean requires at least one data point");if(e.length<3)return e[0];e.sort();for(var t=e[0],n=NaN,r=0,i=1,o=1;o<e.length+1;o++)e[o]!==t?(i>r&&(r=i,n=t),i=1,t=e[o]):i++;return 1*n}var Jt={min:Xt,max:Yt,mean:Zt,sum:Kt,mode:Qt};function $t(e,t){return e.map((function(e){return e[t]}))}function en(e,t){return Jt[e](t)}var tn=n("yXPU"),nn=n.n(tn),rn=n("oShl"),on=n.n(rn),an=n("o0o1"),sn=n.n(an);function ln(e){return"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap}function un(){return"function"===typeof importScripts}un();function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pn(e){var t=dn();return function(){var n,r=S()(e);if(t){var i=S()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x()(this,n)}}function dn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var hn=function(e){_()(n,e);var t=pn(n);function n(e,r,i,o){var a;return p()(this,n),a=t.call(this,"AJAXError: ".concat(r," (").concat(e,"): ").concat(i)),C()(k()(a),"status",void 0),C()(k()(a),"statusText",void 0),C()(k()(a),"url",void 0),C()(k()(a),"body",void 0),a.status=e,a.statusText=r,a.url=i,a.body=o,a}return h()(n)}(on()(Error));function vn(e,t){var n=new Pt;for(var r in n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer"),e.headers)e.headers.hasOwnProperty(r)&&n.setRequestHeader(r,e.headers[r]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(o){return t(o)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else{var i=new Blob([n.response],{type:n.getResponseHeader("Content-Type")});t(new hn(n.status,n.statusText,e.url,i))}},n.send(e.body),n}function mn(e,t){return vn(e,t)}var gn=function(e,t){return mn(fn(fn({},e),{},{type:"arrayBuffer"}),t)};var yn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function bn(e,t){var n=new At.Image,r=At.URL||At.webkitURL;n.crossOrigin="anonymous",n.onload=function(){t(null,n),r.revokeObjectURL(n.src),n.onload=null,window.requestAnimationFrame((function(){n.src=yn}))},n.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var i=new Blob([new Uint8Array(e)],{type:"image/png"});n.src=e.byteLength?r.createObjectURL(i):yn}function _n(e,t){var n=new Blob([new Uint8Array(e)],{type:"image/png"});createImageBitmap(n).then((function(e){t(null,e)}))["catch"]((function(e){t(new Error("Could not load image because of ".concat(e.message,". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")))}))}var En=function(e,t){return gn(e,(function(e,n){if(e)t(e);else if(n){var r="function"===typeof createImageBitmap;r?_n(n,t):bn(n,t)}}))},xn=function(){var e=nn()(sn.a.mark((function e(t,n,r){var i,o,a,s,l,u;return sn.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(t);case 3:i=e.sent,o=i.rasterData,a=i.width,s=i.height,l=0,u=8e3,n(null,{data:o,width:a,height:s,min:l,max:u}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),n(null,new Error(""+e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),wn=function(e,t,n){return gn(e,(function(e,r){e?t(e):r&&xn(r,t,n)}))},Sn=n("0wsv");function On(e){return"number"===typeof e}var Cn=2*Math.PI*6378137/2;function An(e){var t=[1/0,1/0,-1/0,-1/0];return e.forEach((function(e){var n=e.coordinates;Pn(t,n)})),t}function Pn(e,t){return Array.isArray(t[0])?t.forEach((function(t){Pn(e,t)})):(e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])),e}function kn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enable:!0,decimal:1};e=Ln(e,t);var r=e[0],i=e[1],o=r*Cn/180,a=Math.log(Math.tan((90+i)*Math.PI/360))/(Math.PI/180);return a=a*Cn/180,n.enable&&(o=Number(o.toFixed(n.decimal)),a=Number(a.toFixed(n.decimal))),3===e.length?[o,a,e[2]]:[o,a]}function Mn(e){if(void 0===e||null===e)throw new Error("lng is required");return(e>180||e<-180)&&(e%=360,e>180&&(e=-360+e),e<-180&&(e=360+e),0===e&&(e=0)),e}function Tn(e){if(void 0===e||null===e)throw new Error("lat is required");return(e>90||e<-90)&&(e%=180,e>90&&(e=-180+e),e<-90&&(e=180+e),0===e&&(e=0)),e}function Ln(e,t){if(!1===t)return e;var n=Mn(e[0]),r=Tn(e[1]);return r>85&&(r=85),r<-85&&(r=-85),3===e.length?[n,r,e[2]]:[n,r]}function In(e){var t=85.0511287798,n=Math.max(Math.min(t,e[1]),-t),r=256<<20,i=Math.PI/180,o=e[0]*i,a=n*i;a=Math.log(Math.tan(Math.PI/4+a/2));var s=.5/Math.PI,l=.5,u=-.5/Math.PI;return i=.5,o=r*(s*o+l),a=r*(u*a+i),[Math.floor(o),Math.floor(a)]}function Dn(e,t){var n=85.0511287798,r=Math.PI/180,i=6378137;return t=Math.max(Math.min(n,t),-n),e*=r,t*=r,t=Math.log(Math.tan(Math.PI/4+t/2)),[e*i,t*i]}function Rn(e,t,n){var r=Object(Sn["a"])(t[1]-e[1]),i=Object(Sn["a"])(t[0]-e[0]),o=Object(Sn["a"])(e[1]),a=Object(Sn["a"])(t[1]),s=Math.pow(Math.sin(r/2),2)+Math.pow(Math.sin(i/2),2)*Math.cos(o)*Math.cos(a);return Object(Sn["i"])(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),"meters")}function Nn(e,t){var n=Math.abs(e[1][1]-e[0][1])*t,r=Math.abs(e[1][0]-e[0][0])*t;return[[e[0][0]-r,e[0][1]-n],[e[1][0]+r,e[1][1]+n]]}function jn(e,t){return e[0][0]<=t[0][0]&&e[0][1]<=t[0][1]&&e[1][0]>=t[1][0]&&e[1][1]>=t[1][1]}function Fn(e){return[[e[0],e[1]],[e[2],e[3]]]}function Bn(e){var t=Un(e,[0,0]);return[e[0]/t,e[1]/t]}function Un(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function zn(e){if(On(e[0]))return e;if(On(e[0][0]))throw new Error("\u5f53\u524d\u6570\u636e\u4e0d\u652f\u6301\u6807\u6ce8");if(On(e[0][0][0])){var t=e,n=0,r=0,i=0;return t.forEach((function(e){e.forEach((function(e){n+=e[0],r+=e[1],i++}))})),[n/i,r/i,0]}throw new Error("\u5f53\u524d\u6570\u636e\u4e0d\u652f\u6301\u6807\u6ce8")}function Hn(e){for(var t=e[0],n=e[1],r=e[0],i=e[1],o=0,a=0,s=0,l=0;l<e.length;l+=2){var u=e[l],c=e[l+1];u&&c&&(t=Math.max(u,t),n=Math.max(c,n),r=Math.min(u,r),i=Math.min(c,i),o+=u,a+=c,s++)}return{center:[o/s,a/s],radius:Math.sqrt(Math.pow(t-r,2)+Math.pow(n-i,2))/2}}var Vn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,n=arguments.length>1?arguments[1]:void 0;p()(this,e),C()(this,"limit",void 0),C()(this,"cache",void 0),C()(this,"destroy",void 0),C()(this,"order",void 0),this.limit=t,this.destroy=n||this.defaultDestroy,this.order=[],this.clear()}return h()(e,[{key:"clear",value:function(){var e=this;this.order.forEach((function(t){e["delete"](t)})),this.cache={},this.order=[]}},{key:"get",value:function(e){var t=this.cache[e];return t&&(this.deleteOrder(e),this.appendOrder(e)),t}},{key:"set",value:function(e,t){this.cache[e]?(this["delete"](e),this.cache[e]=t,this.appendOrder(e)):(Object.keys(this.cache).length===this.limit&&this["delete"](this.order[0]),this.cache[e]=t,this.appendOrder(e))}},{key:"delete",value:function(e){var t=this.cache[e];t&&(this.deleteCache(e),this.deleteOrder(e),this.destroy(t,e))}},{key:"deleteCache",value:function(e){delete this.cache[e]}},{key:"deleteOrder",value:function(e){var t=this.order.findIndex((function(t){return t===e}));t>=0&&this.order.splice(t,1)}},{key:"appendOrder",value:function(e){this.order.push(e)}},{key:"defaultDestroy",value:function(e,t){return null}}]),e}();function Gn(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16;p()(this,e),C()(this,"duration",16),C()(this,"timestamp",(new Date).getTime()),this.duration=t}h()(e,[{key:"run",value:function(e){var t=(new Date).getTime(),n=t-this.timestamp;this.timestamp=t,n>=this.duration&&e()}}])})();var Wn,qn=n("FmoU");function Yn(e){return"string"===typeof e&&!!qn["a"](e)}function Xn(e){var t=qn["a"](e),n=[0,0,0,0];return null!=t&&(n[0]=t.r/255,n[1]=t.g/255,n[2]=t.b/255,n[3]=t.opacity),n}function Kn(e){var t=e&&e[0],n=e&&e[1],r=e&&e[2],i=t+256*n+65536*r-1;return i}function Zn(e){return[e+1&255,e+1>>8&255,e+1>>8>>8&255]}function Qn(e){var t=At.document.createElement("canvas"),n=t.getContext("2d");t.width=256,t.height=1;for(var r=n.createLinearGradient(0,0,256,1),i=null,o=e.positions[0],a=e.positions[e.positions.length-1],s=0;s<e.colors.length;++s){var l=(e.positions[s]-o)/(a-o);r.addColorStop(l,e.colors[s])}if(n.fillStyle=r,n.fillRect(0,0,256,1),Ot)return i=new Uint8ClampedArray(n.getImageData(0,0,256,1).data),t=null,n=null,{data:i,width:256,height:1};i=n.getImageData(0,0,256,1).data;for(var u=n.createImageData(256,1),c=0;c<u.data.length;c+=4)u.data[c+0]=i[c+0],u.data[c+1]=i[c+1],u.data[c+2]=i[c+2],u.data[c+3]=i[c+3];return t=null,n=null,u}(function(e){e["CENTER"]="center",e["TOP"]="top",e["TOP-LEFT"]="top-left",e["TOP-RIGHT"]="top-right",e["BOTTOM"]="bottom",e["BOTTOM-LEFT"]="bottom-left",e["LEFT"]="left",e["RIGHT"]="right"})(Wn||(Wn={}));var Jn={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function $n(e,t,n){var r=e.classList;for(var i in Jn)Jn.hasOwnProperty(i)&&r.remove("l7-".concat(n,"-anchor-").concat(i));r.add("l7-".concat(n,"-anchor-").concat(t))}function er(e,t){return{enable:e,mask:255,func:{cmp:514,ref:t?1:0,mask:255}}}function tr(e,t){if(!e)throw new Error(t||"web worker helper assertion failed.")}var nr={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,document:"undefined"!==typeof document&&document},rr=(nr.self||nr.window,nr.window||nr.self,nr.self||nr.window,nr.document,"undefined"!==typeof window&&"undefined"!==typeof window.orientation),ir=function(){function e(e,t){var n=this;this.name=e,this.workerThread=t,this.isRunning=!0,this.resolve=function(){},this.reject=function(){},this.result=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return e.prototype.postMessage=function(e,t){this.workerThread.postMessage({source:"Main thread",type:e,payload:t})},e.prototype.done=function(e){tr(this.isRunning,"WorkerJob isRunning false."),this.isRunning=!1,this.resolve(e)},e.prototype.error=function(e){tr(this.isRunning,"WorkerJob isRunning false."),this.isRunning=!1,this.reject(e)},e}(),or=ir,ar=new Map;function sr(e){tr(e.source&&!e.url||!e.source&&e.url);var t=ar.get(e.source||e.url);return t||(e.url&&(t=lr(e.url),ar.set(e.url,t)),e.source&&(t=ur(e.source),ar.set(e.source,t))),tr(t),t}function lr(e){if(!e.startsWith("http"))return e;var t=cr(e);return ur(t)}function ur(e){var t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function cr(e){return"try {\n  importScripts('"+e+"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}"}function fr(e,t,n){void 0===t&&(t=!0);var r=n||new Set;if(e){if(pr(e))r.add(e);else if(pr(e.buffer))r.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"===typeof e)for(var i in e)fr(e[i],t,r)}else;return void 0===n?Array.from(r):[]}function pr(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!==typeof MessagePort&&e instanceof MessagePort||("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}var dr=function(){},hr=function(){function e(e){this.terminated=!1,this.loadableURL="";var t=e.name,n=e.source,r=e.url;tr(n||r),this.name=t,this.source=n,this.url=r,this.onMessage=dr,this.onError=function(e){return console.log(e)},this.worker=this.createBrowserWorker()}return e.isSupported=function(){return"undefined"!==typeof Worker},e.prototype.destroy=function(){this.onMessage=dr,this.onError=dr,this.worker.terminate(),this.terminated=!0},Object.defineProperty(e.prototype,"isRunning",{get:function(){return Boolean(this.onMessage)},enumerable:!1,configurable:!0}),e.prototype.postMessage=function(e,t){t=t||fr(e),this.worker.postMessage(e,t)},e.prototype.getErrorFromErrorEvent=function(e){var t="Failed to load ";return t+="worker "+this.name+" from "+this.url+". ",e.message&&(t+=e.message+" in "),e.lineno&&(t+=":"+e.lineno+":"+e.colno),new Error(t)},e.prototype.createBrowserWorker=function(){var e=this;this.loadableURL=sr({source:this.source,url:this.url});var t=new Worker(this.loadableURL,{name:this.name});return t.onmessage=function(t){t.data?e.onMessage(t.data):e.onError(new Error("No data received"))},t.onerror=function(t){e.onError(e.getErrorFromErrorEvent(t)),e.terminated=!0},t.onmessageerror=function(t){return console.error("worker "+e.name+", message error: "+t)},t},e}(),vr=hr,mr=function(){return mr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mr.apply(this,arguments)},gr=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))},yr=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},br=function(){function e(e){this.name="unnamed",this.maxConcurrency=1,this.maxMobileConcurrency=1,this.onDebug=function(){},this.reuseWorkers=!0,this.props={},this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1,this.source=e.source,this.url=e.url,this.setProps(e)}return e.prototype.destroy=function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0},e.prototype.setProps=function(e){this.props=mr(mr({},this.props),e),void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)},e.prototype.startJob=function(e,t,n){return void 0===t&&(t=function(e,t,n){return e.done(n)}),void 0===n&&(n=function(e,t){return e.error(t)}),gr(this,void 0,void 0,(function(){var r,i=this;return yr(this,(function(o){switch(o.label){case 0:return r=new Promise((function(r){return i.jobQueue.push({name:e,onMessage:t,onError:n,onStart:r}),i})),this.startQueuedJob(),[4,r];case 1:return[2,o.sent()]}}))}))},e.prototype.startQueuedJob=function(){return gr(this,void 0,void 0,(function(){var e,t,n;return yr(this,(function(r){switch(r.label){case 0:if(!this.jobQueue.length)return[2];if(e=this.getAvailableWorker(),!e)return[2];if(t=this.jobQueue.shift(),!t)return[3,4];this.onDebug({message:"Starting job",name:t.name,backlog:this.jobQueue.length,workerThread:e}),n=new or(t.name,e),e.onMessage=function(e){return t.onMessage(n,e.type,e.payload)},e.onError=function(e){return t.onError(n,e)},t.onStart(n),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,n.result];case 2:return r.sent(),[3,4];case 3:return this.returnWorkerToQueue(e),[7];case 4:return[2]}}))}))},e.prototype.returnWorkerToQueue=function(e){var t=this.isDestroyed||!this.reuseWorkers||this.count>this.getMaxConcurrency();t?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this.startQueuedJob()},e.prototype.getAvailableWorker=function(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this.getMaxConcurrency()){this.count++;var e=this.name.toLowerCase()+" (#"+this.count+" of "+this.maxConcurrency+")";return new vr({name:e,source:this.source,url:this.url})}return null},e.prototype.getMaxConcurrency=function(){return rr?this.maxMobileConcurrency:this.maxConcurrency},e}(),_r=br,Er=function(){return Er=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Er.apply(this,arguments)},xr=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wr={maxConcurrency:3,maxMobileConcurrency:1,onDebug:function(){},reuseWorkers:!0},Sr=function(){function e(e){this.workerPools=new Map,this.props=Er({},wr),this.setProps(e),this.workerPools=new Map}return e.isSupported=function(){return vr.isSupported()},e.getWorkerFarm=function(t){return void 0===t&&(t={}),e.workerFarm=e.workerFarm||new e({}),e.workerFarm.setProps(t),e.workerFarm},e.prototype.destroy=function(){var e,t;try{for(var n=xr(this.workerPools.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.destroy()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.setProps=function(e){var t,n;this.props=Er(Er({},this.props),e);try{for(var r=xr(this.workerPools.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.setProps(this.getWorkerPoolProps())}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.getWorkerPool=function(e){var t=e.name,n=e.source,r=e.url,i=this.workerPools.get(t);return i||(i=new _r({name:t,source:n,url:r}),i.setProps(this.getWorkerPoolProps()),this.workerPools.set(t,i)),i},e.prototype.getWorkerPoolProps=function(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}},e}(),Or=Sr,Cr=new Map,Ar=function(){function e(){}return Object.defineProperty(e,"onmessage",{set:function(e){self.onmessage=function(t){if(kr(t)){var n=t.data,r=n.type,i=n.payload;e(r,i)}}},enumerable:!1,configurable:!0}),e.addEventListener=function(e){var t=Cr.get(e);t||(t=function(t){if(kr(t)){var n=t.data,r=n.type,i=n.payload;e(r,i)}}),self.addEventListener("message",t)},e.removeEventListener=function(e){var t=Cr.get(e);Cr["delete"](e),self.removeEventListener("message",t)},e.postMessage=function(e,t){if(self){var n={source:"Worker thread",type:e,payload:t},r=fr(t);self.postMessage(n,r)}},e}(),Pr=Ar;function kr(e){var t=e.type,n=e.data;return"message"===t&&n&&"string"===typeof n.source&&"Main thread"===n.source}var Mr,Tr,Lr=function(){function e(){this._values=[],this._settlers=[],this._closed=!1}return e.prototype[Symbol.asyncIterator]=function(){return this},e.prototype.push=function(e){return this.enqueue(e)},e.prototype.enqueue=function(e){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");var t=this._settlers.shift();e instanceof Error?t.reject(e):t.resolve({value:e})}else this._values.push(e)},e.prototype.close=function(){while(this._settlers.length>0){var e=this._settlers.shift();e.resolve({done:!0})}this._closed=!0},e.prototype.next=function(){var e=this;if(this._values.length>0){var t=this._values.shift();return t instanceof Error?Promise.reject(t):Promise.resolve({done:!1,value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise((function(t,n){e._settlers.push({resolve:t,reject:n})}))},e}(),Ir=Lr,Dr=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Rr=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Nr=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){t=e[n](t),i(r,o,t.done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},jr=0;function Fr(e,t){var n=this;if("undefined"!==typeof self){var r={process:Br};Pr.onmessage=function(i,o){return Dr(n,void 0,void 0,(function(){var n,a,s,l,u,c,f,p,d,h,v;return Rr(this,(function(m){switch(m.label){case 0:switch(m.trys.push([0,19,,20]),n=i,n){case"process":return[3,1];case"process-in-batches":return[3,3];case"input-batch":return[3,16];case"input-done":return[3,17]}return[3,18];case 1:if(!e)throw new Error("Worker does not support atomic processing");return[4,e(o.input,o.options||{},r)];case 2:return a=m.sent(),Pr.postMessage("done",{result:a}),[3,18];case 3:if(!t)throw new Error("Worker does not support batched processing");Mr=new Ir,Tr=o.options||{},s=t(Mr,Tr,r),m.label=4;case 4:m.trys.push([4,9,10,15]),l=Nr(s),m.label=5;case 5:return[4,l.next()];case 6:if(u=m.sent(),u.done)return[3,8];c=u.value,Pr.postMessage("output-batch",{result:c}),m.label=7;case 7:return[3,5];case 8:return[3,15];case 9:return f=m.sent(),h={error:f},[3,15];case 10:return m.trys.push([10,,13,14]),u&&!u.done&&(v=l["return"])?[4,v.call(l)]:[3,12];case 11:m.sent(),m.label=12;case 12:return[3,14];case 13:if(h)throw h.error;return[7];case 14:return[7];case 15:return Pr.postMessage("done",{}),[3,18];case 16:return Mr.push(o.input),[3,18];case 17:return Mr.close(),[3,18];case 18:return[3,20];case 19:return p=m.sent(),d=p instanceof Error?p.message:"",Pr.postMessage("error",{error:d}),[3,20];case 20:return[2]}}))}))}}}function Br(e,t){return void 0===t&&(t={}),new Promise((function(n,r){var i=jr++,o=function e(t,o){if(o.id===i)switch(t){case"done":Pr.removeEventListener(e),n(o.result);break;case"error":Pr.removeEventListener(e),r(o.error);break;default:}};Pr.addEventListener(o);var a={id:i,input:e,options:t};Pr.postMessage("process",a)}))}var Ur=n("RIqP"),zr=n.n(Ur);function Hr(e,t){var n=e.color;return n&&n.length?n:[1,1,1,1]}function Vr(e,t,n){return 2===n.length?[n[0],n[1],0]:[n[0],n[1],n[2]]}function Gr(e,t){var n=e.filter;return n?[1]:[0]}function Wr(e,t,n,r){return[t]}var qr=n("VmRL"),Yr=n.n(qr),Xr=n("IOcx"),Kr=Xr["b"].create(),Zr=(Xr["b"].create(),Xr["b"].create()),Qr=Xr["b"].create(),Jr=Xr["b"].create();function $r(e,t,n,r,i){Xr["b"].add(e,n,r),Xr["b"].normalize(e,e),t=Xr["b"].fromValues(-e[1],e[0]);var o=Xr["b"].fromValues(-n[1],n[0]);return[i/Xr["b"].dot(t,o),t]}function ei(e,t){return Xr["b"].set(e,-t[1],t[0])}function ti(e,t,n){return Xr["b"].sub(e,t,n),Xr["b"].normalize(e,e),e}function ni(e,t){return e[0]===t[0]&&e[1]===t[1]}var ri=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p()(this,e),C()(this,"complex",void 0),C()(this,"join",void 0),C()(this,"cap",void 0),C()(this,"miterLimit",void 0),C()(this,"thickness",void 0),C()(this,"normal",void 0),C()(this,"lastFlip",-1),C()(this,"miter",Xr["b"].fromValues(0,0)),C()(this,"started",!1),C()(this,"dash",!1),C()(this,"totalDistance",0),C()(this,"currentIndex",0),this.join=t.join||"miter",this.cap=t.cap||"butt",this.miterLimit=t.miterLimit||10,this.thickness=t.thickness||1,this.dash=t.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0,indexes:[]}}return h()(e,[{key:"extrude_gaode2",value:function(e,t){var n=this.complex;if(e.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var r=e.length,i=n.startIndex,o=1;o<r;o++){var a,s,l,u=e[o-1];u.push(null!==(a=t[o-1][2])&&void 0!==a?a:0);var c=t[o-1],f=e[o];f.push(null!==(s=t[o][2])&&void 0!==s?s:0);var p=t[o],d=o<e.length-1?[].concat(zr()(e[o+1]),[null!==(l=t[o+1][2])&&void 0!==l?l:0]):null,h=o<t.length-1?t[o+1]:null,v=this.segment_gaode2(n,i,u,f,d,c,p,h);i+=v}if(this.dash)for(var m=0;m<n.positions.length/6;m++)n.positions[6*m+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}},{key:"simpleExtrude_gaode2",value:function(e,t){var n=this.complex;if(e.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var r=e.length,i=n.startIndex,o=1;o<r;o++){var a,s,l,u=e[o-1];u.push(null!==(a=t[o-1][2])&&void 0!==a?a:0);var c=t[o-1],f=e[o];f.push(null!==(s=t[o][2])&&void 0!==s?s:0);var p=t[o],d=o<e.length-1?[].concat(zr()(e[o+1]),[null!==(l=t[o+1][2])&&void 0!==l?l:0]):null,h=o<t.length-1?t[o+1]:null,v=this.simpleSegment(n,i,u,f,d,c,p,h);i+=v}if(this.dash)for(var m=0;m<n.positions.length/6;m++)n.positions[6*m+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}},{key:"extrude",value:function(e){var t=this.complex;if(e.length<=1)return t;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var n=e.length,r=t.startIndex,i=1;i<n;i++){var o=e[i-1],a=e[i],s=i<e.length-1?e[i+1]:null,l=this.segment(t,r,o,a,s);r+=l}if(this.dash)for(var u=0;u<t.positions.length/6;u++)t.positions[6*u+5]=this.totalDistance;return t.startIndex=t.positions.length/6,t}},{key:"simpleExtrude",value:function(e){var t=this.complex;if(e.length<=1)return t;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var n=e.length,r=t.startIndex,i=1;i<n;i++){var o=e[i-1],a=e[i],s=i<e.length-1?e[i+1]:null,l=this.simpleSegment(t,r,o,a,s);r+=l}if(this.dash)for(var u=0;u<t.positions.length/6;u++)t.positions[6*u+5]=this.totalDistance;return t.startIndex=t.positions.length/6,t}},{key:"segment_gaode2",value:function(e,t,n,r,i,o,s,l){var u=0,c=e.indices,f=e.positions,p=e.normals,d="square"===this.cap,h="bevel"===this.join,v=In([s[0],s[1]]),m=In([o[0],o[1]]);ti(Zr,r,n);var g=0;if(this.dash&&(g=this.lineSegmentDistance(v,m),this.totalDistance+=g),this.normal||(this.normal=Xr["b"].create(),ei(this.normal,Zr)),!this.started)if(this.started=!0,d){var y=Xr["b"].create(),b=Xr["b"].create();Xr["b"].add(y,this.normal,Zr),Xr["b"].add(b,this.normal,Zr),p.push(b[0],b[1],0),p.push(y[0],y[1],0),f.push(n[0],n[1],0|n[2],this.totalDistance-g,-this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),f.push(n[0],n[1],0|n[2],this.totalDistance-g,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(f,p,n,this.normal,this.thickness,this.totalDistance-g);if(c.push(t+0,t+1,t+2),i){ni(r,i)&&Xr["b"].add(i,r,Xr["b"].normalize(i,Xr["b"].subtract(i,r,n))),ti(Qr,i,r);var _=$r(Jr,Xr["b"].create(),Zr,Qr,this.thickness),E=a()(_,2),x=E[0],w=E[1],S=Xr["b"].dot(Jr,this.normal)<0?-1:1,O=h;if(!O&&"miter"===this.join){var C=x;C>this.miterLimit&&(O=!0)}O?(p.push(this.normal[0],this.normal[1],0),p.push(w[0],w[1],0),f.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*S,0|r[2]),this.complex.indexes.push(this.currentIndex),f.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness*S,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,c.push.apply(c,zr()(this.lastFlip!==-S?[t,t+2,t+3]:[t+2,t+1,t+3])),c.push(t+2,t+3,t+4),ei(Kr,Qr),Xr["b"].copy(this.normal,Kr),p.push(this.normal[0],this.normal[1],0),f.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*S,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,u+=3):(this.extrusions(f,p,r,w,x,this.totalDistance),c.push.apply(c,zr()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),S=-1,Xr["b"].copy(this.normal,w),u+=2),this.lastFlip=S}else{if(ei(this.normal,Zr),d){var A=Xr["b"].create(),P=Xr["b"].create();Xr["b"].sub(P,Zr,this.normal),Xr["b"].add(A,Zr,this.normal),p.push(P[0],P[1],0),p.push(A[0],A[1],0),f.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),f.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(f,p,r,this.normal,this.thickness,this.totalDistance);c.push.apply(c,zr()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),u+=2}return u}},{key:"simpleSegment",value:function(e,t,n,r,i){var o=0,s=e.indices,l=e.positions,u=e.normals,c=In([r[0],r[1]]),f=In([n[0],n[1]]);ti(Zr,c,f);var p=0;if(this.dash&&(p=this.lineSegmentDistance(c,f),this.totalDistance+=p),this.normal||(this.normal=Xr["b"].create(),ei(this.normal,Zr)),this.started||(this.started=!0,this.extrusions(l,u,n,this.normal,this.thickness,this.totalDistance-p)),s.push(t+0,t+1,t+2),i){var d=In([i[0],i[1]]);ni(c,d)&&Xr["b"].add(d,c,Xr["b"].normalize(d,Xr["b"].subtract(d,c,f))),ti(Qr,d,c);var h=$r(Jr,Xr["b"].create(),Zr,Qr,this.thickness),v=a()(h,2),m=v[0],g=v[1],y=Xr["b"].dot(Jr,this.normal)<0?-1:1;this.extrusions(l,u,r,g,m,this.totalDistance),s.push.apply(s,zr()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),y=-1,Xr["b"].copy(this.normal,g),o+=2,this.lastFlip=y}else ei(this.normal,Zr),this.extrusions(l,u,r,this.normal,this.thickness,this.totalDistance),s.push.apply(s,zr()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),o+=2;return o}},{key:"segment",value:function(e,t,n,r,i){var o=0,s=e.indices,l=e.positions,u=e.normals,c="square"===this.cap,f="bevel"===this.join,p=In([r[0],r[1]]),d=In([n[0],n[1]]);ti(Zr,p,d);var h=0;if(this.dash&&(h=this.lineSegmentDistance(p,d),this.totalDistance+=h),this.normal||(this.normal=Xr["b"].create(),ei(this.normal,Zr)),!this.started)if(this.started=!0,c){var v=Xr["b"].create(),m=Xr["b"].create();Xr["b"].add(v,this.normal,Zr),Xr["b"].add(m,this.normal,Zr),u.push(m[0],m[1],0),u.push(v[0],v[1],0),l.push(n[0],n[1],0|n[2],this.totalDistance-h,-this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),l.push(n[0],n[1],0|n[2],this.totalDistance-h,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(l,u,n,this.normal,this.thickness,this.totalDistance-h);if(s.push(t+0,t+1,t+2),i){var g=In([i[0],i[1]]);ni(p,g)&&Xr["b"].add(g,p,Xr["b"].normalize(g,Xr["b"].subtract(g,p,d))),ti(Qr,g,p);var y=$r(Jr,Xr["b"].create(),Zr,Qr,this.thickness),b=a()(y,2),_=b[0],E=b[1],x=Xr["b"].dot(Jr,this.normal)<0?-1:1,w=f;if(!w&&"miter"===this.join){var S=_;S>this.miterLimit&&(w=!0)}w?(u.push(this.normal[0],this.normal[1],0),u.push(E[0],E[1],0),l.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*x,0|r[2]),this.complex.indexes.push(this.currentIndex),l.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness*x,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,s.push.apply(s,zr()(this.lastFlip!==-x?[t,t+2,t+3]:[t+2,t+1,t+3])),s.push(t+2,t+3,t+4),ei(Kr,Qr),Xr["b"].copy(this.normal,Kr),u.push(this.normal[0],this.normal[1],0),l.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*x,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,o+=3):(this.extrusions(l,u,r,E,_,this.totalDistance),s.push.apply(s,zr()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),x=-1,Xr["b"].copy(this.normal,E),o+=2),this.lastFlip=x}else{if(ei(this.normal,Zr),c){var O=Xr["b"].create(),C=Xr["b"].create();Xr["b"].sub(C,Zr,this.normal),Xr["b"].add(O,Zr,this.normal),u.push(C[0],C[1],0),u.push(O[0],O[1],0),l.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),l.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(l,u,r,this.normal,this.thickness,this.totalDistance);s.push.apply(s,zr()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),o+=2}return o}},{key:"extrusions",value:function(e,t,n,r,i,o){t.push(r[0],r[1],0),t.push(r[0],r[1],0),e.push(n[0],n[1],0|n[2],o,-i,0|n[2]),this.complex.indexes.push(this.currentIndex),e.push(n[0],n[1],0|n[2],o,i,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}},{key:"lineSegmentDistance",value:function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}}]),e}();function ii(e){var t=e.coordinates,n=e.originCoordinates,r=e.version,i=new ri({dash:!0,join:"bevel"});if("GAODE2.x"===r){var o=t;Array.isArray(o[0][0])||(o=[t]);var a=n;Array.isArray(a[0][0])||(a=[n]);for(var s=0;s<o.length;s++){var l=o[s],u=a[s];i.extrude_gaode2(l,u)}}else{var c=t;c[0]&&!Array.isArray(c[0][0])&&(c=[t]),c.forEach((function(e){i.extrude(e)}))}var f=i.complex;return{vertices:f.positions,indices:f.indices,normals:f.normals,indexes:f.indexes,size:6}}function oi(e){var t=zn(e.coordinates);return{vertices:[].concat(zr()(t),zr()(t),zr()(t),zr()(t)),indices:[0,1,2,2,3,0],size:t.length}}function ai(e){var t=e.coordinates,n=Yr.a.flatten(t),r=n.vertices,i=n.dimensions,o=n.holes;return{indices:Yr()(r,o,i),vertices:r,size:i}}var si=function(){var e=nn()(sn.a.mark((function e(t){var n,r,i,o,a,s,l,u,c;return sn.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.descriptors,r=t.features,i=t.enablePicking,o=t.iconMap,a={a_Color:Hr,a_Position:Vr,filter:Gr,a_vertexId:Wr,a_PickingColor:function(e,t){var n=e.id;return i?Zn(n):[0,0,0]},a_DistanceAndIndex:function(e,t,n,r,i,o){return void 0===o?[n[3],10]:[n[3],o]},a_Total_Distance:function(e,t,n,r){return[n[5]]},a_Size:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0],o[1]]:[o,0]},a_Normal:function(e,t,n,r,i){return i},a_Miter:function(e,t,n,r){return[n[4]]},a_iconMapUV:function(e,t,n,r){var i=e.texture,a=o[i]||{x:0,y:0},s=a.x,l=a.y;return[s,l]}},s={sizePerElement:0,elements:[]},l=0,u=[],c=3,r.forEach((function(e,t){var r=ii(e),i=r.indices,o=r.vertices,f=r.normals,p=r.size,d=r.indexes;i.forEach((function(e){u.push(e+l)})),c=p;var h=o.length/p;s.sizePerElement=c,s.elements.push({featureIdx:t,vertices:o,normals:f,offset:l}),l+=h;for(var v=function(r){var i=(null===f||void 0===f?void 0:f.slice(3*r,3*r+3))||[],s=o.slice(r*p,r*p+p),l=0;d&&void 0!==d[r]&&(l=d[r]),n.forEach((function(n,o){var u;n&&a[n.name]&&(u=n.buffer.data).push.apply(u,zr()(a[n.name](e,t,s,r,i,l)))}))},m=0;m<h;m++)v(m)})),e.abrupt("return",{descriptors:n,featureLayout:s,indices:u});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),li=function(){var e=nn()(sn.a.mark((function e(t){var n,r,i,o,a,s,l,u,c;return sn.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.descriptors,r=t.features,i=t.enablePicking,o=t.shape2d,a={a_Color:Hr,a_Position:Vr,filter:Gr,a_vertexId:Wr,a_PickingColor:function(e,t){var n=e.id;return i?Zn(n):[0,0,0]},a_Shape:function(e,t,n,r){var i=e.shape,a=void 0===i?2:i,s=o.indexOf(a);return[s]},a_Extrude:function(e,t,n,r){var i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],o=r%4*3;return[i[o],i[o+1],i[o+2]]},a_Size:function(e,t,n,r){var i=e.size,o=void 0===i?5:i;return Array.isArray(o)?[o[0]]:[o]}},s={sizePerElement:0,elements:[]},l=0,u=[],c=3,r.forEach((function(e,t){var r=oi(e),i=r.indices,o=r.vertices,f=r.normals,p=r.size,d=r.indexes;i.forEach((function(e){u.push(e+l)})),c=p;var h=o.length/p;s.sizePerElement=c,s.elements.push({featureIdx:t,vertices:o,normals:f,offset:l}),l+=h;for(var v=function(r){var i=(null===f||void 0===f?void 0:f.slice(3*r,3*r+3))||[],s=o.slice(r*p,r*p+p),l=0;d&&void 0!==d[r]&&(l=d[r]),n.forEach((function(n,o){var u;n&&a[n.name]&&(u=n.buffer.data).push.apply(u,zr()(a[n.name](e,t,s,r,i,l)))}))},m=0;m<h;m++)v(m)})),e.abrupt("return",{descriptors:n,featureLayout:s,indices:u});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ui=function(){var e=nn()(sn.a.mark((function e(t){var n,r,i,o,a,s,l,u;return sn.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.descriptors,r=t.features,i=t.enablePicking,o={a_Color:Hr,a_Position:Vr,filter:Gr,a_vertexId:Wr,a_PickingColor:function(e,t){var n=e.id;return i?Zn(n):[0,0,0]}},a={sizePerElement:0,elements:[]},s=0,l=[],u=3,r.forEach((function(e,t){var r=ai(e),i=r.indices,c=r.vertices,f=r.normals,p=r.size,d=r.indexes;i.forEach((function(e){l.push(e+s)})),u=p;var h=c.length/p;a.sizePerElement=u,a.elements.push({featureIdx:t,vertices:c,normals:f,offset:s}),s+=h;for(var v=function(r){var i=(null===f||void 0===f?void 0:f.slice(3*r,3*r+3))||[],a=c.slice(r*p,r*p+p),s=0;d&&void 0!==d[r]&&(s=d[r]),n.forEach((function(n,l){var u;n&&o[n.name]&&(u=n.buffer.data).push.apply(u,zr()(o[n.name](e,t,a,r,i,s)))}))},m=0;m<h;m++)v(m)})),e.abrupt("return",{descriptors:n,featureLayout:a,indices:l});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pi={pointFill:li,line:si,polygonFill:ui},di=fi({},pi);function hi(e){return vi.apply(this,arguments)}function vi(){return vi=nn()(sn.a.mark((function e(t){var n,r;return sn.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.workerType,r=t.data,!di[n]){e.next=3;break}return e.abrupt("return",di[n](r));case 3:return e.abrupt("return",Promise.reject(new Error('Worker with type "'.concat(n,'" non-existent.'))));case 4:case"end":return e.stop()}}),e)}))),vi.apply(this,arguments)}Fr(hi);var mi=new Map;function gi(e,t){mi.set(e,t)}function yi(e){var t=mi.get(e);return t}var bi='var L7=function(t){"use strict";function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function r(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function n(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function u(t){r(a,o,i,u,s,"next",t)}function s(t){r(a,o,i,u,s,"throw",t)}u(void 0)}))}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}function h(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=c(t);if(e){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){if(t){if("string"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function x(t,e){return t(e={exports:{}},e.exports),e.exports}x((function(t){var e=function(t){var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),a=new A(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return T()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=b(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function l(){}function h(){}function p(){}var v={};u(v,o,(function(){return this}));var d=Object.getPrototypeOf,y=d&&d(d(O([])));y&&y!==e&&r.call(y,o)&&(v=y);var g=p.prototype=l.prototype=Object.create(v);function m(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var n;this._invoke=function(o,i){function a(){return new e((function(n,a){!function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a \'throw\' method")}return f}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=p,u(g,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(x.prototype),u(x.prototype,i,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(g),u(g,a,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}));var b,w,E=function(t){return t&&t.Math==Math&&t},A=E("object"==typeof globalThis&&globalThis)||E("object"==typeof window&&window)||E("object"==typeof self&&self)||E("object"==typeof m&&m)||function(){return this}()||Function("return this")(),O=Object.defineProperty,T=function(t,e){try{O(A,t,{value:e,configurable:!0,writable:!0})}catch(r){A[t]=e}return e},S=A["__core-js_shared__"]||T("__core-js_shared__",{}),k=x((function(t){(t.exports=function(t,e){return S[t]||(S[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),I=function(t){try{return!!t()}catch(t){return!0}},_=!I((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),j=Function.prototype,M=j.bind,P=j.call,L=_&&M.bind(P,P),R=_?function(t){return t&&L(t)}:function(t){return t&&function(){return P.apply(t,arguments)}},N=A.TypeError,D=function(t){if(null==t)throw N("Can\'t call method on "+t);return t},C=A.Object,F=function(t){return C(D(t))},W=R({}.hasOwnProperty),z=Object.hasOwn||function(t,e){return W(F(t),e)},B=0,U=Math.random(),G=R(1..toString),q=function(t){return"Symbol("+(void 0===t?"":t)+")_"+G(++B+U,36)},V=function(t){return"function"==typeof t},Y=function(t){return V(t)?t:void 0},H=function(t,e){return arguments.length<2?Y(A[t]):A[t]&&A[t][e]},Z=H("navigator","userAgent")||"",$=A.process,K=A.Deno,Q=$&&$.versions||K&&K.version,X=Q&&Q.v8;X&&(w=(b=X.split("."))[0]>0&&b[0]<4?1:+(b[0]+b[1])),!w&&Z&&(!(b=Z.match(/Edge\\/(\\d+)/))||b[1]>=74)&&(b=Z.match(/Chrome\\/(\\d+)/))&&(w=+b[1]);var J=w,tt=!!Object.getOwnPropertySymbols&&!I((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&J&&J<41})),et=tt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,rt=k("wks"),nt=A.Symbol,ot=nt&&nt.for,it=et?nt:nt&&nt.withoutSetter||q,at=function(t){if(!z(rt,t)||!tt&&"string"!=typeof rt[t]){var e="Symbol."+t;tt&&z(nt,t)?rt[t]=nt[t]:rt[t]=et&&ot?ot(e):it(e)}return rt[t]},ut={};ut[at("toStringTag")]="z";var st="[object z]"===String(ut),ct=!I((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),ft=function(t){return"object"==typeof t?null!==t:V(t)},lt=A.document,ht=ft(lt)&&ft(lt.createElement),pt=function(t){return ht?lt.createElement(t):{}},vt=!ct&&!I((function(){return 7!=Object.defineProperty(pt("div"),"a",{get:function(){return 7}}).a})),dt=ct&&I((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),yt=A.String,gt=A.TypeError,mt=function(t){if(ft(t))return t;throw gt(yt(t)+" is not an object")},xt=Function.prototype.call,bt=_?xt.bind(xt):function(){return xt.apply(xt,arguments)},wt=R({}.isPrototypeOf),Et=A.Object,At=et?function(t){return"symbol"==typeof t}:function(t){var e=H("Symbol");return V(e)&&wt(e.prototype,Et(t))},Ot=A.String,Tt=function(t){try{return Ot(t)}catch(t){return"Object"}},St=A.TypeError,kt=function(t){if(V(t))return t;throw St(Tt(t)+" is not a function")},It=function(t,e){var r=t[e];return null==r?void 0:kt(r)},_t=A.TypeError,jt=A.TypeError,Mt=at("toPrimitive"),Pt=function(t,e){if(!ft(t)||At(t))return t;var r,n=It(t,Mt);if(n){if(void 0===e&&(e="default"),r=bt(n,t,e),!ft(r)||At(r))return r;throw jt("Can\'t convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var r,n;if("string"===e&&V(r=t.toString)&&!ft(n=bt(r,t)))return n;if(V(r=t.valueOf)&&!ft(n=bt(r,t)))return n;if("string"!==e&&V(r=t.toString)&&!ft(n=bt(r,t)))return n;throw _t("Can\'t convert object to primitive value")}(t,e)},Lt=function(t){var e=Pt(t,"string");return At(e)?e:e+""},Rt=A.TypeError,Nt=Object.defineProperty,Dt=Object.getOwnPropertyDescriptor,Ct={f:ct?dt?function(t,e,r){if(mt(t),e=Lt(e),mt(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var n=Dt(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return Nt(t,e,r)}:Nt:function(t,e,r){if(mt(t),e=Lt(e),mt(r),vt)try{return Nt(t,e,r)}catch(t){}if("get"in r||"set"in r)throw Rt("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},Ft=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Wt=ct?function(t,e,r){return Ct.f(t,e,Ft(1,r))}:function(t,e,r){return t[e]=r,t},zt=R(Function.toString);V(S.inspectSource)||(S.inspectSource=function(t){return zt(t)});var Bt,Ut,Gt,qt=S.inspectSource,Vt=A.WeakMap,Yt=V(Vt)&&/native code/.test(qt(Vt)),Ht=k("keys"),Zt=function(t){return Ht[t]||(Ht[t]=q(t))},$t={},Kt=A.TypeError,Qt=A.WeakMap;if(Yt||S.state){var Xt=S.state||(S.state=new Qt),Jt=R(Xt.get),te=R(Xt.has),ee=R(Xt.set);Bt=function(t,e){if(te(Xt,t))throw new Kt("Object already initialized");return e.facade=t,ee(Xt,t,e),e},Ut=function(t){return Jt(Xt,t)||{}},Gt=function(t){return te(Xt,t)}}else{var re=Zt("state");$t[re]=!0,Bt=function(t,e){if(z(t,re))throw new Kt("Object already initialized");return e.facade=t,Wt(t,re,e),e},Ut=function(t){return z(t,re)?t[re]:{}},Gt=function(t){return z(t,re)}}var ne={set:Bt,get:Ut,has:Gt,enforce:function(t){return Gt(t)?Ut(t):Bt(t,{})},getterFor:function(t){return function(e){var r;if(!ft(e)||(r=Ut(e)).type!==t)throw Kt("Incompatible receiver, "+t+" required");return r}}},oe=Function.prototype,ie=ct&&Object.getOwnPropertyDescriptor,ae=z(oe,"name"),ue={EXISTS:ae,PROPER:ae&&"something"===function(){}.name,CONFIGURABLE:ae&&(!ct||ct&&ie(oe,"name").configurable)},se=x((function(t){var e=ue.CONFIGURABLE,r=ne.get,n=ne.enforce,o=String(String).split("String");(t.exports=function(t,r,i,a){var u,s=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet,l=a&&void 0!==a.name?a.name:r;V(i)&&("Symbol("===String(l).slice(0,7)&&(l="["+String(l).replace(/^Symbol\\(([^)]*)\\)/,"$1")+"]"),(!z(i,"name")||e&&i.name!==l)&&Wt(i,"name",l),(u=n(i)).source||(u.source=o.join("string"==typeof l?l:""))),t!==A?(s?!f&&t[r]&&(c=!0):delete t[r],c?t[r]=i:Wt(t,r,i)):c?t[r]=i:T(r,i)})(Function.prototype,"toString",(function(){return V(this)&&r(this).source||qt(this)}))})),ce=R({}.toString),fe=R("".slice),le=function(t){return fe(ce(t),8,-1)},he=at("toStringTag"),pe=A.Object,ve="Arguments"==le(function(){return arguments}()),de=st?le:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=pe(t),he))?r:ve?le(e):"Object"==(n=le(e))&&V(e.callee)?"Arguments":n},ye=st?{}.toString:function(){return"[object "+de(this)+"]"};st||se(Object.prototype,"toString",ye,{unsafe:!0});var ge={}.propertyIsEnumerable,me=Object.getOwnPropertyDescriptor,xe={f:me&&!ge.call({1:2},1)?function(t){var e=me(this,t);return!!e&&e.enumerable}:ge},be=A.Object,we=R("".split),Ee=I((function(){return!be("z").propertyIsEnumerable(0)}))?function(t){return"String"==le(t)?we(t,""):be(t)}:be,Ae=function(t){return Ee(D(t))},Oe=Object.getOwnPropertyDescriptor,Te={f:ct?Oe:function(t,e){if(t=Ae(t),e=Lt(e),vt)try{return Oe(t,e)}catch(t){}if(z(t,e))return Ft(!bt(xe.f,t,e),t[e])}},Se=Math.ceil,ke=Math.floor,Ie=function(t){var e=+t;return e!=e||0===e?0:(e>0?ke:Se)(e)},_e=Math.max,je=Math.min,Me=function(t,e){var r=Ie(t);return r<0?_e(r+e,0):je(r,e)},Pe=Math.min,Le=function(t){return t>0?Pe(Ie(t),9007199254740991):0},Re=function(t){return Le(t.length)},Ne=function(t){return function(e,r,n){var o,i=Ae(e),a=Re(i),u=Me(n,a);if(t&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===r)return t||u||0;return!t&&-1}},De={includes:Ne(!0),indexOf:Ne(!1)},Ce=De.indexOf,Fe=R([].push),We=function(t,e){var r,n=Ae(t),o=0,i=[];for(r in n)!z($t,r)&&z(n,r)&&Fe(i,r);for(;e.length>o;)z(n,r=e[o++])&&(~Ce(i,r)||Fe(i,r));return i},ze=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Be=ze.concat("length","prototype"),Ue={f:Object.getOwnPropertyNames||function(t){return We(t,Be)}},Ge={f:Object.getOwnPropertySymbols},qe=R([].concat),Ve=H("Reflect","ownKeys")||function(t){var e=Ue.f(mt(t)),r=Ge.f;return r?qe(e,r(t)):e},Ye=function(t,e,r){for(var n=Ve(e),o=Ct.f,i=Te.f,a=0;a<n.length;a++){var u=n[a];z(t,u)||r&&z(r,u)||o(t,u,i(e,u))}},He=/#|\\.prototype\\./,Ze=function(t,e){var r=Ke[$e(t)];return r==Xe||r!=Qe&&(V(e)?I(e):!!e)},$e=Ze.normalize=function(t){return String(t).replace(He,".").toLowerCase()},Ke=Ze.data={},Qe=Ze.NATIVE="N",Xe=Ze.POLYFILL="P",Je=Ze,tr=Te.f,er=function(t,e){var r,n,o,i,a,u=t.target,s=t.global,c=t.stat;if(r=s?A:c?A[u]||T(u,{}):(A[u]||{}).prototype)for(n in e){if(i=e[n],o=t.noTargetGet?(a=tr(r,n))&&a.value:r[n],!Je(s?n:u+(c?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Ye(i,o)}(t.sham||o&&o.sham)&&Wt(i,"sham",!0),se(r,n,i,t)}},rr=A.Promise,nr=function(t,e,r){for(var n in e)se(t,n,e[n],r);return t},or=A.String,ir=A.TypeError,ar=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=R(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return mt(r),function(t){if("object"==typeof t||V(t))return t;throw ir("Can\'t set "+or(t)+" as a prototype")}(n),e?t(r,n):r.__proto__=n,r}}():void 0),ur=Ct.f,sr=at("toStringTag"),cr=function(t,e,r){t&&!r&&(t=t.prototype),t&&!z(t,sr)&&ur(t,sr,{configurable:!0,value:e})},fr=at("species"),lr=function(t){var e=H(t),r=Ct.f;ct&&e&&!e[fr]&&r(e,fr,{configurable:!0,get:function(){return this}})},hr=A.TypeError,pr=function(t,e){if(wt(e,t))return t;throw hr("Incorrect invocation")},vr=R(R.bind),dr=function(t,e){return kt(t),void 0===e?t:_?vr(t,e):function(){return t.apply(e,arguments)}},yr={},gr=at("iterator"),mr=Array.prototype,xr=function(t){return void 0!==t&&(yr.Array===t||mr[gr]===t)},br=at("iterator"),wr=function(t){if(null!=t)return It(t,br)||It(t,"@@iterator")||yr[de(t)]},Er=A.TypeError,Ar=function(t,e){var r=arguments.length<2?wr(t):e;if(kt(r))return mt(bt(r,t));throw Er(Tt(t)+" is not iterable")},Or=function(t,e,r){var n,o;mt(t);try{if(!(n=It(t,"return"))){if("throw"===e)throw r;return r}n=bt(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return mt(n),r},Tr=A.TypeError,Sr=function(t,e){this.stopped=t,this.result=e},kr=Sr.prototype,Ir=function(t,e,r){var n,o,i,a,u,s,c,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),h=!(!r||!r.IS_ITERATOR),p=!(!r||!r.INTERRUPTED),v=dr(e,f),d=function(t){return n&&Or(n,"normal",t),new Sr(!0,t)},y=function(t){return l?(mt(t),p?v(t[0],t[1],d):v(t[0],t[1])):p?v(t,d):v(t)};if(h)n=t;else{if(!(o=wr(t)))throw Tr(Tt(t)+" is not iterable");if(xr(o)){for(i=0,a=Re(t);a>i;i++)if((u=y(t[i]))&&wt(kr,u))return u;return new Sr(!1)}n=Ar(t,o)}for(s=n.next;!(c=bt(s,n)).done;){try{u=y(c.value)}catch(t){Or(n,"throw",t)}if("object"==typeof u&&u&&wt(kr,u))return u}return new Sr(!1)},_r=at("iterator"),jr=!1;try{var Mr=0,Pr={next:function(){return{done:!!Mr++}},return:function(){jr=!0}};Pr[_r]=function(){return this},Array.from(Pr,(function(){throw 2}))}catch(t){}var Lr=function(t,e){if(!e&&!jr)return!1;var r=!1;try{var n={};n[_r]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},Rr=function(){},Nr=[],Dr=H("Reflect","construct"),Cr=/^\\s*(?:class|function)\\b/,Fr=R(Cr.exec),Wr=!Cr.exec(Rr),zr=function(t){if(!V(t))return!1;try{return Dr(Rr,Nr,t),!0}catch(t){return!1}},Br=function(t){if(!V(t))return!1;switch(de(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Wr||!!Fr(Cr,qt(t))}catch(t){return!0}};Br.sham=!0;var Ur,Gr,qr,Vr,Yr=!Dr||I((function(){var t;return zr(zr.call)||!zr(Object)||!zr((function(){t=!0}))||t}))?Br:zr,Hr=A.TypeError,Zr=function(t){if(Yr(t))return t;throw Hr(Tt(t)+" is not a constructor")},$r=at("species"),Kr=function(t,e){var r,n=mt(t).constructor;return void 0===n||null==(r=mt(n)[$r])?e:Zr(r)},Qr=Function.prototype,Xr=Qr.apply,Jr=Qr.call,tn="object"==typeof Reflect&&Reflect.apply||(_?Jr.bind(Xr):function(){return Jr.apply(Xr,arguments)}),en=H("document","documentElement"),rn=R([].slice),nn=A.TypeError,on=function(t,e){if(t<e)throw nn("Not enough arguments");return t},an=/(?:ipad|iphone|ipod).*applewebkit/i.test(Z),un="process"==le(A.process),sn=A.setImmediate,cn=A.clearImmediate,fn=A.process,ln=A.Dispatch,hn=A.Function,pn=A.MessageChannel,vn=A.String,dn=0,yn={};try{Ur=A.location}catch(t){}var gn=function(t){if(z(yn,t)){var e=yn[t];delete yn[t],e()}},mn=function(t){return function(){gn(t)}},xn=function(t){gn(t.data)},bn=function(t){A.postMessage(vn(t),Ur.protocol+"//"+Ur.host)};sn&&cn||(sn=function(t){on(arguments.length,1);var e=V(t)?t:hn(t),r=rn(arguments,1);return yn[++dn]=function(){tn(e,void 0,r)},Gr(dn),dn},cn=function(t){delete yn[t]},un?Gr=function(t){fn.nextTick(mn(t))}:ln&&ln.now?Gr=function(t){ln.now(mn(t))}:pn&&!an?(Vr=(qr=new pn).port2,qr.port1.onmessage=xn,Gr=dr(Vr.postMessage,Vr)):A.addEventListener&&V(A.postMessage)&&!A.importScripts&&Ur&&"file:"!==Ur.protocol&&!I(bn)?(Gr=bn,A.addEventListener("message",xn,!1)):Gr="onreadystatechange"in pt("script")?function(t){en.appendChild(pt("script")).onreadystatechange=function(){en.removeChild(this),gn(t)}}:function(t){setTimeout(mn(t),0)});var wn,En,An,On,Tn,Sn,kn,In,_n={set:sn,clear:cn},jn=/ipad|iphone|ipod/i.test(Z)&&void 0!==A.Pebble,Mn=/web0s(?!.*chrome)/i.test(Z),Pn=Te.f,Ln=_n.set,Rn=A.MutationObserver||A.WebKitMutationObserver,Nn=A.document,Dn=A.process,Cn=A.Promise,Fn=Pn(A,"queueMicrotask"),Wn=Fn&&Fn.value;Wn||(wn=function(){var t,e;for(un&&(t=Dn.domain)&&t.exit();En;){e=En.fn,En=En.next;try{e()}catch(t){throw En?On():An=void 0,t}}An=void 0,t&&t.enter()},an||un||Mn||!Rn||!Nn?!jn&&Cn&&Cn.resolve?((kn=Cn.resolve(void 0)).constructor=Cn,In=dr(kn.then,kn),On=function(){In(wn)}):un?On=function(){Dn.nextTick(wn)}:(Ln=dr(Ln,A),On=function(){Ln(wn)}):(Tn=!0,Sn=Nn.createTextNode(""),new Rn(wn).observe(Sn,{characterData:!0}),On=function(){Sn.data=Tn=!Tn}));var zn=Wn||function(t){var e={fn:t,next:void 0};An&&(An.next=e),En||(En=e,On()),An=e},Bn=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=kt(e),this.reject=kt(r)},Un={f:function(t){return new Bn(t)}},Gn=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},qn=function(){this.head=null,this.tail=null};qn.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var Vn,Yn,Hn,Zn,$n=qn,Kn="object"==typeof window,Qn=_n.set,Xn=at("species"),Jn="Promise",to=ne.getterFor(Jn),eo=ne.set,ro=ne.getterFor(Jn),no=rr&&rr.prototype,oo=rr,io=no,ao=A.TypeError,uo=A.document,so=A.process,co=Un.f,fo=co,lo=!!(uo&&uo.createEvent&&A.dispatchEvent),ho=V(A.PromiseRejectionEvent),po=!1,vo=Je(Jn,(function(){var t=qt(oo),e=t!==String(oo);if(!e&&66===J)return!0;if(J>=51&&/native code/.test(t))return!1;var r=new oo((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[Xn]=n,!(po=r.then((function(){}))instanceof n)||!e&&Kn&&!ho})),yo=vo||!Lr((function(t){oo.all(t).catch((function(){}))})),go=function(t){var e;return!(!ft(t)||!V(e=t.then))&&e},mo=function(t,e){var r,n,o,i=e.value,a=1==e.state,u=a?t.ok:t.fail,s=t.resolve,c=t.reject,f=t.domain;try{u?(a||(2===e.rejection&&Ao(e),e.rejection=1),!0===u?r=i:(f&&f.enter(),r=u(i),f&&(f.exit(),o=!0)),r===t.promise?c(ao("Promise-chain cycle")):(n=go(r))?bt(n,r,s,c):s(r)):c(i)}catch(t){f&&!o&&f.exit(),c(t)}},xo=function(t,e){t.notified||(t.notified=!0,zn((function(){for(var r,n=t.reactions;r=n.get();)mo(r,t);t.notified=!1,e&&!t.rejection&&wo(t)})))},bo=function(t,e,r){var n,o;lo?((n=uo.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),A.dispatchEvent(n)):n={promise:e,reason:r},!ho&&(o=A["on"+t])?o(n):"unhandledrejection"===t&&function(t,e){var r=A.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},wo=function(t){bt(Qn,A,(function(){var e,r=t.facade,n=t.value;if(Eo(t)&&(e=Gn((function(){un?so.emit("unhandledRejection",n,r):bo("unhandledrejection",r,n)})),t.rejection=un||Eo(t)?2:1,e.error))throw e.value}))},Eo=function(t){return 1!==t.rejection&&!t.parent},Ao=function(t){bt(Qn,A,(function(){var e=t.facade;un?so.emit("rejectionHandled",e):bo("rejectionhandled",e,t.value)}))},Oo=function(t,e,r){return function(n){t(e,n,r)}},To=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,xo(t,!0))},So=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw ao("Promise can\'t be resolved itself");var n=go(e);n?zn((function(){var r={done:!1};try{bt(n,e,Oo(So,r,t),Oo(To,r,t))}catch(e){To(r,e,t)}})):(t.value=e,t.state=1,xo(t,!1))}catch(e){To({done:!1},e,t)}}};if(vo&&(io=(oo=function(t){pr(this,io),kt(t),bt(Vn,this);var e=to(this);try{t(Oo(So,e),Oo(To,e))}catch(t){To(e,t)}}).prototype,(Vn=function(t){eo(this,{type:Jn,done:!1,notified:!1,parent:!1,reactions:new $n,rejection:!1,state:0,value:void 0})}).prototype=nr(io,{then:function(t,e){var r=ro(this),n=co(Kr(this,oo));return r.parent=!0,n.ok=!V(t)||t,n.fail=V(e)&&e,n.domain=un?so.domain:void 0,0==r.state?r.reactions.add(n):zn((function(){mo(n,r)})),n.promise},catch:function(t){return this.then(void 0,t)}}),Yn=function(){var t=new Vn,e=to(t);this.promise=t,this.resolve=Oo(So,e),this.reject=Oo(To,e)},Un.f=co=function(t){return t===oo||t===Hn?new Yn(t):fo(t)},V(rr)&&no!==Object.prototype)){Zn=no.then,po||(se(no,"then",(function(t,e){var r=this;return new oo((function(t,e){bt(Zn,r,t,e)})).then(t,e)}),{unsafe:!0}),se(no,"catch",io.catch,{unsafe:!0}));try{delete no.constructor}catch(t){}ar&&ar(no,io)}function ko(t,e){if(!t)throw new Error(e||"web worker helper assertion failed.")}er({global:!0,wrap:!0,forced:vo},{Promise:oo}),cr(oo,Jn,!1),lr(Jn),Hn=H(Jn),er({target:Jn,stat:!0,forced:vo},{reject:function(t){var e=co(this);return bt(e.reject,void 0,t),e.promise}}),er({target:Jn,stat:!0,forced:vo},{resolve:function(t){return function(t,e){if(mt(t),ft(e)&&e.constructor===t)return e;var r=Un.f(t);return(0,r.resolve)(e),r.promise}(this,t)}}),er({target:Jn,stat:!0,forced:yo},{all:function(t){var e=this,r=co(e),n=r.resolve,o=r.reject,i=Gn((function(){var r=kt(e.resolve),i=[],a=0,u=1;Ir(t,(function(t){var s=a++,c=!1;u++,bt(r,e,t).then((function(t){c||(c=!0,i[s]=t,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise},race:function(t){var e=this,r=co(e),n=r.reject,o=Gn((function(){var o=kt(e.resolve);Ir(t,(function(t){bt(o,e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var Io="undefined"!=typeof window&&void 0!==window.orientation,_o=function(){function t(t,e){var r=this;this.name=t,this.workerThread=e,this.isRunning=!0,this.resolve=function(){},this.reject=function(){},this.result=new Promise((function(t,e){r.resolve=t,r.reject=e}))}return t.prototype.postMessage=function(t,e){this.workerThread.postMessage({source:"Main thread",type:t,payload:e})},t.prototype.done=function(t){ko(this.isRunning,"WorkerJob isRunning false."),this.isRunning=!1,this.resolve(t)},t.prototype.error=function(t){ko(this.isRunning,"WorkerJob isRunning false."),this.isRunning=!1,this.reject(t)},t}(),jo=new Map;function Mo(t){ko(t.source&&!t.url||!t.source&&t.url);var e=jo.get(t.source||t.url);return e||(t.url&&(e=function(t){if(!t.startsWith("http"))return t;return Po((e=t,"try {\\n  importScripts(\'"+e+"\');\\n} catch (error) {\\n  console.error(error);\\n  throw error;\\n}"));var e}(t.url),jo.set(t.url,e)),t.source&&(e=Po(t.source),jo.set(t.source,e))),ko(e),e}function Po(t){var e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function Lo(t,e,r){void 0===e&&(e=!0);var n=r||new Set;if(t){if(Ro(t))n.add(t);else if(Ro(t.buffer))n.add(t.buffer);else if(ArrayBuffer.isView(t));else if(e&&"object"==typeof t)for(var o in t)Lo(t[o],e,n)}else;return void 0===r?Array.from(n):[]}function Ro(t){return!!t&&(t instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&t instanceof MessagePort||("undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas)))}var No=function(){},Do=function(){function t(t){this.terminated=!1,this.loadableURL="";var e=t.name,r=t.source,n=t.url;ko(r||n),this.name=e,this.source=r,this.url=n,this.onMessage=No,this.onError=function(t){return console.log(t)},this.worker=this.createBrowserWorker()}return t.isSupported=function(){return"undefined"!=typeof Worker},t.prototype.destroy=function(){this.onMessage=No,this.onError=No,this.worker.terminate(),this.terminated=!0},Object.defineProperty(t.prototype,"isRunning",{get:function(){return Boolean(this.onMessage)},enumerable:!1,configurable:!0}),t.prototype.postMessage=function(t,e){e=e||Lo(t),this.worker.postMessage(t,e)},t.prototype.getErrorFromErrorEvent=function(t){var e="Failed to load ";return e+="worker "+this.name+" from "+this.url+". ",t.message&&(e+=t.message+" in "),t.lineno&&(e+=":"+t.lineno+":"+t.colno),new Error(e)},t.prototype.createBrowserWorker=function(){var t=this;this.loadableURL=Mo({source:this.source,url:this.url});var e=new Worker(this.loadableURL,{name:this.name});return e.onmessage=function(e){e.data?t.onMessage(e.data):t.onError(new Error("No data received"))},e.onerror=function(e){t.onError(t.getErrorFromErrorEvent(e)),t.terminated=!0},e.onmessageerror=function(e){return console.error("worker "+t.name+", message error: "+e)},e},t}(),Co=self&&self.__assign||function(){return(Co=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Fo=self&&self.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{s(n.next(t))}catch(t){i(t)}}function u(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}s((n=n.apply(t,e||[])).next())}))},Wo=self&&self.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},zo=function(){function t(t){this.name="unnamed",this.maxConcurrency=1,this.maxMobileConcurrency=1,this.onDebug=function(){},this.reuseWorkers=!0,this.props={},this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1,this.source=t.source,this.url=t.url,this.setProps(t)}return t.prototype.destroy=function(){this.idleQueue.forEach((function(t){return t.destroy()})),this.isDestroyed=!0},t.prototype.setProps=function(t){this.props=Co(Co({},this.props),t),void 0!==t.name&&(this.name=t.name),void 0!==t.maxConcurrency&&(this.maxConcurrency=t.maxConcurrency),void 0!==t.maxMobileConcurrency&&(this.maxMobileConcurrency=t.maxMobileConcurrency),void 0!==t.reuseWorkers&&(this.reuseWorkers=t.reuseWorkers),void 0!==t.onDebug&&(this.onDebug=t.onDebug)},t.prototype.startJob=function(t,e,r){return void 0===e&&(e=function(t,e,r){return t.done(r)}),void 0===r&&(r=function(t,e){return t.error(e)}),Fo(this,void 0,void 0,(function(){var n,o=this;return Wo(this,(function(i){switch(i.label){case 0:return n=new Promise((function(n){return o.jobQueue.push({name:t,onMessage:e,onError:r,onStart:n}),o})),this.startQueuedJob(),[4,n];case 1:return[2,i.sent()]}}))}))},t.prototype.startQueuedJob=function(){return Fo(this,void 0,void 0,(function(){var t,e,r;return Wo(this,(function(n){switch(n.label){case 0:if(!this.jobQueue.length)return[2];if(!(t=this.getAvailableWorker()))return[2];if(!(e=this.jobQueue.shift()))return[3,4];this.onDebug({message:"Starting job",name:e.name,backlog:this.jobQueue.length,workerThread:t}),r=new _o(e.name,t),t.onMessage=function(t){return e.onMessage(r,t.type,t.payload)},t.onError=function(t){return e.onError(r,t)},e.onStart(r),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,r.result];case 2:return n.sent(),[3,4];case 3:return this.returnWorkerToQueue(t),[7];case 4:return[2]}}))}))},t.prototype.returnWorkerToQueue=function(t){this.isDestroyed||!this.reuseWorkers||this.count>this.getMaxConcurrency()?(t.destroy(),this.count--):this.idleQueue.push(t),this.isDestroyed||this.startQueuedJob()},t.prototype.getAvailableWorker=function(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this.getMaxConcurrency()){this.count++;var t=this.name.toLowerCase()+" (#"+this.count+" of "+this.maxConcurrency+")";return new Do({name:t,source:this.source,url:this.url})}return null},t.prototype.getMaxConcurrency=function(){return Io?this.maxMobileConcurrency:this.maxConcurrency},t}(),Bo=self&&self.__assign||function(){return(Bo=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Uo=self&&self.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Go={maxConcurrency:3,maxMobileConcurrency:1,onDebug:function(){},reuseWorkers:!0},qo=(function(){function t(t){this.workerPools=new Map,this.props=Bo({},Go),this.setProps(t),this.workerPools=new Map}t.isSupported=function(){return Do.isSupported()},t.getWorkerFarm=function(e){return void 0===e&&(e={}),t.workerFarm=t.workerFarm||new t({}),t.workerFarm.setProps(e),t.workerFarm},t.prototype.destroy=function(){var t,e;try{for(var r=Uo(this.workerPools.values()),n=r.next();!n.done;n=r.next()){n.value.destroy()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t.prototype.setProps=function(t){var e,r;this.props=Bo(Bo({},this.props),t);try{for(var n=Uo(this.workerPools.values()),o=n.next();!o.done;o=n.next()){o.value.setProps(this.getWorkerPoolProps())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.getWorkerPool=function(t){var e=t.name,r=t.source,n=t.url,o=this.workerPools.get(e);return o||((o=new zo({name:e,source:r,url:n})).setProps(this.getWorkerPoolProps()),this.workerPools.set(e,o)),o},t.prototype.getWorkerPoolProps=function(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}(),new Map),Vo=function(){function t(){}return Object.defineProperty(t,"onmessage",{set:function(t){self.onmessage=function(e){if(Yo(e)){var r=e.data,n=r.type,o=r.payload;t(n,o)}}},enumerable:!1,configurable:!0}),t.addEventListener=function(t){var e=qo.get(t);e||(e=function(e){if(Yo(e)){var r=e.data,n=r.type,o=r.payload;t(n,o)}}),self.addEventListener("message",e)},t.removeEventListener=function(t){var e=qo.get(t);qo.delete(t),self.removeEventListener("message",e)},t.postMessage=function(t,e){if(self){var r={source:"Worker thread",type:t,payload:e},n=Lo(e);self.postMessage(r,n)}},t}();function Yo(t){var e=t.type,r=t.data;return"message"===e&&r&&"string"==typeof r.source&&"Main thread"===r.source}self&&self.__awaiter,self&&self.__generator;var Ho,Zo,$o=function(){function t(){this._values=[],this._settlers=[],this._closed=!1}return t.prototype[Symbol.asyncIterator]=function(){return this},t.prototype.push=function(t){return this.enqueue(t)},t.prototype.enqueue=function(t){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");var e=this._settlers.shift();t instanceof Error?e.reject(t):e.resolve({value:t})}else this._values.push(t)},t.prototype.close=function(){for(;this._settlers.length>0;){this._settlers.shift().resolve({done:!0})}this._closed=!0},t.prototype.next=function(){var t=this;if(this._values.length>0){var e=this._values.shift();return e instanceof Error?Promise.reject(e):Promise.resolve({done:!1,value:e})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise((function(e,r){t._settlers.push({resolve:e,reject:r})}))},t}(),Ko=self&&self.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{s(n.next(t))}catch(t){i(t)}}function u(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}s((n=n.apply(t,e||[])).next())}))},Qo=self&&self.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Xo=self&&self.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,o){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,o,(e=t[r](e)).done,e.value)}))}}},Jo=0;function ti(t,e){var r=this;if("undefined"!=typeof self){var n={process:ei};Vo.onmessage=function(o,i){return Ko(r,void 0,void 0,(function(){var r,a,u,s,c,f,l,h,p,v;return Qo(this,(function(d){switch(d.label){case 0:switch(d.trys.push([0,19,,20]),o){case"process":return[3,1];case"process-in-batches":return[3,3];case"input-batch":return[3,16];case"input-done":return[3,17]}return[3,18];case 1:if(!t)throw new Error("Worker does not support atomic processing");return[4,t(i.input,i.options||{},n)];case 2:return r=d.sent(),Vo.postMessage("done",{result:r}),[3,18];case 3:if(!e)throw new Error("Worker does not support batched processing");Ho=new $o,Zo=i.options||{},a=e(Ho,Zo,n),d.label=4;case 4:d.trys.push([4,9,10,15]),u=Xo(a),d.label=5;case 5:return[4,u.next()];case 6:if((s=d.sent()).done)return[3,8];c=s.value,Vo.postMessage("output-batch",{result:c}),d.label=7;case 7:return[3,5];case 8:return[3,15];case 9:return f=d.sent(),p={error:f},[3,15];case 10:return d.trys.push([10,,13,14]),s&&!s.done&&(v=u.return)?[4,v.call(u)]:[3,12];case 11:d.sent(),d.label=12;case 12:return[3,14];case 13:if(p)throw p.error;return[7];case 14:return[7];case 15:return Vo.postMessage("done",{}),[3,18];case 16:return Ho.push(i.input),[3,18];case 17:return Ho.close(),[3,18];case 18:return[3,20];case 19:return l=d.sent(),h=l instanceof Error?l.message:"",Vo.postMessage("error",{error:h}),[3,20];case 20:return[2]}}))}))}}}function ei(t,e){return void 0===e&&(e={}),new Promise((function(r,n){var o=Jo++,i=function(t,e){if(e.id===o)switch(t){case"done":Vo.removeEventListener(i),r(e.result);break;case"error":Vo.removeEventListener(i),n(e.error)}};Vo.addEventListener(i);var a={id:o,input:t,options:e};Vo.postMessage("process",a)}))}self&&self.__awaiter,self&&self.__generator;var ri={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ni=pt("span").classList,oi=ni&&ni.constructor&&ni.constructor.prototype,ii=oi===Object.prototype?void 0:oi,ai=Array.isArray||function(t){return"Array"==le(t)},ui=at("species"),si=A.Array,ci=function(t,e){return new(function(t){var e;return ai(t)&&(e=t.constructor,(Yr(e)&&(e===si||ai(e.prototype))||ft(e)&&null===(e=e[ui]))&&(e=void 0)),void 0===e?si:e}(t))(0===e?0:e)},fi=R([].push),li=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,u=5==t||i;return function(s,c,f,l){for(var h,p,v=F(s),d=Ee(v),y=dr(c,f),g=Re(d),m=0,x=l||ci,b=e?x(s,g):r||a?x(s,0):void 0;g>m;m++)if((u||m in d)&&(p=y(h=d[m],m,v),t))if(e)b[m]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return m;case 2:fi(b,h)}else switch(t){case 4:return!1;case 7:fi(b,h)}return i?-1:n||o?o:b}},hi={forEach:li(0),map:li(1),filter:li(2),some:li(3),every:li(4),find:li(5),findIndex:li(6),filterReject:li(7)},pi=function(t,e){var r=[][t];return!!r&&I((function(){r.call(null,e||function(){return 1},1)}))},vi=hi.forEach,di=pi("forEach")?[].forEach:function(t){return vi(this,t,arguments.length>1?arguments[1]:void 0)},yi=function(t){if(t&&t.forEach!==di)try{Wt(t,"forEach",di)}catch(e){t.forEach=di}};for(var gi in ri)ri[gi]&&yi(A[gi]&&A[gi].prototype);yi(ii);var mi=function(t,e,r){var n=Lt(e);n in t?Ct.f(t,n,Ft(0,r)):t[n]=r},xi=at("species"),bi=function(t){return J>=51||!I((function(){var e=[];return(e.constructor={})[xi]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},wi=bi("slice"),Ei=at("species"),Ai=A.Array,Oi=Math.max;er({target:"Array",proto:!0,forced:!wi},{slice:function(t,e){var r,n,o,i=Ae(this),a=Re(i),u=Me(t,a),s=Me(void 0===e?a:e,a);if(ai(i)&&(r=i.constructor,(Yr(r)&&(r===Ai||ai(r.prototype))||ft(r)&&null===(r=r[Ei]))&&(r=void 0),r===Ai||void 0===r))return rn(i,u,s);for(n=new(void 0===r?Ai:r)(Oi(s-u,0)),o=0;u<s;u++,o++)u in i&&mi(n,o,i[u]);return n.length=o,n}});var Ti=ue.EXISTS,Si=Ct.f,ki=Function.prototype,Ii=R(ki.toString),_i=/function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/,ji=R(_i.exec);ct&&!Ti&&Si(ki,"name",{configurable:!0,get:function(){try{return ji(_i,Ii(this))[1]}catch(t){return""}}});var Mi,Pi=Object.keys||function(t){return We(t,ze)},Li={f:ct&&!dt?Object.defineProperties:function(t,e){mt(t);for(var r,n=Ae(e),o=Pi(e),i=o.length,a=0;i>a;)Ct.f(t,r=o[a++],n[r]);return t}},Ri=Zt("IE_PROTO"),Ni=function(){},Di=function(t){return"<script>"+t+"<\\/script>"},Ci=function(t){t.write(Di("")),t.close();var e=t.parentWindow.Object;return t=null,e},Fi=function(){try{Mi=new ActiveXObject("htmlfile")}catch(t){}var t,e;Fi="undefined"!=typeof document?document.domain&&Mi?Ci(Mi):((e=pt("iframe")).style.display="none",en.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Di("document.F=Object")),t.close(),t.F):Ci(Mi);for(var r=ze.length;r--;)delete Fi.prototype[ze[r]];return Fi()};$t[Ri]=!0;var Wi=Object.create||function(t,e){var r;return null!==t?(Ni.prototype=mt(t),r=new Ni,Ni.prototype=null,r[Ri]=t):r=Fi(),void 0===e?r:Li.f(r,e)},zi=at("unscopables"),Bi=Array.prototype;null==Bi[zi]&&Ct.f(Bi,zi,{configurable:!0,value:Wi(null)});var Ui,Gi,qi,Vi=function(t){Bi[zi][t]=!0},Yi=!I((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Hi=Zt("IE_PROTO"),Zi=A.Object,$i=Zi.prototype,Ki=Yi?Zi.getPrototypeOf:function(t){var e=F(t);if(z(e,Hi))return e[Hi];var r=e.constructor;return V(r)&&e instanceof r?r.prototype:e instanceof Zi?$i:null},Qi=at("iterator"),Xi=!1;[].keys&&("next"in(qi=[].keys())?(Gi=Ki(Ki(qi)))!==Object.prototype&&(Ui=Gi):Xi=!0),(null==Ui||I((function(){var t={};return Ui[Qi].call(t)!==t})))&&(Ui={}),V(Ui[Qi])||se(Ui,Qi,(function(){return this}));var Ji={IteratorPrototype:Ui,BUGGY_SAFARI_ITERATORS:Xi},ta=Ji.IteratorPrototype,ea=function(){return this},ra=ue.PROPER,na=ue.CONFIGURABLE,oa=Ji.IteratorPrototype,ia=Ji.BUGGY_SAFARI_ITERATORS,aa=at("iterator"),ua=function(){return this},sa=function(t,e,r,n,o,i,a){!function(t,e,r,n){var o=e+" Iterator";t.prototype=Wi(ta,{next:Ft(+!n,r)}),cr(t,o,!1),yr[o]=ea}(r,e,n);var u,s,c,f=function(t){if(t===o&&d)return d;if(!ia&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",h=!1,p=t.prototype,v=p[aa]||p["@@iterator"]||o&&p[o],d=!ia&&v||f(o),y="Array"==e&&p.entries||v;if(y&&(u=Ki(y.call(new t)))!==Object.prototype&&u.next&&(Ki(u)!==oa&&(ar?ar(u,oa):V(u[aa])||se(u,aa,ua)),cr(u,l,!0)),ra&&"values"==o&&v&&"values"!==v.name&&(na?Wt(p,"name","values"):(h=!0,d=function(){return bt(v,this)})),o)if(s={values:f("values"),keys:i?d:f("keys"),entries:f("entries")},a)for(c in s)(ia||h||!(c in p))&&se(p,c,s[c]);else er({target:e,proto:!0,forced:ia||h},s);return p[aa]!==d&&se(p,aa,d,{name:o}),yr[e]=d,s},ca=Ct.f,fa=ne.set,la=ne.getterFor("Array Iterator"),ha=sa(Array,"Array",(function(t,e){fa(this,{type:"Array Iterator",target:Ae(t),index:0,kind:e})}),(function(){var t=la(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),pa=yr.Arguments=yr.Array;if(Vi("keys"),Vi("values"),Vi("entries"),ct&&"values"!==pa.name)try{ca(pa,"name",{value:"values"})}catch(t){}var va,da,ya,ga="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,ma=Ct.f,xa=A.Int8Array,ba=xa&&xa.prototype,wa=A.Uint8ClampedArray,Ea=wa&&wa.prototype,Aa=xa&&Ki(xa),Oa=ba&&Ki(ba),Ta=Object.prototype,Sa=A.TypeError,ka=at("toStringTag"),Ia=q("TYPED_ARRAY_TAG"),_a=q("TYPED_ARRAY_CONSTRUCTOR"),ja=ga&&!!ar&&"Opera"!==de(A.opera),Ma=!1,Pa={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},La={BigInt64Array:8,BigUint64Array:8},Ra=function(t){if(!ft(t))return!1;var e=de(t);return z(Pa,e)||z(La,e)};for(va in Pa)(ya=(da=A[va])&&da.prototype)?Wt(ya,_a,da):ja=!1;for(va in La)(ya=(da=A[va])&&da.prototype)&&Wt(ya,_a,da);if((!ja||!V(Aa)||Aa===Function.prototype)&&(Aa=function(){throw Sa("Incorrect invocation")},ja))for(va in Pa)A[va]&&ar(A[va],Aa);if((!ja||!Oa||Oa===Ta)&&(Oa=Aa.prototype,ja))for(va in Pa)A[va]&&ar(A[va].prototype,Oa);if(ja&&Ki(Ea)!==Oa&&ar(Ea,Oa),ct&&!z(Oa,ka))for(va in Ma=!0,ma(Oa,ka,{get:function(){return ft(this)?this[Ia]:void 0}}),Pa)A[va]&&Wt(A[va],Ia,va);var Na={NATIVE_ARRAY_BUFFER_VIEWS:ja,TYPED_ARRAY_CONSTRUCTOR:_a,TYPED_ARRAY_TAG:Ma&&Ia,aTypedArray:function(t){if(Ra(t))return t;throw Sa("Target is not a typed array")},aTypedArrayConstructor:function(t){if(V(t)&&(!ar||wt(Aa,t)))return t;throw Sa(Tt(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,n){if(ct){if(r)for(var o in Pa){var i=A[o];if(i&&z(i.prototype,t))try{delete i.prototype[t]}catch(r){try{i.prototype[t]=e}catch(t){}}}Oa[t]&&!r||se(Oa,t,r?e:ja&&ba[t]||e,n)}},exportTypedArrayStaticMethod:function(t,e,r){var n,o;if(ct){if(ar){if(r)for(n in Pa)if((o=A[n])&&z(o,t))try{delete o[t]}catch(t){}if(Aa[t]&&!r)return;try{return se(Aa,t,r?e:ja&&Aa[t]||e)}catch(t){}}for(n in Pa)!(o=A[n])||o[t]&&!r||se(o,t,e)}},isView:function(t){if(!ft(t))return!1;var e=de(t);return"DataView"===e||z(Pa,e)||z(La,e)},isTypedArray:Ra,TypedArray:Aa,TypedArrayPrototype:Oa},Da=Na.NATIVE_ARRAY_BUFFER_VIEWS,Ca=A.ArrayBuffer,Fa=A.Int8Array,Wa=!Da||!I((function(){Fa(1)}))||!I((function(){new Fa(-1)}))||!Lr((function(t){new Fa,new Fa(null),new Fa(1.5),new Fa(t)}),!0)||I((function(){return 1!==new Fa(new Ca(2),1,void 0).length})),za=A.RangeError,Ba=function(t){if(void 0===t)return 0;var e=Ie(t),r=Le(e);if(e!==r)throw za("Wrong length or index");return r},Ua=A.Array,Ga=Math.abs,qa=Math.pow,Va=Math.floor,Ya=Math.log,Ha=Math.LN2,Za=function(t,e,r){var n,o,i,a=Ua(r),u=8*r-e-1,s=(1<<u)-1,c=s>>1,f=23===e?qa(2,-24)-qa(2,-77):0,l=t<0||0===t&&1/t<0?1:0,h=0;for((t=Ga(t))!=t||t===1/0?(o=t!=t?1:0,n=s):(n=Va(Ya(t)/Ha),t*(i=qa(2,-n))<1&&(n--,i*=2),(t+=n+c>=1?f/i:f*qa(2,1-c))*i>=2&&(n++,i/=2),n+c>=s?(o=0,n=s):n+c>=1?(o=(t*i-1)*qa(2,e),n+=c):(o=t*qa(2,c-1)*qa(2,e),n=0));e>=8;)a[h++]=255&o,o/=256,e-=8;for(n=n<<e|o,u+=e;u>0;)a[h++]=255&n,n/=256,u-=8;return a[--h]|=128*l,a},$a=function(t,e){var r,n=t.length,o=8*n-e-1,i=(1<<o)-1,a=i>>1,u=o-7,s=n-1,c=t[s--],f=127&c;for(c>>=7;u>0;)f=256*f+t[s--],u-=8;for(r=f&(1<<-u)-1,f>>=-u,u+=e;u>0;)r=256*r+t[s--],u-=8;if(0===f)f=1-a;else{if(f===i)return r?NaN:c?-1/0:1/0;r+=qa(2,e),f-=a}return(c?-1:1)*r*qa(2,f-e)},Ka=function(t){for(var e=F(this),r=Re(e),n=arguments.length,o=Me(n>1?arguments[1]:void 0,r),i=n>2?arguments[2]:void 0,a=void 0===i?r:Me(i,r);a>o;)e[o++]=t;return e},Qa=A.Array,Xa=Math.max,Ja=function(t,e,r){for(var n=Re(t),o=Me(e,n),i=Me(void 0===r?n:r,n),a=Qa(Xa(i-o,0)),u=0;o<i;o++,u++)mi(a,u,t[o]);return a.length=u,a},tu=Ue.f,eu=Ct.f,ru=ue.PROPER,nu=ue.CONFIGURABLE,ou=ne.get,iu=ne.set,au=A.ArrayBuffer,uu=au,su=uu&&uu.prototype,cu=A.DataView,fu=cu&&cu.prototype,lu=Object.prototype,hu=A.Array,pu=A.RangeError,vu=R(Ka),du=R([].reverse),yu=Za,gu=$a,mu=function(t){return[255&t]},xu=function(t){return[255&t,t>>8&255]},bu=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},wu=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Eu=function(t){return yu(t,23,4)},Au=function(t){return yu(t,52,8)},Ou=function(t,e){eu(t.prototype,e,{get:function(){return ou(this)[e]}})},Tu=function(t,e,r,n){var o=Ba(r),i=ou(t);if(o+e>i.byteLength)throw pu("Wrong index");var a=ou(i.buffer).bytes,u=o+i.byteOffset,s=Ja(a,u,u+e);return n?s:du(s)},Su=function(t,e,r,n,o,i){var a=Ba(r),u=ou(t);if(a+e>u.byteLength)throw pu("Wrong index");for(var s=ou(u.buffer).bytes,c=a+u.byteOffset,f=n(+o),l=0;l<e;l++)s[c+l]=f[i?l:e-l-1]};if(ga){var ku=ru&&"ArrayBuffer"!==au.name;if(I((function(){au(1)}))&&I((function(){new au(-1)}))&&!I((function(){return new au,new au(1.5),new au(NaN),ku&&!nu})))ku&&nu&&Wt(au,"name","ArrayBuffer");else{(uu=function(t){return pr(this,su),new au(Ba(t))}).prototype=su;for(var Iu,_u=tu(au),ju=0;_u.length>ju;)(Iu=_u[ju++])in uu||Wt(uu,Iu,au[Iu]);su.constructor=uu}ar&&Ki(fu)!==lu&&ar(fu,lu);var Mu=new cu(new uu(2)),Pu=R(fu.setInt8);Mu.setInt8(0,2147483648),Mu.setInt8(1,2147483649),!Mu.getInt8(0)&&Mu.getInt8(1)||nr(fu,{setInt8:function(t,e){Pu(this,t,e<<24>>24)},setUint8:function(t,e){Pu(this,t,e<<24>>24)}},{unsafe:!0})}else su=(uu=function(t){pr(this,su);var e=Ba(t);iu(this,{bytes:vu(hu(e),0),byteLength:e}),ct||(this.byteLength=e)}).prototype,fu=(cu=function(t,e,r){pr(this,fu),pr(t,su);var n=ou(t).byteLength,o=Ie(e);if(o<0||o>n)throw pu("Wrong offset");if(o+(r=void 0===r?n-o:Le(r))>n)throw pu("Wrong length");iu(this,{buffer:t,byteLength:r,byteOffset:o}),ct||(this.buffer=t,this.byteLength=r,this.byteOffset=o)}).prototype,ct&&(Ou(uu,"byteLength"),Ou(cu,"buffer"),Ou(cu,"byteLength"),Ou(cu,"byteOffset")),nr(fu,{getInt8:function(t){return Tu(this,1,t)[0]<<24>>24},getUint8:function(t){return Tu(this,1,t)[0]},getInt16:function(t){var e=Tu(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Tu(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return wu(Tu(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return wu(Tu(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return gu(Tu(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return gu(Tu(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){Su(this,1,t,mu,e)},setUint8:function(t,e){Su(this,1,t,mu,e)},setInt16:function(t,e){Su(this,2,t,xu,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){Su(this,2,t,xu,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){Su(this,4,t,bu,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){Su(this,4,t,bu,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){Su(this,4,t,Eu,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){Su(this,8,t,Au,e,arguments.length>2?arguments[2]:void 0)}});cr(uu,"ArrayBuffer"),cr(cu,"DataView");var Lu={ArrayBuffer:uu,DataView:cu},Ru=Math.floor,Nu=Number.isInteger||function(t){return!ft(t)&&isFinite(t)&&Ru(t)===t},Du=A.RangeError,Cu=A.RangeError,Fu=function(t,e){var r=function(t){var e=Ie(t);if(e<0)throw Du("The argument can\'t be less than 0");return e}(t);if(r%e)throw Cu("Wrong offset");return r},Wu=Na.aTypedArrayConstructor,zu=function(t){var e,r,n,o,i,a,u=Zr(this),s=F(t),c=arguments.length,f=c>1?arguments[1]:void 0,l=void 0!==f,h=wr(s);if(h&&!xr(h))for(a=(i=Ar(s,h)).next,s=[];!(o=bt(a,i)).done;)s.push(o.value);for(l&&c>2&&(f=dr(f,arguments[2])),r=Re(s),n=new(Wu(u))(r),e=0;r>e;e++)n[e]=l?f(s[e],e):s[e];return n},Bu=function(t,e,r){var n,o;return ar&&V(n=e.constructor)&&n!==r&&ft(o=n.prototype)&&o!==r.prototype&&ar(t,o),t},Uu=x((function(t){var e=Ue.f,r=hi.forEach,n=ne.get,o=ne.set,i=Ct.f,a=Te.f,u=Math.round,s=A.RangeError,c=Lu.ArrayBuffer,f=c.prototype,l=Lu.DataView,h=Na.NATIVE_ARRAY_BUFFER_VIEWS,p=Na.TYPED_ARRAY_CONSTRUCTOR,v=Na.TYPED_ARRAY_TAG,d=Na.TypedArray,y=Na.TypedArrayPrototype,g=Na.aTypedArrayConstructor,m=Na.isTypedArray,x=function(t,e){g(t);for(var r=0,n=e.length,o=new t(n);n>r;)o[r]=e[r++];return o},b=function(t,e){i(t,e,{get:function(){return n(this)[e]}})},w=function(t){var e;return wt(f,t)||"ArrayBuffer"==(e=de(t))||"SharedArrayBuffer"==e},E=function(t,e){return m(t)&&!At(e)&&e in t&&Nu(+e)&&e>=0},O=function(t,e){return e=Lt(e),E(t,e)?Ft(2,t[e]):a(t,e)},T=function(t,e,r){return e=Lt(e),!(E(t,e)&&ft(r)&&z(r,"value"))||z(r,"get")||z(r,"set")||r.configurable||z(r,"writable")&&!r.writable||z(r,"enumerable")&&!r.enumerable?i(t,e,r):(t[e]=r.value,t)};ct?(h||(Te.f=O,Ct.f=T,b(y,"buffer"),b(y,"byteOffset"),b(y,"byteLength"),b(y,"length")),er({target:"Object",stat:!0,forced:!h},{getOwnPropertyDescriptor:O,defineProperty:T}),t.exports=function(t,a,f){var g=t.match(/\\d+$/)[0]/8,b=t+(f?"Clamped":"")+"Array",E="get"+t,O="set"+t,T=A[b],S=T,k=S&&S.prototype,I={},_=function(t,e){i(t,e,{get:function(){return function(t,e){var r=n(t);return r.view[E](e*g+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var o=n(t);f&&(r=(r=u(r))<0?0:r>255?255:255&r),o.view[O](e*g+o.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};h?Wa&&(S=a((function(t,e,r,n){return pr(t,k),Bu(ft(e)?w(e)?void 0!==n?new T(e,Fu(r,g),n):void 0!==r?new T(e,Fu(r,g)):new T(e):m(e)?x(S,e):bt(zu,S,e):new T(Ba(e)),t,S)})),ar&&ar(S,d),r(e(T),(function(t){t in S||Wt(S,t,T[t])})),S.prototype=k):(S=a((function(t,e,r,n){pr(t,k);var i,a,u,f=0,h=0;if(ft(e)){if(!w(e))return m(e)?x(S,e):bt(zu,S,e);i=e,h=Fu(r,g);var p=e.byteLength;if(void 0===n){if(p%g)throw s("Wrong length");if((a=p-h)<0)throw s("Wrong length")}else if((a=Le(n)*g)+h>p)throw s("Wrong length");u=a/g}else u=Ba(e),i=new c(a=u*g);for(o(t,{buffer:i,byteOffset:h,byteLength:a,length:u,view:new l(i)});f<u;)_(t,f++)})),ar&&ar(S,d),k=S.prototype=Wi(y)),k.constructor!==S&&Wt(k,"constructor",S),Wt(k,p,S),v&&Wt(k,v,b),I[b]=S,er({global:!0,forced:S!=T,sham:!h},I),"BYTES_PER_ELEMENT"in S||Wt(S,"BYTES_PER_ELEMENT",g),"BYTES_PER_ELEMENT"in k||Wt(k,"BYTES_PER_ELEMENT",g),lr(b)}):t.exports=function(){}}));Uu("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}}),!0);var Gu=Math.min,qu=R([].copyWithin||function(t,e){var r=F(this),n=Re(r),o=Me(t,n),i=Me(e,n),a=arguments.length>2?arguments[2]:void 0,u=Gu((void 0===a?n:Me(a,n))-i,n-o),s=1;for(i<o&&o<i+u&&(s=-1,i+=u-1,o+=u-1);u-- >0;)i in r?r[o]=r[i]:delete r[o],o+=s,i+=s;return r}),Vu=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("copyWithin",(function(t,e){return qu(Vu(this),t,e,arguments.length>2?arguments[2]:void 0)}));var Yu=hi.every,Hu=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("every",(function(t){return Yu(Hu(this),t,arguments.length>1?arguments[1]:void 0)}));var Zu=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("fill",(function(t){var e=arguments.length;return bt(Ka,Zu(this),t,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}));var $u=Na.TYPED_ARRAY_CONSTRUCTOR,Ku=Na.aTypedArrayConstructor,Qu=function(t){return Ku(Kr(t,t[$u]))},Xu=function(t,e){return function(t,e){for(var r=0,n=Re(e),o=new t(n);n>r;)o[r]=e[r++];return o}(Qu(t),e)},Ju=hi.filter,ts=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("filter",(function(t){var e=Ju(ts(this),t,arguments.length>1?arguments[1]:void 0);return Xu(this,e)}));var es=hi.find,rs=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("find",(function(t){return es(rs(this),t,arguments.length>1?arguments[1]:void 0)}));var ns=hi.findIndex,os=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("findIndex",(function(t){return ns(os(this),t,arguments.length>1?arguments[1]:void 0)}));var is=hi.forEach,as=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("forEach",(function(t){is(as(this),t,arguments.length>1?arguments[1]:void 0)}));var us=De.includes,ss=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("includes",(function(t){return us(ss(this),t,arguments.length>1?arguments[1]:void 0)}));var cs=De.indexOf,fs=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("indexOf",(function(t){return cs(fs(this),t,arguments.length>1?arguments[1]:void 0)}));var ls=at("iterator"),hs=A.Uint8Array,ps=R(ha.values),vs=R(ha.keys),ds=R(ha.entries),ys=Na.aTypedArray,gs=Na.exportTypedArrayMethod,ms=hs&&hs.prototype,xs=!I((function(){ms[ls].call([1])})),bs=!!ms&&ms.values&&ms[ls]===ms.values&&"values"===ms.values.name,ws=function(){return ps(ys(this))};gs("entries",(function(){return ds(ys(this))}),xs),gs("keys",(function(){return vs(ys(this))}),xs),gs("values",ws,xs||!bs,{name:"values"}),gs(ls,ws,xs||!bs,{name:"values"});var Es=Na.aTypedArray,As=Na.exportTypedArrayMethod,Os=R([].join);As("join",(function(t){return Os(Es(this),t)}));var Ts=Math.min,Ss=[].lastIndexOf,ks=!!Ss&&1/[1].lastIndexOf(1,-0)<0,Is=pi("lastIndexOf"),_s=ks||!Is?function(t){if(ks)return tn(Ss,this,arguments)||0;var e=Ae(this),r=Re(e),n=r-1;for(arguments.length>1&&(n=Ts(n,Ie(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}:Ss,js=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("lastIndexOf",(function(t){var e=arguments.length;return tn(_s,js(this),e>1?[t,arguments[1]]:[t])}));var Ms=hi.map,Ps=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("map",(function(t){return Ms(Ps(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(Qu(t))(e)}))}));var Ls=A.TypeError,Rs=function(t){return function(e,r,n,o){kt(r);var i=F(e),a=Ee(i),u=Re(i),s=t?u-1:0,c=t?-1:1;if(n<2)for(;;){if(s in a){o=a[s],s+=c;break}if(s+=c,t?s<0:u<=s)throw Ls("Reduce of empty array with no initial value")}for(;t?s>=0:u>s;s+=c)s in a&&(o=r(o,a[s],s,i));return o}},Ns={left:Rs(!1),right:Rs(!0)},Ds=Ns.left,Cs=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("reduce",(function(t){var e=arguments.length;return Ds(Cs(this),t,e,e>1?arguments[1]:void 0)}));var Fs=Ns.right,Ws=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("reduceRight",(function(t){var e=arguments.length;return Fs(Ws(this),t,e,e>1?arguments[1]:void 0)}));var zs=Na.aTypedArray,Bs=Na.exportTypedArrayMethod,Us=Math.floor;Bs("reverse",(function(){for(var t,e=zs(this).length,r=Us(e/2),n=0;n<r;)t=this[n],this[n++]=this[--e],this[e]=t;return this}));var Gs=A.RangeError,qs=A.Int8Array,Vs=qs&&qs.prototype,Ys=Vs&&Vs.set,Hs=Na.aTypedArray,Zs=Na.exportTypedArrayMethod,$s=!I((function(){var t=new Uint8ClampedArray(2);return bt(Ys,t,{length:1,0:3},1),3!==t[1]})),Ks=$s&&Na.NATIVE_ARRAY_BUFFER_VIEWS&&I((function(){var t=new qs(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));Zs("set",(function(t){Hs(this);var e=Fu(arguments.length>1?arguments[1]:void 0,1),r=F(t);if($s)return bt(Ys,this,r,e);var n=this.length,o=Re(r),i=0;if(o+e>n)throw Gs("Wrong length");for(;i<o;)this[e+i]=r[i++]}),!$s||Ks);var Qs=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("slice",(function(t,e){for(var r=rn(Qs(this),t,e),n=Qu(this),o=0,i=r.length,a=new n(i);i>o;)a[o]=r[o++];return a}),I((function(){new Int8Array(1).slice()})));var Xs=hi.some,Js=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("some",(function(t){return Xs(Js(this),t,arguments.length>1?arguments[1]:void 0)}));var tc=Math.floor,ec=function(t,e){var r=t.length,n=tc(r/2);return r<8?rc(t,e):nc(t,ec(Ja(t,0,n),e),ec(Ja(t,n),e),e)},rc=function(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==i++&&(t[n]=r)}return t},nc=function(t,e,r,n){for(var o=e.length,i=r.length,a=0,u=0;a<o||u<i;)t[a+u]=a<o&&u<i?n(e[a],r[u])<=0?e[a++]:r[u++]:a<o?e[a++]:r[u++];return t},oc=ec,ic=Z.match(/firefox\\/(\\d+)/i),ac=!!ic&&+ic[1],uc=/MSIE|Trident/.test(Z),sc=Z.match(/AppleWebKit\\/(\\d+)\\./),cc=!!sc&&+sc[1],fc=A.Array,lc=Na.aTypedArray,hc=Na.exportTypedArrayMethod,pc=A.Uint16Array,vc=pc&&R(pc.prototype.sort),dc=!(!vc||I((function(){vc(new pc(2),null)}))&&I((function(){vc(new pc(2),{})}))),yc=!!vc&&!I((function(){if(J)return J<74;if(ac)return ac<67;if(uc)return!0;if(cc)return cc<602;var t,e,r=new pc(516),n=fc(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,n[t]=t-2*e+3;for(vc(r,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(r[t]!==n[t])return!0}));hc("sort",(function(t){return void 0!==t&&kt(t),yc?vc(this,t):oc(lc(this),function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t))}),!yc||dc);var gc=Na.aTypedArray;(0,Na.exportTypedArrayMethod)("subarray",(function(t,e){var r=gc(this),n=r.length,o=Me(t,n);return new(Qu(r))(r.buffer,r.byteOffset+o*r.BYTES_PER_ELEMENT,Le((void 0===e?n:Me(e,n))-o))}));var mc=A.Int8Array,xc=Na.aTypedArray,bc=Na.exportTypedArrayMethod,wc=[].toLocaleString,Ec=!!mc&&I((function(){wc.call(new mc(1))}));bc("toLocaleString",(function(){return tn(wc,Ec?rn(xc(this)):xc(this),rn(arguments))}),I((function(){return[1,2].toLocaleString()!=new mc([1,2]).toLocaleString()}))||!I((function(){mc.prototype.toLocaleString.call([1,2])})));var Ac=Na.exportTypedArrayMethod,Oc=A.Uint8Array,Tc=Oc&&Oc.prototype||{},Sc=[].toString,kc=R([].join);I((function(){Sc.call({})}))&&(Sc=function(){return kc(this)});var Ic=Tc.toString!=Sc;Ac("toString",Sc,Ic);var _c,jc,Mc=A.String,Pc=function(t){if("Symbol"===de(t))throw TypeError("Cannot convert a Symbol value to a string");return Mc(t)},Lc=function(){var t=mt(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},Rc=A.RegExp,Nc=I((function(){var t=Rc("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),Dc=Nc||I((function(){return!Rc("a","y").sticky})),Cc={BROKEN_CARET:Nc||I((function(){var t=Rc("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:Dc,UNSUPPORTED_Y:Nc},Fc=A.RegExp,Wc=I((function(){var t=Fc(".","s");return!(t.dotAll&&t.exec("\\n")&&"s"===t.flags)})),zc=A.RegExp,Bc=I((function(){var t=zc("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),Uc=ne.get,Gc=k("native-string-replace",String.prototype.replace),qc=RegExp.prototype.exec,Vc=qc,Yc=R("".charAt),Hc=R("".indexOf),Zc=R("".replace),$c=R("".slice),Kc=(jc=/b*/g,bt(qc,_c=/a/,"a"),bt(qc,jc,"a"),0!==_c.lastIndex||0!==jc.lastIndex),Qc=Cc.BROKEN_CARET,Xc=void 0!==/()??/.exec("")[1];(Kc||Xc||Qc||Wc||Bc)&&(Vc=function(t){var e,r,n,o,i,a,u,s=this,c=Uc(s),f=Pc(t),l=c.raw;if(l)return l.lastIndex=s.lastIndex,e=bt(Vc,l,f),s.lastIndex=l.lastIndex,e;var h=c.groups,p=Qc&&s.sticky,v=bt(Lc,s),d=s.source,y=0,g=f;if(p&&(v=Zc(v,"y",""),-1===Hc(v,"g")&&(v+="g"),g=$c(f,s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\\n"!==Yc(f,s.lastIndex-1))&&(d="(?: "+d+")",g=" "+g,y++),r=new RegExp("^(?:"+d+")",v)),Xc&&(r=new RegExp("^"+d+"$(?!\\\\s)",v)),Kc&&(n=s.lastIndex),o=bt(qc,p?r:s,g),p?o?(o.input=$c(o.input,y),o[0]=$c(o[0],y),o.index=s.lastIndex,s.lastIndex+=o[0].length):s.lastIndex=0:Kc&&o&&(s.lastIndex=s.global?o.index+o[0].length:n),Xc&&o&&o.length>1&&bt(Gc,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&h)for(o.groups=a=Wi(null),i=0;i<h.length;i++)a[(u=h[i])[0]]=o[u[1]];return o});var Jc=Vc;er({target:"RegExp",proto:!0,forced:/./.exec!==Jc},{exec:Jc});var tf,ef=at("species"),rf=RegExp.prototype,nf=function(t,e,r,n){var o=at(t),i=!I((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!I((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[ef]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!a||r){var u=R(/./[o]),s=e(o,""[t],(function(t,e,r,n,o){var a=R(t),s=e.exec;return s===Jc||s===rf.exec?i&&!o?{done:!0,value:u(e,r,n)}:{done:!0,value:a(r,e,n)}:{done:!1}}));se(String.prototype,t,s[0]),se(rf,o,s[1])}n&&Wt(rf[o],"sham",!0)},of=R("".charAt),af=R("".charCodeAt),uf=R("".slice),sf=function(t){return function(e,r){var n,o,i=Pc(D(e)),a=Ie(r),u=i.length;return a<0||a>=u?t?"":void 0:(n=af(i,a))<55296||n>56319||a+1===u||(o=af(i,a+1))<56320||o>57343?t?of(i,a):n:t?uf(i,a,a+2):o-56320+(n-55296<<10)+65536}},cf={codeAt:sf(!1),charAt:sf(!0)},ff=cf.charAt,lf=function(t,e,r){return e+(r?ff(t,e).length:1)},hf=Math.floor,pf=R("".charAt),vf=R("".replace),df=R("".slice),yf=/\\$([$&\'`]|\\d{1,2}|<[^>]*>)/g,gf=/\\$([$&\'`]|\\d{1,2})/g,mf=function(t,e,r,n,o,i){var a=r+t.length,u=n.length,s=gf;return void 0!==o&&(o=F(o),s=yf),vf(i,s,(function(i,s){var c;switch(pf(s,0)){case"$":return"$";case"&":return t;case"`":return df(e,0,r);case"\'":return df(e,a);case"<":c=o[df(s,1,-1)];break;default:var f=+s;if(0===f)return i;if(f>u){var l=hf(f/10);return 0===l?i:l<=u?void 0===n[l-1]?pf(s,1):n[l-1]+pf(s,1):i}c=n[f-1]}return void 0===c?"":c}))},xf=A.TypeError,bf=function(t,e){var r=t.exec;if(V(r)){var n=bt(r,t,e);return null!==n&&mt(n),n}if("RegExp"===le(t))return bt(Jc,t,e);throw xf("RegExp#exec called on incompatible receiver")},wf=at("replace"),Ef=Math.max,Af=Math.min,Of=R([].concat),Tf=R([].push),Sf=R("".indexOf),kf=R("".slice),If="$0"==="a".replace(/./,"$0"),_f=!!/./[wf]&&""===/./[wf]("a","$0");function jf(t){this.message=t}nf("replace",(function(t,e,r){var n=_f?"$":"$0";return[function(t,r){var n=D(this),o=null==t?void 0:It(t,wf);return o?bt(o,t,n,r):bt(e,Pc(n),t,r)},function(t,o){var i=mt(this),a=Pc(t);if("string"==typeof o&&-1===Sf(o,n)&&-1===Sf(o,"$<")){var u=r(e,i,a,o);if(u.done)return u.value}var s=V(o);s||(o=Pc(o));var c=i.global;if(c){var f=i.unicode;i.lastIndex=0}for(var l=[];;){var h=bf(i,a);if(null===h)break;if(Tf(l,h),!c)break;""===Pc(h[0])&&(i.lastIndex=lf(a,Le(i.lastIndex),f))}for(var p,v="",d=0,y=0;y<l.length;y++){for(var g=Pc((h=l[y])[0]),m=Ef(Af(Ie(h.index),a.length),0),x=[],b=1;b<h.length;b++)Tf(x,void 0===(p=h[b])?p:String(p));var w=h.groups;if(s){var E=Of([g],x,m,a);void 0!==w&&Tf(E,w);var A=Pc(tn(o,void 0,E))}else A=mf(g,a,m,x,w,o);m>=d&&(v+=kf(a,d,m)+A,d=m+g.length)}return v+kf(a,d)}]}),!!I((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!If||_f),jf.prototype=new Error,jf.prototype.name="InvalidCharacterError",er({global:!0},{globalThis:A}),tf="undefined"==typeof window?{devicePixelRatio:1,navigator:{userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36",browserLanguage:"zh-CN",language:"zh-CN",platform:""},location:"",document:{documentElement:{style:{}},createEvent:function(){return!0},getElementById:function(t){return!0},createElement:function(){return{className:"",classList:{add:function(){return""}}}},createElementNS:function(){return!0},addEventListener:function(){return!0},removeEventListener:function(){return!0},querySelector:function(){return!1}},performance:{mark:function(t){return null},clearMeasures:function(t){return null},clearMarks:function(t){return null},measure:function(t,e,r){return{duration:0}},now:function(){return(new Date).getTime()}},Blob:"",dispatchEvent:function(t){return!0},Event:function(t,e){return!0},createElement:function(){return!0},createElementNS:function(){return!0},XMLHttpRequest:function(){return!0},addEventListener:function(){return!0},removeEventListener:function(){return!0},requestAnimationFrame:function(){return!0},cancelAnimationFrame:function(){return!0},clearTimeout:function(){return!0}}:window,"undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM?my.getSystemInfoSync().pixelRatio:tf.devicePixelRatio;var Mf=bi("splice"),Pf=A.TypeError,Lf=Math.max,Rf=Math.min;er({target:"Array",proto:!0,forced:!Mf},{splice:function(t,e){var r,n,o,i,a,u,s=F(this),c=Re(s),f=Me(t,c),l=arguments.length;if(0===l?r=n=0:1===l?(r=0,n=c-f):(r=l-2,n=Rf(Lf(Ie(e),0),c-f)),c+r-n>9007199254740991)throw Pf("Maximum allowed length exceeded");for(o=ci(s,n),i=0;i<n;i++)(a=f+i)in s&&mi(o,i,s[a]);if(o.length=n,r<n){for(i=f;i<c-n;i++)u=i+r,(a=i+n)in s?s[u]=s[a]:delete s[u];for(i=c;i>c-n+r;i--)delete s[i-1]}else if(r>n)for(i=c-n;i>f;i--)u=i+r-1,(a=i+n-1)in s?s[u]=s[a]:delete s[u];for(i=0;i<r;i++)s[i+f]=arguments[i+2];return s.length=c-n+r,o}});var Nf=a((function t(e,r){o(this,t),u(this,"cancelBubble",void 0),u(this,"cancelable",void 0),u(this,"target",void 0),u(this,"currentTarget",void 0),u(this,"preventDefault",void 0),u(this,"stopPropagation",void 0),u(this,"type",void 0),u(this,"timeStamp",void 0),this.cancelBubble=!1,this.cancelable=!1,this.target=null,this.currentTarget=null,this.preventDefault=function(){},this.stopPropagation=function(){},this.type=e,this.timeStamp=Date.now()})),Df=Object.assign,Cf=Object.defineProperty,Ff=R([].concat),Wf=!Df||I((function(){if(ct&&1!==Df({b:1},Df(Cf({},"a",{enumerable:!0,get:function(){Cf(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=Df({},t)[r]||"abcdefghijklmnopqrst"!=Pi(Df({},e)).join("")}))?function(t,e){for(var r=F(t),n=arguments.length,o=1,i=Ge.f,a=xe.f;n>o;)for(var u,s=Ee(arguments[o++]),c=i?Ff(Pi(s),i(s)):Pi(s),f=c.length,l=0;f>l;)u=c[l++],ct&&!bt(a,s,u)||(r[u]=s[u]);return r}:Df;er({target:"Object",stat:!0,forced:Object.assign!==Wf},{assign:Wf});var zf=hi.findIndex,Bf=!0;"findIndex"in[]&&Array(1).findIndex((function(){Bf=!1})),er({target:"Array",proto:!0,forced:Bf},{findIndex:function(t){return zf(this,t,arguments.length>1?arguments[1]:void 0)}}),Vi("findIndex");var Uf=cf.charAt,Gf=ne.set,qf=ne.getterFor("String Iterator");sa(String,"String",(function(t){Gf(this,{type:"String Iterator",string:Pc(t),index:0})}),(function(){var t,e=qf(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=Uf(r,n),e.index+=t.length,{value:t,done:!1})}));var Vf=Ue.f,Yf="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Hf={f:function(t){return Yf&&"Window"==le(t)?function(t){try{return Vf(t)}catch(t){return Ja(Yf)}}(t):Vf(Ae(t))}},Zf=I((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),$f=Object.isExtensible,Kf=I((function(){$f(1)}))||Zf?function(t){return!!ft(t)&&((!Zf||"ArrayBuffer"!=le(t))&&(!$f||$f(t)))}:$f,Qf=!I((function(){return Object.isExtensible(Object.preventExtensions({}))})),Xf=x((function(t){var e=Ct.f,r=!1,n=q("meta"),o=0,i=function(t){e(t,n,{value:{objectID:"O"+o++,weakData:{}}})},a=t.exports={enable:function(){a.enable=function(){},r=!0;var t=Ue.f,e=R([].splice),o={};o[n]=1,t(o).length&&(Ue.f=function(r){for(var o=t(r),i=0,a=o.length;i<a;i++)if(o[i]===n){e(o,i,1);break}return o},er({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Hf.f}))},fastKey:function(t,e){if(!ft(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!z(t,n)){if(!Kf(t))return"F";if(!e)return"E";i(t)}return t[n].objectID},getWeakData:function(t,e){if(!z(t,n)){if(!Kf(t))return!0;if(!e)return!1;i(t)}return t[n].weakData},onFreeze:function(t){return Qf&&r&&Kf(t)&&!z(t,n)&&i(t),t}};$t[n]=!0})),Jf=(Xf.enable,Xf.fastKey,Xf.getWeakData,Xf.onFreeze,function(t,e,r){var n=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),i=n?"set":"add",a=A[t],u=a&&a.prototype,s=a,c={},f=function(t){var e=R(u[t]);se(u,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(o&&!ft(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return o&&!ft(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!ft(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(Je(t,!V(a)||!(o||u.forEach&&!I((function(){(new a).entries().next()})))))s=r.getConstructor(e,t,n,i),Xf.enable();else if(Je(t,!0)){var l=new s,h=l[i](o?{}:-0,1)!=l,p=I((function(){l.has(1)})),v=Lr((function(t){new a(t)})),d=!o&&I((function(){for(var t=new a,e=5;e--;)t[i](e,e);return!t.has(-0)}));v||((s=e((function(t,e){pr(t,u);var r=Bu(new a,t,s);return null!=e&&Ir(e,r[i],{that:r,AS_ENTRIES:n}),r}))).prototype=u,u.constructor=s),(p||d)&&(f("delete"),f("has"),n&&f("get")),(d||h)&&f(i),o&&u.clear&&delete u.clear}return c[t]=s,er({global:!0,forced:s!=a},c),cr(s,t),o||r.setStrong(s,t,n),s}),tl=Xf.getWeakData,el=ne.set,rl=ne.getterFor,nl=hi.find,ol=hi.findIndex,il=R([].splice),al=0,ul=function(t){return t.frozen||(t.frozen=new sl)},sl=function(){this.entries=[]},cl=function(t,e){return nl(t.entries,(function(t){return t[0]===e}))};sl.prototype={get:function(t){var e=cl(this,t);if(e)return e[1]},has:function(t){return!!cl(this,t)},set:function(t,e){var r=cl(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=ol(this.entries,(function(e){return e[0]===t}));return~e&&il(this.entries,e,1),!!~e}};var fl,ll={getConstructor:function(t,e,r,n){var o=t((function(t,o){pr(t,i),el(t,{type:e,id:al++,frozen:void 0}),null!=o&&Ir(o,t[n],{that:t,AS_ENTRIES:r})})),i=o.prototype,a=rl(e),u=function(t,e,r){var n=a(t),o=tl(mt(e),!0);return!0===o?ul(n).set(e,r):o[n.id]=r,t};return nr(i,{delete:function(t){var e=a(this);if(!ft(t))return!1;var r=tl(t);return!0===r?ul(e).delete(t):r&&z(r,e.id)&&delete r[e.id]},has:function(t){var e=a(this);if(!ft(t))return!1;var r=tl(t);return!0===r?ul(e).has(t):r&&z(r,e.id)}}),nr(i,r?{get:function(t){var e=a(this);if(ft(t)){var r=tl(t);return!0===r?ul(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return u(this,t,e)}}:{add:function(t){return u(this,t,!0)}}),o}},hl=ne.enforce,pl=!A.ActiveXObject&&"ActiveXObject"in A,vl=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},dl=Jf("WeakMap",vl,ll);if(Yt&&pl){fl=ll.getConstructor(vl,"WeakMap",!0),Xf.enable();var yl=dl.prototype,gl=R(yl.delete),ml=R(yl.has),xl=R(yl.get),bl=R(yl.set);nr(yl,{delete:function(t){if(ft(t)&&!Kf(t)){var e=hl(this);return e.frozen||(e.frozen=new fl),gl(this,t)||e.frozen.delete(t)}return gl(this,t)},has:function(t){if(ft(t)&&!Kf(t)){var e=hl(this);return e.frozen||(e.frozen=new fl),ml(this,t)||e.frozen.has(t)}return ml(this,t)},get:function(t){if(ft(t)&&!Kf(t)){var e=hl(this);return e.frozen||(e.frozen=new fl),ml(this,t)?xl(this,t):e.frozen.get(t)}return xl(this,t)},set:function(t,e){if(ft(t)&&!Kf(t)){var r=hl(this);r.frozen||(r.frozen=new fl),ml(this,t)?bl(this,t,e):r.frozen.set(t,e)}else bl(this,t,e);return this}})}var wl=at("iterator"),El=at("toStringTag"),Al=ha.values,Ol=function(t,e){if(t){if(t[wl]!==Al)try{Wt(t,wl,Al)}catch(e){t[wl]=Al}if(t[El]||Wt(t,El,e),ri[e])for(var r in ha)if(t[r]!==ha[r])try{Wt(t,r,ha[r])}catch(e){t[r]=ha[r]}}};for(var Tl in ri)Ol(A[Tl]&&A[Tl].prototype,Tl);Ol(ii,"DOMTokenList");var Sl,kl,Il,_l,jl=new WeakMap,Ml=function(){function t(){o(this,t),jl.set(this,{})}return a(t,[{key:"addEventListener",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=jl.get(this);n||(n={}),n[t]||(n[t]=[]),n[t].push(e),jl.set(this,n),r.capture,r.once,r.passive}},{key:"removeEventListener",value:function(t,e){var r=jl.get(this);if(r){var n=r[t];if(n&&n.length>0)for(var o=n.length;o--;o>0)if(n[o]===e){n.splice(o,1);break}}}},{key:"dispatchEvent",value:function(t){var e=jl.get(this)[t.type];if(e){var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=y(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(e);try{for(n.s();!(r=n.n()).done;){(0,r.value)(t)}}catch(t){n.e(t)}finally{n.f()}}}}]),t}(),Pl=function(t){s(r,t);var e=p(r);function r(){var t;return o(this,r),u(l(t=e.call(this)),"className",void 0),u(l(t),"children",void 0),t.className="",t.children=[],t}return a(r,[{key:"setAttribute",value:function(t,e){this[t]=e}},{key:"getAttribute",value:function(t){return this[t]}},{key:"setAttributeNS",value:function(t,e){this[t]=e}},{key:"getAttributeNS",value:function(t){return this[t]}}]),r}(function(t){s(r,t);var e=p(r);function r(){var t;return o(this,r),u(l(t=e.call(this)),"childNodes",void 0),t.childNodes=[],t}return a(r,[{key:"appendChild",value:function(t){this.childNodes.push(t)}},{key:"cloneNode",value:function(){var t=Object.create(this);return Object.assign(t,this),t}},{key:"removeChild",value:function(t){var e=this.childNodes.findIndex((function(e){return e===t}));return e>-1?this.childNodes.splice(e,1):null}}]),r}(Ml));if("undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM){var Ll=my.getSystemInfoSync();Sl=Ll.screenWidth,kl=Ll.screenHeight,Il=Ll.windowWidth,_l=Ll.windowHeight}else{var Rl=tf.innerWidth,Nl=tf.innerHeight;Sl=Rl,kl=Nl,Il=Rl,_l=Nl}var Dl={width:Sl,height:kl,availWidth:Il,availHeight:_l,availLeft:0,availTop:0},Cl=Dl.availWidth,Fl=Dl.availHeight,Wl={style:[]};function zl(t,e){var r,n;"parentNode"in t||(r=0===e?function(){return null}:1===e?function(){return Wl}:function(){return null},Object.defineProperty(t,"parentNode",{enumerable:!0,get:r}));"parentElement"in t||(n=0===e?function(){return null}:1===e?function(){return Wl}:function(){return null},Object.defineProperty(t,"parentElement",{enumerable:!0,get:n}))}function Bl(t){t.style=t.style||{},Object.assign(t.style,{top:"0px",left:"0px",width:Cl+"px",height:Fl+"px",margin:"0px",padding:"0px"})}function Ul(t){"clientLeft"in t||(t.clientLeft=0,t.clientTop=0),"clientWidth"in t||(t.clientWidth=Cl,t.clientHeight=Fl),"getBoundingClientRect"in t||(t.getBoundingClientRect=function(){return{x:0,y:0,top:0,left:0,width:this.clientWidth,height:this.clientHeight,right:this.clientWidth,bottom:this.clientHeight}})}function Gl(t){"offsetLeft"in t||(t.offsetLeft=0,t.offsetTop=0),"offsetWidth"in t||(t.offsetWidth=Cl,t.offsetHeight=Fl)}function ql(t){"scrollLeft"in t||(t.scrollLeft=0,t.scrollTop=0),"scrollWidth"in t||(t.scrollWidth=Cl,t.scrollHeight=Fl)}function Vl(t){var e=function(){return!0};t.classList=[],t.classList.add=e,t.classList.remove=e,t.classList.contains=e,t.classList.toggle=e}function Yl(){}var Hl=function(t){s(r,t);var e=p(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;return o(this,r),u(l(t=e.call(this)),"className",void 0),u(l(t),"children",void 0),u(l(t),"focus",void 0),u(l(t),"blur",void 0),u(l(t),"insertBefore",void 0),u(l(t),"appendChild",void 0),u(l(t),"removeChild",void 0),u(l(t),"remove",void 0),u(l(t),"innerHTML",void 0),u(l(t),"tagName",void 0),t.className="",t.children=[],t.focus=Yl,t.blur=Yl,t.insertBefore=Yl,t.appendChild=Yl,t.removeChild=Yl,t.remove=Yl,t.innerHTML="",t.tagName=n.toUpperCase(),zl(l(t),i),Bl(l(t)),Vl(l(t)),Ul(l(t)),Gl(l(t)),ql(l(t)),t}return a(r)}(Pl),Zl=function(t){s(r,t);var e=p(r);function r(){return o(this,r),e.call(this,"video")}return a(r)}(function(t){s(r,t);var e=p(r);function r(t){return o(this,r),e.call(this,t)}return a(r,[{key:"addTextTrack",value:function(){}},{key:"captureStream",value:function(){}},{key:"fastSeek",value:function(){}},{key:"load",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(){}}]),r}(Hl)),$l={};function Kl(){return $l}var Ql=a((function t(){o(this,t);var e=Kl(),r=e.createImage&&e.createImage()||{};return"tagName"in r||(r.tagName="IMG",r.__proto__=t.prototype),zl(r),Vl(r),Object.assign(r,{addEventListener:function(t,e){r["on".concat(t)]=e.bind(r)},removeEventListener:function(t){r["on".concat(t)]=null}}),r})),Xl={href:"",protocol:"",host:""},Jl=function(t){s(r,t);var e=p(r);function r(){return o(this,r),e.call(this,"body",0)}return a(r,[{key:"addEventListener",value:function(t,e){}},{key:"removeEventListener",value:function(t,e,r){}},{key:"dispatchEvent",value:function(t){}}]),r}(Hl),th=function(t){s(r,t);var e=p(r);function r(){return o(this,r),e.call(this,"html",0)}return a(r,[{key:"addEventListener",value:function(t,e){}},{key:"removeEventListener",value:function(t,e){}},{key:"dispatchEvent",value:function(t){}}]),r}(Hl),eh={},rh={readyState:"complete",visibilityState:"visible",hidden:!1,fullscreen:!0,scripts:[],style:{},location:Xl,ontouchstart:null,ontouchmove:null,ontouchend:null,onvisibilitychange:null,parentNode:null,parentElement:null,head:null,body:null,documentElement:{style:[]},createElement:function(t){return"canvas"===(t=t.toLowerCase())?my.createOffscreenCanvas(1024,128,"2d"):"img"===t?new Ql:"video"===t?new Zl:new Hl(t)},createElementNS:function(t,e){return this.createElement(e)},createTextNode:function(t){return t},getElementById:function(t){return null},getElementsByTagName:function(t){return t=t.toLowerCase(),[]},getElementsByTagNameNS:function(t,e){return this.getElementsByTagName(e)},getElementsByName:function(t){return[]},querySelector:function(t){return null},querySelectorAll:function(t){return[]},addEventListener:function(t,e,r){eh[t]||(eh[t]=[]),eh[t].push(e)},removeEventListener:function(t,e){var r=eh[t];if(r&&r.length>0)for(var n=r.length;n--;n>0)if(r[n]===e){r.splice(n,1);break}},dispatchEvent:function(t){var e=t.type,r=eh[e];if(r)for(var n=0;n<r.length;n++)r[n](t);t.target&&"function"==typeof t.target["on"+e]&&t.target["on"+e](t)},createEvent:function(t){return new Nf(t)}};rh.documentElement=new th,rh.head=new Hl("head"),rh.body=new Jl,nf("match",(function(t,e,r){return[function(e){var r=D(this),n=null==e?void 0:It(e,t);return n?bt(n,e,r):new RegExp(e)[t](Pc(r))},function(t){var n=mt(this),o=Pc(t),i=r(e,n,o);if(i.done)return i.value;if(!n.global)return bf(n,o);var a=n.unicode;n.lastIndex=0;for(var u,s=[],c=0;null!==(u=bf(n,o));){var f=Pc(u[0]);s[c]=f,""===f&&(n.lastIndex=lf(o,Le(n.lastIndex),a)),c++}return 0===c?null:s}]}));var nh,oh,ih=at("isConcatSpreadable"),ah=A.TypeError,uh=J>=51||!I((function(){var t=[];return t[ih]=!1,t.concat()[0]!==t})),sh=bi("concat"),ch=function(t){if(!ft(t))return!1;var e=t[ih];return void 0!==e?!!e:ai(t)};if(er({target:"Array",proto:!0,forced:!uh||!sh},{concat:function(t){var e,r,n,o,i,a=F(this),u=ci(a,0),s=0;for(e=-1,n=arguments.length;e<n;e++)if(ch(i=-1===e?a:arguments[e])){if(s+(o=Re(i))>9007199254740991)throw ah("Maximum allowed index exceeded");for(r=0;r<o;r++,s++)r in i&&mi(u,s,i[r])}else{if(s>=9007199254740991)throw ah("Maximum allowed index exceeded");mi(u,s++,i)}return u.length=s,u}}),"undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM){var fh=my.getSystemInfoSync();nh=fh.system,fh.platform,fh.language}else{var lh={versions:(oh=tf.navigator.userAgent,{trident:oh.indexOf("Trident")>-1,presto:oh.indexOf("Presto")>-1,webKit:oh.indexOf("AppleWebKit")>-1,gecko:oh.indexOf("Gecko")>-1&&-1===oh.indexOf("KHTML"),mobile:!!oh.match(/AppleWebKit.*Mobile.*/),ios:!!oh.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/),android:oh.indexOf("Android")>-1||oh.indexOf("Linux")>-1,iPhone:oh.indexOf("iPhone")>-1,iPad:oh.indexOf("iPad")>-1,webApp:-1===oh.indexOf("Safari"),weixin:oh.indexOf("MicroMessenger")>-1,qq:" qq"===oh.match(/\\sQQ/i)}),language:(tf.navigator.browserLanguage||tf.navigator.language).toLowerCase()};lh.versions.android?"android":lh.versions.trident?"IE":lh.versions.presto?"Opera":lh.versions.webKit?"webKit":lh.versions.gecko?"Firefox":lh.versions.mobile?"mobile":lh.versions.ios?"ios":lh.versions.iPhone?"iPhone":lh.versions.iPad?"ipad":lh.versions.webApp?"webApp":lh.versions.weixin?"weixin":lh.versions.qq&&"qq",nh=tf.navigator.userAgent,lh.language}nh.toLowerCase().indexOf("android");Uu("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}}));var hh=Ct.f,ph=Xf.fastKey,vh=ne.set,dh=ne.getterFor;Jf("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,r,n){var o=t((function(t,o){pr(t,i),vh(t,{type:e,index:Wi(null),first:void 0,last:void 0,size:0}),ct||(t.size=0),null!=o&&Ir(o,t[n],{that:t,AS_ENTRIES:r})})),i=o.prototype,a=dh(e),u=function(t,e,r){var n,o,i=a(t),u=s(t,e);return u?u.value=r:(i.last=u={index:o=ph(e,!0),key:e,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=u),n&&(n.next=u),ct?i.size++:t.size++,"F"!==o&&(i.index[o]=u)),t},s=function(t,e){var r,n=a(t),o=ph(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==e)return r};return nr(i,{clear:function(){for(var t=a(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,ct?t.size=0:this.size=0},delete:function(t){var e=a(this),r=s(this,t);if(r){var n=r.next,o=r.previous;delete e.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),e.first==r&&(e.first=n),e.last==r&&(e.last=o),ct?e.size--:this.size--}return!!r},forEach:function(t){for(var e,r=a(this),n=dr(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!s(this,t)}}),nr(i,r?{get:function(t){var e=s(this,t);return e&&e.value},set:function(t,e){return u(this,0===t?0:t,e)}}:{add:function(t){return u(this,t=0===t?0:t,t)}}),ct&&hh(i,"size",{get:function(){return a(this).size}}),o},setStrong:function(t,e,r){var n=e+" Iterator",o=dh(e),i=dh(n);sa(t,e,(function(t,e){vh(this,{type:n,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),lr(e)}});var yh=R([].join),gh=Ee!=Object,mh=pi("join",",");er({target:"Array",proto:!0,forced:gh||!mh},{join:function(t){return yh(Ae(this),void 0===t?",":t)}});var xh=hi.map,bh=bi("map");er({target:"Array",proto:!0,forced:!bh},{map:function(t){return xh(this,t,arguments.length>1?arguments[1]:void 0)}});var wh=I((function(){Pi(1)}));er({target:"Object",stat:!0,forced:wh},{keys:function(t){return Pi(F(t))}});var Eh=new Map,Ah=new Map,Oh=new Map,Th=function(t){s(r,t);var e=p(r);function r(){var t;return o(this,r),u(l(t=e.call(this)),"onabort",void 0),u(l(t),"onerror",void 0),u(l(t),"onload",void 0),u(l(t),"onloadstart",void 0),u(l(t),"onprogress",void 0),u(l(t),"ontimeout",void 0),u(l(t),"onloadend",void 0),u(l(t),"onreadystatechange",void 0),u(l(t),"readyState",void 0),u(l(t),"response",void 0),u(l(t),"responseText",void 0),u(l(t),"_responseType",void 0),u(l(t),"responseXML",void 0),u(l(t),"status",void 0),u(l(t),"statusText",void 0),u(l(t),"upload",void 0),u(l(t),"withCredentials",void 0),u(l(t),"timeout",void 0),u(l(t),"_url",void 0),u(l(t),"_method",void 0),t.onabort=null,t.onerror=null,t.onload=null,t.onloadstart=null,t.onprogress=null,t.ontimeout=null,t.onloadend=null,t.onreadystatechange=null,t.readyState=0,t.response=null,t.responseText=null,t._responseType="text",t.responseXML=null,t.status=0,t.statusText="",t.upload={},t.withCredentials=!1,Eh.set("requestHeader",{"content-type":"application/x-www-form-urlencoded"}),t}return a(r,[{key:"responseType",set:function(t){this._responseType=t}},{key:"abort",value:function(){var t=Oh.get("requestTask");t&&t.abort()}},{key:"getAllResponseHeaders",value:function(){var t=Ah.get("responseHeader");return Object.keys(t).map((function(e){return"".concat(e,": ").concat(t[e])})).join("\\n")}},{key:"getResponseHeader",value:function(t){return Ah.get("responseHeader")[t]}},{key:"open",value:function(t,e,r){this._method=t,this._url=e}},{key:"overrideMimeType",value:function(){}},{key:"send",value:function(){}},{key:"setRequestHeader",value:function(t,e){var r=Eh.get("requestHeader");r[t]=e,Eh.set("requestHeader",r)}},{key:"addEventListener",value:function(t,e){var r=this;"function"==typeof e&&(this["on"+t]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.target=t.target||r,e.call(r,t)})}},{key:"removeEventListener",value:function(t,e){this["on"+t]===e&&(this["on"+t]=null)}}]),r}(Ml);u(Th,"UNSEND",void 0),u(Th,"OPENED",void 0),u(Th,"HEADERS_RECEIVED",void 0),u(Th,"LOADING",void 0),u(Th,"DONE",void 0),Th.UNSEND=0,Th.OPENED=1,Th.HEADERS_RECEIVED=2,Th.LOADING=3,Th.DONE=4;var Sh="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,kh="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram),Ih=Sh||kh;Ih||tf.XMLHttpRequest,Ih||tf.location;function _h(t){return[t+1&255,t+1>>8&255,t+1>>8>>8&255]}var jh=hi.filter,Mh=bi("filter");function Ph(t,e){var r=t.color;return r&&r.length?r:[1,1,1,1]}function Lh(t,e,r){return 2===r.length?[r[0],r[1],0]:[r[0],r[1],r[2]]}function Rh(t,e){return t.filter?[1]:[0]}function Nh(t,e,r,n){return[e]}er({target:"Array",proto:!0,forced:!Mh},{filter:function(t){return jh(this,t,arguments.length>1?arguments[1]:void 0)}});var Dh=Fh,Ch=Fh;function Fh(t,e,r){r=r||2;var n,o,i,a,u,s,c,f=e&&e.length,l=f?e[0]*r:t.length,h=Wh(t,0,l,r,!0),p=[];if(!h||h.next===h.prev)return p;if(f&&(h=function(t,e,r,n){var o,i,a,u,s,c=[];for(o=0,i=e.length;o<i;o++)a=e[o]*n,u=o<i-1?e[o+1]*n:t.length,(s=Wh(t,a,u,n,!1))===s.next&&(s.steiner=!0),c.push(Kh(s));for(c.sort(Yh),o=0;o<c.length;o++)r=zh(r=Hh(c[o],r),r.next);return r}(t,e,h,r)),t.length>80*r){n=i=t[0],o=a=t[1];for(var v=r;v<l;v+=r)(u=t[v])<n&&(n=u),(s=t[v+1])<o&&(o=s),u>i&&(i=u),s>a&&(a=s);c=0!==(c=Math.max(i-n,a-o))?1/c:0}return Bh(h,p,r,n,o,c),p}function Wh(t,e,r,n,o){var i,a;if(o===cp(t,e,r,n)>0)for(i=e;i<r;i+=n)a=ap(i,t[i],t[i+1],a);else for(i=r-n;i>=e;i-=n)a=ap(i,t[i],t[i+1],a);return a&&tp(a,a.next)&&(up(a),a=a.next),a}function zh(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!tp(n,n.next)&&0!==Jh(n.prev,n,n.next))n=n.next;else{if(up(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function Bh(t,e,r,n,o,i,a){if(t){!a&&i&&function(t,e,r,n){var o=t;do{null===o.z&&(o.z=$h(o.x,o.y,e,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,r,n,o,i,a,u,s,c=1;do{for(r=t,t=null,i=null,a=0;r;){for(a++,n=r,u=0,e=0;e<c&&(u++,n=n.nextZ);e++);for(s=c;u>0||s>0&&n;)0!==u&&(0===s||!n||r.z<=n.z)?(o=r,r=r.nextZ,u--):(o=n,n=n.nextZ,s--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;r=n}i.nextZ=null,c*=2}while(a>1)}(o)}(t,n,o,i);for(var u,s,c=t;t.prev!==t.next;)if(u=t.prev,s=t.next,i?Gh(t,n,o,i):Uh(t))e.push(u.i/r),e.push(t.i/r),e.push(s.i/r),up(t),t=s.next,c=s.next;else if((t=s)===c){a?1===a?Bh(t=qh(zh(t),e,r),e,r,n,o,i,2):2===a&&Vh(t,e,r,n,o,i):Bh(zh(t),e,r,n,o,i,1);break}}}function Uh(t){var e=t.prev,r=t,n=t.next;if(Jh(e,r,n)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(Qh(e.x,e.y,r.x,r.y,n.x,n.y,o.x,o.y)&&Jh(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function Gh(t,e,r,n){var o=t.prev,i=t,a=t.next;if(Jh(o,i,a)>=0)return!1;for(var u=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,s=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,c=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,f=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,l=$h(u,s,e,r,n),h=$h(c,f,e,r,n),p=t.prevZ,v=t.nextZ;p&&p.z>=l&&v&&v.z<=h;){if(p!==t.prev&&p!==t.next&&Qh(o.x,o.y,i.x,i.y,a.x,a.y,p.x,p.y)&&Jh(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==t.prev&&v!==t.next&&Qh(o.x,o.y,i.x,i.y,a.x,a.y,v.x,v.y)&&Jh(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=l;){if(p!==t.prev&&p!==t.next&&Qh(o.x,o.y,i.x,i.y,a.x,a.y,p.x,p.y)&&Jh(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=h;){if(v!==t.prev&&v!==t.next&&Qh(o.x,o.y,i.x,i.y,a.x,a.y,v.x,v.y)&&Jh(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function qh(t,e,r){var n=t;do{var o=n.prev,i=n.next.next;!tp(o,i)&&ep(o,n,n.next,i)&&op(o,i)&&op(i,o)&&(e.push(o.i/r),e.push(n.i/r),e.push(i.i/r),up(n),up(n.next),n=t=i),n=n.next}while(n!==t);return zh(n)}function Vh(t,e,r,n,o,i){var a=t;do{for(var u=a.next.next;u!==a.prev;){if(a.i!==u.i&&Xh(a,u)){var s=ip(a,u);return a=zh(a,a.next),s=zh(s,s.next),Bh(a,e,r,n,o,i),void Bh(s,e,r,n,o,i)}u=u.next}a=a.next}while(a!==t)}function Yh(t,e){return t.x-e.x}function Hh(t,e){var r=function(t,e){var r,n=e,o=t.x,i=t.y,a=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var u=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=o&&u>a){if(a=u,u===o){if(i===n.y)return n;if(i===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(o===a)return r;var s,c=r,f=r.x,l=r.y,h=1/0;n=r;do{o>=n.x&&n.x>=f&&o!==n.x&&Qh(i<l?o:a,i,f,l,i<l?a:o,i,n.x,n.y)&&(s=Math.abs(i-n.y)/(o-n.x),op(n,t)&&(s<h||s===h&&(n.x>r.x||n.x===r.x&&Zh(r,n)))&&(r=n,h=s)),n=n.next}while(n!==c);return r}(t,e);if(!r)return e;var n=ip(r,t),o=zh(r,r.next);return zh(n,n.next),e===r?o:e}function Zh(t,e){return Jh(t.prev,t,e.prev)<0&&Jh(e.next,t,t.next)<0}function $h(t,e,r,n,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Kh(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function Qh(t,e,r,n,o,i,a,u){return(o-a)*(e-u)-(t-a)*(i-u)>=0&&(t-a)*(n-u)-(r-a)*(e-u)>=0&&(r-a)*(i-u)-(o-a)*(n-u)>=0}function Xh(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&ep(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(op(t,e)&&op(e,t)&&function(t,e){var r=t,n=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do{r.y>i!=r.next.y>i&&r.next.y!==r.y&&o<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(Jh(t.prev,t,e.prev)||Jh(t,e.prev,e))||tp(t,e)&&Jh(t.prev,t,t.next)>0&&Jh(e.prev,e,e.next)>0)}function Jh(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function tp(t,e){return t.x===e.x&&t.y===e.y}function ep(t,e,r,n){var o=np(Jh(t,e,r)),i=np(Jh(t,e,n)),a=np(Jh(r,n,t)),u=np(Jh(r,n,e));return o!==i&&a!==u||(!(0!==o||!rp(t,r,e))||(!(0!==i||!rp(t,n,e))||(!(0!==a||!rp(r,t,n))||!(0!==u||!rp(r,e,n)))))}function rp(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function np(t){return t>0?1:t<0?-1:0}function op(t,e){return Jh(t.prev,t,t.next)<0?Jh(t,e,t.next)>=0&&Jh(t,t.prev,e)>=0:Jh(t,e,t.prev)<0||Jh(t,t.next,e)<0}function ip(t,e){var r=new sp(t.i,t.x,t.y),n=new sp(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,r.next=o,o.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function ap(t,e,r,n){var o=new sp(t,e,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function up(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function sp(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function cp(t,e,r,n){for(var o=0,i=e,a=r-n;i<r;i+=n)o+=(t[a]-t[i])*(t[i+1]+t[a+1]),a=i;return o}Fh.deviation=function(t,e,r,n){var o=e&&e.length,i=o?e[0]*r:t.length,a=Math.abs(cp(t,0,i,r));if(o)for(var u=0,s=e.length;u<s;u++){var c=e[u]*r,f=u<s-1?e[u+1]*r:t.length;a-=Math.abs(cp(t,c,f,r))}var l=0;for(u=0;u<n.length;u+=3){var h=n[u]*r,p=n[u+1]*r,v=n[u+2]*r;l+=Math.abs((t[h]-t[v])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[v+1]-t[h+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},Fh.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var a=0;a<e;a++)r.vertices.push(t[o][i][a]);o>0&&(n+=t[o-1].length,r.holes.push(n))}return r},Dh.default=Ch;var fp=R(1..valueOf),lp=R("".replace),hp="[\\t\\n\\v\\f\\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\\u2028\\u2029\\ufeff]",pp=RegExp("^"+hp+hp+"*"),vp=RegExp(hp+hp+"*$"),dp=function(t){return function(e){var r=Pc(D(e));return 1&t&&(r=lp(r,pp,"")),2&t&&(r=lp(r,vp,"")),r}},yp={start:dp(1),end:dp(2),trim:dp(3)},gp=Ue.f,mp=Te.f,xp=Ct.f,bp=yp.trim,wp=A.Number,Ep=wp.prototype,Ap=A.TypeError,Op=R("".slice),Tp=R("".charCodeAt),Sp=function(t){var e=Pt(t,"number");return"bigint"==typeof e?e:kp(e)},kp=function(t){var e,r,n,o,i,a,u,s,c=Pt(t,"number");if(At(c))throw Ap("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=bp(c),43===(e=Tp(c,0))||45===e){if(88===(r=Tp(c,2))||120===r)return NaN}else if(48===e){switch(Tp(c,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(a=(i=Op(c,2)).length,u=0;u<a;u++)if((s=Tp(i,u))<48||s>o)return NaN;return parseInt(i,n)}return+c};if(Je("Number",!wp(" 0o1")||!wp("0b1")||wp("+0x1"))){for(var Ip,_p=function(t){var e=arguments.length<1?0:wp(Sp(t)),r=this;return wt(Ep,r)&&I((function(){fp(r)}))?Bu(Object(e),r,_p):e},jp=ct?gp(wp):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Mp=0;jp.length>Mp;Mp++)z(wp,Ip=jp[Mp])&&!z(_p,Ip)&&xp(_p,Ip,mp(wp,Ip));_p.prototype=Ep,Ep.constructor=_p,se(A,"Number",_p)}var Pp=A.RangeError,Lp=A.RangeError,Rp=A.String,Np=Math.floor,Dp=R((function(t){var e=Pc(D(this)),r="",n=Ie(t);if(n<0||n==1/0)throw Pp("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r})),Cp=R("".slice),Fp=R(1..toFixed),Wp=function(t,e,r){return 0===e?r:e%2==1?Wp(t,e-1,r*t):Wp(t*t,e/2,r)},zp=function(t,e,r){for(var n=-1,o=r;++n<6;)o+=e*t[n],t[n]=o%1e7,o=Np(o/1e7)},Bp=function(t,e){for(var r=6,n=0;--r>=0;)n+=t[r],t[r]=Np(n/e),n=n%e*1e7},Up=function(t){for(var e=6,r="";--e>=0;)if(""!==r||0===e||0!==t[e]){var n=Rp(t[e]);r=""===r?n:r+Dp("0",7-n.length)+n}return r},Gp=I((function(){return"0.000"!==Fp(8e-5,3)||"1"!==Fp(.9,0)||"1.25"!==Fp(1.255,2)||"1000000000000000128"!==Fp(0xde0b6b3a7640080,0)}))||!I((function(){Fp({})}));function qp(t){return"number"==typeof t}function Vp(t){var e=Math.max(Math.min(85.0511287798,t[1]),-85.0511287798),r=Math.PI/180,n=t[0]*r,o=e*r;o=Math.log(Math.tan(Math.PI/4+o/2));return n=(256<<20)*(.5/Math.PI*n+.5),o=(256<<20)*(-.5/Math.PI*o+(r=.5)),[Math.floor(n),Math.floor(o)]}er({target:"Number",proto:!0,forced:Gp},{toFixed:function(t){var e,r,n,o,i=fp(this),a=Ie(t),u=[0,0,0,0,0,0],s="",c="0";if(a<0||a>20)throw Lp("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return Rp(i);if(i<0&&(s="-",i=-i),i>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(i*Wp(2,69,1))-69)<0?i*Wp(2,-e,1):i/Wp(2,e,1),r*=4503599627370496,(e=52-e)>0){for(zp(u,0,r),n=a;n>=7;)zp(u,1e7,0),n-=7;for(zp(u,Wp(10,n,1),0),n=e-1;n>=23;)Bp(u,1<<23),n-=23;Bp(u,1<<n),zp(u,1,1),Bp(u,2),c=Up(u)}else zp(u,0,r),zp(u,1<<-e,0),c=Up(u)+Dp("0",a);return c=a>0?s+((o=c.length)<=a?"0."+Dp("0",a-o)+c:Cp(c,0,o-a)+"."+Cp(c,o-a)):s+c}});var Yp,Hp=/"/g,Zp=R("".replace);er({target:"String",proto:!0,forced:(Yp="sub",I((function(){var t=""[Yp](\'"\');return t!==t.toLowerCase()||t.split(\'"\').length>3})))},{sub:function(){return t="sub",e="",r="",n=Pc(D(this)),o="<"+t,""!==e&&(o+=" "+e+\'="\'+Zp(Pc(r),Hp,"&quot;")+\'"\'),o+">"+n+"</"+t+">";var t,e,r,n,o}});var $p=ue.PROPER,Kp=RegExp.prototype,Qp=Kp.toString,Xp=R(Lc),Jp=I((function(){return"/a/b"!=Qp.call({source:"a",flags:"b"})})),tv=$p&&"toString"!=Qp.name;(Jp||tv)&&se(RegExp.prototype,"toString",(function(){var t=mt(this),e=Pc(t.source),r=t.flags;return"/"+e+"/"+Pc(void 0===r&&wt(Kp,t)&&!("flags"in Kp)?Xp(t):r)}),{unsafe:!0});var ev="undefined"!=typeof Float32Array?Float32Array:Array;function rv(){var t=new ev(2);return ev!=Float32Array&&(t[0]=0,t[1]=0),t}function nv(t,e){var r=new ev(2);return r[0]=t,r[1]=e,r}function ov(t,e){return t[0]=e[0],t[1]=e[1],t}function iv(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function av(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function uv(t,e){var r=e[0],n=e[1],o=r*r+n*n;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t}function sv(t,e){return t[0]*e[0]+t[1]*e[1]}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var cv,fv=av,lv=(cv=rv(),rv()),hv=(rv(),rv()),pv=rv(),vv=rv();function dv(t,e,r,n,o){return iv(t,r,n),uv(t,t),[o/sv(e=nv(-t[1],t[0]),nv(-r[1],r[0])),e]}function yv(t,e){return function(t,e,r){return t[0]=e,t[1]=r,t}(t,-e[1],e[0])}function gv(t,e,r){return fv(t,e,r),uv(t,t),t}function mv(t,e){return t[0]===e[0]&&t[1]===e[1]}var xv=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t),u(this,"complex",void 0),u(this,"join",void 0),u(this,"cap",void 0),u(this,"miterLimit",void 0),u(this,"thickness",void 0),u(this,"normal",void 0),u(this,"lastFlip",-1),u(this,"miter",nv(0,0)),u(this,"started",!1),u(this,"dash",!1),u(this,"totalDistance",0),u(this,"currentIndex",0),this.join=e.join||"miter",this.cap=e.cap||"butt",this.miterLimit=e.miterLimit||10,this.thickness=e.thickness||1,this.dash=e.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0,indexes:[]}}return a(t,[{key:"extrude_gaode2",value:function(t,e){var r=this.complex;if(t.length<=1)return r;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var n=t.length,o=r.startIndex,i=1;i<n;i++){var a,u,s,c=t[i-1];c.push(null!==(a=e[i-1][2])&&void 0!==a?a:0);var f=e[i-1],l=t[i];l.push(null!==(u=e[i][2])&&void 0!==u?u:0);var h=e[i],p=i<t.length-1?[].concat(d(t[i+1]),[null!==(s=e[i+1][2])&&void 0!==s?s:0]):null,v=i<e.length-1?e[i+1]:null;o+=this.segment_gaode2(r,o,c,l,p,f,h,v)}if(this.dash)for(var y=0;y<r.positions.length/6;y++)r.positions[6*y+5]=this.totalDistance;return r.startIndex=r.positions.length/6,r}},{key:"simpleExtrude_gaode2",value:function(t,e){var r=this.complex;if(t.length<=1)return r;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var n=t.length,o=r.startIndex,i=1;i<n;i++){var a,u,s,c=t[i-1];c.push(null!==(a=e[i-1][2])&&void 0!==a?a:0);var f=e[i-1],l=t[i];l.push(null!==(u=e[i][2])&&void 0!==u?u:0);var h=e[i],p=i<t.length-1?[].concat(d(t[i+1]),[null!==(s=e[i+1][2])&&void 0!==s?s:0]):null,v=i<e.length-1?e[i+1]:null;o+=this.simpleSegment(r,o,c,l,p,f,h,v)}if(this.dash)for(var y=0;y<r.positions.length/6;y++)r.positions[6*y+5]=this.totalDistance;return r.startIndex=r.positions.length/6,r}},{key:"extrude",value:function(t){var e=this.complex;if(t.length<=1)return e;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var r=t.length,n=e.startIndex,o=1;o<r;o++){var i=t[o-1],a=t[o],u=o<t.length-1?t[o+1]:null;n+=this.segment(e,n,i,a,u)}if(this.dash)for(var s=0;s<e.positions.length/6;s++)e.positions[6*s+5]=this.totalDistance;return e.startIndex=e.positions.length/6,e}},{key:"simpleExtrude",value:function(t){var e=this.complex;if(t.length<=1)return e;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var r=t.length,n=e.startIndex,o=1;o<r;o++){var i=t[o-1],a=t[o],u=o<t.length-1?t[o+1]:null;n+=this.simpleSegment(e,n,i,a,u)}if(this.dash)for(var s=0;s<e.positions.length/6;s++)e.positions[6*s+5]=this.totalDistance;return e.startIndex=e.positions.length/6,e}},{key:"segment_gaode2",value:function(t,e,r,n,o,i,a,u){var s=0,c=t.indices,f=t.positions,l=t.normals,h="square"===this.cap,p="bevel"===this.join,y=Vp([a[0],a[1]]),g=Vp([i[0],i[1]]);gv(hv,n,r);var m=0;if(this.dash&&(m=this.lineSegmentDistance(y,g),this.totalDistance+=m),this.normal||(this.normal=rv(),yv(this.normal,hv)),!this.started)if(this.started=!0,h){var x=rv(),b=rv();iv(x,this.normal,hv),iv(b,this.normal,hv),l.push(b[0],b[1],0),l.push(x[0],x[1],0),f.push(r[0],r[1],0|r[2],this.totalDistance-m,-this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),f.push(r[0],r[1],0|r[2],this.totalDistance-m,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(f,l,r,this.normal,this.thickness,this.totalDistance-m);if(c.push(e+0,e+1,e+2),o){mv(n,o)&&iv(o,n,uv(o,av(o,n,r))),gv(pv,o,n);var w=v(dv(vv,rv(),hv,pv,this.thickness),2),E=w[0],A=w[1],O=sv(vv,this.normal)<0?-1:1,T=p;if(!T&&"miter"===this.join)E>this.miterLimit&&(T=!0);T?(l.push(this.normal[0],this.normal[1],0),l.push(A[0],A[1],0),f.push(n[0],n[1],0|n[2],this.totalDistance,-this.thickness*O,0|n[2]),this.complex.indexes.push(this.currentIndex),f.push(n[0],n[1],0|n[2],this.totalDistance,this.thickness*O,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,c.push.apply(c,d(this.lastFlip!==-O?[e,e+2,e+3]:[e+2,e+1,e+3])),c.push(e+2,e+3,e+4),yv(lv,pv),ov(this.normal,lv),l.push(this.normal[0],this.normal[1],0),f.push(n[0],n[1],0|n[2],this.totalDistance,-this.thickness*O,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,s+=3):(this.extrusions(f,l,n,A,E,this.totalDistance),c.push.apply(c,d(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),O=-1,ov(this.normal,A),s+=2),this.lastFlip=O}else{if(yv(this.normal,hv),h){var S=rv(),k=rv();fv(k,hv,this.normal),iv(S,hv,this.normal),l.push(k[0],k[1],0),l.push(S[0],S[1],0),f.push(n[0],n[1],0|n[2],this.totalDistance,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),f.push(n[0],n[1],0|n[2],this.totalDistance,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(f,l,n,this.normal,this.thickness,this.totalDistance);c.push.apply(c,d(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),s+=2}return s}},{key:"simpleSegment",value:function(t,e,r,n,o){var i=0,a=t.indices,u=t.positions,s=t.normals,c=Vp([n[0],n[1]]),f=Vp([r[0],r[1]]);gv(hv,c,f);var l=0;if(this.dash&&(l=this.lineSegmentDistance(c,f),this.totalDistance+=l),this.normal||(this.normal=rv(),yv(this.normal,hv)),this.started||(this.started=!0,this.extrusions(u,s,r,this.normal,this.thickness,this.totalDistance-l)),a.push(e+0,e+1,e+2),o){var h=Vp([o[0],o[1]]);mv(c,h)&&iv(h,c,uv(h,av(h,c,f))),gv(pv,h,c);var p=v(dv(vv,rv(),hv,pv,this.thickness),2),y=p[0],g=p[1];sv(vv,this.normal);this.extrusions(u,s,n,g,y,this.totalDistance),a.push.apply(a,d(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),-1,ov(this.normal,g),i+=2,this.lastFlip=-1}else yv(this.normal,hv),this.extrusions(u,s,n,this.normal,this.thickness,this.totalDistance),a.push.apply(a,d(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),i+=2;return i}},{key:"segment",value:function(t,e,r,n,o){var i=0,a=t.indices,u=t.positions,s=t.normals,c="square"===this.cap,f="bevel"===this.join,l=Vp([n[0],n[1]]),h=Vp([r[0],r[1]]);gv(hv,l,h);var p=0;if(this.dash&&(p=this.lineSegmentDistance(l,h),this.totalDistance+=p),this.normal||(this.normal=rv(),yv(this.normal,hv)),!this.started)if(this.started=!0,c){var y=rv(),g=rv();iv(y,this.normal,hv),iv(g,this.normal,hv),s.push(g[0],g[1],0),s.push(y[0],y[1],0),u.push(r[0],r[1],0|r[2],this.totalDistance-p,-this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),u.push(r[0],r[1],0|r[2],this.totalDistance-p,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(u,s,r,this.normal,this.thickness,this.totalDistance-p);if(a.push(e+0,e+1,e+2),o){var m=Vp([o[0],o[1]]);mv(l,m)&&iv(m,l,uv(m,av(m,l,h))),gv(pv,m,l);var x=v(dv(vv,rv(),hv,pv,this.thickness),2),b=x[0],w=x[1],E=sv(vv,this.normal)<0?-1:1,A=f;if(!A&&"miter"===this.join)b>this.miterLimit&&(A=!0);A?(s.push(this.normal[0],this.normal[1],0),s.push(w[0],w[1],0),u.push(n[0],n[1],0|n[2],this.totalDistance,-this.thickness*E,0|n[2]),this.complex.indexes.push(this.currentIndex),u.push(n[0],n[1],0|n[2],this.totalDistance,this.thickness*E,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,a.push.apply(a,d(this.lastFlip!==-E?[e,e+2,e+3]:[e+2,e+1,e+3])),a.push(e+2,e+3,e+4),yv(lv,pv),ov(this.normal,lv),s.push(this.normal[0],this.normal[1],0),u.push(n[0],n[1],0|n[2],this.totalDistance,-this.thickness*E,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,i+=3):(this.extrusions(u,s,n,w,b,this.totalDistance),a.push.apply(a,d(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),E=-1,ov(this.normal,w),i+=2),this.lastFlip=E}else{if(yv(this.normal,hv),c){var O=rv(),T=rv();fv(T,hv,this.normal),iv(O,hv,this.normal),s.push(T[0],T[1],0),s.push(O[0],O[1],0),u.push(n[0],n[1],0|n[2],this.totalDistance,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),u.push(n[0],n[1],0|n[2],this.totalDistance,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(u,s,n,this.normal,this.thickness,this.totalDistance);a.push.apply(a,d(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),i+=2}return i}},{key:"extrusions",value:function(t,e,r,n,o,i){e.push(n[0],n[1],0),e.push(n[0],n[1],0),t.push(r[0],r[1],0|r[2],i,-o,0|r[2]),this.complex.indexes.push(this.currentIndex),t.push(r[0],r[1],0|r[2],i,o,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}},{key:"lineSegmentDistance",value:function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}}]),t}();function bv(t){var e=t.coordinates,r=t.originCoordinates,n=t.version,o=new xv({dash:!0,join:"bevel"});if("GAODE2.x"===n){var i=e;Array.isArray(i[0][0])||(i=[e]);var a=r;Array.isArray(a[0][0])||(a=[r]);for(var u=0;u<i.length;u++){var s=i[u],c=a[u];o.extrude_gaode2(s,c)}}else{var f=e;f[0]&&!Array.isArray(f[0][0])&&(f=[e]),f.forEach((function(t){o.extrude(t)}))}var l=o.complex;return{vertices:l.positions,indices:l.indices,normals:l.normals,indexes:l.indexes,size:6}}function wv(t){var e=function(t){if(qp(t[0]))return t;if(qp(t[0][0]))throw new Error("\u5f53\u524d\u6570\u636e\u4e0d\u652f\u6301\u6807\u6ce8");if(qp(t[0][0][0])){var e=0,r=0,n=0;return t.forEach((function(t){t.forEach((function(t){e+=t[0],r+=t[1],n++}))})),[e/n,r/n,0]}throw new Error("\u5f53\u524d\u6570\u636e\u4e0d\u652f\u6301\u6807\u6ce8")}(t.coordinates);return{vertices:[].concat(d(e),d(e),d(e),d(e)),indices:[0,1,2,2,3,0],size:e.length}}function Ev(t){var e=t.coordinates,r=Dh.flatten(e),n=r.vertices,o=r.dimensions,i=r.holes;return{indices:Dh(n,i,o),vertices:n,size:o}}var Av=function(){var t=n(regeneratorRuntime.mark((function t(e){var r,n,o,i,a,u,s,c,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.descriptors,n=e.features,o=e.enablePicking,i=e.iconMap,a={a_Color:Ph,a_Position:Lh,filter:Rh,a_vertexId:Nh,a_PickingColor:function(t,e){var r=t.id;return o?_h(r):[0,0,0]},a_DistanceAndIndex:function(t,e,r,n,o,i){return void 0===i?[r[3],10]:[r[3],i]},a_Total_Distance:function(t,e,r,n){return[r[5]]},a_Size:function(t,e,r,n){var o=t.size,i=void 0===o?1:o;return Array.isArray(i)?[i[0],i[1]]:[i,0]},a_Normal:function(t,e,r,n,o){return o},a_Miter:function(t,e,r,n){return[r[4]]},a_iconMapUV:function(t,e,r,n){var o=t.texture,a=i[o]||{x:0,y:0};return[a.x,a.y]}},u={sizePerElement:0,elements:[]},s=0,c=[],f=3,n.forEach((function(t,e){var n=bv(t),o=n.indices,i=n.vertices,l=n.normals,h=n.size,p=n.indexes;o.forEach((function(t){c.push(t+s)})),f=h;var v=i.length/h;u.sizePerElement=f,u.elements.push({featureIdx:e,vertices:i,normals:l,offset:s}),s+=v;for(var y=function(n){var o=(null==l?void 0:l.slice(3*n,3*n+3))||[],u=i.slice(n*h,n*h+h),s=0;p&&void 0!==p[n]&&(s=p[n]),r.forEach((function(r,i){var c;r&&a[r.name]&&(c=r.buffer.data).push.apply(c,d(a[r.name](t,e,u,n,o,s)))}))},g=0;g<v;g++)y(g)})),t.abrupt("return",{descriptors:r,featureLayout:u,indices:c});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ov={pointFill:function(){var t=n(regeneratorRuntime.mark((function t(e){var r,n,o,i,a,u,s,c,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.descriptors,n=e.features,o=e.enablePicking,i=e.shape2d,a={a_Color:Ph,a_Position:Lh,filter:Rh,a_vertexId:Nh,a_PickingColor:function(t,e){var r=t.id;return o?_h(r):[0,0,0]},a_Shape:function(t,e,r,n){var o=t.shape,a=void 0===o?2:o;return[i.indexOf(a)]},a_Extrude:function(t,e,r,n){var o=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],i=n%4*3;return[o[i],o[i+1],o[i+2]]},a_Size:function(t,e,r,n){var o=t.size,i=void 0===o?5:o;return Array.isArray(i)?[i[0]]:[i]}},u={sizePerElement:0,elements:[]},s=0,c=[],f=3,n.forEach((function(t,e){var n=wv(t),o=n.indices,i=n.vertices,l=n.normals,h=n.size;o.forEach((function(t){c.push(t+s)})),f=h;var p=i.length/h;u.sizePerElement=f,u.elements.push({featureIdx:e,vertices:i,normals:l,offset:s}),s+=p;for(var v=function(n){var o=[],u=i.slice(n*h,n*h+h);r.forEach((function(r,i){var s;r&&a[r.name]&&(s=r.buffer.data).push.apply(s,d(a[r.name](t,e,u,n,o,0)))}))},y=0;y<p;y++)v(y)})),t.abrupt("return",{descriptors:r,featureLayout:u,indices:c});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),line:Av,polygonFill:function(){var t=n(regeneratorRuntime.mark((function t(e){var r,n,o,i,a,u,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.descriptors,n=e.features,o=e.enablePicking,i={a_Color:Ph,a_Position:Lh,filter:Rh,a_vertexId:Nh,a_PickingColor:function(t,e){var r=t.id;return o?_h(r):[0,0,0]}},a={sizePerElement:0,elements:[]},u=0,s=[],c=3,n.forEach((function(t,e){var n=Ev(t),o=n.indices,f=n.vertices,l=n.normals,h=n.size;o.forEach((function(t){s.push(t+u)})),c=h;var p=f.length/h;a.sizePerElement=c,a.elements.push({featureIdx:e,vertices:f,normals:l,offset:u}),u+=p;for(var v=function(n){var o=[],a=f.slice(n*h,n*h+h);r.forEach((function(r,u){var s;r&&i[r.name]&&(s=r.buffer.data).push.apply(s,d(i[r.name](t,e,a,n,o,0)))}))},y=0;y<p;y++)v(y)})),t.abrupt("return",{descriptors:r,featureLayout:a,indices:s});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Tv=function(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Ov);function Sv(t){return kv.apply(this,arguments)}function kv(){return(kv=n(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.workerType,n=e.data,!Tv[r]){t.next=3;break}return t.abrupt("return",Tv[r](n));case 3:return t.abrupt("return",Promise.reject(new Error(\'Worker with type "\'.concat(r,\'" non-existent.\'))));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return ti(Sv),t.WorkerSourceMap=Ov,t.createWorker=ti,t.worker=Sv,t}({});\n',_i="l7-worker",Ei=3,xi=!0;function wi(e){gi(_i,e)}function Si(){var e=yi(_i);if(!e)throw new Error("get worker failed by workerName: ".concat(_i,"."));return e}function Oi(e,t){return Ci.apply(this,arguments)}function Ci(){return Ci=nn()(sn.a.mark((function e(t,n){var r,i,o,a,s;return sn.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Si(),i=Or.getWorkerFarm({maxConcurrency:Ei,reuseWorkers:xi}),o=i.getWorkerPool({name:_i,source:r}),e.next=5,o.startJob(_i,(function(e,t,n){return e.done(n)}));case 5:return a=e.sent,a.postMessage("process",{input:{workerType:t,data:n}}),e.next=9,a.result;case 9:return s=e.sent,e.abrupt("return",s.result);case 11:case"end":return e.stop()}}),e)}))),Ci.apply(this,arguments)}wi(bi);var Ai,Pi,ki={BACK:1029,FRONT:1028};function Mi(e){switch(e){case"GAODE1.x":return ki.BACK;case"GAODE2.x":return ki.BACK;case"MAPBOX":return ki.FRONT;case"SIMPLE":return ki.FRONT;case"GLOBEL":return ki.BACK;case"L7MAP":return ki.FRONT;default:return ki.FRONT}}function Ti(e,t){if(!e||!e.length)throw new Error("url is not allowed to be empty");var n=t.x,r=t.y,i=t.z;if(Array.isArray(e)){var o=Math.abs(n+r)%e.length;e=e[o]}return e.replace(/\{x\}/g,n.toString()).replace(/\{y\}/g,r.toString()).replace(/\{z\}/g,i.toString()).replace(/\{-y\}/g,(Math.pow(2,i)-r-1).toString())}function Li(e,t){void 0===t&&(t={});var n=Number(e[0]),r=Number(e[1]),i=Number(e[2]),o=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[n,r],s=[n,o],l=[i,o],u=[i,r];return Object(Sn["h"])([[a,u,l,s,a]],t.properties,{bbox:e,id:t.id})}(function(e){e["Realtime"]="realtime",e["Overlap"]="overlap",e["Replace"]="replace"})(Ai||(Ai={})),function(e){e["Loading"]="Loading",e["Loaded"]="Loaded",e["Failure"]="Failure",e["Cancelled"]="Cancelled"}(Pi||(Pi={}));var Ii,Di=0,Ri=1,Ni=2;function ji(e){e.forEach((function(e){e.isCurrent&&(e.isVisible=e.isLoaded)}))}function Fi(e){e.forEach((function(e){e.properties.state=Di})),e.forEach((function(e){e.isCurrent&&!Ui(e)&&zi(e)})),e.forEach((function(e){e.isVisible=Boolean(e.properties.state&Ni)}))}function Bi(e){e.forEach((function(e){e.properties.state=Di})),e.forEach((function(e){e.isCurrent&&Ui(e)}));var t=e.slice().sort((function(e,t){return e.z-t.z}));t.forEach((function(e){e.isVisible=Boolean(e.properties.state&Ni),e.children.length&&(e.isVisible||e.properties.state&Ri)?e.children.forEach((function(e){e.properties.state=Ri})):e.isCurrent&&zi(e)}))}function Ui(e){while(e){if(e.isLoaded)return e.properties.state|=Ni,!0;e=e.parent}return!1}function zi(e){e.children.forEach((function(e){e.isLoaded?e.properties.state|=Ni:zi(e)}))}var Hi=[-1/0,-1/0,1/0,1/0],Vi=.2,Gi=5,Wi=(Ii={},C()(Ii,Ai.Realtime,ji),C()(Ii,Ai.Overlap,Fi),C()(Ii,Ai.Replace,Bi),Ii),qi=function(){};function Yi(e,t,n){var r=Math.floor((e+180)/360*Math.pow(2,n)),i=Math.floor((1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,n));return[r,i]}function Xi(e,t,n){var r=e/Math.pow(2,n)*360-180,i=Math.PI-2*Math.PI*t/Math.pow(2,n),o=180/Math.PI*Math.atan(.5*(Math.exp(i)-Math.exp(-i)));return[r,o]}var Ki=function(e,t,n){var r=Xi(e,t,n),i=a()(r,2),o=i[0],s=i[1],l=Xi(e+1,t+1,n),u=a()(l,2),c=u[0],f=u[1];return[o,f,c,s]};function Zi(e){var t=e.zoom,n=e.latLonBounds,r=e.maxZoom,i=void 0===r?1/0:r,o=e.minZoom,s=void 0===o?0:o,l=e.zoomOffset,u=void 0===l?0:l,c=e.extent,f=void 0===c?Hi:c,p=Math.ceil(t)+u;if(Number.isFinite(s)&&p<s)return[];Number.isFinite(i)&&p>i&&(p=i);for(var d=a()(n,4),h=d[0],v=d[1],m=d[2],g=d[3],y=[Math.max(h,f[0]),Math.max(v,f[1]),Math.min(m,f[2]),Math.min(g,f[3])],b=[],_=Yi(y[0],y[1],p),E=a()(_,2),x=E[0],w=E[1],S=Yi(y[2],y[3],p),O=a()(S,2),C=O[0],A=O[1],P=x;P<=C;P++)for(var k=A;k<=w;k++)b.push({x:P,y:k,z:p});var M=(C+x)/2,T=(w+A)/2,L=function(e,t){return Math.abs(e-M)+Math.abs(t-T)};return b.sort((function(e,t){return L(e.x,e.y)-L(t.x,t.y)})),b}var Qi=function(e,t,n){var r=Math.pow(2,n),i=r-1,o=r,a=e,s=t;return a<0?a+=o:a>i&&(a%=o),{warpX:a,warpY:s}},Ji=function(){function e(t){p()(this,e),C()(this,"x",void 0),C()(this,"y",void 0),C()(this,"z",void 0),C()(this,"tileSize",256),C()(this,"isVisible",!1),C()(this,"isCurrent",!1),C()(this,"isVisibleChange",!1),C()(this,"parentLayerIDList",[]),C()(this,"layerIDList",[]),C()(this,"parent",null),C()(this,"children",[]),C()(this,"data",null),C()(this,"properties",{}),C()(this,"xhrCancel",void 0),C()(this,"loadStatus",void 0),C()(this,"abortController",void 0),C()(this,"loadDataId",0);var n=t.x,r=t.y,i=t.z,o=t.tileSize;this.x=n,this.y=r,this.z=i,this.tileSize=o}return h()(e,[{key:"isLoading",get:function(){return this.loadStatus===Pi.Loading}},{key:"isLoaded",get:function(){return this.loadStatus===Pi.Loaded}},{key:"isFailure",get:function(){return this.loadStatus===Pi.Failure}},{key:"isCancelled",get:function(){return this.loadStatus===Pi.Cancelled}},{key:"isDone",get:function(){return[Pi.Loaded,Pi.Cancelled,Pi.Failure].includes(this.loadStatus)}},{key:"bounds",get:function(){return Ki(this.x,this.y,this.z)}},{key:"bboxPolygon",get:function(){var e=a()(this.bounds,4),t=e[0],n=e[1],r=e[2],i=e[3],o=[(r-t)/2,(i-n)/2],s=Li(this.bounds,{properties:{key:this.key,bbox:this.bounds,center:o,meta:"\n      ".concat(this.key,"\n      ")}});return s}},{key:"key",get:function(){var e="".concat(this.x,",").concat(this.y,",").concat(this.z);return e}},{key:"loadData",value:function(){var e=nn()(sn.a.mark((function e(t){var n,r,i,o,a,s,l,u,c,f,p,d,h,v,m,g;return sn.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.getData,r=t.onLoad,i=t.onError,this.loadDataId++,o=this.loadDataId,this.isLoading&&this.abortLoad(),this.abortController=new AbortController,this.loadStatus=Pi.Loading,a=null,e.prev=7,l=this.x,u=this.y,c=this.z,f=this.bounds,p=this.tileSize,d=Qi(l,u,c),h=d.warpX,v=d.warpY,m=this.abortController.signal,g={x:h,y:v,z:c,bounds:f,tileSize:p,signal:m},e.next=14,n(g,this);case 14:a=e.sent,e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](7),s=e.t0;case 20:if(o===this.loadDataId){e.next=22;break}return e.abrupt("return");case 22:if(!this.isCancelled||a){e.next=24;break}return e.abrupt("return");case 24:if(!s&&a){e.next=28;break}return this.loadStatus=Pi.Failure,i(s,this),e.abrupt("return");case 28:this.loadStatus=Pi.Loaded,this.data=a,r(this);case 31:case"end":return e.stop()}}),e,this,[[7,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reloadData",value:function(e){this.isLoading&&this.abortLoad(),this.loadData(e)}},{key:"abortLoad",value:function(){this.isLoaded||this.isCancelled||(this.loadStatus=Pi.Cancelled,this.abortController.abort(),this.xhrCancel&&this.xhrCancel())}}]),e}(),$i=n("uhBA"),eo=n.n($i),to=function(e,t){var n=Fn(e),r=Nn(n,t),i=900,o=85.0511287798065,a=[Math.max(r[0][0],-i),Math.max(r[0][1],-o),Math.min(r[1][0],i),Math.min(r[1][1],o)];return a},no=function(e,t){var n=Fn(e),r=Fn(t),i=jn(n,r);return i};function ro(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=io(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function io(e,t){if(e){if("string"===typeof e)return oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oo(e,t):void 0}}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function so(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lo(e){var t=uo();return function(){var n,r=S()(e);if(t){var i=S()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x()(this,n)}}function uo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var co=function(e){_()(n,e);var t=lo(n);function n(e){var r;return p()(this,n),r=t.call(this),C()(k()(r),"currentTiles",[]),C()(k()(r),"options",void 0),C()(k()(r),"cacheTiles",new Map),C()(k()(r),"lastViewStates",void 0),C()(k()(r),"onTileLoad",(function(e){r.emit("tile-loaded",e),r.updateTileVisible()})),C()(k()(r),"onTileError",(function(e,t){r.emit("tile-error",{error:e,tile:t}),r.updateTileVisible()})),C()(k()(r),"onTileUnload",(function(e){r.emit("tile-unload",e)})),r.options={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,extent:Hi,getTileData:qi,updateStrategy:Ai.Replace},r.updateOptions(e),r}return h()(n,[{key:"isLoaded",get:function(){return this.currentTiles.every((function(e){return e.isDone}))}},{key:"tiles",get:function(){var e=Array.from(this.cacheTiles.values()).sort((function(e,t){return e.z-t.z}));return e}},{key:"updateOptions",value:function(e){var t=void 0===e.minZoom?this.options.minZoom:Math.ceil(e.minZoom),n=void 0===e.maxZoom?this.options.maxZoom:Math.floor(e.maxZoom);this.options=so(so(so({},this.options),e),{},{minZoom:t,maxZoom:n})}},{key:"update",value:function(e,t){var n=this,r=Math.ceil(e);if(!this.lastViewStates||this.lastViewStates.zoom!==r||!no(this.lastViewStates.latLonBoundsBuffer,t)){var i=to(t,Vi);this.lastViewStates={zoom:r,latLonBounds:t,latLonBoundsBuffer:i};var o=!1,a=this.getTileIndices(r,i);this.currentTiles=a.map((function(e){var t=e.x,r=e.y,i=e.z,a=n.getTile(t,r,i);if(a){var s,l,u=(null===(s=a)||void 0===s?void 0:s.isFailure)||(null===(l=a)||void 0===l?void 0:l.isCancelled);return u&&a.loadData({getData:n.options.getTileData,onLoad:n.onTileLoad,onError:n.onTileError}),a}return a=n.createTile(t,r,i),o=!0,a})),o&&(this.resizeCacheTiles(),this.rebuildTileTree()),this.updateTileVisible(),this.pruneRequests()}}},{key:"reloadAll",value:function(){var e,t=ro(this.cacheTiles);try{for(t.s();!(e=t.n()).done;){var n=a()(e.value,2),r=n[0],i=n[1];this.currentTiles.includes(i)||(this.cacheTiles["delete"](r),this.onTileUnload(i)),this.onTileUnload(i),i.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError})}}catch(o){t.e(o)}finally{t.f()}}},{key:"pruneRequests",value:function(){var e,t=[],n=ro(this.cacheTiles.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;r.isLoading&&(r.isCurrent||r.isVisible||t.push(r))}}catch(o){n.e(o)}finally{n.f()}while(t.length>0){var i=t.shift();i.abortLoad()}}},{key:"destroy",value:function(){var e,t=ro(this.cacheTiles.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.isLoading&&n.abortLoad()}}catch(r){t.e(r)}finally{t.f()}this.cacheTiles.clear(),this.currentTiles=[],this.removeAllListeners()}},{key:"updateTileVisible",value:function(){var e,t=this.options.updateStrategy,n=new Map,r=ro(this.cacheTiles.values());try{for(r.s();!(e=r.n()).done;){var i=e.value;n.set(i.key,i.isVisible),i.isCurrent=!1,i.isVisible=!1}}catch(c){r.e(c)}finally{r.f()}var o,a=ro(this.currentTiles);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.isCurrent=!0,s.isVisible=!0}}catch(c){a.e(c)}finally{a.f()}var l=Array.from(this.cacheTiles.values());"function"===typeof t?t(l):Wi[t](l);var u=!1;Array.from(this.cacheTiles.values()).forEach((function(e){e.isVisible!==n.get(e.key)?(e.isVisibleChange=!0,u=!0):e.isVisibleChange=!1})),u&&this.emit("tile-update")}},{key:"getTileIndices",value:function(e,t){var n=this.options,r=n.tileSize,i=n.extent,o=n.zoomOffset,a=Math.floor(this.options.maxZoom),s=Math.ceil(this.options.minZoom),l=Zi({maxZoom:a,minZoom:s,zoomOffset:o,tileSize:r,zoom:e,latLonBounds:t,extent:i});return l}},{key:"getTileId",value:function(e,t,n){var r="".concat(e,",").concat(t,",").concat(n);return r}},{key:"getTile",value:function(e,t,n){var r=this.getTileId(e,t,n),i=this.cacheTiles.get(r);return i}},{key:"createTile",value:function(e,t,n){var r=this.getTileId(e,t,n),i=new Ji({x:e,y:t,z:n,tileSize:this.options.tileSize});return this.cacheTiles.set(r,i),i.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}),i}},{key:"resizeCacheTiles",value:function(){var e=Gi*this.currentTiles.length,t=this.cacheTiles.size>e;if(t){var n,r=ro(this.cacheTiles);try{for(r.s();!(n=r.n()).done;){var i=a()(n.value,2),o=i[0],s=i[1];if(s.isVisible||this.currentTiles.includes(s)||(this.cacheTiles["delete"](o),this.onTileUnload(s)),this.cacheTiles.size<=e)break}}catch(l){r.e(l)}finally{r.f()}}}},{key:"rebuildTileTree",value:function(){var e,t=ro(this.cacheTiles.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parent=null,n.children.length=0}}catch(s){t.e(s)}finally{t.f()}var r,i=ro(this.cacheTiles.values());try{for(i.s();!(r=i.n()).done;){var o=r.value,a=this.getNearestAncestor(o.x,o.y,o.z);o.parent=a,null!==a&&void 0!==a&&a.children&&a.children.push(o)}}catch(s){i.e(s)}finally{i.f()}}},{key:"getNearestAncestor",value:function(e,t,n){while(n>this.options.minZoom){e=Math.floor(e/2),t=Math.floor(t/2),n-=1;var r=this.getTile(e,t,n);if(r)return r}return null}}]),n}(eo.a)},HfwV:function(e,t,n){"use strict";var r=n("xnQO");function i(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(o,this,t)}function o(e,t,n){1==e?t.id=n.readVarint():2==e?a(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function a(e,t){var n=e.readVarint()+e.pos;while(e.pos<n){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}function s(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=l(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}function l(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)t=e[i],n=e[a],r+=(n.x-t.x)*(t.y+n.y);return r}e.exports=i,i.types=["Unknown","Point","LineString","Polygon"],i.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;var t,n=e.readVarint()+e.pos,i=1,o=0,a=0,s=0,l=[];while(e.pos<n){if(o<=0){var u=e.readVarint();i=7&u,o=u>>3}if(o--,1===i||2===i)a+=e.readSVarint(),s+=e.readSVarint(),1===i&&(t&&l.push(t),t=[]),t.push(new r(a,s));else{if(7!==i)throw new Error("unknown command "+i);t&&t.push(t[0].clone())}}return t&&l.push(t),l},i.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;while(e.pos<t){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)i+=e.readSVarint(),o+=e.readSVarint(),i<a&&(a=i),i>s&&(s=i),o<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},i.prototype.toGeoJSON=function(e,t,n){var r,o,a=this.extent*Math.pow(2,n),l=this.extent*e,u=this.extent*t,c=this.loadGeometry(),f=i.types[this.type];function p(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+u)/a;e[t]=[360*(n.x+l)/a-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(r=0;r<c.length;r++)d[r]=c[r][0];c=d,p(c);break;case 2:for(r=0;r<c.length;r++)p(c[r]);break;case 3:for(c=s(c),r=0;r<c.length;r++)for(o=0;o<c[r].length;o++)p(c[r][o]);break}1===c.length?c=c[0]:f="Multi"+f;var h={type:"Feature",geometry:{type:f,coordinates:c},properties:this.properties};return"id"in this&&(h.id=this.id),h}},HiXI:function(e,t,n){"use strict";var r=n("I+eb"),i=n("WKiH").end,o=n("yNLB"),a=o("trimEnd"),s=a?function(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,forced:a},{trimEnd:s,trimRight:s})},HnFk:function(e,t,n){"use strict";n("Qc07"),n("EQzx"),n("uT7z"),n("/yl3"),n("puMV"),n("+gpb");var r=n("cebF");n.o(r,"DrawControl")&&n.d(t,"DrawControl",(function(){return r["DrawControl"]})),n.o(r,"getParentByClassName")&&n.d(t,"getParentByClassName",(function(){return r["getParentByClassName"]}));n("I7So");var i=n("3OiW");n.d(t,"getParentByClassName",(function(){return i["a"]}))},HpQ9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var r=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=r},HsHA:function(e,t){var n=Math.log;e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:n(1+e)}},Hvzi:function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},"I+eb":function(e,t,n){var r=n("2oRo"),i=n("Bs8V").f,o=n("kRJp"),a=n("busE"),s=n("zk60"),l=n("6JNq"),u=n("lMq5");e.exports=function(e,t){var n,c,f,p,d,h,v=e.target,m=e.global,g=e.stat;if(c=m?r:g?r[v]||s(v,{}):(r[v]||{}).prototype,c)for(f in t){if(d=t[f],e.noTargetGet?(h=i(c,f),p=h&&h.value):p=c[f],n=u(m?f:v+(g?".":"#")+f,e.forced),!n&&void 0!==p){if(typeof d===typeof p)continue;l(d,p)}(e.sham||p&&p.sham)&&o(d,"sham",!0),a(c,f,d,e)}}},I1Gw:function(e,t,n){var r=n("dG/n");r("split")},I5JD:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return c}));var r=n("k1fw"),i={draw:"\u5355\u51fb\u7ed8\u5236\u70b9",pointHover:"\u53ef\u62d6\u62fd\u8c03\u6574\u70b9\u4f4d\u7f6e",pointDrag:null},o={draw:"\u5355\u51fb\u7ed8\u5236\u9996\u4e2a\u8282\u70b9",pointHover:"\u53ef\u62d6\u62fd\u8c03\u6574\u8282\u70b9\u4f4d\u7f6e",pointDrag:null,lineHover:"\u53ef\u62d6\u62fd\u8c03\u6574\u7ebf\u4f4d\u7f6e",lineDrag:null,midPointHover:"\u5355\u51fb\u5728\u8be5\u4f4d\u7f6e\u65b0\u589e\u8282\u70b9",drawFinish:"\u5355\u51fb\u7ee7\u7eed\u7ed8\u5236\uff0c\u53cc\u51fb\u7ed3\u675f\u7ed8\u5236"},a={draw:"\u5355\u51fb\u7ed8\u5236\u9996\u4e2a\u8282\u70b9",drawContinue:"\u5355\u51fb\u7ee7\u7eed\u7ed8\u5236",drawFinish:"\u5355\u51fb\u7ee7\u7eed\u7ed8\u5236\uff0c\u53cc\u51fb\u7ed3\u675f\u7ed8\u5236",midPointHover:"\u5355\u51fb\u5728\u8be5\u4f4d\u7f6e\u65b0\u589e\u8282\u70b9",pointHover:"\u53ef\u62d6\u62fd\u8c03\u6574\u8282\u70b9\u4f4d\u7f6e",pointDrag:null,lineHover:"\u53ef\u62d6\u62fd\u8c03\u6574\u9762\u4f4d\u7f6e",lineDrag:null,polygonHover:"\u53ef\u62d6\u62fd\u8c03\u6574\u9762\u4f4d\u7f6e",polygonDrag:null},s=Object(r["a"])(Object(r["a"])({},a),{},{draw:"\u5355\u51fb\u7ed8\u5236\u9996\u4e2a\u8282\u70b9",drawFinish:"\u5355\u51fb\u7ed3\u675f\u7ed8\u5236"}),l={draw:"\u62d6\u62fd\u5f00\u59cb\u7ed8\u5236",drawFinish:"\u677e\u5f00\u9f20\u6807\u7ed3\u675f\u7ed8\u5236"},u={lineHover:"\u53ef\u62d6\u62fd\u8c03\u6574\u77e9\u5f62\u4f4d\u7f6e",polygonHover:"\u53ef\u62d6\u62fd\u8c03\u6574\u77e9\u5f62\u4f4d\u7f6e"},c={lineHover:"\u53ef\u62d6\u62fd\u8c03\u6574\u5706\u4f4d\u7f6e",polygonHover:"\u53ef\u62d6\u62fd\u8c03\u6574\u5706\u4f4d\u7f6e"}},I7So:function(e,t,n){},I8vh:function(e,t,n){var r=n("ppGB"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},I9xj:function(e,t,n){var r=n("1E5z");r(Math,"Math",!0)},"IL/d":function(e,t,n){"use strict";var r=n("iqeF"),i=n("67WC").exportTypedArrayStaticMethod,o=n("oHi+");i("from",o,r)},IOcx:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a}));var r={};n.r(r),n.d(r,"create",(function(){return c})),n.d(r,"clone",(function(){return f})),n.d(r,"copy",(function(){return p})),n.d(r,"fromValues",(function(){return d})),n.d(r,"set",(function(){return h})),n.d(r,"identity",(function(){return v})),n.d(r,"transpose",(function(){return m})),n.d(r,"invert",(function(){return g})),n.d(r,"adjoint",(function(){return y})),n.d(r,"determinant",(function(){return b})),n.d(r,"multiply",(function(){return _})),n.d(r,"translate",(function(){return E})),n.d(r,"scale",(function(){return x})),n.d(r,"rotate",(function(){return w})),n.d(r,"rotateX",(function(){return S})),n.d(r,"rotateY",(function(){return O})),n.d(r,"rotateZ",(function(){return C})),n.d(r,"fromTranslation",(function(){return A})),n.d(r,"fromScaling",(function(){return P})),n.d(r,"fromRotation",(function(){return k})),n.d(r,"fromXRotation",(function(){return M})),n.d(r,"fromYRotation",(function(){return T})),n.d(r,"fromZRotation",(function(){return L})),n.d(r,"fromRotationTranslation",(function(){return I})),n.d(r,"fromQuat2",(function(){return D})),n.d(r,"getTranslation",(function(){return R})),n.d(r,"getScaling",(function(){return N})),n.d(r,"getRotation",(function(){return j})),n.d(r,"fromRotationTranslationScale",(function(){return F})),n.d(r,"fromRotationTranslationScaleOrigin",(function(){return B})),n.d(r,"fromQuat",(function(){return U})),n.d(r,"frustum",(function(){return z})),n.d(r,"perspectiveNO",(function(){return H})),n.d(r,"perspective",(function(){return V})),n.d(r,"perspectiveZO",(function(){return G})),n.d(r,"perspectiveFromFieldOfView",(function(){return W})),n.d(r,"orthoNO",(function(){return q})),n.d(r,"ortho",(function(){return Y})),n.d(r,"orthoZO",(function(){return X})),n.d(r,"lookAt",(function(){return K})),n.d(r,"targetTo",(function(){return Z})),n.d(r,"str",(function(){return Q})),n.d(r,"frob",(function(){return J})),n.d(r,"add",(function(){return $})),n.d(r,"subtract",(function(){return ee})),n.d(r,"multiplyScalar",(function(){return te})),n.d(r,"multiplyScalarAndAdd",(function(){return ne})),n.d(r,"exactEquals",(function(){return re})),n.d(r,"equals",(function(){return ie})),n.d(r,"mul",(function(){return oe})),n.d(r,"sub",(function(){return ae}));var i={};n.r(i),n.d(i,"create",(function(){return se})),n.d(i,"clone",(function(){return le})),n.d(i,"fromValues",(function(){return ue})),n.d(i,"copy",(function(){return ce})),n.d(i,"set",(function(){return fe})),n.d(i,"add",(function(){return pe})),n.d(i,"subtract",(function(){return de})),n.d(i,"multiply",(function(){return he})),n.d(i,"divide",(function(){return ve})),n.d(i,"ceil",(function(){return me})),n.d(i,"floor",(function(){return ge})),n.d(i,"min",(function(){return ye})),n.d(i,"max",(function(){return be})),n.d(i,"round",(function(){return _e})),n.d(i,"scale",(function(){return Ee})),n.d(i,"scaleAndAdd",(function(){return xe})),n.d(i,"distance",(function(){return we})),n.d(i,"squaredDistance",(function(){return Se})),n.d(i,"length",(function(){return Oe})),n.d(i,"squaredLength",(function(){return Ce})),n.d(i,"negate",(function(){return Ae})),n.d(i,"inverse",(function(){return Pe})),n.d(i,"normalize",(function(){return ke})),n.d(i,"dot",(function(){return Me})),n.d(i,"cross",(function(){return Te})),n.d(i,"lerp",(function(){return Le})),n.d(i,"random",(function(){return Ie})),n.d(i,"transformMat2",(function(){return De})),n.d(i,"transformMat2d",(function(){return Re})),n.d(i,"transformMat3",(function(){return Ne})),n.d(i,"transformMat4",(function(){return je})),n.d(i,"rotate",(function(){return Fe})),n.d(i,"angle",(function(){return Be})),n.d(i,"zero",(function(){return Ue})),n.d(i,"str",(function(){return ze})),n.d(i,"exactEquals",(function(){return He})),n.d(i,"equals",(function(){return Ve})),n.d(i,"len",(function(){return Ge})),n.d(i,"sub",(function(){return We})),n.d(i,"mul",(function(){return qe})),n.d(i,"div",(function(){return Ye})),n.d(i,"dist",(function(){return Xe})),n.d(i,"sqrDist",(function(){return Ke})),n.d(i,"sqrLen",(function(){return Ze})),n.d(i,"forEach",(function(){return Qe}));var o={};n.r(o),n.d(o,"create",(function(){return Je})),n.d(o,"clone",(function(){return $e})),n.d(o,"length",(function(){return et})),n.d(o,"fromValues",(function(){return tt})),n.d(o,"copy",(function(){return nt})),n.d(o,"set",(function(){return rt})),n.d(o,"add",(function(){return it})),n.d(o,"subtract",(function(){return ot})),n.d(o,"multiply",(function(){return at})),n.d(o,"divide",(function(){return st})),n.d(o,"ceil",(function(){return lt})),n.d(o,"floor",(function(){return ut})),n.d(o,"min",(function(){return ct})),n.d(o,"max",(function(){return ft})),n.d(o,"round",(function(){return pt})),n.d(o,"scale",(function(){return dt})),n.d(o,"scaleAndAdd",(function(){return ht})),n.d(o,"distance",(function(){return vt})),n.d(o,"squaredDistance",(function(){return mt})),n.d(o,"squaredLength",(function(){return gt})),n.d(o,"negate",(function(){return yt})),n.d(o,"inverse",(function(){return bt})),n.d(o,"normalize",(function(){return _t})),n.d(o,"dot",(function(){return Et})),n.d(o,"cross",(function(){return xt})),n.d(o,"lerp",(function(){return wt})),n.d(o,"hermite",(function(){return St})),n.d(o,"bezier",(function(){return Ot})),n.d(o,"random",(function(){return Ct})),n.d(o,"transformMat4",(function(){return At})),n.d(o,"transformMat3",(function(){return Pt})),n.d(o,"transformQuat",(function(){return kt})),n.d(o,"rotateX",(function(){return Mt})),n.d(o,"rotateY",(function(){return Tt})),n.d(o,"rotateZ",(function(){return Lt})),n.d(o,"angle",(function(){return It})),n.d(o,"zero",(function(){return Dt})),n.d(o,"str",(function(){return Rt})),n.d(o,"exactEquals",(function(){return Nt})),n.d(o,"equals",(function(){return jt})),n.d(o,"sub",(function(){return Ft})),n.d(o,"mul",(function(){return Bt})),n.d(o,"div",(function(){return Ut})),n.d(o,"dist",(function(){return zt})),n.d(o,"sqrDist",(function(){return Ht})),n.d(o,"len",(function(){return Vt})),n.d(o,"sqrLen",(function(){return Gt})),n.d(o,"forEach",(function(){return Wt}));var a={};n.r(a),n.d(a,"create",(function(){return qt})),n.d(a,"clone",(function(){return Yt})),n.d(a,"fromValues",(function(){return Xt})),n.d(a,"copy",(function(){return Kt})),n.d(a,"set",(function(){return Zt})),n.d(a,"add",(function(){return Qt})),n.d(a,"subtract",(function(){return Jt})),n.d(a,"multiply",(function(){return $t})),n.d(a,"divide",(function(){return en})),n.d(a,"ceil",(function(){return tn})),n.d(a,"floor",(function(){return nn})),n.d(a,"min",(function(){return rn})),n.d(a,"max",(function(){return on})),n.d(a,"round",(function(){return an})),n.d(a,"scale",(function(){return sn})),n.d(a,"scaleAndAdd",(function(){return ln})),n.d(a,"distance",(function(){return un})),n.d(a,"squaredDistance",(function(){return cn})),n.d(a,"length",(function(){return fn})),n.d(a,"squaredLength",(function(){return pn})),n.d(a,"negate",(function(){return dn})),n.d(a,"inverse",(function(){return hn})),n.d(a,"normalize",(function(){return vn})),n.d(a,"dot",(function(){return mn})),n.d(a,"cross",(function(){return gn})),n.d(a,"lerp",(function(){return yn})),n.d(a,"random",(function(){return bn})),n.d(a,"transformMat4",(function(){return _n})),n.d(a,"transformQuat",(function(){return En})),n.d(a,"zero",(function(){return xn})),n.d(a,"str",(function(){return wn})),n.d(a,"exactEquals",(function(){return Sn})),n.d(a,"equals",(function(){return On})),n.d(a,"sub",(function(){return Cn})),n.d(a,"mul",(function(){return An})),n.d(a,"div",(function(){return Pn})),n.d(a,"dist",(function(){return kn})),n.d(a,"sqrDist",(function(){return Mn})),n.d(a,"len",(function(){return Tn})),n.d(a,"sqrLen",(function(){return Ln})),n.d(a,"forEach",(function(){return In}));var s=1e-6,l="undefined"!==typeof Float32Array?Float32Array:Array,u=Math.random;Math.PI;function c(){var e=new l(16);return l!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function f(e){var t=new l(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function p(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function d(e,t,n,r,i,o,a,s,u,c,f,p,d,h,v,m){var g=new l(16);return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=i,g[5]=o,g[6]=a,g[7]=s,g[8]=u,g[9]=c,g[10]=f,g[11]=p,g[12]=d,g[13]=h,g[14]=v,g[15]=m,g}function h(e,t,n,r,i,o,a,s,l,u,c,f,p,d,h,v,m){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=l,e[8]=u,e[9]=c,e[10]=f,e[11]=p,e[12]=d,e[13]=h,e[14]=v,e[15]=m,e}function v(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function m(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function g(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],p=t[10],d=t[11],h=t[12],v=t[13],m=t[14],g=t[15],y=n*s-r*a,b=n*l-i*a,_=n*u-o*a,E=r*l-i*s,x=r*u-o*s,w=i*u-o*l,S=c*v-f*h,O=c*m-p*h,C=c*g-d*h,A=f*m-p*v,P=f*g-d*v,k=p*g-d*m,M=y*k-b*P+_*A+E*C-x*O+w*S;return M?(M=1/M,e[0]=(s*k-l*P+u*A)*M,e[1]=(i*P-r*k-o*A)*M,e[2]=(v*w-m*x+g*E)*M,e[3]=(p*x-f*w-d*E)*M,e[4]=(l*C-a*k-u*O)*M,e[5]=(n*k-i*C+o*O)*M,e[6]=(m*_-h*w-g*b)*M,e[7]=(c*w-p*_+d*b)*M,e[8]=(a*P-s*C+u*S)*M,e[9]=(r*C-n*P-o*S)*M,e[10]=(h*x-v*_+g*y)*M,e[11]=(f*_-c*x-d*y)*M,e[12]=(s*O-a*A-l*S)*M,e[13]=(n*A-r*O+i*S)*M,e[14]=(v*b-h*E-m*y)*M,e[15]=(c*E-f*b+p*y)*M,e):null}function y(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],p=t[10],d=t[11],h=t[12],v=t[13],m=t[14],g=t[15];return e[0]=s*(p*g-d*m)-f*(l*g-u*m)+v*(l*d-u*p),e[1]=-(r*(p*g-d*m)-f*(i*g-o*m)+v*(i*d-o*p)),e[2]=r*(l*g-u*m)-s*(i*g-o*m)+v*(i*u-o*l),e[3]=-(r*(l*d-u*p)-s*(i*d-o*p)+f*(i*u-o*l)),e[4]=-(a*(p*g-d*m)-c*(l*g-u*m)+h*(l*d-u*p)),e[5]=n*(p*g-d*m)-c*(i*g-o*m)+h*(i*d-o*p),e[6]=-(n*(l*g-u*m)-a*(i*g-o*m)+h*(i*u-o*l)),e[7]=n*(l*d-u*p)-a*(i*d-o*p)+c*(i*u-o*l),e[8]=a*(f*g-d*v)-c*(s*g-u*v)+h*(s*d-u*f),e[9]=-(n*(f*g-d*v)-c*(r*g-o*v)+h*(r*d-o*f)),e[10]=n*(s*g-u*v)-a*(r*g-o*v)+h*(r*u-o*s),e[11]=-(n*(s*d-u*f)-a*(r*d-o*f)+c*(r*u-o*s)),e[12]=-(a*(f*m-p*v)-c*(s*m-l*v)+h*(s*p-l*f)),e[13]=n*(f*m-p*v)-c*(r*m-i*v)+h*(r*p-i*f),e[14]=-(n*(s*m-l*v)-a*(r*m-i*v)+h*(r*l-i*s)),e[15]=n*(s*p-l*f)-a*(r*p-i*f)+c*(r*l-i*s),e}function b(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],p=e[11],d=e[12],h=e[13],v=e[14],m=e[15],g=t*a-n*o,y=t*s-r*o,b=t*l-i*o,_=n*s-r*a,E=n*l-i*a,x=r*l-i*s,w=u*h-c*d,S=u*v-f*d,O=u*m-p*d,C=c*v-f*h,A=c*m-p*h,P=f*m-p*v;return g*P-y*A+b*C+_*O-E*S+x*w}function _(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],p=t[9],d=t[10],h=t[11],v=t[12],m=t[13],g=t[14],y=t[15],b=n[0],_=n[1],E=n[2],x=n[3];return e[0]=b*r+_*s+E*f+x*v,e[1]=b*i+_*l+E*p+x*m,e[2]=b*o+_*u+E*d+x*g,e[3]=b*a+_*c+E*h+x*y,b=n[4],_=n[5],E=n[6],x=n[7],e[4]=b*r+_*s+E*f+x*v,e[5]=b*i+_*l+E*p+x*m,e[6]=b*o+_*u+E*d+x*g,e[7]=b*a+_*c+E*h+x*y,b=n[8],_=n[9],E=n[10],x=n[11],e[8]=b*r+_*s+E*f+x*v,e[9]=b*i+_*l+E*p+x*m,e[10]=b*o+_*u+E*d+x*g,e[11]=b*a+_*c+E*h+x*y,b=n[12],_=n[13],E=n[14],x=n[15],e[12]=b*r+_*s+E*f+x*v,e[13]=b*i+_*l+E*p+x*m,e[14]=b*o+_*u+E*d+x*g,e[15]=b*a+_*c+E*h+x*y,e}function E(e,t,n){var r,i,o,a,s,l,u,c,f,p,d,h,v=n[0],m=n[1],g=n[2];return t===e?(e[12]=t[0]*v+t[4]*m+t[8]*g+t[12],e[13]=t[1]*v+t[5]*m+t[9]*g+t[13],e[14]=t[2]*v+t[6]*m+t[10]*g+t[14],e[15]=t[3]*v+t[7]*m+t[11]*g+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],p=t[9],d=t[10],h=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=f,e[9]=p,e[10]=d,e[11]=h,e[12]=r*v+s*m+f*g+t[12],e[13]=i*v+l*m+p*g+t[13],e[14]=o*v+u*m+d*g+t[14],e[15]=a*v+c*m+h*g+t[15]),e}function x(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function w(e,t,n,r){var i,o,a,l,u,c,f,p,d,h,v,m,g,y,b,_,E,x,w,S,O,C,A,P,k=r[0],M=r[1],T=r[2],L=Math.hypot(k,M,T);return L<s?null:(L=1/L,k*=L,M*=L,T*=L,i=Math.sin(n),o=Math.cos(n),a=1-o,l=t[0],u=t[1],c=t[2],f=t[3],p=t[4],d=t[5],h=t[6],v=t[7],m=t[8],g=t[9],y=t[10],b=t[11],_=k*k*a+o,E=M*k*a+T*i,x=T*k*a-M*i,w=k*M*a-T*i,S=M*M*a+o,O=T*M*a+k*i,C=k*T*a+M*i,A=M*T*a-k*i,P=T*T*a+o,e[0]=l*_+p*E+m*x,e[1]=u*_+d*E+g*x,e[2]=c*_+h*E+y*x,e[3]=f*_+v*E+b*x,e[4]=l*w+p*S+m*O,e[5]=u*w+d*S+g*O,e[6]=c*w+h*S+y*O,e[7]=f*w+v*S+b*O,e[8]=l*C+p*A+m*P,e[9]=u*C+d*A+g*P,e[10]=c*C+h*A+y*P,e[11]=f*C+v*A+b*P,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function S(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=a*i+c*r,e[6]=s*i+f*r,e[7]=l*i+p*r,e[8]=u*i-o*r,e[9]=c*i-a*r,e[10]=f*i-s*r,e[11]=p*i-l*r,e}function O(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[8],c=t[9],f=t[10],p=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-u*r,e[1]=a*i-c*r,e[2]=s*i-f*r,e[3]=l*i-p*r,e[8]=o*r+u*i,e[9]=a*r+c*i,e[10]=s*r+f*i,e[11]=l*r+p*i,e}function C(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],f=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=a*i+c*r,e[2]=s*i+f*r,e[3]=l*i+p*r,e[4]=u*i-o*r,e[5]=c*i-a*r,e[6]=f*i-s*r,e[7]=p*i-l*r,e}function A(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function P(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function k(e,t,n){var r,i,o,a=n[0],l=n[1],u=n[2],c=Math.hypot(a,l,u);return c<s?null:(c=1/c,a*=c,l*=c,u*=c,r=Math.sin(t),i=Math.cos(t),o=1-i,e[0]=a*a*o+i,e[1]=l*a*o+u*r,e[2]=u*a*o-l*r,e[3]=0,e[4]=a*l*o-u*r,e[5]=l*l*o+i,e[6]=u*l*o+a*r,e[7]=0,e[8]=a*u*o+l*r,e[9]=l*u*o-a*r,e[10]=u*u*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function M(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function T(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function L(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function I(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=r+r,l=i+i,u=o+o,c=r*s,f=r*l,p=r*u,d=i*l,h=i*u,v=o*u,m=a*s,g=a*l,y=a*u;return e[0]=1-(d+v),e[1]=f+y,e[2]=p-g,e[3]=0,e[4]=f-y,e[5]=1-(c+v),e[6]=h+m,e[7]=0,e[8]=p+g,e[9]=h-m,e[10]=1-(c+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function D(e,t){var n=new l(3),r=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],p=r*r+i*i+o*o+a*a;return p>0?(n[0]=2*(s*a+f*r+u*o-c*i)/p,n[1]=2*(u*a+f*i+c*r-s*o)/p,n[2]=2*(c*a+f*o+s*i-u*r)/p):(n[0]=2*(s*a+f*r+u*o-c*i),n[1]=2*(u*a+f*i+c*r-s*o),n[2]=2*(c*a+f*o+s*i-u*r)),I(e,t,n),e}function R(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function N(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],s=t[6],l=t[8],u=t[9],c=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(l,u,c),e}function j(e,t){var n=new l(3);N(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],a=t[0]*r,s=t[1]*i,u=t[2]*o,c=t[4]*r,f=t[5]*i,p=t[6]*o,d=t[8]*r,h=t[9]*i,v=t[10]*o,m=a+f+v,g=0;return m>0?(g=2*Math.sqrt(m+1),e[3]=.25*g,e[0]=(p-h)/g,e[1]=(d-u)/g,e[2]=(s-c)/g):a>f&&a>v?(g=2*Math.sqrt(1+a-f-v),e[3]=(p-h)/g,e[0]=.25*g,e[1]=(s+c)/g,e[2]=(d+u)/g):f>v?(g=2*Math.sqrt(1+f-a-v),e[3]=(d-u)/g,e[0]=(s+c)/g,e[1]=.25*g,e[2]=(p+h)/g):(g=2*Math.sqrt(1+v-a-f),e[3]=(s-c)/g,e[0]=(d+u)/g,e[1]=(p+h)/g,e[2]=.25*g),e}function F(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],l=i+i,u=o+o,c=a+a,f=i*l,p=i*u,d=i*c,h=o*u,v=o*c,m=a*c,g=s*l,y=s*u,b=s*c,_=r[0],E=r[1],x=r[2];return e[0]=(1-(h+m))*_,e[1]=(p+b)*_,e[2]=(d-y)*_,e[3]=0,e[4]=(p-b)*E,e[5]=(1-(f+m))*E,e[6]=(v+g)*E,e[7]=0,e[8]=(d+y)*x,e[9]=(v-g)*x,e[10]=(1-(f+h))*x,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function B(e,t,n,r,i){var o=t[0],a=t[1],s=t[2],l=t[3],u=o+o,c=a+a,f=s+s,p=o*u,d=o*c,h=o*f,v=a*c,m=a*f,g=s*f,y=l*u,b=l*c,_=l*f,E=r[0],x=r[1],w=r[2],S=i[0],O=i[1],C=i[2],A=(1-(v+g))*E,P=(d+_)*E,k=(h-b)*E,M=(d-_)*x,T=(1-(p+g))*x,L=(m+y)*x,I=(h+b)*w,D=(m-y)*w,R=(1-(p+v))*w;return e[0]=A,e[1]=P,e[2]=k,e[3]=0,e[4]=M,e[5]=T,e[6]=L,e[7]=0,e[8]=I,e[9]=D,e[10]=R,e[11]=0,e[12]=n[0]+S-(A*S+M*O+I*C),e[13]=n[1]+O-(P*S+T*O+D*C),e[14]=n[2]+C-(k*S+L*O+R*C),e[15]=1,e}function U(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,f=r*s,p=i*a,d=i*s,h=i*l,v=o*a,m=o*s,g=o*l;return e[0]=1-f-h,e[1]=c+g,e[2]=p-m,e[3]=0,e[4]=c-g,e[5]=1-u-h,e[6]=d+v,e[7]=0,e[8]=p+m,e[9]=d-v,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function z(e,t,n,r,i,o,a){var s=1/(n-t),l=1/(i-r),u=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*l,e[10]=(a+o)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*u,e[15]=0,e}function H(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}Math.hypot||(Math.hypot=function(){var e=0,t=arguments.length;while(t--)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var V=H;function G(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=i*o,e[14]=i*r*o):(e[10]=-1,e[14]=-r),e}function W(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(i+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(a-s)*l*.5,e[9]=(i-o)*u*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function q(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(a+o)*u,e[15]=1,e}var Y=q;function X(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=o*u,e[15]=1,e}function K(e,t,n,r){var i,o,a,l,u,c,f,p,d,h,m=t[0],g=t[1],y=t[2],b=r[0],_=r[1],E=r[2],x=n[0],w=n[1],S=n[2];return Math.abs(m-x)<s&&Math.abs(g-w)<s&&Math.abs(y-S)<s?v(e):(f=m-x,p=g-w,d=y-S,h=1/Math.hypot(f,p,d),f*=h,p*=h,d*=h,i=_*d-E*p,o=E*f-b*d,a=b*p-_*f,h=Math.hypot(i,o,a),h?(h=1/h,i*=h,o*=h,a*=h):(i=0,o=0,a=0),l=p*a-d*o,u=d*i-f*a,c=f*o-p*i,h=Math.hypot(l,u,c),h?(h=1/h,l*=h,u*=h,c*=h):(l=0,u=0,c=0),e[0]=i,e[1]=l,e[2]=f,e[3]=0,e[4]=o,e[5]=u,e[6]=p,e[7]=0,e[8]=a,e[9]=c,e[10]=d,e[11]=0,e[12]=-(i*m+o*g+a*y),e[13]=-(l*m+u*g+c*y),e[14]=-(f*m+p*g+d*y),e[15]=1,e)}function Z(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=r[0],l=r[1],u=r[2],c=i-n[0],f=o-n[1],p=a-n[2],d=c*c+f*f+p*p;d>0&&(d=1/Math.sqrt(d),c*=d,f*=d,p*=d);var h=l*p-u*f,v=u*c-s*p,m=s*f-l*c;return d=h*h+v*v+m*m,d>0&&(d=1/Math.sqrt(d),h*=d,v*=d,m*=d),e[0]=h,e[1]=v,e[2]=m,e[3]=0,e[4]=f*m-p*v,e[5]=p*h-c*m,e[6]=c*v-f*h,e[7]=0,e[8]=c,e[9]=f,e[10]=p,e[11]=0,e[12]=i,e[13]=o,e[14]=a,e[15]=1,e}function Q(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function J(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function $(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function ee(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function te(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function ne(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function re(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function ie(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],f=e[8],p=e[9],d=e[10],h=e[11],v=e[12],m=e[13],g=e[14],y=e[15],b=t[0],_=t[1],E=t[2],x=t[3],w=t[4],S=t[5],O=t[6],C=t[7],A=t[8],P=t[9],k=t[10],M=t[11],T=t[12],L=t[13],I=t[14],D=t[15];return Math.abs(n-b)<=s*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-_)<=s*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-E)<=s*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(o-x)<=s*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-w)<=s*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(l-S)<=s*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(u-O)<=s*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(c-C)<=s*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(f-A)<=s*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(p-P)<=s*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(d-k)<=s*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(h-M)<=s*Math.max(1,Math.abs(h),Math.abs(M))&&Math.abs(v-T)<=s*Math.max(1,Math.abs(v),Math.abs(T))&&Math.abs(m-L)<=s*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(g-I)<=s*Math.max(1,Math.abs(g),Math.abs(I))&&Math.abs(y-D)<=s*Math.max(1,Math.abs(y),Math.abs(D))}var oe=_,ae=ee;function se(){var e=new l(2);return l!=Float32Array&&(e[0]=0,e[1]=0),e}function le(e){var t=new l(2);return t[0]=e[0],t[1]=e[1],t}function ue(e,t){var n=new l(2);return n[0]=e,n[1]=t,n}function ce(e,t){return e[0]=t[0],e[1]=t[1],e}function fe(e,t,n){return e[0]=t,e[1]=n,e}function pe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function de(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function he(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function ve(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function me(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function ge(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function ye(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function be(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function _e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function Ee(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function xe(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function we(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function Se(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function Oe(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function Ce(e){var t=e[0],n=e[1];return t*t+n*n}function Ae(e,t){return e[0]=-t[0],e[1]=-t[1],e}function Pe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function ke(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function Me(e,t){return e[0]*t[0]+e[1]*t[1]}function Te(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function Le(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}function Ie(e,t){t=t||1;var n=2*u()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function De(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function Re(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function Ne(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function je(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}function Fe(e,t,n,r){var i=t[0]-n[0],o=t[1]-n[1],a=Math.sin(r),s=Math.cos(r);return e[0]=i*s-o*a+n[0],e[1]=i*a+o*s+n[1],e}function Be(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function Ue(e){return e[0]=0,e[1]=0,e}function ze(e){return"vec2("+e[0]+", "+e[1]+")"}function He(e,t){return e[0]===t[0]&&e[1]===t[1]}function Ve(e,t){var n=e[0],r=e[1],i=t[0],o=t[1];return Math.abs(n-i)<=s*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=s*Math.max(1,Math.abs(r),Math.abs(o))}var Ge=Oe,We=de,qe=he,Ye=ve,Xe=we,Ke=Se,Ze=Ce,Qe=function(){var e=se();return function(t,n,r,i,o,a){var s,l;for(n||(n=2),r||(r=0),l=i?Math.min(i*n+r,t.length):t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],o(e,e,a),t[s]=e[0],t[s+1]=e[1];return t}}();function Je(){var e=new l(3);return l!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function $e(e){var t=new l(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function et(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function tt(e,t,n){var r=new l(3);return r[0]=e,r[1]=t,r[2]=n,r}function nt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function rt(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function it(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function ot(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function at(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function st(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function lt(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function ut(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function ct(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function ft(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function pt(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function dt(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function ht(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function vt(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)}function mt(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function gt(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function yt(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function bt(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function _t(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function Et(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function xt(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a,e}function wt(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}function St(e,t,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,u=a*(o-1),c=a*(3-2*o);return e[0]=t[0]*s+n[0]*l+r[0]*u+i[0]*c,e[1]=t[1]*s+n[1]*l+r[1]*u+i[1]*c,e[2]=t[2]*s+n[2]*l+r[2]*u+i[2]*c,e}function Ot(e,t,n,r,i,o){var a=1-o,s=a*a,l=o*o,u=s*a,c=3*o*s,f=3*l*a,p=l*o;return e[0]=t[0]*u+n[0]*c+r[0]*f+i[0]*p,e[1]=t[1]*u+n[1]*c+r[1]*f+i[1]*p,e[2]=t[2]*u+n[2]*c+r[2]*f+i[2]*p,e}function Ct(e,t){t=t||1;var n=2*u()*Math.PI,r=2*u()-1,i=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=r*t,e}function At(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function Pt(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function kt(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],l=t[1],u=t[2],c=i*u-o*l,f=o*s-r*u,p=r*l-i*s,d=i*p-o*f,h=o*c-r*p,v=r*f-i*c,m=2*a;return c*=m,f*=m,p*=m,d*=2,h*=2,v*=2,e[0]=s+c+d,e[1]=l+f+h,e[2]=u+p+v,e}function Mt(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function Tt(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function Lt(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function It(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],s=t[2],l=Math.sqrt(n*n+r*r+i*i),u=Math.sqrt(o*o+a*a+s*s),c=l*u,f=c&&Et(e,t)/c;return Math.acos(Math.min(Math.max(f,-1),1))}function Dt(e){return e[0]=0,e[1]=0,e[2]=0,e}function Rt(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Nt(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function jt(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],l=t[2];return Math.abs(n-o)<=s*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=s*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-l)<=s*Math.max(1,Math.abs(i),Math.abs(l))}var Ft=ot,Bt=at,Ut=st,zt=vt,Ht=mt,Vt=et,Gt=gt,Wt=function(){var e=Je();return function(t,n,r,i,o,a){var s,l;for(n||(n=3),r||(r=0),l=i?Math.min(i*n+r,t.length):t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}();function qt(){var e=new l(4);return l!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Yt(e){var t=new l(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Xt(e,t,n,r){var i=new l(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function Kt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Zt(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function Qt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function Jt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function $t(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function en(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function tn(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function nn(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function rn(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function on(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function an(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function sn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function ln(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function un(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.hypot(n,r,i,o)}function cn(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+i*i+o*o}function fn(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.hypot(t,n,r,i)}function pn(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function dn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function hn(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function vn(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a,e}function mn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function gn(e,t,n,r){var i=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],a=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],l=n[1]*r[3]-n[3]*r[1],u=n[2]*r[3]-n[3]*r[2],c=t[0],f=t[1],p=t[2],d=t[3];return e[0]=f*u-p*l+d*s,e[1]=-c*u+p*a-d*o,e[2]=c*l-f*a+d*i,e[3]=-c*s+f*o-p*i,e}function yn(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e}function bn(e,t){var n,r,i,o,a,s;t=t||1;do{n=2*u()-1,r=2*u()-1,a=n*n+r*r}while(a>=1);do{i=2*u()-1,o=2*u()-1,s=i*i+o*o}while(s>=1);var l=Math.sqrt((1-a)/s);return e[0]=t*n,e[1]=t*r,e[2]=t*i*l,e[3]=t*o*l,e}function _n(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}function En(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*o-l*i,f=u*i+l*r-a*o,p=u*o+a*i-s*r,d=-a*r-s*i-l*o;return e[0]=c*u+d*-a+f*-l-p*-s,e[1]=f*u+d*-s+p*-a-c*-l,e[2]=p*u+d*-l+c*-s-f*-a,e[3]=t[3],e}function xn(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function wn(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function Sn(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function On(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t[0],l=t[1],u=t[2],c=t[3];return Math.abs(n-a)<=s*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-l)<=s*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-u)<=s*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=s*Math.max(1,Math.abs(o),Math.abs(c))}var Cn=Jt,An=$t,Pn=en,kn=un,Mn=cn,Tn=fn,Ln=pn,In=function(){var e=qt();return function(t,n,r,i,o,a){var s,l;for(n||(n=4),r||(r=0),l=i?Math.min(i*n+r,t.length):t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}()},IPyQ:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("Q7Ls"),s=n("S2ku"),l=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u8bf4\u660e"},i.a.createElement(o["AnchorLink"],{to:"#\u8bf4\u660e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u8bf4\u660e"),i.a.createElement("p",null,"\u7528\u4e8e\u5c55\u793a\u7ebf\u6bb5\u771f\u5b9e\u7684\u8ddd\u79bb\u957f\u5ea6"),i.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/rms_2591f5/afts/img/A*phM1SKhldcQAAAAAAAAAAAAAARQnAQ",width:300}),i.a.createElement("h2",{id:"\u793a\u4f8b"},i.a.createElement(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b"),i.a.createElement("p",null,"\u8ddd\u79bb\u6587\u672c\u914d\u7f6e\u662f\u5728\u5404\u4e2a Draw \u7684 distanceOptions \u5b57\u6bb5\u6765\u8fdb\u884c\u914d\u7f6e\u7684"),i.a.createElement(a["a"],{code:"import { DrawPoint } from '@antv/l7-draw';\n\nconst drawer = new DrawPoint(scene, {\n  distanceOptions: {\n    showTotalDistance: false,\n    showDashDistance: true,\n    format: (meters) => {\n      if (meters >= 1000) {\n        return +(meters / 1000).toFixed(2) + 'km';\n      } else {\n        return +meters.toFixed(2) + 'm';\n      }\n    },\n  },\n  // \u4f20false\u8868\u793a\u4e0d\u5c55\u793a\u6587\u672c\uff0c\u9ed8\u8ba4\u4e5f\u4e3afalse\n  // distanceOptions: false,\n});",lang:"tsx"}),i.a.createElement("h2",{id:"\u914d\u7f6e"},i.a.createElement(o["AnchorLink"],{to:"#\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u914d\u7f6e"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"showTotalDistance"),i.a.createElement("td",null,"\u662f\u5426\u5c55\u793a\u7ebf\u6bb5\u603b\u957f\u5ea6\uff0c\u4f46\u662f\u5206\u6bb5\u8ddd\u79bb\u4f1a\u4e0d\u5c55\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"false"))),i.a.createElement("tr",null,i.a.createElement("td",null,"showDashDistance"),i.a.createElement("td",null,"\u662f\u5426\u5c55\u793a\u865a\u7ebf\u7684\u957f\u5ea6"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true"))),i.a.createElement("tr",null,i.a.createElement("td",null,"format"),i.a.createElement("td",null,"\u683c\u5f0f\u5316\u8ddd\u79bb\u957f\u5ea6\u7684\u51fd\u6570"),i.a.createElement("td",null,i.a.createElement("code",null,"(meters: number) => string")),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"#%E7%A4%BA%E4%BE%8B"},"\u89c1\u793a\u4f8b\u4e2d\u7684 format \u65b9\u6cd5")))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(l,{demos:n})}},IV6T:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawLine"](e,{distanceOptions:{}});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},IX3V:function(e,t){function n(e,t){var n,r=0,i=e.length;for(r;r<i;r++)if(n=t(e[r],r),!1===n)break}function r(e){return"[object Array]"===Object.prototype.toString.apply(e)}function i(e){return"function"===typeof e}e.exports={isFunction:i,isArray:r,each:n}},IZzc:function(e,t,n){"use strict";var r=n("67WC"),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=[].sort;o("sort",(function(e){return a.call(i(this),e)}))},Ibp0:function(e,t,n){"use strict";function r(e,t){if("undefined"!==typeof XDomainRequest)return t(null),null;var n=new XMLHttpRequest;return n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&200===n.status&&t(JSON.parse(n.responseText))},n.open("GET",e,!0),n.send(),n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,e.exports=t["default"]},IhfD:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("2/Rp"),l=(n("TpwP"),n("q1tI")),u=n.n(l),c=String(Math.random()),f=()=>{var e=Object(l["useState"])(null),t=Object(r["a"])(e,2),n=t[0],f=t[1];return Object(l["useEffect"])((()=>{var e=new i["f"]({id:c,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawRect"](e,{});f(t),t.enable()}))}),[]),u.a.createElement("div",null,u.a.createElement("div",{style:{padding:8}},u.a.createElement(s["a"],{onClick:()=>null===n||void 0===n?void 0:n.enable()},"\u542f\u7528"),u.a.createElement(s["a"],{onClick:()=>null===n||void 0===n?void 0:n.disable()},"\u7981\u7528"),u.a.createElement(s["a"],{onClick:()=>null===n||void 0===n?void 0:n.clear()},"\u6e05\u7a7a")),u.a.createElement("div",{id:c,style:{height:400,position:"relative"}}))};t["default"]=f},Ijbi:function(e,t,n){var r=n("WkPL");function i(e){if(Array.isArray(e))return r(e)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},ImZN:function(e,t,n){var r=n("glrk"),i=n("6VoE"),o=n("UMSQ"),a=n("A2ZE"),s=n("NaFW"),l=n("m92n"),u=function(e,t){this.stopped=e,this.result=t},c=e.exports=function(e,t,n,c,f){var p,d,h,v,m,g,y,b=a(t,n,c?2:1);if(f)p=e;else{if(d=s(e),"function"!=typeof d)throw TypeError("Target is not iterable");if(i(d)){for(h=0,v=o(e.length);v>h;h++)if(m=c?b(r(y=e[h])[0],y[1]):b(e[h]),m&&m instanceof u)return m;return new u(!1)}p=d.call(e)}g=p.next;while(!(y=g.call(p)).done)if(m=l(p,b,y.value,c),"object"==typeof m&&m&&m instanceof u)return m;return new u(!1)};c.stop=function(e){return new u(!0,e)}},Ioao:function(e,t,n){var r=n("heNW"),i=Math.max;function o(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);while(++a<s)l[a]=o[t+a];a=-1;var u=Array(t+1);while(++a<t)u[a]=o[a];return u[t]=n(l),r(e,this,u)}}e.exports=o},IyRk:function(e,t){(function(t){e.exports=function(){var e={873:function(e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"===typeof window&&(t=window)}e.exports=t}},n={};function r(t){if(n[t])return n[t].exports;var i=n[t]={exports:{}},o=!0;try{e[t](i,i.exports,r),o=!1}finally{o&&delete n[t]}return i.exports}return r.ab=t+"/",r(873)}()}).call(this,"/")},J2iB:function(e,t){function n(e){return null==e}e.exports=n},J4zp:function(e,t,n){var r=n("wTVA"),i=n("m0LI"),o=n("ZhPi"),a=n("wkBT");function s(e,t){return r(e)||i(e,t)||o(e,t)||a()}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},JBE3:function(e,t,n){var r=n("+Qka"),i=n("LsHQ"),o=i((function(e,t,n,i){r(e,t,n,i)}));e.exports=o},JBy8:function(e,t,n){var r=n("yoRg"),i=n("eDl+"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},JHRd:function(e,t,n){var r=n("Kz5y"),i=r.Uint8Array;e.exports=i},JHgL:function(e,t,n){var r=n("QkVE");function i(e){return r(this,e).get(e)}e.exports=i},"JQ/k":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("Q7Ls"),s=n("S2ku"),l=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"\u7ed8\u5236\u7ebf-drawline"},i.a.createElement(o["AnchorLink"],{to:"#\u7ed8\u5236\u7ebf-drawline","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u7ed8\u5236\u7ebf DrawLine"),i.a.createElement("h2",{id:"\u8bf4\u660e"},i.a.createElement(o["AnchorLink"],{to:"#\u8bf4\u660e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u8bf4\u660e"),i.a.createElement("p",null,i.a.createElement("code",null,"DrawLine")," \u7528\u4e8e\u5728\u5730\u56fe\u4e0a\u7ed8\u5236\u7ebf\u6570\u636e\u3002"),i.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/rms_2591f5/afts/img/A*QHhySoSASjsAAAAAAAAAAAAAARQnAQ",width:300}),i.a.createElement("h2",{id:"\u793a\u4f8b"},i.a.createElement(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b"),i.a.createElement(a["a"],{code:"import { DrawEvent, DrawLine } from '@antv/l7-draw';\n\n// \u5b9e\u4f8b\u5316\nconst drawer = new DrawLine(scene, {\n  autoActive: false,\n  //  ....\n});\n// \u5f00\u542f\u7ed8\u5236\ndrawer.enable();\n\n// \u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6\ndrawer.on(DrawEvent.Change, (lineList) => {\n  console.log(lineList);\n});",lang:"tsx"}),i.a.createElement("h2",{id:"\u914d\u7f6e"},i.a.createElement(o["AnchorLink"],{to:"#\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u914d\u7f6e"),i.a.createElement("p",null,"options \u914d\u7f6e\u662f Draw \u5b9e\u4f8b\u5316\u7684\u65f6\u5019\uff0c\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u6240\u6709\u7684 options \u914d\u7f6e\u5747\u4e0d\u662f\u5fc5\u4f20\u9879\u3002"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"),i.a.createElement("th",null,"\u793a\u4f8b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"initialData"),i.a.createElement("td",null,"\u8bbe\u7f6e Draw \u7684\u521d\u59cb\u6570\u636e\uff0c",i.a.createElement("code",null,"GeoJSON")," \u7c7b\u578b\u4e2d\u7684 ",i.a.createElement(o["Link"],{to:"https://datatracker.ietf.org/doc/html/rfc7946#section-3.1.4"},"LineString")," \u6570\u7ec4"),i.a.createElement("td",null,i.a.createElement("code",null,"Feature[]")),i.a.createElement("td",null,i.a.createElement("code",null,"[]")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/line/initial-data"},"\u521d\u59cb\u5316\u6570\u636e\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"showMidPoint"),i.a.createElement("td",null,"\u662f\u5426\u5c55\u793a\u7ebf\u6bb5\u4e2d\u70b9"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/line/mid-point"},"\u7981\u7528\u4e2d\u70b9"))),i.a.createElement("tr",null,i.a.createElement("td",null,"distanceOptions"),i.a.createElement("td",null,"\u8ddd\u79bb\u6587\u672c\u76f8\u5173\u914d\u7f6e"),i.a.createElement("td",null,i.a.createElement("code",null,"false")," | ",i.a.createElement(o["AnchorLink"],{to:"/docs/super/distance#%E9%85%8D%E7%BD%AE"},"Distance")),i.a.createElement("td",null,i.a.createElement("code",null,"false")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/line/distance"},"\u5c55\u793a\u8ddd\u79bb"))),i.a.createElement("tr",null,i.a.createElement("td",null,"adsorbOptions"),i.a.createElement("td",null,"\u5438\u9644\u76f8\u5173\u914d\u7f6e"),i.a.createElement("td",null,i.a.createElement("code",null,"false")," | ",i.a.createElement(o["AnchorLink"],{to:"/docs/super/adsorb#%E9%85%8D%E7%BD%AE"},"Adsorb")),i.a.createElement("td",null,i.a.createElement("code",null,"false")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/line/adsorb"},"\u5438\u9644\u80fd\u529b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"autoActive"),i.a.createElement("td",null,"\u65b0\u521b\u5efa\u7684 LineString \u662f\u5426\u5c55\u793a\u4e3a\u6fc0\u6d3b\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/line/auto-active"},"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"editable"),i.a.createElement("td",null,"\u7ed8\u5236\u7684 LineString \u662f\u5426\u652f\u6301\u4e8c\u6b21\u7f16\u8f91\uff08\u62d6\u62fd\u4f4d\u79fb\uff09"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/line/editable"},"\u7981\u7528\u7f16\u8f91\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"multiple"),i.a.createElement("td",null,"Draw \u662f\u5426\u652f\u6301\u7ed8\u5236\u591a\u4e2a\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/example/line/multiple#%E5%A7%8B%E7%BB%88%E6%9C%80%E5%A4%9A%E7%BB%98%E5%88%B6%E4%B8%80%E4%B8%AA"},"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a"))),i.a.createElement("tr",null,i.a.createElement("td",null,"style"),i.a.createElement("td",null,"LineString \u5728\u4e0d\u540c\u72b6\u6001\u4e0b\u7684\u6837\u5f0f"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/docs/super/style#%E9%85%8D%E7%BD%AE"},"Style")),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-")),i.a.createElement("tr",null,i.a.createElement("td",null,"helper"),i.a.createElement("td",null,"\u7ed8\u5236\u63d0\u793a\u6587\u6848\u7684\u914d\u7f6e\uff0c\u652f\u6301\u4f20\u5165 ",i.a.createElement("code",null,"string | Element | DocumentFragment")," \u5728\u63d0\u793a\u6846\u4e2d\u8fdb\u884c\u6e32\u67d3\uff0c\u4f20 ",i.a.createElement("code",null,"false")," \u4e3a\u5173\u95ed\u63d0\u793a\u7ed8\u5236"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"#helper"},"Helper")," | ",i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/common/helper"},"\u63d0\u793a\u6587\u6848"))),i.a.createElement("tr",null,i.a.createElement("td",null,"popup"),i.a.createElement("td",null,"\u7ed8\u5236\u63d0\u793a\u6846\u914d\u7f6e\uff0c\u8be6\u7ec6\u914d\u7f6e\u53ef\u89c1 ",i.a.createElement(o["Link"],{to:"https://atomiks.github.io/tippyjs/v6/all-props/"},"Tippy.js"),"\uff0c\u4f20 ",i.a.createElement("code",null,"false")," \u4e3a\u5173\u95ed\u63d0\u793a\u6846"),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"https://atomiks.github.io/tippyjs/v6/all-props/"},"TippyProps")," | ",i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/common/helper"},"\u63d0\u793a\u6587\u6848"))),i.a.createElement("tr",null,i.a.createElement("td",null,"keyboard"),i.a.createElement("td",null,"\u81ea\u5b9a\u4e49\u5feb\u6377\u952e\u745f\u662f\u5426\u5f00\u542f\uff0c\u4ee5\u53ca\u5bf9\u5e94\u7684\u6309\u952e"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/docs/super/keyboard#%E9%85%8D%E7%BD%AE"},"Keyboard")),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-")),i.a.createElement("tr",null,i.a.createElement("td",null,"history"),i.a.createElement("td",null,"\u4fdd\u5b58\u5386\u53f2\u7ed8\u5236\u6570\u636e\u7684\u76f8\u5173\u914d\u7f6e\uff0c\u6d89\u53ca\u5230\u56de\u9000\u64cd\u4f5c\u7684\u6700\u5927\u64cd\u4f5c\u6b21\u6570"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/docs/super/history#%E9%85%8D%E7%BD%AE"},"History")),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-")))),i.a.createElement("h3",{id:"helper"},i.a.createElement(o["AnchorLink"],{to:"#helper","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"Helper"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"draw"),i.a.createElement("td",null,"\u7ed8\u5236\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u5355\u51fb\u7ed8\u5236\u9996\u4e2a\u8282\u70b9'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"drawFinish"),i.a.createElement("td",null,"\u7ed8\u5236\u8fc7\u7a0b\u4e2d\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u5355\u51fb\u7ee7\u7eed\u7ed8\u5236\uff0c\u53cc\u51fb\u7ed3\u675f\u7ed8\u5236'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"pointHover"),i.a.createElement("td",null,"\u5149\u6807\u60ac\u505c\u5728\u70b9\u4e0a\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u53ef\u62d6\u62fd\u8c03\u6574\u8282\u70b9\u4f4d\u7f6e'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"pointDrag"),i.a.createElement("td",null,"\u62d6\u62fd\u70b9\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"null"))),i.a.createElement("tr",null,i.a.createElement("td",null,"lineHover"),i.a.createElement("td",null,"\u5149\u6807\u60ac\u505c\u5728\u7ebf\u4e0a\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u53ef\u62d6\u62fd\u8c03\u6574\u7ebf\u4f4d\u7f6e'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"lineDrag"),i.a.createElement("td",null,"\u62d6\u62fd\u7ebf\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"null"))),i.a.createElement("tr",null,i.a.createElement("td",null,"midPointHover"),i.a.createElement("td",null,"\u5149\u6807\u60ac\u505c\u5728\u4e2d\u70b9\u4e0a\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u5355\u51fb\u5728\u8be5\u4f4d\u7f6e\u65b0\u589e\u8282\u70b9'"))))),i.a.createElement("h2",{id:"\u65b9\u6cd5"},i.a.createElement(o["AnchorLink"],{to:"#\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u65b9\u6cd5")),i.a.createElement(i.a.Fragment,{children:i.a.createElement(n("74H1").default)}),i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u4e8b\u4ef6"},i.a.createElement(o["AnchorLink"],{to:"#\u4e8b\u4ef6","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u4e8b\u4ef6"),i.a.createElement("p",null,i.a.createElement(o["Link"],{to:"/example/line/event"},"\u76d1\u542c\u4e8b\u4ef6\u793a\u4f8b"))),i.a.createElement(i.a.Fragment,{children:i.a.createElement(n("sBij").default)})))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(l,{demos:n})}},JSQU:function(e,t,n){var r=n("YESw"),i="__lodash_hash_undefined__";function o(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}e.exports=o},JTJg:function(e,t,n){"use strict";var r=n("I+eb"),i=n("WjRb"),o=n("HYAF"),a=n("qxPZ");r({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},JTzB:function(e,t,n){var r=n("NykK"),i=n("ExA7"),o="[object Arguments]";function a(e){return i(e)&&r(e)==o}e.exports=a},JX7q:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},JevA:function(e,t,n){var r=n("I+eb"),i=n("wg0c");r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},JfAA:function(e,t,n){"use strict";var r=n("busE"),i=n("glrk"),o=n("0Dky"),a=n("rW0t"),s="toString",l=RegExp.prototype,u=l[s],c=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f=u.name!=s;(c||f)&&r(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in l)?a.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},Ji7U:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("s4An");function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(r["a"])(e,t)}},JiZb:function(e,t,n){"use strict";var r=n("0GbY"),i=n("m/L8"),o=n("tiKp"),a=n("g6v/"),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},Junv:function(e,t,n){"use strict";var r=n("I+eb"),i=n("6LWA"),o=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},JwUS:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("HAuM"),s=n("WGBp"),l=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(e){var t=o(this),n=s(t),r=arguments.length<2,i=r?void 0:arguments[1];if(a(e),l(n,(function(n){r?(r=!1,i=n):i=e(i,n,n,t)}),void 0,!1,!0),r)throw TypeError("Reduce of empty set with no initial value");return i}})},K0aQ:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("2/Rp"),l=(n("TpwP"),n("q1tI")),u=n.n(l),c=String(Math.random()),f=()=>{var e=Object(l["useState"])(null),t=Object(r["a"])(e,2),n=t[0],f=t[1];return Object(l["useEffect"])((()=>{var e=new i["f"]({id:c,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t,n=document.createElement("div");n.innerHTML='<div style="color: #ffff00">\u53cc\u51fb\u7ed3\u675f\u7ed8\u5236</div>';var r=new o["DrawPolygon"](e,{helper:{draw:"\u7ed8\u5236\u7b2c\u4e00\u4e2a\u8282\u70b9",drawContinue:"\u7ee7\u7eed\u7ed8\u5236\u8282\u70b9",drawFinish:null!==(t=n.firstElementChild)&&void 0!==t?t:void 0},popup:{theme:"dark"}});f(r),r.enable()}))}),[]),u.a.createElement("div",null,u.a.createElement("div",{style:{padding:8}},u.a.createElement(s["a"],{onClick:()=>{null===n||void 0===n||n.setHelper("L7Draw No.1")}},"\u66ff\u6362\u7ed8\u5236\u6587\u6848")),u.a.createElement("div",{id:c,style:{height:400,position:"relative"}}))};t["default"]=f},K1Aa:function(e,t,n){"use strict";n.r(t);var r=n("8ml+"),i=n("/7QA"),o=n("zWmH"),a=n("q1tI"),s=n.n(a),l=String(Math.random()),u=()=>(Object(a["useEffect"])((()=>{var e=new r["f"]({id:l,map:new o["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t={color:"#a03dff"},n=new i["DrawControl"](e,{commonDrawOptions:{editable:!1,style:{point:{normal:t,hover:t,active:t},line:{normal:t,hover:t,active:t},polygon:{normal:t,hover:t,active:t},midPoint:{normal:t},dashLine:{normal:t},text:{normal:t,active:t}}}});e.addControl(n)}))}),[]),s.a.createElement("div",null,s.a.createElement("div",{id:l,style:{height:400,position:"relative"}})));t["default"]=u},K2oK:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=n("rz5R"),c=String(Math.random()),f=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:c,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawLine"](e,{editable:!1,initialData:u["a"]});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:c,style:{height:400,position:"relative"}}))};t["default"]=f},K7k0:function(e,t,n){},KAFG:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["control-event"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["control-event"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"KD//":function(e,t,n){},KMkd:function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},KNbE:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("S2ku"),s=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement(a["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"enable"),i.a.createElement("td",null,"\u5f00\u542f\u7ed8\u5236\uff0c\u53c2\u6570 ",i.a.createElement("code",null,"allowCreate")," \u7528\u4e8e\u63a7\u5236 ",i.a.createElement("code",null,"enable")," \u4e4b\u540e\u662f\u5426\u652f\u6301\u65b0\u589e\u7ed8\u5236\u7269\uff0c\u4f20 ",i.a.createElement("code",null,"false")," \u8868\u793a\u53ea\u5141\u8bb8\u7f16\u8f91\u4e0d\u5141\u8bb8\u65b0\u589e\uff0c\u9ed8\u8ba4\u4e3a ",i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement("code",null,"(allowCreate: boolean = true) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"disable"),i.a.createElement("td",null,"\u5173\u95ed\u7ed8\u5236"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"getData"),i.a.createElement("td",null,"\u83b7\u53d6\u5f53\u671f\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"() => Feature[]"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setData"),i.a.createElement("td",null,"\u8986\u76d6\u5e76\u8bbe\u7f6e\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"(features: Feature[]) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"clear"),i.a.createElement("td",null,"\u6e05\u7a7a\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"(disable: boolean) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"show"),i.a.createElement("td",null,"\u663e\u793a\u8be5 Draw \u4e0b\u6240\u6709\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"hide"),i.a.createElement("td",null,"\u9690\u85cf\u8be5 Draw \u4e0b\u6240\u6709\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setActiveFeature"),i.a.createElement("td",null,"\u5c06\u76ee\u6807 Feature \u8bbe\u4e3a\u6fc0\u6d3b\u6001\uff0c\u53ef\u4f20\u76ee\u6807 ",i.a.createElement("code",null,"Feature")," \u672c\u8eab\u6216\u5176 ",i.a.createElement("code",null,"id"),"\uff0c\u4f20 ",i.a.createElement("code",null,"null")," \u6216 ",i.a.createElement("code",null,"undefined")," \u5219\u53d6\u6d88\u6fc0\u6d3b\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"(feature: Feature | string | null | undefined) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"getRenderLayers"),i.a.createElement("td",null,"\u83b7\u53d6\u4e0d\u540c\u6e32\u67d3\u7c7b\u578b\u5bf9\u5e94\u7684 L7 \u539f\u751f\u56fe\u5c42"),i.a.createElement("td",null,i.a.createElement("code",null,"() => ","{"," [key: RenderType]: ILayer[] ","}"))),i.a.createElement("tr",null,i.a.createElement("td",null,"resetFeatures"),i.a.createElement("td",null,"\u6e05\u9664\u5f53\u524d\u6b63\u5728\u7ed8\u5236\u7684\u7ed8\u5236\u7269\uff0c\u540c\u65f6\u5c06\u6fc0\u6d3b\u7684\u7ed8\u5236\u7269\u7f6e\u4e3a\u666e\u901a\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"removeActiveFeature"),i.a.createElement("td",null,"\u5220\u9664\u5f53\u524d\u6fc0\u6d3b\u72b6\u6001\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"removeFeature"),i.a.createElement("td",null,"\u5220\u9664\u76ee\u6807 Feature \uff0c\u5c06\u76ee\u6807 Feature \u8bbe\u4e3a\u6fc0\u6d3b\u6001\uff0c\u53ef\u4f20\u76ee\u6807 Feature \u672c\u8eab\u6216\u5176 ",i.a.createElement("code",null,"properties")," \u4e2d ",i.a.createElement("code",null,"id")," \u5b57\u6bb5"),i.a.createElement("td",null,i.a.createElement("code",null,"(feature: Feature | string) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"isEnable"),i.a.createElement("td",null,"\u5224\u65ad\u5f53\u524d Draw \u662f\u5426\u5728\u7ed8\u5236\u72b6\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"() => boolean"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setHelper"),i.a.createElement("td",null,"\u8bbe\u7f6e\u5f53\u524d\u7ed8\u5236\u63d0\u793a\u6587\u6848\uff0c\u5efa\u8bae\u901a\u8fc7\u914d\u7f6e\u8fdb\u884c\u81ea\u5b9a\u4e49\u800c\u975e\u624b\u52a8\u8c03\u7528\u8be5\u65b9\u6cd5"),i.a.createElement("td",null,i.a.createElement("code",null,"(content: string | Element | DocumentFragment) => boolean"))),i.a.createElement("tr",null,i.a.createElement("td",null,"revertHistory"),i.a.createElement("td",null,"\u56de\u9000\u81f3\u4e0a\u4e00\u6b21\u4fdd\u5b58\u7684\u7ed8\u5236\u72b6\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"() => SourceData | undefined"))),i.a.createElement("tr",null,i.a.createElement("td",null,"redoHistory"),i.a.createElement("td",null,"\u91cd\u7f6e\u5230\u4e0a\u4e00\u6b21\u56de\u9000"),i.a.createElement("td",null,i.a.createElement("code",null,"() => SourceData | undefined"))),i.a.createElement("tr",null,i.a.createElement("td",null,"destroy"),i.a.createElement("td",null,"\u9500\u6bc1\u5f53\u524d Draw \u5b9e\u4f8b"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},KOnL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NextArrow=t.PrevArrow=void 0;var r=a(n("q1tI")),i=a(n("TSYQ")),o=n("x9Za");function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=_();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var x=function(e){v(n,e);var t=g(n);function n(){return p(this,n),t.apply(this,arguments)}return h(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n,o={key:"0","data-role":"none",className:(0,i["default"])(e),style:{display:"block"},onClick:t},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return n=this.props.prevArrow?r["default"].cloneElement(this.props.prevArrow,c(c({},o),a)):r["default"].createElement("button",l({key:"0",type:"button"},o)," ","Previous"),n}}]),n}(r["default"].PureComponent);t.PrevArrow=x;var w=function(e){v(n,e);var t=g(n);function n(){return p(this,n),t.apply(this,arguments)}return h(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,o.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n,a={key:"1","data-role":"none",className:(0,i["default"])(e),style:{display:"block"},onClick:t},s={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return n=this.props.nextArrow?r["default"].cloneElement(this.props.nextArrow,c(c({},a),s)):r["default"].createElement("button",l({key:"1",type:"button"},a)," ","Next"),n}}]),n}(r["default"].PureComponent);t.NextArrow=w},KQm4:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("a3WO");function i(e){if(Array.isArray(e))return Object(r["a"])(e)}var o=n("25BE"),a=n("BsWD");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return i(e)||Object(o["a"])(e)||Object(a["a"])(e)||s()}},KcUY:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=l(n("q1tI")),o=a(n("nLCz"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i["default"]=e,n&&n.set(e,i),i}function u(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function c(e,t){return v(e)||h(e,t)||p(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function v(e){if(Array.isArray(e))return e}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t){var n=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r[1].replace(/([^^])\/$/,"$1");return g(g({},(null===(e=r[0].find((function(e){var t=e.path;return t===o})))||void 0===e?void 0:e.meta)||{}),{},{__pathname:t})},r=(0,i.useState)(n(e,t)),o=c(r,2),a=o[0],s=o[1];return(0,i.useLayoutEffect)((function(){s(n(e,t))}),[t]),a},_=function(e,t){var n=function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(null===(t=r[0].find((function(e){return new RegExp("/".concat(e.name,"(/|$)")).test(r[1])})))||void 0===t?void 0:t.name)||e[0].name},r=(0,i.useState)(n(e,t)),o=c(r,2),a=o[0],s=o[1];return(0,i.useLayoutEffect)((function(){s(n(e,t))}),[t]),a},E=function(e,t,n){var r=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n[0].navs[n[1]]||[],o="*",a=i.length-1;a>=0;a-=1){var s=i[a],l=[s].concat(s.children).filter(Boolean),u=l.find((function(e){return e.path&&new RegExp("^".concat(e.path.replace(/\.html$/,""),"(/|.|$)")).test(n[2])}));if(u){o=u.path;break}}return(null===(e=n[0].menus[n[1]])||void 0===e?void 0:e[o])||[]},o=(0,i.useState)(r(e,t,n)),a=c(o,2),s=a[0],l=a[1];return(0,i.useLayoutEffect)((function(){l(r(e,t,n))}),[e.navs,e.menus,t,n]),s},x=function(e,t,n){var r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return r[0]===r[1][0].name?r[2].path:"".concat(n.path,"/").concat(e).replace(/\/\//,"/")},o=(0,i.useState)(r(e,t,n)),a=c(o,2),s=a[0],l=a[1];return(0,i.useLayoutEffect)((function(){l(r(e,t,n))}),[e]),s},w=function e(t){var n,r,i=u(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.__dumiRoot){n=o.routes;break}if(o.routes&&(n=e(o.routes)))break}}catch(a){i.e(a)}finally{i.f()}return n},S=function(e){var t=e.location,n=e.route,r=e.children,a=e.config,s=e.apis,l=e.demos,u=t.pathname.replace(n.path.replace(/^\/$/,"//"),""),c=w(e.routes)||[],f=b(c,t.pathname),p=_(a.locales,u),d=E(a,p,t.pathname),h=x(p,a.locales,n);return i["default"].createElement(o["default"].Provider,{value:{config:a,meta:f.__pathname===t.pathname?f:{},locale:p,nav:a.navs[p]||[],menu:d,base:h,routes:c,apis:s,demos:l}},r)},O=S;t["default"]=O},KfNM:function(e,t){var n=Object.prototype,r=n.toString;function i(e){return r.call(e)}e.exports=i},KhsS:function(e,t,n){var r=n("dG/n");r("match")},KrxN:function(e,t,n){var r=n("I+eb"),i=180/Math.PI;r({target:"Math",stat:!0},{degrees:function(e){return e*i}})},KwMD:function(e,t){function n(e,t,n,r){var i=e.length,o=n+(r?1:-1);while(r?o--:++o<i)if(t(e[o],o,e))return o;return-1}e.exports=n},Kwbf:function(e,t,n){"use strict";var r={};function i(e,t){0}function o(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}function a(e,t){o(i,e,t)}t["a"]=a},KxBF:function(e,t){function n(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;var o=Array(i);while(++r<i)o[r]=e[r+t];return o}e.exports=n},Kz25:function(e,t,n){"use strict";n("PKPk");var r,i=n("I+eb"),o=n("g6v/"),a=n("DTth"),s=n("2oRo"),l=n("N+g0"),u=n("busE"),c=n("GarU"),f=n("UTVS"),p=n("YNrV"),d=n("TfTi"),h=n("ZUd8").codeAt,v=n("X7LM"),m=n("1E5z"),g=n("mGGf"),y=n("afO8"),b=s.URL,_=g.URLSearchParams,E=g.getState,x=y.set,w=y.getterFor("URL"),S=Math.floor,O=Math.pow,C="Invalid authority",A="Invalid scheme",P="Invalid host",k="Invalid port",M=/[A-Za-z]/,T=/[\d+-.A-Za-z]/,L=/\d/,I=/^(0x|0X)/,D=/^[0-7]+$/,R=/^\d+$/,N=/^[\dA-Fa-f]+$/,j=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,F=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,B=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,U=/[\u0009\u000A\u000D]/g,z=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return P;if(n=V(t.slice(1,-1)),!n)return P;e.host=n}else if(J(e)){if(t=v(t),j.test(t))return P;if(n=H(t),null===n)return P;e.host=n}else{if(F.test(t))return P;for(n="",r=d(t),i=0;i<r.length;i++)n+=Z(r[i],q);e.host=n}},H=function(e){var t,n,r,i,o,a,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),t=l.length,t>4)return e;for(n=[],r=0;r<t;r++){if(i=l[r],""==i)return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=I.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?R:8==o?D:N).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=O(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*O(256,3-r);return s},V=function(e){var t,n,r,i,o,a,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,f=0,p=function(){return e.charAt(f)};if(":"==p()){if(":"!=e.charAt(1))return;f+=2,u++,c=u}while(p()){if(8==u)return;if(":"!=p()){t=n=0;while(n<4&&N.test(p()))t=16*t+parseInt(p(),16),f++,n++;if("."==p()){if(0==n)return;if(f-=n,u>6)return;r=0;while(p()){if(i=null,r>0){if(!("."==p()&&r<4))return;f++}if(!L.test(p()))return;while(L.test(p())){if(o=parseInt(p(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}l[u]=256*l[u]+i,r++,2!=r&&4!=r||u++}if(4!=r)return;break}if(":"==p()){if(f++,!p())return}else if(p())return;l[u++]=t}else{if(null!==c)return;f++,u++,c=u}}if(null!==c){a=u-c,u=7;while(0!=u&&a>0)s=l[u],l[u--]=l[c+a-1],l[c+--a]=s}else if(8!=u)return;return l},G=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t},W=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=S(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=G(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},q={},Y=p({},q,{" ":1,'"':1,"<":1,">":1,"`":1}),X=p({},Y,{"#":1,"?":1,"{":1,"}":1}),K=p({},X,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Z=function(e,t){var n=h(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},Q={ftp:21,file:null,http:80,https:443,ws:80,wss:443},J=function(e){return f(Q,e.scheme)},$=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&M.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},re=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},oe=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},ae={},se={},le={},ue={},ce={},fe={},pe={},de={},he={},ve={},me={},ge={},ye={},be={},_e={},Ee={},xe={},we={},Se={},Oe={},Ce={},Ae=function(e,t,n,i){var o,a,s,l,u=n||ae,c=0,p="",h=!1,v=!1,m=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(B,"")),t=t.replace(U,""),o=d(t);while(c<=o.length){switch(a=o[c],u){case ae:if(!a||!M.test(a)){if(n)return A;u=le;continue}p+=a.toLowerCase(),u=se;break;case se:if(a&&(T.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(n)return A;p="",u=le,c=0;continue}if(n&&(J(e)!=f(Q,p)||"file"==p&&($(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(J(e)&&Q[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?u=be:J(e)&&i&&i.scheme==e.scheme?u=ue:J(e)?u=de:"/"==o[c+1]?(u=ce,c++):(e.cannotBeABaseURL=!0,e.path.push(""),u=Se)}break;case le:if(!i||i.cannotBeABaseURL&&"#"!=a)return A;if(i.cannotBeABaseURL&&"#"==a){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,u=Ce;break}u="file"==i.scheme?be:fe;continue;case ue:if("/"!=a||"/"!=o[c+1]){u=fe;continue}u=he,c++;break;case ce:if("/"==a){u=ve;break}u=we;continue;case fe:if(e.scheme=i.scheme,a==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==a||"\\"==a&&J(e))u=pe;else if("?"==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",u=Oe;else{if("#"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),u=we;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=Ce}break;case pe:if(!J(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,u=we;continue}u=ve}else u=he;break;case de:if(u=he,"/"!=a||"/"!=p.charAt(c+1))continue;c++;break;case he:if("/"!=a&&"\\"!=a){u=ve;continue}break;case ve:if("@"==a){h&&(p="%40"+p),h=!0,s=d(p);for(var g=0;g<s.length;g++){var y=s[g];if(":"!=y||m){var b=Z(y,K);m?e.password+=b:e.username+=b}else m=!0}p=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(e)){if(h&&""==p)return C;c-=d(p).length+1,p="",u=me}else p+=a;break;case me:case ge:if(n&&"file"==e.scheme){u=Ee;continue}if(":"!=a||v){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(e)){if(J(e)&&""==p)return P;if(n&&""==p&&($(e)||null!==e.port))return;if(l=z(e,p),l)return l;if(p="",u=xe,n)return;continue}"["==a?v=!0:"]"==a&&(v=!1),p+=a}else{if(""==p)return P;if(l=z(e,p),l)return l;if(p="",u=ye,n==ge)return}break;case ye:if(!L.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(e)||n){if(""!=p){var _=parseInt(p,10);if(_>65535)return k;e.port=J(e)&&_===Q[e.scheme]?null:_,p=""}if(n)return;u=xe;continue}return k}p+=a;break;case be:if(e.scheme="file","/"==a||"\\"==a)u=_e;else{if(!i||"file"!=i.scheme){u=we;continue}if(a==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==a)e.host=i.host,e.path=i.path.slice(),e.query="",u=Oe;else{if("#"!=a){ne(o.slice(c).join(""))||(e.host=i.host,e.path=i.path.slice(),re(e)),u=we;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=Ce}}break;case _e:if("/"==a||"\\"==a){u=Ee;break}i&&"file"==i.scheme&&!ne(o.slice(c).join(""))&&(te(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),u=we;continue;case Ee:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&te(p))u=we;else if(""==p){if(e.host="",n)return;u=xe}else{if(l=z(e,p),l)return l;if("localhost"==e.host&&(e.host=""),n)return;p="",u=xe}continue}p+=a;break;case xe:if(J(e)){if(u=we,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(u=we,"/"!=a))continue}else e.fragment="",u=Ce;else e.query="",u=Oe;break;case we:if(a==r||"/"==a||"\\"==a&&J(e)||!n&&("?"==a||"#"==a)){if(oe(p)?(re(e),"/"==a||"\\"==a&&J(e)||e.path.push("")):ie(p)?"/"==a||"\\"==a&&J(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(a==r||"?"==a||"#"==a))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==a?(e.query="",u=Oe):"#"==a&&(e.fragment="",u=Ce)}else p+=Z(a,X);break;case Se:"?"==a?(e.query="",u=Oe):"#"==a?(e.fragment="",u=Ce):a!=r&&(e.path[0]+=Z(a,q));break;case Oe:n||"#"!=a?a!=r&&("'"==a&&J(e)?e.query+="%27":e.query+="#"==a?"%23":Z(a,q)):(e.fragment="",u=Ce);break;case Ce:a!=r&&(e.fragment+=Z(a,Y));break}c++}},Pe=function(e){var t,n,r=c(this,Pe,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(e),s=x(r,{type:"URL"});if(void 0!==i)if(i instanceof Pe)t=w(i);else if(n=Ae(t={},String(i)),n)throw TypeError(n);if(n=Ae(s,a,null,t),n)throw TypeError(n);var l=s.searchParams=new _,u=E(l);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(l)||null},o||(r.href=Me.call(r),r.origin=Te.call(r),r.protocol=Le.call(r),r.username=Ie.call(r),r.password=De.call(r),r.host=Re.call(r),r.hostname=Ne.call(r),r.port=je.call(r),r.pathname=Fe.call(r),r.search=Be.call(r),r.searchParams=Ue.call(r),r.hash=ze.call(r))},ke=Pe.prototype,Me=function(){var e=w(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,l=e.fragment,u=t+":";return null!==i?(u+="//",$(e)&&(u+=n+(r?":"+r:"")+"@"),u+=W(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},Te=function(){var e=w(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&J(e)?t+"://"+W(e.host)+(null!==n?":"+n:""):"null"},Le=function(){return w(this).scheme+":"},Ie=function(){return w(this).username},De=function(){return w(this).password},Re=function(){var e=w(this),t=e.host,n=e.port;return null===t?"":null===n?W(t):W(t)+":"+n},Ne=function(){var e=w(this).host;return null===e?"":W(e)},je=function(){var e=w(this).port;return null===e?"":String(e)},Fe=function(){var e=w(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Be=function(){var e=w(this).query;return e?"?"+e:""},Ue=function(){return w(this).searchParams},ze=function(){var e=w(this).fragment;return e?"#"+e:""},He=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&l(ke,{href:He(Me,(function(e){var t=w(this),n=String(e),r=Ae(t,n);if(r)throw TypeError(r);E(t.searchParams).updateSearchParams(t.query)})),origin:He(Te),protocol:He(Le,(function(e){var t=w(this);Ae(t,String(e)+":",ae)})),username:He(Ie,(function(e){var t=w(this),n=d(String(e));if(!ee(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Z(n[r],K)}})),password:He(De,(function(e){var t=w(this),n=d(String(e));if(!ee(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Z(n[r],K)}})),host:He(Re,(function(e){var t=w(this);t.cannotBeABaseURL||Ae(t,String(e),me)})),hostname:He(Ne,(function(e){var t=w(this);t.cannotBeABaseURL||Ae(t,String(e),ge)})),port:He(je,(function(e){var t=w(this);ee(t)||(e=String(e),""==e?t.port=null:Ae(t,e,ye))})),pathname:He(Fe,(function(e){var t=w(this);t.cannotBeABaseURL||(t.path=[],Ae(t,e+"",xe))})),search:He(Be,(function(e){var t=w(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ae(t,e,Oe)),E(t.searchParams).updateSearchParams(t.query)})),searchParams:He(Ue),hash:He(ze,(function(e){var t=w(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ae(t,e,Ce)):t.fragment=null}))}),u(ke,"toJSON",(function(){return Me.call(this)}),{enumerable:!0}),u(ke,"toString",(function(){return Me.call(this)}),{enumerable:!0}),b){var Ve=b.createObjectURL,Ge=b.revokeObjectURL;Ve&&u(Pe,"createObjectURL",(function(e){return Ve.apply(b,arguments)})),Ge&&u(Pe,"revokeObjectURL",(function(e){return Ge.apply(b,arguments)}))}m(Pe,"URL"),i({global:!0,forced:!a,sham:!o},{URL:Pe})},Kz5y:function(e,t,n){var r=n("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},L8xA:function(e,t){function n(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}e.exports=n},LDDm:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=(n("TpwP"),n("q1tI")),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawPolygon"](e,{multiple:!1});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},LGYb:function(e,t,n){var r=n("1hJj"),i=n("jbM+"),o=n("Xt/L"),a=n("xYSL"),s=n("dQpi"),l=n("rEGp"),u=200;function c(e,t,n){var c=-1,f=i,p=e.length,d=!0,h=[],v=h;if(n)d=!1,f=o;else if(p>=u){var m=t?null:s(e);if(m)return l(m);d=!1,f=a,v=new r}else v=t?[]:h;e:while(++c<p){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,d&&y===y){var b=v.length;while(b--)if(v[b]===y)continue e;t&&v.push(y),h.push(g)}else f(v,y,n)||(v!==h&&v.push(y),h.push(g))}return h}e.exports=c},LI5q:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["rect-editable"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["rect-editable"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"LK+K":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("foSv");function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var o=n("md7G");function a(e){var t=i();return function(){var n,i=Object(r["a"])(e);if(t){var a=Object(r["a"])(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(o["a"])(this,n)}}},LKBx:function(e,t,n){"use strict";var r=n("I+eb"),i=n("Bs8V").f,o=n("UMSQ"),a=n("WjRb"),s=n("HYAF"),l=n("qxPZ"),u=n("xDBR"),c="".startsWith,f=Math.min,p=l("startsWith"),d=!u&&!p&&!!function(){var e=i(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!d&&!p},{startsWith:function(e){var t=String(s(this));a(e);var n=o(f(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return c?c.call(t,r,n):t.slice(n,n+r.length)===r}})},LKzl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n("406g"),i=n("z4Hk"),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},LP7i:function(e,t,n){},LPSS:function(e,t,n){var r,i,o,a=n("2oRo"),s=n("0Dky"),l=n("xrYK"),u=n("A2ZE"),c=n("G+Rx"),f=n("zBJ4"),p=n("HNyW"),d=a.location,h=a.setImmediate,v=a.clearImmediate,m=a.process,g=a.MessageChannel,y=a.Dispatch,b=0,_={},E="onreadystatechange",x=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},w=function(e){return function(){x(e)}},S=function(e){x(e.data)},O=function(e){a.postMessage(e+"",d.protocol+"//"+d.host)};h&&v||(h=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},v=function(e){delete _[e]},"process"==l(m)?r=function(e){m.nextTick(w(e))}:y&&y.now?r=function(e){y.now(w(e))}:g&&!p?(i=new g,o=i.port2,i.port1.onmessage=S,r=u(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(O)||"file:"===d.protocol?r=E in f("script")?function(e){c.appendChild(f("script"))[E]=function(){c.removeChild(this),x(e)}}:function(e){setTimeout(w(e),0)}:(r=O,a.addEventListener("message",S,!1))),e.exports={set:h,clear:v}},LQDL:function(e,t,n){var r,i,o=n("2oRo"),a=n("NC/Y"),s=o.process,l=s&&s.versions,u=l&&l.v8;u?(r=u.split("."),i=r[0]+r[1]):a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},LXxW:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length,i=0,o=[];while(++n<r){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}e.exports=n},LcsW:function(e,t,n){var r=n("kekF"),i=r(Object.getPrototypeOf,Object);e.exports=i},LgvC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n("FV85"),i=n("d9O0"),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},LsHQ:function(e,t,n){var r=n("EA7m"),i=n("mv/X");function o(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);while(++r<o){var l=n[r];l&&e(t,l,r,a)}return t}))}e.exports=o},LtsZ:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var p={};function d(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(C([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=d.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,s,l){var u=f(e[o],e,a);if("throw"!==u.type){var c=u.arg,p=c.value;return p&&"object"==r(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(p).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,l)}))}l(u.arg)}var o;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,u(b,"constructor",v),u(v,"constructor",h),h.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,l,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}n.r(t),n.d(t,"createBrowserHistory",(function(){return o["a"]})),n.d(t,"createHashHistory",(function(){return o["b"]})),n.d(t,"createMemoryHistory",(function(){return o["d"]})),n.d(t,"__RouterContext",(function(){return a["h"]})),n.d(t,"Link",(function(){return s["a"]})),n.d(t,"MemoryRouter",(function(){return a["a"]})),n.d(t,"NavLink",(function(){return s["b"]})),n.d(t,"Prompt",(function(){return a["b"]})),n.d(t,"Redirect",(function(){return a["c"]})),n.d(t,"Route",(function(){return a["d"]})),n.d(t,"Router",(function(){return a["e"]})),n.d(t,"StaticRouter",(function(){return a["f"]})),n.d(t,"Switch",(function(){return a["g"]})),n.d(t,"matchPath",(function(){return a["i"]})),n.d(t,"useHistory",(function(){return a["j"]})),n.d(t,"useLocation",(function(){return a["k"]})),n.d(t,"useParams",(function(){return a["l"]})),n.d(t,"useRouteMatch",(function(){return a["m"]})),n.d(t,"withRouter",(function(){return a["n"]})),n.d(t,"ApplyPluginsType",(function(){return z})),n.d(t,"Plugin",(function(){return W})),n.d(t,"dynamic",(function(){return B})),n.d(t,"isBrowser",(function(){return H}));var o=n("YS25"),a=n("Ty5D"),s=n("55Ip"),l=n("q1tI"),u=n("8L3h");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,s,"next",e)}function s(e){d(o,r,i,a,s,"throw",e)}a(void 0)}))}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return _(e)||E(e)||x(e)||S()}function _(e){if(Array.isArray(e))return e}function E(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function x(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=x(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}var C=Object(l["createContext"])(null),A=[],P=[],k=!1;function M(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e}))["catch"]((function(e){throw n.loading=!1,n.error=e,e})),n}function T(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var i=M(e[r]);i.loading?t.loading=!0:(t.loaded[r]=i.loaded,t.error=i.error),n.push(i.promise),i.promise.then((function(e){t.loaded[r]=e}))["catch"]((function(e){t.error=e}))}))}catch(r){t.error=r}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e}))["catch"]((function(e){throw t.loading=!1,e})),t}function L(e){return e&&e.__esModule?e["default"]:e}function I(e,t){return Object(l["createElement"])(L(e),t)}function D(e,t){var n=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:I,webpack:null,modules:null},t),r=null;function i(){if(!r){var t=new R(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if("undefined"===typeof window&&A.push(i),!k&&"undefined"!==typeof window&&"function"===typeof n.webpack){var o=n.webpack();P.push((function(e){var t,n=O(o);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(-1!==e.indexOf(r))return i()}}catch(a){n.e(a)}finally{n.f()}}))}var a=function(e,t){i();var o=Object(l["useContext"])(C),a=Object(u["useSubscription"])(r);return Object(l["useImperativeHandle"])(t,(function(){return{retry:r.retry}})),o&&Array.isArray(n.modules)&&n.modules.forEach((function(e){o(e)})),a.loading||a.error?Object(l["createElement"])(n.loading,{isLoading:a.loading,pastDelay:a.pastDelay,timedOut:a.timedOut,error:a.error,retry:r.retry}):a.loaded?n.render(a.loaded,e):null},s=Object(l["forwardRef"])(a);return s.preload=function(){return i()},s.displayName="LoadableComponent",s}var R=function(){function e(t,n){v(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return g(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"===typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),n.delay)),"number"===typeof n.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),n.timeout))),this._res.promise.then((function(){e._update(),e._clearTimeouts()}))["catch"]((function(t){e._update(),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=f(f({},this._state),e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return f(f({},this._state),{},{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading})}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks["delete"](e)}}}]),e}();function N(e){return D(M,e)}function j(e){if("function"!==typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return D(T,e)}function F(e,t){var n=[];while(e.length){var r=e.pop();n.push(r(t))}return Promise.all(n).then((function(){if(e.length)return F(e,t)}))}function B(e){var t=N,n={loading:function(e){e.error,e.isLoading;return Object(l["createElement"])("p",null,"loading...")}};if("function"===typeof e)n.loader=e;else{if("object"!==p(e))throw new Error("Unexpect arguments ".concat(e));n=f(f({},n),e)}return t(n)}function U(e,t){if(!e)throw new Error(t)}N.Map=j,N.preloadAll=function(){return new Promise((function(e,t){F(A).then(e,t)}))},N.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var n=function(){return k=!0,t()};F(P,e).then(n,n)}))},"undefined"!==typeof window&&(window.__NEXT_PRELOADREADY=N.preloadReady);var z,H=function(){return"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement};function V(e){var t=e.fns,n=e.args;if(1===t.length)return t[0];var r=t.pop();return t.reduce((function(e,t){return function(){return t(e,n)}}),r)}function G(e){return!!e&&"object"===p(e)&&"function"===typeof e.then}(function(e){e["compose"]="compose",e["modify"]="modify",e["event"]="event"})(z||(z={}));var W=function(){function e(t){v(this,e),this.validKeys=void 0,this.hooks={},this.validKeys=(null===t||void 0===t?void 0:t.validKeys)||[]}return g(e,[{key:"register",value:function(e){var t=this;U(!!e.apply,"register failed, plugin.apply must supplied"),U(!!e.path,"register failed, plugin.path must supplied"),Object.keys(e.apply).forEach((function(n){U(t.validKeys.indexOf(n)>-1,"register failed, invalid key ".concat(n," from plugin ").concat(e.path,".")),t.hooks[n]||(t.hooks[n]=[]),t.hooks[n]=t.hooks[n].concat(e.apply[n])}))}},{key:"getHooks",value:function(e){var t=e.split("."),n=b(t),r=n[0],i=n.slice(1),o=this.hooks[r]||[];return i.length&&(o=o.map((function(e){try{var t,n=e,r=O(i);try{for(r.s();!(t=r.n()).done;){var o=t.value;n=n[o]}}catch(a){r.e(a)}finally{r.f()}return n}catch(s){return null}})).filter(Boolean)),o}},{key:"applyPlugins",value:function(e){var t=e.key,n=e.type,r=e.initialValue,o=e.args,a=e.async,s=this.getHooks(t)||[];switch(o&&U("object"===p(o),"applyPlugins failed, args must be plain object."),n){case z.modify:return a?s.reduce(function(){var e=h(i().mark((function e(n,r){var a;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(U("function"===typeof r||"object"===p(r)||G(r),"applyPlugins failed, all hooks for key ".concat(t," must be function, plain object or Promise.")),!G(n)){e.next=5;break}return e.next=4,n;case 4:n=e.sent;case 5:if("function"!==typeof r){e.next=16;break}if(a=r(n,o),!G(a)){e.next=13;break}return e.next=10,a;case 10:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",a);case 14:e.next=21;break;case 16:if(!G(r)){e.next=20;break}return e.next=19,r;case 19:r=e.sent;case 20:return e.abrupt("return",f(f({},n),r));case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G(r)?r:Promise.resolve(r)):s.reduce((function(e,n){return U("function"===typeof n||"object"===p(n),"applyPlugins failed, all hooks for key ".concat(t," must be function or plain object.")),"function"===typeof n?n(e,o):f(f({},e),n)}),r);case z.event:return s.forEach((function(e){U("function"===typeof e,"applyPlugins failed, all hooks for key ".concat(t," must be function.")),e(o)}));case z.compose:return function(){return V({fns:s.concat(r),args:o})()}}}}]),e}()},LvDl:function(e,t,n){(function(e,r){var i;(function(){var o,a="4.17.21",s=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",p=500,d="__lodash_placeholder__",h=1,v=2,m=4,g=1,y=2,b=1,_=2,E=4,x=8,w=16,S=32,O=64,C=128,A=256,P=512,k=30,M="...",T=800,L=16,I=1,D=2,R=3,N=1/0,j=9007199254740991,F=17976931348623157e292,B=NaN,U=4294967295,z=U-1,H=U>>>1,V=[["ary",C],["bind",b],["bindKey",_],["curry",x],["curryRight",w],["flip",P],["partial",S],["partialRight",O],["rearg",A]],G="[object Arguments]",W="[object Array]",q="[object AsyncFunction]",Y="[object Boolean]",X="[object Date]",K="[object DOMException]",Z="[object Error]",Q="[object Function]",J="[object GeneratorFunction]",$="[object Map]",ee="[object Number]",te="[object Null]",ne="[object Object]",re="[object Promise]",ie="[object Proxy]",oe="[object RegExp]",ae="[object Set]",se="[object String]",le="[object Symbol]",ue="[object Undefined]",ce="[object WeakMap]",fe="[object WeakSet]",pe="[object ArrayBuffer]",de="[object DataView]",he="[object Float32Array]",ve="[object Float64Array]",me="[object Int8Array]",ge="[object Int16Array]",ye="[object Int32Array]",be="[object Uint8Array]",_e="[object Uint8ClampedArray]",Ee="[object Uint16Array]",xe="[object Uint32Array]",we=/\b__p \+= '';/g,Se=/\b(__p \+=) '' \+/g,Oe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ce=/&(?:amp|lt|gt|quot|#39);/g,Ae=/[&<>"']/g,Pe=RegExp(Ce.source),ke=RegExp(Ae.source),Me=/<%-([\s\S]+?)%>/g,Te=/<%([\s\S]+?)%>/g,Le=/<%=([\s\S]+?)%>/g,Ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/,Re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/[\\^$.*+?()[\]{}|]/g,je=RegExp(Ne.source),Fe=/^\s+/,Be=/\s/,Ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ze=/\{\n\/\* \[wrapped with (.+)\] \*/,He=/,? & /,Ve=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ge=/[()=,{}\[\]\/\s]/,We=/\\(\\)?/g,qe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ye=/\w*$/,Xe=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,Ze=/^\[object .+?Constructor\]$/,Qe=/^0o[0-7]+$/i,Je=/^(?:0|[1-9]\d*)$/,$e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,et=/($^)/,tt=/['\n\r\u2028\u2029\\]/g,nt="\\ud800-\\udfff",rt="\\u0300-\\u036f",it="\\ufe20-\\ufe2f",ot="\\u20d0-\\u20ff",at=rt+it+ot,st="\\u2700-\\u27bf",lt="a-z\\xdf-\\xf6\\xf8-\\xff",ut="\\xac\\xb1\\xd7\\xf7",ct="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ft="\\u2000-\\u206f",pt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="A-Z\\xc0-\\xd6\\xd8-\\xde",ht="\\ufe0e\\ufe0f",vt=ut+ct+ft+pt,mt="['\u2019]",gt="["+nt+"]",yt="["+vt+"]",bt="["+at+"]",_t="\\d+",Et="["+st+"]",xt="["+lt+"]",wt="[^"+nt+vt+_t+st+lt+dt+"]",St="\\ud83c[\\udffb-\\udfff]",Ot="(?:"+bt+"|"+St+")",Ct="[^"+nt+"]",At="(?:\\ud83c[\\udde6-\\uddff]){2}",Pt="[\\ud800-\\udbff][\\udc00-\\udfff]",kt="["+dt+"]",Mt="\\u200d",Tt="(?:"+xt+"|"+wt+")",Lt="(?:"+kt+"|"+wt+")",It="(?:"+mt+"(?:d|ll|m|re|s|t|ve))?",Dt="(?:"+mt+"(?:D|LL|M|RE|S|T|VE))?",Rt=Ot+"?",Nt="["+ht+"]?",jt="(?:"+Mt+"(?:"+[Ct,At,Pt].join("|")+")"+Nt+Rt+")*",Ft="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Bt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ut=Nt+Rt+jt,zt="(?:"+[Et,At,Pt].join("|")+")"+Ut,Ht="(?:"+[Ct+bt+"?",bt,At,Pt,gt].join("|")+")",Vt=RegExp(mt,"g"),Gt=RegExp(bt,"g"),Wt=RegExp(St+"(?="+St+")|"+Ht+Ut,"g"),qt=RegExp([kt+"?"+xt+"+"+It+"(?="+[yt,kt,"$"].join("|")+")",Lt+"+"+Dt+"(?="+[yt,kt+Tt,"$"].join("|")+")",kt+"?"+Tt+"+"+It,kt+"+"+Dt,Bt,Ft,_t,zt].join("|"),"g"),Yt=RegExp("["+Mt+nt+at+ht+"]"),Xt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zt=-1,Qt={};Qt[he]=Qt[ve]=Qt[me]=Qt[ge]=Qt[ye]=Qt[be]=Qt[_e]=Qt[Ee]=Qt[xe]=!0,Qt[G]=Qt[W]=Qt[pe]=Qt[Y]=Qt[de]=Qt[X]=Qt[Z]=Qt[Q]=Qt[$]=Qt[ee]=Qt[ne]=Qt[oe]=Qt[ae]=Qt[se]=Qt[ce]=!1;var Jt={};Jt[G]=Jt[W]=Jt[pe]=Jt[de]=Jt[Y]=Jt[X]=Jt[he]=Jt[ve]=Jt[me]=Jt[ge]=Jt[ye]=Jt[$]=Jt[ee]=Jt[ne]=Jt[oe]=Jt[ae]=Jt[se]=Jt[le]=Jt[be]=Jt[_e]=Jt[Ee]=Jt[xe]=!0,Jt[Z]=Jt[Q]=Jt[ce]=!1;var $t={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},en={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rn=parseFloat,on=parseInt,an="object"==typeof e&&e&&e.Object===Object&&e,sn="object"==typeof self&&self&&self.Object===Object&&self,ln=an||sn||Function("return this")(),un=t&&!t.nodeType&&t,cn=un&&"object"==typeof r&&r&&!r.nodeType&&r,fn=cn&&cn.exports===un,pn=fn&&an.process,dn=function(){try{var e=cn&&cn.require&&cn.require("util").types;return e||pn&&pn.binding&&pn.binding("util")}catch(t){}}(),hn=dn&&dn.isArrayBuffer,vn=dn&&dn.isDate,mn=dn&&dn.isMap,gn=dn&&dn.isRegExp,yn=dn&&dn.isSet,bn=dn&&dn.isTypedArray;function _n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function En(e,t,n,r){var i=-1,o=null==e?0:e.length;while(++i<o){var a=e[i];t(r,a,n(a),e)}return r}function xn(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}function wn(e,t){var n=null==e?0:e.length;while(n--)if(!1===t(e[n],n,e))break;return e}function Sn(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!t(e[n],n,e))return!1;return!0}function On(e,t){var n=-1,r=null==e?0:e.length,i=0,o=[];while(++n<r){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Cn(e,t){var n=null==e?0:e.length;return!!n&&Fn(e,t,0)>-1}function An(e,t,n){var r=-1,i=null==e?0:e.length;while(++r<i)if(n(t,e[r]))return!0;return!1}function Pn(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}function kn(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}function Mn(e,t,n,r){var i=-1,o=null==e?0:e.length;r&&o&&(n=e[++i]);while(++i<o)n=t(n,e[i],i,e);return n}function Tn(e,t,n,r){var i=null==e?0:e.length;r&&i&&(n=e[--i]);while(i--)n=t(n,e[i],i,e);return n}function Ln(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}var In=Hn("length");function Dn(e){return e.split("")}function Rn(e){return e.match(Ve)||[]}function Nn(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function jn(e,t,n,r){var i=e.length,o=n+(r?1:-1);while(r?o--:++o<i)if(t(e[o],o,e))return o;return-1}function Fn(e,t,n){return t===t?hr(e,t,n):jn(e,Un,n)}function Bn(e,t,n,r){var i=n-1,o=e.length;while(++i<o)if(r(e[i],t))return i;return-1}function Un(e){return e!==e}function zn(e,t){var n=null==e?0:e.length;return n?qn(e,t)/n:B}function Hn(e){return function(t){return null==t?o:t[e]}}function Vn(e){return function(t){return null==e?o:e[t]}}function Gn(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Wn(e,t){var n=e.length;e.sort(t);while(n--)e[n]=e[n].value;return e}function qn(e,t){var n,r=-1,i=e.length;while(++r<i){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Yn(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}function Xn(e,t){return Pn(t,(function(t){return[t,e[t]]}))}function Kn(e){return e?e.slice(0,yr(e)+1).replace(Fe,""):e}function Zn(e){return function(t){return e(t)}}function Qn(e,t){return Pn(t,(function(t){return e[t]}))}function Jn(e,t){return e.has(t)}function $n(e,t){var n=-1,r=e.length;while(++n<r&&Fn(t,e[n],0)>-1);return n}function er(e,t){var n=e.length;while(n--&&Fn(t,e[n],0)>-1);return n}function tr(e,t){var n=e.length,r=0;while(n--)e[n]===t&&++r;return r}var nr=Vn($t),rr=Vn(en);function ir(e){return"\\"+nn[e]}function or(e,t){return null==e?o:e[t]}function ar(e){return Yt.test(e)}function sr(e){return Xt.test(e)}function lr(e){var t,n=[];while(!(t=e.next()).done)n.push(t.value);return n}function ur(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cr(e,t){return function(n){return e(t(n))}}function fr(e,t){var n=-1,r=e.length,i=0,o=[];while(++n<r){var a=e[n];a!==t&&a!==d||(e[n]=d,o[i++]=n)}return o}function pr(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dr(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hr(e,t,n){var r=n-1,i=e.length;while(++r<i)if(e[r]===t)return r;return-1}function vr(e,t,n){var r=n+1;while(r--)if(e[r]===t)return r;return r}function mr(e){return ar(e)?_r(e):In(e)}function gr(e){return ar(e)?Er(e):Dn(e)}function yr(e){var t=e.length;while(t--&&Be.test(e.charAt(t)));return t}var br=Vn(tn);function _r(e){var t=Wt.lastIndex=0;while(Wt.test(e))++t;return t}function Er(e){return e.match(Wt)||[]}function xr(e){return e.match(qt)||[]}var wr=function e(t){t=null==t?ln:Sr.defaults(ln.Object(),t,Sr.pick(ln,Kt));var n=t.Array,r=t.Date,i=t.Error,Be=t.Function,Ve=t.Math,nt=t.Object,rt=t.RegExp,it=t.String,ot=t.TypeError,at=n.prototype,st=Be.prototype,lt=nt.prototype,ut=t["__core-js_shared__"],ct=st.toString,ft=lt.hasOwnProperty,pt=0,dt=function(){var e=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ht=lt.toString,vt=ct.call(nt),mt=ln._,gt=rt("^"+ct.call(ft).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=fn?t.Buffer:o,bt=t.Symbol,_t=t.Uint8Array,Et=yt?yt.allocUnsafe:o,xt=cr(nt.getPrototypeOf,nt),wt=nt.create,St=lt.propertyIsEnumerable,Ot=at.splice,Ct=bt?bt.isConcatSpreadable:o,At=bt?bt.iterator:o,Pt=bt?bt.toStringTag:o,kt=function(){try{var e=Ya(nt,"defineProperty");return e({},"",{}),e}catch(t){}}(),Mt=t.clearTimeout!==ln.clearTimeout&&t.clearTimeout,Tt=r&&r.now!==ln.Date.now&&r.now,Lt=t.setTimeout!==ln.setTimeout&&t.setTimeout,It=Ve.ceil,Dt=Ve.floor,Rt=nt.getOwnPropertySymbols,Nt=yt?yt.isBuffer:o,jt=t.isFinite,Ft=at.join,Bt=cr(nt.keys,nt),Ut=Ve.max,zt=Ve.min,Ht=r.now,Wt=t.parseInt,qt=Ve.random,Yt=at.reverse,Xt=Ya(t,"DataView"),$t=Ya(t,"Map"),en=Ya(t,"Promise"),tn=Ya(t,"Set"),nn=Ya(t,"WeakMap"),an=Ya(nt,"create"),sn=nn&&new nn,un={},cn=Ls(Xt),pn=Ls($t),dn=Ls(en),In=Ls(tn),Dn=Ls(nn),Vn=bt?bt.prototype:o,hr=Vn?Vn.valueOf:o,_r=Vn?Vn.toString:o;function Er(e){if(Oc(e)&&!lc(e)&&!(e instanceof Ar)){if(e instanceof Cr)return e;if(ft.call(e,"__wrapped__"))return Ds(e)}return new Cr(e)}var wr=function(){function e(){}return function(t){if(!Sc(t))return{};if(wt)return wt(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Or(){}function Cr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Ar(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function Pr(){var e=new Ar(this.__wrapped__);return e.__actions__=ia(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ia(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ia(this.__views__),e}function kr(){if(this.__filtered__){var e=new Ar(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Mr(){var e=this.__wrapped__.value(),t=this.__dir__,n=lc(e),r=t<0,i=n?e.length:0,o=Ja(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,f=c.length,p=0,d=zt(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return Bo(e,this.__actions__);var h=[];e:while(l--&&p<d){u+=t;var v=-1,m=e[u];while(++v<f){var g=c[v],y=g.iteratee,b=g.type,_=y(m);if(b==D)m=_;else if(!_){if(b==I)continue e;break e}}h[p++]=m}return h}function Tr(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Lr(){this.__data__=an?an(null):{},this.size=0}function Ir(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Dr(e){var t=this.__data__;if(an){var n=t[e];return n===f?o:n}return ft.call(t,e)?t[e]:o}function Rr(e){var t=this.__data__;return an?t[e]!==o:ft.call(t,e)}function Nr(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=an&&t===o?f:t,this}function jr(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Fr(){this.__data__=[],this.size=0}function Br(e){var t=this.__data__,n=ci(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ot.call(t,n,1),--this.size,!0}function Ur(e){var t=this.__data__,n=ci(t,e);return n<0?o:t[n][1]}function zr(e){return ci(this.__data__,e)>-1}function Hr(e,t){var n=this.__data__,r=ci(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Vr(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Gr(){this.size=0,this.__data__={hash:new Tr,map:new($t||jr),string:new Tr}}function Wr(e){var t=Wa(this,e)["delete"](e);return this.size-=t?1:0,t}function qr(e){return Wa(this,e).get(e)}function Yr(e){return Wa(this,e).has(e)}function Xr(e,t){var n=Wa(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Kr(e){var t=-1,n=null==e?0:e.length;this.__data__=new Vr;while(++t<n)this.add(e[t])}function Zr(e){return this.__data__.set(e,f),this}function Qr(e){return this.__data__.has(e)}function Jr(e){var t=this.__data__=new jr(e);this.size=t.size}function $r(){this.__data__=new jr,this.size=0}function ei(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}function ti(e){return this.__data__.get(e)}function ni(e){return this.__data__.has(e)}function ri(e,t){var n=this.__data__;if(n instanceof jr){var r=n.__data__;if(!$t||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Vr(r)}return n.set(e,t),this.size=n.size,this}function ii(e,t){var n=lc(e),r=!n&&sc(e),i=!n&&!r&&dc(e),o=!n&&!r&&!i&&Uc(e),a=n||r||i||o,s=a?Yn(e.length,it):[],l=s.length;for(var u in e)!t&&!ft.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||as(u,l))||s.push(u);return s}function oi(e){var t=e.length;return t?e[yo(0,t-1)]:o}function ai(e,t){return ks(ia(e),mi(t,0,e.length))}function si(e){return ks(ia(e))}function li(e,t,n){(n!==o&&!ic(e[t],n)||n===o&&!(t in e))&&hi(e,t,n)}function ui(e,t,n){var r=e[t];ft.call(e,t)&&ic(r,n)&&(n!==o||t in e)||hi(e,t,n)}function ci(e,t){var n=e.length;while(n--)if(ic(e[n][0],t))return n;return-1}function fi(e,t,n,r){return xi(e,(function(e,i,o){t(r,e,n(e),o)})),r}function pi(e,t){return e&&oa(t,wf(t),e)}function di(e,t){return e&&oa(t,Sf(t),e)}function hi(e,t,n){"__proto__"==t&&kt?kt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function vi(e,t){var r=-1,i=t.length,a=n(i),s=null==e;while(++r<i)a[r]=s?o:gf(e,t[r]);return a}function mi(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function gi(e,t,n,r,i,a){var s,l=t&h,u=t&v,c=t&m;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!Sc(e))return e;var f=lc(e);if(f){if(s=ts(e),!l)return ia(e,s)}else{var p=Qa(e),d=p==Q||p==J;if(dc(e))return Xo(e,l);if(p==ne||p==G||d&&!i){if(s=u||d?{}:ns(e),!l)return u?sa(e,di(s,e)):aa(e,pi(s,e))}else{if(!Jt[p])return i?e:{};s=rs(e,p,l)}}a||(a=new Jr);var g=a.get(e);if(g)return g;a.set(e,s),jc(e)?e.forEach((function(r){s.add(gi(r,t,n,r,e,a))})):Cc(e)&&e.forEach((function(r,i){s.set(i,gi(r,t,n,i,e,a))}));var y=c?u?Ua:Ba:u?Sf:wf,b=f?o:y(e);return xn(b||e,(function(r,i){b&&(i=r,r=e[i]),ui(s,i,gi(r,t,n,i,e,a))})),s}function yi(e){var t=wf(e);return function(n){return bi(n,e,t)}}function bi(e,t,n){var r=n.length;if(null==e)return!r;e=nt(e);while(r--){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function _i(e,t,n){if("function"!=typeof e)throw new ot(u);return Os((function(){e.apply(o,n)}),t)}function Ei(e,t,n,r){var i=-1,o=Cn,a=!0,l=e.length,u=[],c=t.length;if(!l)return u;n&&(t=Pn(t,Zn(n))),r?(o=An,a=!1):t.length>=s&&(o=Jn,a=!1,t=new Kr(t));e:while(++i<l){var f=e[i],p=null==n?f:n(f);if(f=r||0!==f?f:0,a&&p===p){var d=c;while(d--)if(t[d]===p)continue e;u.push(f)}else o(t,p,r)||u.push(f)}return u}Er.templateSettings={escape:Me,evaluate:Te,interpolate:Le,variable:"",imports:{_:Er}},Er.prototype=Or.prototype,Er.prototype.constructor=Er,Cr.prototype=wr(Or.prototype),Cr.prototype.constructor=Cr,Ar.prototype=wr(Or.prototype),Ar.prototype.constructor=Ar,Tr.prototype.clear=Lr,Tr.prototype["delete"]=Ir,Tr.prototype.get=Dr,Tr.prototype.has=Rr,Tr.prototype.set=Nr,jr.prototype.clear=Fr,jr.prototype["delete"]=Br,jr.prototype.get=Ur,jr.prototype.has=zr,jr.prototype.set=Hr,Vr.prototype.clear=Gr,Vr.prototype["delete"]=Wr,Vr.prototype.get=qr,Vr.prototype.has=Yr,Vr.prototype.set=Xr,Kr.prototype.add=Kr.prototype.push=Zr,Kr.prototype.has=Qr,Jr.prototype.clear=$r,Jr.prototype["delete"]=ei,Jr.prototype.get=ti,Jr.prototype.has=ni,Jr.prototype.set=ri;var xi=ca(Ti),wi=ca(Li,!0);function Si(e,t){var n=!0;return xi(e,(function(e,r,i){return n=!!t(e,r,i),n})),n}function Oi(e,t,n){var r=-1,i=e.length;while(++r<i){var a=e[r],s=t(a);if(null!=s&&(l===o?s===s&&!Bc(s):n(s,l)))var l=s,u=a}return u}function Ci(e,t,n,r){var i=e.length;n=Xc(n),n<0&&(n=-n>i?0:i+n),r=r===o||r>i?i:Xc(r),r<0&&(r+=i),r=n>r?0:Kc(r);while(n<r)e[n++]=t;return e}function Ai(e,t){var n=[];return xi(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Pi(e,t,n,r,i){var o=-1,a=e.length;n||(n=os),i||(i=[]);while(++o<a){var s=e[o];t>0&&n(s)?t>1?Pi(s,t-1,n,r,i):kn(i,s):r||(i[i.length]=s)}return i}var ki=fa(),Mi=fa(!0);function Ti(e,t){return e&&ki(e,t,wf)}function Li(e,t){return e&&Mi(e,t,wf)}function Ii(e,t){return On(t,(function(t){return Ec(e[t])}))}function Di(e,t){t=Go(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[Ts(t[n++])];return n&&n==r?e:o}function Ri(e,t,n){var r=t(e);return lc(e)?r:kn(r,n(e))}function Ni(e){return null==e?e===o?ue:te:Pt&&Pt in nt(e)?Xa(e):bs(e)}function ji(e,t){return e>t}function Fi(e,t){return null!=e&&ft.call(e,t)}function Bi(e,t){return null!=e&&t in nt(e)}function Ui(e,t,n){return e>=zt(t,n)&&e<Ut(t,n)}function zi(e,t,r){var i=r?An:Cn,a=e[0].length,s=e.length,l=s,u=n(s),c=1/0,f=[];while(l--){var p=e[l];l&&t&&(p=Pn(p,Zn(t))),c=zt(p.length,c),u[l]=!r&&(t||a>=120&&p.length>=120)?new Kr(l&&p):o}p=e[0];var d=-1,h=u[0];e:while(++d<a&&f.length<c){var v=p[d],m=t?t(v):v;if(v=r||0!==v?v:0,!(h?Jn(h,m):i(f,m,r))){l=s;while(--l){var g=u[l];if(!(g?Jn(g,m):i(e[l],m,r)))continue e}h&&h.push(m),f.push(v)}}return f}function Hi(e,t,n,r){return Ti(e,(function(e,i,o){t(r,n(e),i,o)})),r}function Vi(e,t,n){t=Go(t,e),e=Es(e,t);var r=null==e?e:e[Ts(ol(t))];return null==r?o:_n(r,e,n)}function Gi(e){return Oc(e)&&Ni(e)==G}function Wi(e){return Oc(e)&&Ni(e)==pe}function qi(e){return Oc(e)&&Ni(e)==X}function Yi(e,t,n,r,i){return e===t||(null==e||null==t||!Oc(e)&&!Oc(t)?e!==e&&t!==t:Xi(e,t,n,r,Yi,i))}function Xi(e,t,n,r,i,o){var a=lc(e),s=lc(t),l=a?W:Qa(e),u=s?W:Qa(t);l=l==G?ne:l,u=u==G?ne:u;var c=l==ne,f=u==ne,p=l==u;if(p&&dc(e)){if(!dc(t))return!1;a=!0,c=!1}if(p&&!c)return o||(o=new Jr),a||Uc(e)?Ra(e,t,n,r,i,o):Na(e,t,l,n,r,i,o);if(!(n&g)){var d=c&&ft.call(e,"__wrapped__"),h=f&&ft.call(t,"__wrapped__");if(d||h){var v=d?e.value():e,m=h?t.value():t;return o||(o=new Jr),i(v,m,n,r,o)}}return!!p&&(o||(o=new Jr),ja(e,t,n,r,i,o))}function Ki(e){return Oc(e)&&Qa(e)==$}function Zi(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;e=nt(e);while(i--){var l=n[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}while(++i<a){l=n[i];var u=l[0],c=e[u],f=l[1];if(s&&l[2]){if(c===o&&!(u in e))return!1}else{var p=new Jr;if(r)var d=r(c,f,u,e,t,p);if(!(d===o?Yi(f,c,g|y,r,p):d))return!1}}return!0}function Qi(e){if(!Sc(e)||fs(e))return!1;var t=Ec(e)?gt:Ze;return t.test(Ls(e))}function Ji(e){return Oc(e)&&Ni(e)==oe}function $i(e){return Oc(e)&&Qa(e)==ae}function eo(e){return Oc(e)&&wc(e.length)&&!!Qt[Ni(e)]}function to(e){return"function"==typeof e?e:null==e?Tp:"object"==typeof e?lc(e)?so(e[0],e[1]):ao(e):Gp(e)}function no(e){if(!ds(e))return Bt(e);var t=[];for(var n in nt(e))ft.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ro(e){if(!Sc(e))return ys(e);var t=ds(e),n=[];for(var r in e)("constructor"!=r||!t&&ft.call(e,r))&&n.push(r);return n}function io(e,t){return e<t}function oo(e,t){var r=-1,i=cc(e)?n(e.length):[];return xi(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function ao(e){var t=qa(e);return 1==t.length&&t[0][2]?vs(t[0][0],t[0][1]):function(n){return n===e||Zi(n,e,t)}}function so(e,t){return ls(e)&&hs(t)?vs(Ts(e),t):function(n){var r=gf(n,e);return r===o&&r===t?bf(n,e):Yi(t,r,g|y)}}function lo(e,t,n,r,i){e!==t&&ki(t,(function(a,s){if(i||(i=new Jr),Sc(a))uo(e,t,s,n,lo,r,i);else{var l=r?r(ws(e,s),a,s+"",e,t,i):o;l===o&&(l=a),li(e,s,l)}}),Sf)}function uo(e,t,n,r,i,a,s){var l=ws(e,n),u=ws(t,n),c=s.get(u);if(c)li(e,n,c);else{var f=a?a(l,u,n+"",e,t,s):o,p=f===o;if(p){var d=lc(u),h=!d&&dc(u),v=!d&&!h&&Uc(u);f=u,d||h||v?lc(l)?f=l:fc(l)?f=ia(l):h?(p=!1,f=Xo(u,!0)):v?(p=!1,f=$o(u,!0)):f=[]:Dc(u)||sc(u)?(f=l,sc(l)?f=Qc(l):Sc(l)&&!Ec(l)||(f=ns(u))):p=!1}p&&(s.set(u,f),i(f,u,r,a,s),s["delete"](u)),li(e,n,f)}}function co(e,t){var n=e.length;if(n)return t+=t<0?n:0,as(t,n)?e[t]:o}function fo(e,t,n){t=t.length?Pn(t,(function(e){return lc(e)?function(t){return Di(t,1===e.length?e[0]:e)}:e})):[Tp];var r=-1;t=Pn(t,Zn(Ga()));var i=oo(e,(function(e,n,i){var o=Pn(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return Wn(i,(function(e,t){return ta(e,t,n)}))}function po(e,t){return ho(e,t,(function(t,n){return bf(e,n)}))}function ho(e,t,n){var r=-1,i=t.length,o={};while(++r<i){var a=t[r],s=Di(e,a);n(s,a)&&So(o,Go(a,e),s)}return o}function vo(e){return function(t){return Di(t,e)}}function mo(e,t,n,r){var i=r?Bn:Fn,o=-1,a=t.length,s=e;e===t&&(t=ia(t)),n&&(s=Pn(e,Zn(n)));while(++o<a){var l=0,u=t[o],c=n?n(u):u;while((l=i(s,c,l,r))>-1)s!==e&&Ot.call(s,l,1),Ot.call(e,l,1)}return e}function go(e,t){var n=e?t.length:0,r=n-1;while(n--){var i=t[n];if(n==r||i!==o){var o=i;as(i)?Ot.call(e,i,1):No(e,i)}}return e}function yo(e,t){return e+Dt(qt()*(t-e+1))}function bo(e,t,r,i){var o=-1,a=Ut(It((t-e)/(r||1)),0),s=n(a);while(a--)s[i?a:++o]=e,e+=r;return s}function _o(e,t){var n="";if(!e||t<1||t>j)return n;do{t%2&&(n+=e),t=Dt(t/2),t&&(e+=e)}while(t);return n}function Eo(e,t){return Cs(_s(e,t,Tp),e+"")}function xo(e){return oi(Hf(e))}function wo(e,t){var n=Hf(e);return ks(n,mi(t,0,n.length))}function So(e,t,n,r){if(!Sc(e))return e;t=Go(t,e);var i=-1,a=t.length,s=a-1,l=e;while(null!=l&&++i<a){var u=Ts(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=s){var f=l[u];c=r?r(f,u,l):o,c===o&&(c=Sc(f)?f:as(t[i+1])?[]:{})}ui(l,u,c),l=l[u]}return e}var Oo=sn?function(e,t){return sn.set(e,t),e}:Tp,Co=kt?function(e,t){return kt(e,"toString",{configurable:!0,enumerable:!1,value:Ap(t),writable:!0})}:Tp;function Ao(e){return ks(Hf(e))}function Po(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;var a=n(o);while(++i<o)a[i]=e[i+t];return a}function ko(e,t){var n;return xi(e,(function(e,r,i){return n=t(e,r,i),!n})),!!n}function Mo(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=H){while(r<i){var o=r+i>>>1,a=e[o];null!==a&&!Bc(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return To(e,t,Tp,n)}function To(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;t=n(t);var s=t!==t,l=null===t,u=Bc(t),c=t===o;while(i<a){var f=Dt((i+a)/2),p=n(e[f]),d=p!==o,h=null===p,v=p===p,m=Bc(p);if(s)var g=r||v;else g=c?v&&(r||d):l?v&&d&&(r||!h):u?v&&d&&!h&&(r||!m):!h&&!m&&(r?p<=t:p<t);g?i=f+1:a=f}return zt(a,z)}function Lo(e,t){var n=-1,r=e.length,i=0,o=[];while(++n<r){var a=e[n],s=t?t(a):a;if(!n||!ic(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function Io(e){return"number"==typeof e?e:Bc(e)?B:+e}function Do(e){if("string"==typeof e)return e;if(lc(e))return Pn(e,Do)+"";if(Bc(e))return _r?_r.call(e):"";var t=e+"";return"0"==t&&1/e==-N?"-0":t}function Ro(e,t,n){var r=-1,i=Cn,o=e.length,a=!0,l=[],u=l;if(n)a=!1,i=An;else if(o>=s){var c=t?null:ka(e);if(c)return pr(c);a=!1,i=Jn,u=new Kr}else u=t?[]:l;e:while(++r<o){var f=e[r],p=t?t(f):f;if(f=n||0!==f?f:0,a&&p===p){var d=u.length;while(d--)if(u[d]===p)continue e;t&&u.push(p),l.push(f)}else i(u,p,n)||(u!==l&&u.push(p),l.push(f))}return l}function No(e,t){return t=Go(t,e),e=Es(e,t),null==e||delete e[Ts(ol(t))]}function jo(e,t,n,r){return So(e,t,n(Di(e,t)),r)}function Fo(e,t,n,r){var i=e.length,o=r?i:-1;while((r?o--:++o<i)&&t(e[o],o,e));return n?Po(e,r?0:o,r?o+1:i):Po(e,r?o+1:0,r?i:o)}function Bo(e,t){var n=e;return n instanceof Ar&&(n=n.value()),Mn(t,(function(e,t){return t.func.apply(t.thisArg,kn([e],t.args))}),n)}function Uo(e,t,r){var i=e.length;if(i<2)return i?Ro(e[0]):[];var o=-1,a=n(i);while(++o<i){var s=e[o],l=-1;while(++l<i)l!=o&&(a[o]=Ei(a[o]||s,e[l],t,r))}return Ro(Pi(a,1),t,r)}function zo(e,t,n){var r=-1,i=e.length,a=t.length,s={};while(++r<i){var l=r<a?t[r]:o;n(s,e[r],l)}return s}function Ho(e){return fc(e)?e:[]}function Vo(e){return"function"==typeof e?e:Tp}function Go(e,t){return lc(e)?e:ls(e,t)?[e]:Ms($c(e))}var Wo=Eo;function qo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Po(e,t,n)}var Yo=Mt||function(e){return ln.clearTimeout(e)};function Xo(e,t){if(t)return e.slice();var n=e.length,r=Et?Et(n):new e.constructor(n);return e.copy(r),r}function Ko(e){var t=new e.constructor(e.byteLength);return new _t(t).set(new _t(e)),t}function Zo(e,t){var n=t?Ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Qo(e){var t=new e.constructor(e.source,Ye.exec(e));return t.lastIndex=e.lastIndex,t}function Jo(e){return hr?nt(hr.call(e)):{}}function $o(e,t){var n=t?Ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ea(e,t){if(e!==t){var n=e!==o,r=null===e,i=e===e,a=Bc(e),s=t!==o,l=null===t,u=t===t,c=Bc(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||l&&n&&i||!s&&i||!u)return-1}return 0}function ta(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;while(++r<a){var l=ea(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*("desc"==u?-1:1)}}return e.index-t.index}function na(e,t,r,i){var o=-1,a=e.length,s=r.length,l=-1,u=t.length,c=Ut(a-s,0),f=n(u+c),p=!i;while(++l<u)f[l]=t[l];while(++o<s)(p||o<a)&&(f[r[o]]=e[o]);while(c--)f[l++]=e[o++];return f}function ra(e,t,r,i){var o=-1,a=e.length,s=-1,l=r.length,u=-1,c=t.length,f=Ut(a-l,0),p=n(f+c),d=!i;while(++o<f)p[o]=e[o];var h=o;while(++u<c)p[h+u]=t[u];while(++s<l)(d||o<a)&&(p[h+r[s]]=e[o++]);return p}function ia(e,t){var r=-1,i=e.length;t||(t=n(i));while(++r<i)t[r]=e[r];return t}function oa(e,t,n,r){var i=!n;n||(n={});var a=-1,s=t.length;while(++a<s){var l=t[a],u=r?r(n[l],e[l],l,n,e):o;u===o&&(u=e[l]),i?hi(n,l,u):ui(n,l,u)}return n}function aa(e,t){return oa(e,Ka(e),t)}function sa(e,t){return oa(e,Za(e),t)}function la(e,t){return function(n,r){var i=lc(n)?En:fi,o=t?t():{};return i(n,e,Ga(r,2),o)}}function ua(e){return Eo((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;a=e.length>3&&"function"==typeof a?(i--,a):o,s&&ss(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=nt(t);while(++r<i){var l=n[r];l&&e(t,l,r,a)}return t}))}function ca(e,t){return function(n,r){if(null==n)return n;if(!cc(n))return e(n,r);var i=n.length,o=t?i:-1,a=nt(n);while(t?o--:++o<i)if(!1===r(a[o],o,a))break;return n}}function fa(e){return function(t,n,r){var i=-1,o=nt(t),a=r(t),s=a.length;while(s--){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}function pa(e,t,n){var r=t&b,i=va(e);function o(){var t=this&&this!==ln&&this instanceof o?i:e;return t.apply(r?n:this,arguments)}return o}function da(e){return function(t){t=$c(t);var n=ar(t)?gr(t):o,r=n?n[0]:t.charAt(0),i=n?qo(n,1).join(""):t.slice(1);return r[e]()+i}}function ha(e){return function(t){return Mn(xp(Kf(t).replace(Vt,"")),e,"")}}function va(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=wr(e.prototype),r=e.apply(n,t);return Sc(r)?r:n}}function ma(e,t,r){var i=va(e);function a(){var s=arguments.length,l=n(s),u=s,c=Va(a);while(u--)l[u]=arguments[u];var f=s<3&&l[0]!==c&&l[s-1]!==c?[]:fr(l,c);if(s-=f.length,s<r)return Aa(e,t,ba,a.placeholder,o,l,f,o,o,r-s);var p=this&&this!==ln&&this instanceof a?i:e;return _n(p,this,l)}return a}function ga(e){return function(t,n,r){var i=nt(t);if(!cc(t)){var a=Ga(n,3);t=wf(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function ya(e){return Fa((function(t){var n=t.length,r=n,i=Cr.prototype.thru;e&&t.reverse();while(r--){var a=t[r];if("function"!=typeof a)throw new ot(u);if(i&&!s&&"wrapper"==Ha(a))var s=new Cr([],!0)}r=s?r:n;while(++r<n){a=t[r];var l=Ha(a),c="wrapper"==l?za(a):o;s=c&&cs(c[0])&&c[1]==(C|x|S|A)&&!c[4].length&&1==c[9]?s[Ha(c[0])].apply(s,c[3]):1==a.length&&cs(a)?s[l]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&lc(r))return s.plant(r).value();var i=0,o=n?t[i].apply(this,e):r;while(++i<n)o=t[i].call(this,o);return o}}))}function ba(e,t,r,i,a,s,l,u,c,f){var p=t&C,d=t&b,h=t&_,v=t&(x|w),m=t&P,g=h?o:va(e);function y(){var o=arguments.length,b=n(o),_=o;while(_--)b[_]=arguments[_];if(v)var E=Va(y),x=tr(b,E);if(i&&(b=na(b,i,a,v)),s&&(b=ra(b,s,l,v)),o-=x,v&&o<f){var w=fr(b,E);return Aa(e,t,ba,y.placeholder,r,b,w,u,c,f-o)}var S=d?r:this,O=h?S[e]:e;return o=b.length,u?b=xs(b,u):m&&o>1&&b.reverse(),p&&c<o&&(b.length=c),this&&this!==ln&&this instanceof y&&(O=g||va(O)),O.apply(S,b)}return y}function _a(e,t){return function(n,r){return Hi(n,e,t(r),{})}}function Ea(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Do(n),r=Do(r)):(n=Io(n),r=Io(r)),i=e(n,r)}return i}}function xa(e){return Fa((function(t){return t=Pn(t,Zn(Ga())),Eo((function(n){var r=this;return e(t,(function(e){return _n(e,r,n)}))}))}))}function wa(e,t){t=t===o?" ":Do(t);var n=t.length;if(n<2)return n?_o(t,e):t;var r=_o(t,It(e/mr(t)));return ar(t)?qo(gr(r),0,e).join(""):r.slice(0,e)}function Sa(e,t,r,i){var o=t&b,a=va(e);function s(){var t=-1,l=arguments.length,u=-1,c=i.length,f=n(c+l),p=this&&this!==ln&&this instanceof s?a:e;while(++u<c)f[u]=i[u];while(l--)f[u++]=arguments[++t];return _n(p,o?r:this,f)}return s}function Oa(e){return function(t,n,r){return r&&"number"!=typeof r&&ss(t,n,r)&&(n=r=o),t=Yc(t),n===o?(n=t,t=0):n=Yc(n),r=r===o?t<n?1:-1:Yc(r),bo(t,n,r,e)}}function Ca(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Zc(t),n=Zc(n)),e(t,n)}}function Aa(e,t,n,r,i,a,s,l,u,c){var f=t&x,p=f?s:o,d=f?o:s,h=f?a:o,v=f?o:a;t|=f?S:O,t&=~(f?O:S),t&E||(t&=~(b|_));var m=[e,t,i,h,p,v,d,l,u,c],g=n.apply(o,m);return cs(e)&&Ss(g,m),g.placeholder=r,As(g,e,t)}function Pa(e){var t=Ve[e];return function(e,n){if(e=Zc(e),n=null==n?0:zt(Xc(n),292),n&&jt(e)){var r=($c(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return r=($c(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}var ka=tn&&1/pr(new tn([,-0]))[1]==N?function(e){return new tn(e)}:Bp;function Ma(e){return function(t){var n=Qa(t);return n==$?ur(t):n==ae?dr(t):Xn(t,e(t))}}function Ta(e,t,n,r,i,a,s,l){var c=t&_;if(!c&&"function"!=typeof e)throw new ot(u);var f=r?r.length:0;if(f||(t&=~(S|O),r=i=o),s=s===o?s:Ut(Xc(s),0),l=l===o?l:Xc(l),f-=i?i.length:0,t&O){var p=r,d=i;r=i=o}var h=c?o:za(e),v=[e,t,n,r,i,p,d,a,s,l];if(h&&gs(v,h),e=v[0],t=v[1],n=v[2],r=v[3],i=v[4],l=v[9]=v[9]===o?c?0:e.length:Ut(v[9]-f,0),!l&&t&(x|w)&&(t&=~(x|w)),t&&t!=b)m=t==x||t==w?ma(e,t,l):t!=S&&t!=(b|S)||i.length?ba.apply(o,v):Sa(e,t,n,r);else var m=pa(e,t,n);var g=h?Oo:Ss;return As(g(m,v),e,t)}function La(e,t,n,r){return e===o||ic(e,lt[n])&&!ft.call(r,n)?t:e}function Ia(e,t,n,r,i,a){return Sc(e)&&Sc(t)&&(a.set(t,e),lo(e,t,o,Ia,a),a["delete"](t)),e}function Da(e){return Dc(e)?o:e}function Ra(e,t,n,r,i,a){var s=n&g,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var p=-1,d=!0,h=n&y?new Kr:o;a.set(e,t),a.set(t,e);while(++p<l){var v=e[p],m=t[p];if(r)var b=s?r(m,v,p,t,e,a):r(v,m,p,e,t,a);if(b!==o){if(b)continue;d=!1;break}if(h){if(!Ln(t,(function(e,t){if(!Jn(h,t)&&(v===e||i(v,e,n,r,a)))return h.push(t)}))){d=!1;break}}else if(v!==m&&!i(v,m,n,r,a)){d=!1;break}}return a["delete"](e),a["delete"](t),d}function Na(e,t,n,r,i,o,a){switch(n){case de:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case pe:return!(e.byteLength!=t.byteLength||!o(new _t(e),new _t(t)));case Y:case X:case ee:return ic(+e,+t);case Z:return e.name==t.name&&e.message==t.message;case oe:case se:return e==t+"";case $:var s=ur;case ae:var l=r&g;if(s||(s=pr),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=y,a.set(e,t);var c=Ra(s(e),s(t),r,i,o,a);return a["delete"](e),c;case le:if(hr)return hr.call(e)==hr.call(t)}return!1}function ja(e,t,n,r,i,a){var s=n&g,l=Ba(e),u=l.length,c=Ba(t),f=c.length;if(u!=f&&!s)return!1;var p=u;while(p--){var d=l[p];if(!(s?d in t:ft.call(t,d)))return!1}var h=a.get(e),v=a.get(t);if(h&&v)return h==t&&v==e;var m=!0;a.set(e,t),a.set(t,e);var y=s;while(++p<u){d=l[p];var b=e[d],_=t[d];if(r)var E=s?r(_,b,d,t,e,a):r(b,_,d,e,t,a);if(!(E===o?b===_||i(b,_,n,r,a):E)){m=!1;break}y||(y="constructor"==d)}if(m&&!y){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return a["delete"](e),a["delete"](t),m}function Fa(e){return Cs(_s(e,o,Xs),e+"")}function Ba(e){return Ri(e,wf,Ka)}function Ua(e){return Ri(e,Sf,Za)}var za=sn?function(e){return sn.get(e)}:Bp;function Ha(e){var t=e.name+"",n=un[t],r=ft.call(un,t)?n.length:0;while(r--){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Va(e){var t=ft.call(Er,"placeholder")?Er:e;return t.placeholder}function Ga(){var e=Er.iteratee||Lp;return e=e===Lp?to:e,arguments.length?e(arguments[0],arguments[1]):e}function Wa(e,t){var n=e.__data__;return us(t)?n["string"==typeof t?"string":"hash"]:n.map}function qa(e){var t=wf(e),n=t.length;while(n--){var r=t[n],i=e[r];t[n]=[r,i,hs(i)]}return t}function Ya(e,t){var n=or(e,t);return Qi(n)?n:o}function Xa(e){var t=ft.call(e,Pt),n=e[Pt];try{e[Pt]=o;var r=!0}catch(a){}var i=ht.call(e);return r&&(t?e[Pt]=n:delete e[Pt]),i}var Ka=Rt?function(e){return null==e?[]:(e=nt(e),On(Rt(e),(function(t){return St.call(e,t)})))}:Xp,Za=Rt?function(e){var t=[];while(e)kn(t,Ka(e)),e=xt(e);return t}:Xp,Qa=Ni;function Ja(e,t,n){var r=-1,i=n.length;while(++r<i){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=zt(t,e+a);break;case"takeRight":e=Ut(e,t-a);break}}return{start:e,end:t}}function $a(e){var t=e.match(ze);return t?t[1].split(He):[]}function es(e,t,n){t=Go(t,e);var r=-1,i=t.length,o=!1;while(++r<i){var a=Ts(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=null==e?0:e.length,!!i&&wc(i)&&as(a,i)&&(lc(e)||sc(e)))}function ts(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ft.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ns(e){return"function"!=typeof e.constructor||ds(e)?{}:wr(xt(e))}function rs(e,t,n){var r=e.constructor;switch(t){case pe:return Ko(e);case Y:case X:return new r(+e);case de:return Zo(e,n);case he:case ve:case me:case ge:case ye:case be:case _e:case Ee:case xe:return $o(e,n);case $:return new r;case ee:case se:return new r(e);case oe:return Qo(e);case ae:return new r;case le:return Jo(e)}}function is(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Ue,"{\n/* [wrapped with "+t+"] */\n")}function os(e){return lc(e)||sc(e)||!!(Ct&&e&&e[Ct])}function as(e,t){var n=typeof e;return t=null==t?j:t,!!t&&("number"==n||"symbol"!=n&&Je.test(e))&&e>-1&&e%1==0&&e<t}function ss(e,t,n){if(!Sc(n))return!1;var r=typeof t;return!!("number"==r?cc(n)&&as(t,n.length):"string"==r&&t in n)&&ic(n[t],e)}function ls(e,t){if(lc(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Bc(e))||(De.test(e)||!Ie.test(e)||null!=t&&e in nt(t))}function us(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function cs(e){var t=Ha(e),n=Er[t];if("function"!=typeof n||!(t in Ar.prototype))return!1;if(e===n)return!0;var r=za(n);return!!r&&e===r[0]}function fs(e){return!!dt&&dt in e}(Xt&&Qa(new Xt(new ArrayBuffer(1)))!=de||$t&&Qa(new $t)!=$||en&&Qa(en.resolve())!=re||tn&&Qa(new tn)!=ae||nn&&Qa(new nn)!=ce)&&(Qa=function(e){var t=Ni(e),n=t==ne?e.constructor:o,r=n?Ls(n):"";if(r)switch(r){case cn:return de;case pn:return $;case dn:return re;case In:return ae;case Dn:return ce}return t});var ps=ut?Ec:Kp;function ds(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||lt;return e===n}function hs(e){return e===e&&!Sc(e)}function vs(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in nt(n)))}}function ms(e){var t=Uu(e,(function(e){return n.size===p&&n.clear(),e})),n=t.cache;return t}function gs(e,t){var n=e[1],r=t[1],i=n|r,o=i<(b|_|C),a=r==C&&n==x||r==C&&n==A&&e[7].length<=t[8]||r==(C|A)&&t[7].length<=t[8]&&n==x;if(!o&&!a)return e;r&b&&(e[2]=t[2],i|=n&b?0:E);var s=t[3];if(s){var l=e[3];e[3]=l?na(l,s,t[4]):s,e[4]=l?fr(e[3],d):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?ra(l,s,t[6]):s,e[6]=l?fr(e[5],d):t[6]),s=t[7],s&&(e[7]=s),r&C&&(e[8]=null==e[8]?t[8]:zt(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function ys(e){var t=[];if(null!=e)for(var n in nt(e))t.push(n);return t}function bs(e){return ht.call(e)}function _s(e,t,r){return t=Ut(t===o?e.length-1:t,0),function(){var i=arguments,o=-1,a=Ut(i.length-t,0),s=n(a);while(++o<a)s[o]=i[t+o];o=-1;var l=n(t+1);while(++o<t)l[o]=i[o];return l[t]=r(s),_n(e,this,l)}}function Es(e,t){return t.length<2?e:Di(e,Po(t,0,-1))}function xs(e,t){var n=e.length,r=zt(t.length,n),i=ia(e);while(r--){var a=t[r];e[r]=as(a,n)?i[a]:o}return e}function ws(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ss=Ps(Oo),Os=Lt||function(e,t){return ln.setTimeout(e,t)},Cs=Ps(Co);function As(e,t,n){var r=t+"";return Cs(e,is(r,Is($a(r),n)))}function Ps(e){var t=0,n=0;return function(){var r=Ht(),i=L-(r-n);if(n=r,i>0){if(++t>=T)return arguments[0]}else t=0;return e.apply(o,arguments)}}function ks(e,t){var n=-1,r=e.length,i=r-1;t=t===o?r:t;while(++n<t){var a=yo(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Ms=ms((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Re,(function(e,n,r,i){t.push(r?i.replace(We,"$1"):n||e)})),t}));function Ts(e){if("string"==typeof e||Bc(e))return e;var t=e+"";return"0"==t&&1/e==-N?"-0":t}function Ls(e){if(null!=e){try{return ct.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Is(e,t){return xn(V,(function(n){var r="_."+n[0];t&n[1]&&!Cn(e,r)&&e.push(r)})),e.sort()}function Ds(e){if(e instanceof Ar)return e.clone();var t=new Cr(e.__wrapped__,e.__chain__);return t.__actions__=ia(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Rs(e,t,r){t=(r?ss(e,t,r):t===o)?1:Ut(Xc(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];var a=0,s=0,l=n(It(i/t));while(a<i)l[s++]=Po(e,a,a+=t);return l}function Ns(e){var t=-1,n=null==e?0:e.length,r=0,i=[];while(++t<n){var o=e[t];o&&(i[r++]=o)}return i}function js(){var e=arguments.length;if(!e)return[];var t=n(e-1),r=arguments[0],i=e;while(i--)t[i-1]=arguments[i];return kn(lc(r)?ia(r):[r],Pi(t,1))}var Fs=Eo((function(e,t){return fc(e)?Ei(e,Pi(t,1,fc,!0)):[]})),Bs=Eo((function(e,t){var n=ol(t);return fc(n)&&(n=o),fc(e)?Ei(e,Pi(t,1,fc,!0),Ga(n,2)):[]})),Us=Eo((function(e,t){var n=ol(t);return fc(n)&&(n=o),fc(e)?Ei(e,Pi(t,1,fc,!0),o,n):[]}));function zs(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===o?1:Xc(t),Po(e,t<0?0:t,r)):[]}function Hs(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===o?1:Xc(t),t=r-t,Po(e,0,t<0?0:t)):[]}function Vs(e,t){return e&&e.length?Fo(e,Ga(t,3),!0,!0):[]}function Gs(e,t){return e&&e.length?Fo(e,Ga(t,3),!0):[]}function Ws(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ss(e,t,n)&&(n=0,r=i),Ci(e,t,n,r)):[]}function qs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Xc(n);return i<0&&(i=Ut(r+i,0)),jn(e,Ga(t,3),i)}function Ys(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Xc(n),i=n<0?Ut(r+i,0):zt(i,r-1)),jn(e,Ga(t,3),i,!0)}function Xs(e){var t=null==e?0:e.length;return t?Pi(e,1):[]}function Ks(e){var t=null==e?0:e.length;return t?Pi(e,N):[]}function Zs(e,t){var n=null==e?0:e.length;return n?(t=t===o?1:Xc(t),Pi(e,t)):[]}function Qs(e){var t=-1,n=null==e?0:e.length,r={};while(++t<n){var i=e[t];r[i[0]]=i[1]}return r}function Js(e){return e&&e.length?e[0]:o}function $s(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Xc(n);return i<0&&(i=Ut(r+i,0)),Fn(e,t,i)}function el(e){var t=null==e?0:e.length;return t?Po(e,0,-1):[]}var tl=Eo((function(e){var t=Pn(e,Ho);return t.length&&t[0]===e[0]?zi(t):[]})),nl=Eo((function(e){var t=ol(e),n=Pn(e,Ho);return t===ol(n)?t=o:n.pop(),n.length&&n[0]===e[0]?zi(n,Ga(t,2)):[]})),rl=Eo((function(e){var t=ol(e),n=Pn(e,Ho);return t="function"==typeof t?t:o,t&&n.pop(),n.length&&n[0]===e[0]?zi(n,o,t):[]}));function il(e,t){return null==e?"":Ft.call(e,t)}function ol(e){var t=null==e?0:e.length;return t?e[t-1]:o}function al(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=Xc(n),i=i<0?Ut(r+i,0):zt(i,r-1)),t===t?vr(e,t,i):jn(e,Un,i,!0)}function sl(e,t){return e&&e.length?co(e,Xc(t)):o}var ll=Eo(ul);function ul(e,t){return e&&e.length&&t&&t.length?mo(e,t):e}function cl(e,t,n){return e&&e.length&&t&&t.length?mo(e,t,Ga(n,2)):e}function fl(e,t,n){return e&&e.length&&t&&t.length?mo(e,t,o,n):e}var pl=Fa((function(e,t){var n=null==e?0:e.length,r=vi(e,t);return go(e,Pn(t,(function(e){return as(e,n)?+e:e})).sort(ea)),r}));function dl(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;t=Ga(t,3);while(++r<o){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return go(e,i),n}function hl(e){return null==e?e:Yt.call(e)}function vl(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ss(e,t,n)?(t=0,n=r):(t=null==t?0:Xc(t),n=n===o?r:Xc(n)),Po(e,t,n)):[]}function ml(e,t){return Mo(e,t)}function gl(e,t,n){return To(e,t,Ga(n,2))}function yl(e,t){var n=null==e?0:e.length;if(n){var r=Mo(e,t);if(r<n&&ic(e[r],t))return r}return-1}function bl(e,t){return Mo(e,t,!0)}function _l(e,t,n){return To(e,t,Ga(n,2),!0)}function El(e,t){var n=null==e?0:e.length;if(n){var r=Mo(e,t,!0)-1;if(ic(e[r],t))return r}return-1}function xl(e){return e&&e.length?Lo(e):[]}function wl(e,t){return e&&e.length?Lo(e,Ga(t,2)):[]}function Sl(e){var t=null==e?0:e.length;return t?Po(e,1,t):[]}function Ol(e,t,n){return e&&e.length?(t=n||t===o?1:Xc(t),Po(e,0,t<0?0:t)):[]}function Cl(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===o?1:Xc(t),t=r-t,Po(e,t<0?0:t,r)):[]}function Al(e,t){return e&&e.length?Fo(e,Ga(t,3),!1,!0):[]}function Pl(e,t){return e&&e.length?Fo(e,Ga(t,3)):[]}var kl=Eo((function(e){return Ro(Pi(e,1,fc,!0))})),Ml=Eo((function(e){var t=ol(e);return fc(t)&&(t=o),Ro(Pi(e,1,fc,!0),Ga(t,2))})),Tl=Eo((function(e){var t=ol(e);return t="function"==typeof t?t:o,Ro(Pi(e,1,fc,!0),o,t)}));function Ll(e){return e&&e.length?Ro(e):[]}function Il(e,t){return e&&e.length?Ro(e,Ga(t,2)):[]}function Dl(e,t){return t="function"==typeof t?t:o,e&&e.length?Ro(e,o,t):[]}function Rl(e){if(!e||!e.length)return[];var t=0;return e=On(e,(function(e){if(fc(e))return t=Ut(e.length,t),!0})),Yn(t,(function(t){return Pn(e,Hn(t))}))}function Nl(e,t){if(!e||!e.length)return[];var n=Rl(e);return null==t?n:Pn(n,(function(e){return _n(t,o,e)}))}var jl=Eo((function(e,t){return fc(e)?Ei(e,t):[]})),Fl=Eo((function(e){return Uo(On(e,fc))})),Bl=Eo((function(e){var t=ol(e);return fc(t)&&(t=o),Uo(On(e,fc),Ga(t,2))})),Ul=Eo((function(e){var t=ol(e);return t="function"==typeof t?t:o,Uo(On(e,fc),o,t)})),zl=Eo(Rl);function Hl(e,t){return zo(e||[],t||[],ui)}function Vl(e,t){return zo(e||[],t||[],So)}var Gl=Eo((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,Nl(e,n)}));function Wl(e){var t=Er(e);return t.__chain__=!0,t}function ql(e,t){return t(e),e}function Yl(e,t){return t(e)}var Xl=Fa((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return vi(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Ar&&as(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Yl,args:[i],thisArg:o}),new Cr(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));function Kl(){return Wl(this)}function Zl(){return new Cr(this.value(),this.__chain__)}function Ql(){this.__values__===o&&(this.__values__=qc(this.value()));var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}}function Jl(){return this}function $l(e){var t,n=this;while(n instanceof Or){var r=Ds(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function eu(){var e=this.__wrapped__;if(e instanceof Ar){var t=e;return this.__actions__.length&&(t=new Ar(this)),t=t.reverse(),t.__actions__.push({func:Yl,args:[hl],thisArg:o}),new Cr(t,this.__chain__)}return this.thru(hl)}function tu(){return Bo(this.__wrapped__,this.__actions__)}var nu=la((function(e,t,n){ft.call(e,n)?++e[n]:hi(e,n,1)}));function ru(e,t,n){var r=lc(e)?Sn:Si;return n&&ss(e,t,n)&&(t=o),r(e,Ga(t,3))}function iu(e,t){var n=lc(e)?On:Ai;return n(e,Ga(t,3))}var ou=ga(qs),au=ga(Ys);function su(e,t){return Pi(mu(e,t),1)}function lu(e,t){return Pi(mu(e,t),N)}function uu(e,t,n){return n=n===o?1:Xc(n),Pi(mu(e,t),n)}function cu(e,t){var n=lc(e)?xn:xi;return n(e,Ga(t,3))}function fu(e,t){var n=lc(e)?wn:wi;return n(e,Ga(t,3))}var pu=la((function(e,t,n){ft.call(e,n)?e[n].push(t):hi(e,n,[t])}));function du(e,t,n,r){e=cc(e)?e:Hf(e),n=n&&!r?Xc(n):0;var i=e.length;return n<0&&(n=Ut(i+n,0)),Fc(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Fn(e,t,n)>-1}var hu=Eo((function(e,t,r){var i=-1,o="function"==typeof t,a=cc(e)?n(e.length):[];return xi(e,(function(e){a[++i]=o?_n(t,e,r):Vi(e,t,r)})),a})),vu=la((function(e,t,n){hi(e,n,t)}));function mu(e,t){var n=lc(e)?Pn:oo;return n(e,Ga(t,3))}function gu(e,t,n,r){return null==e?[]:(lc(t)||(t=null==t?[]:[t]),n=r?o:n,lc(n)||(n=null==n?[]:[n]),fo(e,t,n))}var yu=la((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));function bu(e,t,n){var r=lc(e)?Mn:Gn,i=arguments.length<3;return r(e,Ga(t,4),n,i,xi)}function _u(e,t,n){var r=lc(e)?Tn:Gn,i=arguments.length<3;return r(e,Ga(t,4),n,i,wi)}function Eu(e,t){var n=lc(e)?On:Ai;return n(e,zu(Ga(t,3)))}function xu(e){var t=lc(e)?oi:xo;return t(e)}function wu(e,t,n){t=(n?ss(e,t,n):t===o)?1:Xc(t);var r=lc(e)?ai:wo;return r(e,t)}function Su(e){var t=lc(e)?si:Ao;return t(e)}function Ou(e){if(null==e)return 0;if(cc(e))return Fc(e)?mr(e):e.length;var t=Qa(e);return t==$||t==ae?e.size:no(e).length}function Cu(e,t,n){var r=lc(e)?Ln:ko;return n&&ss(e,t,n)&&(t=o),r(e,Ga(t,3))}var Au=Eo((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ss(e,t[0],t[1])?t=[]:n>2&&ss(t[0],t[1],t[2])&&(t=[t[0]]),fo(e,Pi(t,1),[])})),Pu=Tt||function(){return ln.Date.now()};function ku(e,t){if("function"!=typeof t)throw new ot(u);return e=Xc(e),function(){if(--e<1)return t.apply(this,arguments)}}function Mu(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Ta(e,C,o,o,o,o,t)}function Tu(e,t){var n;if("function"!=typeof t)throw new ot(u);return e=Xc(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Lu=Eo((function(e,t,n){var r=b;if(n.length){var i=fr(n,Va(Lu));r|=S}return Ta(e,r,t,n,i)})),Iu=Eo((function(e,t,n){var r=b|_;if(n.length){var i=fr(n,Va(Iu));r|=S}return Ta(t,r,e,n,i)}));function Du(e,t,n){t=n?o:t;var r=Ta(e,x,o,o,o,o,o,t);return r.placeholder=Du.placeholder,r}function Ru(e,t,n){t=n?o:t;var r=Ta(e,w,o,o,o,o,o,t);return r.placeholder=Ru.placeholder,r}function Nu(e,t,n){var r,i,a,s,l,c,f=0,p=!1,d=!1,h=!0;if("function"!=typeof e)throw new ot(u);function v(t){var n=r,a=i;return r=i=o,f=t,s=e.apply(a,n),s}function m(e){return f=e,l=Os(b,t),p?v(e):s}function g(e){var n=e-c,r=e-f,i=t-n;return d?zt(i,a-r):i}function y(e){var n=e-c,r=e-f;return c===o||n>=t||n<0||d&&r>=a}function b(){var e=Pu();if(y(e))return _(e);l=Os(b,g(e))}function _(e){return l=o,h&&r?v(e):(r=i=o,s)}function E(){l!==o&&Yo(l),f=0,r=c=i=l=o}function x(){return l===o?s:_(Pu())}function w(){var e=Pu(),n=y(e);if(r=arguments,i=this,c=e,n){if(l===o)return m(c);if(d)return Yo(l),l=Os(b,t),v(c)}return l===o&&(l=Os(b,t)),s}return t=Zc(t)||0,Sc(n)&&(p=!!n.leading,d="maxWait"in n,a=d?Ut(Zc(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),w.cancel=E,w.flush=x,w}var ju=Eo((function(e,t){return _i(e,1,t)})),Fu=Eo((function(e,t,n){return _i(e,Zc(t)||0,n)}));function Bu(e){return Ta(e,P)}function Uu(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ot(u);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Uu.Cache||Vr),n}function zu(e){if("function"!=typeof e)throw new ot(u);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Hu(e){return Tu(2,e)}Uu.Cache=Vr;var Vu=Wo((function(e,t){t=1==t.length&&lc(t[0])?Pn(t[0],Zn(Ga())):Pn(Pi(t,1),Zn(Ga()));var n=t.length;return Eo((function(r){var i=-1,o=zt(r.length,n);while(++i<o)r[i]=t[i].call(this,r[i]);return _n(e,this,r)}))})),Gu=Eo((function(e,t){var n=fr(t,Va(Gu));return Ta(e,S,o,t,n)})),Wu=Eo((function(e,t){var n=fr(t,Va(Wu));return Ta(e,O,o,t,n)})),qu=Fa((function(e,t){return Ta(e,A,o,o,o,t)}));function Yu(e,t){if("function"!=typeof e)throw new ot(u);return t=t===o?t:Xc(t),Eo(e,t)}function Xu(e,t){if("function"!=typeof e)throw new ot(u);return t=null==t?0:Ut(Xc(t),0),Eo((function(n){var r=n[t],i=qo(n,0,t);return r&&kn(i,r),_n(e,this,i)}))}function Ku(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ot(u);return Sc(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Nu(e,t,{leading:r,maxWait:t,trailing:i})}function Zu(e){return Mu(e,1)}function Qu(e,t){return Gu(Vo(t),e)}function Ju(){if(!arguments.length)return[];var e=arguments[0];return lc(e)?e:[e]}function $u(e){return gi(e,m)}function ec(e,t){return t="function"==typeof t?t:o,gi(e,m,t)}function tc(e){return gi(e,h|m)}function nc(e,t){return t="function"==typeof t?t:o,gi(e,h|m,t)}function rc(e,t){return null==t||bi(e,t,wf(t))}function ic(e,t){return e===t||e!==e&&t!==t}var oc=Ca(ji),ac=Ca((function(e,t){return e>=t})),sc=Gi(function(){return arguments}())?Gi:function(e){return Oc(e)&&ft.call(e,"callee")&&!St.call(e,"callee")},lc=n.isArray,uc=hn?Zn(hn):Wi;function cc(e){return null!=e&&wc(e.length)&&!Ec(e)}function fc(e){return Oc(e)&&cc(e)}function pc(e){return!0===e||!1===e||Oc(e)&&Ni(e)==Y}var dc=Nt||Kp,hc=vn?Zn(vn):qi;function vc(e){return Oc(e)&&1===e.nodeType&&!Dc(e)}function mc(e){if(null==e)return!0;if(cc(e)&&(lc(e)||"string"==typeof e||"function"==typeof e.splice||dc(e)||Uc(e)||sc(e)))return!e.length;var t=Qa(e);if(t==$||t==ae)return!e.size;if(ds(e))return!no(e).length;for(var n in e)if(ft.call(e,n))return!1;return!0}function gc(e,t){return Yi(e,t)}function yc(e,t,n){n="function"==typeof n?n:o;var r=n?n(e,t):o;return r===o?Yi(e,t,o,n):!!r}function bc(e){if(!Oc(e))return!1;var t=Ni(e);return t==Z||t==K||"string"==typeof e.message&&"string"==typeof e.name&&!Dc(e)}function _c(e){return"number"==typeof e&&jt(e)}function Ec(e){if(!Sc(e))return!1;var t=Ni(e);return t==Q||t==J||t==q||t==ie}function xc(e){return"number"==typeof e&&e==Xc(e)}function wc(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=j}function Sc(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Oc(e){return null!=e&&"object"==typeof e}var Cc=mn?Zn(mn):Ki;function Ac(e,t){return e===t||Zi(e,t,qa(t))}function Pc(e,t,n){return n="function"==typeof n?n:o,Zi(e,t,qa(t),n)}function kc(e){return Ic(e)&&e!=+e}function Mc(e){if(ps(e))throw new i(l);return Qi(e)}function Tc(e){return null===e}function Lc(e){return null==e}function Ic(e){return"number"==typeof e||Oc(e)&&Ni(e)==ee}function Dc(e){if(!Oc(e)||Ni(e)!=ne)return!1;var t=xt(e);if(null===t)return!0;var n=ft.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ct.call(n)==vt}var Rc=gn?Zn(gn):Ji;function Nc(e){return xc(e)&&e>=-j&&e<=j}var jc=yn?Zn(yn):$i;function Fc(e){return"string"==typeof e||!lc(e)&&Oc(e)&&Ni(e)==se}function Bc(e){return"symbol"==typeof e||Oc(e)&&Ni(e)==le}var Uc=bn?Zn(bn):eo;function zc(e){return e===o}function Hc(e){return Oc(e)&&Qa(e)==ce}function Vc(e){return Oc(e)&&Ni(e)==fe}var Gc=Ca(io),Wc=Ca((function(e,t){return e<=t}));function qc(e){if(!e)return[];if(cc(e))return Fc(e)?gr(e):ia(e);if(At&&e[At])return lr(e[At]());var t=Qa(e),n=t==$?ur:t==ae?pr:Hf;return n(e)}function Yc(e){if(!e)return 0===e?e:0;if(e=Zc(e),e===N||e===-N){var t=e<0?-1:1;return t*F}return e===e?e:0}function Xc(e){var t=Yc(e),n=t%1;return t===t?n?t-n:t:0}function Kc(e){return e?mi(Xc(e),0,U):0}function Zc(e){if("number"==typeof e)return e;if(Bc(e))return B;if(Sc(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Sc(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kn(e);var n=Ke.test(e);return n||Qe.test(e)?on(e.slice(2),n?2:8):Xe.test(e)?B:+e}function Qc(e){return oa(e,Sf(e))}function Jc(e){return e?mi(Xc(e),-j,j):0===e?e:0}function $c(e){return null==e?"":Do(e)}var ef=ua((function(e,t){if(ds(t)||cc(t))oa(t,wf(t),e);else for(var n in t)ft.call(t,n)&&ui(e,n,t[n])})),tf=ua((function(e,t){oa(t,Sf(t),e)})),nf=ua((function(e,t,n,r){oa(t,Sf(t),e,r)})),rf=ua((function(e,t,n,r){oa(t,wf(t),e,r)})),of=Fa(vi);function af(e,t){var n=wr(e);return null==t?n:pi(n,t)}var sf=Eo((function(e,t){e=nt(e);var n=-1,r=t.length,i=r>2?t[2]:o;i&&ss(t[0],t[1],i)&&(r=1);while(++n<r){var a=t[n],s=Sf(a),l=-1,u=s.length;while(++l<u){var c=s[l],f=e[c];(f===o||ic(f,lt[c])&&!ft.call(e,c))&&(e[c]=a[c])}}return e})),lf=Eo((function(e){return e.push(o,Ia),_n(Pf,o,e)}));function uf(e,t){return Nn(e,Ga(t,3),Ti)}function cf(e,t){return Nn(e,Ga(t,3),Li)}function ff(e,t){return null==e?e:ki(e,Ga(t,3),Sf)}function pf(e,t){return null==e?e:Mi(e,Ga(t,3),Sf)}function df(e,t){return e&&Ti(e,Ga(t,3))}function hf(e,t){return e&&Li(e,Ga(t,3))}function vf(e){return null==e?[]:Ii(e,wf(e))}function mf(e){return null==e?[]:Ii(e,Sf(e))}function gf(e,t,n){var r=null==e?o:Di(e,t);return r===o?n:r}function yf(e,t){return null!=e&&es(e,t,Fi)}function bf(e,t){return null!=e&&es(e,t,Bi)}var _f=_a((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ht.call(t)),e[t]=n}),Ap(Tp)),Ef=_a((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ht.call(t)),ft.call(e,t)?e[t].push(n):e[t]=[n]}),Ga),xf=Eo(Vi);function wf(e){return cc(e)?ii(e):no(e)}function Sf(e){return cc(e)?ii(e,!0):ro(e)}function Of(e,t){var n={};return t=Ga(t,3),Ti(e,(function(e,r,i){hi(n,t(e,r,i),e)})),n}function Cf(e,t){var n={};return t=Ga(t,3),Ti(e,(function(e,r,i){hi(n,r,t(e,r,i))})),n}var Af=ua((function(e,t,n){lo(e,t,n)})),Pf=ua((function(e,t,n,r){lo(e,t,n,r)})),kf=Fa((function(e,t){var n={};if(null==e)return n;var r=!1;t=Pn(t,(function(t){return t=Go(t,e),r||(r=t.length>1),t})),oa(e,Ua(e),n),r&&(n=gi(n,h|v|m,Da));var i=t.length;while(i--)No(n,t[i]);return n}));function Mf(e,t){return Lf(e,zu(Ga(t)))}var Tf=Fa((function(e,t){return null==e?{}:po(e,t)}));function Lf(e,t){if(null==e)return{};var n=Pn(Ua(e),(function(e){return[e]}));return t=Ga(t),ho(e,n,(function(e,n){return t(e,n[0])}))}function If(e,t,n){t=Go(t,e);var r=-1,i=t.length;i||(i=1,e=o);while(++r<i){var a=null==e?o:e[Ts(t[r])];a===o&&(r=i,a=n),e=Ec(a)?a.call(e):a}return e}function Df(e,t,n){return null==e?e:So(e,t,n)}function Rf(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:So(e,t,n,r)}var Nf=Ma(wf),jf=Ma(Sf);function Ff(e,t,n){var r=lc(e),i=r||dc(e)||Uc(e);if(t=Ga(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Sc(e)&&Ec(o)?wr(xt(e)):{}}return(i?xn:Ti)(e,(function(e,r,i){return t(n,e,r,i)})),n}function Bf(e,t){return null==e||No(e,t)}function Uf(e,t,n){return null==e?e:jo(e,t,Vo(n))}function zf(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:jo(e,t,Vo(n),r)}function Hf(e){return null==e?[]:Qn(e,wf(e))}function Vf(e){return null==e?[]:Qn(e,Sf(e))}function Gf(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=Zc(n),n=n===n?n:0),t!==o&&(t=Zc(t),t=t===t?t:0),mi(Zc(e),t,n)}function Wf(e,t,n){return t=Yc(t),n===o?(n=t,t=0):n=Yc(n),e=Zc(e),Ui(e,t,n)}function qf(e,t,n){if(n&&"boolean"!=typeof n&&ss(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=Yc(e),t===o?(t=e,e=0):t=Yc(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=qt();return zt(e+i*(t-e+rn("1e-"+((i+"").length-1))),t)}return yo(e,t)}var Yf=ha((function(e,t,n){return t=t.toLowerCase(),e+(n?Xf(t):t)}));function Xf(e){return Ep($c(e).toLowerCase())}function Kf(e){return e=$c(e),e&&e.replace($e,nr).replace(Gt,"")}function Zf(e,t,n){e=$c(e),t=Do(t);var r=e.length;n=n===o?r:mi(Xc(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}function Qf(e){return e=$c(e),e&&ke.test(e)?e.replace(Ae,rr):e}function Jf(e){return e=$c(e),e&&je.test(e)?e.replace(Ne,"\\$&"):e}var $f=ha((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),ep=ha((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),tp=da("toLowerCase");function np(e,t,n){e=$c(e),t=Xc(t);var r=t?mr(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return wa(Dt(i),n)+e+wa(It(i),n)}function rp(e,t,n){e=$c(e),t=Xc(t);var r=t?mr(e):0;return t&&r<t?e+wa(t-r,n):e}function ip(e,t,n){e=$c(e),t=Xc(t);var r=t?mr(e):0;return t&&r<t?wa(t-r,n)+e:e}function op(e,t,n){return n||null==t?t=0:t&&(t=+t),Wt($c(e).replace(Fe,""),t||0)}function ap(e,t,n){return t=(n?ss(e,t,n):t===o)?1:Xc(t),_o($c(e),t)}function sp(){var e=arguments,t=$c(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var lp=ha((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));function up(e,t,n){return n&&"number"!=typeof n&&ss(e,t,n)&&(t=n=o),n=n===o?U:n>>>0,n?(e=$c(e),e&&("string"==typeof t||null!=t&&!Rc(t))&&(t=Do(t),!t&&ar(e))?qo(gr(e),0,n):e.split(t,n)):[]}var cp=ha((function(e,t,n){return e+(n?" ":"")+Ep(t)}));function fp(e,t,n){return e=$c(e),n=null==n?0:mi(Xc(n),0,e.length),t=Do(t),e.slice(n,n+t.length)==t}function pp(e,t,n){var r=Er.templateSettings;n&&ss(e,t,n)&&(t=o),e=$c(e),t=nf({},t,r,La);var a,s,l=nf({},t.imports,r.imports,La),u=wf(l),f=Qn(l,u),p=0,d=t.interpolate||et,h="__p += '",v=rt((t.escape||et).source+"|"+d.source+"|"+(d===Le?qe:et).source+"|"+(t.evaluate||et).source+"|$","g"),m="//# sourceURL="+(ft.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Zt+"]")+"\n";e.replace(v,(function(t,n,r,i,o,l){return r||(r=i),h+=e.slice(p,l).replace(tt,ir),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),o&&(s=!0,h+="';\n"+o+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),p=l+t.length,t})),h+="';\n";var g=ft.call(t,"variable")&&t.variable;if(g){if(Ge.test(g))throw new i(c)}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(we,""):h).replace(Se,"$1").replace(Oe,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=wp((function(){return Be(u,m+"return "+h).apply(o,f)}));if(y.source=h,bc(y))throw y;return y}function dp(e){return $c(e).toLowerCase()}function hp(e){return $c(e).toUpperCase()}function vp(e,t,n){if(e=$c(e),e&&(n||t===o))return Kn(e);if(!e||!(t=Do(t)))return e;var r=gr(e),i=gr(t),a=$n(r,i),s=er(r,i)+1;return qo(r,a,s).join("")}function mp(e,t,n){if(e=$c(e),e&&(n||t===o))return e.slice(0,yr(e)+1);if(!e||!(t=Do(t)))return e;var r=gr(e),i=er(r,gr(t))+1;return qo(r,0,i).join("")}function gp(e,t,n){if(e=$c(e),e&&(n||t===o))return e.replace(Fe,"");if(!e||!(t=Do(t)))return e;var r=gr(e),i=$n(r,gr(t));return qo(r,i).join("")}function yp(e,t){var n=k,r=M;if(Sc(t)){var i="separator"in t?t.separator:i;n="length"in t?Xc(t.length):n,r="omission"in t?Do(t.omission):r}e=$c(e);var a=e.length;if(ar(e)){var s=gr(e);a=s.length}if(n>=a)return e;var l=n-mr(r);if(l<1)return r;var u=s?qo(s,0,l).join(""):e.slice(0,l);if(i===o)return u+r;if(s&&(l+=u.length-l),Rc(i)){if(e.slice(l).search(i)){var c,f=u;i.global||(i=rt(i.source,$c(Ye.exec(i))+"g")),i.lastIndex=0;while(c=i.exec(f))var p=c.index;u=u.slice(0,p===o?l:p)}}else if(e.indexOf(Do(i),l)!=l){var d=u.lastIndexOf(i);d>-1&&(u=u.slice(0,d))}return u+r}function bp(e){return e=$c(e),e&&Pe.test(e)?e.replace(Ce,br):e}var _p=ha((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ep=da("toUpperCase");function xp(e,t,n){return e=$c(e),t=n?o:t,t===o?sr(e)?xr(e):Rn(e):e.match(t)||[]}var wp=Eo((function(e,t){try{return _n(e,o,t)}catch(n){return bc(n)?n:new i(n)}})),Sp=Fa((function(e,t){return xn(t,(function(t){t=Ts(t),hi(e,t,Lu(e[t],e))})),e}));function Op(e){var t=null==e?0:e.length,n=Ga();return e=t?Pn(e,(function(e){if("function"!=typeof e[1])throw new ot(u);return[n(e[0]),e[1]]})):[],Eo((function(n){var r=-1;while(++r<t){var i=e[r];if(_n(i[0],this,n))return _n(i[1],this,n)}}))}function Cp(e){return yi(gi(e,h))}function Ap(e){return function(){return e}}function Pp(e,t){return null==e||e!==e?t:e}var kp=ya(),Mp=ya(!0);function Tp(e){return e}function Lp(e){return to("function"==typeof e?e:gi(e,h))}function Ip(e){return ao(gi(e,h))}function Dp(e,t){return so(e,gi(t,h))}var Rp=Eo((function(e,t){return function(n){return Vi(n,e,t)}})),Np=Eo((function(e,t){return function(n){return Vi(e,n,t)}}));function jp(e,t,n){var r=wf(t),i=Ii(t,r);null!=n||Sc(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Ii(t,wf(t)));var o=!(Sc(n)&&"chain"in n)||!!n.chain,a=Ec(e);return xn(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=ia(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,kn([this.value()],arguments))})})),e}function Fp(){return ln._===this&&(ln._=mt),this}function Bp(){}function Up(e){return e=Xc(e),Eo((function(t){return co(t,e)}))}var zp=xa(Pn),Hp=xa(Sn),Vp=xa(Ln);function Gp(e){return ls(e)?Hn(Ts(e)):vo(e)}function Wp(e){return function(t){return null==e?o:Di(e,t)}}var qp=Oa(),Yp=Oa(!0);function Xp(){return[]}function Kp(){return!1}function Zp(){return{}}function Qp(){return""}function Jp(){return!0}function $p(e,t){if(e=Xc(e),e<1||e>j)return[];var n=U,r=zt(e,U);t=Ga(t),e-=U;var i=Yn(r,t);while(++n<e)t(n);return i}function ed(e){return lc(e)?Pn(e,Ts):Bc(e)?[e]:ia(Ms($c(e)))}function td(e){var t=++pt;return $c(e)+t}var nd=Ea((function(e,t){return e+t}),0),rd=Pa("ceil"),id=Ea((function(e,t){return e/t}),1),od=Pa("floor");function ad(e){return e&&e.length?Oi(e,Tp,ji):o}function sd(e,t){return e&&e.length?Oi(e,Ga(t,2),ji):o}function ld(e){return zn(e,Tp)}function ud(e,t){return zn(e,Ga(t,2))}function cd(e){return e&&e.length?Oi(e,Tp,io):o}function fd(e,t){return e&&e.length?Oi(e,Ga(t,2),io):o}var pd=Ea((function(e,t){return e*t}),1),dd=Pa("round"),hd=Ea((function(e,t){return e-t}),0);function vd(e){return e&&e.length?qn(e,Tp):0}function md(e,t){return e&&e.length?qn(e,Ga(t,2)):0}return Er.after=ku,Er.ary=Mu,Er.assign=ef,Er.assignIn=tf,Er.assignInWith=nf,Er.assignWith=rf,Er.at=of,Er.before=Tu,Er.bind=Lu,Er.bindAll=Sp,Er.bindKey=Iu,Er.castArray=Ju,Er.chain=Wl,Er.chunk=Rs,Er.compact=Ns,Er.concat=js,Er.cond=Op,Er.conforms=Cp,Er.constant=Ap,Er.countBy=nu,Er.create=af,Er.curry=Du,Er.curryRight=Ru,Er.debounce=Nu,Er.defaults=sf,Er.defaultsDeep=lf,Er.defer=ju,Er.delay=Fu,Er.difference=Fs,Er.differenceBy=Bs,Er.differenceWith=Us,Er.drop=zs,Er.dropRight=Hs,Er.dropRightWhile=Vs,Er.dropWhile=Gs,Er.fill=Ws,Er.filter=iu,Er.flatMap=su,Er.flatMapDeep=lu,Er.flatMapDepth=uu,Er.flatten=Xs,Er.flattenDeep=Ks,Er.flattenDepth=Zs,Er.flip=Bu,Er.flow=kp,Er.flowRight=Mp,Er.fromPairs=Qs,Er.functions=vf,Er.functionsIn=mf,Er.groupBy=pu,Er.initial=el,Er.intersection=tl,Er.intersectionBy=nl,Er.intersectionWith=rl,Er.invert=_f,Er.invertBy=Ef,Er.invokeMap=hu,Er.iteratee=Lp,Er.keyBy=vu,Er.keys=wf,Er.keysIn=Sf,Er.map=mu,Er.mapKeys=Of,Er.mapValues=Cf,Er.matches=Ip,Er.matchesProperty=Dp,Er.memoize=Uu,Er.merge=Af,Er.mergeWith=Pf,Er.method=Rp,Er.methodOf=Np,Er.mixin=jp,Er.negate=zu,Er.nthArg=Up,Er.omit=kf,Er.omitBy=Mf,Er.once=Hu,Er.orderBy=gu,Er.over=zp,Er.overArgs=Vu,Er.overEvery=Hp,Er.overSome=Vp,Er.partial=Gu,Er.partialRight=Wu,Er.partition=yu,Er.pick=Tf,Er.pickBy=Lf,Er.property=Gp,Er.propertyOf=Wp,Er.pull=ll,Er.pullAll=ul,Er.pullAllBy=cl,Er.pullAllWith=fl,Er.pullAt=pl,Er.range=qp,Er.rangeRight=Yp,Er.rearg=qu,Er.reject=Eu,Er.remove=dl,Er.rest=Yu,Er.reverse=hl,Er.sampleSize=wu,Er.set=Df,Er.setWith=Rf,Er.shuffle=Su,Er.slice=vl,Er.sortBy=Au,Er.sortedUniq=xl,Er.sortedUniqBy=wl,Er.split=up,Er.spread=Xu,Er.tail=Sl,Er.take=Ol,Er.takeRight=Cl,Er.takeRightWhile=Al,Er.takeWhile=Pl,Er.tap=ql,Er.throttle=Ku,Er.thru=Yl,Er.toArray=qc,Er.toPairs=Nf,Er.toPairsIn=jf,Er.toPath=ed,Er.toPlainObject=Qc,Er.transform=Ff,Er.unary=Zu,Er.union=kl,Er.unionBy=Ml,Er.unionWith=Tl,Er.uniq=Ll,Er.uniqBy=Il,Er.uniqWith=Dl,Er.unset=Bf,Er.unzip=Rl,Er.unzipWith=Nl,Er.update=Uf,Er.updateWith=zf,Er.values=Hf,Er.valuesIn=Vf,Er.without=jl,Er.words=xp,Er.wrap=Qu,Er.xor=Fl,Er.xorBy=Bl,Er.xorWith=Ul,Er.zip=zl,Er.zipObject=Hl,Er.zipObjectDeep=Vl,Er.zipWith=Gl,Er.entries=Nf,Er.entriesIn=jf,Er.extend=tf,Er.extendWith=nf,jp(Er,Er),Er.add=nd,Er.attempt=wp,Er.camelCase=Yf,Er.capitalize=Xf,Er.ceil=rd,Er.clamp=Gf,Er.clone=$u,Er.cloneDeep=tc,Er.cloneDeepWith=nc,Er.cloneWith=ec,Er.conformsTo=rc,Er.deburr=Kf,Er.defaultTo=Pp,Er.divide=id,Er.endsWith=Zf,Er.eq=ic,Er.escape=Qf,Er.escapeRegExp=Jf,Er.every=ru,Er.find=ou,Er.findIndex=qs,Er.findKey=uf,Er.findLast=au,Er.findLastIndex=Ys,Er.findLastKey=cf,Er.floor=od,Er.forEach=cu,Er.forEachRight=fu,Er.forIn=ff,Er.forInRight=pf,Er.forOwn=df,Er.forOwnRight=hf,Er.get=gf,Er.gt=oc,Er.gte=ac,Er.has=yf,Er.hasIn=bf,Er.head=Js,Er.identity=Tp,Er.includes=du,Er.indexOf=$s,Er.inRange=Wf,Er.invoke=xf,Er.isArguments=sc,Er.isArray=lc,Er.isArrayBuffer=uc,Er.isArrayLike=cc,Er.isArrayLikeObject=fc,Er.isBoolean=pc,Er.isBuffer=dc,Er.isDate=hc,Er.isElement=vc,Er.isEmpty=mc,Er.isEqual=gc,Er.isEqualWith=yc,Er.isError=bc,Er.isFinite=_c,Er.isFunction=Ec,Er.isInteger=xc,Er.isLength=wc,Er.isMap=Cc,Er.isMatch=Ac,Er.isMatchWith=Pc,Er.isNaN=kc,Er.isNative=Mc,Er.isNil=Lc,Er.isNull=Tc,Er.isNumber=Ic,Er.isObject=Sc,Er.isObjectLike=Oc,Er.isPlainObject=Dc,Er.isRegExp=Rc,Er.isSafeInteger=Nc,Er.isSet=jc,Er.isString=Fc,Er.isSymbol=Bc,Er.isTypedArray=Uc,Er.isUndefined=zc,Er.isWeakMap=Hc,Er.isWeakSet=Vc,Er.join=il,Er.kebabCase=$f,Er.last=ol,Er.lastIndexOf=al,Er.lowerCase=ep,Er.lowerFirst=tp,Er.lt=Gc,Er.lte=Wc,Er.max=ad,Er.maxBy=sd,Er.mean=ld,Er.meanBy=ud,Er.min=cd,Er.minBy=fd,Er.stubArray=Xp,Er.stubFalse=Kp,Er.stubObject=Zp,Er.stubString=Qp,Er.stubTrue=Jp,Er.multiply=pd,Er.nth=sl,Er.noConflict=Fp,Er.noop=Bp,Er.now=Pu,Er.pad=np,Er.padEnd=rp,Er.padStart=ip,Er.parseInt=op,Er.random=qf,Er.reduce=bu,Er.reduceRight=_u,Er.repeat=ap,Er.replace=sp,Er.result=If,Er.round=dd,Er.runInContext=e,Er.sample=xu,Er.size=Ou,Er.snakeCase=lp,Er.some=Cu,Er.sortedIndex=ml,Er.sortedIndexBy=gl,Er.sortedIndexOf=yl,Er.sortedLastIndex=bl,Er.sortedLastIndexBy=_l,Er.sortedLastIndexOf=El,Er.startCase=cp,Er.startsWith=fp,Er.subtract=hd,Er.sum=vd,Er.sumBy=md,Er.template=pp,Er.times=$p,Er.toFinite=Yc,Er.toInteger=Xc,Er.toLength=Kc,Er.toLower=dp,Er.toNumber=Zc,Er.toSafeInteger=Jc,Er.toString=$c,Er.toUpper=hp,Er.trim=vp,Er.trimEnd=mp,Er.trimStart=gp,Er.truncate=yp,Er.unescape=bp,Er.uniqueId=td,Er.upperCase=_p,Er.upperFirst=Ep,Er.each=cu,Er.eachRight=fu,Er.first=Js,jp(Er,function(){var e={};return Ti(Er,(function(t,n){ft.call(Er.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Er.VERSION=a,xn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Er[e].placeholder=Er})),xn(["drop","take"],(function(e,t){Ar.prototype[e]=function(n){n=n===o?1:Ut(Xc(n),0);var r=this.__filtered__&&!t?new Ar(this):this.clone();return r.__filtered__?r.__takeCount__=zt(n,r.__takeCount__):r.__views__.push({size:zt(n,U),type:e+(r.__dir__<0?"Right":"")}),r},Ar.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),xn(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n==I||n==R;Ar.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ga(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),xn(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Ar.prototype[e]=function(){return this[n](1).value()[0]}})),xn(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Ar.prototype[e]=function(){return this.__filtered__?new Ar(this):this[n](1)}})),Ar.prototype.compact=function(){return this.filter(Tp)},Ar.prototype.find=function(e){return this.filter(e).head()},Ar.prototype.findLast=function(e){return this.reverse().find(e)},Ar.prototype.invokeMap=Eo((function(e,t){return"function"==typeof e?new Ar(this):this.map((function(n){return Vi(n,e,t)}))})),Ar.prototype.reject=function(e){return this.filter(zu(Ga(e)))},Ar.prototype.slice=function(e,t){e=Xc(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Ar(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(t=Xc(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},Ar.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ar.prototype.toArray=function(){return this.take(U)},Ti(Ar.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Er[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Er.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof Ar,u=s[0],c=l||lc(t),f=function(e){var t=i.apply(Er,kn([e],s));return r&&p?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var p=this.__chain__,d=!!this.__actions__.length,h=a&&!p,v=l&&!d;if(!a&&c){t=v?t:new Ar(this);var m=e.apply(t,s);return m.__actions__.push({func:Yl,args:[f],thisArg:o}),new Cr(m,p)}return h&&v?e.apply(this,s):(m=this.thru(f),h?r?m.value()[0]:m.value():m)})})),xn(["pop","push","shift","sort","splice","unshift"],(function(e){var t=at[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Er.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(lc(i)?i:[],e)}return this[n]((function(n){return t.apply(lc(n)?n:[],e)}))}})),Ti(Ar.prototype,(function(e,t){var n=Er[t];if(n){var r=n.name+"";ft.call(un,r)||(un[r]=[]),un[r].push({name:t,func:n})}})),un[ba(o,_).name]=[{name:"wrapper",func:o}],Ar.prototype.clone=Pr,Ar.prototype.reverse=kr,Ar.prototype.value=Mr,Er.prototype.at=Xl,Er.prototype.chain=Kl,Er.prototype.commit=Zl,Er.prototype.next=Ql,Er.prototype.plant=$l,Er.prototype.reverse=eu,Er.prototype.toJSON=Er.prototype.valueOf=Er.prototype.value=tu,Er.prototype.first=Er.prototype.head,At&&(Er.prototype[At]=Jl),Er},Sr=wr();ln._=Sr,i=function(){return Sr}.call(t,n,t,r),i===o||(r.exports=i)}).call(this)}).call(this,n("IyRk"),n("hOG+")(e))},LvM1:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["common-helper"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["common-helper"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},Lw8S:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},MF0j:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["rect-initialdata"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["rect-initialdata"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},MIOZ:function(e,t){function n(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},MMmD:function(e,t,n){var r=n("lSCD"),i=n("shjB");function o(e){return null!=e&&i(e.length)&&!r(e)}e.exports=o},MNnm:function(e,t,n){"use strict";function r(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}n.d(t,"a",(function(){return r}))},MON2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var r=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};t.UNDEFINED_INJECT_ANNOTATION=r,t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."};t.ARGUMENTS_LENGTH_MISMATCH=i,t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};t.POST_CONSTRUCT_ERROR=o;var a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."};t.CIRCULAR_DEPENDENCY_IN_FACTORY=a,t.STACK_OVERFLOW="Maximum call stack size exceeded"},MgzW:function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}e.exports=s()?Object.assign:function(e,t){for(var n,s,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]),n)i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}},MpOU:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=n("NX8L"),c=String(Math.random()),f=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:c,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawPoint"](e,{initialData:u["a"]});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:c,style:{height:400,position:"relative"}}))};t["default"]=f},MrPd:function(e,t,n){var r=n("hypo"),i=n("ljhN"),o=Object.prototype,a=o.hasOwnProperty;function s(e,t,n){var o=e[t];a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}e.exports=s},MudL:function(e,t,n){e.exports={wrapper:"wrapper___N-VQE",slider:"slider___1nD9I",appWrapper:"appWrapper___3z9bn",appLeft:"appLeft___1e0fY",appContent:"appContent___8nL3v",appLogo:"appLogo___3t1mI",appTitle:"appTitle___30jfB",appDescription:"appDescription___2YVGO",detailWrapper:"detailWrapper___1oztn",detail:"detail___mt9_d",buttons:"buttons___2sQOE",controlButton:"controlButton___3_Skv",controlButtonIcon:"controlButtonIcon___39mLs",nextButton:"nextButton___3JXyI",appTeaser:"appTeaser___3_B4C"}},MvSz:function(e,t,n){var r=n("LXxW"),i=n("0ycA"),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return a.call(e,t)})))}:i;e.exports=l},"N+g0":function(e,t,n){var r=n("g6v/"),i=n("m/L8"),o=n("glrk"),a=n("33Wh");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=a(t),s=r.length,l=0;while(s>l)i.f(e,n=r[l++],t[n]);return e}},NBOy:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("Q7Ls"),s=n("S2ku"),l=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u8bf4\u660e"},i.a.createElement(o["AnchorLink"],{to:"#\u8bf4\u660e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u8bf4\u660e"),i.a.createElement("p",null,"\u5728 ",i.a.createElement("code",null,"DrawLine")," \u548c ",i.a.createElement("code",null,"DrawPolygon")," \u4e2d\uff0c\u5728",i.a.createElement("strong",null,"\u7ed8\u5236\u548c\u62d6\u62fd\u7ed3\u70b9"),"\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5f53\u7ed3\u70b9\u4f4d\u7f6e\u8ddd\u79bb\u76ee\u6807\u5438\u9644\u7269\u7684\u70b9\u6216\u7ebf\u6307\u5b9a\u50cf\u7d20\u503c\u5185\u65f6\uff0c\u4f1a\u5c06\u5f53\u524d\u64cd\u4f5c\u7ed3\u70b9\u81ea\u52a8\u5438\u9644\u5230\u5438\u9644\u7269\u7684\u70b9\u6216\u7ebf\u4e0a\u3002"),i.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/rms_2591f5/afts/img/A*yOxpRKJaS_YAAAAAAAAAAAAAARQnAQ",width:300}),i.a.createElement("h2",{id:"\u793a\u4f8b"},i.a.createElement(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b"),i.a.createElement(a["a"],{code:"import { DrawPolygon } from '@antv/l7-draw';\n\nconst adsorbPolygon = {\n  type: 'Feature',\n  properties: {},\n  geometry: {\n    type: 'Polygon',\n    coordinates: [\n      [\n        [120.1519775390625, 30.263663574301724],\n        [120.13240814208984, 30.228963070192805],\n        [120.15695571899413, 30.252691235553513],\n        [120.1519775390625, 30.263663574301724],\n      ],\n    ],\n  },\n};\n\nconst drawer = new DrawPolygon(scene, {\n  adsorbOptions: {\n    // \u6307\u5b9a\u5438\u9644\u56f4\u680f\n    data: [adsorbPolygon],\n    // data: () => [adsorbPolygon]  // \u901a\u8fc7\u51fd\u6570\u83b7\u53d6\u5438\u9644\u7269\n    // data: 'drawData'   // \u5f00\u542f\u65f6\u7684\u9ed8\u8ba4\u5438\u9644\u7269, \u5438\u9644\u7269\u4e3a\u5f53\u524d\u7ed8\u5236\u7684\u56fe\u5f62\n  },\n  // adsorbOptions: false // \u9ed8\u8ba4\uff0c\u5173\u95ed\u5438\u9644\n});",lang:"tsx"}),i.a.createElement("h2",{id:"\u914d\u7f6e"},i.a.createElement(o["AnchorLink"],{to:"#\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u914d\u7f6e"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"data"),i.a.createElement("td",null,"\u5438\u9644\u5bf9\u8c61\uff0c\u4f20\u5165 ",i.a.createElement("code",null,"'drawData'")," \u8868\u793a\u5438\u9644\u7269\u4e3a\u5df2\u6709\u7684\u7ed8\u5236\u7269\uff0c\u4e5f\u53ef\u4ee5\u4f20\u5165\u7ed8\u5236\u7269\u7684 ",i.a.createElement("code",null,"GeoJSON")),i.a.createElement("td",null,i.a.createElement("code",null,"'drawData'")," | ",i.a.createElement("code",null,"Feature[]")," | ",i.a.createElement("code",null,"() => Feature[]")),i.a.createElement("td",null,i.a.createElement("code",null,"'drawData'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"pointAdsorbPixel"),i.a.createElement("td",null,"\u88ab\u5438\u9644\u7269\u4e0a\u70b9\u5438\u9644\u7684\u50cf\u7d20\u503c\uff0c\u5f53\u503c \u2264 0 \u65f6\u4e0d\u5438\u9644\u70b9"),i.a.createElement("td",null,i.a.createElement("code",null,"number")),i.a.createElement("td",null,i.a.createElement("code",null,"12"))),i.a.createElement("tr",null,i.a.createElement("td",null,"lineAdsorbPixel"),i.a.createElement("td",null,"\u88ab\u5438\u9644\u7269\u4e0a\u7ebf\u5438\u9644\u7684\u50cf\u7d20\u503c\uff0c\u5f53\u503c \u2264 0 \u65f6\u4e0d\u5438\u9644\u7ebf"),i.a.createElement("td",null,i.a.createElement("code",null,"number")),i.a.createElement("td",null,i.a.createElement("code",null,"10")))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(l,{demos:n})}},"NC/Y":function(e,t,n){var r=n("0GbY");e.exports=r("navigator","userAgent")||""},NJKA:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("2/Rp"),l=(n("TpwP"),n("q1tI")),u=n.n(l),c=String(Math.random()),f=()=>{var e=Object(l["useState"])(null),t=Object(r["a"])(e,2),n=t[0],f=t[1];return Object(l["useEffect"])((()=>{var e=new i["f"]({id:c,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawLine"](e,{});f(t),t.enable()}))}),[]),u.a.createElement("div",null,u.a.createElement("div",{style:{padding:8}},u.a.createElement(s["a"],{onClick:()=>null===n||void 0===n?void 0:n.enable()},"\u542f\u7528"),u.a.createElement(s["a"],{onClick:()=>null===n||void 0===n?void 0:n.disable()},"\u7981\u7528"),u.a.createElement(s["a"],{onClick:()=>null===n||void 0===n?void 0:n.clear()},"\u6e05\u7a7a")),u.a.createElement("div",{id:c,style:{height:400,position:"relative"}}))};t["default"]=f},NKxu:function(e,t,n){var r=n("lSCD"),i=n("E2jh"),o=n("GoyQ"),a=n("3Fdi"),s=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,f=u.toString,p=c.hasOwnProperty,d=RegExp("^"+f.call(p).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(e){if(!o(e)||i(e))return!1;var t=r(e)?d:l;return t.test(a(e))}e.exports=h},NV22:function(e,t,n){var r=n("I+eb"),i=n("glrk"),o=n("4oU/"),a=n("ntOU"),s=n("afO8"),l="Seeded Random",u=l+" Generator",c=s.set,f=s.getterFor(u),p='Math.seededPRNG() argument should have a "seed" field with a finite value.',d=a((function(e){c(this,{type:u,seed:e%2147483647})}),l,(function(){var e=f(this),t=e.seed=(1103515245*e.seed+12345)%2147483647;return{value:(1073741823&t)/1073741823,done:!1}}));r({target:"Math",stat:!0,forced:!0},{seededPRNG:function(e){var t=i(e).seed;if(!o(t))throw TypeError(p);return new d(t)}})},NX8L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[120.103666,30.262449]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[120.12,30.262449]}}]},NaFW:function(e,t,n){var r=n("9d/t"),i=n("P4y1"),o=n("tiKp"),a=o("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},Nehr:function(e,t,n){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},Ni7v:function(e,t,n){"use strict";n.r(t);var r=n("dEAq"),i=n("U8pU"),o=n("1OyB"),a=n("vuIU"),s=n("JX7q"),l=n("Ji7U"),u=n("md7G"),c=n("foSv"),f=n("rePB"),p=n("T5bk");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(f["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},m=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(o["a"])(this,e),this.init(t,n)}return Object(a["a"])(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||v,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,h(h({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}(),g=new m,y=function(){function e(){Object(o["a"])(this,e),this.observers={}}return Object(a["a"])(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function b(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function _(e){return null==e?"":""+e}function E(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function x(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"===typeof e}var o="string"!==typeof t?[].concat(t):t.split(".");while(o.length>1){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function w(e,t,n){var r=x(e,t,Object),i=r.obj,o=r.k;i[o]=n}function S(e,t,n,r){var i=x(e,t,Object),o=i.obj,a=i.k;o[a]=o[a]||[],r&&(o[a]=o[a].concat(n)),r||o[a].push(n)}function O(e,t){var n=x(e,t),r=n.obj,i=n.k;if(r)return r[i]}function C(e,t,n){var r=O(e,n);return void 0!==r?r:O(t,n)}function A(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"===typeof e[r]||e[r]instanceof String||"string"===typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):A(e[r],t[r],n):e[r]=t[r]);return e}function P(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function M(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return k[e]})):e}var T="undefined"!==typeof window&&window.navigator&&"undefined"===typeof window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,L=[" ",",","?","!",";"];function I(e,t,n){t=t||"",n=n||"";var r=L.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!i.test(e);if(!o){var a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){Object(f["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){var t=j();return function(){var n,r=Object(c["a"])(e);if(t){var i=Object(c["a"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u["a"])(this,n)}}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"===typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){var a=2,s=r.slice(o,o+a).join(n),l=i[s];while(void 0===l&&r.length>o+a)a++,s=r.slice(o,o+a).join(n),l=i[s];if(void 0===l)return;if(null===l)return null;if(t.endsWith(s)){if("string"===typeof l)return l;if(s&&"string"===typeof l[s])return l[s]}var u=r.slice(o+a).join(n);return u?F(l,u,n):void 0}i=i[r[o]]}return i}}var B=function(e){Object(l["a"])(n,e);var t=N(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Object(o["a"])(this,n),r=t.call(this),T&&y.call(Object(s["a"])(r)),r.data=e||{},r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return Object(a["a"])(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!==typeof n&&(a=a.concat(n)),n&&"string"===typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=O(this.data,a);return s||!o||"string"!==typeof n?s:F(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),r=t,t=a[1]),this.addNamespaces(t),w(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!==typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=t,t=a[1]),this.addNamespaces(t);var s=O(this.data,a)||{};r?A(s,n,i):s=R(R({},s),n),w(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?R(R({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e),n=t&&Object.keys(t)||[];return!!n.find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(y),U={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){Object(f["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e){var t=G();return function(){var n,r=Object(c["a"])(e);if(t){var i=Object(c["a"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u["a"])(this,n)}}function G(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var W={},q=function(e){Object(l["a"])(n,e);var t=V(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o["a"])(this,n),r=t.call(this),T&&y.call(Object(s["a"])(r)),E(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,Object(s["a"])(r)),r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=g.create("translator"),r}return Object(a["a"])(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!I(e,n,r);if(o&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var l=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),e=l.join(r)}return"string"===typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,r){var o=this;if("object"!==Object(i["a"])(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,l=this.extractFromKey(e[e.length-1],t),u=l.key,c=l.namespaces,f=c[c.length-1],p=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&"cimode"===p.toLowerCase()){if(d){var h=t.nsSeparator||this.options.nsSeparator;return a?(v.res="".concat(f).concat(h).concat(u),v):"".concat(f).concat(h).concat(u)}return a?(v.res=u,v):u}var v=this.resolve(e,t),m=v&&v.res,g=v&&v.usedKey||u,y=v&&v.exactUsedKey||u,b=Object.prototype.toString.apply(m),_=["[object Number]","[object Function]","[object RegExp]"],E=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,w="string"!==typeof m&&"boolean"!==typeof m&&"number"!==typeof m;if(x&&m&&w&&_.indexOf(b)<0&&("string"!==typeof E||"[object Array]"!==b)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,m,H(H({},t),{},{ns:c})):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");return a?(v.res=S,v):S}if(s){var O="[object Array]"===b,C=O?[]:{},A=O?y:g;for(var P in m)if(Object.prototype.hasOwnProperty.call(m,P)){var k="".concat(A).concat(s).concat(P);C[P]=this.translate(k,H(H({},t),{joinArrays:!1,ns:c})),C[P]===k&&(C[P]=m[P])}m=C}}else if(x&&"string"===typeof E&&"[object Array]"===b)m=m.join(E),m&&(m=this.extendTranslation(m,e,t,r));else{var M=!1,T=!1,L=void 0!==t.count&&"string"!==typeof t.count,I=n.hasDefaultValue(t),D=L?this.pluralResolver.getSuffix(p,t.count,t):"",R=t["defaultValue".concat(D)]||t.defaultValue;!this.isValidLookup(m)&&I&&(M=!0,m=R),this.isValidLookup(m)||(T=!0,m=u);var N=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,j=N&&T?void 0:m,F=I&&R!==m&&this.options.updateMissing;if(T||M||F){if(this.logger.log(F?"updateKey":"missingKey",p,f,u,F?R:m),s){var B=this.resolve(u,H(H({},t),{},{keySeparator:!1}));B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var U=[],z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&z&&z[0])for(var V=0;V<z.length;V++)U.push(z[V]);else"all"===this.options.saveMissingTo?U=this.languageUtils.toResolveHierarchy(t.lng||this.language):U.push(t.lng||this.language);var G=function(e,n,r){var i=I&&r!==m?r:j;o.options.missingKeyHandler?o.options.missingKeyHandler(e,f,n,i,F,t):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(e,f,n,i,F,t),o.emit("missingKey",e,f,n,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&L?U.forEach((function(e){o.pluralResolver.getSuffixes(e,t).forEach((function(n){G([e],u+n,t["defaultValue".concat(n)]||R)}))})):G(U,u,R))}m=this.extendTranslation(m,e,t,v,r),T&&m===u&&this.options.appendNamespaceToMissingKey&&(m="".concat(f,":").concat(u)),(T||M)&&this.options.parseMissingKeyHandler&&(m="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(f,":").concat(u):u,M?m:void 0):this.options.parseMissingKeyHandler(m))}return a?(v.res=m,v):m}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,H(H({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(H(H({},n),{interpolation:H(H({},this.options.interpolation),n.interpolation)}));var a,s="string"===typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var l=e.match(this.interpolator.nestingRegexp);a=l&&l.length}var u=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=H(H({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),s){var c=e.match(this.interpolator.nestingRegexp),f=c&&c.length;a<f&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var p=n.postProcess||this.options.postProcess,d="string"===typeof p?[p]:p;return void 0!==e&&null!==e&&d&&d.length&&!1!==n.applyPostProcessor&&(e=U.handle(d,e,t,this.options&&this.options.postProcessPassResolved?H({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var l=a.extractFromKey(e,s),u=l.key;n=u;var c=l.namespaces;a.options.fallbackNS&&(c=c.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!==typeof s.count,p=f&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),d=void 0!==s.context&&("string"===typeof s.context||"number"===typeof s.context)&&""!==s.context,h=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);c.forEach((function(e){a.isValidLookup(t)||(o=e,!W["".concat(h[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(W["".concat(h[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((function(n){if(!a.isValidLookup(t)){i=n;var o,l=[u];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(l,u,n,e,s);else{var c;f&&(c=a.pluralResolver.getSuffix(n,s.count,s));var h="".concat(a.options.pluralSeparator,"zero");if(f&&(l.push(u+c),p&&l.push(u+h)),d){var v="".concat(u).concat(a.options.contextSeparator).concat(s.context);l.push(v),f&&(l.push(v+c),p&&l.push(v+h))}}while(o=l.pop())a.isValidLookup(t)||(r=o,t=a.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),n}(y);function Y(e){return e.charAt(0).toUpperCase()+e.slice(1)}var X=function(){function e(t){Object(o["a"])(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=g.create("languageUtils")}return Object(a["a"])(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Y(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Y(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Y(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e["default"]||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e["default"]),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"===typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),K=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Z={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},Q=["v1","v2","v3"],J={zero:0,one:1,two:2,few:3,many:4,other:5};function $(){var e={};return K.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:Z[t.fc]}}))})),e}var ee=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(o["a"])(this,e),this.languageUtils=t,this.options=n,this.logger=g.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=$()}return Object(a["a"])(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return J[e]-J[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"===typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!Q.includes(this.options.compatibilityJSON)}}]),e}();function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){Object(f["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o["a"])(this,e),this.logger=g.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return Object(a["a"])(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:M,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?P(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?P(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?P(t.nestingPrefix):t.nestingPrefixEscaped||P("$t("),this.nestingSuffix=t.nestingSuffix?P(t.nestingSuffix):t.nestingSuffixEscaped||P(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,a,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(s.formatSeparator)<0){var i=C(t,l,e);return s.alwaysFormat?s.format(i,void 0,n,ne(ne(ne({},r),t),{},{interpolationkey:e})):i}var o=e.split(s.formatSeparator),a=o.shift().trim(),u=o.join(s.formatSeparator).trim();return s.format(C(t,l,a),u,n,ne(ne(ne({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,p=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,d=[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?u(s.escape(e)):u(e)}}];return d.forEach((function(t){a=0;while(i=t.regex.exec(e)){var n=i[1].trim();if(o=c(n),void 0===o)if("function"===typeof f){var l=f(e,i,r);o="string"===typeof l?l:""}else if(r&&r.hasOwnProperty(n))o="";else{if(p){o=i[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),o=""}else"string"===typeof o||s.useRawValueToEscape||(o=_(o));var u=t.safeValue(o);if(e=e.replace(i[0],u),p?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,a++,a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=ne({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0],i=this.interpolate(i,a),i=i.replace(/'/g,'"');try{a=JSON.parse(i),t&&(a=ne(ne({},t),a))}catch(o){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),o),"".concat(e).concat(n).concat(i)}return delete a.defaultValue,e}a.applyPostProcessor=!1,delete a.defaultValue;while(n=this.nestingRegexp.exec(e)){var l=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=c.shift(),l=c,u=!0}if(r=t(s.call(this,n[1].trim(),a),a),r&&n[0]===e&&"string"!==typeof r)return r;"string"!==typeof r&&(r=_(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),u&&(r=l.reduce((function(e,t){return i.format(e,t,o.lng,ne(ne({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){Object(f["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if("currency"===t&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if("relativetime"===t&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var o=i.split(";");o.forEach((function(e){if(e){var t=e.split(":"),r=Object(p["a"])(t),i=r[0],o=r.slice(1),a=o.join(":").trim().replace(/^'+|'+$/g,"");n[i.trim()]||(n[i.trim()]=a),"false"===a&&(n[i.trim()]=!1),"true"===a&&(n[i.trim()]=!0),isNaN(a)||(n[i.trim()]=parseInt(a,10))}}))}}return{formatName:t,formatOptions:n}}var se=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o["a"])(this,e),this.logger=g.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,oe(oe({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,oe({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,oe({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,oe({},n)).format(e)}},this.init(t)}return Object(a["a"])(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,n,r){var i=this,o=t.split(this.formatSeparator),a=o.reduce((function(e,t){var o=ae(t),a=o.formatName,s=o.formatOptions;if(i.formats[a]){var l=e;try{var u=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},c=u.locale||u.lng||r.locale||r.lng||n;l=i.formats[a](e,c,oe(oe(oe({},s),r),u))}catch(f){i.logger.warn(f)}return l}return i.logger.warn("there was no format function for ".concat(a)),e}),e);return a}}]),e}();function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){Object(f["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e){var t=fe();return function(){var n,r=Object(c["a"])(e);if(t){var i=Object(c["a"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u["a"])(this,n)}}function fe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function pe(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}var de=function(e){Object(l["a"])(n,e);var t=ce(n);function n(e,r,i){var a,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(o["a"])(this,n),a=t.call(this),T&&y.call(Object(s["a"])(a)),a.backend=e,a.store=r,a.services=i,a.languageUtils=i.languageUtils,a.options=l,a.logger=g.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=l.maxParallelReads||10,a.readingCalls=0,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(i,l.backend,l),a}return Object(a["a"])(n,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o={},a={},s={},l={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?void 0===a[s]&&(a[s]=!0):(i.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===l[t]&&(l[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){S(n.loaded,[i],o),pe(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:o,callback:a}):(this.readingCalls++,this.backend[n](e,t,(function(s,l){if(r.readingCalls--,r.waitingReads.length>0){var u=r.waitingReads.shift();r.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}s&&l&&i<5?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,a)}),o):a(s,l)}))):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):void 0!==n&&null!==n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,ue(ue({},o),{},{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),n}(y);function he(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===Object(i["a"])(e[1])&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===Object(i["a"])(e[2])||"object"===Object(i["a"])(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ve(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){Object(f["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e){var t=be();return function(){var n,r=Object(c["a"])(e);if(t){var i=Object(c["a"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u["a"])(this,n)}}function be(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _e(){}function Ee(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach((function(t){"function"===typeof e[t]&&(e[t]=e[t].bind(e))}))}var xe=function(e){Object(l["a"])(n,e);var t=ye(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(Object(o["a"])(this,n),e=t.call(this),T&&y.call(Object(s["a"])(e)),e.options=ve(r),e.services={},e.logger=g,e.modules={external:[]},Ee(Object(s["a"])(e)),i&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,i),Object(u["a"])(e,Object(s["a"])(e));setTimeout((function(){e.init(r,i)}),0)}return e}return Object(a["a"])(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"===typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"===typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=he();function i(e){return e?"function"===typeof e?new e:e:null}if(this.options=ge(ge(ge({},r),this.options),ve(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=ge(ge({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?g.init(i(this.modules.logger),this.options):g.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!==typeof Intl&&(o=se);var a=new X(this.options);this.store=new B(this.options.resources,this.options);var s=this.services;s.logger=g,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new ee(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=i(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new re(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new de(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new q(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=_e),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var u=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var c=["addResource","addResources","addResourceBundle","removeResourceBundle"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var f=b(),p=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),f.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),f}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e,r=n,i="string"===typeof e?e:this.language;if("function"===typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],a=function(e){if(e){var n=t.services.languageUtils.toResolveHierarchy(e);n.forEach((function(e){o.indexOf(e)<0&&o.push(e)}))}};if(i)a(i);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),r(e)}))}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=b();return e||(e=this.languages),t||(t=this.options.ns),n||(n=_e),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&U.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=b();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(e,o){o?(i(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))},a=function(t){e||t||!n.services.languageDetector||(t=[]);var r="string"===typeof t?t:n.services.languageUtils.getBestMatchFromCodes(t);r&&(n.language||i(r),n.translator.language||n.translator.changeLanguage(r),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(r)),n.loadResources(r,(function(e){o(e,r)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,o=function e(t,o){var a;if("object"!==Object(i["a"])(o)){for(var s=arguments.length,l=new Array(s>2?s-2:0),u=2;u<s;u++)l[u-2]=arguments[u];a=r.options.overloadTranslationOptionHandler([t,o].concat(l))}else a=ge({},o);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,a.keyPrefix=a.keyPrefix||n||e.keyPrefix;var c=r.options.keySeparator||".",f=a.keyPrefix?"".concat(a.keyPrefix).concat(c).concat(t):t;return r.t(f,a)};return"string"===typeof e?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(r,e)||i&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=b();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=b();"string"===typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"];return t.indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e,i=ge(ge(ge({},this.options),t),{isClone:!0}),o=new n(i),a=["store","services","language"];return a.forEach((function(t){o[t]=e[t]})),o.services=ge({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new q(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(i,r),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(y);Object(f["a"])(xe,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new xe(e,t)}));var we=xe.createInstance();we.createInstance=xe.createInstance;we.createInstance,we.init,we.loadResources,we.reloadResources,we.use,we.changeLanguage,we.getFixedT,we.t,we.exists,we.setDefaultNamespace,we.hasLoadedNamespace,we.loadNamespaces,we.loadLanguages;var Se=we,Oe=n("q1tI"),Ce=n.n(Oe),Ae=n("lwsE"),Pe=n.n(Ae),ke=n("W8MJ"),Me=n.n(ke),Te=n("lSNA"),Le=n.n(Te),Ie=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230);/g,De={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026"},Re=function(e){return De[e]},Ne=function(e){return e.replace(Ie,Re)};function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Be,Ue={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ne},ze=Object(Oe["createContext"])();function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ue=Fe(Fe({},Ue),e)}function Ve(){return Ue}var Ge=function(){function e(){Pe()(this,e),this.usedNamespaces={}}return Me()(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function We(e){Be=e}function qe(){return Be}var Ye={type:"3rdParty",init:function(e){He(e.options.react),We(e)}};var Xe=n("VTBJ"),Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},Ze=Ke,Qe=n("6VBw"),Je=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:Ze}))};Je.displayName="HomeOutlined";var $e=Oe["forwardRef"](Je),et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},tt=et,nt=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:tt}))};nt.displayName="CheckCircleFilled";var rt=Oe["forwardRef"](nt),it={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},ot=it,at=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:ot}))};at.displayName="CloseCircleFilled";var st=Oe["forwardRef"](at),lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},ut=lt,ct=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:ut}))};ct.displayName="ExclamationCircleFilled";var ft=Oe["forwardRef"](ct),pt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"},dt=pt,ht=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:dt}))};ht.displayName="WarningFilled";var vt=Oe["forwardRef"](ht),mt=n("TSYQ"),gt=n.n(mt),yt=n("H84U"),bt=function(){return Oe["createElement"]("svg",{width:"252",height:"294"},Oe["createElement"]("defs",null,Oe["createElement"]("path",{d:"M0 .387h251.772v251.772H0z"})),Oe["createElement"]("g",{fill:"none",fillRule:"evenodd"},Oe["createElement"]("g",{transform:"translate(0 .012)"},Oe["createElement"]("mask",{fill:"#fff"}),Oe["createElement"]("path",{d:"M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321",fill:"#E4EBF7",mask:"url(#b)"})),Oe["createElement"]("path",{d:"M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66",fill:"#FFF"}),Oe["createElement"]("path",{d:"M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788",stroke:"#FFF",strokeWidth:"2"}),Oe["createElement"]("path",{d:"M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175",fill:"#FFF"}),Oe["createElement"]("path",{d:"M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932",fill:"#FFF"}),Oe["createElement"]("path",{d:"M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011",stroke:"#FFF",strokeWidth:"2"}),Oe["createElement"]("path",{d:"M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382",fill:"#FFF"}),Oe["createElement"]("path",{d:"M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z",stroke:"#FFF",strokeWidth:"2"}),Oe["createElement"]("path",{stroke:"#FFF",strokeWidth:"2",d:"M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"}),Oe["createElement"]("path",{d:"M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742",fill:"#FFF"}),Oe["createElement"]("path",{d:"M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48",fill:"#1890FF"}),Oe["createElement"]("path",{d:"M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894",fill:"#FFF"}),Oe["createElement"]("path",{d:"M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88",fill:"#FFB594"}),Oe["createElement"]("path",{d:"M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624",fill:"#FFC6A0"}),Oe["createElement"]("path",{d:"M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682",fill:"#FFF"}),Oe["createElement"]("path",{d:"M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573",fill:"#CBD1D1"}),Oe["createElement"]("path",{d:"M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z",fill:"#2B0849"}),Oe["createElement"]("path",{d:"M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558",fill:"#A4AABA"}),Oe["createElement"]("path",{d:"M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z",fill:"#CBD1D1"}),Oe["createElement"]("path",{d:"M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062",fill:"#2B0849"}),Oe["createElement"]("path",{d:"M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15",fill:"#A4AABA"}),Oe["createElement"]("path",{d:"M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165",fill:"#7BB2F9"}),Oe["createElement"]("path",{d:"M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M107.275 222.1s2.773-1.11 6.102-3.884",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038",fill:"#192064"}),Oe["createElement"]("path",{d:"M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81",fill:"#FFF"}),Oe["createElement"]("path",{d:"M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642",fill:"#192064"}),Oe["createElement"]("path",{d:"M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268",fill:"#FFC6A0"}),Oe["createElement"]("path",{d:"M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456",fill:"#FFC6A0"}),Oe["createElement"]("path",{d:"M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z",fill:"#520038"}),Oe["createElement"]("path",{d:"M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254",fill:"#552950"}),Oe["createElement"]("path",{stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round",d:"M110.13 74.84l-.896 1.61-.298 4.357h-2.228"}),Oe["createElement"]("path",{d:"M110.846 74.481s1.79-.716 2.506.537",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M103.287 72.93s1.83 1.113 4.137.954",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M129.405 122.865s-5.272 7.403-9.422 10.768",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M119.306 107.329s.452 4.366-2.127 32.062",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01",fill:"#F2D7AD"}),Oe["createElement"]("path",{d:"M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92",fill:"#F4D19D"}),Oe["createElement"]("path",{d:"M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z",fill:"#F2D7AD"}),Oe["createElement"]("path",{fill:"#CC9B6E",d:"M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"}),Oe["createElement"]("path",{d:"M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83",fill:"#F4D19D"}),Oe["createElement"]("path",{fill:"#CC9B6E",d:"M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"}),Oe["createElement"]("path",{fill:"#CC9B6E",d:"M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"}),Oe["createElement"]("path",{d:"M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238",fill:"#FFC6A0"}),Oe["createElement"]("path",{d:"M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647",fill:"#5BA02E"}),Oe["createElement"]("path",{d:"M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647",fill:"#92C110"}),Oe["createElement"]("path",{d:"M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187",fill:"#F2D7AD"}),Oe["createElement"]("path",{d:"M88.979 89.48s7.776 5.384 16.6 2.842",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"})))},_t=bt,Et=function(){return Oe["createElement"]("svg",{width:"254",height:"294"},Oe["createElement"]("defs",null,Oe["createElement"]("path",{d:"M0 .335h253.49v253.49H0z"}),Oe["createElement"]("path",{d:"M0 293.665h253.49V.401H0z"})),Oe["createElement"]("g",{fill:"none",fillRule:"evenodd"},Oe["createElement"]("g",{transform:"translate(0 .067)"},Oe["createElement"]("mask",{fill:"#fff"}),Oe["createElement"]("path",{d:"M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134",fill:"#E4EBF7",mask:"url(#b)"})),Oe["createElement"]("path",{d:"M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671",fill:"#FFF"}),Oe["createElement"]("path",{d:"M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861",stroke:"#FFF",strokeWidth:"2"}),Oe["createElement"]("path",{d:"M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238",fill:"#FFF"}),Oe["createElement"]("path",{d:"M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775",fill:"#FFF"}),Oe["createElement"]("path",{d:"M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68",fill:"#FF603B"}),Oe["createElement"]("path",{d:"M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733",fill:"#FFF"}),Oe["createElement"]("path",{d:"M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487",fill:"#FFB594"}),Oe["createElement"]("path",{d:"M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235",fill:"#FFF"}),Oe["createElement"]("path",{d:"M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246",fill:"#FFB594"}),Oe["createElement"]("path",{d:"M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508",fill:"#FFC6A0"}),Oe["createElement"]("path",{d:"M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z",fill:"#520038"}),Oe["createElement"]("path",{d:"M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26",fill:"#552950"}),Oe["createElement"]("path",{stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round",d:"M99.206 73.644l-.9 1.62-.3 4.38h-2.24"}),Oe["createElement"]("path",{d:"M99.926 73.284s1.8-.72 2.52.54",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68",stroke:"#DB836E",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M92.326 71.724s1.84 1.12 4.16.96",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954",stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044",stroke:"#E4EBF7",strokeWidth:"1.136",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583",fill:"#FFF"}),Oe["createElement"]("path",{d:"M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75",fill:"#FFC6A0"}),Oe["createElement"]("path",{d:"M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713",fill:"#FFC6A0"}),Oe["createElement"]("path",{d:"M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16",fill:"#FFC6A0"}),Oe["createElement"]("path",{d:"M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575",fill:"#FFF"}),Oe["createElement"]("path",{d:"M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47",fill:"#CBD1D1"}),Oe["createElement"]("path",{d:"M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z",fill:"#2B0849"}),Oe["createElement"]("path",{d:"M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671",fill:"#A4AABA"}),Oe["createElement"]("path",{d:"M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z",fill:"#CBD1D1"}),Oe["createElement"]("path",{d:"M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162",fill:"#2B0849"}),Oe["createElement"]("path",{d:"M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156",fill:"#A4AABA"}),Oe["createElement"]("path",{d:"M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69",fill:"#7BB2F9"}),Oe["createElement"]("path",{d:"M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M96.973 219.373s2.882-1.153 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.032",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62",fill:"#192064"}),Oe["createElement"]("path",{d:"M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843",fill:"#FFF"}),Oe["createElement"]("path",{d:"M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668",fill:"#192064"}),Oe["createElement"]("path",{d:"M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69",fill:"#FFC6A0"}),Oe["createElement"]("path",{d:"M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593",stroke:"#DB836E",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594",fill:"#FFC6A0"}),Oe["createElement"]("path",{d:"M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M109.278 112.533s3.38-3.613 7.575-4.662",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M107.375 123.006s9.697-2.745 11.445-.88",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955",stroke:"#BFCDDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01",fill:"#A3B4C6"}),Oe["createElement"]("path",{d:"M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813",fill:"#A3B4C6"}),Oe["createElement"]("mask",{fill:"#fff"}),Oe["createElement"]("path",{fill:"#A3B4C6",mask:"url(#d)",d:"M154.098 190.096h70.513v-84.617h-70.513z"}),Oe["createElement"]("path",{d:"M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208",fill:"#BFCDDD",mask:"url(#d)"}),Oe["createElement"]("path",{d:"M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),Oe["createElement"]("path",{d:"M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209",fill:"#BFCDDD",mask:"url(#d)"}),Oe["createElement"]("path",{d:"M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751",stroke:"#7C90A5",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),Oe["createElement"]("path",{d:"M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),Oe["createElement"]("path",{d:"M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407",fill:"#BFCDDD",mask:"url(#d)"}),Oe["createElement"]("path",{d:"M177.259 207.217v11.52M201.05 207.217v11.52",stroke:"#A3B4C6",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),Oe["createElement"]("path",{d:"M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422",fill:"#5BA02E",mask:"url(#d)"}),Oe["createElement"]("path",{d:"M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423",fill:"#92C110",mask:"url(#d)"}),Oe["createElement"]("path",{d:"M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209",fill:"#F2D7AD",mask:"url(#d)"})))},xt=Et,wt=function(){return Oe["createElement"]("svg",{width:"251",height:"294"},Oe["createElement"]("g",{fill:"none",fillRule:"evenodd"},Oe["createElement"]("path",{d:"M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023",fill:"#E4EBF7"}),Oe["createElement"]("path",{d:"M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65",fill:"#FFF"}),Oe["createElement"]("path",{d:"M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73",stroke:"#FFF",strokeWidth:"2"}),Oe["createElement"]("path",{d:"M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126",fill:"#FFF"}),Oe["createElement"]("path",{d:"M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873",fill:"#FFF"}),Oe["createElement"]("path",{d:"M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36",stroke:"#FFF",strokeWidth:"2"}),Oe["createElement"]("path",{d:"M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375",fill:"#FFF"}),Oe["createElement"]("path",{d:"M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z",stroke:"#FFF",strokeWidth:"2"}),Oe["createElement"]("path",{stroke:"#FFF",strokeWidth:"2",d:"M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"}),Oe["createElement"]("path",{d:"M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321",fill:"#A26EF4"}),Oe["createElement"]("path",{d:"M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734",fill:"#FFF"}),Oe["createElement"]("path",{d:"M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717",fill:"#FFF"}),Oe["createElement"]("path",{d:"M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61",fill:"#5BA02E"}),Oe["createElement"]("path",{d:"M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611",fill:"#92C110"}),Oe["createElement"]("path",{d:"M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17",fill:"#F2D7AD"}),Oe["createElement"]("path",{d:"M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085",fill:"#FFF"}),Oe["createElement"]("path",{d:"M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233",fill:"#FFC6A0"}),Oe["createElement"]("path",{d:"M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367",fill:"#FFB594"}),Oe["createElement"]("path",{d:"M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95",fill:"#FFC6A0"}),Oe["createElement"]("path",{d:"M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929",fill:"#FFF"}),Oe["createElement"]("path",{d:"M78.18 94.656s.911 7.41-4.914 13.078",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437",stroke:"#E4EBF7",strokeWidth:".932",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z",fill:"#FFC6A0"}),Oe["createElement"]("path",{d:"M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91",fill:"#FFB594"}),Oe["createElement"]("path",{d:"M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103",fill:"#5C2552"}),Oe["createElement"]("path",{d:"M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145",fill:"#FFC6A0"}),Oe["createElement"]("path",{stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round",d:"M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"}),Oe["createElement"]("path",{d:"M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32",fill:"#552950"}),Oe["createElement"]("path",{d:"M91.132 86.786s5.269 4.957 12.679 2.327",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25",fill:"#DB836E"}),Oe["createElement"]("path",{d:"M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073",stroke:"#5C2552",strokeWidth:"1.526",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M66.508 86.763s-1.598 8.83-6.697 14.078",stroke:"#E4EBF7",strokeWidth:"1.114",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M128.31 87.934s3.013 4.121 4.06 11.785",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M64.09 84.816s-6.03 9.912-13.607 9.903",stroke:"#DB836E",strokeWidth:".795",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73",fill:"#FFC6A0"}),Oe["createElement"]("path",{d:"M130.532 85.488s4.588 5.757 11.619 6.214",stroke:"#DB836E",strokeWidth:".75",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M121.708 105.73s-.393 8.564-1.34 13.612",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M115.784 161.512s-3.57-1.488-2.678-7.14",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68",fill:"#CBD1D1"}),Oe["createElement"]("path",{d:"M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z",fill:"#2B0849"}),Oe["createElement"]("path",{d:"M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62",fill:"#A4AABA"}),Oe["createElement"]("path",{d:"M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z",fill:"#CBD1D1"}),Oe["createElement"]("path",{d:"M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078",fill:"#2B0849"}),Oe["createElement"]("path",{d:"M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15",fill:"#A4AABA"}),Oe["createElement"]("path",{d:"M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954",fill:"#7BB2F9"}),Oe["createElement"]("path",{d:"M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M108.459 220.905s2.759-1.104 6.07-3.863",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),Oe["createElement"]("path",{d:"M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017",fill:"#192064"}),Oe["createElement"]("path",{d:"M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806",fill:"#FFF"}),Oe["createElement"]("path",{d:"M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64",fill:"#192064"}),Oe["createElement"]("path",{d:"M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"})))},St=wt,Ot={success:rt,error:st,info:ft,warning:vt},Ct={404:_t,500:xt,403:St},At=Object.keys(Ct),Pt=function(e){var t=e.prefixCls,n=e.icon,r=e.status,i=gt()("".concat(t,"-icon"));if(At.includes("".concat(r))){var o=Ct[r];return Oe["createElement"]("div",{className:"".concat(i," ").concat(t,"-image")},Oe["createElement"](o,null))}var a=Oe["createElement"](Ot[r]);return Oe["createElement"]("div",{className:i},n||a)},kt=function(e){var t=e.prefixCls,n=e.extra;return n?Oe["createElement"]("div",{className:"".concat(t,"-extra")},n):null},Mt=function(e){var t=e.prefixCls,n=e.className,r=e.subTitle,i=e.title,o=e.style,a=e.children,s=e.status,l=void 0===s?"info":s,u=e.icon,c=e.extra,p=Oe["useContext"](yt["b"]),d=p.getPrefixCls,h=p.direction,v=d("result",t),m=gt()(v,"".concat(v,"-").concat(l),n,Object(f["a"])({},"".concat(v,"-rtl"),"rtl"===h));return Oe["createElement"]("div",{className:m,style:o},Oe["createElement"](Pt,{prefixCls:v,status:l,icon:u}),Oe["createElement"]("div",{className:"".concat(v,"-title")},i),r&&Oe["createElement"]("div",{className:"".concat(v,"-subtitle")},r),Oe["createElement"](kt,{prefixCls:v,extra:c}),a&&Oe["createElement"]("div",{className:"".concat(v,"-content")},a))};Mt.PRESENTED_IMAGE_403=Ct["403"],Mt.PRESENTED_IMAGE_404=Ct["404"],Mt.PRESENTED_IMAGE_500=Ct["500"];var Tt=Mt,Lt=n("2/Rp"),It=function(){return Ce.a.createElement(Ce.a.Fragment,null,Ce.a.createElement(Tt,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Ce.a.createElement(r["Link"],{to:"/"},Ce.a.createElement(Lt["a"],{type:"primary"},Ce.a.createElement($e,null),"Back Home"))}))},Dt=It,Rt=n("xkdA"),Nt=n.n(Rt),jt=n("GilN"),Ft=n.n(jt),Bt=n("QCTo"),Ut=n.n(Bt),zt=n("55Ip"),Ht=n("5DGS"),Vt=n.n(Ht),Gt=["https://gw.alipayobjects.com/zos/antfincdn/IqREAm36K7/1.png","https://gw.alipayobjects.com/zos/antfincdn/3fG1Iqjfnz/2.png"],Wt=function(e){var t=e.index,n=void 0===t?0:t,r=e.type,i=e.title,o=e.date,a=e.link,s=void 0===a?"":a,l=Ce.a.createElement("div",{className:Vt.a.container},Ce.a.createElement("img",{className:Vt.a.number,src:Gt[n],alt:n.toString()}),Ce.a.createElement("div",{className:Vt.a.content},Ce.a.createElement("p",{className:Vt.a.description},r," \u2027 ",i),Ce.a.createElement("p",{className:Vt.a.date},o)));return s.startsWith("http")?Ce.a.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:Vt.a.notification},l):Ce.a.createElement(zt["a"],{to:s,className:Vt.a.notification},l)},qt=Wt,Yt="https://gw.alipayobjects.com/zos/basement_prod/441d5eaf-e623-47cd-b9b9-2a581d9ce1e3.svg",Xt=function(e){var t=e.coverImage,n=e.title,i=e.description,o=e.notifications,a=e.style,s=void 0===a?{}:a,l=e.className,u=e.showGithubStars,c=void 0===u||u,f=e.buttons,p=void 0===f?[]:f,d=Object(Oe["useContext"])(r["context"]),h=d.config.repository,v=h.url,m=o.slice(0,2).map((function(e,t){return Ce.a.createElement(qt,Object.assign({index:t,key:t},e))})),g=p.map((function(e,t){var n="a",r={};e.link.startsWith("http")&&(r.target="_blank",r.rel="noopener noreferrer"),"a"===n?r.href=e.link:r.to=e.link;var i=e.shape,o=void 0===i?"round":i;return Ce.a.createElement(n,Object.assign({},r,{className:gt()(Ut.a.buttonLink,Ut.a[e.type||""],"primary"===e.type?"primary-button":"common-button"),key:t,style:Object.assign({borderRadius:"round"===o?"1000px":"4px"},e.style)}),Ce.a.createElement("span",{className:Ut.a.button},e.text))}));if(c){var y=Nt()(v);y&&y.owner&&y.name&&g.push(Ce.a.createElement("div",{key:"github",className:Ut.a.githubWrapper},Ce.a.createElement(Ft.a,{type:"stargazers",size:"large",namespace:y.owner,repo:y.name})))}return Ce.a.createElement("section",{className:gt()(Ut.a.wrapper,l),style:s},Ce.a.createElement("div",{className:Ut.a.content},Ce.a.createElement("div",{className:Ut.a.text},Ce.a.createElement("div",{className:gt()(Ut.a.title,"banner-title")},n),Ce.a.createElement("div",{className:gt()(Ut.a.description,"banner-description")},i),Ce.a.createElement("div",{className:gt()(Ut.a.buttons,"banner-buttons")},g)),Ce.a.createElement("div",{className:gt()(Ut.a.notifications,"notifications")},m),Ce.a.createElement("div",{className:gt()(Ut.a.teaser,"teaser")},Ce.a.createElement("div",{className:gt()(Ut.a.teaserimg,"teaser-img")},t)),Ce.a.createElement("img",{className:Ut.a.backLeftBottom,src:Yt,alt:"back"})))},Kt=Xt,Zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},Qt=Zt,Jt=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:Qt}))};Jt.displayName="ArrowLeftOutlined";var $t=Oe["forwardRef"](Jt),en={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},tn=en,nn=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:tn}))};nn.displayName="ArrowRightOutlined";var rn=Oe["forwardRef"](nn),on=n("OS56"),an=n.n(on),sn=(n("tyWD"),n("K7k0"),n("MudL")),ln=n.n(sn),un=function(e){var t,n=e.cases,r=void 0===n?[]:n,i=e.style,o=void 0===i?{}:i,a=e.className,s=function(){t.slickPrev()},l=function(){t.slickNext()},u=function(){var e;r.length>1&&(e=Ce.a.createElement("div",{className:ln.a.buttons},Ce.a.createElement("div",{className:ln.a.controlButton,onClick:s},Ce.a.createElement($t,{className:ln.a.controlButtonIcon,style:{fontSize:"16px"}})),Ce.a.createElement("div",{className:ln.a.controlButton,onClick:l,style:{marginLeft:"-1px"}},Ce.a.createElement(rn,{className:ln.a.controlButtonIcon,style:{fontSize:"16px"}}))));var t=r.map((function(t){var n=Ce.a.createElement("div",{className:ln.a.detailWrapper,style:{display:t.link?"block":"none"}},t.link&&t.link.startsWith("http")?Ce.a.createElement("a",{className:ln.a.detail,href:t.link,target:"_blank",rel:"noopener noreferrer"},"\u67e5\u770b\u8be6\u60c5"):Ce.a.createElement(zt["a"],{className:ln.a.detail,to:t.link?t.link:""},"\u67e5\u770b\u8be6\u60c5"));return Ce.a.createElement("div",{className:ln.a.appWrapper,key:t.title},Ce.a.createElement("img",{className:ln.a.appTeaser,src:t.image,alt:t.title}),Ce.a.createElement("div",{className:ln.a.appLeft},Ce.a.createElement("div",{className:ln.a.appContent},Ce.a.createElement("img",{className:ln.a.appLogo,src:t.logo,alt:"logo",style:{borderRadius:t.isAppLogo?"15px":"0px",boxShadow:t.isAppLogo?"0px 12px 24px #CED4D9":"0px 0px 0px"}}),Ce.a.createElement("p",{className:ln.a.appTitle},t.title),Ce.a.createElement("p",{className:ln.a.appDescription},t.description),n),e))}));return t},c={dots:r.length>1,infinite:!0,slidesToShow:1,adaptiveHeight:!0,speed:500,cssEase:"linear",arrows:!1,autoplay:!0,autoplaySpeed:3e3,fade:!0};return Ce.a.createElement("div",{className:gt()(ln.a.wrapper,a),style:o},Ce.a.createElement(an.a,Object.assign({},c,{className:ln.a.slider,ref:function(e){t=e}}),u()))},cn=un,fn=n("wx14"),pn=Object(Oe["createContext"])({}),dn=pn,hn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function vn(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}var mn=["xs","sm","md","lg","xl","xxl"],gn=Oe["forwardRef"]((function(e,t){var n,r=Oe["useContext"](yt["b"]),o=r.getPrefixCls,a=r.direction,s=Oe["useContext"](dn),l=s.gutter,u=s.wrap,c=s.supportFlexGap,p=e.prefixCls,d=e.span,h=e.order,v=e.offset,m=e.push,g=e.pull,y=e.className,b=e.children,_=e.flex,E=e.style,x=hn(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),w=o("col",p),S={};mn.forEach((function(t){var n,r={},o=e[t];"number"===typeof o?r.span=o:"object"===Object(i["a"])(o)&&(r=o||{}),delete x[t],S=Object(fn["a"])(Object(fn["a"])({},S),(n={},Object(f["a"])(n,"".concat(w,"-").concat(t,"-").concat(r.span),void 0!==r.span),Object(f["a"])(n,"".concat(w,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),Object(f["a"])(n,"".concat(w,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),Object(f["a"])(n,"".concat(w,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),Object(f["a"])(n,"".concat(w,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),Object(f["a"])(n,"".concat(w,"-rtl"),"rtl"===a),n))}));var O=gt()(w,(n={},Object(f["a"])(n,"".concat(w,"-").concat(d),void 0!==d),Object(f["a"])(n,"".concat(w,"-order-").concat(h),h),Object(f["a"])(n,"".concat(w,"-offset-").concat(v),v),Object(f["a"])(n,"".concat(w,"-push-").concat(m),m),Object(f["a"])(n,"".concat(w,"-pull-").concat(g),g),n),y,S),C={};if(l&&l[0]>0){var A=l[0]/2;C.paddingLeft=A,C.paddingRight=A}if(l&&l[1]>0&&!c){var P=l[1]/2;C.paddingTop=P,C.paddingBottom=P}return _&&(C.flex=vn(_),!1!==u||C.minWidth||(C.minWidth=0)),Oe["createElement"]("div",Object(fn["a"])({},x,{style:Object(fn["a"])(Object(fn["a"])({},C),E),className:O,ref:t}),b)}));var yn,bn=gn,_n=bn,En=n("ODXe"),xn=n("MNnm"),wn=(n("tl68"),function(){return Object(xn["a"])()&&window.document.documentElement}),Sn=function(){if(!wn())return!1;if(void 0!==yn)return yn;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),yn=1===e.scrollHeight,document.body.removeChild(e),yn},On=function(){var e=Oe["useState"](!1),t=Object(En["a"])(e,2),n=t[0],r=t[1];return Oe["useEffect"]((function(){r(Sn())}),[]),n},Cn=["xxl","xl","lg","md","sm","xs"],An={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},Pn=new Map,kn=-1,Mn={},Tn={matchHandlers:{},dispatch:function(e){return Mn=e,Pn.forEach((function(e){return e(Mn)})),Pn.size>=1},subscribe:function(e){return Pn.size||this.register(),kn+=1,Pn.set(kn,e),e(Mn),kn},unsubscribe:function(e){Pn["delete"](e),Pn.size||this.unregister()},unregister:function(){var e=this;Object.keys(An).forEach((function(t){var n=An[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),Pn.clear()},register:function(){var e=this;Object.keys(An).forEach((function(t){var n=An[t],r=function(n){var r=n.matches;e.dispatch(Object(fn["a"])(Object(fn["a"])({},Mn),Object(f["a"])({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}},Ln=Tn,In=n("CWQg"),Dn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Rn=(Object(In["a"])("top","middle","bottom","stretch"),Object(In["a"])("start","end","center","space-around","space-between","space-evenly"),Oe["forwardRef"]((function(e,t){var n,r=e.prefixCls,o=e.justify,a=e.align,s=e.className,l=e.style,u=e.children,c=e.gutter,p=void 0===c?0:c,d=e.wrap,h=Dn(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),v=Oe["useContext"](yt["b"]),m=v.getPrefixCls,g=v.direction,y=Oe["useState"]({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),b=Object(En["a"])(y,2),_=b[0],E=b[1],x=On(),w=Oe["useRef"](p);Oe["useEffect"]((function(){var e=Ln.subscribe((function(e){var t=w.current||0;(!Array.isArray(t)&&"object"===Object(i["a"])(t)||Array.isArray(t)&&("object"===Object(i["a"])(t[0])||"object"===Object(i["a"])(t[1])))&&E(e)}));return function(){return Ln.unsubscribe(e)}}),[]);var S=function(){var e=[void 0,void 0],t=Array.isArray(p)?p:[p,void 0];return t.forEach((function(t,n){if("object"===Object(i["a"])(t))for(var r=0;r<Cn.length;r++){var o=Cn[r];if(_[o]&&void 0!==t[o]){e[n]=t[o];break}}else e[n]=t})),e},O=m("row",r),C=S(),A=gt()(O,(n={},Object(f["a"])(n,"".concat(O,"-no-wrap"),!1===d),Object(f["a"])(n,"".concat(O,"-").concat(o),o),Object(f["a"])(n,"".concat(O,"-").concat(a),a),Object(f["a"])(n,"".concat(O,"-rtl"),"rtl"===g),n),s),P={},k=null!=C[0]&&C[0]>0?C[0]/-2:void 0,M=null!=C[1]&&C[1]>0?C[1]/-2:void 0;if(k&&(P.marginLeft=k,P.marginRight=k),x){var T=Object(En["a"])(C,2);P.rowGap=T[1]}else M&&(P.marginTop=M,P.marginBottom=M);var L=Object(En["a"])(C,2),I=L[0],D=L[1],R=Oe["useMemo"]((function(){return{gutter:[I,D],wrap:d,supportFlexGap:x}}),[I,D,d,x]);return Oe["createElement"](dn.Provider,{value:R},Oe["createElement"]("div",Object(fn["a"])({},h,{className:A,style:Object(fn["a"])(Object(fn["a"])({},P),l),ref:t}),u))})));var Nn=Rn,jn=Nn,Fn=n("nAS7"),Bn=n.n(Fn),Un=function(e){var t=e.icon,n=e.title,r=e.description;return Ce.a.createElement("div",{className:Bn.a.card},Ce.a.createElement("div",{className:Bn.a.content},Ce.a.createElement("img",{className:gt()(Bn.a.icon,"feature-logo"),src:t,alt:"advantage"}),Ce.a.createElement("p",{className:Bn.a.title},n),Ce.a.createElement("p",{className:Bn.a.description},r)))},zn=Un,Hn=n("tpZ8"),Vn=n.n(Hn),Gn=function(e){var t=e.title,n=e.features,r=void 0===n?[]:n,i=e.className,o=e.style,a=e.id,s=function(){var e=r.map((function(e){return Ce.a.createElement(_n,{className:Vn.a.cardWrapper,key:e.title,md:8,xs:24},Ce.a.createElement(zn,Object.assign({},e)))}));return e},l=function(){for(var e=[],t=r.length,n=45,i=350,o=.028,a=t+1,s=0;s<a;s+=1){var l=1,u="".concat(n+i*s-l,"px"),c="".concat(100*o,"%"),f="".concat(100*(o+.892),"%");e.push(Ce.a.createElement("div",{key:"".concat(s,"-0"),className:Vn.a.dot,style:{marginLeft:c,marginTop:u}})),e.push(Ce.a.createElement("div",{key:"".concat(s,"-1"),className:Vn.a.dot,style:{marginLeft:f,marginTop:u}}))}return e};return Ce.a.createElement("div",{id:a,className:gt()(Vn.a.wrapper,i),style:o},t?Ce.a.createElement("div",{className:gt()(Vn.a.lefttopWithTitle,Vn.a.lefttop)}):Ce.a.createElement("div",{className:gt()(Vn.a.lefttopWithoutTitle,Vn.a.lefttop)}),Ce.a.createElement("div",{className:t?Vn.a.rightbottom:gt()(Vn.a.rightbottomWithoutTitle,Vn.a.rightbottom)},Ce.a.createElement("div",{className:gt()(Vn.a.slicerbar,Vn.a.slicerbarv,Vn.a.slicerbarv1)}),Ce.a.createElement("div",{className:gt()(Vn.a.slicerbar,Vn.a.slicerbarv,Vn.a.slicerbarv2)}),Ce.a.createElement("div",{className:gt()(Vn.a.slicerbar,Vn.a.slicerbarh,Vn.a.slicerbarh1)}),Ce.a.createElement("div",{className:gt()(Vn.a.slicerbar,Vn.a.slicerbarh,Vn.a.slicerbarh2)}),Ce.a.createElement("div",{className:gt()(Vn.a.slicerbar,Vn.a.slicerbarh,Vn.a.slicerbarh3)}),Ce.a.createElement("div",{className:gt()(Vn.a.slicerbar,Vn.a.slicerbarh,Vn.a.slicerbarh4)}),l()),Ce.a.createElement("div",{className:Vn.a.content},Ce.a.createElement("div",{key:"content"},Ce.a.createElement("p",{key:"title",className:Vn.a.title},t),Ce.a.createElement("div",{key:"block",className:Vn.a.cardsContainer},Ce.a.createElement(jn,{key:"cards",className:Vn.a.cards},s())))))},Wn=Gn,qn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M564.7 230.1V803h60l25.2 71.4L756.3 803h131.5V230.1H564.7zm247.7 497h-59.9l-75.1 50.4-17.8-50.4h-18V308.3h170.7v418.8zM526.1 486.9H393.3c2.1-44.9 4.3-104.3 6.6-172.9h130.9l-.1-8.1c0-.6-.2-14.7-2.3-29.1-2.1-15-6.6-34.9-21-34.9H287.8c4.4-20.6 15.7-69.7 29.4-93.8l6.4-11.2-12.9-.7c-.8 0-19.6-.9-41.4 10.6-35.7 19-51.7 56.4-58.7 84.4-18.4 73.1-44.6 123.9-55.7 145.6-3.3 6.4-5.3 10.2-6.2 12.8-1.8 4.9-.8 9.8 2.8 13 10.5 9.5 38.2-2.9 38.5-3 .6-.3 1.3-.6 2.2-1 13.9-6.3 55.1-25 69.8-84.5h56.7c.7 32.2 3.1 138.4 2.9 172.9h-141l-2.1 1.5c-23.1 16.9-30.5 63.2-30.8 65.2l-1.4 9.2h167c-12.3 78.3-26.5 113.4-34 127.4-3.7 7-7.3 14-10.7 20.8-21.3 42.2-43.4 85.8-126.3 153.6-3.6 2.8-7 8-4.8 13.7 2.4 6.3 9.3 9.1 24.6 9.1 5.4 0 11.8-.3 19.4-1 49.9-4.4 100.8-18 135.1-87.6 17-35.1 31.7-71.7 43.9-108.9L497 850l5-12c.8-1.9 19-46.3 5.1-95.9l-.5-1.8-108.1-123-22 16.6c6.4-26.1 10.6-49.9 12.5-71.1h158.7v-8c0-40.1-18.5-63.9-19.2-64.9l-2.4-3z"}}]},name:"zhihu",theme:"outlined"},Yn=qn,Xn=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:Yn}))};Xn.displayName="ZhihuOutlined";var Kn=Oe["forwardRef"](Xn),Zn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]},name:"github",theme:"outlined"},Qn=Zn,Jn=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:Qn}))};Jn.displayName="GithubOutlined";var $n=Oe["forwardRef"](Jn),er={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},tr=er,nr=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:tr}))};nr.displayName="QuestionCircleOutlined";var rr=Oe["forwardRef"](nr),ir={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M457.3 543c-68.1-17.7-145 16.2-174.6 76.2-30.1 61.2-1 129.1 67.8 151.3 71.2 23 155.2-12.2 184.4-78.3 28.7-64.6-7.2-131-77.6-149.2zm-52 156.2c-13.8 22.1-43.5 31.7-65.8 21.6-22-10-28.5-35.7-14.6-57.2 13.7-21.4 42.3-31 64.4-21.7 22.4 9.5 29.6 35 16 57.3zm45.5-58.5c-5 8.6-16.1 12.7-24.7 9.1-8.5-3.5-11.2-13.1-6.4-21.5 5-8.4 15.6-12.4 24.1-9.1 8.7 3.2 11.8 12.9 7 21.5zm334.5-197.2c15 4.8 31-3.4 35.9-18.3 11.8-36.6 4.4-78.4-23.2-109a111.39 111.39 0 00-106-34.3 28.45 28.45 0 00-21.9 33.8 28.39 28.39 0 0033.8 21.8c18.4-3.9 38.3 1.8 51.9 16.7a54.2 54.2 0 0111.3 53.3 28.45 28.45 0 0018.2 36zm99.8-206c-56.7-62.9-140.4-86.9-217.7-70.5a32.98 32.98 0 00-25.4 39.3 33.12 33.12 0 0039.3 25.5c55-11.7 114.4 5.4 154.8 50.1 40.3 44.7 51.2 105.7 34 159.1-5.6 17.4 3.9 36 21.3 41.7 17.4 5.6 36-3.9 41.6-21.2v-.1c24.1-75.4 8.9-161.1-47.9-223.9zM729 499c-12.2-3.6-20.5-6.1-14.1-22.1 13.8-34.7 15.2-64.7.3-86-28-40.1-104.8-37.9-192.8-1.1 0 0-27.6 12.1-20.6-9.8 13.5-43.5 11.5-79.9-9.6-101-47.7-47.8-174.6 1.8-283.5 110.6C127.3 471.1 80 557.5 80 632.2 80 775.1 263.2 862 442.5 862c235 0 391.3-136.5 391.3-245 0-65.5-55.2-102.6-104.8-118zM443 810.8c-143 14.1-266.5-50.5-275.8-144.5-9.3-93.9 99.2-181.5 242.2-195.6 143-14.2 266.5 50.5 275.8 144.4C694.4 709 586 796.6 443 810.8z"}}]},name:"weibo",theme:"outlined"},or=ir,ar=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:or}))};ar.displayName="WeiboOutlined";var sr=Oe["forwardRef"](ar);function lr(e,t){for(var n=Object.assign({},e),r=0;r<t.length;r+=1){var i=t[r];delete n[i]}return n}var ur=lr,cr=n("Ff2n"),fr=function(e){var t=e.prefixCls,n=e.icon,r=e.title,i=e.items,o=void 0===i?[]:i,a=e.style,s=e.className;return Ce.a.createElement("div",{className:gt()("".concat(t,"-column"),s),style:a},(r||n)&&Ce.a.createElement("h2",null,n&&Ce.a.createElement("span",{className:"".concat(t,"-column-icon")},n),r),o.map((function(e,n){var r=e.LinkComponent||"a";return Ce.a.createElement("div",{className:gt()("".concat(t,"-item"),e.className),style:e.style,key:n},Ce.a.createElement(r,{href:e.url,to:"string"!==typeof r?e.url:void 0,target:e.openExternal?"_blank":void 0,rel:e.openExternal?"noopener noreferrer":void 0},e.icon&&Ce.a.createElement("span",{className:"".concat(t,"-item-icon")},e.icon),e.title),e.description&&Ce.a.createElement(Ce.a.Fragment,null,Ce.a.createElement("span",{className:"".concat(t,"-item-separator")},"-"),Ce.a.createElement("span",{className:"".concat(t,"-item-description")},e.description)))})))},pr=fr,dr=function(e){var t=e.prefixCls,n=void 0===t?"rc-footer":t,r=e.className,i=e.style,o=e.bottom,a=e.columns,s=e.maxColumnsPerRow,l=e.backgroundColor,u=e.columnLayout,c=e.theme,p=void 0===c?"dark":c,d=Object(cr["a"])(e,["prefixCls","className","style","bottom","columns","maxColumnsPerRow","backgroundColor","columnLayout","theme"]),h=gt()("".concat(n),r,Object(f["a"])({},"".concat(n,"-").concat(p),!!p)),v="number"===typeof s&&s>0;return Ce.a.createElement("footer",Object.assign({},d,{className:h,style:Object(Xe["a"])(Object(Xe["a"])({},i),{},{backgroundColor:l})}),Ce.a.createElement("section",{className:"".concat(n,"-container")},a&&a.length>0&&Ce.a.createElement("section",{className:"".concat(n,"-columns"),style:{justifyContent:u,flexWrap:v?"wrap":void 0}},a.map((function(e,t){var r=e.title,i=e.icon,o=e.style,a=e.className,l=e.items,u=void 0===l?[]:l,c=Object(Xe["a"])({},o);return v&&(c.flex="0 0 ".concat(100/(s+1)+.1,"%")),Ce.a.createElement(pr,{key:t,prefixCls:n,title:r,icon:i,items:u,style:c,className:a})})))),o&&Ce.a.createElement("section",{className:"".concat(n,"-bottom")},Ce.a.createElement("div",{className:"".concat(n,"-bottom-container")},o)))},hr=dr,vr=(n("49qf"),n("J4zp")),mr=n.n(vr);function gr(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var yr={};function br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&yr[t[0]]||("string"===typeof t[0]&&(yr[t[0]]=new Date),gr.apply(void 0,t))}function _r(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{var t=function t(){setTimeout((function(){e.off("initialized",t)}),0),n()};e.on("initialized",t)}}))}function Er(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||(!(t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages))||!(!a(r,e)||i&&!a(o,e))))}function xr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return br("i18n.languages were undefined or empty",t.languages),!0;var r=void 0!==t.options.ignoreJSONStructure;return r?t.hasLoadedNamespace(e,{precheck:function(t,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):Er(e,t,n)}function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){Le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Or=function(e,t){var n=Object(Oe["useRef"])();return Object(Oe["useEffect"])((function(){n.current=t?n.current:e}),[e,t]),n.current};function Cr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,r=Object(Oe["useContext"])(ze)||{},i=r.i18n,o=r.defaultNS,a=n||i||qe();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Ge),!a){br("You will need to pass in an i18next instance by using initReactI18next");var s=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[s,{},!1];return l.t=s,l.i18n={},l.ready=!1,l}a.options.react&&void 0!==a.options.react.wait&&br("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=Sr(Sr(Sr({},Ve()),a.options.react),t),c=u.useSuspense,f=u.keyPrefix,p=e||o||a.options&&a.options.defaultNS;p="string"===typeof p?[p]:p||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(p);var d=(a.isInitialized||a.initializedStoreOnce)&&p.every((function(e){return xr(e,a,u)}));function h(){return a.getFixedT(null,"fallback"===u.nsMode?p:p[0],f)}var v=Object(Oe["useState"])(h),m=mr()(v,2),g=m[0],y=m[1],b=p.join(),_=Or(b),E=Object(Oe["useRef"])(!0);Object(Oe["useEffect"])((function(){var e=u.bindI18n,t=u.bindI18nStore;function n(){E.current&&y(h)}return E.current=!0,d||c||_r(a,p,(function(){E.current&&y(h)})),d&&_&&_!==b&&E.current&&y(h),e&&a&&a.on(e,n),t&&a&&a.store.on(t,n),function(){E.current=!1,e&&a&&e.split(" ").forEach((function(e){return a.off(e,n)})),t&&a&&t.split(" ").forEach((function(e){return a.store.off(e,n)}))}}),[a,b]);var x=Object(Oe["useRef"])(!0);Object(Oe["useEffect"])((function(){E.current&&!x.current&&y(h),x.current=!1}),[a]);var w=[g,a,d];if(w.t=g,w.i18n=a,w.ready=d,d)return w;if(!d&&!c)return w;throw new Promise((function(e){_r(a,p,(function(){e()}))}))}var Ar=n("TyJ0"),Pr=n.n(Ar);function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mr(e,t){return Rr(e)||Dr(e,t)||Lr(e,t)||Tr()}function Tr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lr(e,t){if(e){if("string"===typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ir(e,t):void 0}}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dr(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Rr(e){if(Array.isArray(e))return e}var Nr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},jr="https://antv-2018.alipay.com",Fr=function(e){return e},Br=function(e){var t=e.columns,n=e.bottom,r=e.theme,i=void 0===r?"dark":r,o=e.language,a=e.rootDomain,s=void 0===a?"":a,l=e.location,u=Nr(e,["columns","bottom","theme","language","rootDomain","location"]),c=Object(Oe["useState"])(!1),f=Mr(c,2),p=f[0],d=f[1],h=Cr(),v=h.t,m=h.i18n,g=o||m.language;Object(Oe["useEffect"])((function(){var e=Fr("/").replace(/\/$/,""),t=window.location.pathname.replace(e,""),n=t.startsWith("/zh/examples")||t.startsWith("/en/examples"),r=t.startsWith("/zh/docs")||t.startsWith("/en/docs");d(!!n||!!r&&!("initial"===l.key))}),[l]);var y=function(){var e={title:v("Resources"),items:[{title:"Ant Design",url:"https://ant.design",openExternal:!0},{title:"Ant Design Mobile",url:"https://mobile.ant.design",openExternal:!0},{title:"Umi",description:v("React \u5e94\u7528\u5f00\u53d1\u6846\u67b6"),url:"https://umijs.org",openExternal:!0},{title:"Dumi",description:v("\u7ec4\u4ef6/\u6587\u6863\u7814\u53d1\u5de5\u5177"),url:"https://d.umijs.org",openExternal:!0},{title:"ahooks",description:v("React Hooks \u5e93"),url:"https://github.com/alibaba/hooks",openExternal:!0},{title:v("\u56fd\u5185\u955c\u50cf"),url:"https://antv.gitee.io/"}]},t={title:v("\u793e\u533a"),items:[{icon:Ce.a.createElement(Kn,{style:{color:"#0084ff"}}),title:v("\u4f53\u9a8c\u79d1\u6280\u4e13\u680f"),url:"http://zhuanlan.zhihu.com/xtech",openExternal:!0},{icon:Ce.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/mZBWtboYbnMkTBaRIuWQ.png",alt:"seeconf"}),title:"SEE Conf",description:v("\u8682\u8681\u4f53\u9a8c\u79d1\u6280\u5927\u4f1a"),url:"https://seeconf.antfin.com/",openExternal:!0}]},n={title:v("\u5e2e\u52a9"),items:[{icon:Ce.a.createElement($n,null),title:"GitHub",url:"https://github.com/antvis",openExternal:!0},{icon:Ce.a.createElement(rr,null),title:v("StackOverflow"),url:"http://stackoverflow.com/questions/tagged/antv",openExternal:!0}]},r={icon:Ce.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/nBVXkrFdWHxbZlmMbsaH.svg",alt:"more products"}),title:v("\u66f4\u591a\u4ea7\u54c1"),items:[{icon:Ce.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg",alt:"Ant Design"}),title:"Ant Design",url:"https://ant.design",description:v("\u4f01\u4e1a\u7ea7 UI \u8bbe\u8ba1\u8bed\u8a00"),openExternal:!0},{icon:Ce.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/XuVpGqBFxXplzvLjJBZB.svg",alt:"yuque"}),title:v("\u8bed\u96c0"),url:"https://yuque.com",description:v("\u77e5\u8bc6\u521b\u4f5c\u4e0e\u5206\u4eab\u5de5\u5177"),openExternal:!0},{icon:Ce.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/antfincdn/v2%24rh7lqpu/82f338dd-b0a6-41bc-9a86-58aaa9df217b.png",alt:"Egg"}),title:"Egg",url:"https://eggjs.org",description:v("\u4f01\u4e1a\u7ea7 Node \u5f00\u53d1\u6846\u67b6"),openExternal:!0},{icon:Ce.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/DMDOlAUhmktLyEODCMBR.ico",alt:"kitchen"}),title:"Kitchen",description:v("Sketch \u5de5\u5177\u96c6"),url:"https://kitchen.alipay.com",openExternal:!0},{icon:Ce.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/nBVXkrFdWHxbZlmMbsaH.svg",alt:"xtech"}),title:v("\u8682\u8681\u4f53\u9a8c\u79d1\u6280"),url:"https://xtech.antfin.com/",openExternal:!0}]};return[e,t,n,r]};return Ce.a.createElement(hr,Object.assign({maxColumnsPerRow:5,theme:i,columns:t||y(),className:gt()(Pr.a.footer,kr({},Pr.a.withMenu,p)),bottom:n||Ce.a.createElement(Ce.a.Fragment,null,Ce.a.createElement("div",{className:Pr.a.bottom},Ce.a.createElement("div",null,Ce.a.createElement("a",{href:"https://weibo.com/antv2017",target:"_blank",rel:"noopener noreferrer"},Ce.a.createElement(sr,null)),Ce.a.createElement("a",{href:"https://zhuanlan.zhihu.com/aiux-antv",target:"_blank",rel:"noopener noreferrer"},Ce.a.createElement(Kn,null)),Ce.a.createElement("a",{href:"https://github.com/antvis",target:"_blank",rel:"noopener noreferrer"},Ce.a.createElement($n,null)),Ce.a.createElement("a",{href:"".concat(s,"/").concat(g,"/about")},v("\u5173\u4e8e\u6211\u4eec")),Ce.a.createElement("a",{href:jr,target:"_blank",rel:"noopener noreferrer"},v("\u8fd4\u56de\u65e7\u7248"))),Ce.a.createElement("div",null,"\xa9 ",(new Date).getFullYear()," Made with \u2764 by"," ",Ce.a.createElement("a",{href:"https://xtech.antfin.com/"},"XTech"))))},ur(u,["githubUrl"])))},Ur=Br;var zr="undefined"!==typeof window,Hr=function(e,t){return void 0!==t?t:!!zr&&window.matchMedia(e).matches},Vr=function(e,t){var n=Object(Oe["useState"])(Hr(e,t)),r=n[0],i=n[1];return Object(Oe["useEffect"])((function(){var t=!0,n=window.matchMedia(e),r=function(){t&&i(!!n.matches)};return n.addListener(r),i(n.matches),function(){t=!1,n.removeListener(r)}}),[e]),r},Gr=Vr,Wr=function(e){var t=e.style;return Ce.a.createElement("svg",{width:"94",height:"28",version:"1.1",viewBox:"0 0 94 28",style:t},Ce.a.createElement("title",null,"logo"),Ce.a.createElement("desc",null,"Created with Sketch."),Ce.a.createElement("defs",null,Ce.a.createElement("linearGradient",{id:"linearGradient-1",x1:".004%",x2:"100.131%",y1:"49.993%",y2:"49.993%"},Ce.a.createElement("stop",{offset:"0%",stopColor:"#6500FF"}),Ce.a.createElement("stop",{offset:"16%",stopColor:"#6A09FF"}),Ce.a.createElement("stop",{offset:"43%",stopColor:"#7623FF"}),Ce.a.createElement("stop",{offset:"77%",stopColor:"#8A4CFF"}),Ce.a.createElement("stop",{offset:"99%",stopColor:"#996BFF"})),Ce.a.createElement("linearGradient",{id:"linearGradient-2",x1:"50.004%",x2:"50.004%",y1:"100.012%",y2:"0%"},Ce.a.createElement("stop",{offset:"0%",stopColor:"#6500FF"}),Ce.a.createElement("stop",{offset:"16%",stopColor:"#6909FF"}),Ce.a.createElement("stop",{offset:"43%",stopColor:"#7523FF"}),Ce.a.createElement("stop",{offset:"77%",stopColor:"#894CFF"}),Ce.a.createElement("stop",{offset:"99%",stopColor:"#976BFF"})),Ce.a.createElement("linearGradient",{id:"linearGradient-3",x1:"49.854%",x2:"49.854%",y1:"100.255%",y2:"0%"},Ce.a.createElement("stop",{offset:"0%",stopColor:"#FF6E06"}),Ce.a.createElement("stop",{offset:"28%",stopColor:"#FF770C"}),Ce.a.createElement("stop",{offset:"75%",stopColor:"#FF911C"}),Ce.a.createElement("stop",{offset:"100%",stopColor:"#FFA126"})),Ce.a.createElement("linearGradient",{id:"linearGradient-4",x1:"57351%",x2:"57351%",y1:"59860%",y2:"35023%"},Ce.a.createElement("stop",{offset:"0%",stopColor:"#FF6E06"}),Ce.a.createElement("stop",{offset:"28%",stopColor:"#FF770C"}),Ce.a.createElement("stop",{offset:"75%",stopColor:"#FF911C"}),Ce.a.createElement("stop",{offset:"100%",stopColor:"#FFA126"}))),Ce.a.createElement("g",{id:"\u9996\u9875",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-40.000000, -21.000000)"},Ce.a.createElement("g",{id:"logo",fillRule:"nonzero",transform:"translate(40.000000, 21.000000)"},Ce.a.createElement("g",{id:"text",fill:"#000",transform:"translate(40.000000, 4.000000)"},Ce.a.createElement("path",{id:"Shape",d:"M8.7405,1.2915 C8.51971803,0.727507979 7.97591631,0.356402076 7.37025,0.356402076 C6.76458369,0.356402076 6.22078197,0.727507979 6,1.2915 L0.0915,16.224 C0.303214856,16.7668034 0.833635444,17.1176139 1.416,17.1 C1.99787286,17.1149847 2.52631953,16.7624868 2.736,16.2195 L4.236,12.1845 L10.464,12.1845 L11.964,16.2195 C12.1824954,16.7696588 12.7145414,17.1308265 13.3065,17.1308265 C13.8984586,17.1308265 14.4305046,16.7696588 14.649,16.2195 L8.7405,1.2915 Z M4.875,10.3245 L7.3125,3.7755 L7.38,3.7755 L9.8175,10.3245 L4.875,10.3245 Z"}),Ce.a.createElement("path",{id:"Shape",d:"M23.616,4.8675 C21.711,4.8675 20.3625,5.5605 19.6155,6.885 L19.5705,6.885 L19.5705,4.992 C19.3939707,4.49572722 18.9242345,4.16424813 18.3975,4.16424813 C17.8707655,4.16424813 17.4010293,4.49572722 17.2245,4.992 L17.2245,16.23 C17.3727212,16.7871906 17.8771818,17.1750009 18.45375,17.1750009 C19.0303182,17.1750009 19.5347788,16.7871906 19.683,16.23 L19.683,9.741 C19.683,7.971 20.907,6.792 22.7655,6.792 C24.5655,6.792 25.542,7.7445 25.542,9.4515 L25.542,16.23 C25.6902212,16.7871906 26.1946818,17.1750009 26.77125,17.1750009 C27.3478182,17.1750009 27.8522788,16.7871906 28.0005,16.23 L28.0005,9.03 C28.002,6.4395 26.3355,4.8675 23.616,4.8675 Z"}),Ce.a.createElement("path",{id:"Shape",d:"M37.164,15.2175 C37.005,15.2385 36.5865,15.27 36.3255,15.27 C35.2935,15.27 34.818,14.82 34.818,13.842 L34.818,7.5555 L37.176,7.5555 C37.4674337,7.35650372 37.6417542,7.0263925 37.6417542,6.6735 C37.6417542,6.3206075 37.4674337,5.99049628 37.176,5.7915 L37.176,5.7795 L34.818,5.7795 L34.818,3.2625 L34.809,3.2625 C34.5697886,2.81087163 34.1005678,2.5284255 33.5895,2.5284255 C33.0784322,2.5284255 32.6092114,2.81087163 32.37,3.2625 L32.37,5.787 L30.669,5.787 L30.669,5.8035 C30.3813594,6.00305662 30.2097838,6.33091436 30.2097838,6.681 C30.2097838,7.03108564 30.3813594,7.35894338 30.669,7.5585 L32.37,7.5585 L32.37,14.0655 C32.37,16.239 33.3225,17.097 35.7825,17.097 C36.246017,17.1013951 36.708959,17.063235 37.1655,16.983 C37.4531479,16.7817619 37.6244786,16.4528028 37.6244786,16.10175 C37.6244786,15.7506972 37.4531479,15.4217381 37.1655,15.2205 L37.164,15.2175 Z"}),Ce.a.createElement("path",{id:"Shape",d:"M53.9085,1.041 C53.6915775,0.484686746 53.1556096,0.118403837 52.5585,0.118403837 C51.9613904,0.118403837 51.4254225,0.484686746 51.2085,1.041 L46.7325,13.365 L46.665,13.365 L42.21,1.041 L42.219,1.041 C41.991677,0.479831031 41.4467137,0.112610372 40.84125,0.112610372 C40.2357863,0.112610372 39.690823,0.479831031 39.4635,1.041 L45.3,15.9735 C45.402,16.5915 45.9855,17.067 46.692,17.067 C47.3985,17.067 47.9805,16.593 48.084,15.9735 L53.9085,1.041 Z"})),Ce.a.createElement("g",{id:"Shape"},Ce.a.createElement("path",{fill:"url(#linearGradient-1)",d:"M1.96144278,0.00379393843 C1.93278766,0.00379393843 1.90413254,0.00379393843 1.87375812,0.00597764254 C1.82628614,0.00725146994 1.80317101,0.00888924802 1.78005588,0.0108909768 C1.73258391,0.015258385 1.70450189,0.0186249288 1.67661091,0.0226283864 C1.63448789,0.0291794987 1.61271,0.0329099932 1.59093211,0.0370954261 C1.53906635,0.0471950576 1.51213054,0.0529272809 1.48548128,0.0594783932 C1.453101,0.0676672836 1.4290307,0.0742183959 1.40524695,0.0810424713 C1.36006738,0.0949635849 1.34096397,0.101150747 1.32186056,0.107519884 C1.2750572,0.123715689 1.25079587,0.132814456 1.22672557,0.142459149 C1.184316,0.16001977 1.16769603,0.167116808 1.15107606,0.174395822 L1.12242094,0.187225084 C1.10331753,0.196323851 1.08421412,0.205422618 1.06511071,0.214521385 L1.03387663,0.230899166 C1.01811632,0.239361019 1.002356,0.247822873 0.986882238,0.256557689 L0.955934712,0.274573248 L0.917250303,0.29832103 L0.888595186,0.316882515 C0.869491775,0.329438814 0.850388363,0.342268075 0.831284952,0.3553703 L0.797758465,0.38075586 L0.76738404,0.40341179 L0.734717207,0.42879735 L0.706062089,0.452545133 C0.686958678,0.468013037 0.66871492,0.483844892 0.651330815,0.500040697 L0.627833619,0.521331812 C0.616562606,0.531704407 0.605482628,0.542258976 0.594593683,0.552995522 L0.57424855,0.573194785 C0.550942388,0.596669604 0.528304845,0.620690349 0.506335922,0.64525702 C0.4888563,0.66518332 0.477967356,0.677739619 0.467364963,0.69056888 L0.451891199,0.709403328 C0.441288806,0.722505553 0.430686412,0.73669963 0.420657121,0.748710002 C0.392766141,0.78592396 0.373089627,0.813220261 0.354177249,0.840698538 L0.343288305,0.856803356 C0.333736599,0.871179408 0.324184893,0.885737435 0.314633188,0.900477438 L0.304317345,0.917401145 L0.296293912,0.931049295 L4.0804887,3.1453528 L4.88168578,4 C4.79792689,3.87330151 4.79075687,3.71385419 4.86283506,3.58079687 C4.93491326,3.44773955 5.07548957,3.36091705 5.23242441,3.35253173 L18.126081,3.35253173 C18.1716426,3.35580729 18.2172042,3.35799099 18.2636255,3.35799099 C19.2247383,3.34437937 19.997179,2.59972948 19.9999923,1.68409514 C20.0028056,0.768460793 19.234954,0.0195165058 18.2739414,0.000545926027 L1.96144278,0.00379393843 Z"}),Ce.a.createElement("path",{fill:"url(#linearGradient-2)",d:"M22.7438388,11.3151867 L16.3508566,22.3257033 C16.274965,22.4547197 16.1378066,22.5359862 15.9875806,22.5409448 C15.8373546,22.5459034 15.6950786,22.4738603 15.6107503,22.3501325 L11.5484958,15.3552589 C11.5151833,15.2756059 11.4759174,15.1985462 11.4310276,15.1247266 L4.67293385,3.45883542 C4.28425,2.75990644 4.28254958,1.91173703 4.66842791,1.21127254 C5.05430624,0.510808047 5.77401391,0.0556169131 6.57558023,0.00506221373 L1.98726011,0.000850295183 C1.70028191,-0.00773775303 1.4151096,0.0488237358 1.15340515,0.166238297 C1.11086057,0.18570672 1.07725788,0.202180002 1.04412582,0.219589265 C0.955459897,0.268541118 0.934752357,0.281176874 0.914233068,0.29428062 L0.814836879,0.361671317 C0.763726906,0.399952977 0.748102127,0.412307938 0.732665597,0.424850095 C0.693227147,0.457796658 0.67910837,0.470151619 0.665177844,0.482693776 C0.629598526,0.514985152 0.611526491,0.532394415 0.594019208,0.550084473 C0.559381142,0.585183794 0.543756362,0.601844272 0.528508083,0.618879143 C0.501964783,0.648362572 0.484739875,0.668860576 0.467797343,0.689639374 C0.436736033,0.727546641 0.420923003,0.748325439 0.405392349,0.769385032 C0.385908437,0.795779721 0.370095407,0.819085671 0.354564752,0.842672415 C0.3274567,0.884230011 0.312490797,0.908378344 0.298089644,0.933369061 C-0.0900333359,1.52939569 -0.081932791,2.25296668 0.269004964,2.83322512 L0.435324156,3.12188194 L14.3089991,27.0174998 C14.4452697,27.2688135 14.6373487,27.4859373 14.870644,27.6523763 C14.9087647,27.679239 14.9399202,27.6999242 14.9717345,27.719767 C15.0597415,27.7702164 15.0811079,27.781729 15.1027567,27.7927736 L15.2100594,27.8435974 C15.2692642,27.8684945 15.2880892,27.8757952 15.3069142,27.8829087 C15.3553887,27.9000371 15.3731784,27.9060274 15.3910621,27.9118305 C15.4370894,27.926151 15.4610913,27.9328901 15.4853756,27.9393484 C15.5335677,27.9512353 15.5558753,27.9563832 15.5782771,27.9612503 C15.6169626,27.9693934 15.6435059,27.9738861 15.6700492,27.978098 C15.7186178,27.9851179 15.7445963,27.9887682 15.7708572,27.9912954 C15.8041776,27.9941033 15.8324151,27.9960689 15.8606527,27.9977536 C15.9100684,27.9977536 15.9383059,28 15.9665435,28 C16.0055113,28 16.0292309,28 16.052668,27.9983152 C16.1029309,27.9969113 16.1286271,27.9949457 16.1551704,27.9921378 C16.1882083,27.9893298 16.2164458,27.9856795 16.2424244,27.9817484 C16.2892987,27.9744477 16.3133007,27.9702358 16.3370202,27.9654623 C16.3740114,27.9581616 16.3997076,27.9519841 16.4254037,27.9458066 C16.4708662,27.9339197 16.4916679,27.928023 16.5123754,27.9216583 C16.5536022,27.9090226 16.5773218,27.9008795 16.6010413,27.8924557 C16.6464097,27.8759824 16.6634463,27.8692433 16.6803889,27.8621299 C16.7264161,27.842755 16.7478766,27.833208 16.7690548,27.8239418 L16.8402134,27.7882809 C16.8972533,27.7573935 16.9127839,27.7486889 16.9277498,27.7397034 C17.014345,27.6850421 17.0367468,27.6697856 17.0587721,27.6540611 C17.0796679,27.6390854 17.1047052,27.6202721 17.133884,27.5976214 C17.1766168,27.563926 17.2177495,27.5284523 17.2572821,27.4912002 C17.3084862,27.4427164 17.3481129,27.401346 17.3857629,27.3581036 C17.4284017,27.3092454 17.4652987,27.2624463 17.500125,27.2137752 C17.5353279,27.1645426 17.5680834,27.1136251 17.5983917,27.061023 L17.9739512,26.4216537 L18.0558401,26.2812564 L25.73589,13.0558322 C26.070421,12.5242035 26.0883782,11.8538976 25.7827856,11.3053117 C25.4771931,10.7567258 24.8962203,10.4163314 24.2655606,10.4163633 C23.6317102,10.4178657 23.048049,10.7619023 22.7438388,11.3151867 Z"}),Ce.a.createElement("path",{fill:"url(#linearGradient-3)",d:"M30.1437101,0 L23.6847716,0 C22.749424,0.0183223345 22,0.84716472 22,1.86331122 C22,2.87945772 22.749424,3.7083001 23.6847716,3.72662244 C23.7299585,3.72662244 23.7743086,3.72419862 23.8186587,3.72056289 L26.7432558,3.72056289 C26.957527,3.75250166 27.1172208,3.95131508 27.117303,4.1862392 C27.1173323,4.23951108 27.1089352,4.29239242 27.0924781,4.34257556 L25.5505446,7.24358449 C25.0967914,8.1471655 25.403314,9.27921269 26.235182,9.77208267 C27.0670501,10.2649526 28.1092519,9.93200556 28.5630051,9.02842455 L31.7528661,3.02795647 C31.782061,2.97321855 31.8089314,2.91686475 31.8334773,2.85889507 L31.8365456,2.85132063 C31.8516079,2.81516532 31.8657404,2.77850505 31.8789432,2.74133982 L31.8811746,2.73558325 C31.8870322,2.71861651 31.8928898,2.7013468 31.8984684,2.68407709 L31.9068363,2.65741507 C31.9142745,2.63337886 31.9212478,2.60903968 31.9277562,2.58439751 C31.9316612,2.57046055 31.9352873,2.55622061 31.9389135,2.54228365 C31.9425396,2.52834669 31.9453289,2.51531866 31.9483971,2.50198765 C31.9514654,2.48865664 31.9559283,2.46714524 31.9595544,2.44957255 C31.9620648,2.43715048 31.9645752,2.4247284 31.9668066,2.41230633 C31.9710836,2.38867409 31.9749886,2.36483986 31.9785217,2.34080365 C31.9800094,2.33090639 31.981404,2.32080714 31.9827057,2.31050591 C31.9860529,2.28505581 31.9891211,2.25930272 31.9916315,2.23354964 C31.9916315,2.22991391 31.9916315,2.22658116 31.9916315,2.22294543 C31.9944208,2.19264769 31.9963734,2.16234995 31.997768,2.13387007 C31.997768,2.12619464 31.997768,2.11841822 31.997768,2.1105408 C31.997768,2.08024306 31.9999995,2.04994532 31.9999995,2.01964757 C32.00077,0.905181759 31.1697259,0.00100355849 30.1437101,0 Z"}),Ce.a.createElement("path",{fill:"url(#linearGradient-4)",d:"M19.8878401,7.40978464 C19.7383064,7.15620152 19.4618641,6.99998235 19.1626937,7.00000003 L12.8373895,7.00000003 C12.5382281,6.9999242 12.261761,7.15608029 12.1121725,7.40962229 C11.962584,7.66316428 11.9626109,7.97555472 12.112243,8.22907204 L15.2751831,13.5903738 C15.4247323,13.8438523 15.7011,14 16.0001856,14 C16.2992712,14 16.5756388,13.8438523 16.725188,13.5903738 L19.8878401,8.22935388 C20.0373866,7.97586547 20.0373866,7.66355488 19.8878401,7.41006648 L19.8878401,7.40978464 Z"})))))};function qr(e,t){return Qr(e)||Zr(e,t)||Xr(e,t)||Yr()}function Yr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xr(e,t){if(e){if("string"===typeof e)return Kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kr(e,t):void 0}}function Kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zr(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Qr(e){if(Array.isArray(e))return e}var Jr=function(){var e=Object(Oe["useState"])(!1),t=qr(e,2),n=t[0],r=t[1];return Object(Oe["useEffect"])((function(){window.location.host.includes("gitee.io")&&window.location.host.includes("antv")&&r(!0)}),[]),[n]},$r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 518H506V160c0-4.4-3.6-8-8-8h-26a398.46 398.46 0 00-282.8 117.1 398.19 398.19 0 00-85.7 127.1A397.61 397.61 0 0072 552a398.46 398.46 0 00117.1 282.8c36.7 36.7 79.5 65.6 127.1 85.7A397.61 397.61 0 00472 952a398.46 398.46 0 00282.8-117.1c36.7-36.7 65.6-79.5 85.7-127.1A397.61 397.61 0 00872 552v-26c0-4.4-3.6-8-8-8zM705.7 787.8A331.59 331.59 0 01470.4 884c-88.1-.4-170.9-34.9-233.2-97.2C174.5 724.1 140 640.7 140 552c0-88.7 34.5-172.1 97.2-234.8 54.6-54.6 124.9-87.9 200.8-95.5V586h364.3c-7.7 76.3-41.3 147-96.6 201.8zM952 462.4l-2.6-28.2c-8.5-92.1-49.4-179-115.2-244.6A399.4 399.4 0 00589 74.6L560.7 72c-4.7-.4-8.7 3.2-8.7 7.9V464c0 4.4 3.6 8 8 8l384-1c4.7 0 8.4-4 8-8.6zm-332.2-58.2V147.6a332.24 332.24 0 01166.4 89.8c45.7 45.6 77 103.6 90 166.1l-256.4.7z"}}]},name:"pie-chart",theme:"outlined"},ei=$r,ti=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:ei}))};ti.displayName="PieChartOutlined";var ni={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 161H699.2c-49.1 0-97.1 14.1-138.4 40.7L512 233l-48.8-31.3A255.2 255.2 0 00324.8 161H96c-17.7 0-32 14.3-32 32v568c0 17.7 14.3 32 32 32h228.8c49.1 0 97.1 14.1 138.4 40.7l44.4 28.6c1.3.8 2.8 1.3 4.3 1.3s3-.4 4.3-1.3l44.4-28.6C602 807.1 650.1 793 699.2 793H928c17.7 0 32-14.3 32-32V193c0-17.7-14.3-32-32-32zM324.8 721H136V233h188.8c35.4 0 69.8 10.1 99.5 29.2l48.8 31.3 6.9 4.5v462c-47.6-25.6-100.8-39-155.2-39zm563.2 0H699.2c-54.4 0-107.6 13.4-155.2 39V298l6.9-4.5 48.8-31.3c29.7-19.1 64.1-29.2 99.5-29.2H888v488zM396.9 361H211.1c-3.9 0-7.1 3.4-7.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c.1-4.1-3.1-7.5-7-7.5zm223.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c0-4.1-3.2-7.5-7.1-7.5H627.1c-3.9 0-7.1 3.4-7.1 7.5zM396.9 501H211.1c-3.9 0-7.1 3.4-7.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c.1-4.1-3.1-7.5-7-7.5zm416 0H627.1c-3.9 0-7.1 3.4-7.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c.1-4.1-3.1-7.5-7-7.5z"}}]},name:"read",theme:"outlined"},ri=ni,ii=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:ri}))};ii.displayName="ReadOutlined";var oi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M536.1 273H488c-4.4 0-8 3.6-8 8v275.3c0 2.6 1.2 5 3.3 6.5l165.3 120.7c3.6 2.6 8.6 1.9 11.2-1.7l28.6-39c2.7-3.7 1.9-8.7-1.7-11.2L544.1 528.5V281c0-4.4-3.6-8-8-8zm219.8 75.2l156.8 38.3c5 1.2 9.9-2.6 9.9-7.7l.8-161.5c0-6.7-7.7-10.5-12.9-6.3L752.9 334.1a8 8 0 003 14.1zm167.7 301.1l-56.7-19.5a8 8 0 00-10.1 4.8c-1.9 5.1-3.9 10.1-6 15.1-17.8 42.1-43.3 80-75.9 112.5a353 353 0 01-112.5 75.9 352.18 352.18 0 01-137.7 27.8c-47.8 0-94.1-9.3-137.7-27.8a353 353 0 01-112.5-75.9c-32.5-32.5-58-70.4-75.9-112.5A353.44 353.44 0 01171 512c0-47.8 9.3-94.2 27.8-137.8 17.8-42.1 43.3-80 75.9-112.5a353 353 0 01112.5-75.9C430.6 167.3 477 158 524.8 158s94.1 9.3 137.7 27.8A353 353 0 01775 261.7c10.2 10.3 19.8 21 28.6 32.3l59.8-46.8C784.7 146.6 662.2 81.9 524.6 82 285 82.1 92.6 276.7 95 516.4 97.4 751.9 288.9 942 524.8 942c185.5 0 343.5-117.6 403.7-282.3 1.5-4.2-.7-8.9-4.9-10.4z"}}]},name:"history",theme:"outlined"},ai=oi,si=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:ai}))};si.displayName="HistoryOutlined";var li={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-616-64h536c4.4 0 8-3.6 8-8V284c0-7.2-8.7-10.7-13.7-5.7L592 488.6l-125.4-124a8.03 8.03 0 00-11.3 0l-189 189.6a7.87 7.87 0 00-2.3 5.6V720c0 4.4 3.6 8 8 8z"}}]},name:"area-chart",theme:"outlined"},ui=li,ci=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:ui}))};ci.displayName="AreaChartOutlined";var fi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 370.6c-9.9-39.4 9.9-102.2 73.4-124.4l-67.9-3.6s-25.7-90-143.6-98c-117.8-8.1-194.9-3-195-3 .1 0 87.4 55.6 52.4 154.7-25.6 52.5-65.8 95.6-108.8 144.7-1.3 1.3-2.5 2.6-3.5 3.7C319.4 605 96 860 96 860c245.9 64.4 410.7-6.3 508.2-91.1 20.5-.2 35.9-.3 46.3-.3 135.8 0 250.6-117.6 245.9-248.4-3.2-89.9-31.9-110.2-41.8-149.6zm-204.1 334c-10.6 0-26.2.1-46.8.3l-23.6.2-17.8 15.5c-47.1 41-104.4 71.5-171.4 87.6-52.5 12.6-110 16.2-172.7 9.6 18-20.5 36.5-41.6 55.4-63.1 92-104.6 173.8-197.5 236.9-268.5l1.4-1.4 1.3-1.5c4.1-4.6 20.6-23.3 24.7-28.1 9.7-11.1 17.3-19.9 24.5-28.6 30.7-36.7 52.2-67.8 69-102.2l1.6-3.3 1.2-3.4c13.7-38.8 15.4-76.9 6.2-112.8 22.5.7 46.5 1.9 71.7 3.6 33.3 2.3 55.5 12.9 71.1 29.2 5.8 6 10.2 12.5 13.4 18.7 1 2 1.7 3.6 2.3 5l5 17.7c-15.7 34.5-19.9 73.3-11.4 107.2 3 11.8 6.9 22.4 12.3 34.4 2.1 4.7 9.5 20.1 11 23.3 10.3 22.7 15.4 43 16.7 78.7 3.3 94.6-82.7 181.9-182 181.9z"}}]},name:"yuque",theme:"outlined"},pi=fi,di=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:pi}))};di.displayName="YuqueOutlined";var hi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M573.7 252.5C422.5 197.4 201.3 96.7 201.3 96.7c-15.7-4.1-17.9 11.1-17.9 11.1-5 61.1 33.6 160.5 53.6 182.8 19.9 22.3 319.1 113.7 319.1 113.7S326 357.9 270.5 341.9c-55.6-16-37.9 17.8-37.9 17.8 11.4 61.7 64.9 131.8 107.2 138.4 42.2 6.6 220.1 4 220.1 4s-35.5 4.1-93.2 11.9c-42.7 5.8-97 12.5-111.1 17.8-33.1 12.5 24 62.6 24 62.6 84.7 76.8 129.7 50.5 129.7 50.5 33.3-10.7 61.4-18.5 85.2-24.2L565 743.1h84.6L603 928l205.3-271.9H700.8l22.3-38.7c.3.5.4.8.4.8S799.8 496.1 829 433.8l.6-1h-.1c5-10.8 8.6-19.7 10-25.8 17-71.3-114.5-99.4-265.8-154.5z"}}]},name:"dingding",theme:"outlined"},vi=hi,mi=function(e,t){return Oe["createElement"](Qe["a"],Object(Xe["a"])(Object(Xe["a"])({},e),{},{ref:t,icon:vi}))};mi.displayName="DingdingOutlined";var gi=n("LvDl"),yi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},bi=(yi("basic","extension","ecology"),yi("home","example","api"),yi("basic","extension","mobile","ecology"),[{type:"basic",name:"\u6807\u51c6\u7248\u57fa\u7840\u4ea7\u54c1"},{type:"extension",name:"\u6807\u51c6\u7248\u6269\u5c55\u4ea7\u54c1"},{type:"mobile",name:"\u79fb\u52a8\u5b9a\u5236\uff08F\u7248\uff09\u4ea7\u54c1"},{type:"ecology",name:"\u5468\u8fb9\u751f\u6001"}]);function _i(e){var t=e.language,n=e.isChinaMirrorHost;return fetch("https://render.alipay.com/p/h5data/antv-site-datas_site-products-h5data.json").then((function(e){return e.json()})).then((function(e){return e.filter((function(e){return e.lang===t})).map((function(e){var t="string"===typeof e.links?JSON.parse(e.links):Object.assign({},e.links),r={};return Object(gi["each"])(t,(function(e,t){var i=(null===e||void 0===e?void 0:e.url)||"";if(n){var o=i.match(/([http|https]):\/\/(.*)\.antv\.vision/);o&&o[2]&&(i=i.replace("".concat(o[2],".antv.vision"),"antv-".concat(o[2],".gitee.io")))}r[t]=Object.assign(Object.assign({},e),{url:i})})),Object.assign(Object.assign({},e),{links:r})}))}))}var Ei=n("3KPF"),xi=n.n(Ei),wi=function(e){return!e.startsWith("http")||e.includes("gitee.io")||e.includes("antv.vision")?"_self":"_blank"},Si=function(e){var t,n,r=e.name,i=e.icon,o=e.url,a=void 0===o?"":o,s=e.slogan,l=e.description,u=e.links,c=void 0===u?{}:u,f=e.style,p=e.language,d=Cr(),h=d.t;return Ce.a.createElement("li",{className:xi.a.product,style:f},Ce.a.createElement("a",{href:a,target:wi(a)},Ce.a.createElement("img",{alt:r,src:i})),Ce.a.createElement("div",{className:xi.a.productContent},Ce.a.createElement("a",{href:a,target:wi(a)},Ce.a.createElement("h4",null,r,Ce.a.createElement("span",{className:xi.a.productSlogan,style:{opacity:"en"===p?.7:""}},s))),Ce.a.createElement("div",{className:xi.a.productDescription},l),Ce.a.createElement("div",{className:xi.a.productLinks},c.home&&Ce.a.createElement("a",{href:c.home.url,target:wi(c.home.url||""),key:c.home.url},null!==(t=c.home.title)&&void 0!==t?t:h("\u4ea7\u54c1\u9996\u9875")),c.example&&Ce.a.createElement("a",{href:c.example.url,target:wi(c.example.url||""),key:c.example.url},null!==(n=c.example.title)&&void 0!==n?n:h("\u56fe\u8868\u793a\u4f8b")))))},Oi=Si;function Ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ai(e,t){return Li(e)||Ti(e,t)||ki(e,t)||Pi()}function Pi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ki(e,t){if(e){if("string"===typeof e)return Mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mi(e,t):void 0}}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ti(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Li(e){if(Array.isArray(e))return e}var Ii=function(e){var t=e.show,n=e.language,r=e.className,i=Cr(),o=i.t,a=i.i18n,s=Jr(),l=Ai(s,1),u=l[0],c=Ce.a.useState([]),f=Ai(c,2),p=f[0],d=f[1],h="zh"===a.language?"zh":"en";return Ce.a.useEffect((function(){_i({language:h,isChinaMirrorHost:u}).then((function(e){d(e)}))}),[h,u]),Ce.a.createElement(Ce.a.Fragment,null,Ce.a.createElement("div",{className:gt()(xi.a.products,r,Ci({},xi.a.show,!!t))},Ce.a.createElement("div",{className:xi.a.container},bi.map((function(e,t){var r=e.name,i=e.type;return Ce.a.createElement(Ce.a.Fragment,{key:t},Ce.a.createElement("h3",null,o(r)),Ce.a.createElement("ul",null,p.filter((function(e){return e.category===i})).map((function(e){var t,r;return Ce.a.createElement(Oi,{key:e.title,name:e.title,slogan:e.slogan||"",description:e.description,url:null===(r=null===(t=e.links)||void 0===t?void 0:t.home)||void 0===r?void 0:r.url,icon:e.icon,links:e.links,language:n||a.language})}))))})))),Ce.a.createElement("div",{className:xi.a.mask}))},Di=Ii,Ri=n("9kvl"),Ni=(n("KD//"),function(e){var t=e.location,n=Object(Oe["useContext"])(r["context"]),i=n.base,o=n.locale,a=n.config.locales,s=a.find((function(e){var t=e.name;return t!==o}));function l(e){var n=i.replace("/".concat(o),""),r=t.pathname.replace(new RegExp("^".concat(i,"(/|$)")),"".concat(n,"$1"))||"/";if(e!==a[0].name){var s="".concat(n,"/").concat(e).replace(/\/\//,"/"),l=t.pathname.replace(i.replace(/^\/$/,"//"),"");return"".concat(s).concat(l).replace(/\/$/,"")}return r}return s?Ce.a.createElement("div",{className:"__dumi-default-locale-select","data-locale-count":a.length},a.length>2?Ce.a.createElement("select",{value:o,onChange:function(e){return Ri["a"].push(l(e.target.value))}},a.map((function(e){return Ce.a.createElement("option",{value:e.name,key:e.name},e.label)}))):Ce.a.createElement(r["Link"],{to:l(s.name)},s.label)):null}),ji=Ni;n("0XDk");function Fi(e,t){return Vi(e)||Hi(e,t)||Ui(e,t)||Bi()}function Bi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ui(e,t){if(e){if("string"===typeof e)return zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zi(e,t):void 0}}function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hi(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Vi(e){if(Array.isArray(e))return e}var Gi=function(e){var t=e.onMobileMenuClick,n=e.navPrefix,i=e.location,o=Object(Oe["useContext"])(r["context"]),a=o.base,s=o.config,l=s.mode,u=s.title,c=(s.logo,o.nav),f=Gr("(min-width: 767.99px)",!0),p=Ce.a.useState(!1),d=Fi(p,2),h=d[0],v=d[1],m=!1,g=function(e){m=!0,e.persist(),setTimeout((function(){e.target instanceof Element&&e.target.matches(":hover")&&v(!0)}),200)},y=function(e){e.persist(),m=!1,setTimeout((function(){m||v(!1)}),200)},b=function(){v(!h)},_=f?{onMouseEnter:g,onMouseLeave:y}:{onClick:b};return Ce.a.createElement("div",{className:"__dumi-default-navbar","data-mode":l},Ce.a.createElement("button",{className:"__dumi-default-navbar-toggle",onClick:t}),Ce.a.createElement("div",{className:"__dumi-default-navbar-logo",style:{background:"none",height:"28px",lineHeight:"28px",paddingLeft:"0px"}},Ce.a.createElement("a",{href:"https://antv.vision/"},Ce.a.createElement(Wr,{style:{height:"28px",lineHeight:"28px"}})),Ce.a.createElement("span",{style:{fontSize:"16px",width:"1px",height:"24px",backgroundColor:"#ccc",display:" inline-block",margin:"0 20px"}}),Ce.a.createElement(r["Link"],{to:a},Ce.a.createElement("span",{style:{fontSize:"16px",color:"#0d1a26",display:"inline-block",verticalAlign:"top"}},u))),Ce.a.createElement("nav",null,n,c.map((function(e){var t,n=Boolean(null===(t=e.children)||void 0===t?void 0:t.length)&&Ce.a.createElement("ul",null,e.children.map((function(e){return Ce.a.createElement("li",{key:e.path},Ce.a.createElement(r["NavLink"],{to:e.path},e.title))})));return Ce.a.createElement("span",{key:e.title||e.path},e.path?Ce.a.createElement(r["NavLink"],{to:e.path,key:e.path},e.title):e.title,n)})),Ce.a.createElement("span",Object.assign({},_),"\u6240\u6709\u4ea7\u54c1",Ce.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/antfincdn/FLrTNDvlna/antv.png",alt:"antv logo arrow",className:"arrow ".concat(h&&"open")}),Ce.a.createElement("div",{style:{position:"fixed",top:" 0px",left:"0px",width:" 100%",right:"0px"}},Ce.a.createElement(Di,{show:h,rootDomain:"ant.vison",language:"zh"}))),Ce.a.createElement(ji,{location:i})))},Wi=Gi;n("LP7i");function qi(e,t){return Qi(e)||Zi(e,t)||Xi(e,t)||Yi()}function Yi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xi(e,t){if(e){if("string"===typeof e)return Ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ki(e,t):void 0}}function Ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zi(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Qi(e){if(Array.isArray(e))return e}var Ji=function(e,t){var n=t.toLowerCase().indexOf(e.toLowerCase()),r=e.length;return Ce.a.createElement(Ce.a.Fragment,null,t.substring(0,n),Ce.a.createElement("span",{className:"__dumi-default-search-highlight"},t.substring(n,n+r)),t.substring(n+r,t.length))},$i=function(){var e=Object(Oe["useState"])(""),t=qi(e,2),n=t[0],i=t[1],o=Object(Oe["useState"])([]),a=qi(o,2),s=a[0],l=a[1],u=Object(Oe["useRef"])(),c=Object(r["useSearch"])(n),f=Ce.a.createElement("svg",{className:"__dumi-default-search-empty",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2347",width:"32",height:"32"},Ce.a.createElement("path",{d:"M855.6 427.2H168.5c-12.7 0-24.4 6.9-30.6 18L4.4 684.7C1.5 689.9 0 695.8 0 701.8v287.1c0 19.4 15.7 35.1 35.1 35.1H989c19.4 0 35.1-15.7 35.1-35.1V701.8c0-6-1.5-11.8-4.4-17.1L886.2 445.2c-6.2-11.1-17.9-18-30.6-18zM673.4 695.6c-16.5 0-30.8 11.5-34.3 27.7-12.7 58.5-64.8 102.3-127.2 102.3s-114.5-43.8-127.2-102.3c-3.5-16.1-17.8-27.7-34.3-27.7H119c-26.4 0-43.3-28-31.1-51.4l81.7-155.8c6.1-11.6 18-18.8 31.1-18.8h622.4c13 0 25 7.2 31.1 18.8l81.7 155.8c12.2 23.4-4.7 51.4-31.1 51.4H673.4zM819.9 209.5c-1-1.8-2.1-3.7-3.2-5.5-9.8-16.6-31.1-22.2-47.8-12.6L648.5 261c-17 9.8-22.7 31.6-12.6 48.4 0.9 1.4 1.7 2.9 2.5 4.4 9.5 17 31.2 22.8 48 13L807 257.3c16.7-9.7 22.4-31 12.9-47.8zM375.4 261.1L255 191.6c-16.7-9.6-38-4-47.8 12.6-1.1 1.8-2.1 3.6-3.2 5.5-9.5 16.8-3.8 38.1 12.9 47.8L337.3 327c16.9 9.7 38.6 4 48-13.1 0.8-1.5 1.7-2.9 2.5-4.4 10.2-16.8 4.5-38.6-12.4-48.4zM512 239.3h2.5c19.5 0.3 35.5-15.5 35.5-35.1v-139c0-19.3-15.6-34.9-34.8-35.1h-6.4C489.6 30.3 474 46 474 65.2v139c0 19.5 15.9 35.4 35.5 35.1h2.5z"}));return Object(Oe["useEffect"])((function(){Array.isArray(c)?l(c):"function"===typeof c&&c(".".concat(u.current.className))}),[c]),Ce.a.createElement("div",{className:"__dumi-default-search"},Ce.a.createElement("input",Object.assign({className:"__dumi-default-search-input",type:"search",ref:u},Array.isArray(c)?{value:n,onChange:function(e){return i(e.target.value)}}:{})),Ce.a.createElement("ul",null,s.length>0&&s.map((function(e){var t;return Ce.a.createElement("li",{key:e.path,onClick:function(){return i("")}},Ce.a.createElement(r["AnchorLink"],{to:e.path},(null===(t=e.parent)||void 0===t?void 0:t.title)&&Ce.a.createElement("span",null,e.parent.title),Ji(n,e.title)))})),0===s.length&&n&&Ce.a.createElement("li",{style:{textAlign:"center"}},f)))},eo=(n("qeE+"),function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}),to=function(e){var t=e.slugs,n=eo(e,["slugs"]);return Ce.a.createElement("ul",Object.assign({role:"slug-list"},n),t.filter((function(e){var t=e.depth;return t>1&&t<4})).map((function(e){return Ce.a.createElement("li",{key:e.heading,title:e.value,"data-depth":e.depth},Ce.a.createElement(r["AnchorLink"],{to:"#".concat(e.heading)},Ce.a.createElement("span",null,e.value)))})))},no=to,ro=(n("rned"),function(e){var t=e.mobileMenuCollapsed,n=e.location,i=e.darkPrefix,o=Object(Oe["useContext"])(r["context"]),a=o.config,s=a.logo,l=a.title,u=a.description,c=a.mode,f=a.repository.url,p=o.menu,d=o.nav,h=o.base,v=o.meta,m=Boolean((v.hero||v.features||v.gapless)&&"site"===c)||!1===v.sidemenu||void 0;return Ce.a.createElement("div",{className:"__dumi-default-menu","data-mode":c,"data-hidden":m,"data-mobile-show":!t||void 0},Ce.a.createElement("div",{className:"__dumi-default-menu-inner"},Ce.a.createElement("div",{className:"__dumi-default-menu-header"},Ce.a.createElement(r["Link"],{to:h,className:"__dumi-default-menu-logo",style:{backgroundImage:s&&"url('".concat(s,"')")}}),Ce.a.createElement("h1",null,l),Ce.a.createElement("p",null,u),/github\.com/.test(f)&&"doc"===c&&Ce.a.createElement("p",null,Ce.a.createElement("object",{type:"image/svg+xml",data:"https://img.shields.io/github/stars".concat(f.match(/((\/[^\/]+){2})$/)[1],"?style=social")}))),Ce.a.createElement("div",{className:"__dumi-default-menu-mobile-area"},!!d.length&&Ce.a.createElement("ul",{className:"__dumi-default-menu-nav-list"},d.map((function(e){var t,n=Boolean(null===(t=e.children)||void 0===t?void 0:t.length)&&Ce.a.createElement("ul",null,e.children.map((function(e){return Ce.a.createElement("li",{key:e.path||e.title},Ce.a.createElement(r["NavLink"],{to:e.path},e.title))})));return Ce.a.createElement("li",{key:e.path||e.title},e.path?Ce.a.createElement(r["NavLink"],{to:e.path},e.title):e.title,n)}))),Ce.a.createElement(ji,{location:n}),i),Ce.a.createElement("ul",{className:"__dumi-default-menu-list"},!m&&p.map((function(e){var t,i=Boolean(null===(t=v.slugs)||void 0===t?void 0:t.length),o=e.children&&Boolean(e.children.length),a="menu"===v.toc&&!o&&i&&e.path===n.pathname.replace(/([^^])\/$/,"$1"),s=o?e.children.map((function(e){return e.path})):[e.path,n.pathname.startsWith("".concat(e.path,"/"))&&v.title===e.title?n.pathname:null];return Ce.a.createElement("li",{key:e.path||e.title},Ce.a.createElement(r["NavLink"],{to:e.path,isActive:function(){return s.includes(n.pathname)}},e.title),Boolean(e.children&&e.children.length)&&Ce.a.createElement("ul",null,e.children.map((function(e){return Ce.a.createElement("li",{key:e.path},Ce.a.createElement(r["NavLink"],{to:e.path,exact:!0},Ce.a.createElement("span",null,e.title)),Boolean("menu"===v.toc&&"undefined"!==typeof window&&e.path===n.pathname&&i)&&Ce.a.createElement(no,{slugs:v.slugs}))}))),a&&Ce.a.createElement(no,{slugs:v.slugs}))})))))}),io=ro;n("Bq5P");function oo(e,t){return co(e)||uo(e,t)||so(e,t)||ao()}function ao(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function so(e,t){if(e){if("string"===typeof e)return lo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lo(e,t):void 0}}function lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uo(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function co(e){if(Array.isArray(e))return e}Se.use(Ye).init({initImmediate:!1,fallbackLng:"zh",keySeparator:!1,react:{useSuspense:!1}});var fo=function(e){return 0===Object.keys(e).length},po=function(e,t){var n=t.pathname,r=e.meta,i=e.routes,o=fo(r),a={meta:{}},s=["/zh","/zh/","/zh-CN","/zh-CN/","/en","/en/","/en-US","/en-US/"],l=s.some((function(e){return e===n}));if(o&&l){var u="zh"===n.slice(1,3),c="en"===n.slice(1,3);u&&(a=i.find((function(e){return"/"===e.path}))),c&&(a=i.find((function(e){return"/en-US"===e.path})))}return{meta:o?a.meta:r,isDirect:l}},ho=function(e){return Ce.a.createElement("div",{className:"__dumi-default-layout-hero"},e.image&&Ce.a.createElement("img",{src:e.image,alt:"banner"}),Ce.a.createElement("h1",null,e.title),Ce.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.desc}}),e.actions&&e.actions.map((function(e){return Ce.a.createElement(r["Link"],{to:e.link,key:e.text},Ce.a.createElement("button",{type:"button"},e.text))})))},vo=function(e){var t=e.image,n=e.title,r=e.desc,i=e.actions,o=e.notifications,a=Ce.a.createElement("div",{dangerouslySetInnerHTML:{__html:r}}),s=Ce.a.createElement("img",{alt:"graphin",style:{width:"100%",marginTop:"20%"},src:t});return Ce.a.createElement(Kt,{coverImage:s,title:n,description:a,notifications:o,buttons:i,className:"banner"})},mo=function(e){return Ce.a.createElement("div",{className:"__dumi-default-layout-features"},e.map((function(e){return Ce.a.createElement("dl",{key:e.title,style:{backgroundImage:e.icon?"url(".concat(e.icon,")"):void 0}},e.link?Ce.a.createElement(r["Link"],{to:e.link},Ce.a.createElement("dt",null,e.title)):Ce.a.createElement("dt",null,e.title),Ce.a.createElement("dd",{dangerouslySetInnerHTML:{__html:e.desc}}))})))},go=function(e){var t,n,i=e.children,o=e.location,a=Object(Oe["useContext"])(r["context"]),s=a.config,l=s.mode,u=s.repository,c=a.locale,f=po(a,o),p=f.meta,d=f.isDirect,h=u.url,v=u.branch,m=u.platform,g=Object(Oe["useState"])(!0),y=oo(g,2),b=y[0],_=y[1],E="site"===l,x=E&&p.hero,w=E&&p.banner,S=E&&p.cases,O=E&&p.features,C=E&&p.ideas,A=!1!==p.sidemenu&&!x&&!w&&!O&&!p.gapless,P=!x&&!w&&!O&&Boolean(null===(t=p.slugs)||void 0===t?void 0:t.length)&&("content"===p.toc||void 0===p.toc)&&!p.gapless,k=/^zh|cn$/i.test(c),M=new Date(p.updatedTime).toLocaleString([],{hour12:!1}),T={github:"GitHub",gitlab:"GitLab"}[(null===(n=(h||"").match(/(github|gitlab)/))||void 0===n?void 0:n[1])||"nothing"]||m;return fo(p)&&!d?Ce.a.createElement("div",null,Ce.a.createElement("div",{style:{marginBottom:"60px"},className:"__dumi-default-layout home","data-route":o.pathname,"data-show-sidemenu":!1,"data-show-slugs":!1,"data-site-mode":"site","data-gapless":String(!!p.gapless),onClick:function(){b||_(!0)}},Ce.a.createElement("div",{style:{height:"60px"}}),Ce.a.createElement(Wi,{location:o,navPrefix:Ce.a.createElement($i,null),onMobileMenuClick:function(e){_((function(e){return!e})),e.stopPropagation()}}),Ce.a.createElement(Dt,null),Ce.a.createElement(Ur,{location:window.location,githubUrl:h,rootDomain:"https://antv.vision"}))):Ce.a.createElement("div",{className:"__dumi-default-layout ".concat(w?"home":""),"data-route":o.pathname,"data-show-sidemenu":String(A),"data-show-slugs":String(P),"data-site-mode":E,"data-gapless":String(!!p.gapless),onClick:function(){b||_(!0)}},Ce.a.createElement(Wi,{location:o,navPrefix:Ce.a.createElement($i,null),onMobileMenuClick:function(e){_((function(e){return!e})),e.stopPropagation()}}),A&&Ce.a.createElement(io,{mobileMenuCollapsed:b,location:o}),P&&Ce.a.createElement(no,{slugs:p.slugs,className:"__dumi-default-layout-toc"}),w&&vo(p.banner),x&&ho(p.hero),O&&mo(p.features),C&&Ce.a.createElement(Wn,{features:p.ideas,style:{width:"100%"}}),S&&Ce.a.createElement(cn,{cases:p.cases,className:"graph-cases"}),Ce.a.createElement("div",{className:"__dumi-default-layout-content"},i,A&&Ce.a.createElement("div",{className:"__dumi-default-layout-footer-meta"},T&&Ce.a.createElement(r["Link"],{to:"".concat(h,"/edit/").concat(v,"/").concat(p.filePath)},k?"\u5728 ".concat(T," \u4e0a\u7f16\u8f91\u6b64\u9875"):"Edit this doc on ".concat(T)),Ce.a.createElement("span",{"data-updated-text":k?"\u6700\u540e\u66f4\u65b0\u65f6\u95f4\uff1a":"Last update: "},M)),!A&&Ce.a.createElement(Ur,{location:window.location,githubUrl:h,rootDomain:"https://antv.vision"})))};t["default"]=go},Npjl:function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},NqR8:function(e,t,n){var r=n("I+eb");r({target:"Math",stat:!0},{isubh:function(e,t,n,r){var i=e>>>0,o=t>>>0,a=n>>>0;return o-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},NwKe:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["usage-bus"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["usage-bus"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},NykK:function(e,t,n){var r=n("nmnc"),i=n("AP2z"),o=n("KfNM"),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;function u(e){return null==e?void 0===e?s:a:l&&l in Object(e)?i(e):o(e)}e.exports=u},O0oS:function(e,t,n){var r=n("Cwc5"),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},O741:function(e,t,n){var r=n("hh1v");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},OBhP:function(e,t,n){var r=n("fmRc"),i=n("gFfm"),o=n("MrPd"),a=n("WwFo"),s=n("Dw+G"),l=n("5Tg0"),u=n("Q1l4"),c=n("VOtZ"),f=n("EEGq"),p=n("qZTm"),d=n("G6z8"),h=n("QqLw"),v=n("yHx3"),m=n("wrZu"),g=n("+iFO"),y=n("Z0cm"),b=n("DSRE"),_=n("zEVN"),E=n("GoyQ"),x=n("1+5i"),w=n("7GkX"),S=n("mTTR"),O=1,C=2,A=4,P="[object Arguments]",k="[object Array]",M="[object Boolean]",T="[object Date]",L="[object Error]",I="[object Function]",D="[object GeneratorFunction]",R="[object Map]",N="[object Number]",j="[object Object]",F="[object RegExp]",B="[object Set]",U="[object String]",z="[object Symbol]",H="[object WeakMap]",V="[object ArrayBuffer]",G="[object DataView]",W="[object Float32Array]",q="[object Float64Array]",Y="[object Int8Array]",X="[object Int16Array]",K="[object Int32Array]",Z="[object Uint8Array]",Q="[object Uint8ClampedArray]",J="[object Uint16Array]",$="[object Uint32Array]",ee={};function te(e,t,n,k,M,T){var L,R=t&O,N=t&C,F=t&A;if(n&&(L=M?n(e,k,M,T):n(e)),void 0!==L)return L;if(!E(e))return e;var B=y(e);if(B){if(L=v(e),!R)return u(e,L)}else{var U=h(e),z=U==I||U==D;if(b(e))return l(e,R);if(U==j||U==P||z&&!M){if(L=N||z?{}:g(e),!R)return N?f(e,s(L,e)):c(e,a(L,e))}else{if(!ee[U])return M?e:{};L=m(e,U,R)}}T||(T=new r);var H=T.get(e);if(H)return H;T.set(e,L),x(e)?e.forEach((function(r){L.add(te(r,t,n,r,e,T))})):_(e)&&e.forEach((function(r,i){L.set(i,te(r,t,n,i,e,T))}));var V=F?N?d:p:N?S:w,G=B?void 0:V(e);return i(G||e,(function(r,i){G&&(i=r,r=e[i]),o(L,i,te(r,t,n,i,e,T))})),L}ee[P]=ee[k]=ee[V]=ee[G]=ee[M]=ee[T]=ee[W]=ee[q]=ee[Y]=ee[X]=ee[K]=ee[R]=ee[N]=ee[j]=ee[F]=ee[B]=ee[U]=ee[z]=ee[Z]=ee[Q]=ee[J]=ee[$]=!0,ee[L]=ee[I]=ee[H]=!1,e.exports=te},ODXe:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("DSFK");function i(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}var o=n("BsWD"),a=n("PYwp");function s(e,t){return Object(r["a"])(e)||i(e,t)||Object(o["a"])(e,t)||Object(a["a"])()}},OS56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=i(n("8//2"));function i(e){return e&&e.__esModule?e:{default:e}}var o=r["default"];t["default"]=o},"Of+w":function(e,t,n){var r=n("Cwc5"),i=n("Kz5y"),o=r(i,"WeakMap");e.exports=o},"Ok+2":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["control-add"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["control-add"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},P4y1:function(e,t){e.exports={}},P940:function(e,t,n){"use strict";e.exports=function(){var e=arguments.length,t=new Array(e);while(e--)t[e]=arguments[e];return new this(t)}},PF2M:function(e,t,n){"use strict";var r=n("67WC"),i=n("UMSQ"),o=n("GC2F"),a=n("ewvW"),s=n("0Dky"),l=r.aTypedArray,u=r.exportTypedArrayMethod,c=s((function(){new Int8Array(1).set({})}));u("set",(function(e){l(this);var t=o(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=a(e),s=i(r.length),u=0;if(s+t>n)throw RangeError("Wrong length");while(u<s)this[t+u]=r[u++]}),c)},PJYZ:function(e,t){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},PKPk:function(e,t,n){"use strict";var r=n("ZUd8").charAt,i=n("afO8"),o=n("fdAy"),a="String Iterator",s=i.set,l=i.getterFor(a);o(String,"String",(function(e){s(this,{type:a,string:String(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},PPTN:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["circle-createbydrag"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("p",null,"\u6ce8\u610f\uff1a\u914d\u7f6e ",i.a.createElement("code",null,"trigger: 'drag'")," \u4e4b\u540e\uff0c\u53ea\u8981 Drawer \u5728\u7ed8\u5236\u72b6\u6001\u4e0b\uff0c\u5c31\u65e0\u6cd5\u62d6\u62fd\u5730\u56fe\u3002\u5982\u9700\u5f00\u542f\u62d6\u62fd\uff0c\u9700\u8981\u5c06\u8c03\u7528 Drawer \u7684 disable \u65b9\u6cd5")),i.a.createElement(a["default"],t["circle-createbydrag"].previewerProps,i.a.createElement(n,null))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},PYwp:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},PdBv:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["line-distance"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["line-distance"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},PdP7:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["line-initialdata"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["line-initialdata"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},Q1l4:function(e,t){function n(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}e.exports=n},Q2Ig:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("33yf")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},Q7Ls:function(e,t,n){"use strict";var r=n("dEAq"),i=function(){var e=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,n={},r={util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e["__id"]||Object.defineProperty(e,"__id",{value:++t}),e["__id"]},clone:function e(t,n){var i,o;switch(n=n||{},r.util.type(t)){case"Object":if(o=r.util.objId(t),n[o])return n[o];for(var a in i={},n[o]=i,t)t.hasOwnProperty(a)&&(i[a]=e(t[a],n));return i;case"Array":return o=r.util.objId(t),n[o]?n[o]:(i=[],n[o]=i,t.forEach((function(t,r){i[r]=e(t,n)})),i);default:return t}},getLanguage:function(t){while(t){var n=e.exec(t.className);if(n)return n[1].toLowerCase();t=t.parentElement}return"none"},setLanguage:function(t,n){t.className=t.className.replace(RegExp(e,"gi"),""),t.classList.add("language-"+n)},isActive:function(e,t,n){var r="no-"+t;while(e){var i=e.classList;if(i.contains(t))return!0;if(i.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:n,plaintext:n,text:n,txt:n,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(e,t,n,i){i=i||r.languages;var o=i[e],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);n.hasOwnProperty(s)||(a[s]=o[s])}var u=i[e];return i[e]=a,r.languages.DFS(r.languages,(function(t,n){n===u&&t!=e&&(this[t]=a)})),a},DFS:function e(t,n,i,o){o=o||{};var a=r.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],i||s);var l=t[s],u=r.util.type(l);"Object"!==u||o[a(l)]?"Array"!==u||o[a(l)]||(o[a(l)]=!0,e(l,n,s,o)):(o[a(l)]=!0,e(l,n,null,o))}}},plugins:{},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};return r.hooks.run("before-tokenize",o),o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),i.stringify(r.util.encode(o.tokens),o.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var i=new s;return l(i,i.head,e),a(e,i,t,i.head,0),c(i)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var i,o=0;i=n[o++];)i(t)}},Token:i};function i(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function o(e,t,n,r){e.lastIndex=t;var i=e.exec(n);if(i&&r&&i[1]){var o=i[1].length;i.index+=o,i[0]=i[0].slice(o)}return i}function a(e,t,n,s,c,f){for(var p in n)if(n.hasOwnProperty(p)&&n[p]){var d=n[p];d=Array.isArray(d)?d:[d];for(var h=0;h<d.length;++h){if(f&&f.cause==p+","+h)return;var v=d[h],m=v.inside,g=!!v.lookbehind,y=!!v.greedy,b=v.alias;if(y&&!v.pattern.global){var _=v.pattern.toString().match(/[imsuy]*$/)[0];v.pattern=RegExp(v.pattern.source,_+"g")}for(var E=v.pattern||v,x=s.next,w=c;x!==t.tail;w+=x.value.length,x=x.next){if(f&&w>=f.reach)break;var S=x.value;if(t.length>e.length)return;if(!(S instanceof i)){var O,C=1;if(y){if(O=o(E,w,e,g),!O||O.index>=e.length)break;var A=O.index,P=O.index+O[0].length,k=w;k+=x.value.length;while(A>=k)x=x.next,k+=x.value.length;if(k-=x.value.length,w=k,x.value instanceof i)continue;for(var M=x;M!==t.tail&&(k<P||"string"===typeof M.value);M=M.next)C++,k+=M.value.length;C--,S=e.slice(w,k),O.index-=w}else if(O=o(E,0,S,g),!O)continue;A=O.index;var T=O[0],L=S.slice(0,A),I=S.slice(A+T.length),D=w+S.length;f&&D>f.reach&&(f.reach=D);var R=x.prev;L&&(R=l(t,R,L),w+=L.length),u(t,R,C);var N=new i(p,m?r.tokenize(T,m):T,b,T);if(x=l(t,R,N),I&&l(t,x,I),C>1){var j={cause:p+","+h,reach:D};a(e,t,n,x.prev,w,j),f&&j.reach>f.reach&&(f.reach=j.reach)}}}}}}function s(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function l(e,t,n){var r=t.next,i={value:n,prev:t,next:r};return t.next=i,r.prev=i,e.length++,i}function u(e,t,n){for(var r=t.next,i=0;i<n&&r!==e.tail;i++)r=r.next;t.next=r,r.prev=t,e.length-=i}function c(e){var t=[],n=e.head.next;while(n!==e.tail)t.push(n.value),n=n.next;return t}return i.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var i="";return t.forEach((function(t){i+=e(t,n)})),i}var o={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},a=t.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(o.classes,a):o.classes.push(a)),r.hooks.run("wrap",o);var s="";for(var l in o.attributes)s+=" "+l+'="'+(o.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+s+">"+o.content+"</"+o.tag+">"},r}(),o=i;i["default"]=i,o.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},o.languages.markup["tag"].inside["attr-value"].inside["entity"]=o.languages.markup["entity"],o.languages.markup["doctype"].inside["internal-subset"].inside=o.languages.markup,o.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes["title"]=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(o.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:o.languages[t]},n["cdata"]=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:o.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},o.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(o.languages.markup.tag,"addAttribute",{value:function(e,t){o.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:o.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,o.languages.xml=o.languages.extend("markup",{}),o.languages.ssml=o.languages.xml,o.languages.atom=o.languages.xml,o.languages.rss=o.languages.xml,function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:r.entity}}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=e.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=r.variable[1].inside,a=0;a<i.length;a++)o[i[a]]=e.languages.bash[i[a]];e.languages.shell=e.languages.bash}(o),o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},o.languages.c=o.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),o.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),o.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},o.languages.c["string"]],char:o.languages.c["char"],comment:o.languages.c["comment"],"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:o.languages.c}}}}),o.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete o.languages.c["boolean"],function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(o),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css["atrule"].inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(o),function(e){var t,n=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css.selector={pattern:e.languages.css.selector.pattern,lookbehind:!0,inside:t={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp("\\[(?:[^[\\]\"']|"+n.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[n,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},e.languages.css["atrule"].inside["selector-function-argument"].inside=t,e.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var r={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},i={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};e.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:r,number:i,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:r,number:i})}(o),o.languages.javascript=o.languages.extend("clike",{"class-name":[o.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),o.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,o.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:o.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:o.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:o.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:o.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:o.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),o.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),o.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),o.languages.markup&&(o.languages.markup.tag.addInlined("script","javascript"),o.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),o.languages.js=o.languages.javascript,function(e){var t=/#(?!\{).+/,n={pattern:/#\{[^}]+\}/,alias:"variable"};e.languages.coffeescript=e.languages.extend("javascript",{comment:t,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:n}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),e.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:t,interpolation:n}}}),e.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:e.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:n}}]}),e.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete e.languages.coffeescript["template-string"],e.languages.coffee=e.languages.coffeescript}(o),function(e){var t=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,r="(?:"+n.source+"(?:[ \t]+"+t.source+")?|"+t.source+"(?:[ \t]+"+n.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,(function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source})),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function a(e,t){t=(t||"").replace(/m/g,"")+"m";var n=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<value>>/g,(function(){return e}));return RegExp(n,t)}e.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,(function(){return r}))),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<key>>/g,(function(){return"(?:"+i+"|"+o+")"}))),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:a(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:a(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:a(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:a(o),lookbehind:!0,greedy:!0},number:{pattern:a(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:t,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml}(o),function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(e){return e=e.replace(/<inner>/g,(function(){return t})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike","code-snippet"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])}))})),e.hooks.add("after-tokenize",(function(e){function t(e){if(e&&"string"!==typeof e)for(var n=0,r=e.length;n<r;n++){var i=e[n];if("code"===i.type){var o=i.content[1],a=i.content[3];if(o&&a&&"code-language"===o.type&&"code-block"===a.type&&"string"===typeof o.content){var s=o.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase();var l="language-"+s;a.alias?"string"===typeof a.alias?a.alias=[a.alias,l]:a.alias.push(l):a.alias=[l]}}else t(i.content)}}"markdown"!==e.language&&"md"!==e.language||t(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var n="",r=0,i=t.classes.length;r<i;r++){var o=t.classes[r],a=/language-(.+)/.exec(o);if(a){n=a[1];break}}var s=e.languages[n];if(s)t.content=e.highlight(u(t.content),s,n);else if(n&&"none"!==n&&e.plugins.autoloader){var l="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes["id"]=l,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(l);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))}))}}}));var a=RegExp(e.languages.markup.tag.pattern.source,"gi"),s={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;function u(e){var t=e.replace(a,"");return t=t.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,(function(e,t){var n;if(t=t.toLowerCase(),"#"===t[0])return n="x"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1)),l(n);var r=s[t];return r||e})),t}e.languages.md=e.languages.markdown}(o),o.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:o.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},o.hooks.add("after-tokenize",(function(e){if("graphql"===e.language)for(var t=e.tokens.filter((function(e){return"string"!==typeof e&&"comment"!==e.type&&"scalar"!==e.type})),n=0;n<t.length;){var r=t[n++];if("keyword"===r.type&&"mutation"===r.content){var i=[];if(f(["definition-mutation","punctuation"])&&"("===c(1).content){n+=2;var o=p(/^\($/,/^\)$/);if(-1===o)continue;for(;n<o;n++){var a=c(0);"variable"===a.type&&(d(a,"variable-input"),i.push(a.content))}n=o+1}if(f(["punctuation","property-query"])&&"{"===c(0).content&&(n++,d(c(0),"property-mutation"),i.length>0)){var s=p(/^\{$/,/^\}$/);if(-1===s)continue;for(var l=n;l<s;l++){var u=t[l];"variable"===u.type&&i.indexOf(u.content)>=0&&d(u,"variable-input")}}}}function c(e){return t[n+e]}function f(e,t){t=t||0;for(var n=0;n<e.length;n++){var r=c(n+t);if(!r||r.type!==e[n])return!1}return!0}function p(e,r){for(var i=1,o=n;o<t.length;o++){var a=t[o],s=a.content;if("punctuation"===a.type&&"string"===typeof s)if(e.test(s))i++;else if(r.test(s)&&(i--,0===i))return o}return-1}function d(e,t){var n=e.alias;n?Array.isArray(n)||(e.alias=n=[n]):e.alias=n=[],n.push(t)}})),o.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(e){var t=e.languages.javascript["template-string"],n=t.pattern.source,r=t.inside["interpolation"],i=r.inside["interpolation-punctuation"],o=r.pattern.source;function a(t,r){if(e.languages[t])return{pattern:RegExp("((?:"+r+")\\s*)"+n),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:t}}}}function s(e,t){return"___"+t.toUpperCase()+"_"+e+"___"}function l(t,n,r){var i={code:t,grammar:n,language:r};return e.hooks.run("before-tokenize",i),i.tokens=e.tokenize(i.code,i.grammar),e.hooks.run("after-tokenize",i),i.tokens}function u(t){var n={};n["interpolation-punctuation"]=i;var o=e.tokenize(t,n);if(3===o.length){var a=[1,1];a.push.apply(a,l(o[1],e.languages.javascript,"javascript")),o.splice.apply(o,a)}return new e.Token("interpolation",o,r.alias,t)}function c(t,n,r){var i=e.tokenize(t,{interpolation:{pattern:RegExp(o),lookbehind:!0}}),a=0,c={},f=i.map((function(e){if("string"===typeof e)return e;var n,i=e.content;while(-1!==t.indexOf(n=s(a++,r)));return c[n]=i,n})).join(""),p=l(f,n,r),d=Object.keys(c);function h(e){for(var t=0;t<e.length;t++){if(a>=d.length)return;var n=e[t];if("string"===typeof n||"string"===typeof n.content){var r=d[a],i="string"===typeof n?n:n.content,o=i.indexOf(r);if(-1!==o){++a;var s=i.substring(0,o),l=u(c[r]),f=i.substring(o+r.length),p=[];if(s&&p.push(s),p.push(l),f){var v=[f];h(v),p.push.apply(p,v)}"string"===typeof n?(e.splice.apply(e,[t,1].concat(p)),t+=p.length-1):n.content=p}}else{var m=n.content;Array.isArray(m)?h(m):h([m])}}}return a=0,h(p),new e.Token(r,p,"language-"+r,t)}e.languages.javascript["template-string"]=[a("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),a("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),a("svg",/\bsvg/.source),a("markdown",/\b(?:markdown|md)/.source),a("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),a("sql",/\bsql/.source),t].filter(Boolean);var f={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};function p(e){return"string"===typeof e?e:Array.isArray(e)?e.map(p).join(""):p(e.content)}e.hooks.add("after-tokenize",(function(t){function n(t){for(var r=0,i=t.length;r<i;r++){var o=t[r];if("string"!==typeof o){var a=o.content;if(Array.isArray(a))if("template-string"===o.type){var s=a[1];if(3===a.length&&"string"!==typeof s&&"embedded-code"===s.type){var l=p(s),u=s.alias,f=Array.isArray(u)?u[0]:u,d=e.languages[f];if(!d)continue;a[1]=c(l,d,f)}}else n(a);else"string"!==typeof a&&n([a])}}}t.language in f&&n(t.tokens)}))}(o),function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript["parameter"],delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(o),function(e){function t(e,t){return RegExp(e.replace(/<ID>/g,(function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source})),t)}e.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),e.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function"].source),lookbehind:!0,alias:["function","property-access"]}}),e.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]}),e.languages.insertBefore("javascript","keyword",{imports:{pattern:t(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:e.languages.javascript},exports:{pattern:t(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:e.languages.javascript}}),e.languages.javascript["keyword"].unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),e.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),e.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:t(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var n=["function","function-variable","method","method-variable","property-access"],r=0;r<n.length;r++){var i=n[r],o=e.languages.javascript[i];"RegExp"===e.util.type(o)&&(o=e.languages.javascript[i]={pattern:o});var a=o.inside||{};o.inside=a,a["maybe-class-name"]=/^[A-Z][\s\S]*/}}(o),function(e){var t=e.util.clone(e.languages.javascript),n=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,r=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(e,t){return e=e.replace(/<S>/g,(function(){return n})).replace(/<BRACES>/g,(function(){return r})).replace(/<SPREAD>/g,(function(){return i})),RegExp(e,t)}i=o(i).source,e.languages.jsx=e.languages.extend("markup",t),e.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside["tag"].pattern=/^<\/?[^\s>\/]*/,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,e.languages.jsx.tag.inside["tag"].inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside["comment"]=t["comment"],e.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx}}},e.languages.jsx.tag);var a=function e(t){return t?"string"===typeof t?t:"string"===typeof t.content?t.content:t.content.map(e).join(""):""},s=function t(n){for(var r=[],i=0;i<n.length;i++){var o=n[i],s=!1;if("string"!==typeof o&&("tag"===o.type&&o.content[0]&&"tag"===o.content[0].type?"</"===o.content[0].content[0].content?r.length>0&&r[r.length-1].tagName===a(o.content[0].content[1])&&r.pop():"/>"===o.content[o.content.length-1].content||r.push({tagName:a(o.content[0].content[1]),openedBraces:0}):r.length>0&&"punctuation"===o.type&&"{"===o.content?r[r.length-1].openedBraces++:r.length>0&&r[r.length-1].openedBraces>0&&"punctuation"===o.type&&"}"===o.content?r[r.length-1].openedBraces--:s=!0),(s||"string"===typeof o)&&r.length>0&&0===r[r.length-1].openedBraces){var l=a(o);i<n.length-1&&("string"===typeof n[i+1]||"plain-text"===n[i+1].type)&&(l+=a(n[i+1]),n.splice(i+1,1)),i>0&&("string"===typeof n[i-1]||"plain-text"===n[i-1].type)&&(l=a(n[i-1])+l,n.splice(i-1,1),i--),n[i]=new e.Token("plain-text",l,null,l)}o.content&&"string"!==typeof o.content&&t(o.content)}};e.hooks.add("after-tokenize",(function(e){"jsx"!==e.language&&"tsx"!==e.language||s(e.tokens)}))}(o),function(e){e.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach((function(n){var r=t[n],i=[];/^\w+$/.test(n)||i.push(/\w+/.exec(n)[0]),"diff"===n&&i.push("bold"),e.languages.diff[n]={pattern:RegExp("^(?:["+r+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}})),Object.defineProperty(e.languages.diff,"PREFIXES",{value:t})}(o),o.languages.git={comment:/^#.*/m,deleted:/^[-\u2013].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m},o.languages.go=o.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),o.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete o.languages.go["class-name"],function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,i,o){if(n.language===r){var a=n.tokenStack=[];n.code=n.code.replace(i,(function(e){if("function"===typeof o&&!o(e))return e;var i,s=a.length;while(-1!==n.code.indexOf(i=t(r,s)))++s;return a[s]=e,i})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,r){if(n.language===r&&n.tokenStack){n.grammar=e.languages[r];var i=0,o=Object.keys(n.tokenStack);a(n.tokens)}function a(s){for(var l=0;l<s.length;l++){if(i>=o.length)break;var u=s[l];if("string"===typeof u||u.content&&"string"===typeof u.content){var c=o[i],f=n.tokenStack[c],p="string"===typeof u?u:u.content,d=t(r,c),h=p.indexOf(d);if(h>-1){++i;var v=p.substring(0,h),m=new e.Token(r,e.tokenize(f,n.grammar),"language-"+r,f),g=p.substring(h+d.length),y=[];v&&y.push.apply(y,a([v])),y.push(m),g&&y.push.apply(y,a([g])),"string"===typeof u?s.splice.apply(s,[l,1].concat(y)):u.content=y}}else u.content&&a(u.content)}return s}}}})}(o),function(e){e.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:false|true)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},e.hooks.add("before-tokenize",(function(t){var n=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;e.languages["markup-templating"].buildPlaceholders(t,"handlebars",n)})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"handlebars")})),e.languages.hbs=e.languages.handlebars}(o),o.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},o.languages.webmanifest=o.languages.json,o.languages.less=o.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),o.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}}),o.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/},o.languages.objectivec=o.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete o.languages.objectivec["class-name"],o.languages.objc=o.languages.objectivec,o.languages.ocaml={comment:{pattern:/\(\*[\s\S]*?\*\)/,greedy:!0},char:{pattern:/'(?:[^\\\r\n']|\\(?:.|[ox]?[0-9a-f]{1,3}))'/i,greedy:!0},string:[{pattern:/"(?:\\(?:[\s\S]|\r\n)|[^\\\r\n"])*"/,greedy:!0},{pattern:/\{([a-z_]*)\|[\s\S]*?\|\1\}/,greedy:!0}],number:[/\b(?:0b[01][01_]*|0o[0-7][0-7_]*)\b/i,/\b0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]*)?(?:p[+-]?\d[\d_]*)?(?!\w)/i,/\b\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?\d[\d_]*)?(?!\w)/i],directive:{pattern:/\B#\w+/,alias:"property"},label:{pattern:/\B~\w+/,alias:"property"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"symbol"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,"operator-like-punctuation":{pattern:/\[[<>|]|[>|]\]|\{<|>\}/,alias:"punctuation"},operator:/\.[.~]|:[=>]|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/;;|::|[(){}\[\].,:;#]|\b_\b/},o.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},o.languages.python["string-interpolation"].inside["interpolation"].inside.rest=o.languages.python,o.languages.py=o.languages.python,o.languages.reason=o.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),o.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete o.languages.reason["function"],function(e){e.languages.sass=e.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),e.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete e.languages.sass.atrule;var t=/\$[-\w]+|#\{\$[-\w]+\}/,n=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];e.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:t,operator:n}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:t,operator:n,important:e.languages.sass.important}}}),delete e.languages.sass.property,delete e.languages.sass.important,e.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})}(o),o.languages.scss=o.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),o.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),o.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),o.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),o.languages.scss["atrule"].inside.rest=o.languages.scss,function(e){var t={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},n={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},r={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/\burl\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:else|for|if|return|unless)(?=\s|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:t,number:n,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:t,boolean:/\b(?:false|true)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:n,punctuation:/[{}()\[\];:,]/};r["interpolation"]={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^\{|\}$/,alias:"punctuation"},rest:r}},r["func"]={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:r}},e.languages.stylus={"atrule-declaration":{pattern:/(^[ \t]*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:r}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:r}},statement:{pattern:/(^[ \t]*)(?:else|for|if|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:r}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,]$(?!(?:\r?\n|\r)(?:\{|\2[ \t])))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:r.interpolation}},rest:r}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t])))/m,lookbehind:!0,inside:{interpolation:r.interpolation,comment:r.comment,punctuation:/[{},]/}},func:r.func,string:r.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:r.interpolation,punctuation:/[{}()\[\];:.]/}}(o),function(e){var t=e.util.clone(e.languages.typescript);e.languages.tsx=e.languages.extend("jsx",t),delete e.languages.tsx["parameter"],delete e.languages.tsx["literal-property"];var n=e.languages.tsx.tag;n.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+n.pattern.source+")",n.pattern.flags),n.lookbehind=!0}(o),o.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|neg?|nearest|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|sqrt|store(?:8|16|32)?|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^`|~]+/,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/};var a=o,s={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","atrule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},l=s,u=n("q1tI"),c=n.n(u),f={Prism:a,theme:l};function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var h=/\r\n|\r|\n/,v=function(e){0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},m=function(e,t){var n=e.length;return n>0&&e[n-1]===t?e:e.concat(t)},g=function(e){var t=[[]],n=[e],r=[0],i=[e.length],o=0,a=0,s=[],l=[s];while(a>-1){while((o=r[a]++)<i[a]){var u=void 0,c=t[a],f=n[a],p=f[o];if("string"===typeof p?(c=a>0?c:["plain"],u=p):(c=m(c,p.type),p.alias&&(c=m(c,p.alias)),u=p.content),"string"===typeof u){var d=u.split(h),g=d.length;s.push({types:c,content:d[0]});for(var y=1;y<g;y++)v(s),l.push(s=[]),s.push({types:c,content:d[y]})}else a++,t.push(c),n.push(u),r.push(0),i.push(u.length)}a--,t.pop(),n.pop(),r.pop(),i.pop()}return v(s),l},y=function(e,t){var n=e.plain,r=Object.create(null),i=e.styles.reduce((function(e,n){var r=n.languages,i=n.style;return r&&!r.includes(t)||n.types.forEach((function(t){var n=d({},e[t],i);e[t]=n})),e}),r);return i.root=n,i.plain=d({},n,{backgroundColor:null}),i};function b(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}var _=function(e){function t(){var t=this,n=[],r=arguments.length;while(r--)n[r]=arguments[r];e.apply(this,n),p(this,"getThemeDict",(function(e){if(void 0!==t.themeDict&&e.theme===t.prevTheme&&e.language===t.prevLanguage)return t.themeDict;t.prevTheme=e.theme,t.prevLanguage=e.language;var n=e.theme?y(e.theme,e.language):void 0;return t.themeDict=n})),p(this,"getLineProps",(function(e){var n=e.key,r=e.className,i=e.style,o=b(e,["key","className","style","line"]),a=o,s=d({},a,{className:"token-line",style:void 0,key:void 0}),l=t.getThemeDict(t.props);return void 0!==l&&(s.style=l.plain),void 0!==i&&(s.style=void 0!==s.style?d({},s.style,i):i),void 0!==n&&(s.key=n),r&&(s.className+=" "+r),s})),p(this,"getStyleForToken",(function(e){var n=e.types,r=e.empty,i=n.length,o=t.getThemeDict(t.props);if(void 0!==o){if(1===i&&"plain"===n[0])return r?{display:"inline-block"}:void 0;if(1===i&&!r)return o[n[0]];var a=r?{display:"inline-block"}:{},s=n.map((function(e){return o[e]}));return Object.assign.apply(Object,[a].concat(s))}})),p(this,"getTokenProps",(function(e){var n=e.key,r=e.className,i=e.style,o=e.token,a=b(e,["key","className","style","token"]),s=a,l=d({},s,{className:"token "+o.types.join(" "),children:o.content,style:t.getStyleForToken(o),key:void 0});return void 0!==i&&(l.style=void 0!==l.style?d({},l.style,i):i),void 0!==n&&(l.key=n),r&&(l.className+=" "+r),l})),p(this,"tokenize",(function(e,t,n,r){var i={code:t,grammar:n,language:r,tokens:[]};e.hooks.run("before-tokenize",i);var o=i.tokens=e.tokenize(i.code,i.grammar,i.language);return e.hooks.run("after-tokenize",i),o}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.Prism,n=e.language,r=e.code,i=e.children,o=this.getThemeDict(this.props),a=t.languages[n],s=void 0!==a?this.tokenize(t,r,a,n):[r],l=g(s);return i({tokens:l,className:"prism-code language-"+n,style:void 0!==o?o.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},t}(u["Component"]),E=_;n("qHiR"),n("z47z");function x(e,t){return A(e)||C(e,t)||S(e,t)||w()}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){if(e){if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function A(e){if(Array.isArray(e))return e}var P={acss:"css",axml:"xml"};t["a"]=function(e){var t=e.code,n=e.lang,i=e.showCopy,o=void 0===i||i,a=Object(r["useCopy"])(),s=x(a,2),l=s[0],u=s[1];return c.a.createElement("div",{className:"__dumi-default-code-block"},c.a.createElement(E,Object.assign({},f,{code:t,language:P[n]||n,theme:void 0}),(function(e){var n=e.className,r=e.style,i=e.tokens,a=e.getLineProps,s=e.getTokenProps;return c.a.createElement("pre",{className:n,style:r},o&&c.a.createElement("button",{className:"__dumi-default-icon __dumi-default-code-block-copy-btn","data-status":u,onClick:function(){return l(t)}}),i.map((function(e,t){return c.a.createElement("div",Object.assign({},a({line:e,key:t})),e.map((function(e,t){return c.a.createElement("span",Object.assign({},s({token:e,key:t})))})))})))})))}},Q7Pz:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("Sssf"),s=n("i4U9"),l=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{includes:function(e){return l(a(o(this)),(function(t,n){if(s(n,e))return l.stop()}),void 0,!0,!0).stopped}})},Q9SF:function(e,t){function n(e){if(Array.isArray(e))return e}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"QC+M":function(e,t,n){"use strict";var r=n("q1tI"),i=n("i8i4"),o=n.n(i),a=n("MNnm"),s=Object(r["forwardRef"])((function(e,t){var n=e.didUpdate,i=e.getContainer,s=e.children,l=Object(r["useRef"])(),u=Object(r["useRef"])();Object(r["useImperativeHandle"])(t,(function(){return{}}));var c=Object(r["useRef"])(!1);return!c.current&&Object(a["a"])()&&(u.current=i(),l.current=u.current.parentNode,c.current=!0),Object(r["useEffect"])((function(){null===n||void 0===n||n(e)})),Object(r["useEffect"])((function(){return null===u.current.parentNode&&null!==l.current&&l.current.appendChild(u.current),function(){var e,t;null===(e=u.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(u.current)}}),[]),u.current?o.a.createPortal(s,u.current):null}));t["a"]=s},QCTo:function(e,t,n){e.exports={wrapper:"wrapper___3dJcH",content:"content___1K1pg",text:"text___2bbfc",title:"title___1SZea",description:"description___IHgBK",buttons:"buttons___NgxL3",buttonLink:"buttonLink___1oSV2",primary:"primary___1_2E4",videoButtonWrapper:"videoButtonWrapper___3TVuG",videoButton:"videoButton___3xTEe",videoButtonIcon:"videoButtonIcon___mMzmB",videoButtonText:"videoButtonText___Yo1Y4",githubWrapper:"githubWrapper___2bVu8",notifications:"notifications___3KeBP",teaser:"teaser___1WR54",teaserimg:"teaserimg___3wz_b",backLeftBottom:"backLeftBottom___RJpzw",videoModal:"videoModal___mlo_O",more:"more___H-fBz",githubIframe:"githubIframe___1c8fx"}},QCnb:function(e,t,n){"use strict";e.exports=n("+wdc")},QFcT:function(e,t,n){var r=n("I+eb"),i=Math.hypot,o=Math.abs,a=Math.sqrt,s=!!i&&i(1/0,NaN)!==1/0;r({target:"Math",stat:!0,forced:s},{hypot:function(e,t){var n,r,i=0,s=0,l=arguments.length,u=0;while(s<l)n=o(arguments[s++]),u<n?(r=u/n,i=i*r*r+1,u=n):n>0?(r=n/u,i+=r*r):i+=n;return u===1/0?1/0:u*a(i)}})},QGkA:function(e,t,n){var r=n("RNIs");r("flat")},QGke:function(e,t,n){var r=n("z01/")["default"];function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports["default"]=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=p(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=f;var d={};function h(){}function v(){}function m(){}var g={};c(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==n&&o.call(b,s)&&(g=b);var _=m.prototype=h.prototype=Object.create(g);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,a,s,l){var u=p(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=p(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=m,c(_,"constructor",m),c(m,"constructor",v),v.displayName=c(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(x.prototype),c(x.prototype,l,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new x(f(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(_),c(_,u,"Generator"),c(_,s,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},QILm:function(e,t,n){var r=n("8OQS");function i(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},QIpd:function(e,t,n){var r=n("xrYK");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},QLLN:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("S2ku"),s=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement(a["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u4e8b\u4ef6\u540d"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Init | 'init'"),i.a.createElement("td",null,"Draw \u521d\u59cb\u5316\u5b8c\u6210\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Destroy | 'destroy'"),i.a.createElement("td",null,"Draw \u5b8c\u6210\u9500\u6bc1\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Enable | 'enable'"),i.a.createElement("td",null,"\u542f\u7528\u7ed8\u5236\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Disable | 'disable'"),i.a.createElement("td",null,"\u7981\u7528\u7ed8\u5236\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Clear | 'clear'"),i.a.createElement("td",null,"\u6e05\u7a7a\u6570\u636e\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.AddNode | 'addNode'"),i.a.createElement("td",null,"\u6dfb\u52a0\u7ed3\u70b9"),i.a.createElement("td",null,i.a.createElement("code",null,"(newNode: Feature,editFeature: Feature, featureList: Feature[]) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.RemoveNode | 'removeNode'"),i.a.createElement("td",null,"\u5220\u9664\u7ed3\u70b9"),i.a.createElement("td",null,i.a.createElement("code",null,"(removeNode: Feature,editFeature: Feature, featureList: Feature[]) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Add | 'add'"),i.a.createElement("td",null,"\u65b0\u589e\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(newFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Edit | 'edit'"),i.a.createElement("td",null,"\u7f16\u8f91(\u4f4d\u79fb\u6216\u8282\u70b9\u53d1\u751f\u53d8\u66f4)\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(editFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Remove | 'remove'"),i.a.createElement("td",null,"\u5220\u9664\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(deleteFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.DragStart | 'dragStart'"),i.a.createElement("td",null,"\u5f00\u59cb\u62d6\u62fd\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(dragFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Dragging | 'dragging'"),i.a.createElement("td",null,"\u62d6\u62fd\u4e2d\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(dragFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.DragEnd | 'dragEnd'"),i.a.createElement("td",null,"\u62d6\u62fd\u7ed3\u675f\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(dragFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Change | 'change'"),i.a.createElement("td",null,"\u7ed8\u5236\u6570\u636e\u53d1\u751f\u53d8\u66f4\u540e\u7684\u4e8b\u4ef6\uff08\u5305\u542b\u4ee5\u4e0a\u7ed8\u5236\u6570\u636e\u53d8\u52a8\u7684\u4e8b\u4ef6\uff09"),i.a.createElement("td",null,i.a.createElement("code",null,"function(featureList: Feature[])"))))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},Qc07:function(e,t,n){},QcOe:function(e,t,n){var r=n("GoyQ"),i=n("6sVZ"),o=n("7Ix3"),a=Object.prototype,s=a.hasOwnProperty;function l(e){if(!r(e))return o(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}e.exports=l},Qfp8:function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol["for"],i=r?Symbol["for"]("react.element"):60103,o=r?Symbol["for"]("react.portal"):60106,a=r?Symbol["for"]("react.fragment"):60107,s=r?Symbol["for"]("react.strict_mode"):60108,l=r?Symbol["for"]("react.profiler"):60114,u=r?Symbol["for"]("react.provider"):60109,c=r?Symbol["for"]("react.context"):60110,f=r?Symbol["for"]("react.async_mode"):60111,p=r?Symbol["for"]("react.concurrent_mode"):60111,d=r?Symbol["for"]("react.forward_ref"):60112,h=r?Symbol["for"]("react.suspense"):60113,v=r?Symbol["for"]("react.suspense_list"):60120,m=r?Symbol["for"]("react.memo"):60115,g=r?Symbol["for"]("react.lazy"):60116,y=r?Symbol["for"]("react.block"):60121,b=r?Symbol["for"]("react.fundamental"):60117,_=r?Symbol["for"]("react.responder"):60118,E=r?Symbol["for"]("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type,e){case f:case p:case a:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof,e){case c:case d:case g:case m:case u:return e;default:return t}}case o:return t}}}function w(e){return x(e)===p}t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||x(e)===f},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===l},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===p||e===l||e===s||e===h||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===E||e.$$typeof===y)},t.typeOf=x},QkVE:function(e,t,n){var r=n("EpBk");function i(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}e.exports=i},QkVN:function(e,t,n){var r=n("+Qka"),i=n("LsHQ"),o=i((function(e,t,n){r(e,t,n)}));e.exports=o},Qo3T:function(e,t,n){"use strict";(function(e){var r;n.d(t,"a",(function(){return i}));var i,o=function(){return r||(r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{})};r=o(),i="undefined"===typeof window?{devicePixelRatio:1,navigator:{userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36",browserLanguage:"zh-CN",language:"zh-CN",platform:""},location:"",document:{documentElement:{style:{}},createEvent:function(){return!0},getElementById:function(e){return!0},createElement:function(){return{className:"",classList:{add:function(){return""}}}},createElementNS:function(){return!0},addEventListener:function(){return!0},removeEventListener:function(){return!0},querySelector:function(){return!1}},performance:{mark:function(e){return null},clearMeasures:function(e){return null},clearMarks:function(e){return null},measure:function(e,t,n){return{duration:0}},now:function(){return(new Date).getTime()}},Blob:"",dispatchEvent:function(e){return!0},Event:function(e,t){return!0},createElement:function(){return!0},createElementNS:function(){return!0},XMLHttpRequest:function(){return!0},addEventListener:function(){return!0},removeEventListener:function(){return!0},requestAnimationFrame:function(){return!0},cancelAnimationFrame:function(){return!0},clearTimeout:function(){return!0}}:window}).call(this,n("IyRk"))},Qo9l:function(e,t,n){var r=n("2oRo");e.exports=r},QoRX:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}e.exports=n},QqLw:function(e,t,n){var r=n("tadb"),i=n("ebwN"),o=n("HOxn"),a=n("yGk4"),s=n("Of+w"),l=n("NykK"),u=n("3Fdi"),c="[object Map]",f="[object Object]",p="[object Promise]",d="[object Set]",h="[object WeakMap]",v="[object DataView]",m=u(r),g=u(i),y=u(o),b=u(a),_=u(s),E=l;(r&&E(new r(new ArrayBuffer(1)))!=v||i&&E(new i)!=c||o&&E(o.resolve())!=p||a&&E(new a)!=d||s&&E(new s)!=h)&&(E=function(e){var t=l(e),n=t==f?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return v;case g:return c;case y:return p;case b:return d;case _:return h}return t}),e.exports=E},Qr6d:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawLine"](e,{adsorbOptions:{}});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},Qw5x:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}n.d(t,"a",(function(){return i}))},"R/W3":function(e,t,n){var r=n("KwMD"),i=n("2ajD"),o=n("CZoQ");function a(e,t,n){return t===t?o(e,t,n):r(e,i,n)}e.exports=a},"R3/m":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("A2ZE"),s=n("Sssf"),l=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{every:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return!l(n,(function(e,n){if(!r(n,e,t))return l.stop()}),void 0,!0,!0).stopped}})},R5yR:function(e,t,n){var r=n("9xmf"),i=n("rhT+"),o=n("mGKP"),a=n("XWE6");function s(e){return r(e)||i(e)||o(e)||a()}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},RCn3:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["polygon-midpoint"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["polygon-midpoint"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},RIqP:function(e,t,n){var r=n("Ijbi"),i=n("EbDI"),o=n("ZhPi"),a=n("Bnag");function s(e){return r(e)||i(e)||o(e)||a()}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},RK3t:function(e,t,n){var r=n("0Dky"),i=n("xrYK"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},RLBd:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawPoint"](e,{multiple:!1});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},RN6c:function(e,t,n){var r=n("2oRo");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},RNIs:function(e,t,n){var r=n("tiKp"),i=n("fHMY"),o=n("m/L8"),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},ROdP:function(e,t,n){var r=n("hh1v"),i=n("xrYK"),o=n("tiKp"),a=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},"RR/i":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n("xfSm"),i=n("GXnB"),o=function e(t,n){var r=t.parentRequest;return null!==r&&(!!n(r)||e(r,n))};t.traverseAncerstors=o;var a=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=a;var s=a(r.NAMED_TAG);t.namedConstraint=s;var l=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"===typeof e){var r=n.serviceIdentifier;return r===e}var i=t.bindings[0].implementationType;return e===i}return!1}};t.typeConstraint=l},Rm1S:function(e,t,n){"use strict";var r=n("14Sl"),i=n("glrk"),o=n("UMSQ"),a=n("HYAF"),s=n("iqWW"),l=n("FMNM");r("match",1,(function(e,t,n){return[function(t){var n=a(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),u=String(this);if(!a.global)return l(a,u);var c=a.unicode;a.lastIndex=0;var f,p=[],d=0;while(null!==(f=l(a,u))){var h=String(f[0]);p[d]=h,""===h&&(a.lastIndex=s(u,o(a.lastIndex),c)),d++}return 0===d?null:p}]}))},S2ku:function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),o=n("hKI/"),a=n.n(o);n("catJ");function s(e,t){return p(e)||f(e,t)||u(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function p(e){if(Array.isArray(e))return e}var d=function(e){var t=e.children,n=Object(r["useRef"])(),o=Object(r["useState"])(!1),l=s(o,2),u=l[0],c=l[1],f=Object(r["useState"])(!1),p=s(f,2),d=p[0],h=p[1];return Object(r["useEffect"])((function(){var e=n.current,t=a()((function(){c(e.scrollLeft>0),h(e.scrollLeft<e.scrollWidth-e.offsetWidth)}),100);return t(),e.addEventListener("scroll",t),window.addEventListener("resize",t),function(){e.removeEventListener("scroll",t),window.removeEventListener("resize",t)}}),[]),i.a.createElement("div",{className:"__dumi-default-table"},i.a.createElement("div",{className:"__dumi-default-table-content",ref:n,"data-left-folded":u||void 0,"data-right-folded":d||void 0},i.a.createElement("table",null,t)))};t["a"]=d},SEBh:function(e,t,n){var r=n("glrk"),i=n("HAuM"),o=n("tiKp"),a=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},SL6q:function(e,t,n){var r=n("I+eb"),i=n("voyM"),o=n("vo4V");r({target:"Math",stat:!0},{fscale:function(e,t,n,r,a){return o(i(e,t,n,r,a))}})},STAE:function(e,t,n){var r=n("0Dky");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},SUU4:function(e,t,n){(function(t,r){e.exports=r(n("szb8"))})(0,(function(e){"use strict";var t=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},n=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},r="\n";function i(e){return"undefined"!==typeof atob?atob(e):"base64:"+e}function o(e){var t=new Error("(regl) "+e);throw console.error(t),t}function a(e,t){e||o(t)}function s(e){return e?": "+e:""}function l(e,t,n){e in t||o("unknown parameter ("+e+")"+s(n)+". possible values: "+Object.keys(t).join())}function u(e,n){t(e)||o("invalid parameter type"+s(n)+". must be a typed array")}function c(e,t){switch(t){case"number":return"number"===typeof e;case"object":return"object"===typeof e;case"string":return"string"===typeof e;case"boolean":return"boolean"===typeof e;case"function":return"function"===typeof e;case"undefined":return"undefined"===typeof e;case"symbol":return"symbol"===typeof e}}function f(e,t,n){c(e,t)||o("invalid parameter type"+s(n)+". expected "+t+", got "+typeof e)}function p(e,t){e>=0&&(0|e)===e||o("invalid parameter type, ("+e+")"+s(t)+". must be a nonnegative integer")}function d(e,t,n){t.indexOf(e)<0&&o("invalid value"+s(n)+". must be one of: "+t)}var h=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function v(e){Object.keys(e).forEach((function(e){h.indexOf(e)<0&&o('invalid regl constructor argument "'+e+'". must be one of '+h)}))}function m(e,t){e+="";while(e.length<t)e=" "+e;return e}function g(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(e,t){this.number=e,this.line=t,this.errors=[]}function b(e,t,n){this.file=e,this.line=t,this.message=n}function _(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function E(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function x(e,t){var n=e.split("\n"),r=1,o=0,a={unknown:new g,0:new g};a.unknown.name=a[0].name=t||_(),a.unknown.lines.push(new y(0,""));for(var s=0;s<n.length;++s){var l=n[s],u=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(l);if(u)switch(u[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(u[2]);c&&(r=0|c[1],c[2]&&(o=0|c[2],o in a||(a[o]=new g)));break;case"define":var f=/SHADER_NAME(_B64)?\s+(.*)$/.exec(u[2]);f&&(a[o].name=f[1]?i(f[2]):f[2]);break}a[o].lines.push(new y(r++,l))}return Object.keys(a).forEach((function(e){var t=a[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),a}function w(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new b(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new b("unknown",0,e))}})),t}function S(e,t){t.forEach((function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}function O(e,t,n,i,o){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),l=i===e.FRAGMENT_SHADER?"fragment":"vertex";L(n,"string",l+" shader source must be a string",o);var u=x(n,o),c=w(s);S(u,c),Object.keys(u).forEach((function(e){var t=u[e];if(t.hasErrors){var n=[""],i=[""];o("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){o(m(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(e.line+r,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(n){var i=n.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(a){var s=a[1];switch(i=a[2],s){case"assign":s="=";break}t=Math.max(e.line.indexOf(s,t),0)}else t=0;o(m("| ",6)),o(m("^^^",t+3)+r,"font-weight:bold"),o(m("| ",6)),o(i+r,"font-weight:bold")})),o(m("| ",6)+r)}else o(m(e.number,4)+"|  "),o(e.line+r,"color:red")})),"undefined"===typeof document||window.chrome?console.log(n.join("")):(i[0]=n.join("%c"),console.log.apply(console,i))}function o(e,t){n.push(e),i.push(t||"")}})),a.raise("Error compiling "+l+" shader, "+u[0].name)}}function C(e,t,n,i,o){if(!e.getProgramParameter(t,e.LINK_STATUS)){var s=e.getProgramInfoLog(t),l=x(n,o),u=x(i,o),c='Error linking program with vertex shader, "'+u[0].name+'", and fragment shader "'+l[0].name+'"';"undefined"!==typeof document?console.log("%c"+c+r+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(c+r+s),a.raise(c)}}function A(e){e._commandRef=_()}function P(e,t,n,r){function i(e){return e?r.id(e):0}function o(e,t){Object.keys(t).forEach((function(t){e[r.id(t)]=!0}))}A(e),e._fragId=i(e["static"].frag),e._vertId=i(e["static"].vert);var a=e._uniformSet={};o(a,t["static"]),o(a,t.dynamic);var s=e._attributeSet={};o(s,n["static"]),o(s,n.dynamic),e._hasCount="count"in e["static"]||"count"in e.dynamic||"elements"in e["static"]||"elements"in e.dynamic}function k(e,t){var n=E();o(e+" in command "+(t||_())+("unknown"===n?"":" called from "+n))}function M(e,t,n){e||k(t,n||_())}function T(e,t,n,r){e in t||k("unknown parameter ("+e+")"+s(n)+". possible values: "+Object.keys(t).join(),r||_())}function L(e,t,n,r){c(e,t)||k("invalid parameter type"+s(n)+". expected "+t+", got "+typeof e,r||_())}function I(e){e()}function D(e,t,n){e.texture?d(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):d(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var R=33071,N=9728,j=9984,F=9985,B=9986,U=9987,z=5120,H=5121,V=5122,G=5123,W=5124,q=5125,Y=5126,X=32819,K=32820,Z=33635,Q=34042,J=36193,$={};function ee(e,t){return e===K||e===X||e===Z?2:e===Q?4:$[e]*t}function te(e){return!(e&e-1)&&!!e}function ne(e,t,n){var r,i=t.width,o=t.height,s=t.channels;a(i>0&&i<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,"invalid texture shape"),e.wrapS===R&&e.wrapT===R||a(te(i)&&te(o),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==o&&a(e.minFilter!==j&&e.minFilter!==B&&e.minFilter!==F&&e.minFilter!==U,"min filter requires mipmap"):(a(te(i)&&te(o),"texture must be a square power of 2 to support mipmapping"),a(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),t.type===Y&&(n.extensions.indexOf("oes_texture_float_linear")<0&&a(e.minFilter===N&&e.magFilter===N,"filter not supported, must enable oes_texture_float_linear"),a(!e.genMipmaps,"mipmap generation not supported with float textures"));var l=t.images;for(r=0;r<16;++r)if(l[r]){var u=i>>r,c=o>>r;a(t.mipmask&1<<r,"missing mipmap data");var f=l[r];if(a(f.width===u&&f.height===c,"invalid shape for mip images"),a(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed);else if(f.data){var p=Math.ceil(ee(f.type,s)*u/f.unpackAlignment)*f.unpackAlignment;a(f.data.byteLength===p*c,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else e.genMipmaps||a(0===(t.mipmask&1<<r),"extra mipmap data");t.compressed&&a(!e.genMipmaps,"mipmap generation for compressed images not supported")}function re(e,t,n,r){var i=e.width,o=e.height,s=e.channels;a(i>0&&i<=r.maxTextureSize&&o>0&&o<=r.maxTextureSize,"invalid texture shape"),a(i===o,"cube map must be square"),a(t.wrapS===R&&t.wrapT===R,"wrap mode not supported by cube map");for(var l=0;l<n.length;++l){var u=n[l];a(u.width===i&&u.height===o,"inconsistent cube map face shape"),t.genMipmaps&&(a(!u.compressed,"can not generate mipmap for compressed textures"),a(1===u.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=u.images,f=0;f<16;++f){var p=c[f];if(p){var d=i>>f,h=o>>f;a(u.mipmask&1<<f,"missing mipmap data"),a(p.width===d&&p.height===h,"invalid shape for mip images"),a(p.format===e.format&&p.internalformat===e.internalformat&&p.type===e.type,"incompatible type for mip image"),p.compressed||(p.data?a(p.data.byteLength===d*h*Math.max(ee(p.type,s),p.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):p.element||p.copy)}}}}$[z]=$[H]=1,$[V]=$[G]=$[J]=$[Z]=$[X]=$[K]=2,$[W]=$[q]=$[Y]=$[Q]=4;var ie=n(a,{optional:I,raise:o,commandRaise:k,command:M,parameter:l,commandParameter:T,constructor:v,type:f,commandType:L,isTypedArray:u,nni:p,oneOf:d,shaderError:O,linkError:C,callSite:E,saveCommandRef:A,saveDrawInfo:P,framebufferFormat:D,guessCommand:_,texture2D:ne,textureCube:re}),oe=0,ae=0,se=5,le=6;function ue(e,t){this.id=oe++,this.type=e,this.data=t}function ce(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function fe(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+ce(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return fe(e.substr(0,r.index)).concat(fe(r[1])).concat(fe(e.substr(r.index+r[0].length)));var i=e.split(".");if(1===i.length)return['"'+ce(e)+'"'];for(var o=[],a=0;a<i.length;++a)o=o.concat(fe(i[a]));return o}function pe(e){return"["+fe(e).join("][")+"]"}function de(e,t){return new ue(e,pe(t+""))}function he(e){return"function"===typeof e&&!e._reglType||e instanceof ue}function ve(e,t){return"function"===typeof e?new ue(ae,e):"number"===typeof e||"boolean"===typeof e?new ue(se,e):Array.isArray(e)?new ue(le,e.map((function(e,n){return ve(e,t+"["+n+"]")}))):e instanceof ue?e:void ie(!1,"invalid option type in uniform "+t)}var me={DynamicVariable:ue,define:de,isDynamic:he,unbox:ve,accessor:pe},ge={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},ye="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM,be=ye?function(){return+new Date}:"undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function _e(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}function Ee(e,t,r){var i,o=document.createElement("canvas");function a(){var t=window.innerWidth,n=window.innerHeight;if(e!==document.body){var i=o.getBoundingClientRect();t=i.right-i.left,n=i.bottom-i.top}o.width=r*t,o.height=r*n}function s(){i?i.disconnect():window.removeEventListener("resize",a),e.removeChild(o)}return n(o.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),e.appendChild(o),e===document.body&&(o.style.position="absolute",n(e.style,{margin:0,padding:0})),e!==document.body&&"function"===typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(a)})),i.observe(e)):window.addEventListener("resize",a,!1),a(),{canvas:o,onDestroy:s}}function xe(e,t){function n(n){try{return e.getContext(n,t)}catch(r){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function we(e){return"string"===typeof e.nodeName&&"function"===typeof e.appendChild&&"function"===typeof e.getBoundingClientRect}function Se(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}function Oe(e){return"string"===typeof e?e.split():(ie(Array.isArray(e),"invalid extension array"),e)}function Ce(e){return"string"===typeof e?(ie("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function Ae(e){var t,n,r,i,o=e||{},a={},s=[],l=[],u="undefined"===typeof window?1:window.devicePixelRatio,c=!1,f=function(e){e&&ie.raise(e)},p=function(){};if("string"===typeof o?(ie("undefined"!==typeof document,"selector queries only supported in DOM environments"),t=document.querySelector(o),ie(t,"invalid query string for element")):"object"===typeof o?we(o)?t=o:Se(o)?(i=o,r=i.canvas):(ie.constructor(o),"gl"in o?i=o.gl:"canvas"in o?r=Ce(o.canvas):"container"in o&&(n=Ce(o.container)),"attributes"in o&&(a=o.attributes,ie.type(a,"object","invalid context attributes")),"extensions"in o&&(s=Oe(o.extensions)),"optionalExtensions"in o&&(l=Oe(o.optionalExtensions)),"onDone"in o&&(ie.type(o.onDone,"function","invalid or missing onDone callback"),f=o.onDone),"profile"in o&&(c=!!o.profile),"pixelRatio"in o&&(u=+o.pixelRatio,ie(u>0,"invalid pixel ratio"))):ie.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?r=t:n=t),!i){if(!r){ie("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var d=Ee(n||document.body,f,u);if(!d)return null;r=d.canvas,p=d.onDestroy}void 0===a.premultipliedAlpha&&(a.premultipliedAlpha=!0),i=xe(r,a)}return i?{gl:i,canvas:r,container:n,extensions:s,optionalExtensions:l,pixelRatio:u,profile:c,onDone:f,onDestroy:p}:(p(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Pe(e,t){var n={};function r(e){ie.type(e,"string","extension name must be string");var t,r=e.toLowerCase();try{t=n[r]=i(e)}catch(o){}return!!t}function i(t){return e.getExtension(t)?e.getExtension(t):e.getExtension(t.toLowerCase())?e.getExtension(t.toLowerCase()):null}for(var o=0;o<t.extensions.length;++o){var a=t.extensions[o];if(!r(a))return t.onDestroy(),t.onDone('"'+a+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)}))}}}function ke(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var Me=5120,Te=5121,Le=5122,Ie=5123,De=5124,Re=5125,Ne=5126;function je(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function Fe(e){var t,n;return t=(e>65535)<<4,e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,t|=n,t|e>>1}function Be(){var e=ke(8,(function(){return[]}));function t(t){var n=je(t),r=e[Fe(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[Fe(t.byteLength)>>2].push(t)}function r(e,n){var r=null;switch(e){case Me:r=new Int8Array(t(n),0,n);break;case Te:r=new Uint8Array(t(n),0,n);break;case Le:r=new Int16Array(t(2*n),0,n);break;case Ie:r=new Uint16Array(t(2*n),0,n);break;case De:r=new Int32Array(t(4*n),0,n);break;case Re:r=new Uint32Array(t(4*n),0,n);break;case Ne:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r}function i(e){n(e.buffer)}return{alloc:t,free:n,allocType:r,freeType:i}}var Ue=Be();Ue.zero=Be();var ze=3408,He=3410,Ve=3411,Ge=3412,We=3413,qe=3414,Ye=3415,Xe=33901,Ke=33902,Ze=3379,Qe=3386,Je=34921,$e=36347,et=36348,tt=35661,nt=35660,rt=34930,it=36349,ot=34076,at=34024,st=7936,lt=7937,ut=7938,ct=35724,ft=34047,pt=36063,dt=34852,ht=3553,vt=34067,mt=34069,gt=33984,yt=6408,bt=5126,_t=5121,Et=36160,xt=36053,wt=36064,St=16384,Ot=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(ft));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(dt),i=e.getParameter(pt));var o=!!t.oes_texture_float;if(o){var a=e.createTexture();e.bindTexture(ht,a),e.texImage2D(ht,0,yt,1,1,0,yt,bt,null);var s=e.createFramebuffer();if(e.bindFramebuffer(Et,s),e.framebufferTexture2D(Et,wt,ht,a,0),e.bindTexture(ht,null),e.checkFramebufferStatus(Et)!==xt)o=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(St);var l=Ue.allocType(bt,4);e.readPixels(0,0,1,1,yt,bt,l),e.getError()?o=!1:(e.deleteFramebuffer(s),e.deleteTexture(a),o=1===l[0]),Ue.freeType(l)}}var u="undefined"!==typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),c=!0;if(!u){var f=e.createTexture(),p=Ue.allocType(_t,36);e.activeTexture(gt),e.bindTexture(vt,f),e.texImage2D(mt,0,yt,3,3,0,yt,_t,p),Ue.freeType(p),e.bindTexture(vt,null),e.deleteTexture(f),c=!e.getError()}return{colorBits:[e.getParameter(He),e.getParameter(Ve),e.getParameter(Ge),e.getParameter(We)],depthBits:e.getParameter(qe),stencilBits:e.getParameter(Ye),subpixelBits:e.getParameter(ze),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(Xe),lineWidthDims:e.getParameter(Ke),maxViewportDims:e.getParameter(Qe),maxCombinedTextureUnits:e.getParameter(tt),maxCubeMapSize:e.getParameter(ot),maxRenderbufferSize:e.getParameter(at),maxTextureUnits:e.getParameter(rt),maxTextureSize:e.getParameter(Ze),maxAttributes:e.getParameter(Je),maxVertexUniforms:e.getParameter($e),maxVertexTextureUnits:e.getParameter(nt),maxVaryingVectors:e.getParameter(et),maxFragmentUniforms:e.getParameter(it),glsl:e.getParameter(ct),renderer:e.getParameter(lt),vendor:e.getParameter(st),version:e.getParameter(ut),readFloat:o,npotTextureCube:c}};function Ct(e){return!!e&&"object"===typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"===typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||t(e.data))}var At=function(e){return Object.keys(e).map((function(t){return e[t]}))},Pt={shape:Dt,flatten:It};function kt(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}function Mt(e,t,n,r){for(var i=0,o=0;o<t;++o)for(var a=e[o],s=0;s<n;++s)r[i++]=a[s]}function Tt(e,t,n,r,i,o){for(var a=o,s=0;s<t;++s)for(var l=e[s],u=0;u<n;++u)for(var c=l[u],f=0;f<r;++f)i[a++]=c[f]}function Lt(e,t,n,r,i){for(var o=1,a=n+1;a<t.length;++a)o*=t[a];var s=t[n];if(t.length-n===4){var l=t[n+1],u=t[n+2],c=t[n+3];for(a=0;a<s;++a)Tt(e[a],l,u,c,r,i),i+=o}else for(a=0;a<s;++a)Lt(e[a],t,n+1,r,i),i+=o}function It(e,t,n,r){var i=1;if(t.length)for(var o=0;o<t.length;++o)i*=t[o];else i=0;var a=r||Ue.allocType(n,i);switch(t.length){case 0:break;case 1:kt(e,t[0],a);break;case 2:Mt(e,t[0],t[1],a);break;case 3:Tt(e,t[0],t[1],t[2],a,0);break;default:Lt(e,t,0,a,0)}return a}function Dt(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}var Rt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Nt=5120,jt=5122,Ft=5124,Bt=5121,Ut=5123,zt=5125,Ht=5126,Vt=5126,Gt={int8:Nt,int16:jt,int32:Ft,uint8:Bt,uint16:Ut,uint32:zt,float:Ht,float32:Vt},Wt=35048,qt=35040,Yt={dynamic:Wt,stream:qt,static:35044},Xt=Pt.flatten,Kt=Pt.shape,Zt=35044,Qt=35040,Jt=5121,$t=5126,en=[];function tn(e){return 0|Rt[Object.prototype.toString.call(e)]}function nn(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function rn(e,t,n,r,i,o,a){for(var s=0,l=0;l<n;++l)for(var u=0;u<r;++u)e[s++]=t[i*l+o*u+a]}function on(e,n,r,i){var o=0,a={};function s(t){this.id=o++,this.buffer=e.createBuffer(),this.type=t,this.usage=Zt,this.byteLength=0,this.dimension=1,this.dtype=Jt,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){d(this)};var l=[];function u(e,t){var n=l.pop();return n||(n=new s(e)),n.bind(),p(n,t,Qt,0,1,!1),n}function c(e){l.push(e)}function f(t,n,r){t.byteLength=n.byteLength,e.bufferData(t.type,n,r)}function p(e,n,r,i,o,a){var s,l;if(e.usage=r,Array.isArray(n)){if(e.dtype=i||$t,n.length>0)if(Array.isArray(n[0])){s=Kt(n);for(var u=1,c=1;c<s.length;++c)u*=s[c];e.dimension=u,l=Xt(n,s,e.dtype),f(e,l,r),a?e.persistentData=l:Ue.freeType(l)}else if("number"===typeof n[0]){e.dimension=o;var p=Ue.allocType(e.dtype,n.length);nn(p,n),f(e,p,r),a?e.persistentData=p:Ue.freeType(p)}else t(n[0])?(e.dimension=n[0].length,e.dtype=i||tn(n[0])||$t,l=Xt(n,[n.length,n[0].length],e.dtype),f(e,l,r),a?e.persistentData=l:Ue.freeType(l)):ie.raise("invalid buffer data")}else if(t(n))e.dtype=i||tn(n),e.dimension=o,f(e,n,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(Ct(n)){s=n.shape;var d=n.stride,h=n.offset,v=0,m=0,g=0,y=0;1===s.length?(v=s[0],m=1,g=d[0],y=0):2===s.length?(v=s[0],m=s[1],g=d[0],y=d[1]):ie.raise("invalid shape"),e.dtype=i||tn(n.data)||$t,e.dimension=m;var b=Ue.allocType(e.dtype,v*m);rn(b,n.data,v,m,g,y,h),f(e,b,r),a?e.persistentData=b:Ue.freeType(b)}else n instanceof ArrayBuffer?(e.dtype=Jt,e.dimension=o,f(e,n,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(n)))):ie.raise("invalid buffer data")}function d(t){n.bufferCount--,i(t);var r=t.buffer;ie(r,"buffer must not be deleted already"),e.deleteBuffer(r),t.buffer=null,delete a[t.id]}function h(i,o,l,u){n.bufferCount++;var c=new s(o);function f(n){var i=Zt,o=null,a=0,s=0,l=1;return Array.isArray(n)||t(n)||Ct(n)||n instanceof ArrayBuffer?o=n:"number"===typeof n?a=0|n:n&&(ie.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(ie(null===o||Array.isArray(o)||t(o)||Ct(o),"invalid data for buffer"),o=n.data),"usage"in n&&(ie.parameter(n.usage,Yt,"invalid buffer usage"),i=Yt[n.usage]),"type"in n&&(ie.parameter(n.type,Gt,"invalid buffer type"),s=Gt[n.type]),"dimension"in n&&(ie.type(n.dimension,"number","invalid dimension"),l=0|n.dimension),"length"in n&&(ie.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),c.bind(),o?p(c,o,i,s,l,u):(a&&e.bufferData(c.type,a,i),c.dtype=s||Jt,c.usage=i,c.dimension=l,c.byteLength=a),r.profile&&(c.stats.size=c.byteLength*en[c.dtype]),f}function h(t,n){ie(n+t.byteLength<=c.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+n+" to a buffer of size "+c.byteLength),e.bufferSubData(c.type,n,t)}function v(e,n){var r,i=0|(n||0);if(c.bind(),t(e)||e instanceof ArrayBuffer)h(e,i);else if(Array.isArray(e)){if(e.length>0)if("number"===typeof e[0]){var o=Ue.allocType(c.dtype,e.length);nn(o,e),h(o,i),Ue.freeType(o)}else if(Array.isArray(e[0])||t(e[0])){r=Kt(e);var a=Xt(e,r,c.dtype);h(a,i),Ue.freeType(a)}else ie.raise("invalid buffer data")}else if(Ct(e)){r=e.shape;var s=e.stride,l=0,u=0,p=0,d=0;1===r.length?(l=r[0],u=1,p=s[0],d=0):2===r.length?(l=r[0],u=r[1],p=s[0],d=s[1]):ie.raise("invalid shape");var v=Array.isArray(e.data)?c.dtype:tn(e.data),m=Ue.allocType(v,l*u);rn(m,e.data,l,u,p,d,e.offset),h(m,i),Ue.freeType(m)}else ie.raise("invalid data for buffer subdata");return f}return a[c.id]=c,l||f(i),f._reglType="buffer",f._buffer=c,f.subdata=v,r.profile&&(f.stats=c.stats),f.destroy=function(){d(c)},f}function v(){At(a).forEach((function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)}))}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(a).forEach((function(t){e+=a[t].stats.size})),e}),{create:h,createStream:u,destroyStream:c,clear:function(){At(a).forEach(d),l.forEach(d)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:v,_initBuffer:p}}en[5120]=1,en[5122]=2,en[5124]=4,en[5121]=1,en[5123]=2,en[5125]=4,en[5126]=4;var an=0,sn=0,ln=1,un=1,cn=4,fn=4,pn={points:an,point:sn,lines:ln,line:un,triangles:cn,triangle:fn,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},dn=0,hn=1,vn=4,mn=5120,gn=5121,yn=5122,bn=5123,_n=5124,En=5125,xn=34963,wn=35040,Sn=35044;function On(e,n,r,i){var o={},a=0,s={uint8:gn,uint16:bn};function l(e){this.id=a++,o[this.id]=this,this.buffer=e,this.primType=vn,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=En),l.prototype.bind=function(){this.buffer.bind()};var u=[];function c(e){var t=u.pop();return t||(t=new l(r.create(null,xn,!0,!1)._buffer)),p(t,e,wn,-1,-1,0,0),t}function f(e){u.push(e)}function p(i,o,a,s,l,u,c){var f;if(i.buffer.bind(),o){var p=c;c||t(o)&&(!Ct(o)||t(o.data))||(p=n.oes_element_index_uint?En:bn),r._initBuffer(i.buffer,o,a,p,3)}else e.bufferData(xn,u,a),i.buffer.dtype=f||gn,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=u;if(f=c,!c){switch(i.buffer.dtype){case gn:case mn:f=gn;break;case bn:case yn:f=bn;break;case En:case _n:f=En;break;default:ie.raise("unsupported type for element array")}i.buffer.dtype=f}i.type=f,ie(f!==En||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var d=l;d<0&&(d=i.buffer.byteLength,f===bn?d>>=1:f===En&&(d>>=2)),i.vertCount=d;var h=s;if(s<0){h=vn;var v=i.buffer.dimension;1===v&&(h=dn),2===v&&(h=hn),3===v&&(h=vn)}i.primType=h}function d(e){i.elementsCount--,ie(null!==e.buffer,"must not double destroy elements"),delete o[e.id],e.buffer.destroy(),e.buffer=null}function h(e,n){var o=r.create(null,xn,!0),a=new l(o._buffer);function u(e){if(e)if("number"===typeof e)o(e),a.primType=vn,a.vertCount=0|e,a.type=gn;else{var n=null,r=Sn,i=-1,l=-1,c=0,f=0;Array.isArray(e)||t(e)||Ct(e)?n=e:(ie.type(e,"object","invalid arguments for elements"),"data"in e&&(n=e.data,ie(Array.isArray(n)||t(n)||Ct(n),"invalid data for element buffer")),"usage"in e&&(ie.parameter(e.usage,Yt,"invalid element buffer usage"),r=Yt[e.usage]),"primitive"in e&&(ie.parameter(e.primitive,pn,"invalid element buffer primitive"),i=pn[e.primitive]),"count"in e&&(ie("number"===typeof e.count&&e.count>=0,"invalid vertex count for elements"),l=0|e.count),"type"in e&&(ie.parameter(e.type,s,"invalid buffer type"),f=s[e.type]),"length"in e?c=0|e.length:(c=l,f===bn||f===yn?c*=2:f!==En&&f!==_n||(c*=4))),p(a,n,r,i,l,c,f)}else o(),a.primType=vn,a.vertCount=0,a.type=gn;return u}return i.elementsCount++,u(e),u._reglType="elements",u._elements=a,u.subdata=function(e,t){return o.subdata(e,t),u},u.destroy=function(){d(a)},u}return{create:h,createStream:c,destroyStream:f,getElements:function(e){return"function"===typeof e&&e._elements instanceof l?e._elements:null},clear:function(){At(o).forEach(d)}}}var Cn=new Float32Array(1),An=new Uint32Array(Cn.buffer),Pn=5123;function kn(e){for(var t=Ue.allocType(Pn,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{Cn[0]=e[n];var r=An[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)t[n]=i;else if(o<-14){var s=-14-o;t[n]=i+(a+1024>>s)}else t[n]=o>15?i+31744:i+(o+15<<10)+a}return t}function Mn(e){return Array.isArray(e)||t(e)}var Tn=function(e){return!(e&e-1)&&!!e},Ln=34467,In=3553,Dn=34067,Rn=34069,Nn=6408,jn=6406,Fn=6407,Bn=6409,Un=6410,zn=32854,Hn=32855,Vn=36194,Gn=32819,Wn=32820,qn=33635,Yn=34042,Xn=6402,Kn=34041,Zn=35904,Qn=35906,Jn=36193,$n=33776,er=33777,tr=33778,nr=33779,rr=35986,ir=35987,or=34798,ar=35840,sr=35841,lr=35842,ur=35843,cr=36196,fr=5121,pr=5123,dr=5125,hr=5126,vr=10242,mr=10243,gr=10497,yr=33071,br=33648,_r=10240,Er=10241,xr=9728,wr=9729,Sr=9984,Or=9985,Cr=9986,Ar=9987,Pr=33170,kr=4352,Mr=4353,Tr=4354,Lr=34046,Ir=3317,Dr=37440,Rr=37441,Nr=37443,jr=37444,Fr=33984,Br=[Sr,Cr,Or,Ar],Ur=[0,Bn,Un,Fn,Nn],zr={};function Hr(e){return"[object "+e+"]"}zr[Bn]=zr[jn]=zr[Xn]=1,zr[Kn]=zr[Un]=2,zr[Fn]=zr[Zn]=3,zr[Nn]=zr[Qn]=4;var Vr=Hr("HTMLCanvasElement"),Gr=Hr("OffscreenCanvas"),Wr=Hr("CanvasRenderingContext2D"),qr=Hr("ImageBitmap"),Yr=Hr("HTMLImageElement"),Xr=Hr("HTMLVideoElement"),Kr=Object.keys(Rt).concat([Vr,Gr,Wr,qr,Yr,Xr]),Zr=[];Zr[fr]=1,Zr[hr]=4,Zr[Jn]=2,Zr[pr]=2,Zr[dr]=4;var Qr=[];function Jr(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function $r(e){if(!Array.isArray(e))return!1;var t=e.length;return!(0===t||!Mn(e[0]))}function ei(e){return Object.prototype.toString.call(e)}function ti(e){return ei(e)===Vr}function ni(e){return ei(e)===Gr}function ri(e){return ei(e)===Wr}function ii(e){return ei(e)===qr}function oi(e){return ei(e)===Yr}function ai(e){return ei(e)===Xr}function si(e){var t="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM;return!!(t&&e&&e.getContext)}function li(e){var t="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM;return!!(t&&e&&"src"in e&&"crossOrigin"in e)}function ui(e){if(!e)return!1;if(si(e)||li(e))return!0;var t=ei(e);return Kr.indexOf(t)>=0||(Jr(e)||$r(e)||Ct(e))}function ci(e){return 0|Rt[Object.prototype.toString.call(e)]}function fi(e,t){var n=t.length;switch(e.type){case fr:case pr:case dr:case hr:var r=Ue.allocType(e.type,n);r.set(t),e.data=r;break;case Jn:e.data=kn(t);break;default:ie.raise("unsupported texture type, must specify a typed array")}}function pi(e,t){return Ue.allocType(e.type===Jn?hr:e.type,t)}function di(e,t){e.type===Jn?(e.data=kn(t),Ue.freeType(t)):e.data=t}function hi(e,t,n,r,i,o){for(var a=e.width,s=e.height,l=e.channels,u=a*s*l,c=pi(e,u),f=0,p=0;p<s;++p)for(var d=0;d<a;++d)for(var h=0;h<l;++h)c[f++]=t[n*d+r*p+i*h+o];di(e,c)}function vi(e,t,n,r,i,o){var a;if(a="undefined"!==typeof Qr[e]?Qr[e]:zr[e]*Zr[t],o&&(a*=6),i){var s=0,l=n;while(l>=1)s+=a*l*l,l/=2;return s}return a*n*r}function mi(e,r,i,o,a,s,l){var u={"don't care":kr,"dont care":kr,nice:Tr,fast:Mr},c={repeat:gr,clamp:yr,mirror:br},f={nearest:xr,linear:wr},p=n({mipmap:Ar,"nearest mipmap nearest":Sr,"linear mipmap nearest":Or,"nearest mipmap linear":Cr,"linear mipmap linear":Ar},f),d={none:0,browser:jr},h={uint8:fr,rgba4:Gn,rgb565:qn,"rgb5 a1":Wn},v={alpha:jn,luminance:Bn,"luminance alpha":Un,rgb:Fn,rgba:Nn,rgba4:zn,"rgb5 a1":Hn,rgb565:Vn},m={};r.ext_srgb&&(v.srgb=Zn,v.srgba=Qn),r.oes_texture_float&&(h.float32=h["float"]=hr),r.oes_texture_half_float&&(h["float16"]=h["half float"]=Jn),r.webgl_depth_texture&&(n(v,{depth:Xn,"depth stencil":Kn}),n(h,{uint16:pr,uint32:dr,"depth stencil":Yn})),r.webgl_compressed_texture_s3tc&&n(m,{"rgb s3tc dxt1":$n,"rgba s3tc dxt1":er,"rgba s3tc dxt3":tr,"rgba s3tc dxt5":nr}),r.webgl_compressed_texture_atc&&n(m,{"rgb atc":rr,"rgba atc explicit alpha":ir,"rgba atc interpolated alpha":or}),r.webgl_compressed_texture_pvrtc&&n(m,{"rgb pvrtc 4bppv1":ar,"rgb pvrtc 2bppv1":sr,"rgba pvrtc 4bppv1":lr,"rgba pvrtc 2bppv1":ur}),r.webgl_compressed_texture_etc1&&(m["rgb etc1"]=cr);var g=Array.prototype.slice.call(e.getParameter(Ln)||new Uint32Array(0));Object.keys(m).forEach((function(e){var t=m[e];g.indexOf(t)>=0&&(v[e]=t)}));var y=Object.keys(v);i.textureFormats=y;var b=[];Object.keys(v).forEach((function(e){var t=v[e];b[t]=e}));var _=[];Object.keys(h).forEach((function(e){var t=h[e];_[t]=e}));var E=[];Object.keys(f).forEach((function(e){var t=f[e];E[t]=e}));var x=[];Object.keys(p).forEach((function(e){var t=p[e];x[t]=e}));var w=[];Object.keys(c).forEach((function(e){var t=c[e];w[t]=e}));var S=y.reduce((function(e,t){var n=v[t];return n===Bn||n===jn||n===Bn||n===Un||n===Xn||n===Kn||r.ext_srgb&&(n===Zn||n===Qn)?e[n]=n:n===Hn||t.indexOf("rgba")>=0?e[n]=Nn:e[n]=Fn,e}),{});function O(){this.internalformat=Nn,this.format=Nn,this.type=fr,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=jr,this.width=0,this.height=0,this.channels=0}function C(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function A(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(ie.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(ie.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(ie.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(ie.parameter(t.colorSpace,d,"invalid colorSpace"),e.colorSpace=d[t.colorSpace]),"type"in t){var n=t.type;ie(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),ie(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ie(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ie.parameter(n,h,"invalid texture type"),e.type=h[n]}var o=e.width,a=e.height,s=e.channels,l=!1;"shape"in t?(ie(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),o=t.shape[0],a=t.shape[1],3===t.shape.length&&(s=t.shape[2],ie(s>0&&s<=4,"invalid number of channels"),l=!0),ie(o>=0&&o<=i.maxTextureSize,"invalid width"),ie(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in t&&(o=a=t.radius,ie(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in t&&(o=t.width,ie(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in t&&(a=t.height,ie(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in t&&(s=t.channels,ie(s>0&&s<=4,"invalid number of channels"),l=!0)),e.width=0|o,e.height=0|a,e.channels=0|s;var u=!1;if("format"in t){var c=t.format;ie(r.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ie.parameter(c,v,"invalid texture format");var f=e.internalformat=v[c];e.format=S[f],c in h&&("type"in t||(e.type=h[c])),c in m&&(e.compressed=!0),u=!0}!l&&u?e.channels=zr[e.format]:l&&!u?e.channels!==Ur[e.format]&&(e.format=e.internalformat=Ur[e.channels]):u&&l&&ie(e.channels===zr[e.format],"number of channels inconsistent with specified format")}}function P(t){e.pixelStorei(Dr,t.flipY),e.pixelStorei(Rr,t.premultiplyAlpha),e.pixelStorei(Nr,t.colorSpace),e.pixelStorei(Ir,t.unpackAlignment)}function k(){O.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function M(e,n){var r=null;if(ui(n)?r=n:n&&(ie.type(n,"object","invalid pixel data type"),A(e,n),"x"in n&&(e.xOffset=0|n.x),"y"in n&&(e.yOffset=0|n.y),ui(n.data)&&(r=n.data)),ie(!e.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){ie(!r,"can not specify copy and data field for the same texture");var o=a.viewportWidth,s=a.viewportHeight;e.width=e.width||o-e.xOffset,e.height=e.height||s-e.yOffset,e.needsCopy=!0,ie(e.xOffset>=0&&e.xOffset<o&&e.yOffset>=0&&e.yOffset<s&&e.width>0&&e.width<=o&&e.height>0&&e.height<=s,"copy texture read out of bounds")}else if(r){if(t(r))e.channels=e.channels||4,e.data=r,"type"in n||e.type!==fr||(e.type=ci(r));else if(Jr(r))e.channels=e.channels||4,fi(e,r),e.alignment=1,e.needsFree=!0;else if(Ct(r)){var l=r.data;Array.isArray(l)||e.type!==fr||(e.type=ci(l));var u,c,f,p,d,h,v=r.shape,m=r.stride;3===v.length?(f=v[2],h=m[2]):(ie(2===v.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,h=1),u=v[0],c=v[1],p=m[0],d=m[1],e.alignment=1,e.width=u,e.height=c,e.channels=f,e.format=e.internalformat=Ur[f],e.needsFree=!0,hi(e,l,p,d,h,r.offset)}else if(si(r)||ti(r)||ni(r)||ri(r))si(r)||ti(r)||ni(r)?e.element=r:e.element=r.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(ii(r))e.element=r,e.width=r.width,e.height=r.height,e.channels=4;else if(oi(r))e.element=r,e.width=r.naturalWidth,e.height=r.naturalHeight,e.channels=4;else if(li(r))e.element=r,e.width=r.width,e.height=r.height,e.channels=4;else if(ai(r))e.element=r,e.width=r.videoWidth,e.height=r.videoHeight,e.channels=4;else if($r(r)){var g=e.width||r[0].length,y=e.height||r.length,b=e.channels;b=Mn(r[0][0])?b||r[0][0].length:b||1;for(var _=Pt.shape(r),E=1,x=0;x<_.length;++x)E*=_[x];var w=pi(e,E);Pt.flatten(r,_,"",w),di(e,w),e.alignment=1,e.width=g,e.height=y,e.channels=b,e.format=e.internalformat=Ur[b],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;e.type===hr?ie(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):e.type===Jn&&ie(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function T(t,n,r){var i=t.element,a=t.data,s=t.internalformat,l=t.format,u=t.type,c=t.width,f=t.height;P(t),i?e.texImage2D(n,r,l,l,u,i):t.compressed?e.compressedTexImage2D(n,r,s,c,f,0,a):t.needsCopy?(o(),e.copyTexImage2D(n,r,l,t.xOffset,t.yOffset,c,f,0)):e.texImage2D(n,r,l,c,f,0,l,u,a||null)}function L(t,n,r,i,a){var s=t.element,l=t.data,u=t.internalformat,c=t.format,f=t.type,p=t.width,d=t.height;P(t),s?e.texSubImage2D(n,a,r,i,c,f,s):t.compressed?e.compressedTexSubImage2D(n,a,r,i,u,p,d,l):t.needsCopy?(o(),e.copyTexSubImage2D(n,a,r,i,t.xOffset,t.yOffset,p,d)):e.texSubImage2D(n,a,r,i,p,d,c,f,l)}var I=[];function D(){return I.pop()||new k}function R(e){e.needsFree&&Ue.freeType(e.data),k.call(e),I.push(e)}function N(){O.call(this),this.genMipmaps=!1,this.mipmapHint=kr,this.mipmask=0,this.images=Array(16)}function j(e,t,n){var r=e.images[0]=D();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function F(e,t){var n=null;if(ui(t))n=e.images[0]=D(),C(n,e),M(n,t),e.mipmask=1;else if(A(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)n=e.images[i]=D(),C(n,e),n.width>>=i,n.height>>=i,M(n,r[i]),e.mipmask|=1<<i;else n=e.images[0]=D(),C(n,e),M(n,t),e.mipmask=1;C(e,e.images[0]),!e.compressed||e.internalformat!==$n&&e.internalformat!==er&&e.internalformat!==tr&&e.internalformat!==nr||ie(e.width%4===0&&e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function B(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;T(n[r],t,r)}}var U=[];function z(){var e=U.pop()||new N;O.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function H(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&R(t[n]),t[n]=null;U.push(e)}function V(){this.minFilter=xr,this.magFilter=xr,this.wrapS=yr,this.wrapT=yr,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=kr}function G(e,t){if("min"in t){var n=t.min;ie.parameter(n,p),e.minFilter=p[n],Br.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;ie.parameter(r,f),e.magFilter=f[r]}var o=e.wrapS,a=e.wrapT;if("wrap"in t){var s=t.wrap;"string"===typeof s?(ie.parameter(s,c),o=a=c[s]):Array.isArray(s)&&(ie.parameter(s[0],c),ie.parameter(s[1],c),o=c[s[0]],a=c[s[1]])}else{if("wrapS"in t){var l=t.wrapS;ie.parameter(l,c),o=c[l]}if("wrapT"in t){var d=t.wrapT;ie.parameter(d,c),a=c[d]}}if(e.wrapS=o,e.wrapT=a,"anisotropic"in t){var h=t.anisotropic;ie("number"===typeof h&&h>=1&&h<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var v=!1;switch(typeof t.mipmap){case"string":ie.parameter(t.mipmap,u,"invalid mipmap hint"),e.mipmapHint=u[t.mipmap],e.genMipmaps=!0,v=!0;break;case"boolean":v=e.genMipmaps=t.mipmap;break;case"object":ie(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,v=!0;break;default:ie.raise("invalid mipmap type")}v&&!("min"in t)&&(e.minFilter=Sr)}}function W(t,n){e.texParameteri(n,Er,t.minFilter),e.texParameteri(n,_r,t.magFilter),e.texParameteri(n,vr,t.wrapS),e.texParameteri(n,mr,t.wrapT),r.ext_texture_filter_anisotropic&&e.texParameteri(n,Lr,t.anisotropic),t.genMipmaps&&(e.hint(Pr,t.mipmapHint),e.generateMipmap(n))}var q=0,Y={},X=i.maxTextureUnits,K=Array(X).map((function(){return null}));function Z(t){O.call(this),this.mipmask=0,this.internalformat=Nn,this.id=q++,this.refCount=1,this.target=t,this.texture=e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new V,l.profile&&(this.stats={size:0})}function Q(t){e.activeTexture(Fr),e.bindTexture(t.target,t.texture)}function J(){var t=K[0];t?e.bindTexture(t.target,t.texture):e.bindTexture(In,null)}function $(t){var n=t.texture;ie(n,"must not double destroy texture");var r=t.unit,i=t.target;r>=0&&(e.activeTexture(Fr+r),e.bindTexture(i,null),K[r]=null),e.deleteTexture(n),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete Y[t.id],s.textureCount--}function ee(t,n){var r=new Z(In);function o(e,t){var n=r.texInfo;V.call(n);var a=z();return"number"===typeof e?j(a,0|e,"number"===typeof t?0|t:0|e):e?(ie.type(e,"object","invalid arguments to regl.texture"),G(n,e),F(a,e)):j(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,C(r,a),ie.texture2D(n,a,i),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,Q(r),B(a,In),W(n,In),J(),H(a),l.profile&&(r.stats.size=vi(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),o.format=b[r.internalformat],o.type=_[r.type],o.mag=E[n.magFilter],o.min=x[n.minFilter],o.wrapS=w[n.wrapS],o.wrapT=w[n.wrapT],o}function a(e,t,n,i){ie(!!e,"must specify image data");var a=0|t,s=0|n,l=0|i,u=D();return C(u,r),u.width=0,u.height=0,M(u,e),u.width=u.width||(r.width>>l)-a,u.height=u.height||(r.height>>l)-s,ie(r.type===u.type&&r.format===u.format&&r.internalformat===u.internalformat,"incompatible format for texture.subimage"),ie(a>=0&&s>=0&&a+u.width<=r.width&&s+u.height<=r.height,"texture.subimage write out of bounds"),ie(r.mipmask&1<<l,"missing mipmap data"),ie(u.data||u.element||u.needsCopy,"missing image data"),Q(r),L(u,In,a,s,l),J(),R(u),o}function u(t,n){var i=0|t,a=0|n||i;if(i===r.width&&a===r.height)return o;o.width=r.width=i,o.height=r.height=a,Q(r);for(var s=0;r.mipmask>>s;++s){var u=i>>s,c=a>>s;if(!u||!c)break;e.texImage2D(In,s,r.format,u,c,0,r.format,r.type,null)}return J(),l.profile&&(r.stats.size=vi(r.internalformat,r.type,i,a,!1,!1)),o}return Y[r.id]=r,s.textureCount++,o(t,n),o.subimage=a,o.resize=u,o._reglType="texture2d",o._texture=r,l.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o}function te(t,n,r,o,a,u){var c=new Z(Dn);Y[c.id]=c,s.cubeCount++;var f=new Array(6);function p(e,t,n,r,o,a){var s,u=c.texInfo;for(V.call(u),s=0;s<6;++s)f[s]=z();if("number"!==typeof e&&e)if("object"===typeof e)if(t)F(f[0],e),F(f[1],t),F(f[2],n),F(f[3],r),F(f[4],o),F(f[5],a);else if(G(u,e),A(c,e),"faces"in e){var d=e.faces;for(ie(Array.isArray(d)&&6===d.length,"cube faces must be a length 6 array"),s=0;s<6;++s)ie("object"===typeof d[s]&&!!d[s],"invalid input for cube map face"),C(f[s],c),F(f[s],d[s])}else for(s=0;s<6;++s)F(f[s],e);else ie.raise("invalid arguments to cube map");else{var h=0|e||1;for(s=0;s<6;++s)j(f[s],h,h)}for(C(c,f[0]),ie.optional((function(){i.npotTextureCube||ie(Tn(c.width)&&Tn(c.height),"your browser does not support non power or two texture dimensions")})),u.genMipmaps?c.mipmask=(f[0].width<<1)-1:c.mipmask=f[0].mipmask,ie.textureCube(c,u,f,i),c.internalformat=f[0].internalformat,p.width=f[0].width,p.height=f[0].height,Q(c),s=0;s<6;++s)B(f[s],Rn+s);for(W(u,Dn),J(),l.profile&&(c.stats.size=vi(c.internalformat,c.type,p.width,p.height,u.genMipmaps,!0)),p.format=b[c.internalformat],p.type=_[c.type],p.mag=E[u.magFilter],p.min=x[u.minFilter],p.wrapS=w[u.wrapS],p.wrapT=w[u.wrapT],s=0;s<6;++s)H(f[s]);return p}function d(e,t,n,r,i){ie(!!t,"must specify image data"),ie("number"===typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var o=0|n,a=0|r,s=0|i,l=D();return C(l,c),l.width=0,l.height=0,M(l,t),l.width=l.width||(c.width>>s)-o,l.height=l.height||(c.height>>s)-a,ie(c.type===l.type&&c.format===l.format&&c.internalformat===l.internalformat,"incompatible format for texture.subimage"),ie(o>=0&&a>=0&&o+l.width<=c.width&&a+l.height<=c.height,"texture.subimage write out of bounds"),ie(c.mipmask&1<<s,"missing mipmap data"),ie(l.data||l.element||l.needsCopy,"missing image data"),Q(c),L(l,Rn+e,o,a,s),J(),R(l),p}function h(t){var n=0|t;if(n!==c.width){p.width=c.width=n,p.height=c.height=n,Q(c);for(var r=0;r<6;++r)for(var i=0;c.mipmask>>i;++i)e.texImage2D(Rn+r,i,c.format,n>>i,n>>i,0,c.format,c.type,null);return J(),l.profile&&(c.stats.size=vi(c.internalformat,c.type,p.width,p.height,!1,!0)),p}}return p(t,n,r,o,a,u),p.subimage=d,p.resize=h,p._reglType="textureCube",p._texture=c,l.profile&&(p.stats=c.stats),p.destroy=function(){c.decRef()},p}function ne(){for(var t=0;t<X;++t)e.activeTexture(Fr+t),e.bindTexture(In,null),K[t]=null;At(Y).forEach($),s.cubeCount=0,s.textureCount=0}function re(){for(var t=0;t<X;++t){var n=K[t];n&&(n.bindCount=0,n.unit=-1,K[t]=null)}At(Y).forEach((function(t){t.texture=e.createTexture(),e.bindTexture(t.target,t.texture);for(var n=0;n<32;++n)if(0!==(t.mipmask&1<<n))if(t.target===In)e.texImage2D(In,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);else for(var r=0;r<6;++r)e.texImage2D(Rn+r,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);W(t.texInfo,t.target)}))}function oe(){for(var t=0;t<X;++t){var n=K[t];n&&(n.bindCount=0,n.unit=-1,K[t]=null),e.activeTexture(Fr+t),e.bindTexture(In,null),e.bindTexture(Dn,null)}}return n(Z.prototype,{bind:function(){var t=this;t.bindCount+=1;var n=t.unit;if(n<0){for(var r=0;r<X;++r){var i=K[r];if(i){if(i.bindCount>0)continue;i.unit=-1}K[r]=t,n=r;break}n>=X&&ie.raise("insufficient number of texture units"),l.profile&&s.maxTextureUnits<n+1&&(s.maxTextureUnits=n+1),t.unit=n,e.activeTexture(Fr+n),e.bindTexture(t.target,t.texture)}return n},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&$(this)}}),l.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys(Y).forEach((function(t){e+=Y[t].stats.size})),e}),{create2D:ee,createCube:te,clear:ne,getTexture:function(e){return null},restore:re,refresh:oe}}Qr[zn]=2,Qr[Hn]=2,Qr[Vn]=2,Qr[Kn]=4,Qr[$n]=.5,Qr[er]=.5,Qr[tr]=1,Qr[nr]=1,Qr[rr]=.5,Qr[ir]=1,Qr[or]=1,Qr[ar]=.5,Qr[sr]=.25,Qr[lr]=.5,Qr[ur]=.25,Qr[cr]=.5;var gi=36161,yi=32854,bi=32855,_i=36194,Ei=33189,xi=36168,wi=34041,Si=35907,Oi=34836,Ci=34842,Ai=34843,Pi=[];function ki(e,t,n){return Pi[e]*t*n}Pi[yi]=2,Pi[bi]=2,Pi[_i]=2,Pi[Ei]=2,Pi[xi]=1,Pi[wi]=4,Pi[Si]=4,Pi[Oi]=16,Pi[Ci]=8,Pi[Ai]=6;var Mi=function(e,t,n,r,i){var o={rgba4:yi,rgb565:_i,"rgb5 a1":bi,depth:Ei,stencil:xi,"depth stencil":wi};t.ext_srgb&&(o["srgba"]=Si),t.ext_color_buffer_half_float&&(o["rgba16f"]=Ci,o["rgb16f"]=Ai),t.webgl_color_buffer_float&&(o["rgba32f"]=Oi);var a=[];Object.keys(o).forEach((function(e){var t=o[e];a[t]=e}));var s=0,l={};function u(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=yi,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function c(t){var n=t.renderbuffer;ie(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(gi,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete l[t.id],r.renderbufferCount--}function f(t,s){var c=new u(e.createRenderbuffer());function f(t,r){var s=0,l=0,u=yi;if("object"===typeof t&&t){var p=t;if("shape"in p){var d=p.shape;ie(Array.isArray(d)&&d.length>=2,"invalid renderbuffer shape"),s=0|d[0],l=0|d[1]}else"radius"in p&&(s=l=0|p.radius),"width"in p&&(s=0|p.width),"height"in p&&(l=0|p.height);"format"in p&&(ie.parameter(p.format,o,"invalid renderbuffer format"),u=o[p.format])}else"number"===typeof t?(s=0|t,l="number"===typeof r?0|r:s):t?ie.raise("invalid arguments to renderbuffer constructor"):s=l=1;if(ie(s>0&&l>0&&s<=n.maxRenderbufferSize&&l<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==c.width||l!==c.height||u!==c.format)return f.width=c.width=s,f.height=c.height=l,c.format=u,e.bindRenderbuffer(gi,c.renderbuffer),e.renderbufferStorage(gi,u,s,l),ie(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=ki(c.format,c.width,c.height)),f.format=a[c.format],f}function p(t,r){var o=0|t,a=0|r||o;return o===c.width&&a===c.height||(ie(o>0&&a>0&&o<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),f.width=c.width=o,f.height=c.height=a,e.bindRenderbuffer(gi,c.renderbuffer),e.renderbufferStorage(gi,c.format,o,a),ie(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=ki(c.format,c.width,c.height))),f}return l[c.id]=c,r.renderbufferCount++,f(t,s),f.resize=p,f._reglType="renderbuffer",f._renderbuffer=c,i.profile&&(f.stats=c.stats),f.destroy=function(){c.decRef()},f}function p(){At(l).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(gi,t.renderbuffer),e.renderbufferStorage(gi,t.format,t.width,t.height)})),e.bindRenderbuffer(gi,null)}return u.prototype.decRef=function(){--this.refCount<=0&&c(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(l).forEach((function(t){e+=l[t].stats.size})),e}),{create:f,clear:function(){At(l).forEach(c)},restore:p}},Ti=36160,Li=36161,Ii=3553,Di=34069,Ri=36064,Ni=36096,ji=36128,Fi=33306,Bi=36053,Ui=36054,zi=36055,Hi=36057,Vi=36061,Gi=36193,Wi=5121,qi=5126,Yi=6407,Xi=6408,Ki=6402,Zi=[Yi,Xi],Qi=[];Qi[Xi]=4,Qi[Yi]=3;var Ji=[];Ji[Wi]=1,Ji[qi]=4,Ji[Gi]=2;var $i=32854,eo=32855,to=36194,no=33189,ro=36168,io=34041,oo=35907,ao=34836,so=34842,lo=34843,uo=[$i,eo,to,oo,so,lo,ao],co={};function fo(e,t,r,i,o,a){var s={cur:null,next:null,dirty:!1,setFBO:null},l=["rgba"],u=["rgba4","rgb565","rgb5 a1"];t.ext_srgb&&u.push("srgba"),t.ext_color_buffer_half_float&&u.push("rgba16f","rgb16f"),t.webgl_color_buffer_float&&u.push("rgba32f");var c=["uint8"];function f(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,i=0;t?(r=t.width,i=t.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function p(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function d(e,t,n){if(e)if(e.texture){var r=e.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);ie(i===t&&o===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=e.renderbuffer._renderbuffer;ie(a.width===t&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function h(t,n){n&&(n.texture?e.framebufferTexture2D(Ti,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(Ti,t,Li,n.renderbuffer._renderbuffer.renderbuffer))}function v(e){var t=Ii,n=null,r=null,i=e;"object"===typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),ie.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(n=i,ie(t===Ii)):"textureCube"===o?(n=i,ie(t>=Di&&t<Di+6,"invalid cube map target")):"renderbuffer"===o?(r=i,t=Li):ie.raise("invalid regl object for attachment"),new f(t,n,r)}function m(e,t,n,r,a){if(n){var s=i.create2D({width:e,height:t,format:r,type:a});return s._texture.refCount=0,new f(Ii,s,null)}var l=o.create({width:e,height:t,format:r});return l._renderbuffer.refCount=0,new f(Li,null,l)}function g(e){return e&&(e.texture||e.renderbuffer)}function y(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}t.oes_texture_half_float&&c.push("half float","float16"),t.oes_texture_float&&c.push("float","float32");var b=0,_={};function E(){this.id=b++,_[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function x(e){e.colorAttachments.forEach(p),p(e.depthAttachment),p(e.stencilAttachment),p(e.depthStencilAttachment)}function w(t){var n=t.framebuffer;ie(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,a.framebufferCount--,delete _[t.id]}function S(t){var n;e.bindFramebuffer(Ti,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)h(Ri+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(Ti,Ri+n,Ii,null,0);e.framebufferTexture2D(Ti,Fi,Ii,null,0),e.framebufferTexture2D(Ti,Ni,Ii,null,0),e.framebufferTexture2D(Ti,ji,Ii,null,0),h(Ni,t.depthAttachment),h(ji,t.stencilAttachment),h(Fi,t.depthStencilAttachment);var o=e.checkFramebufferStatus(Ti);e.isContextLost()||o===Bi||ie.raise("framebuffer configuration not supported, status = "+co[o]),e.bindFramebuffer(Ti,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function O(e,i){var o=new E;function f(e,n){var i;ie(s.next!==o,"can not update framebuffer which is currently in use");var a=0,p=0,h=!0,y=!0,b=null,_=!0,E="rgba",w="uint8",O=1,C=null,A=null,P=null,k=!1;if("number"===typeof e)a=0|e,p=0|n||a;else if(e){ie.type(e,"object","invalid arguments for framebuffer");var M=e;if("shape"in M){var T=M.shape;ie(Array.isArray(T)&&T.length>=2,"invalid shape for framebuffer"),a=T[0],p=T[1]}else"radius"in M&&(a=p=M.radius),"width"in M&&(a=M.width),"height"in M&&(p=M.height);("color"in M||"colors"in M)&&(b=M.color||M.colors,Array.isArray(b)&&ie(1===b.length||t.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in M&&(O=0|M.colorCount,ie(O>0,"invalid color buffer count")),"colorTexture"in M&&(_=!!M.colorTexture,E="rgba4"),"colorType"in M&&(w=M.colorType,_?(ie(t.oes_texture_float||!("float"===w||"float32"===w),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ie(t.oes_texture_half_float||!("half float"===w||"float16"===w),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===w||"float16"===w?(ie(t.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),E="rgba16f"):"float"!==w&&"float32"!==w||(ie(t.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),E="rgba32f"),ie.oneOf(w,c,"invalid color type")),"colorFormat"in M&&(E=M.colorFormat,l.indexOf(E)>=0?_=!0:u.indexOf(E)>=0?_=!1:ie.optional((function(){_?ie.oneOf(M.colorFormat,l,"invalid color format for texture"):ie.oneOf(M.colorFormat,u,"invalid color format for renderbuffer")})))),("depthTexture"in M||"depthStencilTexture"in M)&&(k=!(!M.depthTexture&&!M.depthStencilTexture),ie(!k||t.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in M&&("boolean"===typeof M.depth?h=M.depth:(C=M.depth,y=!1)),"stencil"in M&&("boolean"===typeof M.stencil?y=M.stencil:(A=M.stencil,h=!1)),"depthStencil"in M&&("boolean"===typeof M.depthStencil?h=y=M.depthStencil:(P=M.depthStencil,h=!1,y=!1))}else a=p=1;var L=null,I=null,D=null,R=null;if(Array.isArray(b))L=b.map(v);else if(b)L=[v(b)];else for(L=new Array(O),i=0;i<O;++i)L[i]=m(a,p,_,E,w);ie(t.webgl_draw_buffers||L.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ie(L.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||L[0].width,p=p||L[0].height,C?I=v(C):h&&!y&&(I=m(a,p,k,"depth","uint32")),A?D=v(A):y&&!h&&(D=m(a,p,!1,"stencil","uint8")),P?R=v(P):!C&&!A&&y&&h&&(R=m(a,p,k,"depth stencil","depth stencil")),ie(!!C+!!A+!!P<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var N=null;for(i=0;i<L.length;++i)if(d(L[i],a,p),ie(!L[i]||L[i].texture&&Zi.indexOf(L[i].texture._texture.format)>=0||L[i].renderbuffer&&uo.indexOf(L[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),L[i]&&L[i].texture){var j=Qi[L[i].texture._texture.format]*Ji[L[i].texture._texture.type];null===N?N=j:ie(N===j,"all color attachments much have the same number of bits per pixel.")}return d(I,a,p),ie(!I||I.texture&&I.texture._texture.format===Ki||I.renderbuffer&&I.renderbuffer._renderbuffer.format===no,"invalid depth attachment for framebuffer object"),d(D,a,p),ie(!D||D.renderbuffer&&D.renderbuffer._renderbuffer.format===ro,"invalid stencil attachment for framebuffer object"),d(R,a,p),ie(!R||R.texture&&R.texture._texture.format===io||R.renderbuffer&&R.renderbuffer._renderbuffer.format===io,"invalid depth-stencil attachment for framebuffer object"),x(o),o.width=a,o.height=p,o.colorAttachments=L,o.depthAttachment=I,o.stencilAttachment=D,o.depthStencilAttachment=R,f.color=L.map(g),f.depth=g(I),f.stencil=g(D),f.depthStencil=g(R),f.width=o.width,f.height=o.height,S(o),f}function p(e,t){ie(s.next!==o,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===o.width&&r===o.height)return f;for(var i=o.colorAttachments,a=0;a<i.length;++a)y(i[a],n,r);return y(o.depthAttachment,n,r),y(o.stencilAttachment,n,r),y(o.depthStencilAttachment,n,r),o.width=f.width=n,o.height=f.height=r,S(o),f}return a.framebufferCount++,f(e,i),n(f,{resize:p,_reglType:"framebuffer",_framebuffer:o,destroy:function(){w(o),x(o)},use:function(e){s.setFBO({framebuffer:f},e)}})}function C(e){var o=Array(6);function a(e){var r;ie(o.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var u,f={color:null},p=0,d=null,h="rgba",v="uint8",m=1;if("number"===typeof e)p=0|e;else if(e){ie.type(e,"object","invalid arguments for framebuffer");var g=e;if("shape"in g){var y=g.shape;ie(Array.isArray(y)&&y.length>=2,"invalid shape for framebuffer"),ie(y[0]===y[1],"cube framebuffer must be square"),p=y[0]}else"radius"in g&&(p=0|g.radius),"width"in g?(p=0|g.width,"height"in g&&ie(g.height===p,"must be square")):"height"in g&&(p=0|g.height);("color"in g||"colors"in g)&&(d=g.color||g.colors,Array.isArray(d)&&ie(1===d.length||t.webgl_draw_buffers,"multiple render targets not supported")),d||("colorCount"in g&&(m=0|g.colorCount,ie(m>0,"invalid color buffer count")),"colorType"in g&&(ie.oneOf(g.colorType,c,"invalid color type"),v=g.colorType),"colorFormat"in g&&(h=g.colorFormat,ie.oneOf(g.colorFormat,l,"invalid color format for texture"))),"depth"in g&&(f.depth=g.depth),"stencil"in g&&(f.stencil=g.stencil),"depthStencil"in g&&(f.depthStencil=g.depthStencil)}else p=1;if(d)if(Array.isArray(d))for(u=[],r=0;r<d.length;++r)u[r]=d[r];else u=[d];else{u=Array(m);var b={radius:p,format:h,type:v};for(r=0;r<m;++r)u[r]=i.createCube(b)}for(f.color=Array(u.length),r=0;r<u.length;++r){var _=u[r];ie("function"===typeof _&&"textureCube"===_._reglType,"invalid cube map"),p=p||_.width,ie(_.width===p&&_.height===p,"invalid cube map shape"),f.color[r]={target:Di,data:u[r]}}for(r=0;r<6;++r){for(var E=0;E<u.length;++E)f.color[E].target=Di+r;r>0&&(f.depth=o[0].depth,f.stencil=o[0].stencil,f.depthStencil=o[0].depthStencil),o[r]?o[r](f):o[r]=O(f)}return n(a,{width:p,height:p,color:u})}function u(e){var t,n=0|e;if(ie(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var i=a.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)o[t].resize(n);return a.width=a.height=n,a}return a(e),n(a,{faces:o,resize:u,_reglType:"framebufferCube",destroy:function(){o.forEach((function(e){e.destroy()}))}})}function A(){s.cur=null,s.next=null,s.dirty=!0,At(_).forEach((function(t){t.framebuffer=e.createFramebuffer(),S(t)}))}return n(s,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof E)return t}return null},create:O,createCube:C,clear:function(){At(_).forEach(w)},restore:A})}co[Bi]="complete",co[Ui]="incomplete attachment",co[Hi]="incomplete dimensions",co[zi]="incomplete, missing attachment",co[Vi]="unsupported";var po=5126,ho=34962,vo=34963,mo=["attributes","elements","offset","count","primitive","instances"];function go(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=po,this.offset=0,this.stride=0,this.divisor=0}function yo(e,n,r,i,o,a,s){for(var l=r.maxAttributes,u=new Array(l),c=0;c<l;++c)u[c]=new go;var f=0,p={},d={Record:go,scope:{},state:u,currentVAO:null,targetVAO:null,restore:v()?x:function(){},createVAO:w,getVAO:g,destroyBuffer:h,setVAO:v()?y:b,clear:v()?_:function(){}};function h(t){for(var n=0;n<u.length;++n){var r=u[n];r.buffer===t&&(e.disableVertexAttribArray(n),r.buffer=null)}}function v(){return n.oes_vertex_array_object}function m(){return n.angle_instanced_arrays}function g(e){return"function"===typeof e&&e._vao?e._vao:null}function y(e){if(e!==d.currentVAO){var t=v();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),d.currentVAO=e}}function b(t){if(t!==d.currentVAO){if(t)t.bindAttrs();else{for(var n=m(),r=0;r<u.length;++r){var i=u[r];i.buffer?(e.enableVertexAttribArray(r),i.buffer.bind(),e.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}s.elements?e.bindBuffer(vo,s.elements.buffer.buffer):e.bindBuffer(vo,null)}d.currentVAO=t}}function _(){At(p).forEach((function(e){e.destroy()}))}function E(){this.id=++f,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var e=v();this.vao=e?e.createVertexArrayOES():null,p[this.id]=this,this.buffers=[]}function x(){var e=v();e&&At(p).forEach((function(e){e.refresh()}))}function w(e){var r=new E;function s(e){var i;if(Array.isArray(e))i=e,r.elements&&r.ownsElements&&r.elements.destroy(),r.elements=null,r.ownsElements=!1,r.offset=0,r.count=0,r.instances=-1,r.primitive=4;else{if(ie("object"===typeof e,"invalid arguments for create vao"),ie("attributes"in e,"must specify attributes for vao"),e.elements){var u=e.elements;r.ownsElements?"function"===typeof u&&"elements"===u._reglType?(r.elements.destroy(),r.ownsElements=!1):(r.elements(u),r.ownsElements=!1):a.getElements(e.elements)?(r.elements=e.elements,r.ownsElements=!1):(r.elements=a.create(e.elements),r.ownsElements=!0)}else r.elements=null,r.ownsElements=!1;i=e.attributes,r.offset=0,r.count=-1,r.instances=-1,r.primitive=4,r.elements&&(r.count=r.elements._elements.vertCount,r.primitive=r.elements._elements.primType),"offset"in e&&(r.offset=0|e.offset),"count"in e&&(r.count=0|e.count),"instances"in e&&(r.instances=0|e.instances),"primitive"in e&&(ie(e.primitive in pn,"bad primitive type: "+e.primitive),r.primitive=pn[e.primitive]),ie.optional((function(){for(var t=Object.keys(e),n=0;n<t.length;++n)ie(mo.indexOf(t[n])>=0,'invalid option for vao: "'+t[n]+'" valid options are '+mo)})),ie(Array.isArray(i),"attributes must be an array")}ie(i.length<l,"too many attributes"),ie(i.length>0,"must specify at least one attribute");var c={},f=r.attributes;f.length=i.length;for(var p=0;p<i.length;++p){var d,h=i[p],v=f[p]=new go,m=h.data||h;if(Array.isArray(m)||t(m)||Ct(m))r.buffers[p]&&(d=r.buffers[p],t(m)&&d._buffer.byteLength>=m.byteLength?d.subdata(m):(d.destroy(),r.buffers[p]=null)),r.buffers[p]||(d=r.buffers[p]=o.create(h,ho,!1,!0)),v.buffer=o.getBuffer(d),v.size=0|v.buffer.dimension,v.normalized=!1,v.type=v.buffer.dtype,v.offset=0,v.stride=0,v.divisor=0,v.state=1,c[p]=1;else o.getBuffer(h)?(v.buffer=o.getBuffer(h),v.size=0|v.buffer.dimension,v.normalized=!1,v.type=v.buffer.dtype,v.offset=0,v.stride=0,v.divisor=0,v.state=1):o.getBuffer(h.buffer)?(v.buffer=o.getBuffer(h.buffer),v.size=0|(+h.size||v.buffer.dimension),v.normalized=!!h.normalized||!1,"type"in h?(ie.parameter(h.type,Gt,"invalid buffer type"),v.type=Gt[h.type]):v.type=v.buffer.dtype,v.offset=0|(h.offset||0),v.stride=0|(h.stride||0),v.divisor=0|(h.divisor||0),v.state=1,ie(v.size>=1&&v.size<=4,"size must be between 1 and 4"),ie(v.offset>=0,"invalid offset"),ie(v.stride>=0&&v.stride<=255,"stride must be between 0 and 255"),ie(v.divisor>=0,"divisor must be positive"),ie(!v.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in h?(ie(p>0,"first attribute must not be a constant"),v.x=+h.x||0,v.y=+h.y||0,v.z=+h.z||0,v.w=+h.w||0,v.state=2):ie(!1,"invalid attribute spec for location "+p)}for(var g=0;g<r.buffers.length;++g)!c[g]&&r.buffers[g]&&(r.buffers[g].destroy(),r.buffers[g]=null);return r.refresh(),s}return i.vaoCount+=1,s.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.ownsElements&&(r.elements.destroy(),r.elements=null,r.ownsElements=!1),r.destroy()},s._vao=r,s._reglType="vao",s(e)}return E.prototype.bindAttrs=function(){for(var t=m(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(e.enableVertexAttribArray(r),e.bindBuffer(ho,i.buffer.buffer),e.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),t&&i.divisor&&t.vertexAttribDivisorANGLE(r,i.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var o=n.length;o<l;++o)e.disableVertexAttribArray(o);var s=a.getElements(this.elements);s?e.bindBuffer(vo,s.buffer.buffer):e.bindBuffer(vo,null)},E.prototype.refresh=function(){var e=v();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),d.currentVAO=null,e.bindVertexArrayOES(null))},E.prototype.destroy=function(){if(this.vao){var e=v();this===d.currentVAO&&(d.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),p[this.id]&&(delete p[this.id],i.vaoCount-=1)},d}var bo=35632,_o=35633,Eo=35718,xo=35721;function wo(e,t,r,i){var o={},a={};function s(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function l(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function u(n,r,i){var s=n===bo?o:a,l=s[r];if(!l){var u=t.str(r);l=e.createShader(n),e.shaderSource(l,u),e.compileShader(l),ie.shaderError(e,l,u,n,i),s[r]=l}return l}var c={},f=[],p=0;function d(e,t){this.id=p++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function h(n,r,o){var a,c,f=u(bo,n.fragId),p=u(_o,n.vertId),d=n.program=e.createProgram();if(e.attachShader(d,f),e.attachShader(d,p),o)for(a=0;a<o.length;++a){var h=o[a];e.bindAttribLocation(d,h[0],h[1])}e.linkProgram(d),ie.linkError(e,d,t.str(n.fragId),t.str(n.vertId),r);var v=e.getProgramParameter(d,Eo);i.profile&&(n.stats.uniformsCount=v);var m=n.uniforms;for(a=0;a<v;++a)if(c=e.getActiveUniform(d,a),c)if(c.size>1)for(var g=0;g<c.size;++g){var y=c.name.replace("[0]","["+g+"]");l(m,new s(y,t.id(y),e.getUniformLocation(d,y),c))}else l(m,new s(c.name,t.id(c.name),e.getUniformLocation(d,c.name),c));var b=e.getProgramParameter(d,xo);i.profile&&(n.stats.attributesCount=b);var _=n.attributes;for(a=0;a<b;++a)c=e.getActiveAttrib(d,a),c&&l(_,new s(c.name,t.id(c.name),e.getAttribLocation(d,c.name),c))}function v(){o={},a={};for(var e=0;e<f.length;++e)h(f[e],null,f[e].attributes.map((function(e){return[e.location,e.name]})))}return i.profile&&(r.getMaxUniformsCount=function(){var e=0;return f.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return f.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);At(o).forEach(t),o={},At(a).forEach(t),a={},f.forEach((function(t){e.deleteProgram(t.program)})),f.length=0,c={},r.shaderCount=0},program:function(t,i,s,l){ie.command(t>=0,"missing vertex shader",s),ie.command(i>=0,"missing fragment shader",s);var u=c[i];u||(u=c[i]={});var p=u[t];if(p&&(p.refCount++,!l))return p;var v=new d(i,t);return r.shaderCount++,h(v,s,l),p||(u[t]=v),f.push(v),n(v,{destroy:function(){if(v.refCount--,v.refCount<=0){e.deleteProgram(v.program);var t=f.indexOf(v);f.splice(t,1),r.shaderCount--}u[v.vertId].refCount<=0&&(e.deleteShader(a[v.vertId]),delete a[v.vertId],delete c[v.fragId][v.vertId]),Object.keys(c[v.fragId]).length||(e.deleteShader(o[v.fragId]),delete o[v.fragId],delete c[v.fragId])}})},restore:v,shader:u,frag:-1,vert:-1}}var So=6408,Oo=5121,Co=3333,Ao=5126;function Po(e,n,r,i,o,a,s){function l(l){var u;null===n.next?(ie(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),u=Oo):(ie(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),u=n.next.colorAttachments[0].texture._texture.type,ie.optional((function(){a.oes_texture_float?(ie(u===Oo||u===Ao,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),u===Ao&&ie(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ie(u===Oo,"Reading from a framebuffer is only allowed for the type 'uint8'")})));var c=0,f=0,p=i.framebufferWidth,d=i.framebufferHeight,h=null;t(l)?h=l:l&&(ie.type(l,"object","invalid arguments to regl.read()"),c=0|l.x,f=0|l.y,ie(c>=0&&c<i.framebufferWidth,"invalid x offset for regl.read"),ie(f>=0&&f<i.framebufferHeight,"invalid y offset for regl.read"),p=0|(l.width||i.framebufferWidth-c),d=0|(l.height||i.framebufferHeight-f),h=l.data||null),h&&(u===Oo?ie(h instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):u===Ao&&ie(h instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ie(p>0&&p+c<=i.framebufferWidth,"invalid width for read pixels"),ie(d>0&&d+f<=i.framebufferHeight,"invalid height for read pixels"),r();var v=p*d*4;return h||(u===Oo?h=new Uint8Array(v):u===Ao&&(h=h||new Float32Array(v))),ie.isTypedArray(h,"data buffer for regl.read() must be a typedarray"),ie(h.byteLength>=v,"data buffer for regl.read() too small"),e.pixelStorei(Co,4),e.readPixels(c,f,p,d,So,u,h),h}function u(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=l(e)})),t}function c(e){return e&&"framebuffer"in e?u(e):l(e)}return c}function ko(e){return Array.prototype.slice.call(e)}function Mo(e){return ko(e).join("")}function To(){var t=0,r=[],i=[];function o(e){for(var n=0;n<i.length;++n)if(i[n]===e)return r[n];var o="g"+t++;return r.push(o),i.push(e),o}function a(){var e=[];function r(){e.push.apply(e,ko(arguments))}var i=[];function o(){var n="v"+t++;return i.push(n),arguments.length>0&&(e.push(n,"="),e.push.apply(e,ko(arguments)),e.push(";")),n}return n(r,{def:o,toString:function(){return Mo([i.length>0?"var "+i.join(",")+";":"",Mo(e)])}})}function s(){var e=a(),t=a(),r=e.toString,i=t.toString;function o(n,r){t(n,r,"=",e.def(n,r),";")}return n((function(){e.apply(e,ko(arguments))}),{def:e.def,entry:e,exit:t,save:o,set:function(t,n,r){o(t,n),e(t,n,"=",r,";")},toString:function(){return r()+i()}})}function l(){var e=Mo(arguments),t=s(),r=s(),i=t.toString,o=r.toString;return n(t,{then:function(){return t.apply(t,ko(arguments)),this},else:function(){return r.apply(r,ko(arguments)),this},toString:function(){var t=o();return t&&(t="else{"+t+"}"),Mo(["if(",e,"){",i(),"}",t])}})}var u=a(),c={};function f(e,t){var r=[];function i(){var e="a"+r.length;return r.push(e),e}t=t||0;for(var o=0;o<t;++o)i();var a=s(),l=a.toString,u=c[e]=n(a,{arg:i,toString:function(){return Mo(["function(",r.join(),"){",l(),"}"])}});return u}function p(){var t=['"use strict";',u,"return {"];Object.keys(c).forEach((function(e){t.push('"',e,'":',c[e].toString(),",")})),t.push("}");var n=Mo(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n"),o="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM,a=o?e.Function.apply(null,r.concat(n)):Function.apply(null,r.concat(n));return a.apply(null,i)}return{global:u,link:o,block:a,proc:f,scope:s,cond:l,compile:p}}var Lo="xyzw".split(""),Io=5121,Do=1,Ro=2,No=0,jo=1,Fo=2,Bo=3,Uo=4,zo=5,Ho=6,Vo="dither",Go="blend.enable",Wo="blend.color",qo="blend.equation",Yo="blend.func",Xo="depth.enable",Ko="depth.func",Zo="depth.range",Qo="depth.mask",Jo="colorMask",$o="cull.enable",ea="cull.face",ta="frontFace",na="lineWidth",ra="polygonOffset.enable",ia="polygonOffset.offset",oa="sample.alpha",aa="sample.enable",sa="sample.coverage",la="stencil.enable",ua="stencil.mask",ca="stencil.func",fa="stencil.opFront",pa="stencil.opBack",da="scissor.enable",ha="scissor.box",va="viewport",ma="profile",ga="framebuffer",ya="vert",ba="frag",_a="elements",Ea="primitive",xa="count",wa="offset",Sa="instances",Oa="vao",Ca="Width",Aa="Height",Pa=ga+Ca,ka=ga+Aa,Ma=va+Ca,Ta=va+Aa,La="drawingBuffer",Ia=La+Ca,Da=La+Aa,Ra=[Yo,qo,ca,fa,pa,sa,va,ha,ia],Na=34962,ja=34963,Fa=35632,Ba=35633,Ua=3553,za=34067,Ha=2884,Va=3042,Ga=3024,Wa=2960,qa=2929,Ya=3089,Xa=32823,Ka=32926,Za=32928,Qa=5126,Ja=35664,$a=35665,es=35666,ts=5124,ns=35667,rs=35668,is=35669,os=35670,as=35671,ss=35672,ls=35673,us=35674,cs=35675,fs=35676,ps=35678,ds=35680,hs=4,vs=1028,ms=1029,gs=2304,ys=2305,bs=32775,_s=32776,Es=519,xs=7680,ws=0,Ss=1,Os=32774,Cs=513,As=36160,Ps=36064,ks={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ms=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Ts={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ls={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Is={frag:Fa,vert:Ba},Ds={cw:gs,ccw:ys};function Rs(e){return Array.isArray(e)||t(e)||Ct(e)}function Ns(e){return e.sort((function(e,t){return e===va?-1:t===va?1:e<t?-1:1}))}function js(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function Fs(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function Bs(e){return new js(!1,!1,!1,e)}function Us(e,t){var n=e.type;if(n===No){var r=e.data.length;return new js(!0,r>=1,r>=2,t)}if(n===Uo){var i=e.data;return new js(i.thisDep,i.contextDep,i.propDep,t)}if(n===zo)return new js(!1,!1,!1,t);if(n===Ho){for(var o=!1,a=!1,s=!1,l=0;l<e.data.length;++l){var u=e.data[l];if(u.type===jo)s=!0;else if(u.type===Fo)a=!0;else if(u.type===Bo)o=!0;else if(u.type===No){o=!0;var c=u.data;c>=1&&(a=!0),c>=2&&(s=!0)}else u.type===Uo&&(o=o||u.data.thisDep,a=a||u.data.contextDep,s=s||u.data.propDep)}return new js(o,a,s,t)}return new js(n===Bo,n===Fo,n===jo,t)}var zs=new js(!1,!1,!1,(function(){}));function Hs(e,t,r,i,o,a,s,l,u,c,f,p,d,h,v){var m=c.Record,g={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(g.min=bs,g.max=_s);var y=r.angle_instanced_arrays,b=r.webgl_draw_buffers,_=r.oes_vertex_array_object,E={dirty:!0,profile:v.profile},x={},w=[],S={},O={};function C(e){return e.replace(".","_")}function A(e,t,n){var r=C(e);w.push(e),x[r]=E[r]=!!n,S[r]=t}function P(e,t,n){var r=C(e);w.push(e),Array.isArray(n)?(E[r]=n.slice(),x[r]=n.slice()):E[r]=x[r]=n,O[r]=t}A(Vo,Ga),A(Go,Va),P(Wo,"blendColor",[0,0,0,0]),P(qo,"blendEquationSeparate",[Os,Os]),P(Yo,"blendFuncSeparate",[Ss,ws,Ss,ws]),A(Xo,qa,!0),P(Ko,"depthFunc",Cs),P(Zo,"depthRange",[0,1]),P(Qo,"depthMask",!0),P(Jo,Jo,[!0,!0,!0,!0]),A($o,Ha),P(ea,"cullFace",ms),P(ta,ta,ys),P(na,na,1),A(ra,Xa),P(ia,"polygonOffset",[0,0]),A(oa,Ka),A(aa,Za),P(sa,"sampleCoverage",[1,!1]),A(la,Wa),P(ua,"stencilMask",-1),P(ca,"stencilFunc",[Es,0,-1]),P(fa,"stencilOpSeparate",[vs,xs,xs,xs]),P(pa,"stencilOpSeparate",[ms,xs,xs,xs]),A(da,Ya),P(ha,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),P(va,va,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var k={gl:e,context:d,strings:t,next:x,current:E,draw:p,elements:a,buffer:o,shader:f,attributes:c.state,vao:c,uniforms:u,framebuffer:l,extensions:r,timer:h,isBufferArgs:Rs},M={primTypes:pn,compareFuncs:Ts,blendFuncs:ks,blendEquations:g,stencilOps:Ls,glTypes:Gt,orientationType:Ds};ie.optional((function(){k.isArrayLike=Mn})),b&&(M.backBuffer=[ms],M.drawBuffer=ke(i.maxDrawbuffers,(function(e){return 0===e?[0]:ke(e,(function(e){return Ps+e}))})));var T=0;function L(){var e=To(),n=e.link,r=e.global;e.id=T++,e.batchId="0";var i=n(k),o=e.shared={props:"a0"};Object.keys(k).forEach((function(e){o[e]=r.def(i,".",e)})),ie.optional((function(){e.CHECK=n(ie),e.commandStr=ie.guessCommand(),e.command=n(e.commandStr),e.assert=function(e,t,r){e("if(!(",t,"))",this.CHECK,".commandRaise(",n(r),",",this.command,");")},M.invalidBlendCombinations=Ms}));var a=e.next={},s=e.current={};Object.keys(O).forEach((function(e){Array.isArray(E[e])&&(a[e]=r.def(o.next,".",e),s[e]=r.def(o.current,".",e))}));var l=e.constants={};Object.keys(M).forEach((function(e){l[e]=r.def(JSON.stringify(M[e]))})),e.invoke=function(t,r){switch(r.type){case No:var i=["this",o.context,o.props,e.batchId];return t.def(n(r.data),".call(",i.slice(0,Math.max(r.data.length+1,4)),")");case jo:return t.def(o.props,r.data);case Fo:return t.def(o.context,r.data);case Bo:return t.def("this",r.data);case Uo:return r.data.append(e,t),r.data.ref;case zo:return r.data.toString();case Ho:return r.data.map((function(n){return e.invoke(t,n)}))}},e.attribCache={};var u={};return e.scopeAttrib=function(e){var r=t.id(e);if(r in u)return u[r];var i=c.scope[r];i||(i=c.scope[r]=new m);var o=u[r]=n(i);return o},e}function I(e){var t,n=e["static"],r=e.dynamic;if(ma in n){var i=!!n[ma];t=Bs((function(e,t){return i})),t.enable=i}else if(ma in r){var o=r[ma];t=Us(o,(function(e,t){return e.invoke(t,o)}))}return t}function D(e,t){var n=e["static"],r=e.dynamic;if(ga in n){var i=n[ga];return i?(i=l.getFramebuffer(i),ie.command(i,"invalid framebuffer object"),Bs((function(e,t){var n=e.link(i),r=e.shared;t.set(r.framebuffer,".next",n);var o=r.context;return t.set(o,"."+Pa,n+".width"),t.set(o,"."+ka,n+".height"),n}))):Bs((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+Pa,r+"."+Ia),t.set(r,"."+ka,r+"."+Da),"null"}))}if(ga in r){var o=r[ga];return Us(o,(function(e,t){var n=e.invoke(t,o),r=e.shared,i=r.framebuffer,a=t.def(i,".getFramebuffer(",n,")");ie.optional((function(){e.assert(t,"!"+n+"||"+a,"invalid framebuffer object")})),t.set(i,".next",a);var s=r.context;return t.set(s,"."+Pa,a+"?"+a+".width:"+s+"."+Ia),t.set(s,"."+ka,a+"?"+a+".height:"+s+"."+Da),a}))}return null}function R(e,t,n){var r=e["static"],i=e.dynamic;function o(e){if(e in r){var o=r[e];ie.commandType(o,"object","invalid "+e,n.commandStr);var a,s,l=!0,u=0|o.x,c=0|o.y;return"width"in o?(a=0|o.width,ie.command(a>=0,"invalid "+e,n.commandStr)):l=!1,"height"in o?(s=0|o.height,ie.command(s>=0,"invalid "+e,n.commandStr)):l=!1,new js(!l&&t&&t.thisDep,!l&&t&&t.contextDep,!l&&t&&t.propDep,(function(e,t){var n=e.shared.context,r=a;"width"in o||(r=t.def(n,".",Pa,"-",u));var i=s;return"height"in o||(i=t.def(n,".",ka,"-",c)),[u,c,r,i]}))}if(e in i){var f=i[e],p=Us(f,(function(t,n){var r=t.invoke(n,f);ie.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var i=t.shared.context,o=n.def(r,".x|0"),a=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",Pa,"-",o,")"),l=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",ka,"-",a,")");return ie.optional((function(){t.assert(n,s+">=0&&"+l+">=0","invalid "+e)})),[o,a,s,l]}));return t&&(p.thisDep=p.thisDep||t.thisDep,p.contextDep=p.contextDep||t.contextDep,p.propDep=p.propDep||t.propDep),p}return t?new js(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",Pa),t.def(n,".",ka)]})):null}var a=o(va);if(a){var s=a;a=new js(a.thisDep,a.contextDep,a.propDep,(function(e,t){var n=s.append(e,t),r=e.shared.context;return t.set(r,"."+Ma,n[2]),t.set(r,"."+Ta,n[3]),n}))}return{viewport:a,scissor_box:o(ha)}}function N(e,t){var n=e["static"],r="string"===typeof n[ba]&&"string"===typeof n[ya];if(r){if(Object.keys(t.dynamic).length>0)return null;var i=t["static"],o=Object.keys(i);if(o.length>0&&"number"===typeof i[o[0]]){for(var a=[],s=0;s<o.length;++s)ie("number"===typeof i[o[s]],"must specify all vertex attribute locations when using vaos"),a.push([0|i[o[s]],o[s]]);return a}}return null}function j(e,n,r){var i=e["static"],o=e.dynamic;function a(e){if(e in i){var n=t.id(i[e]);ie.optional((function(){f.shader(Is[e],n,ie.guessCommand())}));var r=Bs((function(){return n}));return r.id=n,r}if(e in o){var a=o[e];return Us(a,(function(t,n){var r=t.invoke(n,a),i=n.def(t.shared.strings,".id(",r,")");return ie.optional((function(){n(t.shared.shader,".shader(",Is[e],",",i,",",t.command,");")})),i}))}return null}var s,l=a(ba),u=a(ya),c=null;return Fs(l)&&Fs(u)?(c=f.program(u.id,l.id,null,r),s=Bs((function(e,t){return e.link(c)}))):s=new js(l&&l.thisDep||u&&u.thisDep,l&&l.contextDep||u&&u.contextDep,l&&l.propDep||u&&u.propDep,(function(e,t){var n,r,i=e.shared.shader;n=l?l.append(e,t):t.def(i,".",ba),r=u?u.append(e,t):t.def(i,".",ya);var o=i+".program("+r+","+n;return ie.optional((function(){o+=","+e.command})),t.def(o+")")})),{frag:l,vert:u,progVar:s,program:c}}function F(e,t){var n=e["static"],r=e.dynamic,i={},o=!1;function s(){if(Oa in n){var e=n[Oa];return null!==e&&null===c.getVAO(e)&&(e=c.createVAO(e)),o=!0,i.vao=e,Bs((function(t){var n=c.getVAO(e);return n?t.link(n):"null"}))}if(Oa in r){o=!0;var t=r[Oa];return Us(t,(function(e,n){var r=e.invoke(n,t);return n.def(e.shared.vao+".getVAO("+r+")")}))}return null}var l=s(),u=!1;function f(){if(_a in n){var e=n[_a];if(i.elements=e,Rs(e)){var s=i.elements=a.create(e,!0);e=a.getElements(s),u=!0}else e&&(e=a.getElements(e),u=!0,ie.command(e,"invalid elements",t.commandStr));var c=Bs((function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null}));return c.value=e,c}if(_a in r){u=!0;var f=r[_a];return Us(f,(function(e,t){var n=e.shared,r=n.isBufferArgs,i=n.elements,o=e.invoke(t,f),a=t.def("null"),s=t.def(r,"(",o,")"),l=e.cond(s).then(a,"=",i,".createStream(",o,");")["else"](a,"=",i,".getElements(",o,");");return ie.optional((function(){e.assert(l["else"],"!"+o+"||"+a,"invalid elements")})),t.entry(l),t.exit(e.cond(s).then(i,".destroyStream(",a,");")),e.ELEMENTS=a,a}))}return o?new js(l.thisDep,l.contextDep,l.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.elements+".getElements("+e.shared.vao+".currentVAO.elements):null")})):null}var p=f();function d(){if(Ea in n){var e=n[Ea];return i.primitive=e,ie.commandParameter(e,pn,"invalid primitve",t.commandStr),Bs((function(t,n){return pn[e]}))}if(Ea in r){var a=r[Ea];return Us(a,(function(e,t){var n=e.constants.primTypes,r=e.invoke(t,a);return ie.optional((function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(pn))})),t.def(n,"[",r,"]")}))}return u?Fs(p)?p.value?Bs((function(e,t){return t.def(e.ELEMENTS,".primType")})):Bs((function(){return hs})):new js(p.thisDep,p.contextDep,p.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",hs)})):o?new js(l.thisDep,l.contextDep,l.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.primitive:"+hs)})):null}function h(e,a){if(e in n){var s=0|n[e];return a?i.offset=s:i.instances=s,ie.command(!a||s>=0,"invalid "+e,t.commandStr),Bs((function(e,t){return a&&(e.OFFSET=s),s}))}if(e in r){var c=r[e];return Us(c,(function(t,n){var r=t.invoke(n,c);return a&&(t.OFFSET=r,ie.optional((function(){t.assert(n,r+">=0","invalid "+e)}))),r}))}if(a){if(u)return Bs((function(e,t){return e.OFFSET=0,0}));if(o)return new js(l.thisDep,l.contextDep,l.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.offset:0")}))}else if(o)return new js(l.thisDep,l.contextDep,l.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.instances:-1")}));return null}var v=h(wa,!0);function m(){if(xa in n){var e=0|n[xa];return i.count=e,ie.command("number"===typeof e&&e>=0,"invalid vertex count",t.commandStr),Bs((function(){return e}))}if(xa in r){var a=r[xa];return Us(a,(function(e,t){var n=e.invoke(t,a);return ie.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(u){if(Fs(p)){if(p)return v?new js(v.thisDep,v.contextDep,v.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return ie.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):Bs((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var s=Bs((function(){return-1}));return ie.optional((function(){s.MISSING=!0})),s}var c=new js(p.thisDep||v.thisDep,p.contextDep||v.contextDep,p.propDep||v.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return ie.optional((function(){c.DYNAMIC=!0})),c}if(o){var f=new js(l.thisDep,l.contextDep,l.propDep,(function(e,t){return t.def(e.shared.vao,".currentVAO?",e.shared.vao,".currentVAO.count:-1")}));return f}return null}var g=d(),y=m(),b=h(Sa,!1);return{elements:p,primitive:g,count:y,instances:b,offset:v,vao:l,vaoActive:o,elementsActive:u,static:i}}function B(e,t){var n=e["static"],r=e.dynamic,o={};return w.forEach((function(e){var a=C(e);function s(t,i){if(e in n){var s=t(n[e]);o[a]=Bs((function(){return s}))}else if(e in r){var l=r[e];o[a]=Us(l,(function(e,t){return i(e,t,e.invoke(t,l))}))}}switch(e){case $o:case Go:case Vo:case la:case Xo:case da:case ra:case oa:case aa:case Qo:return s((function(n){return ie.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,r){return ie.optional((function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)})),r}));case Ko:return s((function(n){return ie.commandParameter(n,Ts,"invalid "+e,t.commandStr),Ts[n]}),(function(t,n,r){var i=t.constants.compareFuncs;return ie.optional((function(){t.assert(n,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(Ts))})),n.def(i,"[",r,"]")}));case Zo:return s((function(e){return ie.command(Mn(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){ie.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")}));var r=t.def("+",n,"[0]"),i=t.def("+",n,"[1]");return[r,i]}));case Yo:return s((function(e){ie.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,o="dstAlpha"in e?e.dstAlpha:e.dst;return ie.commandParameter(n,ks,a+".srcRGB",t.commandStr),ie.commandParameter(r,ks,a+".srcAlpha",t.commandStr),ie.commandParameter(i,ks,a+".dstRGB",t.commandStr),ie.commandParameter(o,ks,a+".dstAlpha",t.commandStr),ie.command(-1===Ms.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[ks[n],ks[i],ks[r],ks[o]]}),(function(t,n,r){var i=t.constants.blendFuncs;function o(o,a){var s=n.def('"',o,a,'" in ',r,"?",r,".",o,a,":",r,".",o);return ie.optional((function(){t.assert(n,s+" in "+i,"invalid "+e+"."+o+a+", must be one of "+Object.keys(ks))})),s}ie.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=o("src","RGB"),s=o("dst","RGB");ie.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var l=n.def(i,"[",a,"]"),u=n.def(i,"[",o("src","Alpha"),"]"),c=n.def(i,"[",s,"]"),f=n.def(i,"[",o("dst","Alpha"),"]");return[l,c,u,f]}));case qo:return s((function(n){return"string"===typeof n?(ie.commandParameter(n,g,"invalid "+e,t.commandStr),[g[n],g[n]]):"object"===typeof n?(ie.commandParameter(n.rgb,g,e+".rgb",t.commandStr),ie.commandParameter(n.alpha,g,e+".alpha",t.commandStr),[g[n.rgb],g[n.alpha]]):void ie.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,r){var i=t.constants.blendEquations,o=n.def(),a=n.def(),s=t.cond("typeof ",r,'==="string"');return ie.optional((function(){function n(e,n,r){t.assert(e,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(g))}n(s.then,e,r),t.assert(s["else"],r+"&&typeof "+r+'==="object"',"invalid "+e),n(s["else"],e+".rgb",r+".rgb"),n(s["else"],e+".alpha",r+".alpha")})),s.then(o,"=",a,"=",i,"[",r,"];"),s["else"](o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),n(s),[o,a]}));case Wo:return s((function(e){return ie.command(Mn(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),ke(4,(function(t){return+e[t]}))}),(function(e,t,n){return ie.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),ke(4,(function(e){return t.def("+",n,"[",e,"]")}))}));case ua:return s((function(e){return ie.commandType(e,"number",a,t.commandStr),0|e}),(function(e,t,n){return ie.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case ca:return s((function(n){ie.commandType(n,"object",a,t.commandStr);var r=n.cmp||"keep",i=n.ref||0,o="mask"in n?n.mask:-1;return ie.commandParameter(r,Ts,e+".cmp",t.commandStr),ie.commandType(i,"number",e+".ref",t.commandStr),ie.commandType(o,"number",e+".mask",t.commandStr),[Ts[r],i,o]}),(function(e,t,n){var r=e.constants.compareFuncs;ie.optional((function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")}));var i=t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",xs),o=t.def(n,".ref|0"),a=t.def('"mask" in ',n,"?",n,".mask|0:-1");return[i,o,a]}));case fa:case pa:return s((function(n){ie.commandType(n,"object",a,t.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",o=n.zpass||"keep";return ie.commandParameter(r,Ls,e+".fail",t.commandStr),ie.commandParameter(i,Ls,e+".zfail",t.commandStr),ie.commandParameter(o,Ls,e+".zpass",t.commandStr),[e===pa?ms:vs,Ls[r],Ls[i],Ls[o]]}),(function(t,n,r){var i=t.constants.stencilOps;function o(o){return ie.optional((function(){t.assert(n,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+e+"."+o+", must be one of "+Object.keys(Ls))})),n.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",xs)}return ie.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[e===pa?ms:vs,o("fail"),o("zfail"),o("zpass")]}));case ia:return s((function(e){ie.commandType(e,"object",a,t.commandStr);var n=0|e.factor,r=0|e.units;return ie.commandType(n,"number",a+".factor",t.commandStr),ie.commandType(r,"number",a+".units",t.commandStr),[n,r]}),(function(t,n,r){ie.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var i=n.def(r,".factor|0"),o=n.def(r,".units|0");return[i,o]}));case ea:return s((function(e){var n=0;return"front"===e?n=vs:"back"===e&&(n=ms),ie.command(!!n,a,t.commandStr),n}),(function(e,t,n){return ie.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',vs,":",ms)}));case na:return s((function(e){return ie.command("number"===typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return ie.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")})),n}));case ta:return s((function(e){return ie.commandParameter(e,Ds,a,t.commandStr),Ds[e]}),(function(e,t,n){return ie.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?'+gs+":"+ys)}));case Jo:return s((function(e){return ie.command(Mn(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return ie.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),ke(4,(function(e){return"!!"+n+"["+e+"]"}))}));case sa:return s((function(e){ie.command("object"===typeof e&&e,a,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return ie.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]}),(function(e,t,n){ie.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")}));var r=t.def('"value" in ',n,"?+",n,".value:1"),i=t.def("!!",n,".invert");return[r,i]}))}})),o}function U(e,t){var n=e["static"],r=e.dynamic,i={};return Object.keys(n).forEach((function(e){var r,o=n[e];if("number"===typeof o||"boolean"===typeof o)r=Bs((function(){return o}));else if("function"===typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=Bs((function(e){return e.link(o)})):"framebuffer"===a||"framebufferCube"===a?(ie.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=Bs((function(e){return e.link(o.color[0])}))):ie.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else Mn(o)?r=Bs((function(t){var n=t.global.def("[",ke(o.length,(function(n){return ie.command("number"===typeof o[n]||"boolean"===typeof o[n],"invalid uniform "+e,t.commandStr),o[n]})),"]");return n})):ie.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=o,i[e]=r})),Object.keys(r).forEach((function(e){var t=r[e];i[e]=Us(t,(function(e,n){return e.invoke(n,t)}))})),i}function z(e,n){var r=e["static"],i=e.dynamic,a={};return Object.keys(r).forEach((function(e){var i=r[e],s=t.id(e),l=new m;if(Rs(i))l.state=Do,l.buffer=o.getBuffer(o.create(i,Na,!1,!0)),l.type=0;else{var u=o.getBuffer(i);if(u)l.state=Do,l.buffer=u,l.type=0;else if(ie.command("object"===typeof i&&i,"invalid data for attribute "+e,n.commandStr),"constant"in i){var c=i.constant;l.buffer="null",l.state=Ro,"number"===typeof c?l.x=c:(ie.command(Mn(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+e,n.commandStr),Lo.forEach((function(e,t){t<c.length&&(l[e]=c[t])})))}else{u=Rs(i.buffer)?o.getBuffer(o.create(i.buffer,Na,!1,!0)):o.getBuffer(i.buffer),ie.command(!!u,'missing buffer for attribute "'+e+'"',n.commandStr);var f=0|i.offset;ie.command(f>=0,'invalid offset for attribute "'+e+'"',n.commandStr);var p=0|i.stride;ie.command(p>=0&&p<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',n.commandStr);var d=0|i.size;ie.command(!("size"in i)||d>0&&d<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',n.commandStr);var h=!!i.normalized,v=0;"type"in i&&(ie.commandParameter(i.type,Gt,"invalid type for attribute "+e,n.commandStr),v=Gt[i.type]);var g=0|i.divisor;ie.optional((function(){"divisor"in i&&(ie.command(0===g||y,'cannot specify divisor for attribute "'+e+'", instancing not supported',n.commandStr),ie.command(g>=0,'invalid divisor for attribute "'+e+'"',n.commandStr));var t=n.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(n){ie.command(r.indexOf(n)>=0,'unknown parameter "'+n+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",t)}))})),l.buffer=u,l.state=Do,l.size=d,l.normalized=h,l.type=v||u.dtype,l.offset=f,l.stride=p,l.divisor=g}}a[e]=Bs((function(e,t){var n=e.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(l).forEach((function(e){r[e]=l[e]})),l.buffer&&(r.buffer=e.link(l.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(i).forEach((function(e){var t=i[e];function n(n,r){var i=n.invoke(r,t),o=n.shared,a=n.constants,s=o.isBufferArgs,l=o.buffer;ie.optional((function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+s+"("+i+")||"+l+".getBuffer("+i+")||"+l+".getBuffer("+i+".buffer)||"+s+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')}));var u={isStream:r.def(!1)},c=new m;c.state=Do,Object.keys(c).forEach((function(e){u[e]=r.def(""+c[e])}));var f=u.buffer,p=u.type;function d(e){r(u[e],"=",i,".",e,"|0;")}return r("if(",s,"(",i,")){",u.isStream,"=true;",f,"=",l,".createStream(",Na,",",i,");",p,"=",f,".dtype;","}else{",f,"=",l,".getBuffer(",i,");","if(",f,"){",p,"=",f,".dtype;",'}else if("constant" in ',i,"){",u.state,"=",Ro,";","if(typeof "+i+'.constant === "number"){',u[Lo[0]],"=",i,".constant;",Lo.slice(1).map((function(e){return u[e]})).join("="),"=0;","}else{",Lo.map((function(e,t){return u[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"})).join(""),"}}else{","if(",s,"(",i,".buffer)){",f,"=",l,".createStream(",Na,",",i,".buffer);","}else{",f,"=",l,".getBuffer(",i,".buffer);","}",p,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",f,".dtype;",u.normalized,"=!!",i,".normalized;"),d("size"),d("offset"),d("stride"),d("divisor"),r("}}"),r.exit("if(",u.isStream,"){",l,".destroyStream(",f,");","}"),u}a[e]=Us(t,n)})),a}function H(e){var t=e["static"],n=e.dynamic,r={};return Object.keys(t).forEach((function(e){var n=t[e];r[e]=Bs((function(e,t){return"number"===typeof n||"boolean"===typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];r[e]=Us(t,(function(e,n){return e.invoke(n,t)}))})),r}function V(e,t,n,i,o){var a=e["static"],s=e.dynamic;ie.optional((function(){var e=[ga,ya,ba,_a,Ea,wa,xa,Sa,ma,Oa].concat(w);function t(t){Object.keys(t).forEach((function(t){ie.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',o.commandStr)}))}t(a),t(s)}));var l=N(e,t),u=D(e,o),f=R(e,u,o),p=F(e,o),d=B(e,o),h=j(e,o,l);function v(e){var t=f[e];t&&(d[e]=t)}v(va),v(C(ha));var m=Object.keys(d).length>0,g={framebuffer:u,draw:p,shader:h,state:d,dirty:m,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(g.profile=I(e,o),g.uniforms=U(n,o),g.drawVAO=g.scopeVAO=p.vao,!g.drawVAO&&h.program&&!l&&r.angle_instanced_arrays&&p["static"].elements){var y=!0,b=h.program.attributes.map((function(e){var n=t["static"][e];return y=y&&!!n,n}));if(y&&b.length>0){var _=c.getVAO(c.createVAO({attributes:b,elements:p["static"].elements}));g.drawVAO=new js(null,null,null,(function(e,t){return e.link(_)})),g.useVAO=!0}}return l?g.useVAO=!0:g.attributes=z(t,o),g.context=H(i,o),g}function G(e,t,n){var r=e.shared,i=r.context,o=e.scope();Object.keys(n).forEach((function(r){t.save(i,"."+r);var a=n[r],s=a.append(e,t);Array.isArray(s)?o(i,".",r,"=[",s.join(),"];"):o(i,".",r,"=",s,";")})),t(o)}function W(e,t,n,r){var i,o=e.shared,a=o.gl,s=o.framebuffer;b&&(i=t.def(o.extensions,".webgl_draw_buffers"));var l,u=e.constants,c=u.drawBuffer,f=u.backBuffer;l=n?n.append(e,t):t.def(s,".next"),r||t("if(",l,"!==",s,".cur){"),t("if(",l,"){",a,".bindFramebuffer(",As,",",l,".framebuffer);"),b&&t(i,".drawBuffersWEBGL(",c,"[",l,".colorAttachments.length]);"),t("}else{",a,".bindFramebuffer(",As,",null);"),b&&t(i,".drawBuffersWEBGL(",f,");"),t("}",s,".cur=",l,";"),r||t("}")}function q(e,t,n){var r=e.shared,i=r.gl,o=e.current,a=e.next,s=r.current,l=r.next,u=e.cond(s,".dirty");w.forEach((function(t){var r,c,f=C(t);if(!(f in n.state))if(f in a){r=a[f],c=o[f];var p=ke(E[f].length,(function(e){return u.def(r,"[",e,"]")}));u(e.cond(p.map((function(e,t){return e+"!=="+c+"["+t+"]"})).join("||")).then(i,".",O[f],"(",p,");",p.map((function(e,t){return c+"["+t+"]="+e})).join(";"),";"))}else{r=u.def(l,".",f);var d=e.cond(r,"!==",s,".",f);u(d),f in S?d(e.cond(r).then(i,".enable(",S[f],");")["else"](i,".disable(",S[f],");"),s,".",f,"=",r,";"):d(i,".",O[f],"(",r,");",s,".",f,"=",r,";")}})),0===Object.keys(n.state).length&&u(s,".dirty=false;"),t(u)}function Y(e,t,n,r){var i=e.shared,o=e.current,a=i.current,s=i.gl;Ns(Object.keys(n)).forEach((function(i){var l=n[i];if(!r||r(l)){var u=l.append(e,t);if(S[i]){var c=S[i];Fs(l)?t(s,u?".enable(":".disable(",c,");"):t(e.cond(u).then(s,".enable(",c,");")["else"](s,".disable(",c,");")),t(a,".",i,"=",u,";")}else if(Mn(u)){var f=o[i];t(s,".",O[i],"(",u,");",u.map((function(e,t){return f+"["+t+"]="+e})).join(";"),";")}else t(s,".",O[i],"(",u,");",a,".",i,"=",u,";")}}))}function X(e,t){y&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function K(e,t,n,r,i){var o,a,s,l=e.shared,u=e.stats,c=l.current,f=l.timer,p=n.profile;function d(){var e="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM;return e||"undefined"===typeof performance?"Date.now()":"performance.now()"}function v(e){o=t.def(),e(o,"=",d(),";"),"string"===typeof i?e(u,".count+=",i,";"):e(u,".count++;"),h&&(r?(a=t.def(),e(a,"=",f,".getNumPendingQueries();")):e(f,".beginQuery(",u,");"))}function m(e){e(u,".cpuTime+=",d(),"-",o,";"),h&&(r?e(f,".pushScopeStats(",a,",",f,".getNumPendingQueries(),",u,");"):e(f,".endQuery();"))}function g(e){var n=t.def(c,".profile");t(c,".profile=",e,";"),t.exit(c,".profile=",n,";")}if(p){if(Fs(p))return void(p.enable?(v(t),m(t.exit),g("true")):g("false"));s=p.append(e,t),g(s)}else s=t.def(c,".profile");var y=e.block();v(y),t("if(",s,"){",y,"}");var b=e.block();m(b),t.exit("if(",s,"){",b,"}")}function Z(e,t,n,r,i){var o=e.shared;function a(e){switch(e){case Ja:case ns:case as:return 2;case $a:case rs:case ss:return 3;case es:case is:case ls:return 4;default:return 1}}function s(n,r,i){var a=o.gl,s=t.def(n,".location"),l=t.def(o.attributes,"[",s,"]"),u=i.state,c=i.buffer,f=[i.x,i.y,i.z,i.w],p=["buffer","normalized","offset","stride"];function d(){t("if(!",l,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,o=i.type;if(n=i.size?t.def(i.size,"||",r):r,t("if(",l,".type!==",o,"||",l,".size!==",n,"||",p.map((function(e){return l+"."+e+"!=="+i[e]})).join("||"),"){",a,".bindBuffer(",Na,",",c,".buffer);",a,".vertexAttribPointer(",[s,n,o,i.normalized,i.stride,i.offset],");",l,".type=",o,";",l,".size=",n,";",p.map((function(e){return l+"."+e+"="+i[e]+";"})).join(""),"}"),y){var u=i.divisor;t("if(",l,".divisor!==",u,"){",e.instancing,".vertexAttribDivisorANGLE(",[s,u],");",l,".divisor=",u,";}")}}function h(){t("if(",l,".buffer){",a,".disableVertexAttribArray(",s,");",l,".buffer=null;","}if(",Lo.map((function(e,t){return l+"."+e+"!=="+f[t]})).join("||"),"){",a,".vertexAttrib4f(",s,",",f,");",Lo.map((function(e,t){return l+"."+e+"="+f[t]+";"})).join(""),"}")}u===Do?d():u===Ro?h():(t("if(",u,"===",Do,"){"),d(),t("}else{"),h(),t("}"))}r.forEach((function(r){var o,l=r.name,u=n.attributes[l];if(u){if(!i(u))return;o=u.append(e,t)}else{if(!i(zs))return;var c=e.scopeAttrib(l);ie.optional((function(){e.assert(t,c+".state","missing attribute "+l)})),o={},Object.keys(new m).forEach((function(e){o[e]=t.def(c,".",e)}))}s(e.link(r),a(r.info.type),o)}))}function Q(e,n,r,i,o,a){for(var s,l=e.shared,u=l.gl,c=0;c<i.length;++c){var f,p=i[c],d=p.name,h=p.info.type,v=r.uniforms[d],m=e.link(p),g=m+".location";if(v){if(!o(v))continue;if(Fs(v)){var y=v.value;if(ie.command(null!==y&&"undefined"!==typeof y,'missing uniform "'+d+'"',e.commandStr),h===ps||h===ds){ie.command("function"===typeof y&&(h===ps&&("texture2d"===y._reglType||"framebuffer"===y._reglType)||h===ds&&("textureCube"===y._reglType||"framebufferCube"===y._reglType)),"invalid texture for uniform "+d,e.commandStr);var b=e.link(y._texture||y.color[0]._texture);n(u,".uniform1i(",g,",",b+".bind());"),n.exit(b,".unbind();")}else if(h===us||h===cs||h===fs){ie.optional((function(){ie.command(Mn(y),"invalid matrix for uniform "+d,e.commandStr),ie.command(h===us&&4===y.length||h===cs&&9===y.length||h===fs&&16===y.length,"invalid length for matrix uniform "+d,e.commandStr)}));var _=e.global.def("new Float32Array(["+Array.prototype.slice.call(y)+"])"),E=2;h===cs?E=3:h===fs&&(E=4),n(u,".uniformMatrix",E,"fv(",g,",false,",_,");")}else{switch(h){case Qa:ie.commandType(y,"number","uniform "+d,e.commandStr),s="1f";break;case Ja:ie.command(Mn(y)&&2===y.length,"uniform "+d,e.commandStr),s="2f";break;case $a:ie.command(Mn(y)&&3===y.length,"uniform "+d,e.commandStr),s="3f";break;case es:ie.command(Mn(y)&&4===y.length,"uniform "+d,e.commandStr),s="4f";break;case os:ie.commandType(y,"boolean","uniform "+d,e.commandStr),s="1i";break;case ts:ie.commandType(y,"number","uniform "+d,e.commandStr),s="1i";break;case as:ie.command(Mn(y)&&2===y.length,"uniform "+d,e.commandStr),s="2i";break;case ns:ie.command(Mn(y)&&2===y.length,"uniform "+d,e.commandStr),s="2i";break;case ss:ie.command(Mn(y)&&3===y.length,"uniform "+d,e.commandStr),s="3i";break;case rs:ie.command(Mn(y)&&3===y.length,"uniform "+d,e.commandStr),s="3i";break;case ls:ie.command(Mn(y)&&4===y.length,"uniform "+d,e.commandStr),s="4i";break;case is:ie.command(Mn(y)&&4===y.length,"uniform "+d,e.commandStr),s="4i";break}n(u,".uniform",s,"(",g,",",Mn(y)?Array.prototype.slice.call(y):y,");")}continue}f=v.append(e,n)}else{if(!o(zs))continue;f=n.def(l.uniforms,"[",t.id(d),"]")}h===ps?(ie(!Array.isArray(f),"must specify a scalar prop for textures"),n("if(",f,"&&",f,'._reglType==="framebuffer"){',f,"=",f,".color[0];","}")):h===ds&&(ie(!Array.isArray(f),"must specify a scalar prop for cube maps"),n("if(",f,"&&",f,'._reglType==="framebufferCube"){',f,"=",f,".color[0];","}")),ie.optional((function(){function t(t,r){e.assert(n,t,'bad data or missing for uniform "'+d+'".  '+r)}function r(e){ie(!Array.isArray(f),"must not specify an array type for uniform"),t("typeof "+f+'==="'+e+'"',"invalid type, expected "+e)}function i(n,r){Array.isArray(f)?ie(f.length===n,"must have length "+n):t(l.isArrayLike+"("+f+")&&"+f+".length==="+n,"invalid vector, should have length "+n,e.commandStr)}function o(n){ie(!Array.isArray(f),"must not specify a value type"),t("typeof "+f+'==="function"&&'+f+'._reglType==="texture'+(n===Ua?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(h){case ts:r("number");break;case ns:i(2,"number");break;case rs:i(3,"number");break;case is:i(4,"number");break;case Qa:r("number");break;case Ja:i(2,"number");break;case $a:i(3,"number");break;case es:i(4,"number");break;case os:r("boolean");break;case as:i(2,"boolean");break;case ss:i(3,"boolean");break;case ls:i(4,"boolean");break;case us:i(4,"number");break;case cs:i(9,"number");break;case fs:i(16,"number");break;case ps:o(Ua);break;case ds:o(za);break}}));var x=1;switch(h){case ps:case ds:var w=n.def(f,"._texture");n(u,".uniform1i(",g,",",w,".bind());"),n.exit(w,".unbind();");continue;case ts:case os:s="1i";break;case ns:case as:s="2i",x=2;break;case rs:case ss:s="3i",x=3;break;case is:case ls:s="4i",x=4;break;case Qa:s="1f";break;case Ja:s="2f",x=2;break;case $a:s="3f",x=3;break;case es:s="4f",x=4;break;case us:s="Matrix2fv";break;case cs:s="Matrix3fv";break;case fs:s="Matrix4fv";break}if("M"===s.charAt(0)){n(u,".uniform",s,"(",g,",");var S=Math.pow(h-us+2,2),O=e.global.def("new Float32Array(",S,")");Array.isArray(f)?n("false,(",ke(S,(function(e){return O+"["+e+"]="+f[e]})),",",O,")"):n("false,(Array.isArray(",f,")||",f," instanceof Float32Array)?",f,":(",ke(S,(function(e){return O+"["+e+"]="+f+"["+e+"]"})),",",O,")"),n(");")}else if(x>1){for(var C=[],A=[],P=0;P<x;++P)Array.isArray(f)?A.push(f[P]):A.push(n.def(f+"["+P+"]")),a&&C.push(n.def());a&&n("if(!",e.batchId,"||",C.map((function(e,t){return e+"!=="+A[t]})).join("||"),"){",C.map((function(e,t){return e+"="+A[t]+";"})).join("")),n(u,".uniform",s,"(",g,",",A.join(","),");"),a&&n("}")}else{if(ie(!Array.isArray(f),"uniform value must not be an array"),a){var k=n.def();n("if(!",e.batchId,"||",k,"!==",f,"){",k,"=",f,";")}n(u,".uniform",s,"(",g,",",f,");"),a&&n("}")}}}function J(e,t,n,r){var i=e.shared,o=i.gl,a=i.draw,s=r.draw;function l(){var l,u=s.elements,c=t;return u?((u.contextDep&&r.contextDynamic||u.propDep)&&(c=n),l=u.append(e,c),s.elementsActive&&c("if("+l+")"+o+".bindBuffer("+ja+","+l+".buffer.buffer);")):(l=c.def(),c(l,"=",a,".",_a,";","if(",l,"){",o,".bindBuffer(",ja,",",l,".buffer.buffer);}","else if(",i.vao,".currentVAO){",l,"=",e.shared.elements+".getElements("+i.vao,".currentVAO.elements);",_?"":"if("+l+")"+o+".bindBuffer("+ja+","+l+".buffer.buffer);","}")),l}function u(){var i,o=s.count,l=t;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(l=n),i=o.append(e,l),ie.optional((function(){o.MISSING&&e.assert(t,"false","missing vertex count"),o.DYNAMIC&&e.assert(l,i+">=0","missing vertex count")}))):(i=l.def(a,".",xa),ie.optional((function(){e.assert(l,i+">=0","missing vertex count")}))),i}var c=l();function f(i){var o=s[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(e,n):o.append(e,t):t.def(a,".",i)}var p,d,h=f(Ea),v=f(wa),m=u();if("number"===typeof m){if(0===m)return}else n("if(",m,"){"),n.exit("}");y&&(p=f(Sa),d=e.instancing);var g=c+".type",b=s.elements&&Fs(s.elements)&&!s.vaoActive;function E(){function e(){n(d,".drawElementsInstancedANGLE(",[h,m,g,v+"<<(("+g+"-"+Io+")>>1)",p],");")}function t(){n(d,".drawArraysInstancedANGLE(",[h,v,m,p],");")}c&&"null"!==c?b?e():(n("if(",c,"){"),e(),n("}else{"),t(),n("}")):t()}function x(){function e(){n(o+".drawElements("+[h,m,g,v+"<<(("+g+"-"+Io+")>>1)"]+");")}function t(){n(o+".drawArrays("+[h,v,m]+");")}c&&"null"!==c?b?e():(n("if(",c,"){"),e(),n("}else{"),t(),n("}")):t()}y&&("number"!==typeof p||p>=0)?"string"===typeof p?(n("if(",p,">0){"),E(),n("}else if(",p,"<0){"),x(),n("}")):E():x()}function $(e,t,n,r,i){var o=L(),a=o.proc("body",i);return ie.optional((function(){o.commandStr=t.commandStr,o.command=o.link(t.commandStr)})),y&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),e(o,a,n,r),o.compile().body}function ee(e,t,n,r){X(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),Z(e,t,n,r.attributes,(function(){return!0}))),Q(e,t,n,r.uniforms,(function(){return!0}),!1),J(e,t,t,n)}function te(e,t){var n=e.proc("draw",1);X(e,n),G(e,n,t.context),W(e,n,t.framebuffer),q(e,n,t),Y(e,n,t.state),K(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)ee(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),o=n.def(r,".id"),a=n.def(i,"[",o,"]");n(e.cond(a).then(a,".call(this,a0);")["else"](a,"=",i,"[",o,"]=",e.link((function(n){return $(ee,e,t,n,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function ne(e,t,n,r){function i(){return!0}e.batchId="a1",X(e,t),Z(e,t,n,r.attributes,i),Q(e,t,n,r.uniforms,i,!1),J(e,t,t,n)}function re(e,t,n,r){X(e,t);var i=n.contextDep,o=t.def(),a="a0",s="a1",l=t.def();e.shared.props=l,e.batchId=o;var u=e.scope(),c=e.scope();function f(e){return e.contextDep&&i||e.propDep}function p(e){return!f(e)}if(t(u.entry,"for(",o,"=0;",o,"<",s,";++",o,"){",l,"=",a,"[",o,"];",c,"}",u.exit),n.needsContext&&G(e,c,n.context),n.needsFramebuffer&&W(e,c,n.framebuffer),Y(e,c,n.state,f),n.profile&&f(n.profile)&&K(e,c,n,!1,!0),r)n.useVAO?n.drawVAO?f(n.drawVAO)?c(e.shared.vao,".setVAO(",n.drawVAO.append(e,c),");"):u(e.shared.vao,".setVAO(",n.drawVAO.append(e,u),");"):u(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(u(e.shared.vao,".setVAO(null);"),Z(e,u,n,r.attributes,p),Z(e,c,n,r.attributes,f)),Q(e,u,n,r.uniforms,p,!1),Q(e,c,n,r.uniforms,f,!0),J(e,u,c,n);else{var d=e.global.def("{}"),h=n.shader.progVar.append(e,c),v=c.def(h,".id"),m=c.def(d,"[",v,"]");c(e.shared.gl,".useProgram(",h,".program);","if(!",m,"){",m,"=",d,"[",v,"]=",e.link((function(t){return $(ne,e,n,t,2)})),"(",h,");}",m,".call(this,a0[",o,"],",o,");")}}function oe(e,t){var n=e.proc("batch",2);e.batchId="0",X(e,n);var r=!1,i=!0;Object.keys(t.context).forEach((function(e){r=r||t.context[e].propDep})),r||(G(e,n,t.context),i=!1);var o=t.framebuffer,a=!1;function s(e){return e.contextDep&&r||e.propDep}o?(o.propDep?r=a=!0:o.contextDep&&r&&(a=!0),a||W(e,n,o)):W(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),q(e,n,t),Y(e,n,t.state,(function(e){return!s(e)})),t.profile&&s(t.profile)||K(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=i,t.needsFramebuffer=a;var l=t.shader.progVar;if(l.contextDep&&r||l.propDep)re(e,n,t,null);else{var u=l.append(e,n);if(n(e.shared.gl,".useProgram(",u,".program);"),t.shader.program)re(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var c=e.global.def("{}"),f=n.def(u,".id"),p=n.def(c,"[",f,"]");n(e.cond(p).then(p,".call(this,a0,a1);")["else"](p,"=",c,"[",f,"]=",e.link((function(n){return $(re,e,t,n,2)})),"(",u,");",p,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function ae(e,n){var r=e.proc("scope",3);e.batchId="a2";var i=e.shared,o=i.current;function a(t){var o=n.shader[t];o&&r.set(i.shader,"."+t,o.append(e,r))}G(e,r,n.context),n.framebuffer&&n.framebuffer.append(e,r),Ns(Object.keys(n.state)).forEach((function(t){var o=n.state[t],a=o.append(e,r);Mn(a)?a.forEach((function(n,i){r.set(e.next[t],"["+i+"]",n)})):r.set(i.next,"."+t,a)})),K(e,r,n,!0,!0),[_a,wa,xa,Sa,Ea].forEach((function(t){var o=n.draw[t];o&&r.set(i.draw,"."+t,""+o.append(e,r))})),Object.keys(n.uniforms).forEach((function(o){var a=n.uniforms[o].append(e,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(i.uniforms,"["+t.id(o)+"]",a)})),Object.keys(n.attributes).forEach((function(t){var i=n.attributes[t].append(e,r),o=e.scopeAttrib(t);Object.keys(new m).forEach((function(e){r.set(o,"."+e,i[e])}))})),n.scopeVAO&&r.set(i.vao,".targetVAO",n.scopeVAO.append(e,r)),a(ya),a(ba),Object.keys(n.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}function se(e){if("object"===typeof e&&!Mn(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(me.isDynamic(e[t[n]]))return!0;return!1}}function le(e,t,n){var r=t["static"][n];if(r&&se(r)){var i=e.global,o=Object.keys(r),a=!1,s=!1,l=!1,u=e.global.def("{}");o.forEach((function(t){var n=r[t];if(me.isDynamic(n)){"function"===typeof n&&(n=r[t]=me.unbox(n));var o=Us(n,null);a=a||o.thisDep,l=l||o.propDep,s=s||o.contextDep}else{switch(i(u,".",t,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(e.link(n));break}i(";")}})),t.dynamic[n]=new me.DynamicVariable(Uo,{thisDep:a,contextDep:s,propDep:l,ref:u,append:c}),delete t["static"][n]}function c(e,t){o.forEach((function(n){var i=r[n];if(me.isDynamic(i)){var o=e.invoke(t,i);t(u,".",n,"=",o,";")}}))}}function ue(e,t,r,i,o){var a=L();a.stats=a.link(o),Object.keys(t["static"]).forEach((function(e){le(a,t,e)})),Ra.forEach((function(t){le(a,e,t)}));var s=V(e,t,r,i,a);return te(a,s),ae(a,s),oe(a,s),n(a.compile(),{destroy:function(){s.shader.program.destroy()}})}return{next:x,current:E,procs:function(){var e=L(),t=e.proc("poll"),n=e.proc("refresh"),o=e.block();t(o),n(o);var a,s=e.shared,l=s.gl,u=s.next,c=s.current;o(c,".dirty=false;"),W(e,t),W(e,n,null,!0),y&&(a=e.link(y)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var f=0;f<i.maxAttributes;++f){var p=n.def(s.attributes,"[",f,"]"),d=e.cond(p,".buffer");d.then(l,".enableVertexAttribArray(",f,");",l,".bindBuffer(",Na,",",p,".buffer.buffer);",l,".vertexAttribPointer(",f,",",p,".size,",p,".type,",p,".normalized,",p,".stride,",p,".offset);")["else"](l,".disableVertexAttribArray(",f,");",l,".vertexAttrib4f(",f,",",p,".x,",p,".y,",p,".z,",p,".w);",p,".buffer=null;"),n(d),y&&n(a,".vertexAttribDivisorANGLE(",f,",",p,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(S).forEach((function(r){var i=S[r],a=o.def(u,".",r),s=e.block();s("if(",a,"){",l,".enable(",i,")}else{",l,".disable(",i,")}",c,".",r,"=",a,";"),n(s),t("if(",a,"!==",c,".",r,"){",s,"}")})),Object.keys(O).forEach((function(r){var i,a,s=O[r],f=E[r],p=e.block();if(p(l,".",s,"("),Mn(f)){var d=f.length;i=e.global.def(u,".",r),a=e.global.def(c,".",r),p(ke(d,(function(e){return i+"["+e+"]"})),");",ke(d,(function(e){return a+"["+e+"]="+i+"["+e+"];"})).join("")),t("if(",ke(d,(function(e){return i+"["+e+"]!=="+a+"["+e+"]"})).join("||"),"){",p,"}")}else i=o.def(u,".",r),a=o.def(c,".",r),p(i,");",c,".",r,"=",i,";"),t("if(",i,"!==",a,"){",p,"}");n(p)})),e.compile()}(),compile:ue}}function Vs(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Gs=34918,Ws=34919,qs=35007,Ys=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function i(e){n.push(e)}var o=[];function a(e){var n=r();t.ext_disjoint_timer_query.beginQueryEXT(qs,n),o.push(n),d(o.length-1,o.length,e)}function s(){t.ext_disjoint_timer_query.endQueryEXT(qs)}function l(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var u=[];function c(){return u.pop()||new l}function f(e){u.push(e)}var p=[];function d(e,t,n){var r=c();r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,p.push(r)}var h=[],v=[];function m(){var e,n,r=o.length;if(0!==r){v.length=Math.max(v.length,r+1),h.length=Math.max(h.length,r+1),h[0]=0,v[0]=0;var a=0;for(e=0,n=0;n<o.length;++n){var s=o[n];t.ext_disjoint_timer_query.getQueryObjectEXT(s,Ws)?(a+=t.ext_disjoint_timer_query.getQueryObjectEXT(s,Gs),i(s)):o[e++]=s,h[n+1]=a,v[n+1]=e}for(o.length=e,e=0,n=0;n<p.length;++n){var l=p[n],u=l.startQueryIndex,c=l.endQueryIndex;l.sum+=h[c]-h[u];var d=v[u],m=v[c];m===d?(l.stats.gpuTime+=l.sum/1e6,f(l)):(l.startQueryIndex=d,l.endQueryIndex=m,p[e++]=l)}p.length=e}}return{beginQuery:a,endQuery:s,pushScopeStats:d,update:m,getNumPendingQueries:function(){return o.length},clear:function(){n.push.apply(n,o);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);o.length=0,n.length=0},restore:function(){o.length=0,n.length=0}}},Xs=16384,Ks=256,Zs=1024,Qs=34962,Js="webglcontextlost",$s="webglcontextrestored",el=1,tl=2,nl=3;function rl(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function il(e){var t=Ae(e);if(!t)return null;var r=t.gl,i=r.getContextAttributes(),o=r.isContextLost(),a=Pe(r,t);if(!a)return null;var s=_e(),l=Vs(),u=a.extensions,c=Ys(r,u),f=be(),p=r.drawingBufferWidth,d=r.drawingBufferHeight,h={tick:0,time:0,viewportWidth:p,viewportHeight:d,framebufferWidth:p,framebufferHeight:d,drawingBufferWidth:p,drawingBufferHeight:d,pixelRatio:t.pixelRatio},v={},m={elements:null,primitive:4,count:-1,offset:0,instances:-1},g=Ot(r,u),y=on(r,l,t,E),b=On(r,u,y,l),_=yo(r,u,g,l,y,b,m);function E(e){return _.destroyBuffer(e)}var x=wo(r,s,l,t),w=mi(r,u,g,(function(){C.procs.poll()}),h,l,t),S=Mi(r,u,g,l,t),O=fo(r,u,g,w,S,l),C=Hs(r,s,u,g,y,b,w,O,v,_,x,m,h,c,t),A=Po(r,O,C.procs.poll,h,i,u,g),P=C.next,k=r.canvas,M=[],T=[],L=[],I=[t.onDestroy],D=null;function R(){if(0===M.length)return c&&c.update(),void(D=null);D=ge.next(R),X();for(var e=M.length-1;e>=0;--e){var t=M[e];t&&t(h,null,0)}r.flush(),c&&c.update()}function N(){!D&&M.length>0&&(D=ge.next(R))}function j(){D&&(ge.cancel(R),D=null)}function F(e){e.preventDefault(),o=!0,j(),T.forEach((function(e){e()}))}function B(e){r.getError(),o=!1,a.restore(),x.restore(),y.restore(),w.restore(),S.restore(),O.restore(),_.restore(),c&&c.restore(),C.procs.refresh(),N(),L.forEach((function(e){e()}))}var U="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM;function z(){M.length=0,j(),!U&&k&&(k.removeEventListener(Js,F),k.removeEventListener($s,B)),x.clear(),O.clear(),S.clear(),_.clear(),w.clear(),b.clear(),y.clear(),c&&c.clear(),I.forEach((function(e){e()}))}function H(e){function t(e){var t=n({},e);function r(e){if(e in t){var n=t[e];delete t[e],Object.keys(n).forEach((function(r){t[e+"."+r]=n[r]}))}}return delete t.uniforms,delete t.attributes,delete t.context,delete t.vao,"stencil"in t&&t.stencil.op&&(t.stencil.opBack=t.stencil.opFront=t.stencil.op,delete t.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(t.vao=e.vao),t}function r(e,t){var n={},r={};return Object.keys(e).forEach((function(i){var o=e[i];if(me.isDynamic(o))r[i]=me.unbox(o,i);else{if(t&&Array.isArray(o))for(var a=0;a<o.length;++a)if(me.isDynamic(o[a]))return void(r[i]=me.unbox(o,i));n[i]=o}})),{dynamic:r,static:n}}ie(!!e,"invalid args to regl({...})"),ie.type(e,"object","invalid args to regl({...})");var i=r(e.context||{},!0),a=r(e.uniforms||{},!0),s=r(e.attributes||{},!1),l=r(t(e),!1),u={gpuTime:0,cpuTime:0,count:0},c=C.compile(l,s,a,i,u),f=c.draw,p=c.batch,d=c.scope,h=[];function v(e){while(h.length<e)h.push(null);return h}function m(e,t){var n;if(o&&ie.raise("context lost"),"function"===typeof e)return d.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(n=0;n<e;++n)d.call(this,null,t,n);else{if(!Array.isArray(e))return d.call(this,e,t,0);for(n=0;n<e.length;++n)d.call(this,e[n],t,n)}else if("number"===typeof e){if(e>0)return p.call(this,v(0|e),0|e)}else{if(!Array.isArray(e))return f.call(this,e);if(e.length)return p.call(this,e,e.length)}}return n(m,{stats:u,destroy:function(){c.destroy()}})}!U&&k&&(k.addEventListener(Js,F,!1),k.addEventListener($s,B,!1));var V=O.setFBO=H({framebuffer:me.define.call(null,el,"framebuffer")});function G(e,t){var n=0;C.procs.poll();var i=t.color;i&&(r.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=Xs),"depth"in t&&(r.clearDepth(+t.depth),n|=Ks),"stencil"in t&&(r.clearStencil(0|t.stencil),n|=Zs),ie(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function W(e){if(ie("object"===typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var t=0;t<6;++t)V(n({framebuffer:e.framebuffer.faces[t]},e),G);else V(e,G);else G(null,e)}function q(e){function t(){var t=rl(M,e);function n(){var e=rl(M,n);M[e]=M[M.length-1],M.length-=1,M.length<=0&&j()}ie(t>=0,"cannot cancel a frame twice"),M[t]=n}return ie.type(e,"function","regl.frame() callback must be a function"),M.push(e),N(),{cancel:t}}function Y(){var e=P.viewport,t=P.scissor_box;e[0]=e[1]=t[0]=t[1]=0,h.viewportWidth=h.framebufferWidth=h.drawingBufferWidth=e[2]=t[2]=r.drawingBufferWidth,h.viewportHeight=h.framebufferHeight=h.drawingBufferHeight=e[3]=t[3]=r.drawingBufferHeight}function X(){h.tick+=1,h.time=Z(),Y(),C.procs.poll()}function K(){w.refresh(),Y(),C.procs.refresh(),c&&c.update()}function Z(){return(be()-f)/1e3}function Q(e,t){var n;switch(ie.type(t,"function","listener callback must be a function"),e){case"frame":return q(t);case"lost":n=T;break;case"restore":n=L;break;case"destroy":n=I;break;default:ie.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}}K();var J=n(H,{clear:W,prop:me.define.bind(null,el),context:me.define.bind(null,tl),this:me.define.bind(null,nl),draw:H({}),buffer:function(e){return y.create(e,Qs,!1,!1)},elements:function(e){return b.create(e,!1)},texture:w.create2D,cube:w.createCube,renderbuffer:S.create,framebuffer:O.create,framebufferCube:O.createCube,vao:_.createVAO,attributes:i,frame:q,on:Q,limits:g,hasExtension:function(e){return g.extensions.indexOf(e.toLowerCase())>=0},read:A,destroy:z,_gl:r,_refresh:K,poll:function(){X(),c&&c.update()},now:Z,stats:l});return t.onDone(null,J),J}return il}))},SYor:function(e,t,n){"use strict";var r=n("I+eb"),i=n("WKiH").trim,o=n("yNLB");r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},SfRM:function(e,t,n){var r=n("YESw");function i(){this.__data__=r?r(null):{},this.size=0}e.exports=i},Shuf:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{e.addImage("dingwei","https://gw.alipayobjects.com/mdn/rms_3bf4aa/afts/img/A*JL46TZ_iYB0AAAAAAAAAAAAAARQnAQ");var t=new o["DrawPoint"](e,{style:{point:{normal:{shape:"dingwei",size:10},hover:{shape:"dingwei",size:20,color:"#1990FF"},active:{shape:"dingwei",size:20}}}});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},Si40:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("SEBh"),u=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(e){var t=a(this),n=new(l(t,o("Set")))(t),r=s(n["delete"]),i=s(n.add);return u(e,(function(e){r.call(n,e)||i.call(n,e)})),n}})},Sk89:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n("MON2"),i=n("xfSm"),o=n("GXnB");function a(){return function(e,t,n){var a=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,e.constructor)}}t.postConstruct=a},SksO:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},SpvK:function(e,t,n){var r=n("dOgj");r("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},Sssf:function(e,t,n){var r=n("xDBR"),i=n("mh/w");e.exports=r?i:function(e){return Map.prototype.entries.call(e)}},SuFq:function(e,t,n){var r=n("I+eb"),i=n("0GbY"),o=n("HAuM"),a=n("glrk"),s=n("hh1v"),l=n("fHMY"),u=n("BTho"),c=n("0Dky"),f=i("Reflect","construct"),p=c((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),d=!c((function(){f((function(){}))})),h=p||d;r({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!p)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var i=n.prototype,c=l(s(i)?i:Object.prototype),h=Function.apply.call(e,c,t);return s(h)?h:c}})},Syoe:function(e,t,n){},T1AV:function(e,t,n){var r=n("t2Dn"),i=n("5Tg0"),o=n("yP5f"),a=n("Q1l4"),s=n("+iFO"),l=n("03A+"),u=n("Z0cm"),c=n("3L66"),f=n("DSRE"),p=n("lSCD"),d=n("GoyQ"),h=n("YO3V"),v=n("c6wG"),m=n("itsj"),g=n("jeLo");function y(e,t,n,y,b,_,E){var x=m(e,n),w=m(t,n),S=E.get(w);if(S)r(e,n,S);else{var O=_?_(x,w,n+"",e,t,E):void 0,C=void 0===O;if(C){var A=u(w),P=!A&&f(w),k=!A&&!P&&v(w);O=w,A||P||k?u(x)?O=x:c(x)?O=a(x):P?(C=!1,O=i(w,!0)):k?(C=!1,O=o(w,!0)):O=[]:h(w)||l(w)?(O=x,l(x)?O=g(x):d(x)&&!p(x)||(O=s(w))):C=!1}C&&(E.set(w,O),b(O,w,y,_,E),E["delete"](w)),r(e,n,O)}}e.exports=y},T5bk:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("DSFK"),i=n("25BE"),o=n("BsWD"),a=n("PYwp");function s(e){return Object(r["a"])(e)||Object(i["a"])(e)||Object(o["a"])(e)||Object(a["a"])()}},T63A:function(e,t,n){var r=n("I+eb"),i=n("b1O7").entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},TIQr:function(e,t,n){"use strict";e.exports=i,e.exports["default"]=i;var r=1e20;function i(e,t,n,r,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer,s=a+2*this.buffer,l="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM;l?this.canvas=my.createOffscreenCanvas(a,a,"2d"):(this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a),this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=l?Math.round(a/2*1):Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function o(e,t,n,i,o,a,s){a.fill(r,0,t*n),s.fill(0,0,t*n);for(var l=(t-i)/2,u=0;u<o;u++)for(var c=0;c<i;c++){var f=(u+l)*t+c+l,p=e.data[4*(u*i+c)+3]/255;if(1===p)a[f]=0,s[f]=r;else if(0===p)a[f]=r,s[f]=0;else{var d=Math.max(0,.5-p),h=Math.max(0,p-.5);a[f]=d*d,s[f]=h*h}}}function a(e,t,n,r,i,o,a){for(var s=0;s<t*n;s++){var l=Math.sqrt(r[s])-Math.sqrt(i[s]);e[s]=Math.round(255-255*(l/o+a))}}function s(e,t,n,r,i,o){for(var a=0;a<t;a++)l(e,a,t,n,r,i,o);for(var s=0;s<n;s++)l(e,s*t,1,t,r,i,o)}function l(e,t,n,i,o,a,s){var l,u,c,f;for(a[0]=0,s[0]=-r,s[1]=r,l=0;l<i;l++)o[l]=e[t+l*n];for(l=1,u=0,c=0;l<i;l++){do{f=a[u],c=(o[l]-o[f]+l*l-f*f)/(l-f)/2}while(c<=s[u]&&--u>-1);u++,a[u]=l,s[u]=c,s[u+1]=r}for(l=0,u=0;l<i;l++){while(s[u+1]<l)u++;f=a[u],e[t+l*n]=o[f]+(l-f)*(l-f)}}i.prototype._draw=function(e,t){var n,r,i,l,u,c,f,p,d,h=this.ctx.measureText(e),v=h.width,m=2*this.buffer;t&&this.useMetrics?(u=Math.floor(h.actualBoundingBoxAscent),p=this.buffer+Math.ceil(h.actualBoundingBoxAscent),c=this.buffer,f=this.buffer,r=Math.min(this.size,Math.ceil(h.actualBoundingBoxRight-h.actualBoundingBoxLeft)),l=Math.min(this.size-c,Math.ceil(h.actualBoundingBoxAscent+h.actualBoundingBoxDescent)),n=r+m,i=l+m,this.ctx.textBaseline="alphabetic"):(n=r=this.size,i=l=this.size,u=19*this.fontSize/24,c=f=0,p=this.middle,this.ctx.textBaseline="middle"),r&&l&&(this.ctx.clearRect(f,c,r,l),this.ctx.fillText(e,this.buffer,p),d=this.ctx.getImageData(f,c,r,l));var g=new Uint8ClampedArray(n*i);return o(d,n,i,r,l,this.gridOuter,this.gridInner),s(this.gridOuter,n,i,this.f,this.v,this.z),s(this.gridInner,n,i,this.f,this.v,this.z),a(g,n,i,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:g,metrics:{width:r,height:l,sdfWidth:n,sdfHeight:i,top:u,left:0,advance:v}}},i.prototype.draw=function(e){return this._draw(e,!1).data},i.prototype.drawWithMetrics=function(e){return this._draw(e,!0)}},TJ79:function(e,t,n){var r=n("I+eb"),i=n("P940");r({target:"WeakMap",stat:!0},{of:i})},TKrE:function(e,t,n){var r=n("qRkn"),i=n("dt0z"),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",l="\\u20d0-\\u20ff",u=a+s+l,c="["+u+"]",f=RegExp(c,"g");function p(e){return e=i(e),e&&e.replace(o,r).replace(f,"")}e.exports=p},TNol:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n("q1tI"),i=n("MNnm"),o=Object(i["a"])()?r["useLayoutEffect"]:r["useEffect"];t["a"]=o;var a=function(e,t){var n=r["useRef"](!0);o((function(){if(!n.current)return e()}),t),o((function(){return n.current=!1,function(){n.current=!0}}),[])}},TO8r:function(e,t){var n=/\s/;function r(e){var t=e.length;while(t--&&n.test(e.charAt(t)));return t}e.exports=r},"TP/R":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["line-adsorb"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["line-adsorb"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},TP7S:function(e,t){function n(e){return void 0===e}e.exports=n},TSYQ:function(e,t,n){var r,i;(function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(o["default"]=o,e.exports=o):(r=[],i=function(){return o}.apply(t,r),void 0===i||(e.exports=i))})()},TWNs:function(e,t,n){var r=n("g6v/"),i=n("2oRo"),o=n("lMq5"),a=n("cVYH"),s=n("m/L8").f,l=n("JBy8").f,u=n("ROdP"),c=n("rW0t"),f=n("n3/R"),p=n("busE"),d=n("0Dky"),h=n("afO8").set,v=n("JiZb"),m=n("tiKp"),g=m("match"),y=i.RegExp,b=y.prototype,_=/a/g,E=/a/g,x=new y(_)!==_,w=f.UNSUPPORTED_Y,S=r&&o("RegExp",!x||w||d((function(){return E[g]=!1,y(_)!=_||y(E)==E||"/a/i"!=y(_,"i")})));if(S){var O=function(e,t){var n,r=this instanceof O,i=u(e),o=void 0===t;if(!r&&i&&e.constructor===O&&o)return e;x?i&&!o&&(e=e.source):e instanceof O&&(o&&(t=c.call(e)),e=e.source),w&&(n=!!t&&t.indexOf("y")>-1,n&&(t=t.replace(/y/g,"")));var s=a(x?new y(e,t):y(e,t),r?this:b,O);return w&&n&&h(s,{sticky:n}),s},C=function(e){e in O||s(O,e,{configurable:!0,get:function(){return y[e]},set:function(t){y[e]=t}})},A=l(y),P=0;while(A.length>P)C(A[P++]);b.constructor=O,O.prototype=b,p(i,"RegExp",O)}v("RegExp")},TWQb:function(e,t,n){var r=n("/GqU"),i=n("UMSQ"),o=n("I8vh"),a=function(e){return function(t,n,a){var s,l=r(t),u=i(l.length),c=o(a,u);if(e&&n!=n){while(u>c)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},TZCg:function(e,t,n){"use strict";var r=n("I+eb"),i=n("DMt2").start,o=n("mgyK");r({target:"String",proto:!0,forced:o},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},TeQF:function(e,t,n){"use strict";var r=n("I+eb"),i=n("tycR").filter,o=n("Hd5f"),a=n("rkAj"),s=o("filter"),l=a("filter");r({target:"Array",proto:!0,forced:!s||!l},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"Tek+":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["rect-multiple"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["rect-multiple"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},TfTi:function(e,t,n){"use strict";var r=n("A2ZE"),i=n("ewvW"),o=n("m92n"),a=n("6VoE"),s=n("UMSQ"),l=n("hBjN"),u=n("NaFW");e.exports=function(e){var t,n,c,f,p,d,h=i(e),v="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,y=void 0!==g,b=u(h),_=0;if(y&&(g=r(g,m>2?arguments[2]:void 0,2)),void 0==b||v==Array&&a(b))for(t=s(h.length),n=new v(t);t>_;_++)d=y?g(h[_],_):h[_],l(n,_,d);else for(f=b.call(h),p=f.next,n=new v;!(c=p.call(f)).done;_++)d=y?o(f,g,[c.value,_],!0):c.value,l(n,_,d);return n.length=_,n}},Thag:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("A2ZE"),s=n("Sssf"),l=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{some:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return l(n,(function(e,n){if(r(n,e,t))return l.stop()}),void 0,!0,!0).stopped}})},ToJy:function(e,t,n){"use strict";var r=n("I+eb"),i=n("HAuM"),o=n("ewvW"),a=n("0Dky"),s=n("pkCn"),l=[],u=l.sort,c=a((function(){l.sort(void 0)})),f=a((function(){l.sort(null)})),p=s("sort"),d=c||!f||!p;r({target:"Array",proto:!0,forced:d},{sort:function(e){return void 0===e?u.call(o(this)):u.call(o(this),i(e))}})},ToOd:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("LvDl"),l=n("q1tI"),u=n.n(l),c=n("rz5R"),f=String(Math.random()),p=()=>{var e=Object(l["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(l["useEffect"])((()=>{var e=new i["f"]({id:f,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})}),t=Object(s["cloneDeep"])(c["a"]);t[0].properties&&(t[0].properties.isActive=!0),e.on("loaded",(()=>{var r=new o["DrawLine"](e,{showMidPoint:!1,initialData:t});n(r),r.enable()}))}),[]),u.a.createElement("div",null,u.a.createElement("div",{id:f,style:{height:400,position:"relative"}}))};t["default"]=p},TpwP:function(e,t,n){},Tskq:function(e,t,n){"use strict";var r=n("bWFh"),i=n("ZWaQ");e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},Ty5D:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return z})),n.d(t,"g",(function(){return H})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return I})),n.d(t,"j",(function(){return W})),n.d(t,"k",(function(){return q})),n.d(t,"l",(function(){return Y})),n.d(t,"m",(function(){return X})),n.d(t,"n",(function(){return V}));var r=n("dI71"),i=n("q1tI"),o=n.n(i),a=n("YS25"),s=n("tEiQ"),l=n("9R94"),u=n("wx14"),c=n("vRGJ"),f=n.n(c),p=(n("mSXw"),n("zLVn")),d=n("2mql"),h=n.n(d),v=function(e){var t=Object(s["a"])();return t.displayName=e,t},m=v("Router-History"),g=function(e){var t=Object(s["a"])();return t.displayName=e,t},y=g("Router"),b=function(e){function t(t){var n;return n=e.call(this,t)||this,n.state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r["a"])(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(y.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(m.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);var _=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,t.history=Object(a["d"])(t.props),t}Object(r["a"])(t,e);var n=t.prototype;return n.render=function(){return o.a.createElement(b,{history:this.history,children:this.props.children})},t}(o.a.Component);var E=function(e){function t(){return e.apply(this,arguments)||this}Object(r["a"])(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.a.Component);function x(e){var t=e.message,n=e.when,r=void 0===n||n;return o.a.createElement(y.Consumer,null,(function(e){if(e||Object(l["a"])(!1),!r||e.staticContext)return null;var n=e.history.block;return o.a.createElement(E,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var w={},S=1e4,O=0;function C(e){if(w[e])return w[e];var t=f.a.compile(e);return O<S&&(w[e]=t,O++),t}function A(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:C(e)(t,{pretty:!0})}function P(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return o.a.createElement(y.Consumer,null,(function(e){e||Object(l["a"])(!1);var r=e.history,s=e.staticContext,c=i?r.push:r.replace,f=Object(a["c"])(t?"string"===typeof n?A(n,t.params):Object(u["a"])({},n,{pathname:A(n.pathname,t.params)}):n);return s?(c(f),null):o.a.createElement(E,{onMount:function(){c(f)},onUpdate:function(e,t){var n=Object(a["c"])(t.to);Object(a["f"])(n,Object(u["a"])({},f,{key:n.key}))||c(f)},to:n})}))}var k={},M=1e4,T=0;function L(e,t){var n=""+t.end+t.strict+t.sensitive,r=k[n]||(k[n]={});if(r[e])return r[e];var i=[],o=f()(e,i,t),a={regexp:o,keys:i};return T<M&&(r[e]=a,T++),a}function I(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,l=n.sensitive,u=void 0!==l&&l,c=[].concat(r);return c.reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=L(n,{end:o,strict:s,sensitive:u}),i=r.regexp,a=r.keys,l=i.exec(e);if(!l)return null;var c=l[0],f=l.slice(1),p=e===c;return o&&!p?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:p,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var D=function(e){function t(){return e.apply(this,arguments)||this}Object(r["a"])(t,e);var n=t.prototype;return n.render=function(){var e=this;return o.a.createElement(y.Consumer,null,(function(t){t||Object(l["a"])(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?I(n.pathname,e.props):t.match,i=Object(u["a"])({},t,{location:n,match:r}),a=e.props,s=a.children,c=a.component,f=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(y.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:c?o.a.createElement(c,i):f?f(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function R(e){return"/"===e.charAt(0)?e:"/"+e}function N(e,t){return e?Object(u["a"])({},t,{pathname:R(e)+t.pathname}):t}function j(e,t){if(!e)return t;var n=R(e);return 0!==t.pathname.indexOf(n)?t:Object(u["a"])({},t,{pathname:t.pathname.substr(n.length)})}function F(e){return"string"===typeof e?e:Object(a["e"])(e)}function B(e){return function(){Object(l["a"])(!1)}}function U(){}var z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,t.handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return U},t.handleBlock=function(){return U},t}Object(r["a"])(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,i=void 0===r?"":r,o=n.context,s=void 0===o?{}:o;s.action=t,s.location=N(i,Object(a["c"])(e)),s.url=F(s.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,i=void 0===r?{}:r,s=e.location,l=void 0===s?"/":s,c=Object(p["a"])(e,["basename","context","location"]),f={createHref:function(e){return R(n+F(e))},action:"POP",location:j(n,Object(a["c"])(l)),push:this.handlePush,replace:this.handleReplace,go:B("go"),goBack:B("goBack"),goForward:B("goForward"),listen:this.handleListen,block:this.handleBlock};return o.a.createElement(b,Object(u["a"])({},c,{history:f,staticContext:i}))},t}(o.a.Component);var H=function(e){function t(){return e.apply(this,arguments)||this}Object(r["a"])(t,e);var n=t.prototype;return n.render=function(){var e=this;return o.a.createElement(y.Consumer,null,(function(t){t||Object(l["a"])(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?I(i.pathname,Object(u["a"])({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);function V(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(p["a"])(t,["wrappedComponentRef"]);return o.a.createElement(y.Consumer,null,(function(t){return t||Object(l["a"])(!1),o.a.createElement(e,Object(u["a"])({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,h()(n,e)}var G=o.a.useContext;function W(){return G(m)}function q(){return G(y).location}function Y(){var e=G(y).match;return e?e.params:{}}function X(e){var t=q(),n=G(y).match;return e?I(t.pathname,e):n}},TyJ0:function(e,t,n){e.exports={footer:"footer___26coP",description:"description___1TQFo",bottom:"bottom___1DP3v"}},"U+yc":function(e,t){function n(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"U/TZ":function(e,t,n){"use strict";function r(){var e=n("q1tI");return r=function(){return e},e}function i(e,t){return u(e)||l(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function u(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var c=function(e,t){var n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r={};return Object.keys(t[1]).forEach((function(e){var n=(e.match(/^(.+)\.([^_]+)$/)||[]).slice(1),o=i(n,2),a=o[0],s=o[1];s&&s!==t[0]||(r[a||e]=t[1][e])})),r},o=(0,r().useState)(n(e,t)),a=i(o,2),s=a[0],l=a[1];return(0,r().useEffect)((function(){l(n(e,t))}),[e,t]),s};t["default"]=c},U3f4:function(e,t,n){var r=n("g6v/"),i=n("m/L8"),o=n("rW0t"),a=n("n3/R").UNSUPPORTED_Y;r&&("g"!=/./g.flags||a)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},U8pU:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return r}))},UB5X:function(e,t,n){var r=n("NykK"),i=n("ExA7"),o="[object Number]";function a(e){return"number"==typeof e||i(e)&&r(e)==o}e.exports=a},UDyo:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["rect-createbydrag"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("p",null,"\u6ce8\u610f\uff1a\u914d\u7f6e ",i.a.createElement("code",null,"trigger: 'drag'")," \u4e4b\u540e\uff0c\u53ea\u8981 Drawer \u5728\u7ed8\u5236\u72b6\u6001\u4e0b\uff0c\u5c31\u65e0\u6cd5\u62d6\u62fd\u5730\u56fe\u3002\u5982\u9700\u5f00\u542f\u62d6\u62fd\uff0c\u9700\u8981\u5c06\u8c03\u7528 Drawer \u7684 disable \u65b9\u6cd5")),i.a.createElement(a["default"],t["rect-createbydrag"].previewerProps,i.a.createElement(n,null))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},UMSQ:function(e,t,n){var r=n("ppGB"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"UNi/":function(e,t){function n(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}e.exports=n},UTVS:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"UZv/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var r=a(n("q1tI")),i=a(n("TSYQ")),o=n("x9Za");function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=g();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){var t,n,r,i,o,a;o=e.rtl?e.slideCount-1-e.index:e.index,r=o<0||o>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-i-1&&o<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow,a=e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide;var s=o===a;return{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":s}},w=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t},S=function(e,t){return e.key||t},O=function(e){var t,n=[],a=[],s=[],l=r["default"].Children.count(e.children),u=(0,o.lazyStartIndex)(e),c=(0,o.lazyEndIndex)(e);return r["default"].Children.forEach(e.children,(function(f,p){var d,h={message:"children",index:p,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};d=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(p)>=0?f:r["default"].createElement("div",null);var v=w(_(_({},e),{},{index:p})),m=d.props.className||"",g=x(_(_({},e),{},{index:p}));if(n.push(r["default"].cloneElement(d,{key:"original"+S(d,p),"data-index":p,className:(0,i["default"])(g,m),tabIndex:"-1","aria-hidden":!g["slick-active"],style:_(_({outline:"none"},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}})),e.infinite&&!1===e.fade){var y=l-p;y<=(0,o.getPreClones)(e)&&l!==e.slidesToShow&&(t=-y,t>=u&&(d=f),g=x(_(_({},e),{},{index:t})),a.push(r["default"].cloneElement(d,{key:"precloned"+S(d,t),"data-index":t,tabIndex:"-1",className:(0,i["default"])(g,m),"aria-hidden":!g["slick-active"],style:_(_({},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}}))),l!==e.slidesToShow&&(t=l+p,t<c&&(d=f),g=x(_(_({},e),{},{index:t})),s.push(r["default"].cloneElement(d,{key:"postcloned"+S(d,t),"data-index":t,tabIndex:"-1",className:(0,i["default"])(g,m),"aria-hidden":!g["slick-active"],style:_(_({},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}})))}})),e.rtl?a.concat(n,s).reverse():a.concat(n,s)},C=function(e){p(n,e);var t=h(n);function n(){var e;u(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),E(m(e),"node",null),E(m(e),"handleRef",(function(t){e.node=t})),e}return f(n,[{key:"render",value:function(){var e=O(this.props),t=this.props,n=t.onMouseEnter,i=t.onMouseOver,o=t.onMouseLeave,a={onMouseEnter:n,onMouseOver:i,onMouseLeave:o};return r["default"].createElement("div",l({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},a),e)}}]),n}(r["default"].PureComponent);t.Track=C},Ucsi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Symbol["for"]("INJECTION");function i(e,t,n,i){function o(){return i&&!Reflect.hasMetadata(r,this,t)&&Reflect.defineMetadata(r,n(),this,t),Reflect.hasMetadata(r,this,t)?Reflect.getMetadata(r,this,t):n()}function a(e){Reflect.defineMetadata(r,e,this,t)}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:o,set:a})}function o(e,t){return function(n){return function(r,o){var a=function(){return e.get(n)};i(r,o,a,t)}}}function a(e,t){return function(n,r){return function(o,a){var s=function(){return e.getNamed(n,r)};i(o,a,s,t)}}}function s(e,t){return function(n,r,o){return function(a,s){var l=function(){return e.getTagged(n,r,o)};i(a,s,l,t)}}}function l(e,t){return function(n){return function(r,o){var a=function(){return e.getAll(n)};i(r,o,a,t)}}}t.makePropertyInjectDecorator=o,t.makePropertyInjectNamedDecorator=a,t.makePropertyInjectTaggedDecorator=s,t.makePropertyMultiInjectDecorator=l},UesL:function(e,t,n){"use strict";var r=n("glrk"),i=n("wE6v");e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!==e)}},"Ut/D":function(e,t,n){},UxlC:function(e,t,n){"use strict";var r=n("14Sl"),i=n("glrk"),o=n("ewvW"),a=n("UMSQ"),s=n("ppGB"),l=n("HYAF"),u=n("iqWW"),c=n("FMNM"),f=Math.max,p=Math.min,d=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,m=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,b=g?"$":"$0";return[function(n,r){var i=l(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!g&&y||"string"===typeof r&&-1===r.indexOf(b)){var o=n(t,e,this,r);if(o.done)return o.value}var l=i(e),d=String(this),h="function"===typeof r;h||(r=String(r));var v=l.global;if(v){var E=l.unicode;l.lastIndex=0}var x=[];while(1){var w=c(l,d);if(null===w)break;if(x.push(w),!v)break;var S=String(w[0]);""===S&&(l.lastIndex=u(d,a(l.lastIndex),E))}for(var O="",C=0,A=0;A<x.length;A++){w=x[A];for(var P=String(w[0]),k=f(p(s(w.index),d.length),0),M=[],T=1;T<w.length;T++)M.push(m(w[T]));var L=w.groups;if(h){var I=[P].concat(M,k,d);void 0!==L&&I.push(L);var D=String(r.apply(void 0,I))}else D=_(P,d,k,M,L,r);k>=C&&(O+=d.slice(C,k)+D,C=k+P.length)}return O+d.slice(C)}];function _(e,n,r,i,a,s){var l=r+e.length,u=i.length,c=v;return void 0!==a&&(a=o(a),c=h),t.call(s,c,(function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(l);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return t;if(c>u){var f=d(c/10);return 0===f?t:f<=u?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):t}s=i[c-1]}return void 0===s?"":s}))}}))},Uydy:function(e,t,n){var r=n("I+eb"),i=n("HsHA"),o=Math.acosh,a=Math.log,s=Math.sqrt,l=Math.LN2,u=!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0;r({target:"Math",stat:!0,forced:u},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?a(e)+l:i(e-1+s(e-1)*s(e+1))}})},UzNg:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ntOU"),o=n("HYAF"),a=n("afO8"),s=n("ZUd8"),l=s.codeAt,u=s.charAt,c="String Iterator",f=a.set,p=a.getterFor(c),d=i((function(e){f(this,{type:c,string:e,index:0})}),"String",(function(){var e,t=p(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=u(n,r),t.index+=e.length,{value:{codePoint:l(e,0),position:r},done:!1})}));r({target:"String",proto:!0},{codePoints:function(){return new d(String(o(this)))}})},"V/vL":function(e,t,n){"use strict";n.r(t),n.d(t,"matchRoutes",(function(){return s})),n.d(t,"renderRoutes",(function(){return l}));var r=n("Ty5D"),i=n("wx14"),o=n("q1tI"),a=n.n(o);function s(e,t,n){return void 0===n&&(n=[]),e.some((function(e){var i=e.path?Object(r["i"])(t,e):n.length?n[n.length-1].match:r["e"].computeRootMatch(t);return i&&(n.push({route:e,match:i}),e.routes&&s(e.routes,t,n)),i})),n}function l(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e?a.a.createElement(r["g"],n,e.map((function(e,n){return a.a.createElement(r["d"],{key:e.key||n,path:e.path,exact:e.exact,strict:e.strict,render:function(n){return e.render?e.render(Object(i["a"])({},n,{},t,{route:e})):a.a.createElement(e.component,Object(i["a"])({},n,t,{route:e}))}})}))):null}},V6Ve:function(e,t,n){var r=n("kekF"),i=r(Object.keys,Object);e.exports=i},VOtZ:function(e,t,n){var r=n("juv8"),i=n("MvSz");function o(e,t){return r(e,i(e),t)}e.exports=o},VOz1:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("HAuM"),s=n("Sssf"),l=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(e){var t=o(this),n=s(t),r=arguments.length<2,i=r?void 0:arguments[1];if(a(e),l(n,(function(n,o){r?(r=!1,i=o):i=e(i,o,n,t)}),void 0,!0,!0),r)throw TypeError("Reduce of empty map with no initial value");return i}})},VTBJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("rePB");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},VWci:function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=S(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=l;var c="suspendedStart",f="suspendedYield",p="executing",d="completed",h={};function v(){}function m(){}function g(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(k([])));_&&_!==n&&r.call(_,o)&&(y=_);var E=g.prototype=v.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e,t){function n(i,o,a,s){var l=u(e[i],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;function o(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function S(e,t,n){var r=c;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return M()}n.method=i,n.arg=o;while(1){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?d:f,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=d,n.method="throw",n.arg=l.arg)}}}function O(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){while(++i<e.length)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:t,done:!0}}return m.prototype=E.constructor=g,g.constructor=m,g[s]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},x(w.prototype),w.prototype[a]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(E),E[s]="Generator",E[o]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},VaNO:function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},VmRL:function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r,o,s,l,u,c,p,d=t&&t.length,h=d?t[0]*n:e.length,v=i(e,0,h,n,!0),m=[];if(!v||v.next===v.prev)return m;if(d&&(v=f(e,t,v,n)),e.length>80*n){r=s=e[0],o=l=e[1];for(var g=n;g<h;g+=n)u=e[g],c=e[g+1],u<r&&(r=u),c<o&&(o=c),u>s&&(s=u),c>l&&(l=c);p=Math.max(s-r,l-o),p=0!==p?32767/p:0}return a(v,m,n,r,o,p,0),m}function i(e,t,n,r,i){var o,a;if(i===D(e,t,n,r)>0)for(o=t;o<n;o+=r)a=T(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=T(o,e[o],e[o+1],a);return a&&w(a,a.next)&&(L(a),a=a.next),a}function o(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!w(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{if(L(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,i,f,p){if(e){!p&&f&&m(e,r,i,f);var d,h,v=e;while(e.prev!==e.next)if(d=e.prev,h=e.next,f?l(e,r,i,f):s(e))t.push(d.i/n|0),t.push(e.i/n|0),t.push(h.i/n|0),L(e),e=h.next,v=h.next;else if(e=h,e===v){p?1===p?(e=u(o(e),t,n),a(e,t,n,r,i,f,2)):2===p&&c(e,t,n,r,i,f):a(o(e),t,n,r,i,f,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(x(t,n,r)>=0)return!1;var i=t.x,o=n.x,a=r.x,s=t.y,l=n.y,u=r.y,c=i<o?i<a?i:a:o<a?o:a,f=s<l?s<u?s:u:l<u?l:u,p=i>o?i>a?i:a:o>a?o:a,d=s>l?s>u?s:u:l>u?l:u,h=r.next;while(h!==t){if(h.x>=c&&h.x<=p&&h.y>=f&&h.y<=d&&_(i,s,o,l,a,u,h.x,h.y)&&x(h.prev,h,h.next)>=0)return!1;h=h.next}return!0}function l(e,t,n,r){var i=e.prev,o=e,a=e.next;if(x(i,o,a)>=0)return!1;var s=i.x,l=o.x,u=a.x,c=i.y,f=o.y,p=a.y,d=s<l?s<u?s:u:l<u?l:u,h=c<f?c<p?c:p:f<p?f:p,v=s>l?s>u?s:u:l>u?l:u,m=c>f?c>p?c:p:f>p?f:p,g=y(d,h,t,n,r),b=y(v,m,t,n,r),E=e.prevZ,w=e.nextZ;while(E&&E.z>=g&&w&&w.z<=b){if(E.x>=d&&E.x<=v&&E.y>=h&&E.y<=m&&E!==i&&E!==a&&_(s,c,l,f,u,p,E.x,E.y)&&x(E.prev,E,E.next)>=0)return!1;if(E=E.prevZ,w.x>=d&&w.x<=v&&w.y>=h&&w.y<=m&&w!==i&&w!==a&&_(s,c,l,f,u,p,w.x,w.y)&&x(w.prev,w,w.next)>=0)return!1;w=w.nextZ}while(E&&E.z>=g){if(E.x>=d&&E.x<=v&&E.y>=h&&E.y<=m&&E!==i&&E!==a&&_(s,c,l,f,u,p,E.x,E.y)&&x(E.prev,E,E.next)>=0)return!1;E=E.prevZ}while(w&&w.z<=b){if(w.x>=d&&w.x<=v&&w.y>=h&&w.y<=m&&w!==i&&w!==a&&_(s,c,l,f,u,p,w.x,w.y)&&x(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function u(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!w(i,a)&&S(i,r,r.next,a)&&P(i,a)&&P(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),L(r),L(r.next),r=e=a),r=r.next}while(r!==e);return o(r)}function c(e,t,n,r,i,s){var l=e;do{var u=l.next.next;while(u!==l.prev){if(l.i!==u.i&&E(l,u)){var c=M(l,u);return l=o(l,l.next),c=o(c,c.next),a(l,t,n,r,i,s,0),void a(c,t,n,r,i,s,0)}u=u.next}l=l.next}while(l!==e)}function f(e,t,n,r){var o,a,s,l,u,c=[];for(o=0,a=t.length;o<a;o++)s=t[o]*r,l=o<a-1?t[o+1]*r:e.length,u=i(e,s,l,r,!1),u===u.next&&(u.steiner=!0),c.push(b(u));for(c.sort(p),o=0;o<c.length;o++)n=d(c[o],n);return n}function p(e,t){return e.x-t.x}function d(e,t){var n=h(e,t);if(!n)return t;var r=M(n,e);return o(r,r.next),o(n,n.next)}function h(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==t);if(!n)return null;var l,u=n,c=n.x,f=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&_(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),P(r,e)&&(l<p||l===p&&(r.x>n.x||r.x===n.x&&v(n,r)))&&(n=r,p=l)),r=r.next}while(r!==u);return n}function v(e,t){return x(e.prev,e,t.prev)<0&&x(t.next,e,e.next)<0}function m(e,t,n,r){var i=e;do{0===i.z&&(i.z=y(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,g(i)}function g(e){var t,n,r,i,o,a,s,l,u=1;do{n=e,e=null,o=null,a=0;while(n){for(a++,r=n,s=0,t=0;t<u;t++)if(s++,r=r.nextZ,!r)break;l=u;while(s>0||l>0&&r)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1);return e}function y(e,t,n,r,i){return e=(e-n)*i|0,t=(t-r)*i|0,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function b(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function _(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function E(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!A(e,t)&&(P(e,t)&&P(t,e)&&k(e,t)&&(x(e.prev,e,t.prev)||x(e,t.prev,t))||w(e,t)&&x(e.prev,e,e.next)>0&&x(t.prev,t,t.next)>0)}function x(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function w(e,t){return e.x===t.x&&e.y===t.y}function S(e,t,n,r){var i=C(x(e,t,n)),o=C(x(e,t,r)),a=C(x(n,r,e)),s=C(x(n,r,t));return i!==o&&a!==s||(!(0!==i||!O(e,n,t))||(!(0!==o||!O(e,r,t))||(!(0!==a||!O(n,e,r))||!(0!==s||!O(n,t,r)))))}function O(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function C(e){return e>0?1:e<0?-1:0}function A(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&S(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function P(e,t){return x(e.prev,e,e.next)<0?x(e,t,e.next)>=0&&x(e,e.prev,t)>=0:x(e,t,e.prev)<0||x(e,e.next,t)<0}function k(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function M(e,t){var n=new I(e.i,e.x,e.y),r=new I(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function T(e,t,n,r){var i=new I(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function L(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function I(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function D(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=r,e.exports["default"]=r,r.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(D(e,0,o,n));if(i)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,c=s<l-1?t[s+1]*n:e.length;a-=Math.abs(D(e,u,c,n))}var f=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,d=r[s+1]*n,h=r[s+2]*n;f+=Math.abs((e[p]-e[h])*(e[d+1]-e[p+1])-(e[p]-e[d])*(e[h+1]-e[p+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},Vnov:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("Sssf"),s=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(e){return s(a(o(this)),(function(t,n){if(n===e)return s.stop(t)}),void 0,!0,!0).result}})},VpIT:function(e,t,n){var r=n("xDBR"),i=n("xs3f");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},Vssm:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["point-image"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["point-image"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},Vu81:function(e,t,n){var r=n("0GbY"),i=n("JBy8"),o=n("dBg+"),a=n("glrk");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},"W/eh":function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),o=n("6x0u"),a=n("ewvW"),s=n("wE6v"),l=n("4WOD"),u=n("Bs8V").f;i&&r({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(e){var t,n=a(this),r=s(e,!0);do{if(t=u(n,r))return t.set}while(n=l(n))}})},W8MJ:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},WF6z:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawCircle"](e,{distanceOptions:{},areaOptions:{}});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},WFqU:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("IyRk"))},WGBp:function(e,t,n){var r=n("xDBR"),i=n("mh/w");e.exports=r?i:function(e){return Set.prototype.values.call(e)}},WJkJ:function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},WKiH:function(e,t,n){var r=n("HYAF"),i=n("WJkJ"),o="["+i+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),l=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},WPzJ:function(e,t,n){var r=n("I+eb"),i=n("voyM");r({target:"Math",stat:!0},{scale:i})},"WVt+":function(e,t,n){(function(e){!function(e,n){n(t)}(0,(function(t){"use strict";var n=6371008.8,r={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*n,kilometers:6371.0088,kilometres:6371.0088,meters:n,metres:n,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:n/1852,radians:1,yards:6967335.223679999},i={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/n,yards:1.0936133},o={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function a(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function s(e,t,n){switch(e){case"Point":return l(t).geometry;case"LineString":return p(t).geometry;case"Polygon":return c(t).geometry;case"MultiPoint":return m(t).geometry;case"MultiLineString":return v(t).geometry;case"MultiPolygon":return g(t).geometry;default:throw new Error(e+" is invalid")}}function l(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!P(e[0])||!P(e[1]))throw new Error("coordinates must contain numbers");return a({type:"Point",coordinates:e},t,n)}function u(e,t,n){return void 0===n&&(n={}),h(e.map((function(e){return l(e,t)})),n)}function c(e,t,n){void 0===n&&(n={});for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return a({type:"Polygon",coordinates:e},t,n)}function f(e,t,n){return void 0===n&&(n={}),h(e.map((function(e){return c(e,t)})),n)}function p(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return a({type:"LineString",coordinates:e},t,n)}function d(e,t,n){return void 0===n&&(n={}),h(e.map((function(e){return p(e,t)})),n)}function h(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function v(e,t,n){return void 0===n&&(n={}),a({type:"MultiLineString",coordinates:e},t,n)}function m(e,t,n){return void 0===n&&(n={}),a({type:"MultiPoint",coordinates:e},t,n)}function g(e,t,n){return void 0===n&&(n={}),a({type:"MultiPolygon",coordinates:e},t,n)}function y(e,t,n){return void 0===n&&(n={}),a({type:"GeometryCollection",geometries:e},t,n)}function b(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n}function _(e,t){void 0===t&&(t="kilometers");var n=r[t];if(!n)throw new Error(t+" units is invalid");return e*n}function E(e,t){void 0===t&&(t="kilometers");var n=r[t];if(!n)throw new Error(t+" units is invalid");return e/n}function x(e,t){return S(E(e,t))}function w(e){var t=e%360;return t<0&&(t+=360),t}function S(e){return e%(2*Math.PI)*180/Math.PI}function O(e){return e%360*Math.PI/180}function C(e,t,n){if(void 0===t&&(t="kilometers"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return _(E(e,t),n)}function A(e,t,n){if(void 0===t&&(t="meters"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("area must be a positive number");var r=o[t];if(!r)throw new Error("invalid original units");var i=o[n];if(!i)throw new Error("invalid final units");return e/r*i}function P(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function k(e){return!!e&&e.constructor===Object}function M(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!P(e))throw new Error("bbox must only contain numbers")}))}function T(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}var L=Object.freeze({__proto__:null,earthRadius:n,factors:r,unitsFactors:i,areaFactors:o,feature:a,geometry:s,point:l,points:u,polygon:c,polygons:f,lineString:p,lineStrings:d,featureCollection:h,multiLineString:v,multiPoint:m,multiPolygon:g,geometryCollection:y,round:b,radiansToLength:_,lengthToRadians:E,lengthToDegrees:x,bearingToAzimuth:w,radiansToDegrees:S,degreesToRadians:O,convertLength:C,convertArea:A,isNumber:P,isObject:k,validateBBox:M,validateId:T});function I(e,t,n){if(null!==e)for(var r,i,o,a,s,l,u,c,f=0,p=0,d=e.type,h="FeatureCollection"===d,v="Feature"===d,m=h?e.features.length:1,g=0;g<m;g++){s=(c=!!(u=h?e.features[g].geometry:v?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var y=0;y<s;y++){var b=0,_=0;if(null!==(a=c?u.geometries[y]:u)){l=a.coordinates;var E=a.type;switch(f=!n||"Polygon"!==E&&"MultiPolygon"!==E?0:1,E){case null:break;case"Point":if(!1===t(l,p,g,b,_))return!1;p++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(!1===t(l[r],p,g,b,_))return!1;p++,"MultiPoint"===E&&b++}"LineString"===E&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-f;i++){if(!1===t(l[r][i],p,g,b,_))return!1;p++}"MultiLineString"===E&&b++,"Polygon"===E&&_++}"Polygon"===E&&b++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(_=0,i=0;i<l[r].length;i++){for(o=0;o<l[r][i].length-f;o++){if(!1===t(l[r][i][o],p,g,b,_))return!1;p++}_++}b++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===I(a.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function D(e,t,n,r){var i=n;return I(e,(function(e,r,o,a,s){i=0===r&&void 0===n?e:t(i,e,r,o,a,s)}),r),i}function R(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length&&!1!==t(e.features[n].properties,n);n++);break;case"Feature":t(e.properties,0)}}function N(e,t,n){var r=n;return R(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r}function j(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function F(e,t,n){var r=n;return j(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r}function B(e){var t=[];return I(e,(function(e){t.push(e)})),t}function U(e,t){var n,r,i,o,a,s,l,u,c,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,v=d?e.features.length:1;for(n=0;n<v;n++){for(s=d?e.features[n].geometry:h?e.geometry:e,u=d?e.features[n].properties:h?e.properties:{},c=d?e.features[n].bbox:h?e.bbox:void 0,f=d?e.features[n].id:h?e.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=l?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,p,u,c,f))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===t(o.geometries[r],p,u,c,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,u,c,f))return!1;p++}}function z(e,t,n){var r=n;return U(e,(function(e,i,o,a,s){r=0===i&&void 0===n?e:t(r,e,i,o,a,s)})),r}function H(e,t){U(e,(function(e,n,r,i,o){var s,l=null===e?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==t(a(e,r,{bbox:i,id:o}),n,0)&&void 0}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var u=0;u<e.coordinates.length;u++){var c=e.coordinates[u];if(!1===t(a({type:s,coordinates:c},r),n,u))return!1}}))}function V(e,t,n){var r=n;return H(e,(function(e,i,o){r=0===i&&0===o&&void 0===n?e:t(r,e,i,o)})),r}function G(e,t){H(e,(function(e,n,r){var i=0;if(e.geometry){var o=e.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var a,s=0,l=0,u=0;return!1!==I(e,(function(o,c,f,d,h){if(void 0===a||n>s||d>l||h>u)return a=o,s=n,l=d,u=h,void(i=0);var v=p([a,o],e.properties);if(!1===t(v,n,r,h,i))return!1;i++,a=o}))&&void 0}}}))}function W(e,t,n){var r=n,i=!1;return G(e,(function(e,o,a,s,l){r=!1===i&&void 0===n?e:t(r,e,o,a,s,l),i=!0})),r}function q(e,t){if(!e)throw new Error("geojson is required");H(e,(function(e,n,r){if(null!==e.geometry){var i=e.geometry.type,o=e.geometry.coordinates;switch(i){case"LineString":if(!1===t(e,n,r,0,0))return!1;break;case"Polygon":for(var a=0;a<o.length;a++)if(!1===t(p(o[a],e.properties),n,r,a))return!1}}}))}function Y(e,t,n){var r=n;return q(e,(function(e,i,o,a){r=0===i&&void 0===n?e:t(r,e,i,o,a)})),r}function X(e,t){if(!k(t=t||{}))throw new Error("options is invalid");var n,r=t.featureIndex||0,i=t.multiFeatureIndex||0,o=t.geometryIndex||0,a=t.segmentIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),s=s||e.features[r].properties,n=e.features[r].geometry;break;case"Feature":s=s||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=l.length+a-1),p([l[a],l[a+1]],s,t);case"Polygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a-1),p([l[o][a],l[o][a+1]],s,t);case"MultiLineString":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a-1),p([l[i][a],l[i][a+1]],s,t);case"MultiPolygon":return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o),a<0&&(a=l[i][o].length-a-1),p([l[i][o][a],l[i][o][a+1]],s,t)}throw new Error("geojson is invalid")}function K(e,t){if(!k(t=t||{}))throw new Error("options is invalid");var n,r=t.featureIndex||0,i=t.multiFeatureIndex||0,o=t.geometryIndex||0,a=t.coordIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),s=s||e.features[r].properties,n=e.features[r].geometry;break;case"Feature":s=s||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":return l(u,s,t);case"MultiPoint":return i<0&&(i=u.length+i),l(u[i],s,t);case"LineString":return a<0&&(a=u.length+a),l(u[a],s,t);case"Polygon":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a),l(u[o][a],s,t);case"MultiLineString":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a),l(u[i][a],s,t);case"MultiPolygon":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),a<0&&(a=u[i][o].length-a),l(u[i][o][a],s,t)}throw new Error("geojson is invalid")}var Z=Object.freeze({__proto__:null,coordAll:B,coordEach:I,coordReduce:D,featureEach:j,featureReduce:F,findPoint:K,findSegment:X,flattenEach:H,flattenReduce:V,geomEach:U,geomReduce:z,lineEach:q,lineReduce:Y,propEach:R,propReduce:N,segmentEach:G,segmentReduce:W});function Q(e){var t=[1/0,1/0,-1/0,-1/0];return I(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}function J(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function $(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function ee(e){if(e.length>1&&P(e[0])&&P(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return ee(e[0]);throw new Error("coordinates must only contain numbers")}function te(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)}function ne(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)}function re(e,t,n){if(!e)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0,i=e.features;r<i.length;r++){var o=i[r];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+o.geometry.type)}}function ie(e){return"Feature"===e.type?e.geometry:e}function oe(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}Q["default"]=Q;var ae=Object.freeze({__proto__:null,getCoord:J,getCoords:$,containsNumber:ee,geojsonType:te,featureOf:ne,collectionOf:re,getGeom:ie,getType:oe}),se=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;function ce(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var fe=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,i=ce(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))le.call(n,a)&&(i[a]=n[a]);if(se){r=se(n);for(var s=0;s<r.length;s++)ue.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},pe={successCallback:null,verbose:!1},de={};function he(e,t,n){n=n||{};for(var r=Object.keys(pe),i=0;i<r.length;i++){var o=r[i],a=n[o];a=null!=a?a:pe[o],de[o]=a}de.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+t);var s=function(e){var t=[],n=0,r=1e-7;return e.cells.forEach((function(i,o){i.forEach((function(i,a){if(void 0!==i&&5!==(d=i).cval&&10!==d.cval&&!me(i)){var s=function(e,t,n){var r,i,o=e.length,a=[],s=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],l=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],u=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],f=e[t][n],p=f.cval,d=u[p],h=ye(f,d);a.push([n+h[0],t+h[1]]),d=c[p],h=ye(f,d),a.push([n+h[0],t+h[1]]),ge(f);for(var v=n+s[p],m=t+l[p],g=p;v>=0&&m>=0&&m<o&&(v!=n||m!=t)&&void 0!==(f=e[m][v]);){if(0===(p=f.cval)||15===p)return{path:a,info:"mergeable"};d=c[p],r=s[p],i=l[p],5!==p&&10!==p||(5===p?f.flipped?-1===l[g]?(d="left",r=-1,i=0):(d="right",r=1,i=0):-1===s[g]&&(d="bottom",r=0,i=-1):10===p&&(f.flipped?-1===s[g]?(d="top",r=0,i=1):(d="bottom",r=0,i=-1):1===l[g]&&(d="left",r=-1,i=0))),h=ye(f,d),a.push([v+h[0],m+h[1]]),ge(f),v+=r,m+=i,g=p}return{path:a,info:"closed"}}(e.cells,o,a),l=!1;if("mergeable"===s.info)for(var u=s.path[s.path.length-1][0],c=s.path[s.path.length-1][1],f=n-1;f>=0;f--)if(Math.abs(t[f][0][0]-u)<=r&&Math.abs(t[f][0][1]-c)<=r){for(var p=s.path.length-2;p>=0;--p)t[f].unshift(s.path[p]);l=!0;break}l||(t[n++]=s.path)}var d}))})),t}(function(e,t){for(var n=e.length-1,r=e[0].length-1,i={rows:n,cols:r,cells:[]},o=0;o<n;++o){i.cells[o]=[];for(var a=0;a<r;++a){var s=0,l=e[o+1][a],u=e[o+1][a+1],c=e[o][a+1],f=e[o][a];if(!(isNaN(l)||isNaN(u)||isNaN(c)||isNaN(f))){s|=l>=t?8:0,s|=u>=t?4:0,s|=c>=t?2:0;var p,d,h,v,m=!1;if(5===(s|=f>=t?1:0)||10===s){var g=(l+u+c+f)/4;5===s&&g<t?(s=10,m=!0):10===s&&g<t&&(s=5,m=!0)}0!==s&&15!==s&&(p=d=h=v=.5,1===s?(h=1-ve(t,l,f),d=1-ve(t,c,f)):2===s?(d=ve(t,f,c),v=1-ve(t,u,c)):3===s?(h=1-ve(t,l,f),v=1-ve(t,u,c)):4===s?(p=ve(t,l,u),v=ve(t,c,u)):5===s?(p=ve(t,l,u),v=ve(t,c,u),d=1-ve(t,c,f),h=1-ve(t,l,f)):6===s?(d=ve(t,f,c),p=ve(t,l,u)):7===s?(h=1-ve(t,l,f),p=ve(t,l,u)):8===s?(h=ve(t,f,l),p=1-ve(t,u,l)):9===s?(d=1-ve(t,c,f),p=1-ve(t,u,l)):10===s?(p=1-ve(t,u,l),v=1-ve(t,u,c),d=ve(t,f,c),h=ve(t,f,l)):11===s?(p=1-ve(t,u,l),v=1-ve(t,u,c)):12===s?(h=ve(t,f,l),v=ve(t,c,u)):13===s?(d=1-ve(t,c,f),v=ve(t,c,u)):14===s?(h=ve(t,f,l),d=ve(t,f,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+s),i.cells[o][a]={cval:s,flipped:m,top:p,right:v,bottom:d,left:h})}}}return i}(e,t));return"function"==typeof de.successCallback&&de.successCallback(s),s}function ve(e,t,n){return(e-t)/(n-t)}function me(e){return 0===e.cval||15===e.cval}function ge(e){me(e)||5===e.cval||10===e.cval||(e.cval=15)}function ye(e,t){return"top"===t?[e.top,1]:"bottom"===t?[e.bottom,0]:"right"===t?[1,e.right]:"left"===t?[0,e.left]:void 0}function be(e,t){if(!k(t=t||{}))throw new Error("options is invalid");var n=t.zProperty||"elevation",r=t.flip,i=t.flags;re(e,"Point","input must contain Points");for(var o=function(e,t){var n={};return j(e,(function(e){var t=$(e)[1];n[t]||(n[t]=[]),n[t].push(e)})),Object.keys(n).map((function(e){return n[e].sort((function(e,t){return $(e)[0]-$(t)[0]}))})).sort((function(e,n){return t?$(e[0])[1]-$(n[0])[1]:$(n[0])[1]-$(e[0])[1]}))}(e,r),a=[],s=0;s<o.length;s++){for(var l=o[s],u=[],c=0;c<l.length;c++){var f=l[c];f.properties[n]?u.push(f.properties[n]):u.push(0),!0===i&&(f.properties.matrixPosition=[s,c])}a.push(u)}return a}var _e=xe,Ee=xe;function xe(e,t,n,r,i){we(e,t,n||0,r||e.length-1,i||Oe)}function we(e,t,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);we(e,t,Math.max(n,Math.floor(t-a*l/o+u)),Math.min(r,Math.floor(t+(o-a)*l/o+u)),i)}var c=e[t],f=n,p=r;for(Se(e,n,t),i(e[r],c)>0&&Se(e,n,r);f<p;){for(Se(e,f,p),f++,p--;i(e[f],c)<0;)f++;for(;i(e[p],c)>0;)p--}0===i(e[n],c)?Se(e,n,p):Se(e,++p,r),p<=t&&(n=p+1),t<=p&&(r=p-1)}}function Se(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Oe(e,t){return e<t?-1:e>t?1:0}_e["default"]=Ee;var Ce=Pe,Ae=Pe;function Pe(e,t){if(!(this instanceof Pe))return new Pe(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function ke(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function Me(e,t){Te(e,0,e.children.length,t,e)}function Te(e,t,n,r,i){i||(i=Be(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=t;a<n;a++)o=e.children[a],Le(i,e.leaf?r(o):o);return i}function Le(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function Ie(e,t){return e.minX-t.minX}function De(e,t){return e.minY-t.minY}function Re(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Ne(e){return e.maxX-e.minX+(e.maxY-e.minY)}function je(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function Fe(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Be(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ue(e,t,n,r,i){for(var o,a=[t,n];a.length;)(n=a.pop())-(t=a.pop())<=r||(o=t+Math.ceil((n-t)/r/2)*r,_e(e,o,t,n,i),a.push(t,o,o,n))}function ze(e){var t={exports:{}};return e(t,t.exports),t.exports}Pe.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!Fe(e,t))return n;for(var i,o,a,s,l=[];t;){for(i=0,o=t.children.length;i<o;i++)a=t.children[i],Fe(e,s=t.leaf?r(a):a)&&(t.leaf?n.push(a):je(e,s)?this._all(a,n):l.push(a));t=l.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!Fe(e,t))return!1;for(var r,i,o,a,s=[];t;){for(r=0,i=t.children.length;r<i;r++)if(o=t.children[r],Fe(e,a=t.leaf?n(o):o)){if(t.leaf||je(e,a))return!0;s.push(o)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=Be([]),this},remove:function(e,t){if(!e)return this;for(var n,r,i,o,a=this.data,s=this.toBBox(e),l=[],u=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=u.pop(),o=!0),a.leaf&&-1!==(i=ke(e,a.children,t)))return a.children.splice(i,1),l.push(a),this._condense(l),this;o||a.leaf||!je(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(l.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(e){return e},compareMinX:Ie,compareMinY:De,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var i,o=n-t+1,a=this._maxEntries;if(o<=a)return Me(i=Be(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=Be([])).leaf=!1,i.height=r;var s,l,u,c,f=Math.ceil(o/a),p=f*Math.ceil(Math.sqrt(a));for(Ue(e,t,n,p,this.compareMinX),s=t;s<=n;s+=p)for(Ue(e,s,u=Math.min(s+p-1,n),f,this.compareMinY),l=s;l<=u;l+=f)c=Math.min(l+f-1,u),i.children.push(this._build(e,l,c,r-1));return Me(i,this.toBBox),i},_chooseSubtree:function(e,t,n,r){for(var i,o,a,s,l,u,c,f,p,d;r.push(t),!t.leaf&&r.length-1!==n;){for(c=f=1/0,i=0,o=t.children.length;i<o;i++)l=Re(a=t.children[i]),p=e,d=a,(u=(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-l)<f?(f=u,c=l<c?l:c,s=a):u===f&&l<c&&(c=l,s=a);t=s||t.children[0]}return t},_insert:function(e,t,n){var r=this.toBBox,i=n?e:r(e),o=[],a=this._chooseSubtree(i,this.data,t,o);for(a.children.push(e),Le(a,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)},_split:function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=Be(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,Me(n,this.toBBox),Me(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(e,t){this.data=Be([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Me(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,i,o,a,s,l,u,c,f,p,d,h,v,m;for(l=u=1/0,r=t;r<=n-t;r++)i=Te(e,0,r,this.toBBox),o=Te(e,r,n,this.toBBox),f=i,p=o,d=void 0,h=void 0,v=void 0,m=void 0,d=Math.max(f.minX,p.minX),h=Math.max(f.minY,p.minY),v=Math.min(f.maxX,p.maxX),m=Math.min(f.maxY,p.maxY),a=Math.max(0,v-d)*Math.max(0,m-h),s=Re(i)+Re(o),a<l?(l=a,c=r,u=s<u?s:u):a===l&&s<u&&(u=s,c=r);return c},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:Ie,i=e.leaf?this.compareMinY:De;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var i,o,a=this.toBBox,s=Te(e,0,t,a),l=Te(e,n-t,n,a),u=Ne(s)+Ne(l);for(i=t;i<n-t;i++)o=e.children[i],Le(s,e.leaf?a(o):o),u+=Ne(s);for(i=n-t-1;i>=t;i--)o=e.children[i],Le(l,e.leaf?a(o):o),u+=Ne(l);return u},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)Le(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():Me(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}},Ce["default"]=Ae;var He=function(e,t,n){var r=e*t,i=Ve*e,o=i-(i-e),a=e-o,s=Ve*t,l=s-(s-t),u=t-l,c=a*u-(r-o*l-a*l-o*u);return n?(n[0]=c,n[1]=r,n):[c,r]},Ve=+(Math.pow(2,27)+1),Ge=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}(e[0],t[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,f=e[l],p=c(f),d=t[u],h=c(d);p<h?(o=f,(l+=1)<n&&(f=e[l],p=c(f))):(o=d,(u+=1)<r&&(d=t[u],h=c(d))),l<n&&p<h||u>=r?(i=f,(l+=1)<n&&(f=e[l],p=c(f))):(i=d,(u+=1)<r&&(d=t[u],h=c(d)));for(var v,m,g=i+o,y=g-i,b=o-y,_=b,E=g;l<n&&u<r;)p<h?(i=f,(l+=1)<n&&(f=e[l],p=c(f))):(i=d,(u+=1)<r&&(d=t[u],h=c(d))),(b=(o=_)-(y=(g=i+o)-i))&&(a[s++]=b),_=E-((v=E+g)-(m=v-E))+(g-m),E=v;for(;l<n;)(b=(o=_)-(y=(g=(i=f)+o)-i))&&(a[s++]=b),_=E-((v=E+g)-(m=v-E))+(g-m),E=v,(l+=1)<n&&(f=e[l]);for(;u<r;)(b=(o=_)-(y=(g=(i=d)+o)-i))&&(a[s++]=b),_=E-((v=E+g)-(m=v-E))+(g-m),E=v,(u+=1)<r&&(d=t[u]);return _&&(a[s++]=_),E&&(a[s++]=E),s||(a[s++]=0),a.length=s,a},We=function(e,t,n){var r=e+t,i=r-e,o=t-i,a=e-(r-i);return n?(n[0]=a+o,n[1]=r,n):[a+o,r]},qe=function(e,t){var n=e.length;if(1===n){var r=He(e[0],t);return r[0]?r:[r[1]]}var i=new Array(2*n),o=[.1,.1],a=[.1,.1],s=0;He(e[0],t,o),o[0]&&(i[s++]=o[0]);for(var l=1;l<n;++l){He(e[l],t,a);var u=o[1];We(u,a[0],o),o[0]&&(i[s++]=o[0]);var c=a[1],f=o[1],p=c+f,d=f-(p-c);o[1]=p,d&&(i[s++]=d)}return o[1]&&(i[s++]=o[1]),0===s&&(i[s++]=0),i.length=s,i},Ye=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}(e[0],-t[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,f=e[l],p=c(f),d=-t[u],h=c(d);p<h?(o=f,(l+=1)<n&&(f=e[l],p=c(f))):(o=d,(u+=1)<r&&(d=-t[u],h=c(d))),l<n&&p<h||u>=r?(i=f,(l+=1)<n&&(f=e[l],p=c(f))):(i=d,(u+=1)<r&&(d=-t[u],h=c(d)));for(var v,m,g=i+o,y=g-i,b=o-y,_=b,E=g;l<n&&u<r;)p<h?(i=f,(l+=1)<n&&(f=e[l],p=c(f))):(i=d,(u+=1)<r&&(d=-t[u],h=c(d))),(b=(o=_)-(y=(g=i+o)-i))&&(a[s++]=b),_=E-((v=E+g)-(m=v-E))+(g-m),E=v;for(;l<n;)(b=(o=_)-(y=(g=(i=f)+o)-i))&&(a[s++]=b),_=E-((v=E+g)-(m=v-E))+(g-m),E=v,(l+=1)<n&&(f=e[l]);for(;u<r;)(b=(o=_)-(y=(g=(i=d)+o)-i))&&(a[s++]=b),_=E-((v=E+g)-(m=v-E))+(g-m),E=v,(u+=1)<r&&(d=-t[u]);return _&&(a[s++]=_),E&&(a[s++]=E),s||(a[s++]=0),a.length=s,a},Xe=ze((function(e){function t(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),o=0,a=0;o<e.length;++o)o!==t&&(i[a++]=e[r][o]);return n}function n(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",n(e.slice(0,t)),",",n(e.slice(t)),")"].join("")}function r(e){if(2===e.length)return[["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("")];for(var i=[],o=0;o<e.length;++o)i.push(["scale(",n(r(t(e,o))),",",(a=o,1&a?"-":""),e[0][o],")"].join(""));return i;var a}function i(e){for(var i=[],o=[],a=function(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-1,"]"].join("")}return t}(e),s=[],l=0;l<e;++l)0==(1&l)?i.push.apply(i,r(t(a,l))):o.push.apply(o,r(t(a,l))),s.push("m"+l);var u=n(i),c=n(o),f="orientation"+e+"Exact",p=["function ",f,"(",s.join(),"){var p=",u,",n=",c,",d=sub(p,n);return d[d.length-1];};return ",f].join("");return new Function("sum","prod","scale","sub",p)(Ge,He,qe,Ye)}var o=i(3),a=i(4),s=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var r,i=(e[1]-n[1])*(t[0]-n[0]),a=(e[0]-n[0])*(t[1]-n[1]),s=i-a;if(i>0){if(a<=0)return s;r=i+a}else{if(!(i<0))return s;if(a>=0)return s;r=-(i+a)}var l=33306690738754716e-32*r;return s>=l||s<=-l?s:o(e,t,n)},function(e,t,n,r){var i=e[0]-r[0],o=t[0]-r[0],s=n[0]-r[0],l=e[1]-r[1],u=t[1]-r[1],c=n[1]-r[1],f=e[2]-r[2],p=t[2]-r[2],d=n[2]-r[2],h=o*c,v=s*u,m=s*l,g=i*c,y=i*u,b=o*l,_=f*(h-v)+p*(m-g)+d*(y-b),E=7771561172376103e-31*((Math.abs(h)+Math.abs(v))*Math.abs(f)+(Math.abs(m)+Math.abs(g))*Math.abs(p)+(Math.abs(y)+Math.abs(b))*Math.abs(d));return _>E||-_>E?_:a(e,t,n,r)}];function l(e){var t=s[e.length];return t||(t=s[e.length]=i(e.length)),t.apply(void 0,e)}!function(){for(;s.length<=5;)s.push(i(s.length));for(var t=[],n=["slow"],r=0;r<=5;++r)t.push("a"+r),n.push("o"+r);var o=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)o.push("case ",r,":return o",r,"(",t.slice(0,r).join(),");");o.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(o.join(""));var a=Function.apply(void 0,n);for(e.exports=a.apply(void 0,[l].concat(s)),r=0;r<=5;++r)e.exports[r]=s[r]}()})),Ke=function(e){var t=e.length;if(t<3){for(var n=new Array(t),r=0;r<t;++r)n[r]=r;return 2===t&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:n}var i=new Array(t);for(r=0;r<t;++r)i[r]=r;i.sort((function(t,n){var r=e[t][0]-e[n][0];return r||e[t][1]-e[n][1]}));var o=[i[0],i[1]],a=[i[0],i[1]];for(r=2;r<t;++r){for(var s=i[r],l=e[s],u=o.length;u>1&&Ze(e[o[u-2]],e[o[u-1]],l)<=0;)u-=1,o.pop();for(o.push(s),u=a.length;u>1&&Ze(e[a[u-2]],e[a[u-1]],l)>=0;)u-=1,a.pop();a.push(s)}n=new Array(a.length+o.length-2);for(var c=0,f=(r=0,o.length);r<f;++r)n[c++]=o[r];for(var p=a.length-2;p>0;--p)n[c++]=a[p];return n},Ze=Xe[3],Qe=$e,Je=$e;function $e(e,t){if(!(this instanceof $e))return new $e(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||et,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function et(e,t){return e<t?-1:e>t?1:0}$e.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r},_down:function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var o=1+(e<<1),a=o+1,s=t[o];if(a<this.length&&n(t[a],s)<0&&(o=a,s=t[a]),n(s,i)>=0)break;t[e]=s,e=o}t[e]=i}},Qe["default"]=Je;var tt=function(e,t){for(var n=e[0],r=e[1],i=!1,o=0,a=t.length-1;o<t.length;a=o++){var s=t[o][0],l=t[o][1],u=t[a][0],c=t[a][1];l>r!=c>r&&n<(u-s)*(r-l)/(c-l)+s&&(i=!i)}return i},nt=Xe[3],rt=ot,it=ot;function ot(e,t,n){t=Math.max(0,void 0===t?2:t),n=n||0;for(var r,i=function(e){for(var t=e[0],n=e[0],r=e[0],i=e[0],o=0;o<e.length;o++){var a=e[o];a[0]<t[0]&&(t=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>i[1]&&(i=a)}var s=[t,n,r,i],l=s.slice();for(o=0;o<e.length;o++)tt(e[o],s)||l.push(e[o]);var u=Ke(l),c=[];for(o=0;o<u.length;o++)c.push(l[u[o]]);return c}(e),o=Ce(16,["[0]","[1]","[0]","[1]"]).load(e),a=[],s=0;s<i.length;s++){var l=i[s];o.remove(l),r=pt(l,r),a.push(r)}var u=Ce(16);for(s=0;s<a.length;s++)u.insert(ft(a[s]));for(var c=t*t,f=n*n;a.length;){var p=a.shift(),d=p.p,h=p.next.p,v=dt(d,h);if(!(v<f)){var m=v/c;(l=at(o,p.prev.p,d,h,p.next.next.p,m,u))&&Math.min(dt(l,d),dt(l,h))<=m&&(a.push(p),a.push(pt(l,p)),o.remove(l),u.remove(p),u.insert(ft(p)),u.insert(ft(p.next)))}}p=r;var g=[];do{g.push(p.p),p=p.next}while(p!==r);return g.push(p.p),g}function at(e,t,n,r,i,o,a){for(var s=new Qe(null,st),l=e.data;l;){for(var u=0;u<l.children.length;u++){var c=l.children[u],f=l.leaf?ht(c,n,r):lt(n,r,c);f>o||s.push({node:c,dist:f})}for(;s.length&&!s.peek().node.children;){var p=s.pop(),d=p.node,h=ht(d,t,n),v=ht(d,r,i);if(p.dist<h&&p.dist<v&&ct(n,d,a)&&ct(r,d,a))return d}(l=s.pop())&&(l=l.node)}return null}function st(e,t){return e.dist-t.dist}function lt(e,t,n){if(ut(e,n)||ut(t,n))return 0;var r=vt(e[0],e[1],t[0],t[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=vt(e[0],e[1],t[0],t[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=vt(e[0],e[1],t[0],t[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var a=vt(e[0],e[1],t[0],t[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===a?0:Math.min(r,i,o,a)}function ut(e,t){return e[0]>=t.minX&&e[0]<=t.maxX&&e[1]>=t.minY&&e[1]<=t.maxY}function ct(e,t,n){for(var r,i,o,a,s=Math.min(e[0],t[0]),l=Math.min(e[1],t[1]),u=Math.max(e[0],t[0]),c=Math.max(e[1],t[1]),f=n.search({minX:s,minY:l,maxX:u,maxY:c}),p=0;p<f.length;p++)if(r=f[p].p,i=f[p].next.p,o=e,r!==(a=t)&&i!==o&&nt(r,i,o)>0!=nt(r,i,a)>0&&nt(o,a,r)>0!=nt(o,a,i)>0)return!1;return!0}function ft(e){var t=e.p,n=e.next.p;return e.minX=Math.min(t[0],n[0]),e.minY=Math.min(t[1],n[1]),e.maxX=Math.max(t[0],n[0]),e.maxY=Math.max(t[1],n[1]),e}function pt(e,t){var n={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return t?(n.next=t.next,n.prev=t,t.next.prev=n,t.next=n):(n.prev=n,n.next=n),n}function dt(e,t){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function ht(e,t,n){var r=t[0],i=t[1],o=n[0]-r,a=n[1]-i;if(0!==o||0!==a){var s=((e[0]-r)*o+(e[1]-i)*a)/(o*o+a*a);s>1?(r=n[0],i=n[1]):s>0&&(r+=o*s,i+=a*s)}return(o=e[0]-r)*o+(a=e[1]-i)*a}function vt(e,t,n,r,i,o,a,s){var l,u,c,f,p=n-e,d=r-t,h=a-i,v=s-o,m=e-i,g=t-o,y=p*p+d*d,b=p*h+d*v,_=h*h+v*v,E=p*m+d*g,x=h*m+v*g,w=y*_-b*b,S=w,O=w;0===w?(u=0,S=1,f=x,O=_):(f=y*x-b*E,(u=b*x-_*E)<0?(u=0,f=x,O=_):u>S&&(u=S,f=x+b,O=_)),f<0?(f=0,-E<0?u=0:-E>y?u=S:(u=-E,S=y)):f>O&&(f=O,-E+b<0?u=0:-E+b>y?u=S:(u=-E+b,S=y));var C=(1-(c=0===f?0:f/O))*i+c*a-((1-(l=0===u?0:u/S))*e+l*n),A=(1-c)*o+c*s-((1-l)*t+l*r);return C*C+A*A}function mt(e,t){void 0===t&&(t={}),t.concavity=t.concavity||1/0;var n=[];if(I(e,(function(e){n.push([e[0],e[1]])})),!n.length)return null;var r=rt(n,t.concavity);return r.length>3?c([r]):null}function gt(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var r=J(e),i=ie(t),o=i.type,a=t.bbox,s=i.coordinates;if(a&&!1===function(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(r,a))return!1;"Polygon"===o&&(s=[s]);for(var l=!1,u=0;u<s.length&&!l;u++)if(yt(r,s[u][0],n.ignoreBoundary)){for(var c=!1,f=1;f<s[u].length&&!c;)yt(r,s[u][f],!n.ignoreBoundary)&&(c=!0),f++;c||(l=!0)}return l}function yt(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,o=t.length-1;i<t.length;o=i++){var a=t[i][0],s=t[i][1],l=t[o][0],u=t[o][1];if(e[1]*(a-l)+s*(l-e[0])+u*(e[0]-a)==0&&(a-e[0])*(l-e[0])<=0&&(s-e[1])*(u-e[1])<=0)return!n;s>e[1]!=u>e[1]&&e[0]<(l-a)*(e[1]-s)/(u-s)+a&&(r=!r)}return r}function bt(e,t){var n=[];return j(e,(function(e){var r=!1;if("Point"===e.geometry.type)U(t,(function(t){gt(e,t)&&(r=!0)})),r&&n.push(e);else{if("MultiPoint"!==e.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var i=[];U(t,(function(t){I(e,(function(e){gt(e,t)&&(r=!0,i.push(e))}))})),r&&n.push(m(i))}})),h(n)}function _t(e,t,n){void 0===n&&(n={});var r=J(e),i=J(t),o=O(i[1]-r[1]),a=O(i[0]-r[0]),s=O(r[1]),l=O(i[1]),u=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(s)*Math.cos(l);return _(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),n.units)}function Et(e,t){var n=!1;return h(function(e){if(e.length<3)return[];e.sort(wt);for(var t,n,r,i,o,a,s=e.length-1,l=e[s].x,u=e[0].x,c=e[s].y,f=c,p=1e-12;s--;)e[s].y<c&&(c=e[s].y),e[s].y>f&&(f=e[s].y);var d,h=u-l,v=f-c,m=h>v?h:v,g=.5*(u+l),y=.5*(f+c),b=[new xt({__sentinel:!0,x:g-20*m,y:y-m},{__sentinel:!0,x:g,y:y+20*m},{__sentinel:!0,x:g+20*m,y:y-m})],_=[],E=[];for(s=e.length;s--;){for(E.length=0,d=b.length;d--;)(h=e[s].x-b[d].x)>0&&h*h>b[d].r?(_.push(b[d]),b.splice(d,1)):h*h+(v=e[s].y-b[d].y)*v>b[d].r||(E.push(b[d].a,b[d].b,b[d].b,b[d].c,b[d].c,b[d].a),b.splice(d,1));for(St(E),d=E.length;d;)n=E[--d],t=E[--d],r=e[s],i=n.x-t.x,o=n.y-t.y,a=2*(i*(r.y-n.y)-o*(r.x-n.x)),Math.abs(a)>p&&b.push(new xt(t,n,r))}for(Array.prototype.push.apply(_,b),s=_.length;s--;)(_[s].a.__sentinel||_[s].b.__sentinel||_[s].c.__sentinel)&&_.splice(s,1);return _}(e.features.map((function(e){var r={x:e.geometry.coordinates[0],y:e.geometry.coordinates[1]};return t?r.z=e.properties[t]:3===e.geometry.coordinates.length&&(n=!0,r.z=e.geometry.coordinates[2]),r}))).map((function(e){var t=[e.a.x,e.a.y],r=[e.b.x,e.b.y],i=[e.c.x,e.c.y],o={};return n?(t.push(e.a.z),r.push(e.b.z),i.push(e.c.z)):o={a:e.a.z,b:e.b.z,c:e.c.z},c([[t,r,i,t]],o)})))}rt["default"]=it;var xt=function(e,t,n){this.a=e,this.b=t,this.c=n;var r,i,o=t.x-e.x,a=t.y-e.y,s=n.x-e.x,l=n.y-e.y,u=o*(e.x+t.x)+a*(e.y+t.y),c=s*(e.x+n.x)+l*(e.y+n.y),f=2*(o*(n.y-t.y)-a*(n.x-t.x));this.x=(l*u-a*c)/f,this.y=(o*c-s*u)/f,r=this.x-e.x,i=this.y-e.y,this.r=r*r+i*i};function wt(e,t){return t.x-e.x}function St(e){var t,n,r,i,o,a=e.length;e:for(;a;)for(n=e[--a],t=e[--a],r=a;r;)if(o=e[--r],t===(i=e[--r])&&n===o||t===o&&n===i){e.splice(a,2),e.splice(r,2),a-=2;continue e}}function Ot(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return Ct(e);case"FeatureCollection":return function(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"features":return;default:t[n]=e[n]}})),t.features=e.features.map((function(e){return Ct(e)})),t}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Pt(e);default:throw new Error("unknown GeoJSON type")}}function Ct(e){var t={type:"Feature"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}})),t.properties=At(e.properties),t.geometry=Pt(e.geometry),t}function At(e){var t={};return e?(Object.keys(e).forEach((function(n){var r=e[n];"object"==typeof r?null===r?t[n]=null:Array.isArray(r)?t[n]=r.map((function(e){return e})):t[n]=At(r):t[n]=r})),t):t}function Pt(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((function(e){return Pt(e)})),t):(t.coordinates=kt(e.coordinates),t)}function kt(e){var t=e;return"object"!=typeof t[0]?t.slice():t.map((function(e){return kt(e)}))}function Mt(e,t){if(void 0===t&&(t={}),!k(t=t||{}))throw new Error("options is invalid");var n=t.mutate;if("FeatureCollection"!==oe(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(e=Ot(e));var r=[],i=Y(e,(function(e,t){var n=function(e,t){var n,r=e.geometry.coordinates,i=t.geometry.coordinates,o=Tt(r[0]),a=Tt(r[r.length-1]),s=Tt(i[0]),l=Tt(i[i.length-1]);if(o===l)n=i.concat(r.slice(1));else if(s===a)n=r.concat(i.slice(1));else if(o===s)n=r.slice(1).reverse().concat(i);else{if(a!==l)return null;n=r.concat(i.reverse().slice(1))}return p(n)}(e,t);return n||(r.push(e),t)}));return i&&r.push(i),r.length?1===r.length?r[0]:v(r.map((function(e){return e.coordinates}))):null}function Tt(e){return e[0].toString()+","+e[1].toString()}function Lt(e){return e}function It(e,t){var n=function(e){if(null==e)return Lt;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(e,s){s||(t=n=0);var l=2,u=e.length,c=new Array(u);for(c[0]=(t+=e[0])*r+o,c[1]=(n+=e[1])*i+a;l<u;)c[l]=e[l],++l;return c}}(e.transform),r=e.arcs;function i(e,t){t.length&&t.pop();for(var i=r[e<0?~e:e],o=0,a=i.length;o<a;++o)t.push(n(i[o],o));e<0&&function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}(t,a)}function o(e){return n(e)}function a(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=a(e);t.length<4;)t.push(t[0]);return t}function l(e){return e.map(s)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=o(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(o);break;case"LineString":n=a(t.arcs);break;case"MultiLineString":n=t.arcs.map(a);break;case"Polygon":n=l(t.arcs);break;case"MultiPolygon":n=t.arcs.map(l);break;default:return null}return{type:r,coordinates:n}}(t)}function Dt(e,t){var n={},r={},i={},o=[],a=-1;function s(e,t){for(var r in e){var i=e[r];delete t[i.start],delete i.start,delete i.end,i.forEach((function(e){n[e<0?~e:e]=1})),o.push(i)}}return t.forEach((function(n,r){var i,o=e.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=t[++a],t[a]=n,t[r]=i)})),t.forEach((function(t){var n,o,a=function(t){var n,r=e.arcs[t<0?~t:t],i=r[0];return e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1],t<0?[n,i]:[i,n]}(t),s=a[0],l=a[1];if(n=i[s])if(delete i[n.end],n.push(t),n.end=l,o=r[l]){delete r[o.start];var u=o===n?n:n.concat(o);r[u.start=n.start]=i[u.end=o.end]=u}else r[n.start]=i[n.end]=n;else if(n=r[l])if(delete r[n.start],n.unshift(t),n.start=s,o=i[s]){delete i[o.end];var c=o===n?n:o.concat(n);r[c.start=o.start]=i[c.end=n.end]=c}else r[n.start]=i[n.end]=n;else r[(n=[t]).start=s]=i[n.end=l]=n})),s(i,r),s(r,i),t.forEach((function(e){n[e<0?~e:e]||o.push([e])})),o}function Rt(e,t){var n={},r=[],i=[];function o(e){e.forEach((function(t){t.forEach((function(t){(n[t=t<0?~t:t]||(n[t]=[])).push(e)}))})),r.push(e)}function a(t){return function(e){for(var t,n=-1,r=e.length,i=e[r-1],o=0;++n<r;)t=i,i=e[n],o+=t[0]*i[1]-t[1]*i[0];return Math.abs(o)}(It(e,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach((function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":o(t.arcs);break;case"MultiPolygon":t.arcs.forEach(o)}})),r.forEach((function(e){if(!e._){var t=[],r=[e];for(e._=1,i.push(t);e=r.pop();)t.push(e),e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].forEach((function(e){e._||(e._=1,r.push(e))}))}))}))}})),r.forEach((function(e){delete e._})),{type:"MultiPolygon",arcs:i.map((function(t){var r,i=[];if(t.forEach((function(e){e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].length<2&&i.push(e)}))}))})),(r=(i=Dt(e,i)).length)>1)for(var o,s,l=1,u=a(i[0]);l<r;++l)(o=a(i[l]))>u&&(s=i[0],i[0]=i[l],i[l]=s,u=o);return i})).filter((function(e){return e.length>0}))}}var Nt=Object.prototype.hasOwnProperty;function jt(e,t,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var a=new r(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),s=new o(e),l=e-1,u=0;u<e;++u)a[u]=i;function c(r,o){for(var u=t(r)&l,c=a[u],f=0;c!=i;){if(n(c,r))return s[u]=o;if(++f>=e)throw new Error("full hashmap");c=a[u=u+1&l]}return a[u]=r,s[u]=o,o}function f(r,o){for(var u=t(r)&l,c=a[u],f=0;c!=i;){if(n(c,r))return s[u];if(++f>=e)throw new Error("full hashmap");c=a[u=u+1&l]}return a[u]=r,s[u]=o,o}function p(r,o){for(var u=t(r)&l,c=a[u],f=0;c!=i;){if(n(c,r))return s[u];if(++f>=e)break;c=a[u=u+1&l]}return o}function d(){for(var e=[],t=0,n=a.length;t<n;++t){var r=a[t];r!=i&&e.push(r)}return e}return{set:c,maybeSet:f,get:p,keys:d}}function Ft(e,t){return e[0]===t[0]&&e[1]===t[1]}var Bt=new ArrayBuffer(16),Ut=new Float64Array(Bt),zt=new Uint32Array(Bt);function Ht(e){Ut[0]=e[0],Ut[1]=e[1];var t=zt[0]^zt[1];return 2147483647&(t<<5^t>>7^zt[2]^zt[3])}function Vt(e){var t,n,r,i,o=e.coordinates,a=e.lines,s=e.rings,l=function(){for(var e=jt(1.4*o.length,E,x,Int32Array,-1,Int32Array),t=new Int32Array(o.length),n=0,r=o.length;n<r;++n)t[n]=e.maybeSet(n,n);return t}(),u=new Int32Array(o.length),c=new Int32Array(o.length),f=new Int32Array(o.length),p=new Int8Array(o.length),d=0;for(t=0,n=o.length;t<n;++t)u[t]=c[t]=f[t]=-1;for(t=0,n=a.length;t<n;++t){var h=a[t],v=h[0],m=h[1];for(r=l[v],i=l[++v],++d,p[r]=1;++v<=m;)_(t,r,r=i,i=l[v]);++d,p[i]=1}for(t=0,n=o.length;t<n;++t)u[t]=-1;for(t=0,n=s.length;t<n;++t){var g=s[t],y=g[0]+1,b=g[1];for(_(t,l[b-1],r=l[y-1],i=l[y]);++y<=b;)_(t,r,r=i,i=l[y])}function _(e,t,n,r){if(u[n]!==e){u[n]=e;var i=c[n];if(i>=0){var o=f[n];i===t&&o===r||i===r&&o===t||(++d,p[n]=1)}else c[n]=t,f[n]=r}}function E(e){return Ht(o[e])}function x(e,t){return Ft(o[e],o[t])}u=c=f=null;var w,S=function(e,t,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),a=e-1,s=0;s<e;++s)o[s]=i;function l(r){for(var s=t(r)&a,l=o[s],u=0;l!=i;){if(n(l,r))return!0;if(++u>=e)throw new Error("full hashset");l=o[s=s+1&a]}return o[s]=r,!0}function u(r){for(var s=t(r)&a,l=o[s],u=0;l!=i;){if(n(l,r))return!0;if(++u>=e)break;l=o[s=s+1&a]}return!1}function c(){for(var e=[],t=0,n=o.length;t<n;++t){var r=o[t];r!=i&&e.push(r)}return e}return{add:l,has:u,values:c}}(1.4*d,Ht,Ft);for(t=0,n=o.length;t<n;++t)p[w=l[t]]&&S.add(o[w]);return S}function Gt(e,t,n,r){Wt(e,t,n),Wt(e,t,t+r),Wt(e,t+r,n)}function Wt(e,t,n){for(var r,i=t+(n---t>>1);t<i;++t,--n)r=e[t],e[t]=e[n],e[n]=r}function qt(e){var t,n,r={};for(t in e)r[t]=null==(n=e[t])?{type:null}:("FeatureCollection"===n.type?Yt:"Feature"===n.type?Xt:Kt)(n);return r}function Yt(e){var t={type:"GeometryCollection",geometries:e.features.map(Xt)};return null!=e.bbox&&(t.bbox=e.bbox),t}function Xt(e){var t,n=Kt(e.geometry);for(t in null!=e.id&&(n.id=e.id),null!=e.bbox&&(n.bbox=e.bbox),e.properties){n.properties=e.properties;break}return n}function Kt(e){if(null==e)return{type:null};var t="GeometryCollection"===e.type?{type:"GeometryCollection",geometries:e.geometries.map(Kt)}:"Point"===e.type||"MultiPoint"===e.type?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return null!=e.bbox&&(t.bbox=e.bbox),t}function Zt(e,t){var n=function(e){var t=1/0,n=1/0,r=-1/0,i=-1/0;function o(e){null!=e&&Nt.call(a,e.type)&&a[e.type](e)}var a={GeometryCollection:function(e){e.geometries.forEach(o)},Point:function(e){s(e.coordinates)},MultiPoint:function(e){e.coordinates.forEach(s)},LineString:function(e){l(e.arcs)},MultiLineString:function(e){e.arcs.forEach(l)},Polygon:function(e){e.arcs.forEach(l)},MultiPolygon:function(e){e.arcs.forEach(u)}};function s(e){var o=e[0],a=e[1];o<t&&(t=o),o>r&&(r=o),a<n&&(n=a),a>i&&(i=a)}function l(e){e.forEach(s)}function u(e){e.forEach(l)}for(var c in e)o(e[c]);return r>=t&&i>=n?[t,n,r,i]:void 0}(e=qt(e)),r=t>0&&n&&function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=o-r?(n-1)/(o-r):1,l=a-i?(n-1)/(a-i):1;function u(e){return[Math.round((e[0]-r)*s),Math.round((e[1]-i)*l)]}function c(e,t){for(var n,o,a,u,c,f=-1,p=0,d=e.length,h=new Array(d);++f<d;)n=e[f],u=Math.round((n[0]-r)*s),c=Math.round((n[1]-i)*l),u===o&&c===a||(h[p++]=[o=u,a=c]);for(h.length=p;p<t;)p=h.push([h[0][0],h[0][1]]);return h}function f(e){return c(e,2)}function p(e){return c(e,4)}function d(e){return e.map(p)}function h(e){null!=e&&Nt.call(v,e.type)&&v[e.type](e)}var v={GeometryCollection:function(e){e.geometries.forEach(h)},Point:function(e){e.coordinates=u(e.coordinates)},MultiPoint:function(e){e.coordinates=e.coordinates.map(u)},LineString:function(e){e.arcs=f(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(f)},Polygon:function(e){e.arcs=d(e.arcs)},MultiPolygon:function(e){e.arcs=e.arcs.map(d)}};for(var m in e)h(e[m]);return{scale:[1/s,1/l],translate:[r,i]}}(e,n,t),i=function(e){var t,n,r,i,o=e.coordinates,a=e.lines,s=e.rings,l=a.length+s.length;for(delete e.lines,delete e.rings,r=0,i=a.length;r<i;++r)for(t=a[r];t=t.next;)++l;for(r=0,i=s.length;r<i;++r)for(n=s[r];n=n.next;)++l;var u=jt(2*l*1.4,Ht,Ft),c=e.arcs=[];for(r=0,i=a.length;r<i;++r){t=a[r];do{f(t)}while(t=t.next)}for(r=0,i=s.length;r<i;++r)if((n=s[r]).next)do{f(n)}while(n=n.next);else p(n);function f(e){var t,n,r,i,a,s,l,f;if(r=u.get(t=o[e[0]]))for(l=0,f=r.length;l<f;++l)if(d(i=r[l],e))return e[0]=i[0],void(e[1]=i[1]);if(a=u.get(n=o[e[1]]))for(l=0,f=a.length;l<f;++l)if(h(s=a[l],e))return e[1]=s[0],void(e[0]=s[1]);r?r.push(e):u.set(t,[e]),a?a.push(e):u.set(n,[e]),c.push(e)}function p(e){var t,n,r,i,a;if(n=u.get(o[e[0]]))for(i=0,a=n.length;i<a;++i){if(v(r=n[i],e))return e[0]=r[0],void(e[1]=r[1]);if(m(r,e))return e[0]=r[1],void(e[1]=r[0])}if(n=u.get(t=o[e[0]+g(e)]))for(i=0,a=n.length;i<a;++i){if(v(r=n[i],e))return e[0]=r[0],void(e[1]=r[1]);if(m(r,e))return e[0]=r[1],void(e[1]=r[0])}n?n.push(e):u.set(t,[e]),c.push(e)}function d(e,t){var n=e[0],r=t[0],i=e[1];if(n-i!=r-t[1])return!1;for(;n<=i;++n,++r)if(!Ft(o[n],o[r]))return!1;return!0}function h(e,t){var n=e[0],r=t[0],i=e[1],a=t[1];if(n-i!=r-a)return!1;for(;n<=i;++n,--a)if(!Ft(o[n],o[a]))return!1;return!0}function v(e,t){var n=e[0],r=t[0],i=e[1]-n;if(i!==t[1]-r)return!1;for(var a=g(e),s=g(t),l=0;l<i;++l)if(!Ft(o[n+(l+a)%i],o[r+(l+s)%i]))return!1;return!0}function m(e,t){var n=e[0],r=t[0],i=e[1],a=t[1],s=i-n;if(s!==a-r)return!1;for(var l=g(e),u=s-g(t),c=0;c<s;++c)if(!Ft(o[n+(c+l)%s],o[a-(c+u)%s]))return!1;return!0}function g(e){for(var t=e[0],n=e[1],r=t,i=r,a=o[r];++r<n;){var s=o[r];(s[0]<a[0]||s[0]===a[0]&&s[1]<a[1])&&(i=r,a=s)}return i-t}return e}(function(e){var t,n,r,i=Vt(e),o=e.coordinates,a=e.lines,s=e.rings;for(n=0,r=a.length;n<r;++n)for(var l=a[n],u=l[0],c=l[1];++u<c;)i.has(o[u])&&(t={0:u,1:l[1]},l[1]=u,l=l.next=t);for(n=0,r=s.length;n<r;++n)for(var f=s[n],p=f[0],d=p,h=f[1],v=i.has(o[p]);++d<h;)i.has(o[d])&&(v?(t={0:d,1:f[1]},f[1]=d,f=f.next=t):(Gt(o,p,h,h-d),o[h]=o[p],v=!0,d=p));return e}(function(e){var t=-1,n=[],r=[],i=[];function o(e){e&&Nt.call(a,e.type)&&a[e.type](e)}var a={GeometryCollection:function(e){e.geometries.forEach(o)},LineString:function(e){e.arcs=s(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(s)},Polygon:function(e){e.arcs=e.arcs.map(l)},MultiPolygon:function(e){e.arcs=e.arcs.map(u)}};function s(e){for(var r=0,o=e.length;r<o;++r)i[++t]=e[r];var a={0:t-o+1,1:t};return n.push(a),a}function l(e){for(var n=0,o=e.length;n<o;++n)i[++t]=e[n];var a={0:t-o+1,1:t};return r.push(a),a}function u(e){return e.map(l)}for(var c in e)o(e[c]);return{type:"Topology",coordinates:i,lines:n,rings:r,objects:e}}(e))),o=i.coordinates,a=jt(1.4*i.arcs.length,Qt,Jt);function s(e){e&&Nt.call(l,e.type)&&l[e.type](e)}e=i.objects,i.bbox=n,i.arcs=i.arcs.map((function(e,t){return a.set(e,t),o.slice(e[0],e[1]+1)})),delete i.coordinates,o=null;var l={GeometryCollection:function(e){e.geometries.forEach(s)},LineString:function(e){e.arcs=u(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(u)},Polygon:function(e){e.arcs=e.arcs.map(u)},MultiPolygon:function(e){e.arcs=e.arcs.map(c)}};function u(e){var t=[];do{var n=a.get(e);t.push(e[0]<e[1]?n:~n)}while(e=e.next);return t}function c(e){return e.map(u)}for(var f in e)s(e[f]);return r&&(i.transform=r,i.arcs=function(e){for(var t=-1,n=e.length;++t<n;){for(var r,i,o=e[t],a=0,s=1,l=o.length,u=o[0],c=u[0],f=u[1];++a<l;)r=(u=o[a])[0],i=u[1],r===c&&i===f||(o[s++]=[r-c,i-f],c=r,f=i);1===s&&(o[s++]=[0,0]),o.length=s}return e}(i.arcs)),i}function Qt(e){var t,n=e[0],r=e[1];return r<n&&(t=n,n=r,r=t),n+31*r}function Jt(e,t){var n,r=e[0],i=e[1],o=t[0],a=t[1];return i<r&&(n=r,r=i,i=n),a<o&&(n=o,o=a,a=n),r===o&&i===a}function $t(e,t){if(void 0===t&&(t={}),"FeatureCollection"!==oe(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==t.mutate&&void 0!==t.mutate||(e=Ot(e));var n=[];H(e,(function(e){n.push(e.geometry)}));var r=Zt({geoms:y(n).geometry});return function(e){return It(e,Rt.apply(this,arguments))}(r,r.objects.geoms.geometries)}function en(e,t){if(void 0===t&&(t={}),!k(t=t||{}))throw new Error("options is invalid");var n=t.mutate;if("FeatureCollection"!==oe(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(e=Ot(e));var r=function(e){var t={};H(e,(function(e){t[e.geometry.type]=!0}));var n=Object.keys(t);return 1===n.length?n[0]:null}(e);if(!r)throw new Error("geojson must be homogenous");var i=e;switch(r){case"LineString":return Mt(i,t);case"Polygon":return $t(i,t);default:throw new Error(r+" is not supported")}}function tn(e,t){void 0===t&&(t={});var n="object"==typeof t?t.mutate:t;if(!e)throw new Error("geojson is required");var r=oe(e),i=[];switch(r){case"LineString":i=nn(e);break;case"MultiLineString":case"Polygon":$(e).forEach((function(e){i.push(nn(e))}));break;case"MultiPolygon":$(e).forEach((function(e){var t=[];e.forEach((function(e){t.push(nn(e))})),i.push(t)}));break;case"Point":return e;case"MultiPoint":var o={};$(e).forEach((function(e){var t=e.join("-");Object.prototype.hasOwnProperty.call(o,t)||(i.push(e),o[t]=!0)}));break;default:throw new Error(r+" geometry not supported")}return e.coordinates?!0===n?(e.coordinates=i,e):{type:r,coordinates:i}:!0===n?(e.geometry.coordinates=i,e):a({type:r,coordinates:i},e.properties,{bbox:e.bbox,id:e.id})}function nn(e){var t=$(e);if(2===t.length&&!rn(t[0],t[1]))return t;var n=[],r=t.length-1,i=n.length;n.push(t[0]);for(var o=1;o<r;o++){var a=n[n.length-1];t[o][0]===a[0]&&t[o][1]===a[1]||(n.push(t[o]),(i=n.length)>2&&on(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1))}if(n.push(t[t.length-1]),i=n.length,rn(t[0],t[t.length-1])&&i<4)throw new Error("invalid polygon");return on(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1),n}function rn(e,t){return e[0]===t[0]&&e[1]===t[1]}function on(e,t,n){var r=n[0],i=n[1],o=e[0],a=e[1],s=t[0],l=t[1],u=s-o,c=l-a;return 0===(r-o)*c-(i-a)*u&&(Math.abs(u)>=Math.abs(c)?u>0?o<=r&&r<=s:s<=r&&r<=o:c>0?a<=i&&i<=l:l<=i&&i<=a)}function an(e,t,n){var r=t.x,i=t.y,o=n.x-r,a=n.y-i;if(0!==o||0!==a){var s=((e.x-r)*o+(e.y-i)*a)/(o*o+a*a);s>1?(r=n.x,i=n.y):s>0&&(r+=o*s,i+=a*s)}return(o=e.x-r)*o+(a=e.y-i)*a}function sn(e,t,n,r,i){for(var o,a=r,s=t+1;s<n;s++){var l=an(e[s],e[t],e[n]);l>a&&(o=s,a=l)}a>r&&(o-t>1&&sn(e,t,o,r,i),i.push(e[o]),n-o>1&&sn(e,o,n,r,i))}function ln(e,t){var n=e.length-1,r=[e[0]];return sn(e,0,n,t,r),r.push(e[n]),r}function un(e,t,n){if(e.length<=2)return e;var r=void 0!==t?t*t:1;return ln(e=n?e:function(e,t){for(var n,r,i,o,a,s=e[0],l=[s],u=1,c=e.length;u<c;u++)n=e[u],i=s,o=void 0,a=void 0,o=(r=n).x-i.x,a=r.y-i.y,o*o+a*a>t&&(l.push(n),s=n);return s!==n&&l.push(n),l}(e,r),r)}function cn(e,t,n){return un(e.map((function(e){return{x:e[0],y:e[1],z:e[2]}})),t,n).map((function(e){return e.z?[e.x,e.y,e.z]:[e.x,e.y]}))}function fn(e,t,n){return e.map((function(e){var r=e.map((function(e){return{x:e[0],y:e[1]}}));if(r.length<4)throw new Error("invalid polygon");for(var i=un(r,t,n).map((function(e){return[e.x,e.y]}));!pn(i);)i=un(r,t-=.01*t,n).map((function(e){return[e.x,e.y]}));return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i}))}function pn(e){return!(e.length<3)&&!(3===e.length&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}var dn=function(){function e(e){this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(var t=0;t<this.length;t++)this.points[t].z=this.points[t].z||0;for(t=0;t<this.length-1;t++){var n=this.points[t],r=this.points[t+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),t=0;t<this.centers.length-1;t++){var i=this.points[t+1].x-(this.centers[t].x+this.centers[t+1].x)/2,o=this.points[t+1].y-(this.centers[t].y+this.centers[t+1].y)/2,a=this.points[t+1].z-(this.centers[t].y+this.centers[t+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t].x+i),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t].y+o),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t].z+a)},{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t+1].x+i),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t+1].y+o),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return e.prototype.cacheSteps=function(e){var t=[],n=this.pos(0);t.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>e&&(t.push(r),n=i)}return t},e.prototype.vector=function(e){var t=this.pos(e+10),n=this.pos(e-10);return{angle:180*Math.atan2(t.y-n.y,t.x-n.x)/3.14,speed:Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y)+(n.z-t.z)*(n.z-t.z))}},e.prototype.pos=function(e){var t=e-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);var n=t/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(e,t,n,r,i){var o=function(e){var t=e*e;return[t*e,3*t*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)]}(e);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+t.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+t.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+t.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])},e}();function hn(e,t){void 0===t&&(t={});for(var n=t.resolution||1e4,r=t.sharpness||.85,i=[],o=ie(e).coordinates.map((function(e){return{x:e[0],y:e[1]}})),a=new dn({duration:n,points:o,sharpness:r}),s=function(e){var t=a.pos(e);Math.floor(e/100)%2==0&&i.push([t.x,t.y])},l=0;l<a.duration;l+=10)s(l);return s(a.duration),p(i,t.properties)}function vn(e,t){void 0===t&&(t={});var n=Number(e[0]),r=Number(e[1]),i=Number(e[2]),o=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[n,r];return c([[a,[i,r],[i,o],[n,o],a]],t.properties,{bbox:e,id:t.id})}function mn(e){return vn(Q(e))}function gn(e){var t=e[0],n=e[1],r=e[2],i=e[3];if(_t(e.slice(0,2),[r,n])>=_t(e.slice(0,2),[t,i])){var o=(n+i)/2;return[t,o-(r-t)/2,r,o+(r-t)/2]}var a=(t+r)/2;return[a-(i-n)/2,n,a+(i-n)/2,i]}function yn(e,t,n,r){void 0===r&&(r={});var i=J(e),o=O(i[0]),a=O(i[1]),s=O(n),u=E(t,r.units),c=Math.asin(Math.sin(a)*Math.cos(u)+Math.cos(a)*Math.sin(u)*Math.cos(s));return l([S(o+Math.atan2(Math.sin(s)*Math.sin(u)*Math.cos(a),Math.cos(u)-Math.sin(a)*Math.sin(c))),S(c)],r.properties)}function bn(e,t,n){void 0===n&&(n={});for(var r=n.steps||64,i=n.properties?n.properties:!Array.isArray(e)&&"Feature"===e.type&&e.properties?e.properties:{},o=[],a=0;a<r;a++)o.push(yn(e,t,-360*a/r,n).geometry.coordinates);return o.push(o[0]),c([o],i)}function _n(e,t,n){if(void 0===n&&(n={}),!0===n["final"])return function(e,t){var n=_n(t,e);return(n+180)%360}(e,t);var r=J(e),i=J(t),o=O(r[0]),a=O(i[0]),s=O(r[1]),l=O(i[1]),u=Math.sin(a-o)*Math.cos(l),c=Math.cos(s)*Math.sin(l)-Math.sin(s)*Math.cos(l)*Math.cos(a-o);return S(Math.atan2(u,c))}function En(e,t){void 0===t&&(t={});var n=Q(e);return l([(n[0]+n[2])/2,(n[1]+n[3])/2],t.properties,t)}function xn(e,t){void 0===t&&(t={});var n=0,r=0,i=0;return I(e,(function(e){n+=e[0],r+=e[1],i++}),!0),l([n/i,r/i],t.properties)}function wn(e){var t=[];return"FeatureCollection"===e.type?j(e,(function(e){I(e,(function(n){t.push(l(n,e.properties))}))})):I(e,(function(n){t.push(l(n,e.properties))})),h(t)}var Sn=Cn,On=Cn;function Cn(e,t,n){n=n||2;var r,i,o,a,s,l,u,c=t&&t.length,f=c?t[0]*n:e.length,p=An(e,0,f,n,!0),d=[];if(!p)return d;if(c&&(p=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=An(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(jn(a));for(s.sort(Dn),i=0;i<s.length;i++)Rn(s[i],n),n=Pn(n,n.next);return n}(e,t,p,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var h=n;h<f;h+=n)(s=e[h])<r&&(r=s),(l=e[h+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return kn(p,d,n,r,i,u),d}function An(e,t,n,r,i){var o,a;if(i===Xn(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Wn(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Wn(o,e[o],e[o+1],a);return a&&zn(a,a.next)&&(qn(a),a=a.next),a}function Pn(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!zn(r,r.next)&&0!==Un(r.prev,r,r.next))r=r.next;else{if(qn(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function kn(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Nn(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(e,r,i,o);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?Tn(e,r,i,o):Mn(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),qn(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?kn(e=Ln(e,t,n),t,n,r,i,o,2):2===a&&In(e,t,n,r,i,o):kn(Pn(e),t,n,r,i,o,1);break}}}function Mn(e){var t=e.prev,n=e,r=e.next;if(Un(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Fn(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Un(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Tn(e,t,n,r){var i=e.prev,o=e,a=e.next;if(Un(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=Nn(s,l,t,n,r),p=Nn(u,c,t,n,r),d=e.prevZ,h=e.nextZ;d&&d.z>=f&&h&&h.z<=p;){if(d!==e.prev&&d!==e.next&&Fn(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Un(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,h!==e.prev&&h!==e.next&&Fn(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Un(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;d&&d.z>=f;){if(d!==e.prev&&d!==e.next&&Fn(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Un(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;h&&h.z<=p;){if(h!==e.prev&&h!==e.next&&Fn(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Un(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function Ln(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!zn(i,o)&&Hn(i,r,r.next,o)&&Vn(i,o)&&Vn(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),qn(r),qn(r.next),r=e=o),r=r.next}while(r!==e);return r}function In(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Bn(a,s)){var l=Gn(a,s);return a=Pn(a,a.next),l=Pn(l,l.next),kn(a,t,n,r,i,o),void kn(l,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function Dn(e,t){return e.x-t.x}function Rn(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n.prev;var l,u=n,c=n.x,f=n.y,p=1/0;for(r=n.next;r!==u;)i>=r.x&&r.x>=c&&i!==r.x&&Fn(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&((l=Math.abs(o-r.y)/(i-r.x))<p||l===p&&r.x>n.x)&&Vn(r,e)&&(n=r,p=l),r=r.next;return n}(e,t)){var n=Gn(t,e);Pn(n,n.next)}}function Nn(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function jn(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function Fn(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Bn(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Hn(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&Vn(e,t)&&Vn(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function Un(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function zn(e,t){return e.x===t.x&&e.y===t.y}function Hn(e,t,n,r){return!!(zn(e,t)&&zn(n,r)||zn(e,r)&&zn(n,t))||Un(e,t,n)>0!=Un(e,t,r)>0&&Un(n,r,e)>0!=Un(n,r,t)>0}function Vn(e,t){return Un(e.prev,e,e.next)<0?Un(e,t,e.next)>=0&&Un(e,e.prev,t)>=0:Un(e,t,e.prev)<0||Un(e,e.next,t)<0}function Gn(e,t){var n=new Yn(e.i,e.x,e.y),r=new Yn(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Wn(e,t,n,r){var i=new Yn(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function qn(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Yn(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Xn(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}function Kn(e){var t=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}(e),n=Sn(t.vertices,t.holes,2),r=[],i=[];n.forEach((function(e,r){var o=n[r];i.push([t.vertices[2*o],t.vertices[2*o+1]])}));for(var o=0;o<i.length;o+=3){var a=i.slice(o,o+3);a.push(i[o]),r.push(c([a]))}return r}function Zn(e,t){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");var n,r=1/0,i=0;return j(t,(function(t,n){var o=_t(e,t);o<r&&(i=n,r=o)})),(n=Ot(t.features[i])).properties.featureIndex=i,n.properties.distanceToPoint=r,n}function Qn(e){if(!e)throw new Error("geojson is required");var t=[];return H(e,(function(e){!function(e,t){var n=[],r=e.geometry;if(null!==r){switch(r.type){case"Polygon":n=$(r);break;case"LineString":n=[$(r)]}n.forEach((function(n){(function(e,t){var n=[];return e.reduce((function(e,r){var i=p([e,r],t);return i.bbox=function(e,t){var n=e[0],r=e[1],i=t[0],o=t[1];return[n<i?n:i,r<o?r:o,n>i?n:i,r>o?r:o]}(e,r),n.push(i),r})),n})(n,e.properties).forEach((function(e){e.id=t.length,t.push(e)}))}))}}(e,t)})),h(t)}Cn.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(Xn(e,0,o,n));if(i)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,c=s<l-1?t[s+1]*n:e.length;a-=Math.abs(Xn(e,u,c,n))}var f=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,d=r[s+1]*n,h=r[s+2]*n;f+=Math.abs((e[p]-e[h])*(e[d+1]-e[p+1])-(e[p]-e[d])*(e[h+1]-e[p+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},Cn.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n},Sn["default"]=On;var Jn=ze((function(e,t){function n(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function r(e,t,r){if(void 0===r&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!d(e[0])||!d(e[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:e},t,r)}function i(e,t,r){void 0===r&&(r={});for(var i=0,o=e;i<o.length;i++){var a=o[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t,r)}function o(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:e},t,r)}function a(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function s(e,t,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:e},t,r)}function l(e,t,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:e},t,r)}function u(e,t,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:e},t,r)}function c(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e*r}function f(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e/r}function p(e){return e%(2*Math.PI)*180/Math.PI}function d(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:1.0936*t.earthRadius},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=n,t.geometry=function(e,t,n){switch(e){case"Point":return r(t).geometry;case"LineString":return o(t).geometry;case"Polygon":return i(t).geometry;case"MultiPoint":return l(t).geometry;case"MultiLineString":return s(t).geometry;case"MultiPolygon":return u(t).geometry;default:throw new Error(e+" is invalid")}},t.point=r,t.points=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return r(e,t)})),n)},t.polygon=i,t.polygons=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return i(e,t)})),n)},t.lineString=o,t.lineStrings=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return o(e,t)})),n)},t.featureCollection=a,t.multiLineString=s,t.multiPoint=l,t.multiPolygon=u,t.geometryCollection=function(e,t,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:e},t,r)},t.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n},t.radiansToLength=c,t.lengthToRadians=f,t.lengthToDegrees=function(e,t){return p(f(e,t))},t.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},t.radiansToDegrees=p,t.degreesToRadians=function(e){return e%360*Math.PI/180},t.convertLength=function(e,t,n){if(void 0===t&&(t="kilometers"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return c(f(e,t),n)},t.convertArea=function(e,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("area must be a positive number");var i=t.areaFactors[n];if(!i)throw new Error("invalid original units");var o=t.areaFactors[r];if(!o)throw new Error("invalid final units");return e/i*o},t.isNumber=d,t.isObject=function(e){return!!e&&e.constructor===Object},t.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!d(e))throw new Error("bbox must only contain numbers")}))},t.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}}));function $n(e,t,n){if(null!==e)for(var r,i,o,a,s,l,u,c,f=0,p=0,d=e.type,h="FeatureCollection"===d,v="Feature"===d,m=h?e.features.length:1,g=0;g<m;g++){s=(c=!!(u=h?e.features[g].geometry:v?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var y=0;y<s;y++){var b=0,_=0;if(null!==(a=c?u.geometries[y]:u)){l=a.coordinates;var E=a.type;switch(f=!n||"Polygon"!==E&&"MultiPolygon"!==E?0:1,E){case null:break;case"Point":if(!1===t(l,p,g,b,_))return!1;p++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(!1===t(l[r],p,g,b,_))return!1;p++,"MultiPoint"===E&&b++}"LineString"===E&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-f;i++){if(!1===t(l[r][i],p,g,b,_))return!1;p++}"MultiLineString"===E&&b++,"Polygon"===E&&_++}"Polygon"===E&&b++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(_=0,i=0;i<l[r].length;i++){for(o=0;o<l[r][i].length-f;o++){if(!1===t(l[r][i][o],p,g,b,_))return!1;p++}_++}b++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===$n(a.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function er(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length&&!1!==t(e.features[n].properties,n);n++);break;case"Feature":t(e.properties,0)}}function tr(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function nr(e,t){var n,r,i,o,a,s,l,u,c,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,v=d?e.features.length:1;for(n=0;n<v;n++){for(s=d?e.features[n].geometry:h?e.geometry:e,u=d?e.features[n].properties:h?e.properties:{},c=d?e.features[n].bbox:h?e.bbox:void 0,f=d?e.features[n].id:h?e.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=l?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,p,u,c,f))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===t(o.geometries[r],p,u,c,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,u,c,f))return!1;p++}}function rr(e,t){nr(e,(function(e,n,r,i,o){var a,s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==t(Jn.feature(e,r,{bbox:i,id:o}),n,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:a,coordinates:e.coordinates[l]};if(!1===t(Jn.feature(u,r),n,l))return!1}}))}function ir(e,t){rr(e,(function(e,n,r){var i=0;if(e.geometry){var o=e.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var a,s=0,l=0,u=0;return!1!==$n(e,(function(o,c,f,p,d){if(void 0===a||n>s||p>l||d>u)return a=o,s=n,l=p,u=d,void(i=0);var h=Jn.lineString([a,o],e.properties);if(!1===t(h,n,r,d,i))return!1;i++,a=o}))&&void 0}}}))}function or(e,t){if(!e)throw new Error("geojson is required");rr(e,(function(e,n,r){if(null!==e.geometry){var i=e.geometry.type,o=e.geometry.coordinates;switch(i){case"LineString":if(!1===t(e,n,r,0,0))return!1;break;case"Polygon":for(var a=0;a<o.length;a++)if(!1===t(Jn.lineString(o[a],e.properties),n,r,a))return!1}}}))}var ar=function(e){var t=[];return $n(e,(function(e){t.push(e)})),t},sr=$n,lr=function(e,t,n,r){var i=n;return $n(e,(function(e,r,o,a,s){i=0===r&&void 0===n?e:t(i,e,r,o,a,s)}),r),i},ur=tr,cr=function(e,t,n){var r=n;return tr(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r},fr=function(e,t){if(t=t||{},!Jn.isObject(t))throw new Error("options is invalid");var n,r=t.featureIndex||0,i=t.multiFeatureIndex||0,o=t.geometryIndex||0,a=t.coordIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),s=s||e.features[r].properties,n=e.features[r].geometry;break;case"Feature":s=s||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":return Jn.point(l,s,t);case"MultiPoint":return i<0&&(i=l.length+i),Jn.point(l[i],s,t);case"LineString":return a<0&&(a=l.length+a),Jn.point(l[a],s,t);case"Polygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),Jn.point(l[o][a],s,t);case"MultiLineString":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),Jn.point(l[i][a],s,t);case"MultiPolygon":return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o),a<0&&(a=l[i][o].length-a),Jn.point(l[i][o][a],s,t)}throw new Error("geojson is invalid")},pr=function(e,t){if(t=t||{},!Jn.isObject(t))throw new Error("options is invalid");var n,r=t.featureIndex||0,i=t.multiFeatureIndex||0,o=t.geometryIndex||0,a=t.segmentIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),s=s||e.features[r].properties,n=e.features[r].geometry;break;case"Feature":s=s||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=l.length+a-1),Jn.lineString([l[a],l[a+1]],s,t);case"Polygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a-1),Jn.lineString([l[o][a],l[o][a+1]],s,t);case"MultiLineString":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a-1),Jn.lineString([l[i][a],l[i][a+1]],s,t);case"MultiPolygon":return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o),a<0&&(a=l[i][o].length-a-1),Jn.lineString([l[i][o][a],l[i][o][a+1]],s,t)}throw new Error("geojson is invalid")},dr=rr,hr=function(e,t,n){var r=n;return rr(e,(function(e,i,o){r=0===i&&0===o&&void 0===n?e:t(r,e,i,o)})),r},vr=nr,mr=function(e,t,n){var r=n;return nr(e,(function(e,i,o,a,s){r=0===i&&void 0===n?e:t(r,e,i,o,a,s)})),r},gr=or,yr=function(e,t,n){var r=n;return or(e,(function(e,i,o,a){r=0===i&&void 0===n?e:t(r,e,i,o,a)})),r},br=er,_r=function(e,t,n){var r=n;return er(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r},Er=ir,xr=function(e,t,n){var r=n,i=!1;return ir(e,(function(e,o,a,s,l){r=!1===i&&void 0===n?e:t(r,e,o,a,s,l),i=!0})),r},wr=Object.defineProperty({coordAll:ar,coordEach:sr,coordReduce:lr,featureEach:ur,featureReduce:cr,findPoint:fr,findSegment:pr,flattenEach:dr,flattenReduce:hr,geomEach:vr,geomReduce:mr,lineEach:gr,lineReduce:yr,propEach:br,propReduce:_r,segmentEach:Er,segmentReduce:xr},"__esModule",{value:!0});function Sr(e){var t=[1/0,1/0,-1/0,-1/0];return wr.coordEach(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}Sr["default"]=Sr;var Or=Sr,Cr=Object.defineProperty({default:Or},"__esModule",{value:!0})["default"],Ar=wr.featureEach,Pr=(wr.coordEach,Jn.polygon,Jn.featureCollection);function kr(e){var t=Ce(e);return t.insert=function(e){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:Cr(e),Ce.prototype.insert.call(this,e)},t.load=function(e){var t=[];return Array.isArray(e)?e.forEach((function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:Cr(e),t.push(e)})):Ar(e,(function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:Cr(e),t.push(e)})),Ce.prototype.load.call(this,t)},t.remove=function(e,t){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:Cr(e),Ce.prototype.remove.call(this,e,t)},t.clear=function(){return Ce.prototype.clear.call(this)},t.search=function(e){var t=Ce.prototype.search.call(this,this.toBBox(e));return Pr(t)},t.collides=function(e){return Ce.prototype.collides.call(this,this.toBBox(e))},t.all=function(){var e=Ce.prototype.all.call(this);return Pr(e)},t.toJSON=function(){return Ce.prototype.toJSON.call(this)},t.fromJSON=function(e){return Ce.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var t;if(e.bbox)t=e.bbox;else if(Array.isArray(e)&&4===e.length)t=e;else if(Array.isArray(e)&&6===e.length)t=[e[0],e[1],e[3],e[4]];else if("Feature"===e.type)t=Cr(e);else{if("FeatureCollection"!==e.type)throw new Error("invalid geojson");t=Cr(e)}return{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}},t}var Mr=kr,Tr=kr;function Lr(e,t){var n={},r=[];if("LineString"===e.type&&(e=a(e)),"LineString"===t.type&&(t=a(t)),"Feature"===e.type&&"Feature"===t.type&&null!==e.geometry&&null!==t.geometry&&"LineString"===e.geometry.type&&"LineString"===t.geometry.type&&2===e.geometry.coordinates.length&&2===t.geometry.coordinates.length){var i=Ir(e,t);return i&&r.push(i),h(r)}var o=Mr();return o.load(Qn(t)),j(Qn(e),(function(e){j(o.search(e),(function(t){var i=Ir(e,t);if(i){var o=$(i).join(",");n[o]||(n[o]=!0,r.push(i))}}))})),h(r)}function Ir(e,t){var n=$(e),r=$(t);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=n[0][0],o=n[0][1],a=n[1][0],s=n[1][1],u=r[0][0],c=r[0][1],f=r[1][0],p=r[1][1],d=(p-c)*(a-i)-(f-u)*(s-o),h=(f-u)*(o-c)-(p-c)*(i-u),v=(a-i)*(o-c)-(s-o)*(i-u);if(0===d)return null;var m=h/d,g=v/d;return m>=0&&m<=1&&g>=0&&g<=1?l([i+m*(a-i),o+m*(s-o)]):null}function Dr(e,t,n){void 0===n&&(n={});var r=l([1/0,1/0],{dist:1/0}),i=0;return H(e,(function(e){for(var o=$(e),a=0;a<o.length-1;a++){var s=l(o[a]);s.properties.dist=_t(t,s,n);var u=l(o[a+1]);u.properties.dist=_t(t,u,n);var c=_t(s,u,n),f=Math.max(s.properties.dist,u.properties.dist),d=_n(s,u),h=yn(t,f,d+90,n),v=yn(t,f,d-90,n),m=Lr(p([h.geometry.coordinates,v.geometry.coordinates]),p([s.geometry.coordinates,u.geometry.coordinates])),g=null;m.features.length>0&&((g=m.features[0]).properties.dist=_t(t,g,n),g.properties.location=i+_t(s,g,n)),s.properties.dist<r.properties.dist&&((r=s).properties.index=a,r.properties.location=i),u.properties.dist<r.properties.dist&&((r=u).properties.index=a+1,r.properties.location=i+c),g&&g.properties.dist<r.properties.dist&&((r=g).properties.index=a),i+=c}})),r}function Rr(e,t,r){void 0===r&&(r={});var i=J(e),o=J(t);return o[0]+=o[0]-i[0]>180?-360:i[0]-o[0]>180?360:0,C(function(e,t,r){var i=r=void 0===r?n:Number(r),o=e[1]*Math.PI/180,a=t[1]*Math.PI/180,s=a-o,l=Math.abs(t[0]-e[0])*Math.PI/180;l>Math.PI&&(l-=2*Math.PI);var u=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),c=Math.abs(u)>1e-11?s/u:Math.cos(o);return Math.sqrt(s*s+c*c*l*l)*i}(i,o),"meters",r.units)}function Nr(e,t,n){if(void 0===n&&(n={}),n.method||(n.method="geodesic"),n.units||(n.units="kilometers"),!e)throw new Error("pt is required");if(Array.isArray(e)?e=l(e):"Point"===e.type?e=a(e):ne(e,"Point","point"),!t)throw new Error("line is required");Array.isArray(t)?t=p(t):"LineString"===t.type?t=a(t):ne(t,"LineString","line");var r=1/0,i=e.geometry.coordinates;return G(t,(function(e){var t=e.geometry.coordinates[0],o=e.geometry.coordinates[1],a=function(e,t,n,r){var i=[n[0]-t[0],n[1]-t[1]],o=jr([e[0]-t[0],e[1]-t[1]],i);if(o<=0)return Fr(e,t,{method:r.method,units:"degrees"});var a=jr(i,i);if(a<=o)return Fr(e,n,{method:r.method,units:"degrees"});var s=o/a,l=[t[0]+s*i[0],t[1]+s*i[1]];return Fr(e,l,{method:r.method,units:"degrees"})}(i,t,o,n);a<r&&(r=a)})),C(r,"degrees",n.units)}function jr(e,t){return e[0]*t[0]+e[1]*t[1]}function Fr(e,t,n){return"planar"===n.method?Rr(e,t,n):_t(e,t,n)}function Br(e,t,n,r,i,o,a,s){var l,u,c,f,p={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(l=(s-o)*(n-e)-(a-i)*(r-t))?null!==p.x&&null!==p.y&&p:(f=(n-e)*(u=t-o)-(r-t)*(c=e-i),u=((a-i)*u-(s-o)*c)/l,c=f/l,p.x=e+u*(n-e),p.y=t+u*(r-t),u>=0&&u<=1&&(p.onLine1=!0),c>=0&&c<=1&&(p.onLine2=!0),!(!p.onLine1||!p.onLine2)&&[p.x,p.y])}function Ur(e){for(var t=function(e){return"FeatureCollection"!==e.type?"Feature"!==e.type?h([a(e)]):h([e]):e}(e),n=En(t),r=!1,i=0;!r&&i<t.features.length;){var o,s=t.features[i].geometry,u=!1;if("Point"===s.type)n.geometry.coordinates[0]===s.coordinates[0]&&n.geometry.coordinates[1]===s.coordinates[1]&&(r=!0);else if("MultiPoint"===s.type){var c=!1;for(o=0;!c&&o<s.coordinates.length;)n.geometry.coordinates[0]===s.coordinates[o][0]&&n.geometry.coordinates[1]===s.coordinates[o][1]&&(r=!0,c=!0),o++}else if("LineString"===s.type)for(o=0;!u&&o<s.coordinates.length-1;)zr(n.geometry.coordinates[0],n.geometry.coordinates[1],s.coordinates[o][0],s.coordinates[o][1],s.coordinates[o+1][0],s.coordinates[o+1][1])&&(u=!0,r=!0),o++;else if("MultiLineString"===s.type)for(var f=0;f<s.coordinates.length;){u=!1,o=0;for(var p=s.coordinates[f];!u&&o<p.length-1;)zr(n.geometry.coordinates[0],n.geometry.coordinates[1],p[o][0],p[o][1],p[o+1][0],p[o+1][1])&&(u=!0,r=!0),o++;f++}else"Polygon"!==s.type&&"MultiPolygon"!==s.type||gt(n,s)&&(r=!0);i++}if(r)return n;var d=h([]);for(i=0;i<t.features.length;i++)d.features=d.features.concat(wn(t.features[i]).features);return l(Zn(n,d).geometry.coordinates)}function zr(e,t,n,r,i,o){return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((e-n)*(e-n)+(t-r)*(t-r))+Math.sqrt((i-e)*(i-e)+(o-t)*(o-t))}Mr["default"]=Tr;var Hr=6378137;function Vr(e){return z(e,(function(e,t){return e+function(e){var t,n=0;switch(e.type){case"Polygon":return Gr(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)n+=Gr(e.coordinates[t]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)}),0)}function Gr(e){var t=0;if(e&&e.length>0){t+=Math.abs(Wr(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(Wr(e[n]))}return t}function Wr(e){var t,n,r,i,o,a,s=0,l=e.length;if(l>2){for(a=0;a<l;a++)a===l-2?(r=l-2,i=l-1,o=0):a===l-1?(r=l-1,i=0,o=1):(r=a,i=a+1,o=a+2),t=e[r],n=e[i],s+=(qr(e[o][0])-qr(t[0]))*Math.sin(qr(n[1]));s=s*Hr*Hr/2}return s}function qr(e){return e*Math.PI/180}function Yr(e,t){return void 0===t&&(t={}),W(e,(function(e,n){var r=n.geometry.coordinates;return e+_t(r[0],r[1],t)}),0)}function Xr(e,t,n,r){if(!k(r=r||{}))throw new Error("options is invalid");var i,o=[];if("Feature"===e.type)i=e.geometry.coordinates;else{if("LineString"!==e.type)throw new Error("input must be a LineString Feature or Geometry");i=e.coordinates}for(var a,s,l,u=i.length,c=0,f=0;f<i.length&&!(t>=c&&f===i.length-1);f++){if(c>t&&0===o.length){if(!(a=t-c))return o.push(i[f]),p(o);s=_n(i[f],i[f-1])-180,l=yn(i[f],a,s,r),o.push(l.geometry.coordinates)}if(c>=n)return(a=n-c)?(s=_n(i[f],i[f-1])-180,l=yn(i[f],a,s,r),o.push(l.geometry.coordinates),p(o)):(o.push(i[f]),p(o));if(c>=t&&o.push(i[f]),f===i.length-1)return p(o);c+=_t(i[f],i[f+1],r)}if(c<t&&i.length===u)throw new Error("Start position is beyond line");var d=i[i.length-1];return p([d,d])}function Kr(e,t,n){void 0===n&&(n={});for(var r=J(e),i=$(t),o=0;o<i.length-1;o++){var a=!1;if(n.ignoreEndVertices&&(0===o&&(a="start"),o===i.length-2&&(a="end"),0===o&&o+1===i.length-1&&(a="both")),Zr(i[o],i[o+1],r,a,void 0===n.epsilon?null:n.epsilon))return!0}return!1}function Zr(e,t,n,r,i){var o=n[0],a=n[1],s=e[0],l=e[1],u=t[0],c=t[1],f=u-s,p=c-l,d=(n[0]-s)*p-(n[1]-l)*f;if(null!==i){if(Math.abs(d)>i)return!1}else if(0!==d)return!1;return r?"start"===r?Math.abs(f)>=Math.abs(p)?f>0?s<o&&o<=u:u<=o&&o<s:p>0?l<a&&a<=c:c<=a&&a<l:"end"===r?Math.abs(f)>=Math.abs(p)?f>0?s<=o&&o<u:u<o&&o<=s:p>0?l<=a&&a<c:c<a&&a<=l:"both"===r&&(Math.abs(f)>=Math.abs(p)?f>0?s<o&&o<u:u<o&&o<s:p>0?l<a&&a<c:c<a&&a<l):Math.abs(f)>=Math.abs(p)?f>0?s<=o&&o<=u:u<=o&&o<=s:p>0?l<=a&&a<=c:c<=a&&a<=l}function Qr(e,t){var n=ie(e),r=ie(t),i=n.type,o=r.type;switch(i){case"Point":switch(o){case"MultiPoint":return function(e,t){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if($r(t.coordinates[n],e.coordinates)){r=!0;break}return r}(n,r);case"LineString":return Kr(n,r,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return gt(n,r,{ignoreBoundary:!0});default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"MultiPoint":return function(e,t){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,i=0;i<t.coordinates.length;i++)$r(e.coordinates[n],t.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(n,r);case"LineString":return function(e,t){for(var n=!1,r=0;r<e.coordinates.length;r++){if(!Kr(e.coordinates[r],t))return!1;n||(n=Kr(e.coordinates[r],t,{ignoreEndVertices:!0}))}return n}(n,r);case"Polygon":case"MultiPolygon":return function(e,t){for(var n=!0,r=!1,i=0;i<e.coordinates.length;i++){if(!(r=gt(e.coordinates[1],t))){n=!1;break}r=gt(e.coordinates[1],t,{ignoreBoundary:!0})}return n&&r}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"LineString":return function(e,t){for(var n=0;n<e.coordinates.length;n++)if(!Kr(e.coordinates[n],t))return!1;return!0}(n,r);case"Polygon":case"MultiPolygon":return function(e,t){var n=Q(t),r=Q(e);if(!Jr(n,r))return!1;for(var i=!1,o=0;o<e.coordinates.length-1;o++){if(!gt(e.coordinates[o],t))return!1;i||(i=gt(e.coordinates[o],t,{ignoreBoundary:!0})),i||(i=gt(ei(e.coordinates[o],e.coordinates[o+1]),t,{ignoreBoundary:!0}))}return i}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Polygon":case"MultiPolygon":return function(e,t){var n=Q(e);if(!Jr(Q(t),n))return!1;for(var r=0;r<e.coordinates[0].length;r++)if(!gt(e.coordinates[0][r],t))return!1;return!0}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}function Jr(e,t){return!(e[0]>t[0])&&!(e[2]<t[2])&&!(e[1]>t[1])&&!(e[3]<t[3])}function $r(e,t){return e[0]===t[0]&&e[1]===t[1]}function ei(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}function ti(e,t,n){void 0===n&&(n={}),n.mask&&!n.units&&(n.units="kilometers");for(var r=[],i=e[0],o=e[1],a=e[2],s=e[3],u=t/_t([i,o],[a,o],n)*(a-i),c=t/_t([i,o],[i,s],n)*(s-o),f=a-i,p=s-o,d=Math.floor(f/u),v=(p-Math.floor(p/c)*c)/2,m=i+(f-d*u)/2;m<=a;){for(var g=o+v;g<=s;){var y=l([m,g],n.properties);n.mask?Qr(y,n.mask)&&r.push(y):r.push(y),g+=c}m+=u}return h(r)}function ni(e,t){void 0===t&&(t={});var n=t.precision,r=t.coordinates,i=t.mutate;if(n=null==n||isNaN(n)?6:n,r=null==r||isNaN(r)?3:r,!e)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(e=JSON.parse(JSON.stringify(e)));var o=Math.pow(10,n);return I(e,(function(e){!function(e,t,n){e.length>n&&e.splice(n,e.length);for(var r=0;r<e.length;r++)e[r]=Math.round(e[r]*t)/t}(e,o,r)})),e}function ri(e){if(!e)throw new Error("geojson is required");var t=[];return H(e,(function(e){t.push(e)})),h(t)}function ii(e,t,n){if("Polygon"!==e.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var r=e.geometry.coordinates,i=[],o={};if(n){for(var a=[],s=0;s<r.length;s++)for(var l=0;l<r[s].length-1;l++)a.push(v(s,l));var u=Ce();u.load(a)}for(var c=0;c<r.length;c++)for(var f=0;f<r[c].length-1;f++)if(n)u.search(v(c,f)).forEach((function(e){var t=e.ring,n=e.edge;h(c,f,t,n)}));else for(var p=0;p<r.length;p++)for(var d=0;d<r[p].length-1;d++)h(c,f,p,d);return t||(i={type:"Feature",geometry:{type:"MultiPoint",coordinates:i}}),i;function h(e,n,a,s){var l,u,c=r[e][n],f=r[e][n+1],p=r[a][s],d=r[a][s+1],h=function(e,t,n,r){if(oi(e,n)||oi(e,r)||oi(t,n)||oi(r,n))return null;var i=e[0],o=e[1],a=t[0],s=t[1],l=n[0],u=n[1],c=r[0],f=r[1],p=(i-a)*(u-f)-(o-s)*(l-c);return 0===p?null:[((i*s-o*a)*(l-c)-(i-a)*(l*f-u*c))/p,((i*s-o*a)*(u-f)-(o-s)*(l*f-u*c))/p]}(c,f,p,d);if(null!==h&&(l=f[0]!==c[0]?(h[0]-c[0])/(f[0]-c[0]):(h[1]-c[1])/(f[1]-c[1]),u=d[0]!==p[0]?(h[0]-p[0])/(d[0]-p[0]):(h[1]-p[1])/(d[1]-p[1]),!(l>=1||l<=0||u>=1||u<=0))){var v=h,m=!o[v];m&&(o[v]=!0),t?i.push(t(h,e,n,c,f,l,a,s,p,d,u,m)):i.push(h)}}function v(e,t){var n,i,o,a,s=r[e][t],l=r[e][t+1];return s[0]<l[0]?(n=s[0],i=l[0]):(n=l[0],i=s[0]),s[1]<l[1]?(o=s[1],a=l[1]):(o=l[1],a=s[1]),{minX:n,minY:o,maxX:i,maxY:a,ring:e,edge:t}}}function oi(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!oi(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function ai(e){if("Feature"!=e.type)throw new Error("The input must a geojson object of type Feature");if(void 0===e.geometry||null==e.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=e.geometry.type)throw new Error("The input must be a geojson Polygon");for(var t=e.geometry.coordinates.length,n=[],r=0;r<t;r++){var i=e.geometry.coordinates[r];fi(i[0],i[i.length-1])||i.push(i[0]),n.push.apply(n,i.slice(0,i.length-1))}if(!function(e){for(var t={},n=1,r=0,i=e.length;r<i;++r){if(Object.prototype.hasOwnProperty.call(t,e[r])){n=0;break}t[e[r]]=1}return n}(n))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var o=n.length,a=ii(e,(function(e,t,n,r,i,o,a,s,l,u,c,f){return[e,t,n,r,i,o,a,s,l,u,c,f]})),s=a.length;if(0==s){var l=[];for(r=0;r<t;r++)l.push(c([e.geometry.coordinates[r]],{parent:-1,winding:ci(e.geometry.coordinates[r])}));var u=h(l);return F(),B(),u}var f=[],p=[];for(r=0;r<t;r++){f.push([]);for(var d=0;d<e.geometry.coordinates[r].length-1;d++)f[r].push([new si(e.geometry.coordinates[r][pi(d+1,e.geometry.coordinates[r].length-1)],1,[r,d],[r,pi(d+1,e.geometry.coordinates[r].length-1)],void 0)]),p.push(new li(e.geometry.coordinates[r][d],[r,pi(d-1,e.geometry.coordinates[r].length-1)],[r,d],void 0,void 0,!1,!0))}for(r=0;r<s;r++)f[a[r][1]][a[r][2]].push(new si(a[r][0],a[r][5],[a[r][1],a[r][2]],[a[r][6],a[r][7]],void 0)),a[r][11]&&p.push(new li(a[r][0],[a[r][1],a[r][2]],[a[r][6],a[r][7]],void 0,void 0,!0,!0));var v=p.length;for(r=0;r<f.length;r++)for(d=0;d<f[r].length;d++)f[r][d].sort((function(e,t){return e.param<t.param?-1:1}));var m=[];for(r=0;r<v;r++)m.push({minX:p[r].coord[0],minY:p[r].coord[1],maxX:p[r].coord[0],maxY:p[r].coord[1],index:r});var g=Ce();for(g.load(m),r=0;r<f.length;r++)for(d=0;d<f[r].length;d++)for(var y=0;y<f[r][d].length;y++){_=y==f[r][d].length-1?f[r][pi(d+1,e.geometry.coordinates[r].length-1)][0].coord:f[r][d][y+1].coord;var b=g.search({minX:_[0],minY:_[1],maxX:_[0],maxY:_[1]})[0];f[r][d][y].nxtIsectAlongEdgeIn=b.index}for(r=0;r<f.length;r++)for(d=0;d<f[r].length;d++)for(y=0;y<f[r][d].length;y++){var _=f[r][d][y].coord,E=(b=g.search({minX:_[0],minY:_[1],maxX:_[0],maxY:_[1]})[0]).index;E<o?p[E].nxtIsectAlongRingAndEdge2=f[r][d][y].nxtIsectAlongEdgeIn:fi(p[E].ringAndEdge1,f[r][d][y].ringAndEdgeIn)?p[E].nxtIsectAlongRingAndEdge1=f[r][d][y].nxtIsectAlongEdgeIn:p[E].nxtIsectAlongRingAndEdge2=f[r][d][y].nxtIsectAlongEdgeIn}var x=[];for(r=0,d=0;d<t;d++){var w=r;for(y=0;y<e.geometry.coordinates[d].length-1;y++)p[r].coord[0]<p[w].coord[0]&&(w=r),r++;var S=p[w].nxtIsectAlongRingAndEdge2;for(y=0;y<p.length;y++)if(p[y].nxtIsectAlongRingAndEdge1==w||p[y].nxtIsectAlongRingAndEdge2==w){var O=y;break}var C=ui([p[O].coord,p[w].coord,p[S].coord],!0)?1:-1;x.push({isect:w,parent:-1,winding:C})}for(x.sort((function(e,t){return p[e.isect].coord>p[t.isect].coord?-1:1})),l=[];x.length>0;){var A=x.pop(),P=A.isect,k=A.parent,M=A.winding,T=l.length,L=[p[P].coord],I=P;if(p[P].ringAndEdge1Walkable)var D=p[P].ringAndEdge1,R=p[P].nxtIsectAlongRingAndEdge1;else D=p[P].ringAndEdge2,R=p[P].nxtIsectAlongRingAndEdge2;for(;!fi(p[P].coord,p[R].coord);){L.push(p[R].coord);var N=void 0;for(r=0;r<x.length;r++)if(x[r].isect==R){N=r;break}if(null!=N&&x.splice(N,1),fi(D,p[R].ringAndEdge1)){if(D=p[R].ringAndEdge2,p[R].ringAndEdge2Walkable=!1,p[R].ringAndEdge1Walkable){var j={isect:R};ui([p[I].coord,p[R].coord,p[p[R].nxtIsectAlongRingAndEdge2].coord],1==M)?(j.parent=k,j.winding=-M):(j.parent=T,j.winding=M),x.push(j)}I=R,R=p[R].nxtIsectAlongRingAndEdge2}else D=p[R].ringAndEdge1,p[R].ringAndEdge1Walkable=!1,p[R].ringAndEdge2Walkable&&(j={isect:R},ui([p[I].coord,p[R].coord,p[p[R].nxtIsectAlongRingAndEdge1].coord],1==M)?(j.parent=k,j.winding=-M):(j.parent=T,j.winding=M),x.push(j)),I=R,R=p[R].nxtIsectAlongRingAndEdge1}L.push(p[R].coord),l.push(c([L],{index:T,parent:k,winding:M,netWinding:void 0}))}function F(){for(var e=[],t=0;t<u.features.length;t++)-1==u.features[t].properties.parent&&e.push(t);if(e.length>1)for(t=0;t<e.length;t++){for(var n=-1,r=0;r<u.features.length;r++)e[t]!=r&&gt(u.features[e[t]].geometry.coordinates[0][0],u.features[r],{ignoreBoundary:!0})&&Vr(u.features[r])<1/0&&(n=r);u.features[e[t]].properties.parent=n}}function B(){for(var e=0;e<u.features.length;e++)if(-1==u.features[e].properties.parent){var t=u.features[e].properties.winding;u.features[e].properties.netWinding=t,U(e,t)}}function U(e,t){for(var n=0;n<u.features.length;n++)if(u.features[n].properties.parent==e){var r=t+u.features[n].properties.winding;u.features[n].properties.netWinding=r,U(n,r)}}return u=h(l),F(),B(),u}var si=function(e,t,n,r,i){this.coord=e,this.param=t,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},li=function(e,t,n,r,i,o,a){this.coord=e,this.ringAndEdge1=t,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=a};function ui(e,t){if(void 0===t&&(t=!0),3!=e.length)throw new Error("This function requires an array of three points [x,y]");return(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0])>=0==t}function ci(e){for(var t=0,n=0;n<e.length-1;n++)e[n][0]<e[t][0]&&(t=n);if(ui([e[pi(t-1,e.length-1)],e[t],e[pi(t+1,e.length-1)]],!0))var r=1;else r=-1;return r}function fi(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!fi(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}function pi(e,t){return(e%t+t)%t}var di=Math.PI/180,hi=180/Math.PI,vi=function(e,t){this.lon=e,this.lat=t,this.x=di*e,this.y=di*t};vi.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},vi.prototype.antipode=function(){var e=-1*this.lat,t=this.lon<0?180+this.lon:-1*(180-this.lon);return new vi(t,e)};var mi=function(){this.coords=[],this.length=0};mi.prototype.move_to=function(e){this.length++,this.coords.push(e)};var gi=function(e){this.properties=e||{},this.geometries=[]};gi.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},gi.prototype.wkt=function(){for(var e="",t="LINESTRING(",n=function(e){t+=e[0]+" "+e[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),e+=t.substring(0,t.length-1)+")"}return e};var yi=function(e,t,n){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new vi(e.x,e.y),this.end=new vi(t.x,t.y),this.properties=n||{};var r=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)};function bi(e,t){var n=[],r=Mr();return H(t,(function(t){if(n.forEach((function(e,t){e.id=t})),n.length){var i=r.search(t);if(i.features.length){var o=Ei(t,i);n=n.filter((function(e){return e.id!==o.id})),r.remove(o),j(_i(o,t),(function(e){n.push(e),r.insert(e)}))}}else(n=_i(e,t).features).forEach((function(e){e.bbox||(e.bbox=gn(Q(e)))})),r.load(h(n))})),h(n)}function _i(e,t){var n=[],r=$(e)[0],i=$(e)[e.geometry.coordinates.length-1];if(xi(r,J(t))||xi(i,J(t)))return h([e]);var o=Mr(),a=Qn(e);o.load(a);var s=o.search(t);if(!s.features.length)return h([e]);var l=Ei(t,s),u=F(a,(function(e,r,i){var o=$(r)[1],a=J(t);return i===l.id?(e.push(a),n.push(p(e)),xi(a,o)?[a]:[a,o]):(e.push(o),e)}),[r]);return u.length>1&&n.push(p(u)),h(n)}function Ei(e,t){if(!t.features.length)throw new Error("lines must contain features");if(1===t.features.length)return t.features[0];var n,r=1/0;return j(t,(function(t){var i=Dr(t,e).properties.dist;i<r&&(n=t,r=i)})),n}function xi(e,t){return e[0]===t[0]&&e[1]===t[1]}function wi(e,t,n,r,i){void 0===i&&(i={});var o=i.steps||64,a=Si(n),s=Si(r),l=Array.isArray(e)||"Feature"!==e.type?{}:e.properties;if(a===s)return p(bn(e,t,i).geometry.coordinates[0],l);for(var u=a,c=a<s?s:s+360,f=u,d=[],h=0;f<c;)d.push(yn(e,t,f,i).geometry.coordinates),f=u+360*++h/o;return f>c&&d.push(yn(e,t,c,i).geometry.coordinates),p(d,l)}function Si(e){var t=e%360;return t<0&&(t+=360),t}function Oi(e,t){void 0===t&&(t={});var n=ie(e);switch(t.properties||"Feature"!==e.type||(t.properties=e.properties),n.type){case"Polygon":return Ci(n,t);case"MultiPolygon":return function(e,t){void 0===t&&(t={});var n=ie(e).coordinates,r=t.properties?t.properties:"Feature"===e.type?e.properties:{},i=[];return n.forEach((function(e){i.push(Ai(e,r))})),h(i)}(n,t);default:throw new Error("invalid poly")}}function Ci(e,t){return void 0===t&&(t={}),Ai(ie(e).coordinates,t.properties?t.properties:"Feature"===e.type?e.properties:{})}function Ai(e,t){return e.length>1?v(e,t):p(e[0],t)}function Pi(e,t){var n,r,i;void 0===t&&(t={});var o=t.properties,a=null===(n=t.autoComplete)||void 0===n||n,s=null===(r=t.orderCoords)||void 0===r||r;switch(null!==(i=t.mutate)&&void 0!==i&&i||(e=Ot(e)),e.type){case"FeatureCollection":var l=[];return e.features.forEach((function(e){l.push($(ki(e,{},a,s)))})),g(l,o);default:return ki(e,o,a,s)}}function ki(e,t,n,r){t=t||("Feature"===e.type?e.properties:{});var i=ie(e),o=i.coordinates,a=i.type;if(!o.length)throw new Error("line must contain coordinates");switch(a){case"LineString":return n&&(o=Mi(o)),c([o],t);case"MultiLineString":var s=[],l=0;return o.forEach((function(e){if(n&&(e=Mi(e)),r){var t=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.abs(t-r)*Math.abs(n-i)}(Q(p(e)));t>l?(s.unshift(e),l=t):s.push(e)}else s.push(e)})),c(s,t);default:throw new Error("geometry type "+a+" is not supported")}}function Mi(e){var t=e[0],n=t[0],r=t[1],i=e[e.length-1],o=i[0],a=i[1];return n===o&&r===a||e.push(t),e}function Ti(e,t){var n,r,i,o,a,s,l;for(r=1;r<=8;r*=2){for(n=[],o=!(Ii(i=e[e.length-1],t)&r),a=0;a<e.length;a++)(l=!(Ii(s=e[a],t)&r))!==o&&n.push(Li(i,s,r,t)),l&&n.push(s),i=s,o=l;if(!(e=n).length)break}return n}function Li(e,t,n,r){return 8&n?[e[0]+(t[0]-e[0])*(r[3]-e[1])/(t[1]-e[1]),r[3]]:4&n?[e[0]+(t[0]-e[0])*(r[1]-e[1])/(t[1]-e[1]),r[1]]:2&n?[r[2],e[1]+(t[1]-e[1])*(r[2]-e[0])/(t[0]-e[0])]:1&n?[r[0],e[1]+(t[1]-e[1])*(r[0]-e[0])/(t[0]-e[0])]:null}function Ii(e,t){var n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}function Di(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var o=Ti(i[r],t);o.length>0&&(o[0][0]===o[o.length-1][0]&&o[0][1]===o[o.length-1][1]||o.push(o[0]),o.length>=4&&n.push(o))}return n}yi.prototype.interpolate=function(e){var t=Math.sin((1-e)*this.g)/Math.sin(this.g),n=Math.sin(e*this.g)/Math.sin(this.g),r=t*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=t*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=t*Math.sin(this.start.y)+n*Math.sin(this.end.y),a=hi*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[hi*Math.atan2(i,r),a]},yi.prototype.Arc=function(e,t){var n=[];if(!e||e<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(e-1),i=0;i<e;++i){var o=r*i,a=this.interpolate(o);n.push(a)}for(var s=!1,l=0,u=t&&t.offset?t.offset:10,c=180-u,f=-180+u,p=360-u,d=1;d<n.length;++d){var h=n[d-1][0],v=n[d][0],m=Math.abs(v-h);m>p&&(v>c&&h<f||h>c&&v<f)?s=!0:m>l&&(l=m)}var g=[];if(s&&l<u){var y=[];g.push(y);for(var b=0;b<n.length;++b){var _=parseFloat(n[b][0]);if(b>0&&Math.abs(_-n[b-1][0])>p){var E=parseFloat(n[b-1][0]),x=parseFloat(n[b-1][1]),w=parseFloat(n[b][0]),S=parseFloat(n[b][1]);if(E>-180&&E<f&&180===w&&b+1<n.length&&n[b-1][0]>-180&&n[b-1][0]<f){y.push([-180,n[b][1]]),b++,y.push([n[b][0],n[b][1]]);continue}if(E>c&&E<180&&-180===w&&b+1<n.length&&n[b-1][0]>c&&n[b-1][0]<180){y.push([180,n[b][1]]),b++,y.push([n[b][0],n[b][1]]);continue}if(E<f&&w>c){var O=E;E=w,w=O;var C=x;x=S,S=C}if(E>c&&w<f&&(w+=360),E<=180&&w>=180&&E<w){var A=(180-E)/(w-E),P=A*S+(1-A)*x;y.push([n[b-1][0]>c?180:-180,P]),(y=[]).push([n[b-1][0]>c?-180:180,P]),g.push(y)}else y=[],g.push(y);y.push([_,n[b][1]])}else y.push([n[b][0],n[b][1]])}}else{var k=[];g.push(k);for(var M=0;M<n.length;++M)k.push([n[M][0],n[M][1]])}for(var T=new gi(this.properties),L=0;L<g.length;++L){var I=new mi;T.geometries.push(I);for(var D=g[L],R=0;R<D.length;++R)I.move_to(D[R])}return T};var Ri=ze((function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n})),Ni=ze((function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:i).supported=r,t.unsupported=i})),ji=ze((function(e){var t=Array.prototype.slice,n=e.exports=function(e,o,a){return a||(a={}),e===o||(e instanceof Date&&o instanceof Date?e.getTime()===o.getTime():!e||!o||"object"!=typeof e&&"object"!=typeof o?a.strict?e===o:e==o:function(e,o,a){var s,l;if(r(e)||r(o))return!1;if(e.prototype!==o.prototype)return!1;if(Ni(e))return!!Ni(o)&&(e=t.call(e),o=t.call(o),n(e,o,a));if(i(e)){if(!i(o))return!1;if(e.length!==o.length)return!1;for(s=0;s<e.length;s++)if(e[s]!==o[s])return!1;return!0}try{var u=Ri(e),c=Ri(o)}catch(e){return!1}if(u.length!=c.length)return!1;for(u.sort(),c.sort(),s=u.length-1;s>=0;s--)if(u[s]!=c[s])return!1;for(s=u.length-1;s>=0;s--)if(l=u[s],!n(e[l],o[l],a))return!1;return typeof e==typeof o}(e,o,a))};function r(e){return null==e}function i(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&"function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0])}}));function Fi(e,t,n){if(void 0===n&&(n={}),!k(n=n||{}))throw new Error("options is invalid");var r,i=n.tolerance||0,o=[],a=Mr(),s=Qn(e);return a.load(s),G(t,(function(e){var t=!1;e&&(j(a.search(e),(function(n){if(!1===t){var o=$(e).sort(),a=$(n).sort();ji(o,a)||(0===i?Kr(o[0],n)&&Kr(o[1],n):Dr(n,o[0]).properties.dist<=i&&Dr(n,o[1]).properties.dist<=i)?(t=!0,r=r?Bi(r,e):e):(0===i?Kr(a[0],e)&&Kr(a[1],e):Dr(e,a[0]).properties.dist<=i&&Dr(e,a[1]).properties.dist<=i)&&(r=r?Bi(r,n):n)}})),!1===t&&r&&(o.push(r),r=void 0))})),r&&o.push(r),h(o)}function Bi(e,t){var n=$(t),r=$(e),i=r[0],o=r[r.length-1],a=e.geometry.coordinates;return ji(n[0],i)?a.unshift(n[1]):ji(n[0],o)?a.push(n[1]):ji(n[1],i)?a.unshift(n[0]):ji(n[1],o)&&a.push(n[0]),e}function Ui(e){var t=e%360;return t<0&&(t+=360),t}function zi(e,t,n){var r;return void 0===n&&(n={}),(r=n["final"]?Hi(J(t),J(e)):Hi(J(e),J(t)))>180?-(360-r):r}function Hi(e,t){var n=O(e[1]),r=O(t[1]),i=O(t[0]-e[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(S(Math.atan2(i,o))+360)%360}function Vi(e,t,r,i){void 0===i&&(i={});var o=t<0,a=C(Math.abs(t),i.units,"meters");o&&(a=-Math.abs(a));var s=J(e),u=function(e,t,r,i){i=void 0===i?n:Number(i);var o=t/i,a=e[0]*Math.PI/180,s=O(e[1]),l=O(r),u=o*Math.cos(l),c=s+u;Math.abs(c)>Math.PI/2&&(c=c>0?Math.PI-c:-Math.PI-c);var f=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),p=Math.abs(f)>1e-11?u/f:Math.cos(s),d=o*Math.sin(l)/p;return[(180*(a+d)/Math.PI+540)%360-180,180*c/Math.PI]}(s,a,r);return u[0]+=u[0]-s[0]>180?-360:s[0]-u[0]>180?360:0,l(u,i.properties)}function Gi(e,t,n,r,i,o){for(var a=0;a<e.length;a++){var s=e[a],l=e[a+1];a===e.length-1&&(l=e[0]),r=qi(s,l,t),n<=0&&r>0?qi(t,s,i)<0||(i=s):n>0&&r<=0&&(Wi(t,s,o)||(o=s)),n=r}return[i,o]}function Wi(e,t,n){return qi(e,t,n)>0}function qi(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function Yi(e){for(var t,n,r=$(e),i=0,o=1;o<r.length;)t=n||r[0],i+=((n=r[o])[0]-t[0])*(n[1]+t[1]),o++;return i>0}function Xi(e,t){switch("Feature"===e.type?e.geometry.type:e.type){case"GeometryCollection":return U(e,(function(e){Xi(e,t)})),e;case"LineString":return Ki($(e),t),e;case"Polygon":return Zi($(e),t),e;case"MultiLineString":return $(e).forEach((function(e){Ki(e,t)})),e;case"MultiPolygon":return $(e).forEach((function(e){Zi(e,t)})),e;case"Point":case"MultiPoint":return e}}function Ki(e,t){Yi(e)===t&&e.reverse()}function Zi(e,t){Yi(e[0])!==t&&e[0].reverse();for(var n=1;n<e.length;n++)Yi(e[n])===t&&e[n].reverse()}function Qi(e,t){if(!k(t=t||{}))throw new Error("options is invalid");var n=t.zProperty||"elevation",r=t.flip,i=t.flags;re(e,"Point","input must contain Points");for(var o=function(e,t){var n={};return j(e,(function(e){var t=$(e)[1];n[t]||(n[t]=[]),n[t].push(e)})),Object.keys(n).map((function(e){return n[e].sort((function(e,t){return $(e)[0]-$(t)[0]}))})).sort((function(e,n){return t?$(e[0])[1]-$(n[0])[1]:$(n[0])[1]-$(e[0])[1]}))}(e,r),a=[],s=0;s<o.length;s++){for(var l=o[s],u=[],c=0;c<l.length;c++){var f=l[c];f.properties[n]?u.push(f.properties[n]):u.push(0),!0===i&&(f.properties.matrixPosition=[s,c])}a.push(u)}return a}var Ji={successCallback:null,verbose:!1,polygons:!1},$i={};function eo(e,t,n,r){r=r||{};for(var i=Object.keys(Ji),o=0;o<i.length;o++){var a=i[o],s=r[a];s=null!=s?s:Ji[a],$i[a]=s}$i.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+t+":"+(t+n)+"]");var l,u=function(e,t,n){for(var r=e.length-1,i=e[0].length-1,o={rows:r,cols:i,cells:[]},a=t+Math.abs(n),s=0;s<r;++s){o.cells[s]=[];for(var l=0;l<i;++l){var u=0,c=e[s+1][l],f=e[s+1][l+1],p=e[s][l+1],d=e[s][l];if(!(isNaN(c)||isNaN(f)||isNaN(p)||isNaN(d))){u|=c<t?0:c>a?128:64,u|=f<t?0:f>a?32:16,u|=p<t?0:p>a?8:4;var h=+(u|=d<t?0:d>a?2:1),v=0;if(17===u||18===u||33===u||34===u||38===u||68===u||72===u||98===u||102===u||132===u||136===u||137===u||152===u||153===u){var m=(c+f+p+d)/4;v=m>a?2:m<t?0:1,34===u?1===v?u=35:0===v&&(u=136):136===u?1===v?(u=35,v=4):0===v&&(u=34):17===u?1===v?(u=155,v=4):0===v&&(u=153):68===u?1===v?(u=103,v=4):0===v&&(u=102):153===u?1===v&&(u=155):102===u?1===v&&(u=103):152===u?v<2&&(u=156,v=1):137===u?v<2&&(u=139,v=1):98===u?v<2&&(u=99,v=1):38===u?v<2&&(u=39,v=1):18===u?v>0?(u=156,v=4):u=152:33===u?v>0?(u=139,v=4):u=137:72===u?v>0?(u=99,v=4):u=98:132===u&&(v>0?(u=39,v=4):u=38)}if(0!=u&&170!=u){var g,y,b,_,E,x,w,S;g=y=b=_=E=x=w=S=.5;var O=[];1===u?(b=1-Wo(t,p,d),S=1-Wo(t,c,d),O.push(Bo[u])):169===u?(b=Wo(a,d,p),S=Wo(a,d,c),O.push(Bo[u])):4===u?(x=1-Wo(t,f,p),_=Wo(t,d,p),O.push(jo[u])):166===u?(x=Wo(a,p,f),_=1-Wo(a,p,d),O.push(jo[u])):16===u?(E=Wo(t,p,f),y=Wo(t,c,f),O.push(No[u])):154===u?(E=1-Wo(a,f,p),y=1-Wo(a,f,c),O.push(No[u])):64===u?(w=Wo(t,d,c),g=1-Wo(t,f,c),O.push(zo[u])):106===u?(w=1-Wo(a,c,d),g=Wo(a,c,f),O.push(zo[u])):168===u?(_=Wo(a,d,p),b=Wo(t,d,p),S=Wo(t,d,c),w=Wo(a,d,c),O.push(Fo[u]),O.push(Bo[u])):2===u?(_=1-Wo(t,p,d),b=1-Wo(a,p,d),S=1-Wo(a,c,d),w=1-Wo(t,c,d),O.push(Fo[u]),O.push(Bo[u])):162===u?(E=Wo(a,p,f),x=Wo(t,p,f),_=1-Wo(t,p,d),b=1-Wo(a,p,d),O.push(Fo[u]),O.push(Bo[u])):8===u?(E=1-Wo(t,f,p),x=1-Wo(a,f,p),_=Wo(a,d,p),b=Wo(t,d,p),O.push(No[u]),O.push(jo[u])):138===u?(E=1-Wo(t,f,p),x=1-Wo(a,f,p),g=1-Wo(a,f,c),y=1-Wo(t,f,c),O.push(No[u]),O.push(jo[u])):32===u?(E=Wo(a,p,f),x=Wo(t,p,f),g=Wo(t,c,f),y=Wo(a,c,f),O.push(No[u]),O.push(jo[u])):42===u?(S=1-Wo(a,c,d),w=1-Wo(t,c,d),g=Wo(t,c,f),y=Wo(a,c,f),O.push(Uo[u]),O.push(zo[u])):128===u&&(S=Wo(t,d,c),w=Wo(a,d,c),g=1-Wo(a,f,c),y=1-Wo(t,f,c),O.push(Uo[u]),O.push(zo[u])),5===u?(x=1-Wo(t,f,p),S=1-Wo(t,c,d),O.push(jo[u])):165===u?(x=Wo(a,p,f),S=Wo(a,d,c),O.push(jo[u])):20===u?(_=Wo(t,d,p),y=Wo(t,c,f),O.push(Fo[u])):150===u?(_=1-Wo(a,p,d),y=1-Wo(a,f,c),O.push(Fo[u])):80===u?(E=Wo(t,p,f),w=Wo(t,d,c),O.push(No[u])):90===u?(E=1-Wo(a,f,p),w=1-Wo(a,c,d),O.push(No[u])):65===u?(b=1-Wo(t,p,d),g=1-Wo(t,f,c),O.push(Bo[u])):105===u?(b=Wo(a,d,p),g=Wo(a,c,f),O.push(Bo[u])):160===u?(E=Wo(a,p,f),x=Wo(t,p,f),S=Wo(t,d,c),w=Wo(a,d,c),O.push(No[u]),O.push(jo[u])):10===u?(E=1-Wo(t,f,p),x=1-Wo(a,f,p),S=1-Wo(a,c,d),w=1-Wo(t,c,d),O.push(No[u]),O.push(jo[u])):130===u?(_=1-Wo(t,p,d),b=1-Wo(a,p,d),g=1-Wo(a,f,c),y=1-Wo(t,f,c),O.push(Fo[u]),O.push(Bo[u])):40===u?(_=Wo(a,d,p),b=Wo(t,d,p),g=Wo(t,c,f),y=Wo(a,c,f),O.push(Fo[u]),O.push(Bo[u])):101===u?(x=Wo(a,p,f),g=Wo(a,c,f),O.push(jo[u])):69===u?(x=1-Wo(t,f,p),g=1-Wo(t,f,c),O.push(jo[u])):149===u?(S=Wo(a,d,c),y=1-Wo(a,f,c),O.push(Uo[u])):21===u?(S=1-Wo(t,c,d),y=Wo(t,c,f),O.push(Uo[u])):86===u?(_=1-Wo(a,p,d),w=1-Wo(a,c,d),O.push(Fo[u])):84===u?(_=Wo(t,d,p),w=Wo(t,d,c),O.push(Fo[u])):89===u?(E=1-Wo(a,f,p),b=Wo(a,d,p),O.push(Bo[u])):81===u?(E=Wo(t,p,f),b=1-Wo(t,p,d),O.push(Bo[u])):96===u?(E=Wo(a,p,f),x=Wo(t,p,f),w=Wo(t,d,c),g=Wo(a,c,f),O.push(No[u]),O.push(jo[u])):74===u?(E=1-Wo(t,f,p),x=1-Wo(a,f,p),w=1-Wo(a,c,d),g=1-Wo(t,f,c),O.push(No[u]),O.push(jo[u])):24===u?(E=1-Wo(a,f,p),_=Wo(a,d,p),b=Wo(t,d,p),y=Wo(t,c,f),O.push(No[u]),O.push(Bo[u])):146===u?(E=Wo(t,p,f),_=1-Wo(t,p,d),b=1-Wo(a,p,d),y=1-Wo(a,f,c),O.push(No[u]),O.push(Bo[u])):6===u?(x=1-Wo(t,f,p),_=1-Wo(a,p,d),S=1-Wo(a,c,d),w=1-Wo(t,c,d),O.push(jo[u]),O.push(Fo[u])):164===u?(x=Wo(a,p,f),_=Wo(t,d,p),S=Wo(t,d,c),w=Wo(a,d,c),O.push(jo[u]),O.push(Fo[u])):129===u?(b=1-Wo(t,p,d),S=Wo(a,d,c),g=1-Wo(a,f,c),y=1-Wo(t,f,c),O.push(Bo[u]),O.push(Uo[u])):41===u?(b=Wo(a,d,p),S=1-Wo(t,c,d),g=Wo(t,c,f),y=Wo(a,c,f),O.push(Bo[u]),O.push(Uo[u])):66===u?(_=1-Wo(t,p,d),b=1-Wo(a,p,d),w=1-Wo(a,c,d),g=1-Wo(t,f,c),O.push(Fo[u]),O.push(Bo[u])):104===u?(_=Wo(a,d,p),b=Wo(t,d,p),w=Wo(t,d,c),g=Wo(a,c,f),O.push(Bo[u]),O.push(Ho[u])):144===u?(E=Wo(t,p,f),S=Wo(t,d,c),w=Wo(a,d,c),y=1-Wo(a,f,c),O.push(No[u]),O.push(zo[u])):26===u?(E=1-Wo(a,f,p),S=1-Wo(a,c,d),w=1-Wo(t,c,d),y=Wo(t,c,f),O.push(No[u]),O.push(zo[u])):36===u?(x=Wo(a,p,f),_=Wo(t,d,p),g=Wo(t,c,f),y=Wo(a,c,f),O.push(jo[u]),O.push(Fo[u])):134===u?(x=1-Wo(t,f,p),_=1-Wo(a,p,d),g=1-Wo(a,f,c),y=1-Wo(t,f,c),O.push(jo[u]),O.push(Fo[u])):9===u?(E=1-Wo(t,f,p),x=1-Wo(a,f,p),b=Wo(a,d,p),S=1-Wo(t,c,d),O.push(No[u]),O.push(jo[u])):161===u?(E=Wo(a,p,f),x=Wo(t,p,f),b=1-Wo(t,p,d),S=Wo(a,d,c),O.push(No[u]),O.push(jo[u])):37===u?(x=Wo(a,p,f),S=1-Wo(t,c,d),g=Wo(t,c,f),y=Wo(a,c,f),O.push(jo[u]),O.push(Uo[u])):133===u?(x=1-Wo(t,f,p),S=Wo(a,d,c),g=1-Wo(a,f,c),y=1-Wo(t,f,c),O.push(jo[u]),O.push(Uo[u])):148===u?(_=Wo(t,d,p),S=Wo(t,d,c),w=Wo(a,d,c),y=1-Wo(a,f,c),O.push(Fo[u]),O.push(zo[u])):22===u?(_=1-Wo(a,p,d),S=1-Wo(a,c,d),w=1-Wo(t,c,d),y=Wo(t,c,f),O.push(Fo[u]),O.push(zo[u])):82===u?(E=Wo(t,p,f),_=1-Wo(t,p,d),b=1-Wo(a,p,d),w=1-Wo(a,c,d),O.push(No[u]),O.push(Bo[u])):88===u?(E=1-Wo(a,f,p),_=Wo(a,d,p),b=Wo(t,d,p),w=Wo(t,d,c),O.push(No[u]),O.push(Bo[u])):73===u?(E=1-Wo(t,f,p),x=1-Wo(a,f,p),b=Wo(a,d,p),g=1-Wo(t,f,c),O.push(No[u]),O.push(jo[u])):97===u?(E=Wo(a,p,f),x=Wo(t,p,f),b=1-Wo(t,p,d),g=Wo(a,c,f),O.push(No[u]),O.push(jo[u])):145===u?(E=Wo(t,p,f),b=1-Wo(t,p,d),S=Wo(a,d,c),y=1-Wo(a,f,c),O.push(No[u]),O.push(Uo[u])):25===u?(E=1-Wo(a,f,p),b=Wo(a,d,p),S=1-Wo(t,c,d),y=Wo(t,c,f),O.push(No[u]),O.push(Uo[u])):70===u?(x=1-Wo(t,f,p),_=1-Wo(a,p,d),w=1-Wo(a,c,d),g=1-Wo(t,f,c),O.push(jo[u]),O.push(Fo[u])):100===u?(x=Wo(a,p,f),_=Wo(t,d,p),w=Wo(t,d,c),g=Wo(a,c,f),O.push(jo[u]),O.push(Fo[u])):34===u?(0===v?(E=1-Wo(t,f,p),x=1-Wo(a,f,p),_=Wo(a,d,p),b=Wo(t,d,p),S=Wo(t,d,c),w=Wo(a,d,c),g=1-Wo(a,f,c),y=1-Wo(t,f,c)):(E=Wo(a,p,f),x=Wo(t,p,f),_=1-Wo(t,p,d),b=1-Wo(a,p,d),S=1-Wo(a,c,d),w=1-Wo(t,c,d),g=Wo(t,c,f),y=Wo(a,c,f)),O.push(No[u]),O.push(jo[u]),O.push(Uo[u]),O.push(zo[u])):35===u?(4===v?(E=1-Wo(t,f,p),x=1-Wo(a,f,p),_=Wo(a,d,p),b=Wo(t,d,p),S=Wo(t,d,c),w=Wo(a,d,c),g=1-Wo(a,f,c),y=1-Wo(t,f,c)):(E=Wo(a,p,f),x=Wo(t,p,f),_=1-Wo(t,p,d),b=1-Wo(a,p,d),S=1-Wo(a,c,d),w=1-Wo(t,c,d),g=Wo(t,c,f),y=Wo(a,c,f)),O.push(No[u]),O.push(jo[u]),O.push(Bo[u]),O.push(zo[u])):136===u?(0===v?(E=Wo(a,p,f),x=Wo(t,p,f),_=1-Wo(t,p,d),b=1-Wo(a,p,d),S=1-Wo(a,c,d),w=1-Wo(t,c,d),g=Wo(t,c,f),y=Wo(a,c,f)):(E=1-Wo(t,f,p),x=1-Wo(a,f,p),_=Wo(a,d,p),b=Wo(t,d,p),S=Wo(t,d,c),w=Wo(a,d,c),g=1-Wo(a,f,c),y=1-Wo(t,f,c)),O.push(No[u]),O.push(jo[u]),O.push(Uo[u]),O.push(zo[u])):153===u?(0===v?(E=Wo(t,p,f),b=1-Wo(t,p,d),S=1-Wo(t,c,d),y=Wo(t,c,f)):(E=1-Wo(a,f,p),b=Wo(a,d,p),S=Wo(a,d,c),y=1-Wo(a,f,c)),O.push(No[u]),O.push(Bo[u])):102===u?(0===v?(x=1-Wo(t,f,p),_=Wo(t,d,p),w=Wo(t,d,c),g=1-Wo(t,f,c)):(x=Wo(a,p,f),_=1-Wo(a,p,d),w=1-Wo(a,c,d),g=Wo(a,c,f)),O.push(jo[u]),O.push(zo[u])):155===u?(4===v?(E=Wo(t,p,f),b=1-Wo(t,p,d),S=1-Wo(t,c,d),y=Wo(t,c,f)):(E=1-Wo(a,f,p),b=Wo(a,d,p),S=Wo(a,d,c),y=1-Wo(a,f,c)),O.push(No[u]),O.push(Uo[u])):103===u?(4===v?(x=1-Wo(t,f,p),_=Wo(t,d,p),w=Wo(t,d,c),g=1-Wo(t,f,c)):(x=Wo(a,p,f),_=1-Wo(a,p,d),w=1-Wo(a,c,d),g=Wo(a,c,f)),O.push(jo[u]),O.push(Fo[u])):152===u?(0===v?(E=Wo(t,p,f),_=1-Wo(t,p,d),b=1-Wo(a,p,d),S=1-Wo(a,c,d),w=1-Wo(t,c,d),y=Wo(t,c,f)):(E=1-Wo(a,f,p),_=Wo(a,d,p),b=Wo(t,d,p),S=Wo(t,d,c),w=Wo(a,d,c),y=1-Wo(a,f,c)),O.push(No[u]),O.push(Fo[u]),O.push(Bo[u])):156===u?(4===v?(E=Wo(t,p,f),_=1-Wo(t,p,d),b=1-Wo(a,p,d),S=1-Wo(a,c,d),w=1-Wo(t,c,d),y=Wo(t,c,f)):(E=1-Wo(a,f,p),_=Wo(a,d,p),b=Wo(t,d,p),S=Wo(t,d,c),w=Wo(a,d,c),y=1-Wo(a,f,c)),O.push(No[u]),O.push(Bo[u]),O.push(zo[u])):137===u?(0===v?(E=Wo(a,p,f),x=Wo(t,p,f),b=1-Wo(t,p,d),S=1-Wo(t,c,d),g=Wo(t,c,f),y=Wo(a,c,f)):(E=1-Wo(t,f,p),x=1-Wo(a,f,p),b=Wo(a,d,p),S=Wo(a,d,c),g=1-Wo(a,f,c),y=1-Wo(t,f,c)),O.push(No[u]),O.push(jo[u]),O.push(Bo[u])):139===u?(4===v?(E=Wo(a,p,f),x=Wo(t,p,f),b=1-Wo(t,p,d),S=1-Wo(t,c,d),g=Wo(t,c,f),y=Wo(a,c,f)):(E=1-Wo(t,f,p),x=1-Wo(a,f,p),b=Wo(a,d,p),S=Wo(a,d,c),g=1-Wo(a,f,c),y=1-Wo(t,f,c)),O.push(No[u]),O.push(jo[u]),O.push(Uo[u])):98===u?(0===v?(E=1-Wo(t,f,p),x=1-Wo(a,f,p),_=Wo(a,d,p),b=Wo(t,d,p),w=Wo(t,d,c),g=1-Wo(t,f,c)):(E=Wo(a,p,f),x=Wo(t,p,f),_=1-Wo(t,p,d),b=1-Wo(a,p,d),w=1-Wo(a,c,d),g=Wo(a,c,f)),O.push(No[u]),O.push(jo[u]),O.push(zo[u])):99===u?(4===v?(E=1-Wo(t,f,p),x=1-Wo(a,f,p),_=Wo(a,d,p),b=Wo(t,d,p),w=Wo(t,d,c),g=1-Wo(t,f,c)):(E=Wo(a,p,f),x=Wo(t,p,f),_=1-Wo(t,p,d),b=1-Wo(a,p,d),w=1-Wo(a,c,d),g=Wo(a,c,f)),O.push(No[u]),O.push(jo[u]),O.push(Bo[u])):38===u?(0===v?(x=1-Wo(t,f,p),_=Wo(t,d,p),S=Wo(t,d,c),w=Wo(a,d,c),g=1-Wo(a,f,c),y=1-Wo(t,f,c)):(x=Wo(a,p,f),_=1-Wo(a,p,d),S=1-Wo(a,c,d),w=1-Wo(t,c,d),g=Wo(t,c,f),y=Wo(a,c,f)),O.push(jo[u]),O.push(Uo[u]),O.push(zo[u])):39===u?(4===v?(x=1-Wo(t,f,p),_=Wo(t,d,p),S=Wo(t,d,c),w=Wo(a,d,c),g=1-Wo(a,f,c),y=1-Wo(t,f,c)):(x=Wo(a,p,f),_=1-Wo(a,p,d),S=1-Wo(a,c,d),w=1-Wo(t,c,d),g=Wo(t,c,f),y=Wo(a,c,f)),O.push(jo[u]),O.push(Fo[u]),O.push(zo[u])):85===u&&(E=1,x=0,_=1,b=0,S=0,w=1,g=0,y=1),(g<0||g>1||y<0||y>1||E<0||E>1||_<0||_>1||S<0||S>1||w<0||w>1)&&console.log("MarchingSquaresJS-isoBands: "+u+" "+h+" "+c+","+f+","+p+","+d+" "+v+" "+g+" "+y+" "+E+" "+x+" "+_+" "+b+" "+S+" "+w),o.cells[s][l]={cval:u,cval_real:h,flipped:v,topleft:g,topright:y,righttop:E,rightbottom:x,bottomright:_,bottomleft:b,leftbottom:S,lefttop:w,edges:O}}}}}return o}(e,t,n);return $i.polygons?($i.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),l=function(e){var t=[],n=0;return e.cells.forEach((function(e,r){e.forEach((function(e,i){if(void 0!==e){var o=Go[e.cval](e);"object"==typeof o&&qo(o)?"object"==typeof o[0]&&qo(o[0])?"object"==typeof o[0][0]&&qo(o[0][0])?o.forEach((function(e){e.forEach((function(e){e[0]+=i,e[1]+=r})),t[n++]=e})):(o.forEach((function(e){e[0]+=i,e[1]+=r})),t[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),t}(u)):($i.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),l=function(e){for(var t=[],n=e.rows,r=e.cols,i=[],o=0;o<n;o++)for(var a=0;a<r;a++)if(void 0!==e.cells[o][a]&&e.cells[o][a].edges.length>0){var s=Xo(e.cells[o][a]),l=null,u=a,c=o;null!==s&&i.push([s.p[0]+u,s.p[1]+c]);do{if(null===(l=Ko(e.cells[c][u],s.x,s.y,s.o)))break;if(i.push([l.p[0]+u,l.p[1]+c]),u+=l.x,s=l,(c+=l.y)<0||c>=n||u<0||u>=r||void 0===e.cells[c][u]){var f=Yo(e,u-=l.x,c-=l.y,l.x,l.y,l.o);if(null===f)break;f.path.forEach((function(e){i.push(e)})),u=f.i,c=f.j,s=f}}while(void 0!==e.cells[c][u]&&e.cells[c][u].edges.length>0);t.push(i),i=[],e.cells[o][a].edges.length>0&&a--}return t}(u)),"function"==typeof $i.successCallback&&$i.successCallback(l),l}var to=64,no=16,ro=[],io=[],oo=[],ao=[],so=[],lo=[],uo=[],co=[],fo=[],po=[],ho=[],vo=[],mo=[],go=[],yo=[],bo=[],_o=[],Eo=[],xo=[],wo=[],So=[],Oo=[],Co=[],Ao=[];uo[85]=po[85]=-1,co[85]=ho[85]=0,fo[85]=vo[85]=1,xo[85]=Oo[85]=1,wo[85]=Co[85]=0,So[85]=Ao[85]=1,ro[85]=ao[85]=0,io[85]=so[85]=-1,oo[85]=yo[85]=0,bo[85]=mo[85]=0,_o[85]=go[85]=1,lo[85]=Eo[85]=1,Oo[1]=Oo[169]=0,Co[1]=Co[169]=-1,Ao[1]=Ao[169]=0,mo[1]=mo[169]=-1,go[1]=go[169]=0,yo[1]=yo[169]=0,po[4]=po[166]=0,ho[4]=ho[166]=-1,vo[4]=vo[166]=1,bo[4]=bo[166]=1,_o[4]=_o[166]=0,Eo[4]=Eo[166]=0,uo[16]=uo[154]=0,co[16]=co[154]=1,fo[16]=fo[154]=1,ao[16]=ao[154]=1,so[16]=so[154]=0,lo[16]=lo[154]=1,xo[64]=xo[106]=0,wo[64]=wo[106]=1,So[64]=So[106]=0,ro[64]=ro[106]=-1,io[64]=io[106]=0,oo[64]=oo[106]=1,xo[2]=xo[168]=0,wo[2]=wo[168]=-1,So[2]=So[168]=1,Oo[2]=Oo[168]=0,Co[2]=Co[168]=-1,Ao[2]=Ao[168]=0,mo[2]=mo[168]=-1,go[2]=go[168]=0,yo[2]=yo[168]=0,bo[2]=bo[168]=-1,_o[2]=_o[168]=0,Eo[2]=Eo[168]=1,uo[8]=uo[162]=0,co[8]=co[162]=-1,fo[8]=fo[162]=0,po[8]=po[162]=0,ho[8]=ho[162]=-1,vo[8]=vo[162]=1,mo[8]=mo[162]=1,go[8]=go[162]=0,yo[8]=yo[162]=1,bo[8]=bo[162]=1,_o[8]=_o[162]=0,Eo[8]=Eo[162]=0,uo[32]=uo[138]=0,co[32]=co[138]=1,fo[32]=fo[138]=1,po[32]=po[138]=0,ho[32]=ho[138]=1,vo[32]=vo[138]=0,ro[32]=ro[138]=1,io[32]=io[138]=0,oo[32]=oo[138]=0,ao[32]=ao[138]=1,so[32]=so[138]=0,lo[32]=lo[138]=1,Oo[128]=Oo[42]=0,Co[128]=Co[42]=1,Ao[128]=Ao[42]=1,xo[128]=xo[42]=0,wo[128]=wo[42]=1,So[128]=So[42]=0,ro[128]=ro[42]=-1,io[128]=io[42]=0,oo[128]=oo[42]=1,ao[128]=ao[42]=-1,so[128]=so[42]=0,lo[128]=lo[42]=0,po[5]=po[165]=-1,ho[5]=ho[165]=0,vo[5]=vo[165]=0,Oo[5]=Oo[165]=1,Co[5]=Co[165]=0,Ao[5]=Ao[165]=0,bo[20]=bo[150]=0,_o[20]=_o[150]=1,Eo[20]=Eo[150]=1,ao[20]=ao[150]=0,so[20]=so[150]=-1,lo[20]=lo[150]=1,uo[80]=uo[90]=-1,co[80]=co[90]=0,fo[80]=fo[90]=1,xo[80]=xo[90]=1,wo[80]=wo[90]=0,So[80]=So[90]=1,mo[65]=mo[105]=0,go[65]=go[105]=1,yo[65]=yo[105]=0,ro[65]=ro[105]=0,io[65]=io[105]=-1,oo[65]=oo[105]=0,uo[160]=uo[10]=-1,co[160]=co[10]=0,fo[160]=fo[10]=1,po[160]=po[10]=-1,ho[160]=ho[10]=0,vo[160]=vo[10]=0,Oo[160]=Oo[10]=1,Co[160]=Co[10]=0,Ao[160]=Ao[10]=0,xo[160]=xo[10]=1,wo[160]=wo[10]=0,So[160]=So[10]=1,bo[130]=bo[40]=0,_o[130]=_o[40]=1,Eo[130]=Eo[40]=1,mo[130]=mo[40]=0,go[130]=go[40]=1,yo[130]=yo[40]=0,ro[130]=ro[40]=0,io[130]=io[40]=-1,oo[130]=oo[40]=0,ao[130]=ao[40]=0,so[130]=so[40]=-1,lo[130]=lo[40]=1,po[37]=po[133]=0,ho[37]=ho[133]=1,vo[37]=vo[133]=1,Oo[37]=Oo[133]=0,Co[37]=Co[133]=1,Ao[37]=Ao[133]=0,ro[37]=ro[133]=-1,io[37]=io[133]=0,oo[37]=oo[133]=0,ao[37]=ao[133]=1,so[37]=so[133]=0,lo[37]=lo[133]=0,bo[148]=bo[22]=-1,_o[148]=_o[22]=0,Eo[148]=Eo[22]=0,Oo[148]=Oo[22]=0,Co[148]=Co[22]=-1,Ao[148]=Ao[22]=1,xo[148]=xo[22]=0,wo[148]=wo[22]=1,So[148]=So[22]=1,ao[148]=ao[22]=-1,so[148]=so[22]=0,lo[148]=lo[22]=1,uo[82]=uo[88]=0,co[82]=co[88]=-1,fo[82]=fo[88]=1,bo[82]=bo[88]=1,_o[82]=_o[88]=0,Eo[82]=Eo[88]=1,mo[82]=mo[88]=-1,go[82]=go[88]=0,yo[82]=yo[88]=1,xo[82]=xo[88]=0,wo[82]=wo[88]=-1,So[82]=So[88]=0,uo[73]=uo[97]=0,co[73]=co[97]=1,fo[73]=fo[97]=0,po[73]=po[97]=0,ho[73]=ho[97]=-1,vo[73]=vo[97]=0,mo[73]=mo[97]=1,go[73]=go[97]=0,yo[73]=yo[97]=0,ro[73]=ro[97]=1,io[73]=io[97]=0,oo[73]=oo[97]=1,uo[145]=uo[25]=0,co[145]=co[25]=-1,fo[145]=fo[25]=0,mo[145]=mo[25]=1,go[145]=go[25]=0,yo[145]=yo[25]=1,Oo[145]=Oo[25]=0,Co[145]=Co[25]=1,Ao[145]=Ao[25]=1,ao[145]=ao[25]=-1,so[145]=so[25]=0,lo[145]=lo[25]=0,po[70]=po[100]=0,ho[70]=ho[100]=1,vo[70]=vo[100]=0,bo[70]=bo[100]=-1,_o[70]=_o[100]=0,Eo[70]=Eo[100]=1,xo[70]=xo[100]=0,wo[70]=wo[100]=-1,So[70]=So[100]=1,ro[70]=ro[100]=1,io[70]=io[100]=0,oo[70]=oo[100]=0,po[101]=po[69]=0,ho[101]=ho[69]=1,vo[101]=vo[69]=0,ro[101]=ro[69]=1,io[101]=io[69]=0,oo[101]=oo[69]=0,Oo[149]=Oo[21]=0,Co[149]=Co[21]=1,Ao[149]=Ao[21]=1,ao[149]=ao[21]=-1,so[149]=so[21]=0,lo[149]=lo[21]=0,bo[86]=bo[84]=-1,_o[86]=_o[84]=0,Eo[86]=Eo[84]=1,xo[86]=xo[84]=0,wo[86]=wo[84]=-1,So[86]=So[84]=1,uo[89]=uo[81]=0,co[89]=co[81]=-1,fo[89]=fo[81]=0,mo[89]=mo[81]=1,go[89]=go[81]=0,yo[89]=yo[81]=1,uo[96]=uo[74]=0,co[96]=co[74]=1,fo[96]=fo[74]=0,po[96]=po[74]=-1,ho[96]=ho[74]=0,vo[96]=vo[74]=1,xo[96]=xo[74]=1,wo[96]=wo[74]=0,So[96]=So[74]=0,ro[96]=ro[74]=1,io[96]=io[74]=0,oo[96]=oo[74]=1,uo[24]=uo[146]=0,co[24]=co[146]=-1,fo[24]=fo[146]=1,bo[24]=bo[146]=1,_o[24]=_o[146]=0,Eo[24]=Eo[146]=1,mo[24]=mo[146]=0,go[24]=go[146]=1,yo[24]=yo[146]=1,ao[24]=ao[146]=0,so[24]=so[146]=-1,lo[24]=lo[146]=0,po[6]=po[164]=-1,ho[6]=ho[164]=0,vo[6]=vo[164]=1,bo[6]=bo[164]=-1,_o[6]=_o[164]=0,Eo[6]=Eo[164]=0,Oo[6]=Oo[164]=0,Co[6]=Co[164]=-1,Ao[6]=Ao[164]=1,xo[6]=xo[164]=1,wo[6]=wo[164]=0,So[6]=So[164]=0,mo[129]=mo[41]=0,go[129]=go[41]=1,yo[129]=yo[41]=1,Oo[129]=Oo[41]=0,Co[129]=Co[41]=1,Ao[129]=Ao[41]=0,ro[129]=ro[41]=-1,io[129]=io[41]=0,oo[129]=oo[41]=0,ao[129]=ao[41]=0,so[129]=so[41]=-1,lo[129]=lo[41]=0,bo[66]=bo[104]=0,_o[66]=_o[104]=1,Eo[66]=Eo[104]=0,mo[66]=mo[104]=-1,go[66]=go[104]=0,yo[66]=yo[104]=1,xo[66]=xo[104]=0,wo[66]=wo[104]=-1,So[66]=So[104]=0,ro[66]=ro[104]=0,io[66]=io[104]=-1,oo[66]=oo[104]=1,uo[144]=uo[26]=-1,co[144]=co[26]=0,fo[144]=fo[26]=0,Oo[144]=Oo[26]=1,Co[144]=Co[26]=0,Ao[144]=Ao[26]=1,xo[144]=xo[26]=0,wo[144]=wo[26]=1,So[144]=So[26]=1,ao[144]=ao[26]=-1,so[144]=so[26]=0,lo[144]=lo[26]=1,po[36]=po[134]=0,ho[36]=ho[134]=1,vo[36]=vo[134]=1,bo[36]=bo[134]=0,_o[36]=_o[134]=1,Eo[36]=Eo[134]=0,ro[36]=ro[134]=0,io[36]=io[134]=-1,oo[36]=oo[134]=1,ao[36]=ao[134]=1,so[36]=so[134]=0,lo[36]=lo[134]=0,uo[9]=uo[161]=-1,co[9]=co[161]=0,fo[9]=fo[161]=0,po[9]=po[161]=0,ho[9]=ho[161]=-1,vo[9]=vo[161]=0,mo[9]=mo[161]=1,go[9]=go[161]=0,yo[9]=yo[161]=0,Oo[9]=Oo[161]=1,Co[9]=Co[161]=0,Ao[9]=Ao[161]=1,uo[136]=0,co[136]=1,fo[136]=1,po[136]=0,ho[136]=1,vo[136]=0,bo[136]=-1,_o[136]=0,Eo[136]=1,mo[136]=-1,go[136]=0,yo[136]=0,Oo[136]=0,Co[136]=-1,Ao[136]=0,xo[136]=0,wo[136]=-1,So[136]=1,ro[136]=1,io[136]=0,oo[136]=0,ao[136]=1,so[136]=0,lo[136]=1,uo[34]=0,co[34]=-1,fo[34]=0,po[34]=0,ho[34]=-1,vo[34]=1,bo[34]=1,_o[34]=0,Eo[34]=0,mo[34]=1,go[34]=0,yo[34]=1,Oo[34]=0,Co[34]=1,Ao[34]=1,xo[34]=0,wo[34]=1,So[34]=0,ro[34]=-1,io[34]=0,oo[34]=1,ao[34]=-1,so[34]=0,lo[34]=0,uo[35]=0,co[35]=1,fo[35]=1,po[35]=0,ho[35]=-1,vo[35]=1,bo[35]=1,_o[35]=0,Eo[35]=0,mo[35]=-1,go[35]=0,yo[35]=0,Oo[35]=0,Co[35]=-1,Ao[35]=0,xo[35]=0,wo[35]=1,So[35]=0,ro[35]=-1,io[35]=0,oo[35]=1,ao[35]=1,so[35]=0,lo[35]=1,uo[153]=0,co[153]=1,fo[153]=1,mo[153]=-1,go[153]=0,yo[153]=0,Oo[153]=0,Co[153]=-1,Ao[153]=0,ao[153]=1,so[153]=0,lo[153]=1,po[102]=0,ho[102]=-1,vo[102]=1,bo[102]=1,_o[102]=0,Eo[102]=0,xo[102]=0,wo[102]=1,So[102]=0,ro[102]=-1,io[102]=0,oo[102]=1,uo[155]=0,co[155]=-1,fo[155]=0,mo[155]=1,go[155]=0,yo[155]=1,Oo[155]=0,Co[155]=1,Ao[155]=1,ao[155]=-1,so[155]=0,lo[155]=0,po[103]=0,ho[103]=1,vo[103]=0,bo[103]=-1,_o[103]=0,Eo[103]=1,xo[103]=0,wo[103]=-1,So[103]=1,ro[103]=1,io[103]=0,oo[103]=0,uo[152]=0,co[152]=1,fo[152]=1,bo[152]=-1,_o[152]=0,Eo[152]=1,mo[152]=-1,go[152]=0,yo[152]=0,Oo[152]=0,Co[152]=-1,Ao[152]=0,xo[152]=0,wo[152]=-1,So[152]=1,ao[152]=1,so[152]=0,lo[152]=1,uo[156]=0,co[156]=-1,fo[156]=1,bo[156]=1,_o[156]=0,Eo[156]=1,mo[156]=-1,go[156]=0,yo[156]=0,Oo[156]=0,Co[156]=-1,Ao[156]=0,xo[156]=0,wo[156]=1,So[156]=1,ao[156]=-1,so[156]=0,lo[156]=1,uo[137]=0,co[137]=1,fo[137]=1,po[137]=0,ho[137]=1,vo[137]=0,mo[137]=-1,go[137]=0,yo[137]=0,Oo[137]=0,Co[137]=-1,Ao[137]=0,ro[137]=1,io[137]=0,oo[137]=0,ao[137]=1,so[137]=0,lo[137]=1,uo[139]=0,co[139]=1,fo[139]=1,po[139]=0,ho[139]=-1,vo[139]=0,mo[139]=1,go[139]=0,yo[139]=0,Oo[139]=0,Co[139]=1,Ao[139]=0,ro[139]=-1,io[139]=0,oo[139]=0,ao[139]=1,so[139]=0,lo[139]=1,uo[98]=0,co[98]=-1,fo[98]=0,po[98]=0,ho[98]=-1,vo[98]=1,bo[98]=1,_o[98]=0,Eo[98]=0,mo[98]=1,go[98]=0,yo[98]=1,xo[98]=0,wo[98]=1,So[98]=0,ro[98]=-1,io[98]=0,oo[98]=1,uo[99]=0,co[99]=1,fo[99]=0,po[99]=0,ho[99]=-1,vo[99]=1,bo[99]=1,_o[99]=0,Eo[99]=0,mo[99]=-1,go[99]=0,yo[99]=1,xo[99]=0,wo[99]=-1,So[99]=0,ro[99]=1,io[99]=0,oo[99]=1,po[38]=0,ho[38]=-1,vo[38]=1,bo[38]=1,_o[38]=0,Eo[38]=0,Oo[38]=0,Co[38]=1,Ao[38]=1,xo[38]=0,wo[38]=1,So[38]=0,ro[38]=-1,io[38]=0,oo[38]=1,ao[38]=-1,so[38]=0,lo[38]=0,po[39]=0,ho[39]=1,vo[39]=1,bo[39]=-1,_o[39]=0,Eo[39]=0,Oo[39]=0,Co[39]=-1,Ao[39]=1,xo[39]=0,wo[39]=1,So[39]=0,ro[39]=-1,io[39]=0,oo[39]=1,ao[39]=1,so[39]=0,lo[39]=0;var Po=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},ko=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},Mo=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},To=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},Lo=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},Io=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},Do=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},Ro=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},No=[],jo=[],Fo=[],Bo=[],Uo=[],zo=[],Ho=[],Vo=[];Bo[1]=Uo[1]=18,Bo[169]=Uo[169]=18,Fo[4]=jo[4]=12,Fo[166]=jo[166]=12,No[16]=Vo[16]=4,No[154]=Vo[154]=4,zo[64]=Ho[64]=22,zo[106]=Ho[106]=22,Fo[2]=zo[2]=17,Bo[2]=Uo[2]=18,Fo[168]=zo[168]=17,Bo[168]=Uo[168]=18,No[8]=Bo[8]=9,jo[8]=Fo[8]=12,No[162]=Bo[162]=9,jo[162]=Fo[162]=12,No[32]=Vo[32]=4,jo[32]=Ho[32]=1,No[138]=Vo[138]=4,jo[138]=Ho[138]=1,Uo[128]=Vo[128]=21,zo[128]=Ho[128]=22,Uo[42]=Vo[42]=21,zo[42]=Ho[42]=22,jo[5]=Uo[5]=14,jo[165]=Uo[165]=14,Fo[20]=Vo[20]=6,Fo[150]=Vo[150]=6,No[80]=zo[80]=11,No[90]=zo[90]=11,Bo[65]=Ho[65]=3,Bo[105]=Ho[105]=3,No[160]=zo[160]=11,jo[160]=Uo[160]=14,No[10]=zo[10]=11,jo[10]=Uo[10]=14,Fo[130]=Vo[130]=6,Bo[130]=Ho[130]=3,Fo[40]=Vo[40]=6,Bo[40]=Ho[40]=3,jo[101]=Ho[101]=1,jo[69]=Ho[69]=1,Uo[149]=Vo[149]=21,Uo[21]=Vo[21]=21,Fo[86]=zo[86]=17,Fo[84]=zo[84]=17,No[89]=Bo[89]=9,No[81]=Bo[81]=9,No[96]=Ho[96]=0,jo[96]=zo[96]=15,No[74]=Ho[74]=0,jo[74]=zo[74]=15,No[24]=Fo[24]=8,Bo[24]=Vo[24]=7,No[146]=Fo[146]=8,Bo[146]=Vo[146]=7,jo[6]=zo[6]=15,Fo[6]=Uo[6]=16,jo[164]=zo[164]=15,Fo[164]=Uo[164]=16,Bo[129]=Vo[129]=7,Uo[129]=Ho[129]=20,Bo[41]=Vo[41]=7,Uo[41]=Ho[41]=20,Fo[66]=Ho[66]=2,Bo[66]=zo[66]=19,Fo[104]=Ho[104]=2,Bo[104]=zo[104]=19,No[144]=Uo[144]=10,zo[144]=Vo[144]=23,No[26]=Uo[26]=10,zo[26]=Vo[26]=23,jo[36]=Vo[36]=5,Fo[36]=Ho[36]=2,jo[134]=Vo[134]=5,Fo[134]=Ho[134]=2,No[9]=Uo[9]=10,jo[9]=Bo[9]=13,No[161]=Uo[161]=10,jo[161]=Bo[161]=13,jo[37]=Vo[37]=5,Uo[37]=Ho[37]=20,jo[133]=Vo[133]=5,Uo[133]=Ho[133]=20,Fo[148]=Uo[148]=16,zo[148]=Vo[148]=23,Fo[22]=Uo[22]=16,zo[22]=Vo[22]=23,No[82]=Fo[82]=8,Bo[82]=zo[82]=19,No[88]=Fo[88]=8,Bo[88]=zo[88]=19,No[73]=Ho[73]=0,jo[73]=Bo[73]=13,No[97]=Ho[97]=0,jo[97]=Bo[97]=13,No[145]=Bo[145]=9,Uo[145]=Vo[145]=21,No[25]=Bo[25]=9,Uo[25]=Vo[25]=21,jo[70]=Ho[70]=1,Fo[70]=zo[70]=17,jo[100]=Ho[100]=1,Fo[100]=zo[100]=17,No[34]=Bo[34]=9,jo[34]=Fo[34]=12,Uo[34]=Vo[34]=21,zo[34]=Ho[34]=22,No[136]=Vo[136]=4,jo[136]=Ho[136]=1,Fo[136]=zo[136]=17,Bo[136]=Uo[136]=18,No[35]=Vo[35]=4,jo[35]=Fo[35]=12,Bo[35]=Uo[35]=18,zo[35]=Ho[35]=22,No[153]=Vo[153]=4,Bo[153]=Uo[153]=18,jo[102]=Fo[102]=12,zo[102]=Ho[102]=22,No[155]=Bo[155]=9,Uo[155]=Vo[155]=23,jo[103]=Ho[103]=1,Fo[103]=zo[103]=17,No[152]=Vo[152]=4,Fo[152]=zo[152]=17,Bo[152]=Uo[152]=18,No[156]=Fo[156]=8,Bo[156]=Uo[156]=18,zo[156]=Vo[156]=23,No[137]=Vo[137]=4,jo[137]=Ho[137]=1,Bo[137]=Uo[137]=18,No[139]=Vo[139]=4,jo[139]=Bo[139]=13,Uo[139]=Ho[139]=20,No[98]=Bo[98]=9,jo[98]=Fo[98]=12,zo[98]=Ho[98]=22,No[99]=Ho[99]=0,jo[99]=Fo[99]=12,Bo[99]=zo[99]=19,jo[38]=Fo[38]=12,Uo[38]=Vo[38]=21,zo[38]=Ho[38]=22,jo[39]=Vo[39]=5,Fo[39]=Uo[39]=16,zo[39]=Ho[39]=22;var Go=[];function Wo(e,t,n){return(e-t)/(n-t)}function qo(e){return e.constructor.toString().indexOf("Array")>-1}function Yo(e,t,n,r,i,o){for(var a=e.cells[n][t],s=a.cval_real,l=t+r,u=n+i,c=[],f=!1;!f;){if(void 0===e.cells[u]||void 0===e.cells[u][l])if(u-=i,l-=r,s=(a=e.cells[u][l]).cval_real,-1===i)if(0===o)if(1&s)c.push([l,u]),r=-1,i=0,o=0;else{if(!(4&s)){c.push([l+a.bottomright,u]),r=0,i=1,o=1,f=!0;break}c.push([l+1,u]),r=1,i=0,o=0}else{if(!(1&s)){if(4&s){c.push([l+a.bottomright,u]),r=0,i=1,o=1,f=!0;break}c.push([l+a.bottomleft,u]),r=0,i=1,o=0,f=!0;break}c.push([l,u]),r=-1,i=0,o=0}else if(1===i)if(0===o){if(!(s&no)){if(s&to){c.push([l+a.topleft,u+1]),r=0,i=-1,o=0,f=!0;break}c.push([l+a.topright,u+1]),r=0,i=-1,o=1,f=!0;break}c.push([l+1,u+1]),r=1,i=0,o=1}else c.push([l+1,u+1]),r=1,i=0,o=1;else if(-1===r)if(0===o){if(!(s&to)){if(1&s){c.push([l,u+a.leftbottom]),r=1,i=0,o=0,f=!0;break}c.push([l,u+a.lefttop]),r=1,i=0,o=1,f=!0;break}c.push([l,u+1]),r=0,i=1,o=0}else{if(!(s&to)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([l,u+1]),r=0,i=1,o=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(4&s)){c.push([l+1,u+a.rightbottom]),r=-1,i=0,o=0,f=!0;break}c.push([l+1,u]),r=0,i=-1,o=1}else{if(!(4&s)){if(s&no){c.push([l+1,u+a.righttop]),r=-1,i=0,o=1;break}c.push([l+1,u+a.rightbottom]),r=-1,i=0,o=0,f=!0;break}c.push([l+1,u]),r=0,i=-1,o=1}}else if(s=(a=e.cells[u][l]).cval_real,-1===r)if(0===o)if(void 0!==e.cells[u-1]&&void 0!==e.cells[u-1][l])r=0,i=-1,o=1;else{if(!(1&s)){c.push([l+a.bottomright,u]),r=0,i=1,o=1,f=!0;break}c.push([l,u])}else{if(!(s&to)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+l+","+u);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[u+1]&&void 0!==e.cells[u+1][l])r=0,i=1,o=0;else{if(!(s&no)){c.push([l+a.topleft,u+1]),r=0,i=-1,o=0,f=!0;break}c.push([l+1,u+1]),r=1,i=0,o=1}}else if(-1===i){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[u][l+1])r=1,i=0,o=1;else{if(!(4&s)){c.push([l+1,u+a.righttop]),r=-1,i=0,o=1,f=!0;break}c.push([l+1,u]),r=0,i=-1,o=1}}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[u][l-1])r=-1,i=0,o=0;else{if(!(s&to)){c.push([l,u+a.leftbottom]),r=1,i=0,o=0,f=!0;break}c.push([l,u+1]),r=0,i=1,o=0}}if(u+=i,(l+=r)===t&&u===n)break}return{path:c,i:l,j:u,x:r,y:i,o:o}}function Xo(e){if(e.edges.length>0){var t=e.edges[e.edges.length-1],n=e.cval_real;switch(t){case 0:return n&no?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 1:return 4&n?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 2:return 4&n?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 3:return 1&n?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 4:return n&no?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 5:return 4&n?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 6:return 4&n?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 7:return 1&n?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 8:return 4&n?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.righttop],x:-1,y:0,o:1};case 9:return 1&n?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 10:return 1&n?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.righttop],x:-1,y:0,o:1};case 11:return n&to?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 12:return 4&n?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 13:return 1&n?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 14:return 1&n?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 15:return n&to?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 16:return 4&n?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 17:return n&to?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 18:return 1&n?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 19:return n&to?{p:[e.bottomleft,0],x:0,y:1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 20:return n&to?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 21:return n&no?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.topright,1],x:0,y:-1,o:1};case 22:return n&to?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 23:return n&no?{p:[0,e.lefttop],x:1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e)}}return null}function Ko(e,t,n,r){var i,o,a,s,l,u=e.cval;switch(t){case-1:switch(r){case 0:i=jo[u],a=po[u],s=ho[u],l=vo[u];break;default:i=No[u],a=uo[u],s=co[u],l=fo[u]}break;case 1:switch(r){case 0:i=Uo[u],a=Oo[u],s=Co[u],l=Ao[u];break;default:i=zo[u],a=xo[u],s=wo[u],l=So[u]}break;default:switch(n){case-1:switch(r){case 0:i=Ho[u],a=ro[u],s=io[u],l=oo[u];break;default:i=Vo[u],a=ao[u],s=so[u],l=lo[u]}break;case 1:switch(r){case 0:i=Bo[u],a=mo[u],s=go[u],l=yo[u];break;default:i=Fo[u],a=bo[u],s=_o[u],l=Eo[u]}}}if(o=e.edges.indexOf(i),void 0===e.edges[o])return null;switch(function(e,t){delete e.edges[t];for(var n=t+1;n<e.edges.length;n++)e.edges[n-1]=e.edges[n];e.edges.pop()}(e,o),u=e.cval_real,i){case 0:u&no?(t=e.topleft,n=1):(t=1,n=e.righttop);break;case 1:4&u?(t=1,n=e.rightbottom):(t=e.topleft,n=1);break;case 2:4&u?(t=e.topleft,n=1):(t=e.bottomright,n=0);break;case 3:1&u?(t=e.bottomleft,n=0):(t=e.topleft,n=1);break;case 4:u&no?(t=e.topright,n=1):(t=1,n=e.righttop);break;case 5:4&u?(t=1,n=e.rightbottom):(t=e.topright,n=1);break;case 6:4&u?(t=e.topright,n=1):(t=e.bottomright,n=0);break;case 7:1&u?(t=e.bottomleft,n=0):(t=e.topright,n=1);break;case 8:4&u?(t=1,n=e.righttop):(t=e.bottomright,n=0);break;case 9:1&u?(t=e.bottomleft,n=0):(t=1,n=e.righttop);break;case 10:1&u?(t=1,n=e.righttop):(t=0,n=e.leftbottom);break;case 11:u&to?(t=0,n=e.lefttop):(t=1,n=e.righttop);break;case 12:4&u?(t=1,n=e.rightbottom):(t=e.bottomright,n=0);break;case 13:1&u?(t=e.bottomleft,n=0):(t=1,n=e.rightbottom);break;case 14:1&u?(t=1,n=e.rightbottom):(t=0,n=e.leftbottom);break;case 15:u&to?(t=0,n=e.lefttop):(t=1,n=e.rightbottom);break;case 16:4&u?(t=0,n=e.leftbottom):(t=e.bottomright,n=0);break;case 17:u&to?(t=0,n=e.lefttop):(t=e.bottomright,n=0);break;case 18:1&u?(t=e.bottomleft,n=0):(t=0,n=e.leftbottom);break;case 19:u&to?(t=0,n=e.lefttop):(t=e.bottomleft,n=0);break;case 20:u&to?(t=0,n=e.leftbottom):(t=e.topleft,n=1);break;case 21:u&no?(t=e.topright,n=1):(t=0,n=e.leftbottom);break;case 22:u&to?(t=0,n=e.lefttop):(t=e.topleft,n=1);break;case 23:u&no?(t=e.topright,n=1):(t=0,n=e.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e),null}return void 0!==t&&void 0!==n&&void 0!==a&&void 0!==s&&void 0!==l||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(e),console.log(t+" "+n+" "+a+" "+s+" "+l)),{p:[t,n],x:a,y:s,o:l}}function Zo(e){var t=[],n=[];e.forEach((function(e){var r=Vr(c([e]));n.push(r),t.push({ring:e,area:r})})),n.sort((function(e,t){return t-e}));var r=[];return n.forEach((function(e){for(var n=0;n<t.length;n++)if(t[n].area===e){r.push(t[n].ring),t.splice(n,1);break}})),r}function Qo(e){for(var t=e.map((function(e){return{lrCoordinates:e,grouped:!1}})),n=[];!$o(t);)for(var r=0;r<t.length;r++)if(!t[r].grouped){var i=[];i.push(t[r].lrCoordinates),t[r].grouped=!0;for(var o=c([t[r].lrCoordinates]),a=r+1;a<t.length;a++)t[a].grouped||Jo(c([t[a].lrCoordinates]),o)&&(i.push(t[a].lrCoordinates),t[a].grouped=!0);n.push(i)}return n}function Jo(e,t){for(var n=wn(e),r=0;r<n.features.length;r++)if(!gt(n.features[r],t))return!1;return!0}function $o(e){for(var t=0;t<e.length;t++)if(!1===e[t].grouped)return!1;return!0}function ea(e,t,n){if(!k(n=n||{}))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("angle is required");return 0===t||(r||(r=xn(e)),!1!==i&&void 0!==i||(e=Ot(e)),I(e,(function(e){var n=zi(r,e)+t,i=Rr(r,e),o=$(Vi(r,i,n));e[0]=o[0],e[1]=o[1]}))),e}function ta(e,t,n){if(!k(n=n||{}))throw new Error("options is invalid");var r=n.origin,i=n.mutate;if(!e)throw new Error("geojson required");if("number"!=typeof t||0===t)throw new Error("invalid factor");var o=Array.isArray(r)||"object"==typeof r;return!0!==i&&(e=Ot(e)),"FeatureCollection"!==e.type||o?na(e,t,r):(j(e,(function(n,i){e.features[i]=na(n,t,r)})),e)}function na(e,t,n){var r="Point"===oe(e);return n=function(e,t){if(null==t&&(t="centroid"),Array.isArray(t)||"object"==typeof t)return J(t);var n=e.bbox?e.bbox:Q(e),r=n[0],i=n[1],o=n[2],a=n[3];switch(t){case"sw":case"southwest":case"westsouth":case"bottomleft":return l([r,i]);case"se":case"southeast":case"eastsouth":case"bottomright":return l([o,i]);case"nw":case"northwest":case"westnorth":case"topleft":return l([r,a]);case"ne":case"northeast":case"eastnorth":case"topright":return l([o,a]);case"center":return En(e);case void 0:case null:case"centroid":return xn(e);default:throw new Error("invalid origin")}}(e,n),1===t||r||I(e,(function(e){var r=Rr(n,e),i=zi(n,e),o=$(Vi(n,r*t,i));e[0]=o[0],e[1]=o[1],3===e.length&&(e[2]*=t)})),e}function ra(e){var t=e[0],n=e[1];return[n[0]-t[0],n[1]-t[1]]}function ia(e,t){return e[0]*t[1]-t[0]*e[1]}function oa(e,t){return!function(e,t){return 0===ia(ra(e),ra(t))}(e,t)&&function(e,t){var n,r,i=e[0],o=ra(e),a=t[0],s=ra(t),l=ia(o,s);return function(e,t){return[e[0]+t[0],e[1]+t[1]]}(i,function(e,t){return[e*t[0],e*t[1]]}(ia((r=i,[(n=a)[0]-r[0],n[1]-r[1]]),s)/l,o))}(e,t)}function aa(e,t,n){var r=[],i=x(t,n),o=$(e),a=[];return o.forEach((function(e,t){if(t!==o.length-1){var n=(u=e,c=o[t+1],f=i,p=Math.sqrt((u[0]-c[0])*(u[0]-c[0])+(u[1]-c[1])*(u[1]-c[1])),d=u[0]+f*(c[1]-u[1])/p,h=c[0]+f*(c[1]-u[1])/p,v=u[1]+f*(u[0]-c[0])/p,m=c[1]+f*(u[0]-c[0])/p,[[d,v],[h,m]]);if(r.push(n),t>0){var s=r[t-1],l=oa(n,s);!1!==l&&(s[1]=l,n[0]=l),a.push(s[0]),t===o.length-2&&(a.push(n[0]),a.push(n[1]))}2===o.length&&(a.push(n[0]),a.push(n[1]))}var u,c,f,p,d,h,v,m})),p(a,e.properties)}function sa(e,t,n){var r=t[0]-e[0],i=t[1]-e[1],o=n[0]-t[0];return function(e){return(e>0)-(e<0)||+e}(r*(n[1]-t[1])-o*i)}function la(e,t){return t.geometry.coordinates[0].every((function(t){return gt(l(t),e)}))}Go[1]=Go[169]=Po,Go[4]=Go[166]=ko,Go[16]=Go[154]=Mo,Go[64]=Go[106]=To,Go[168]=Go[2]=Lo,Go[162]=Go[8]=Io,Go[138]=Go[32]=Do,Go[42]=Go[128]=Ro,Go[5]=Go[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},Go[20]=Go[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},Go[80]=Go[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},Go[65]=Go[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},Go[160]=Go[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},Go[130]=Go[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},Go[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Go[101]=Go[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},Go[149]=Go[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},Go[86]=Go[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},Go[89]=Go[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},Go[96]=Go[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},Go[24]=Go[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},Go[6]=Go[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},Go[129]=Go[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},Go[66]=Go[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Go[144]=Go[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Go[36]=Go[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},Go[9]=Go[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},Go[37]=Go[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},Go[148]=Go[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Go[82]=Go[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},Go[73]=Go[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},Go[145]=Go[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},Go[70]=Go[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Go[34]=function(e){return[Ro(e),Io(e)]},Go[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},Go[136]=function(e){return[Do(e),Lo(e)]},Go[153]=function(e){return[Mo(e),Po(e)]},Go[102]=function(e){return[ko(e),To(e)]},Go[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},Go[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Go[152]=function(e){return[Mo(e),Lo(e)]},Go[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Go[137]=function(e){return[Do(e),Po(e)]},Go[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},Go[98]=function(e){return[Io(e),To(e)]},Go[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Go[38]=function(e){return[ko(e),Ro(e)]},Go[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]};var ua=function(){function e(t){this.id=e.buildId(t),this.coordinates=t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(e){return e.join(",")},e.prototype.removeInnerEdge=function(e){this.innerEdges=this.innerEdges.filter((function(t){return t.from.id!==e.from.id}))},e.prototype.removeOuterEdge=function(e){this.outerEdges=this.outerEdges.filter((function(t){return t.to.id!==e.to.id}))},e.prototype.addOuterEdge=function(e){this.outerEdges.push(e),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var e=this;this.outerEdgesSorted||(this.outerEdges.sort((function(t,n){var r=t.to,i=n.to;if(r.coordinates[0]-e.coordinates[0]>=0&&i.coordinates[0]-e.coordinates[0]<0)return 1;if(r.coordinates[0]-e.coordinates[0]<0&&i.coordinates[0]-e.coordinates[0]>=0)return-1;if(r.coordinates[0]-e.coordinates[0]==0&&i.coordinates[0]-e.coordinates[0]==0)return r.coordinates[1]-e.coordinates[1]>=0||i.coordinates[1]-e.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=sa(e.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-e.coordinates[0],2)+Math.pow(r.coordinates[1]-e.coordinates[1],2)-(Math.pow(i.coordinates[0]-e.coordinates[0],2)+Math.pow(i.coordinates[1]-e.coordinates[1],2))})),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(e){return this.sortOuterEdges(),this.outerEdges[e]},e.prototype.addInnerEdge=function(e){this.innerEdges.push(e)},e}(),ca=function(){function e(e,t){this.from=e,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(e){return this.from.id===e.from.id&&this.to.id===e.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return p([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(e){return sa(e.from.coordinates,e.to.coordinates,this.to.coordinates)},e}(),fa=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(e){this.edges.push(e),this.polygon=this.envelope=void 0},e.prototype.get=function(e){return this.edges[e]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.edges.forEach(e)},e.prototype.map=function(e){return this.edges.map(e)},e.prototype.some=function(e){return this.edges.some(e)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var e=this,t=this.edges.reduce((function(t,n,r){return n.from.coordinates[1]>e.edges[t].from.coordinates[1]&&(t=r),t}),0),n=(0===t?this.length:t)-1,r=(t+1)%this.length,i=sa(this.edges[n].from.coordinates,this.edges[t].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},e.prototype.toMultiPoint=function(){return m(this.edges.map((function(e){return e.from.coordinates})))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var e=this.edges.map((function(e){return e.from.coordinates}));return e.push(this.edges[0].from.coordinates),this.polygon=c([e])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=mn(this.toPolygon())},e.findEdgeRingContaining=function(e,t){var n,r,i=e.getEnvelope();return t.forEach((function(t){var o,a,s,u,c,f,p=t.getEnvelope();if(r&&(n=r.getEnvelope()),a=i,s=(o=p).geometry.coordinates[0].map((function(e){return e[0]})),u=o.geometry.coordinates[0].map((function(e){return e[1]})),c=a.geometry.coordinates[0].map((function(e){return e[0]})),f=a.geometry.coordinates[0].map((function(e){return e[1]})),(Math.max.apply(null,s)!==Math.max.apply(null,c)||Math.max.apply(null,u)!==Math.max.apply(null,f)||Math.min.apply(null,s)!==Math.min.apply(null,c)||Math.min.apply(null,u)!==Math.min.apply(null,f))&&la(p,i)){for(var d=e.map((function(e){return e.from.coordinates})),h=void 0,v=function(e){t.some((function(t){return n=e,r=t.from.coordinates,n[0]===r[0]&&n[1]===r[1];var n,r}))||(h=e)},m=0,g=d;m<g.length;m++)v(g[m]);h&&t.inside(l(h))&&(r&&!la(n,p)||(r=t))}})),r},e.prototype.inside=function(e){return gt(e,this.toPolygon())},e}(),pa=function(){function e(){this.edges=[],this.nodes={}}return e.fromGeoJson=function(t){!function(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error("Invalid input type '"+e.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var n=new e;return H(t,(function(e){ne(e,"LineString","Graph::fromGeoJson"),D(e,(function(e,t){if(e){var r=n.getNode(e),i=n.getNode(t);n.addEdge(r,i)}return t}))})),n},e.prototype.getNode=function(e){var t=ua.buildId(e),n=this.nodes[t];return n||(n=this.nodes[t]=new ua(e)),n},e.prototype.addEdge=function(e,t){var n=new ca(e,t),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},e.prototype.deleteDangles=function(){var e=this;Object.keys(this.nodes).map((function(t){return e.nodes[t]})).forEach((function(t){return e._removeIfDangle(t)}))},e.prototype._removeIfDangle=function(e){var t=this;if(e.innerEdges.length<=1){var n=e.getOuterEdges().map((function(e){return e.to}));this.removeNode(e),n.forEach((function(e){return t._removeIfDangle(e)}))}},e.prototype.deleteCutEdges=function(){var e=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(t){t.label===t.symetric.label&&(e.removeEdge(t.symetric),e.removeEdge(t))}))},e.prototype._computeNextCWEdges=function(e){var t=this;void 0===e?Object.keys(this.nodes).forEach((function(e){return t._computeNextCWEdges(t.nodes[e])})):e.getOuterEdges().forEach((function(t,n){e.getOuterEdge((0===n?e.getOuterEdges().length:n)-1).symetric.next=t}))},e.prototype._computeNextCCWEdges=function(e,t){for(var n,r,i=e.getOuterEdges(),o=i.length-1;o>=0;--o){var a=i[o],s=a.symetric,l=void 0,u=void 0;a.label===t&&(l=a),s.label===t&&(u=s),l&&u&&(u&&(r=u),l&&(r&&(r.next=l,r=void 0),n||(n=l)))}r&&(r.next=n)},e.prototype._findLabeledEdgeRings=function(){var e=[],t=0;return this.edges.forEach((function(n){if(!(n.label>=0)){e.push(n);var r=n;do{r.label=t,r=r.next}while(!n.isEqual(r));t++}})),e},e.prototype.getEdgeRings=function(){var e=this;this._computeNextCWEdges(),this.edges.forEach((function(e){e.label=void 0})),this._findLabeledEdgeRings().forEach((function(t){e._findIntersectionNodes(t).forEach((function(n){e._computeNextCCWEdges(n,t.label)}))}));var t=[];return this.edges.forEach((function(n){n.ring||t.push(e._findEdgeRing(n))})),t},e.prototype._findIntersectionNodes=function(e){var t=[],n=e,r=function(){var r=0;n.from.getOuterEdges().forEach((function(t){t.label===e.label&&++r})),r>1&&t.push(n.from),n=n.next};do{r()}while(!e.isEqual(n));return t},e.prototype._findEdgeRing=function(e){var t=e,n=new fa;do{n.push(t),t.ring=n,t=t.next}while(!e.isEqual(t));return n},e.prototype.removeNode=function(e){var t=this;e.getOuterEdges().forEach((function(e){return t.removeEdge(e)})),e.innerEdges.forEach((function(e){return t.removeEdge(e)})),delete this.nodes[e.id]},e.prototype.removeEdge=function(e){this.edges=this.edges.filter((function(t){return!t.isEqual(e)})),e.deleteEdge()},e}();function da(e,t){var n=!0;return H(e,(function(e){H(t,(function(t){if(!1===n)return!1;n=function(e,t){switch(e.type){case"Point":switch(t.type){case"Point":return n=e.coordinates,r=t.coordinates,!(n[0]===r[0]&&n[1]===r[1]);case"LineString":return!ha(t,e);case"Polygon":return!gt(e,t)}break;case"LineString":switch(t.type){case"Point":return!ha(e,t);case"LineString":return!function(e,t){return Lr(e,t).features.length>0}(e,t);case"Polygon":return!va(t,e)}break;case"Polygon":switch(t.type){case"Point":return!gt(t,e);case"LineString":return!va(e,t);case"Polygon":return!function(e,t){for(var n=0,r=e.coordinates[0];n<r.length;n++)if(gt(r[n],t))return!0;for(var i=0,o=t.coordinates[0];i<o.length;i++)if(gt(o[i],e))return!0;return Lr(Oi(e),Oi(t)).features.length>0}(t,e)}}var n,r;return!1}(e.geometry,t.geometry)}))})),n}function ha(e,t){for(var n=0;n<e.coordinates.length-1;n++)if(ma(e.coordinates[n],e.coordinates[n+1],t.coordinates))return!0;return!1}function va(e,t){for(var n=0,r=t.coordinates;n<r.length;n++)if(gt(r[n],e))return!0;return Lr(t,Oi(e)).features.length>0}function ma(e,t,n){var r=n[0]-e[0],i=n[1]-e[1],o=t[0]-e[0],a=t[1]-e[1];return 0==r*a-i*o&&(Math.abs(o)>=Math.abs(a)?o>0?e[0]<=n[0]&&n[0]<=t[0]:t[0]<=n[0]&&n[0]<=e[0]:a>0?e[1]<=n[1]&&n[1]<=t[1]:t[1]<=n[1]&&n[1]<=e[1])}function ga(e,t){return!(e[0]>t[0])&&!(e[2]<t[2])&&!(e[1]>t[1])&&!(e[3]<t[3])}function ya(e,t){return e[0]===t[0]&&e[1]===t[1]}function ba(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}function _a(e,t){for(var n=!1,r=!1,i=e.coordinates.length,o=0;o<i&&!n&&!r;){for(var a=0;a<t.coordinates.length-1;a++){var s=!0;0!==a&&a!==t.coordinates.length-2||(s=!1),wa(t.coordinates[a],t.coordinates[a+1],e.coordinates[o],s)?n=!0:r=!0}o++}return n&&r}function Ea(e,t){return Lr(e,Ci(t)).features.length>0}function xa(e,t){for(var n=!1,r=!1,i=e.coordinates.length,o=0;o<i&&(!n||!r);o++)gt(l(e.coordinates[o]),t)?n=!0:r=!0;return r&&n}function wa(e,t,n,r){var i=n[0]-e[0],o=n[1]-e[1],a=t[0]-e[0],s=t[1]-e[1];return 0==i*s-o*a&&(r?Math.abs(a)>=Math.abs(s)?a>0?e[0]<=n[0]&&n[0]<=t[0]:t[0]<=n[0]&&n[0]<=e[0]:s>0?e[1]<=n[1]&&n[1]<=t[1]:t[1]<=n[1]&&n[1]<=e[1]:Math.abs(a)>=Math.abs(s)?a>0?e[0]<n[0]&&n[0]<t[0]:t[0]<n[0]&&n[0]<e[0]:s>0?e[1]<n[1]&&n[1]<t[1]:t[1]<n[1]&&n[1]<e[1])}var Sa=function(e){this.precision=e&&e.precision?e.precision:17,this.direction=!(!e||!e.direction)&&e.direction,this.pseudoNode=!(!e||!e.pseudoNode)&&e.pseudoNode,this.objectComparator=e&&e.objectComparator?e.objectComparator:Aa};function Oa(e){return e.coordinates.map((function(t){return{type:e.type.replace("Multi",""),coordinates:t}}))}function Ca(e,t){return e.hasOwnProperty("coordinates")?e.coordinates.length===t.coordinates.length:e.length===t.length}function Aa(e,t){return ji(e,t,{strict:!0})}Sa.prototype.compare=function(e,t){if(e.type!==t.type||!Ca(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates,0,!1);case"Polygon":return this.comparePolygon(e,t);case"Feature":return this.compareFeature(e,t);default:if(0===e.type.indexOf("Multi")){var n=this,r=Oa(e),i=Oa(t);return r.every((function(e){return this.some((function(t){return n.compare(e,t)}))}),i)}}return!1},Sa.prototype.compareCoord=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n].toFixed(this.precision)!==t[n].toFixed(this.precision))return!1;return!0},Sa.prototype.compareLine=function(e,t,n,r){if(!Ca(e,t))return!1;var i=this.pseudoNode?e:this.removePseudo(e),o=this.pseudoNode?t:this.removePseudo(t);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var a=this.compareCoord(i[n],o[n]);return this.direction||a?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},Sa.prototype.fixStartIndex=function(e,t){for(var n,r=-1,i=0;i<e.length;i++)if(this.compareCoord(e[i],t[0])){r=i;break}return r>=0&&(n=[].concat(e.slice(r,e.length),e.slice(1,r+1))),n},Sa.prototype.comparePath=function(e,t){var n=this;return e.every((function(e,t){return n.compareCoord(e,this[t])}),t)},Sa.prototype.comparePolygon=function(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){var n=e.coordinates.slice(1,e.coordinates.length),r=t.coordinates.slice(1,t.coordinates.length),i=this;return n.every((function(e){return this.some((function(t){return i.compareLine(e,t,1,!0)}))}),r)}return!1},Sa.prototype.compareFeature=function(e,t){return!(e.id!==t.id||!this.objectComparator(e.properties,t.properties)||!this.compareBBox(e,t))&&this.compare(e.geometry,t.geometry)},Sa.prototype.compareBBox=function(e,t){return!!(!e.bbox&&!t.bbox||e.bbox&&t.bbox&&this.compareCoord(e.bbox,t.bbox))},Sa.prototype.removePseudo=function(e){return e};var Pa=Sa;function ka(e,t){var n=!1;return H(e,(function(e){H(t,(function(t){if(!0===n)return!0;n=!da(e.geometry,t.geometry)}))})),n}var Ma=ze((function(e){function t(e,t,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(e,t,n,r)}t.prototype.run=function(e,t,n,r){this._init(e,t,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var a=this.clusters.length;this.clusters.push([]),this._addToCluster(i,a),this._expandCluster(a,o)}}return this.clusters},t.prototype._init=function(e,t,n,r){if(e){if(!(e instanceof Array))throw Error("Dataset must be of type array, "+typeof e+" given");this.dataset=e,this.clusters=[],this.noise=[],this._datasetLength=e.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}t&&(this.epsilon=t),n&&(this.minPts=n),r&&(this.distance=r)},t.prototype._expandCluster=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(t=this._mergeArrays(t,i))}1!==this._assigned[r]&&this._addToCluster(r,e)}},t.prototype._addToCluster=function(e,t){this.clusters[t].push(e),this._assigned[e]=1},t.prototype._regionQuery=function(e){for(var t=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[e],this.dataset[n])<this.epsilon&&t.push(n);return t},t.prototype._mergeArrays=function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r];e.indexOf(i)<0&&e.push(i)}return e},t.prototype._euclideanDistance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;)n+=(e[r]-t[r])*(e[r]-t[r]);return Math.sqrt(n)},e.exports&&(e.exports=t)})),Ta=ze((function(e){function t(e,t,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(e,t,n)}t.prototype.init=function(e,t,n){this.assignments=[],this.centroids=[],void 0!==e&&(this.dataset=e),void 0!==t&&(this.k=t),void 0!==n&&(this.distance=n)},t.prototype.run=function(e,t){this.init(e,t);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var a=new Array(c),s=0,l=0;l<c;l++)a[l]=0;for(var u=0;u<n;u++){var c=this.dataset[u].length;if(o===this.assignments[u]){for(l=0;l<c;l++)a[l]+=this.dataset[u][l];s++}}if(s>0){for(l=0;l<c;l++)a[l]/=s;this.centroids[o]=a}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},t.prototype.randomCentroid=function(){var e,t,n=this.dataset.length-1;do{t=Math.round(Math.random()*n),e=this.dataset[t]}while(this.centroids.indexOf(e)>=0);return e},t.prototype.assign=function(){for(var e,t=!1,n=this.dataset.length,r=0;r<n;r++)(e=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=e,t=!0);return t},t.prototype.getClusters=function(){for(var e,t=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===t[e=this.assignments[n]]&&(t[e]=[]),t[e].push(n);return t},t.prototype.argmin=function(e,t,n){for(var r,i=Number.MAX_VALUE,o=0,a=t.length,s=0;s<a;s++)(r=n(e,t[s]))<i&&(i=r,o=s);return o},t.prototype.distance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;){var i=e[r]-t[r];n+=i*i}return Math.sqrt(n)},e.exports&&(e.exports=t)})),La=ze((function(e){function t(e,t,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(e,t,n)}t.prototype.insert=function(e,t){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?t>i&&(n=r):t<i&&(n=r)}this._insertAt(e,t,n)},t.prototype.remove=function(e){for(var t=this._queue.length;t--;)if(e===this._queue[t]){this._queue.splice(t,1),this._priorities.splice(t,1);break}},t.prototype.forEach=function(e){this._queue.forEach(e)},t.prototype.getElements=function(){return this._queue},t.prototype.getElementPriority=function(e){return this._priorities[e]},t.prototype.getPriorities=function(){return this._priorities},t.prototype.getElementsWithPriorities=function(){for(var e=[],t=0,n=this._queue.length;t<n;t++)e.push([this._queue[t],this._priorities[t]]);return e},t.prototype._init=function(e,t,n){if(e&&t){if(this._queue=[],this._priorities=[],e.length!==t.length)throw new Error("Arrays must have the same length");for(var r=0;r<e.length;r++)this.insert(e[r],t[r])}n&&(this._sorting=n)},t.prototype._insertAt=function(e,t,n){this._queue.length===n?(this._queue.push(e),this._priorities.push(t)):(this._queue.splice(n,0,e),this._priorities.splice(n,0,t))},e.exports&&(e.exports=t)})),Ia=ze((function(e){if(e.exports)var t=La;function n(e,t,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(e,t,n,r)}n.prototype.run=function(e,n,r,i){this._init(e,n,r,i);for(var o=0,a=this.dataset.length;o<a;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var s=this.clusters.length-1;this._orderedList.push(o);var l=new t(null,null,"asc"),u=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,u,l),this._expandCluster(s,l))}return this.clusters},n.prototype.getReachabilityPlot=function(){for(var e=[],t=0,n=this._orderedList.length;t<n;t++){var r=this._orderedList[t],i=this._reachability[r];e.push([r,i])}return e},n.prototype._init=function(e,t,n,r){if(e){if(!(e instanceof Array))throw Error("Dataset must be of type array, "+typeof e+" given");this.dataset=e,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}t&&(this.epsilon=t),n&&(this.minPts=n),r&&(this.distance=r)},n.prototype._updateQueue=function(e,t,n){var r=this;this._coreDistance=this._distanceToCore(e),t.forEach((function(t){if(void 0===r._processed[t]){var i=r.distance(r.dataset[e],r.dataset[t]),o=Math.max(r._coreDistance,i);void 0===r._reachability[t]?(r._reachability[t]=o,n.insert(t,o)):o<r._reachability[t]&&(r._reachability[t]=o,n.remove(t),n.insert(t,o))}}))},n.prototype._expandCluster=function(e,t){for(var n=t.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var a=this._regionQuery(o);this._processed[o]=1,this.clusters[e].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,a,t),this._expandCluster(e,t))}}},n.prototype._distanceToCore=function(e){for(var t=this.epsilon,n=0;n<t;n++)if(this._regionQuery(e,n).length>=this.minPts)return n},n.prototype._regionQuery=function(e,t){t=t||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[e],this.dataset[r])<t&&n.push(r);return n},n.prototype._euclideanDistance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;)n+=(e[r]-t[r])*(e[r]-t[r]);return Math.sqrt(n)},e.exports&&(e.exports=n)})),Da=ze((function(e){e.exports&&(e.exports={DBSCAN:Ma,KMEANS:Ta,OPTICS:Ia,PriorityQueue:La})})),Ra=function(e,t,n){for(var r=e.length,i=0,o=0;o<r;o++){var a=(e[o]||0)-(t[o]||0);i+=a*a}return n?Math.sqrt(i):i},Na=Ra,ja=function(e,t,n){var r=Math.abs(e-t);return n?r:r*r},Fa=Ra,Ba=function(e,t){for(var n={},r=[],i=t<<2,o=e.length,a=e[0].length>0;r.length<t&&i-- >0;){var s=e[Math.floor(Math.random()*o)],l=a?s.join("_"):""+s;n[l]||(n[l]=!0,r.push(s))}if(r.length<t)throw new Error("Error initializating clusters");return r},Ua=function(e,t){var n=e[0].length?Na:ja,r=[],i=e.length,o=e[0].length>0,a=e[Math.floor(Math.random()*i)];for(o&&a.join("_"),r.push(a);r.length<t;){for(var s=[],l=r.length,u=0,c=[],f=0;f<i;f++){for(var p=1/0,d=0;d<l;d++){var h=n(e[f],r[d]);h<=p&&(p=h)}s[f]=p}for(var v=0;v<i;v++)u+=s[v];for(var m=0;m<i;m++)c[m]={i:m,v:e[m],pr:s[m]/u,cs:0};c.sort((function(e,t){return e.pr-t.pr})),c[0].cs=c[0].pr;for(var g=1;g<i;g++)c[g].cs=c[g-1].cs+c[g].pr;for(var y=Math.random(),b=0;b<i-1&&c[b++].cs<y;);r.push(c[b-1].v)}return r};function za(e,t,n){n=n||[];for(var r=0;r<e;r++)n[r]=t;return n}var Ha=function(e,t,n,r){var i=[],o=[],a=[],s=[],l=!1,u=r||1e4,c=e.length,f=e[0].length,p=f>0,d=[];if(n)i="kmrand"==n?Ba(e,t):"kmpp"==n?Ua(e,t):n;else for(var h={};i.length<t;){var v=Math.floor(Math.random()*c);h[v]||(h[v]=!0,i.push(e[v]))}do{za(t,0,d);for(var m=0;m<c;m++){for(var g=1/0,y=0,b=0;b<t;b++)(s=p?Fa(e[m],i[b]):Math.abs(e[m]-i[b]))<=g&&(g=s,y=b);a[m]=y,d[y]++}for(var _=[],E=(o=[],0);E<t;E++)_[E]=p?za(f,0,_[E]):0,o[E]=i[E];if(p){for(var x=0;x<t;x++)i[x]=[];for(var w=0;w<c;w++)for(var S=_[a[w]],O=e[w],C=0;C<f;C++)S[C]+=O[C];l=!0;for(var A=0;A<t;A++){for(var P=i[A],k=_[A],M=o[A],T=d[A],L=0;L<f;L++)P[L]=k[L]/T||0;if(l)for(var I=0;I<f;I++)if(M[I]!=P[I]){l=!1;break}}}else{for(var D=0;D<c;D++)_[a[D]]+=e[D];for(var R=0;R<t;R++)i[R]=_[R]/d[R]||0;l=!0;for(var N=0;N<t;N++)if(o[N]!=i[N]){l=!1;break}}l=l||--u<=0}while(!l);return{it:1e4-u,k:t,idxs:a,centroids:i}};function Va(e,t){return w(zi(e[0],e[1]))===w(zi(t[0],t[1]))}function Ga(e,t){if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error("Invalid GeoJSON object for "+t)}function Wa(e){for(var t=e,n=[];t.parent;)n.unshift(t),t=t.parent;return n}var qa={search:function(e,t,n,r){e.cleanDirty();var i=(r=r||{}).heuristic||qa.heuristics.manhattan,o=r.closest||!1,a=new Ka((function(e){return e.f})),s=t;for(t.h=i(t,n),a.push(t);a.size()>0;){var l=a.pop();if(l===n)return Wa(l);l.closed=!0;for(var u=e.neighbors(l),c=0,f=u.length;c<f;++c){var p=u[c];if(!p.closed&&!p.isWall()){var d=l.g+p.getCost(l),h=p.visited;(!h||d<p.g)&&(p.visited=!0,p.parent=l,p.h=p.h||i(p,n),p.g=d,p.f=p.g+p.h,e.markDirty(p),o&&(p.h<s.h||p.h===s.h&&p.g<s.g)&&(s=p),h?a.rescoreElement(p):a.push(p))}}}return o?Wa(s):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var n=Math.sqrt(2),r=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function Ya(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var n=0;n<e.length;n++){this.grid[n]=[];for(var r=0,i=e[n];r<i.length;r++){var o=new Xa(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function Xa(e,t,n){this.x=e,this.y=t,this.weight=n}function Ka(e){this.content=[],this.scoreFunction=e}function Za(e,t){for(var n=0;n<t.features.length;n++)if(gt(e,t.features[n]))return!0;return!1}function Qa(e){return function(){return e}}function Ja(e){return e[0]}function $a(e){return e[1]}function es(){this._=null}function ts(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function ns(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function rs(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function is(e){for(;e.L;)e=e.L;return e}function os(e,t,n,r){var i=[null,null],o=ks.push(i)-1;return i.left=e,i.right=t,n&&ss(i,e,t,n),r&&ss(i,t,e,r),As[e.index].halfedges.push(o),As[t.index].halfedges.push(o),i}function as(e,t,n){var r=[t,n];return r.left=e,r}function ss(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function ls(e,t,n,r,i){var o,a=e[0],s=e[1],l=a[0],u=a[1],c=0,f=1,p=s[0]-l,d=s[1]-u;if(o=t-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<f&&(f=o)}else if(p>0){if(o>f)return;o>c&&(c=o)}if(o=r-l,p||!(o<0)){if(o/=p,p<0){if(o>f)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<f&&(f=o)}if(o=n-u,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>c&&(c=o)}if(o=i-u,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<f&&(f=o)}return!(c>0||f<1)||(c>0&&(e[0]=[l+c*p,u+c*d]),f<1&&(e[1]=[l+f*p,u+f*d]),!0)}}}}}function us(e,t,n,r,i){var o=e[1];if(o)return!0;var a,s,l=e[0],u=e.left,c=e.right,f=u[0],p=u[1],d=c[0],h=c[1],v=(f+d)/2,m=(p+h)/2;if(h===p){if(v<t||v>=r)return;if(f>d){if(l){if(l[1]>=i)return}else l=[v,n];o=[v,i]}else{if(l){if(l[1]<n)return}else l=[v,i];o=[v,n]}}else if(s=m-(a=(f-d)/(h-p))*v,a<-1||a>1)if(f>d){if(l){if(l[1]>=i)return}else l=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/a,i];o=[(n-s)/a,n]}else if(p<h){if(l){if(l[0]>=r)return}else l=[t,a*t+s];o=[r,a*r+s]}else{if(l){if(l[0]<t)return}else l=[r,a*r+s];o=[t,a*t+s]}return e[0]=l,e[1]=o,!0}function cs(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function fs(e,t){return t[+(t.left!==e.site)]}function ps(e,t){return t[+(t.left===e.site)]}Ya.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)qa.cleanNode(this.nodes[e])},Ya.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)qa.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},Ya.prototype.markDirty=function(e){this.dirtyNodes.push(e)},Ya.prototype.neighbors=function(e){var t=[],n=e.x,r=e.y,i=this.grid;return i[n-1]&&i[n-1][r]&&t.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&t.push(i[n+1][r]),i[n]&&i[n][r-1]&&t.push(i[n][r-1]),i[n]&&i[n][r+1]&&t.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&t.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&t.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&t.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&t.push(i[n+1][r+1])),t},Ya.prototype.toString=function(){for(var e,t,n,r,i=[],o=this.grid,a=0,s=o.length;a<s;a++){for(e=[],n=0,r=(t=o[a]).length;n<r;n++)e.push(t[n].weight);i.push(e.join(" "))}return i.join("\n")},Xa.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Xa.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},Xa.prototype.isWall=function(){return 0===this.weight},Ka.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),n=this.content.pop();t!==this.content.length-1&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var n=(e+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}},bubbleUp:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var i,o=e+1<<1,a=o-1,s=null;if(a<t){var l=this.content[a];(i=this.scoreFunction(l))<r&&(s=a)}if(o<t){var u=this.content[o];this.scoreFunction(u)<(null===s?r:i)&&(s=o)}if(null===s)break;this.content[e]=this.content[s],this.content[s]=n,e=s}}},es.prototype={constructor:es,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=is(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(ns(this,n),n=(e=n).U),n.C=!1,r.C=!0,rs(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(rs(this,n),n=(e=n).U),n.C=!1,r.C=!0,ns(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?is(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,ns(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,rs(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,ns(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,rs(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ns(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,rs(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var ds,hs=[];function vs(){ts(this),this.x=this.y=this.arc=this.site=this.cy=null}function ms(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i[0],s=i[1],l=r[0]-a,u=r[1]-s,c=o[0]-a,f=o[1]-s,p=2*(l*f-u*c);if(!(p>=-Ts)){var d=l*l+u*u,h=c*c+f*f,v=(f*d-u*h)/p,m=(l*h-c*d)/p,g=hs.pop()||new vs;g.arc=e,g.site=i,g.x=v+a,g.y=(g.cy=m+s)+Math.sqrt(v*v+m*m),e.circle=g;for(var y=null,b=Ps._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Ps.insert(y,g),y||(ds=g)}}}}function gs(e){var t=e.circle;t&&(t.P||(ds=t.N),Ps.remove(t),hs.push(t),ts(t),e.circle=null)}var ys=[];function bs(){ts(this),this.edge=this.site=this.circle=null}function _s(e){var t=ys.pop()||new bs;return t.site=e,t}function Es(e){gs(e),Cs.remove(e),ys.push(e),ts(e)}function xs(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],o=e.P,a=e.N,s=[e];Es(e);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Ms&&Math.abs(r-l.circle.cy)<Ms;)o=l.P,s.unshift(l),Es(l),l=o;s.unshift(l),gs(l);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<Ms&&Math.abs(r-u.circle.cy)<Ms;)a=u.N,s.push(u),Es(u),u=a;s.push(u),gs(u);var c,f=s.length;for(c=1;c<f;++c)u=s[c],l=s[c-1],ss(u.edge,l.site,u.site,i);l=s[0],(u=s[f-1]).edge=os(l.site,u.site,null,i),ms(l),ms(u)}function ws(e){for(var t,n,r,i,o=e[0],a=e[1],s=Cs._;s;)if((r=Ss(s,a)-o)>Ms)s=s.L;else{if(!((i=o-Os(s,a))>Ms)){r>-Ms?(t=s.P,n=s):i>-Ms?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){As[e.index]={site:e,halfedges:[]}}(e);var l=_s(e);if(Cs.insert(t,l),t||n){if(t===n)return gs(t),n=_s(t.site),Cs.insert(l,n),l.edge=n.edge=os(t.site,l.site),ms(t),void ms(n);if(n){gs(t),gs(n);var u=t.site,c=u[0],f=u[1],p=e[0]-c,d=e[1]-f,h=n.site,v=h[0]-c,m=h[1]-f,g=2*(p*m-d*v),y=p*p+d*d,b=v*v+m*m,_=[(m*y-d*b)/g+c,(p*b-v*y)/g+f];ss(n.edge,u,h,_),l.edge=os(u,e,null,_),n.edge=os(e,h,null,_),ms(t),ms(n)}else l.edge=os(t.site,l.site)}}function Ss(e,t){var n=e.site,r=n[0],i=n[1],o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],u=l-t;if(!u)return s;var c=s-r,f=1/o-1/u,p=c/u;return f?(-p+Math.sqrt(p*p-2*f*(c*c/(-2*u)-l+u/2+i-o/2)))/f+r:(r+s)/2}function Os(e,t){var n=e.N;if(n)return Ss(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var Cs,As,Ps,ks,Ms=1e-6,Ts=1e-12;function Ls(e,t){return t[1]-e[1]||t[0]-e[0]}function Is(e,t){var n,r,i,o=e.sort(Ls).pop();for(ks=[],As=new Array(e.length),Cs=new es,Ps=new es;;)if(i=ds,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(ws(o),n=o[0],r=o[1]),o=e.pop();else{if(!i)break;xs(i.arc)}if(function(){for(var e,t,n,r,i=0,o=As.length;i<o;++i)if((e=As[i])&&(r=(t=e.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=cs(e,ks[t[n]]);for(a.sort((function(e,t){return s[t]-s[e]})),n=0;n<r;++n)s[n]=t[a[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var a=+t[0][0],s=+t[0][1],l=+t[1][0],u=+t[1][1];!function(e,t,n,r){for(var i,o=ks.length;o--;)us(i=ks[o],e,t,n,r)&&ls(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>Ms||Math.abs(i[0][1]-i[1][1])>Ms)||delete ks[o]}(a,s,l,u),function(e,t,n,r){var i,o,a,s,l,u,c,f,p,d,h,v,m=As.length,g=!0;for(i=0;i<m;++i)if(o=As[i]){for(a=o.site,s=(l=o.halfedges).length;s--;)ks[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)h=(d=ps(o,ks[l[s]]))[0],v=d[1],f=(c=fs(o,ks[l[++s%u]]))[0],p=c[1],(Math.abs(h-f)>Ms||Math.abs(v-p)>Ms)&&(l.splice(s,0,ks.push(as(a,d,Math.abs(h-e)<Ms&&r-v>Ms?[e,Math.abs(f-e)<Ms?p:r]:Math.abs(v-r)<Ms&&n-h>Ms?[Math.abs(p-r)<Ms?f:n,r]:Math.abs(h-n)<Ms&&v-t>Ms?[n,Math.abs(f-n)<Ms?p:t]:Math.abs(v-t)<Ms&&h-e>Ms?[Math.abs(p-t)<Ms?f:e,t]:null))-1),++u);u&&(g=!1)}if(g){var y,b,_,E=1/0;for(i=0,g=null;i<m;++i)(o=As[i])&&(_=(y=(a=o.site)[0]-e)*y+(b=a[1]-t)*b)<E&&(E=_,g=o);if(g){var x=[e,t],w=[e,r],S=[n,r],O=[n,t];g.halfedges.push(ks.push(as(a=g.site,x,w))-1,ks.push(as(a,w,S))-1,ks.push(as(a,S,O))-1,ks.push(as(a,O,x))-1)}}for(i=0;i<m;++i)(o=As[i])&&(o.halfedges.length||delete As[i])}(a,s,l,u)}this.edges=ks,this.cells=As,Cs=Ps=ks=As=null}function Ds(e){return(e=e.slice()).push(e[0]),c([e])}function Rs(e,t,n,r){var i=(r=r||{}).steps||64,o=r.units||"kilometers",a=r.angle||0,s=r.pivot||e,l=r.properties||e.properties||{};if(!e)throw new Error("center is required");if(!t)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!k(r))throw new Error("options must be an object");if(!P(i))throw new Error("steps must be a number");if(!P(a))throw new Error("angle must be a number");var u=J(e);if("degrees"===o)var f=O(a);else t=Vi(e,t,90,{units:o}),n=Vi(e,n,0,{units:o}),t=J(t)[0]-u[0],n=J(n)[1]-u[1];for(var p=[],d=0;d<i;d+=1){var h=-360*d/i,v=t*n/Math.sqrt(Math.pow(n,2)+Math.pow(t,2)*Math.pow(Ns(h),2)),m=t*n/Math.sqrt(Math.pow(t,2)+Math.pow(n,2)/Math.pow(Ns(h),2));if(h<-90&&h>=-270&&(v=-v),h<-180&&h>=-360&&(m=-m),"degrees"===o){var g=v*Math.cos(f)+m*Math.sin(f),y=m*Math.cos(f)-v*Math.sin(f);v=g,m=y}p.push([v+u[0],m+u[1]])}return p.push(p[0]),"degrees"===o?c([p],l):ea(c([p],l),a,{pivot:s})}function Ns(e){var t=e*Math.PI/180;return Math.tan(t)}function js(e,t){void 0===t&&(t={});var n=0,r=0,i=0;return U(e,(function(e,o,a){var s=t.weight?null==a?void 0:a[t.weight]:void 0;if(!P(s=null==s?1:s))throw new Error("weight value must be a number for feature index "+o);(s=Number(s))>0&&I(e,(function(e){n+=e[0]*s,r+=e[1]*s,i+=s}))})),l([n/i,r/i],t.properties,t)}function Fs(e,t,n,r,i){var o=r.tolerance||.001,a=0,s=0,u=0,c=0;if(j(n,(function(t){var n,r=null===(n=t.properties)||void 0===n?void 0:n.weight,i=null==r?1:r;if(!P(i=Number(i)))throw new Error("weight value must be a number");if(i>0){c+=1;var o=i*_t(t,e);0===o&&(o=1);var l=i/o;a+=t.geometry.coordinates[0]*l,s+=t.geometry.coordinates[1]*l,u+=l}})),c<1)throw new Error("no features to measure");var f=a/u,p=s/u;return 1===c||0===i||Math.abs(f-t[0])<o&&Math.abs(p-t[1])<o?l([f,p],{medianCandidates:r.medianCandidates}):(r.medianCandidates.push([f,p]),Fs([f,p],e,n,r,i-1))}function Bs(e,t){return{x:e[0]-t[0],y:e[1]-t[1]}}function Us(e,t){var n=0,r=0;I(e,(function(i,o,a,s,l){l>n&&(n=l,r=o,t.push([]));var u=o-r,c=e.coordinates[l][u+1],f=i[0],p=i[1],d=c[0],h=c[1];t[l].push([.75*f+.25*d,.75*p+.25*h]),t[l].push([.25*f+.75*d,.25*p+.75*h])}),!0),t.forEach((function(e){e.push(e[0])}))}function zs(e,t){var n=0,r=0,i=0;I(e,(function(o,a,s,l,u){l>i&&(i=l,r=a,t.push([[]])),u>n&&(n=u,r=a,t[l].push([]));var c=a-r,f=e.coordinates[l][u][c+1],p=o[0],d=o[1],h=f[0],v=f[1];t[l][u].push([.75*p+.25*h,.75*d+.25*v]),t[l][u].push([.25*p+.75*h,.25*d+.75*v])}),!0),t.forEach((function(e){e.forEach((function(e){e.push(e[0])}))}))}function Hs(e,t,n){void 0===n&&(n=2);var r=J(e),i=J(t),o=r[0]-i[0],a=r[1]-i[1];return 1===n?Math.abs(o)+Math.abs(a):Math.pow(Math.pow(o,n)+Math.pow(a,n),1/n)}function Vs(e,t){var n=(t=t||{}).threshold||1e4,r=t.p||2,i=t.binary||!1,o=t.alpha||-1,a=t.standardization||!1,s=[];j(e,(function(e){s.push(xn(e))}));for(var l=[],u=0;u<s.length;u++)l[u]=[];for(u=0;u<s.length;u++)for(var c=u;c<s.length;c++){u===c&&(l[u][c]=0);var f=Hs(s[u],s[c],r);l[u][c]=f,l[c][u]=f}for(u=0;u<s.length;u++)for(c=0;c<s.length;c++)0!==(f=l[u][c])&&(l[u][c]=i?f<=n?1:0:f<=n?Math.pow(f,o):0);if(a)for(u=0;u<s.length;u++){var p=l[u].reduce((function(e,t){return e+t}),0);for(c=0;c<s.length;c++)l[u][c]=l[u][c]/p}return l}function Gs(e){for(var t=0,n=0,r=e;n<r.length;n++)t+=r[n];return t/e.length}function Ws(e,t){return void 0===t&&(t={}),Ys(e,"mercator",t)}function qs(e,t){return void 0===t&&(t={}),Ys(e,"wgs84",t)}function Ys(e,t,n){void 0===n&&(n={});var r=(n=n||{}).mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&P(e[0])?e="mercator"===t?Xs(e):Ks(e):(!0!==r&&(e=Ot(e)),I(e,(function(e){var n="mercator"===t?Xs(e):Ks(e);e[0]=n[0],e[1]=n[1]}))),e}function Xs(e){var t=Math.PI/180,n=6378137,r=20037508.342789244,i=[n*(Math.abs(e[0])<=180?e[0]:e[0]-360*function(e){return e<0?-1:e>0?1:0}(e[0]))*t,n*Math.log(Math.tan(.25*Math.PI+.5*e[1]*t))];return i[0]>r&&(i[0]=r),i[0]<-r&&(i[0]=-r),i[1]>r&&(i[1]=r),i[1]<-r&&(i[1]=-r),i}function Ks(e){var t=180/Math.PI,n=6378137;return[e[0]*t/n,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/n)))*t]}Is.prototype={constructor:Is,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return fs(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,l,u,c=n.site,f=-1,p=t[i[o-1]],d=p.left===c?p.right:p.left;++f<o;)a=d,d=(p=t[i[f]]).left===c?p.right:p.left,a&&d&&r<a.index&&r<d.index&&(l=a,u=d,((s=c)[0]-u[0])*(l[1]-s[1])-(s[0]-l[0])*(u[1]-s[1])<0)&&e.push([c.data,a.data,d.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var l=e-i.site[0],u=t-i.site[1],c=l*l+u*u;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var l=e-s[0],u=t-s[1],f=l*l+u*u;f<c&&(c=f,a=s.index)}}))}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}};var Zs=Object.freeze({__proto__:null,toMercator:Ws,toWgs84:qs}),Qs=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};function Js(e){return Array.isArray(e)?rl(e):e&&e.bbox?rl(e.bbox):[360*nl(),180*nl()]}function $s(e,t){void 0===t&&(t={}),null==e&&(e=1);for(var n=[],r=0;r<e;r++)n.push(l(Js(t.bbox)));return h(n)}function el(e,t){void 0===t&&(t={}),null==e&&(e=1),P(t.num_vertices)&&void 0!==t.num_vertices||(t.num_vertices=10),P(t.max_radial_length)&&void 0!==t.max_radial_length||(t.max_radial_length=10);for(var n=[],r=function(e){var r,i=[],o=Qs(Array(t.num_vertices+1)).map(Math.random);o.forEach((function(e,t,n){n[t]=t>0?e+n[t-1]:e})),o.forEach((function(e){e=2*e*Math.PI/o[o.length-1];var n=Math.random();i.push([n*(t.max_radial_length||10)*Math.sin(e),n*(t.max_radial_length||10)*Math.cos(e)])})),i[i.length-1]=i[0],i=i.map((r=Js(t.bbox),function(e){return[e[0]+r[0],e[1]+r[1]]})),n.push(c([i]))},i=0;i<e;i++)r();return h(n)}function tl(e,t){if(void 0===t&&(t={}),!k(t=t||{}))throw new Error("options is invalid");var n=t.bbox,r=t.num_vertices,i=t.max_length,o=t.max_rotation;null==e&&(e=1),(!P(r)||void 0===r||r<2)&&(r=10),P(i)&&void 0!==i||(i=1e-4),P(o)&&void 0!==o||(o=Math.PI/8);for(var a=[],s=0;s<e;s++){for(var l=[Js(n)],u=0;u<r-1;u++){var c=(0===u?2*Math.random()*Math.PI:Math.tan((l[u][1]-l[u-1][1])/(l[u][0]-l[u-1][0])))+(Math.random()-.5)*o*2,f=Math.random()*i;l.push([l[u][0]+f*Math.cos(c),l[u][1]+f*Math.sin(c)])}a.push(p(l))}return h(a)}function nl(){return Math.random()-.5}function rl(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}var il=Object.freeze({__proto__:null,randomPosition:Js,randomPoint:$s,randomPolygon:el,randomLineString:tl});function ol(e,t){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(null==t)throw new Error("filter is required");var n=[];return j(e,(function(e){ul(e.properties,t)&&n.push(e)})),h(n)}function al(e,t,n){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(null==t)throw new Error("property is required");for(var r=ll(e,t),i=Object.keys(r),o=0;o<i.length;o++){for(var a=i[o],s=r[a],l=[],u=0;u<s.length;u++)l.push(e.features[s[u]]);n(h(l),a,o)}}function sl(e,t,n,r){var i=r;return al(e,t,(function(e,t,o){i=0===o&&void 0===r?e:n(i,e,t,o)})),i}function ll(e,t){var n={};return j(e,(function(e,r){var i=e.properties||{};if(Object.prototype.hasOwnProperty.call(i,String(t))){var o=i[t];Object.prototype.hasOwnProperty.call(n,o)?n[o].push(r):n[o]=[r]}})),n}function ul(e,t){if(void 0===e)return!1;var n=typeof t;if("number"===n||"string"===n)return Object.prototype.hasOwnProperty.call(e,t);if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(!ul(e,t[r]))return!1;return!0}return cl(e,t)}function cl(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];if(e[i]!==t[i])return!1}return!0}function fl(e,t){if(!t)return{};if(!t.length)return{};for(var n={},r=0;r<t.length;r++){var i=t[r];Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n}var pl=Object.freeze({__proto__:null,getCluster:ol,clusterEach:al,clusterReduce:sl,createBins:ll,applyFilter:ul,propertiesContainsFilter:cl,filterProperties:fl}),dl=function(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null};function hl(e,t){return e>t?1:e<t?-1:0}function vl(e,t,n){for(var r=new dl(null,null),i=r,o=r;;){var a=n(e,t.key);if(a<0){if(null===t.left)break;if(n(e,t.left.key)<0){var s=t.left;if(t.left=s.right,s.right=t,null===(t=s).left)break}o.left=t,o=t,t=t.left}else{if(!(a>0))break;if(null===t.right)break;if(n(e,t.right.key)>0&&(s=t.right,t.right=s.left,s.left=t,null===(t=s).right))break;i.right=t,i=t,t=t.right}}return i.right=t.left,o.left=t.right,t.left=r.right,t.right=r.left,t}function ml(e,t,n,r){var i=new dl(e,t);if(null===n)return i.left=i.right=null,i;var o=r(e,(n=vl(e,n,r)).key);return o<0?(i.left=n.left,i.right=n,n.left=null):o>=0&&(i.right=n.right,i.left=n,n.right=null),i}function gl(e,t,n){var r=null,i=null;if(t){var o=n((t=vl(e,t,n)).key,e);0===o?(r=t.left,i=t.right):o<0?(i=t.right,t.right=null,r=t):(r=t.left,t.left=null,i=t)}return{left:r,right:i}}function yl(e,t,n,r,i){if(e){r(t+(n?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+i(e)+"\n");var o=t+(n?"    ":"\u2502   ");e.left&&yl(e.left,o,!1,r,i),e.right&&yl(e.right,o,!0,r,i)}}var bl=function(){function e(e){void 0===e&&(e=hl),this._root=null,this._size=0,this._comparator=e}return e.prototype.insert=function(e,t){return this._size++,this._root=ml(e,t,this._root,this._comparator)},e.prototype.add=function(e,t){var n=new dl(e,t);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var r=this._comparator,i=vl(e,this._root,r),o=r(e,i.key);return 0===o?this._root=i:(o<0?(n.left=i.left,n.right=i,i.left=null):o>0&&(n.right=i.right,n.left=i,i.right=null),this._size++,this._root=n),this._root},e.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},e.prototype._remove=function(e,t,n){var r;return null===t?null:0===n(e,(t=vl(e,t,n)).key)?(null===t.left?r=t.right:(r=vl(e,t.left,n)).right=t.right,this._size--,r):t},e.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=vl(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},e.prototype.findStatic=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(0===r)return t;t=r<0?t.left:t.right}return null},e.prototype.find=function(e){return this._root&&(this._root=vl(e,this._root,this._comparator),0!==this._comparator(e,this._root.key))?null:this._root},e.prototype.contains=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(0===r)return!0;t=r<0?t.left:t.right}return!1},e.prototype.forEach=function(e,t){for(var n=this._root,r=[],i=!1;!i;)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),e.call(t,n),n=n.right):i=!0;return this},e.prototype.range=function(e,t,n,r){for(var i=[],o=this._comparator,a=this._root;0!==i.length||a;)if(a)i.push(a),a=a.left;else{if(o((a=i.pop()).key,t)>0)break;if(o(a.key,e)>=0&&n.call(r,a))return this;a=a.right}return this},e.prototype.keys=function(){var e=[];return this.forEach((function(t){var n=t.key;return e.push(n)})),e},e.prototype.values=function(){var e=[];return this.forEach((function(t){var n=t.data;return e.push(n)})),e},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.left;)e=e.left;return e},e.prototype.maxNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.right;)e=e.right;return e},e.prototype.at=function(e){for(var t=this._root,n=!1,r=0,i=[];!n;)if(t)i.push(t),t=t.left;else if(i.length>0){if(t=i.pop(),r===e)return t;r++,t=t.right}else n=!0;return null},e.prototype.next=function(e){var t=this._root,n=null;if(e.right){for(n=e.right;n.left;)n=n.left;return n}for(var r=this._comparator;t;){var i=r(e.key,t.key);if(0===i)break;i<0?(n=t,t=t.left):t=t.right}return n},e.prototype.prev=function(e){var t=this._root,n=null;if(null!==e.left){for(n=e.left;n.right;)n=n.right;return n}for(var r=this._comparator;t;){var i=r(e.key,t.key);if(0===i)break;i<0?t=t.left:(n=t,t=t.right)}return n},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return function(e){for(var t=e,n=[],r=!1,i=new dl(null,null),o=i;!r;)t?(n.push(t),t=t.left):n.length>0?t=(t=o=o.next=n.pop()).right:r=!0;return o.next=null,i.next}(this._root)},e.prototype.load=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1);var r=e.length,i=this._comparator;if(n&&xl(e,t,0,r-1,i),null===this._root)this._root=_l(e,t,0,r),this._size=r;else{var o=function(e,t,n){for(var r=new dl(null,null),i=r,o=e,a=t;null!==o&&null!==a;)n(o.key,a.key)<0?(i.next=o,o=o.next):(i.next=a,a=a.next),i=i.next;return null!==o?i.next=o:null!==a&&(i.next=a),r.next}(this.toList(),function(e,t){for(var n=new dl(null,null),r=n,i=0;i<e.length;i++)r=r.next=new dl(e[i],t[i]);return r.next=null,n.next}(e,t),i);r=this._size+r,this._root=El({head:o},0,r)}return this},e.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){void 0===e&&(e=function(e){return String(e.key)});var t=[];return yl(this._root,"",!0,(function(e){return t.push(e)}),e),t.join("")},e.prototype.update=function(e,t,n){var r=this._comparator,i=gl(e,this._root,r),o=i.left,a=i.right;r(e,t)<0?a=ml(t,n,a,r):o=ml(t,n,o,r),this._root=function(e,t,n){return null===t?e:(null===e||((t=vl(e.key,t,n)).left=e),t)}(o,a,r)},e.prototype.split=function(e){return gl(e,this._root,this._comparator)},e}();function _l(e,t,n,r){var i=r-n;if(i>0){var o=n+Math.floor(i/2),a=e[o],s=t[o],l=new dl(a,s);return l.left=_l(e,t,n,o),l.right=_l(e,t,o+1,r),l}return null}function El(e,t,n){var r=n-t;if(r>0){var i=t+Math.floor(r/2),o=El(e,t,i),a=e.head;return a.left=o,e.head=e.head.next,a.right=El(e,i+1,n),a}return null}function xl(e,t,n,r,i){if(!(n>=r)){for(var o=e[n+r>>1],a=n-1,s=r+1;;){do{a++}while(i(e[a],o)<0);do{s--}while(i(e[s],o)>0);if(a>=s)break;var l=e[a];e[a]=e[s],e[s]=l,l=t[a],t[a]=t[s],t[s]=l}xl(e,t,n,s,i),xl(e,t,s+1,r,i)}}function wl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ol(e,t,n){return t&&Sl(e.prototype,t),n&&Sl(e,n),e}var Cl=function(e,t){return e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y},Al=function(e,t){if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;var n=e.ll.x<t.ll.x?t.ll.x:e.ll.x,r=e.ur.x<t.ur.x?e.ur.x:t.ur.x;return{ll:{x:n,y:e.ll.y<t.ll.y?t.ll.y:e.ll.y},ur:{x:r,y:e.ur.y<t.ur.y?e.ur.y:t.ur.y}}},Pl=Number.EPSILON;void 0===Pl&&(Pl=Math.pow(2,-52));var kl=Pl*Pl,Ml=function(e,t){if(-Pl<e&&e<Pl&&-Pl<t&&t<Pl)return 0;var n=e-t;return n*n<kl*e*t?0:e<t?-1:1},Tl=function(){function e(){wl(this,e),this.reset()}return Ol(e,[{key:"reset",value:function(){this.xRounder=new Ll,this.yRounder=new Ll}},{key:"round",value:function(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}}]),e}(),Ll=function(){function e(){wl(this,e),this.tree=new bl,this.round(0)}return Ol(e,[{key:"round",value:function(e){var t=this.tree.add(e),n=this.tree.prev(t);if(null!==n&&0===Ml(t.key,n.key))return this.tree.remove(e),n.key;var r=this.tree.next(t);return null!==r&&0===Ml(t.key,r.key)?(this.tree.remove(e),r.key):e}}]),e}(),Il=new Tl,Dl=function(e,t){return e.x*t.y-e.y*t.x},Rl=function(e,t){return e.x*t.x+e.y*t.y},Nl=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y},o=Dl(r,i);return Ml(o,0)},jl=function(e){return Math.sqrt(Rl(e,e))},Fl=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return Rl(i,r)/jl(i)/jl(r)},Bl=function(e,t,n){return 0===t.y?null:{x:e.x+t.x/t.y*(n-e.y),y:n}},Ul=function(e,t,n){return 0===t.x?null:{x:n,y:e.y+t.y/t.x*(n-e.x)}},zl=function(){function e(t,n){wl(this,e),void 0===t.events?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=n}return Ol(e,null,[{key:"compare",value:function(t,n){var r=e.comparePoints(t.point,n.point);return 0!==r?r:(t.point!==n.point&&t.link(n),t.isLeft!==n.isLeft?t.isLeft?1:-1:Vl.compare(t.segment,n.segment))}},{key:"comparePoints",value:function(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}}]),Ol(e,[{key:"link",value:function(e){if(e.point===this.point)throw new Error("Tried to link already linked events");for(var t=e.point.events,n=0,r=t.length;n<r;n++){var i=t[n];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var e=this.point.events.length,t=0;t<e;t++){var n=this.point.events[t];if(void 0===n.segment.consumedBy)for(var r=t+1;r<e;r++){var i=this.point.events[r];void 0===i.consumedBy&&n.otherSE.point.events===i.otherSE.point.events&&n.segment.consume(i.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var e=[],t=0,n=this.point.events.length;t<n;t++){var r=this.point.events[t];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&e.push(r)}return e}},{key:"getLeftmostComparator",value:function(e){var t=this,n=new Map,r=function(r){var i,o,a,s,l,u=r.otherSE;n.set(r,{sine:(i=t.point,o=e.point,a=u.point,s={x:o.x-i.x,y:o.y-i.y},l={x:a.x-i.x,y:a.y-i.y},Dl(l,s)/jl(l)/jl(s)),cosine:Fl(t.point,e.point,u.point)})};return function(e,t){n.has(e)||r(e),n.has(t)||r(t);var i=n.get(e),o=i.sine,a=i.cosine,s=n.get(t),l=s.sine,u=s.cosine;return o>=0&&l>=0?a<u?1:a>u?-1:0:o<0&&l<0?a<u?-1:a>u?1:0:l<o?-1:l>o?1:0}}}]),e}(),Hl=0,Vl=function(){function e(t,n,r,i){wl(this,e),this.id=++Hl,this.leftSE=t,t.segment=this,t.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=t,this.rings=r,this.windings=i}return Ol(e,null,[{key:"compare",value:function(e,t){var n=e.leftSE.point.x,r=t.leftSE.point.x,i=e.rightSE.point.x,o=t.rightSE.point.x;if(o<n)return 1;if(i<r)return-1;var a=e.leftSE.point.y,s=t.leftSE.point.y,l=e.rightSE.point.y,u=t.rightSE.point.y;if(n<r){if(s<a&&s<l)return 1;if(s>a&&s>l)return-1;var c=e.comparePoint(t.leftSE.point);if(c<0)return 1;if(c>0)return-1;var f=t.comparePoint(e.rightSE.point);return 0!==f?f:-1}if(n>r){if(a<s&&a<u)return-1;if(a>s&&a>u)return 1;var p=t.comparePoint(e.leftSE.point);if(0!==p)return p;var d=e.comparePoint(t.rightSE.point);return d<0?1:d>0?-1:1}if(a<s)return-1;if(a>s)return 1;if(i<o){var h=t.comparePoint(e.rightSE.point);if(0!==h)return h}if(i>o){var v=e.comparePoint(t.rightSE.point);if(v<0)return 1;if(v>0)return-1}if(i!==o){var m=l-a,g=i-n,y=u-s,b=o-r;if(m>g&&y<b)return 1;if(m<g&&y>b)return-1}return i>o?1:i<o||l<u?-1:l>u?1:e.id<t.id?-1:e.id>t.id?1:0}}]),Ol(e,[{key:"replaceRightSE",value:function(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}},{key:"comparePoint",value:function(e){if(this.isAnEndpoint(e))return 0;var t=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(t.x===n.x)return e.x===t.x?0:e.x<t.x?1:-1;var i=(e.y-t.y)/r.y,o=t.x+i*r.x;if(e.x===o)return 0;var a=(e.x-t.x)/r.x,s=t.y+a*r.y;return e.y===s?0:e.y<s?-1:1}},{key:"getIntersection",value:function(e){var t=this.bbox(),n=e.bbox(),r=Al(t,n);if(null===r)return null;var i=this.leftSE.point,o=this.rightSE.point,a=e.leftSE.point,s=e.rightSE.point,l=Cl(t,a)&&0===this.comparePoint(a),u=Cl(n,i)&&0===e.comparePoint(i),c=Cl(t,s)&&0===this.comparePoint(s),f=Cl(n,o)&&0===e.comparePoint(o);if(u&&l)return f&&!c?o:!f&&c?s:null;if(u)return c&&i.x===s.x&&i.y===s.y?null:i;if(l)return f&&o.x===a.x&&o.y===a.y?null:a;if(f&&c)return null;if(f)return o;if(c)return s;var p=function(e,t,n,r){if(0===t.x)return Ul(n,r,e.x);if(0===r.x)return Ul(e,t,n.x);if(0===t.y)return Bl(n,r,e.y);if(0===r.y)return Bl(e,t,n.y);var i=Dl(t,r);if(0==i)return null;var o={x:n.x-e.x,y:n.y-e.y},a=Dl(o,t)/i,s=Dl(o,r)/i;return{x:(e.x+s*t.x+(n.x+a*r.x))/2,y:(e.y+s*t.y+(n.y+a*r.y))/2}}(i,this.vector(),a,e.vector());return null===p?null:Cl(r,p)?Il.round(p.x,p.y):null}},{key:"split",value:function(t){var n=[],r=void 0!==t.events,i=new zl(t,!0),o=new zl(t,!1),a=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(i);var s=new e(i,a,this.rings.slice(),this.windings.slice());return zl.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),zl.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),o.checkForConsuming()),n}},{key:"swapEvents",value:function(){var e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var t=0,n=this.windings.length;t<n;t++)this.windings[t]*=-1}},{key:"consume",value:function(t){for(var n=this,r=t;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var i=e.compare(n,r);if(0!==i){if(i>0){var o=n;n=r,r=o}if(n.prev===r){var a=n;n=r,r=a}for(var s=0,l=r.rings.length;s<l;s++){var u=r.rings[s],c=r.windings[s],f=n.rings.indexOf(u);-1===f?(n.rings.push(u),n.windings.push(c)):n.windings[f]+=c}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};for(var t=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys,i=0,o=this.rings.length;i<o;i++){var a=this.rings[i],s=this.windings[i],l=t.indexOf(a);-1===l?(t.push(a),n.push(s)):n[l]+=s}for(var u=[],c=[],f=0,p=t.length;f<p;f++)if(0!==n[f]){var d=t[f],h=d.poly;if(-1===c.indexOf(h))if(d.isExterior)u.push(h);else{-1===c.indexOf(h)&&c.push(h);var v=u.indexOf(d.poly);-1!==v&&u.splice(v,1)}}for(var m=0,g=u.length;m<g;m++){var y=u[m].multiPoly;-1===r.indexOf(y)&&r.push(y)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch($l.type){case"union":var n=0===e.length,r=0===t.length;this._isInResult=n!==r;break;case"intersection":var i,o;e.length<t.length?(i=e.length,o=t.length):(i=t.length,o=e.length),this._isInResult=o===$l.numMultiPolys&&i<o;break;case"xor":var a=Math.abs(e.length-t.length);this._isInResult=a%2==1;break;case"difference":var s=function(e){return 1===e.length&&e[0].isSubject};this._isInResult=s(e)!==s(t);break;default:throw new Error("Unrecognized operation type found ".concat($l.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,n,r){var i,o,a,s=zl.comparePoints(t,n);if(s<0)i=t,o=n,a=1;else{if(!(s>0))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));i=n,o=t,a=-1}return new e(new zl(i,!0),new zl(o,!1),[r],[a])}}]),e}(),Gl=function(){function e(t,n,r){if(wl(this,e),!Array.isArray(t)||0===t.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=r,this.segments=[],"number"!=typeof t[0][0]||"number"!=typeof t[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var i=Il.round(t[0][0],t[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var o=i,a=1,s=t.length;a<s;a++){if("number"!=typeof t[a][0]||"number"!=typeof t[a][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var l=Il.round(t[a][0],t[a][1]);l.x===o.x&&l.y===o.y||(this.segments.push(Vl.fromRing(o,l,this)),l.x<this.bbox.ll.x&&(this.bbox.ll.x=l.x),l.y<this.bbox.ll.y&&(this.bbox.ll.y=l.y),l.x>this.bbox.ur.x&&(this.bbox.ur.x=l.x),l.y>this.bbox.ur.y&&(this.bbox.ur.y=l.y),o=l)}i.x===o.x&&i.y===o.y||this.segments.push(Vl.fromRing(o,i,this))}return Ol(e,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,n=this.segments.length;t<n;t++){var r=this.segments[t];e.push(r.leftSE),e.push(r.rightSE)}return e}}]),e}(),Wl=function(){function e(t,n){if(wl(this,e),!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Gl(t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var r=1,i=t.length;r<i;r++){var o=new Gl(t[r],this,!1);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.interiorRings.push(o)}this.multiPoly=n}return Ol(e,[{key:"getSweepEvents",value:function(){for(var e=this.exteriorRing.getSweepEvents(),t=0,n=this.interiorRings.length;t<n;t++)for(var r=this.interiorRings[t].getSweepEvents(),i=0,o=r.length;i<o;i++)e.push(r[i]);return e}}]),e}(),ql=function(){function e(t,n){if(wl(this,e),!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof t[0][0][0]&&(t=[t])}catch(e){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var r=0,i=t.length;r<i;r++){var o=new Wl(t[r],this);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.polys.push(o)}this.isSubject=n}return Ol(e,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,n=this.polys.length;t<n;t++)for(var r=this.polys[t].getSweepEvents(),i=0,o=r.length;i<o;i++)e.push(r[i]);return e}}]),e}(),Yl=function(){function e(t){wl(this,e),this.events=t;for(var n=0,r=t.length;n<r;n++)t[n].segment.ringOut=this;this.poly=null}return Ol(e,null,[{key:"factory",value:function(t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];if(o.isInResult()&&!o.ringOut){for(var a=null,s=o.leftSE,l=o.rightSE,u=[s],c=s.point,f=[];a=s,s=l,u.push(s),s.point!==c;)for(;;){var p=s.getAvailableLinkedEvents();if(0===p.length){var d=u[0].point,h=u[u.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(d.x,",")+" ".concat(d.y,"]. Last matching segment found ends at")+" [".concat(h.x,", ").concat(h.y,"]."))}if(1===p.length){l=p[0].otherSE;break}for(var v=null,m=0,g=f.length;m<g;m++)if(f[m].point===s.point){v=m;break}if(null===v){f.push({index:u.length,point:s.point});var y=s.getLeftmostComparator(a);l=p.sort(y)[0].otherSE;break}var b=f.splice(v)[0],_=u.splice(b.index);_.unshift(_[0].otherSE),n.push(new e(_.reverse()))}n.push(new e(u))}}return n}}]),Ol(e,[{key:"getGeom",value:function(){for(var e=this.events[0].point,t=[e],n=1,r=this.events.length-1;n<r;n++){var i=this.events[n].point,o=this.events[n+1].point;0!==Nl(i,e,o)&&(t.push(i),e=i)}if(1===t.length)return null;var a=t[0],s=t[1];0===Nl(a,e,s)&&t.shift(),t.push(t[0]);for(var l=this.isExteriorRing()?1:-1,u=this.isExteriorRing()?0:t.length-1,c=this.isExteriorRing()?t.length:-1,f=[],p=u;p!=c;p+=l)f.push([t[p].x,t[p].y]);return f}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var e=this.events[0],t=1,n=this.events.length;t<n;t++){var r=this.events[t];zl.compare(e,r)>0&&(e=r)}for(var i=e.segment.prevInResult(),o=i?i.prevInResult():null;;){if(!i)return null;if(!o)return i.ringOut;if(o.ringOut!==i.ringOut)return o.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}]),e}(),Xl=function(){function e(t){wl(this,e),this.exteriorRing=t,t.poly=this,this.interiorRings=[]}return Ol(e,[{key:"addInterior",value:function(e){this.interiorRings.push(e),e.poly=this}},{key:"getGeom",value:function(){var e=[this.exteriorRing.getGeom()];if(null===e[0])return null;for(var t=0,n=this.interiorRings.length;t<n;t++){var r=this.interiorRings[t].getGeom();null!==r&&e.push(r)}return e}}]),e}(),Kl=function(){function e(t){wl(this,e),this.rings=t,this.polys=this._composePolys(t)}return Ol(e,[{key:"getGeom",value:function(){for(var e=[],t=0,n=this.polys.length;t<n;t++){var r=this.polys[t].getGeom();null!==r&&e.push(r)}return e}},{key:"_composePolys",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(!i.poly)if(i.isExteriorRing())t.push(new Xl(i));else{var o=i.enclosingRing();o.poly||t.push(new Xl(o)),o.poly.addInterior(i)}}return t}}]),e}(),Zl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vl.compare;wl(this,e),this.queue=t,this.tree=new bl(n),this.segments=[]}return Ol(e,[{key:"process",value:function(e){var t=e.segment,n=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(t),n;var r=e.isLeft?this.tree.insert(t):this.tree.find(t);if(!r)throw new Error("Unable to find segment #".concat(t.id," ")+"[".concat(t.leftSE.point.x,", ").concat(t.leftSE.point.y,"] -> ")+"[".concat(t.rightSE.point.x,", ").concat(t.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var i=r,o=r,a=void 0,s=void 0;void 0===a;)null===(i=this.tree.prev(i))?a=null:void 0===i.key.consumedBy&&(a=i.key);for(;void 0===s;)null===(o=this.tree.next(o))?s=null:void 0===o.key.consumedBy&&(s=o.key);if(e.isLeft){var l=null;if(a){var u=a.getIntersection(t);if(null!==u&&(t.isAnEndpoint(u)||(l=u),!a.isAnEndpoint(u)))for(var c=this._splitSafely(a,u),f=0,p=c.length;f<p;f++)n.push(c[f])}var d=null;if(s){var h=s.getIntersection(t);if(null!==h&&(t.isAnEndpoint(h)||(d=h),!s.isAnEndpoint(h)))for(var v=this._splitSafely(s,h),m=0,g=v.length;m<g;m++)n.push(v[m])}if(null!==l||null!==d){var y=null;y=null===l?d:null===d||zl.comparePoints(l,d)<=0?l:d,this.queue.remove(t.rightSE),n.push(t.rightSE);for(var b=t.split(y),_=0,E=b.length;_<E;_++)n.push(b[_])}n.length>0?(this.tree.remove(t),n.push(e)):(this.segments.push(t),t.prev=a)}else{if(a&&s){var x=a.getIntersection(s);if(null!==x){if(!a.isAnEndpoint(x))for(var w=this._splitSafely(a,x),S=0,O=w.length;S<O;S++)n.push(w[S]);if(!s.isAnEndpoint(x))for(var C=this._splitSafely(s,x),A=0,P=C.length;A<P;A++)n.push(C[A])}}this.tree.remove(t)}return n}},{key:"_splitSafely",value:function(e,t){this.tree.remove(e);var n=e.rightSE;this.queue.remove(n);var r=e.split(t);return r.push(n),void 0===e.consumedBy&&this.tree.insert(e),r}}]),e}(),Ql="undefined"!=typeof e&&Object({NODE_ENV:"production"}).POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Jl="undefined"!=typeof e&&Object({NODE_ENV:"production"}).POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,$l=new(function(){function e(){wl(this,e)}return Ol(e,[{key:"run",value:function(e,t,n){$l.type=e,Il.reset();for(var r=[new ql(t,!0)],i=0,o=n.length;i<o;i++)r.push(new ql(n[i],!1));if($l.numMultiPolys=r.length,"difference"===$l.type)for(var a=r[0],s=1;s<r.length;)null!==Al(r[s].bbox,a.bbox)?s++:r.splice(s,1);if("intersection"===$l.type)for(var l=0,u=r.length;l<u;l++)for(var c=r[l],f=l+1,p=r.length;f<p;f++)if(null===Al(c.bbox,r[f].bbox))return[];for(var d=new bl(zl.compare),h=0,v=r.length;h<v;h++)for(var m=r[h].getSweepEvents(),g=0,y=m.length;g<y;g++)if(d.insert(m[g]),d.size>Ql)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var b=new Zl(d),_=d.size,E=d.pop();E;){var x=E.key;if(d.size===_){var w=x.segment;throw new Error("Unable to pop() ".concat(x.isLeft?"left":"right"," SweepEvent ")+"[".concat(x.point.x,", ").concat(x.point.y,"] from segment #").concat(w.id," ")+"[".concat(w.leftSE.point.x,", ").concat(w.leftSE.point.y,"] -> ")+"[".concat(w.rightSE.point.x,", ").concat(w.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(d.size>Ql)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(b.segments.length>Jl)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var S=b.process(x),O=0,C=S.length;O<C;O++){var A=S[O];void 0===A.consumedBy&&d.insert(A)}_=d.size,E=d.pop()}Il.reset();var P=Yl.factory(b.segments);return new Kl(P).getGeom()}}]),e}()),eu={union:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $l.run("union",e,n)},intersection:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $l.run("intersection",e,n)},xor:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $l.run("xor",e,n)},difference:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $l.run("difference",e,n)}};"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(null==this)throw new TypeError(this+" is not an object");var t=Object(this),n=Math.max(Math.min(t.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)t[r]=e,++r;return t},writable:!0}),Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(e){return e!=e},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var tu=function(){};tu.prototype.interfaces_=function(){return[]},tu.prototype.getClass=function(){return tu},tu.prototype.equalsWithTolerance=function(e,t,n){return Math.abs(e-t)<=n};var nu=function(e){function t(t){e.call(this,t),this.name="IllegalArgumentException",this.message=t,this.stack=(new e).stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),ru=function(){},iu={MAX_VALUE:{configurable:!0}};ru.isNaN=function(e){return Number.isNaN(e)},ru.doubleToLongBits=function(e){return e},ru.longBitsToDouble=function(e){return e},ru.isInfinite=function(e){return!Number.isFinite(e)},iu.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(ru,iu);var ou=function(){},au=function(){},su=function(){};function lu(){}var uu=function e(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.z=t.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},cu={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};uu.prototype.setOrdinate=function(e,t){switch(e){case uu.X:this.x=t;break;case uu.Y:this.y=t;break;case uu.Z:this.z=t;break;default:throw new nu("Invalid ordinate index: "+e)}},uu.prototype.equals2D=function(){if(1===arguments.length){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!tu.equalsWithTolerance(this.x,t.x,n)&&!!tu.equalsWithTolerance(this.y,t.y,n)}},uu.prototype.getOrdinate=function(e){switch(e){case uu.X:return this.x;case uu.Y:return this.y;case uu.Z:return this.z}throw new nu("Invalid ordinate index: "+e)},uu.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||ru.isNaN(this.z))&&ru.isNaN(e.z)},uu.prototype.equals=function(e){return e instanceof uu&&this.equals2D(e)},uu.prototype.equalInZ=function(e,t){return tu.equalsWithTolerance(this.z,e.z,t)},uu.prototype.compareTo=function(e){var t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},uu.prototype.clone=function(){},uu.prototype.copy=function(){return new uu(this)},uu.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},uu.prototype.distance3D=function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return Math.sqrt(t*t+n*n+r*r)},uu.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},uu.prototype.hashCode=function(){var e=17;return 37*(e=37*e+uu.hashCode(this.x))+uu.hashCode(this.y)},uu.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z},uu.prototype.interfaces_=function(){return[ou,au,lu]},uu.prototype.getClass=function(){return uu},uu.hashCode=function(){if(1===arguments.length){var e=arguments[0],t=ru.doubleToLongBits(e);return Math.trunc((t^t)>>>32)}},cu.DimensionalComparator.get=function(){return fu},cu.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},cu.NULL_ORDINATE.get=function(){return ru.NaN},cu.X.get=function(){return 0},cu.Y.get=function(){return 1},cu.Z.get=function(){return 2},Object.defineProperties(uu,cu);var fu=function(e){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new nu("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}};fu.prototype.compare=function(e,t){var n=e,r=t,i=fu.compare(n.x,r.x);if(0!==i)return i;var o=fu.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:fu.compare(n.z,r.z)},fu.prototype.interfaces_=function(){return[su]},fu.prototype.getClass=function(){return fu},fu.compare=function(e,t){return e<t?-1:e>t?1:ru.isNaN(e)?ru.isNaN(t)?0:-1:ru.isNaN(t)?1:0};var pu=function(){};pu.prototype.create=function(){},pu.prototype.interfaces_=function(){return[]},pu.prototype.getClass=function(){return pu};var du=function(){},hu={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};du.prototype.interfaces_=function(){return[]},du.prototype.getClass=function(){return du},du.toLocationSymbol=function(e){switch(e){case du.EXTERIOR:return"e";case du.BOUNDARY:return"b";case du.INTERIOR:return"i";case du.NONE:return"-"}throw new nu("Unknown location value: "+e)},hu.INTERIOR.get=function(){return 0},hu.BOUNDARY.get=function(){return 1},hu.EXTERIOR.get=function(){return 2},hu.NONE.get=function(){return-1},Object.defineProperties(du,hu);var vu=function(e,t){return e.interfaces_&&e.interfaces_().indexOf(t)>-1},mu=function(){},gu={LOG_10:{configurable:!0}};mu.prototype.interfaces_=function(){return[]},mu.prototype.getClass=function(){return mu},mu.log10=function(e){var t=Math.log(e);return ru.isInfinite(t)||ru.isNaN(t)?t:t/mu.LOG_10},mu.min=function(e,t,n,r){var i=e;return t<i&&(i=t),n<i&&(i=n),r<i&&(i=r),i},mu.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1],n=arguments[2];return e<t?t:e>n?n:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},mu.wrap=function(e,t){return e<0?t- -e%t:e%t},mu.max=function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=e;return t>r&&(r=t),n>r&&(r=n),r}if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],l=i;return o>l&&(l=o),a>l&&(l=a),s>l&&(l=s),l}},mu.average=function(e,t){return(e+t)/2},gu.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(mu,gu);var yu=function(e){this.str=e};yu.prototype.append=function(e){this.str+=e},yu.prototype.setCharAt=function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)},yu.prototype.toString=function(e){return this.str};var bu=function(e){this.value=e};bu.prototype.intValue=function(){return this.value},bu.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},bu.isNaN=function(e){return Number.isNaN(e)};var _u=function(){};_u.isWhitespace=function(e){return e<=32&&e>=0||127===e},_u.toUpperCase=function(e){return e.toUpperCase()};var Eu=function e(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var r=arguments[0];e.call(this,e.parse(r))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}},xu={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Eu.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo},Eu.prototype.extractSignificantDigits=function(e,t){var n=this.abs(),r=Eu.magnitude(n._hi),i=Eu.TEN.pow(r);(n=n.divide(i)).gt(Eu.TEN)?(n=n.divide(Eu.TEN),r+=1):n.lt(Eu.ONE)&&(n=n.multiply(Eu.TEN),r-=1);for(var o=r+1,a=new yu,s=Eu.MAX_PRINT_DIGITS-1,l=0;l<=s;l++){e&&l===o&&a.append(".");var u=Math.trunc(n._hi);if(u<0)break;var c=!1,f=0;u>9?(c=!0,f="9"):f="0"+u,a.append(f),n=n.subtract(Eu.valueOf(u)).multiply(Eu.TEN),c&&n.selfAdd(Eu.TEN);var p=!0,d=Eu.magnitude(n._hi);if(d<0&&Math.abs(d)>=s-l&&(p=!1),!p)break}return t[0]=r,a.toString()},Eu.prototype.sqr=function(){return this.multiply(this)},Eu.prototype.doubleValue=function(){return this._hi+this._lo},Eu.prototype.subtract=function(){if(arguments[0]instanceof Eu){var e=arguments[0];return this.add(e.negate())}if("number"==typeof arguments[0]){var t=arguments[0];return this.add(-t)}},Eu.prototype.equals=function(){if(1===arguments.length){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}},Eu.prototype.isZero=function(){return 0===this._hi&&0===this._lo},Eu.prototype.selfSubtract=function(){if(arguments[0]instanceof Eu){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t,0)}},Eu.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Eu.prototype.min=function(e){return this.le(e)?this:e},Eu.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof Eu){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfDivide(t,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,l=null,u=null,c=null,f=null;return l=this._hi/n,f=(i=(u=Eu.SPLIT*l)-(i=u-l))*(a=(f=Eu.SPLIT*n)-(a=f-n))-(c=l*n)+i*(s=n-a)+(o=l-i)*a+o*s,f=l+(u=(this._hi-c-f+this._lo-l*r)/n),this._hi=f,this._lo=l-f+u,this}},Eu.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Eu.prototype.divide=function(){if(arguments[0]instanceof Eu){var e=arguments[0],t=null,n=null,r=null,i=null,o=null,a=null,s=null,l=null;n=(o=this._hi/e._hi)-(t=(a=Eu.SPLIT*o)-(t=a-o)),l=t*(r=(l=Eu.SPLIT*e._hi)-(r=l-e._hi))-(s=o*e._hi)+t*(i=e._hi-r)+n*r+n*i;var u=l=o+(a=(this._hi-s-l+this._lo-o*e._lo)/e._hi),c=o-l+a;return new Eu(u,c)}if("number"==typeof arguments[0]){var f=arguments[0];return ru.isNaN(f)?Eu.createNaN():Eu.copy(this).selfDivide(f,0)}},Eu.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo},Eu.prototype.pow=function(e){if(0===e)return Eu.valueOf(1);var t=new Eu(this),n=Eu.valueOf(1),r=Math.abs(e);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(t),(r/=2)>0&&(t=t.sqr());else n=t;return e<0?n.reciprocal():n},Eu.prototype.ceil=function(){if(this.isNaN())return Eu.NaN;var e=Math.ceil(this._hi),t=0;return e===this._hi&&(t=Math.ceil(this._lo)),new Eu(e,t)},Eu.prototype.compareTo=function(e){var t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},Eu.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Eu.prototype.setValue=function(){if(arguments[0]instanceof Eu){var e=arguments[0];return this.init(e),this}if("number"==typeof arguments[0]){var t=arguments[0];return this.init(t),this}},Eu.prototype.max=function(e){return this.ge(e)?this:e},Eu.prototype.sqrt=function(){if(this.isZero())return Eu.valueOf(0);if(this.isNegative())return Eu.NaN;var e=1/Math.sqrt(this._hi),t=this._hi*e,n=Eu.valueOf(t),r=this.subtract(n.sqr())._hi*(.5*e);return n.add(r)},Eu.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof Eu){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0],n=null,r=null,i=null,o=null,a=null,s=null;return o=(i=this._hi+t)-(a=i-this._hi),r=(s=(o=t-a+(this._hi-o))+this._lo)+(i-(n=i+s)),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var l=arguments[0],u=arguments[1],c=null,f=null,p=null,d=null,h=null,v=null,m=null;d=this._hi+l,f=this._lo+u,h=d-(v=d-this._hi),p=f-(m=f-this._lo);var g=(c=d+(v=(h=l-v+(this._hi-h))+f))+(v=(p=u-m+(this._lo-p))+(v+(d-c))),y=v+(c-g);return this._hi=g,this._lo=y,this}},Eu.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof Eu){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfMultiply(t,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,l=null,u=null;i=(l=Eu.SPLIT*this._hi)-this._hi,u=Eu.SPLIT*n,i=l-i,o=this._hi-i,a=u-n;var c=(l=this._hi*n)+(u=i*(a=u-a)-l+i*(s=n-a)+o*a+o*s+(this._hi*r+this._lo*n)),f=u+(i=l-c);return this._hi=c,this._lo=f,this}},Eu.prototype.selfSqr=function(){return this.selfMultiply(this)},Eu.prototype.floor=function(){if(this.isNaN())return Eu.NaN;var e=Math.floor(this._hi),t=0;return e===this._hi&&(t=Math.floor(this._lo)),new Eu(e,t)},Eu.prototype.negate=function(){return this.isNaN()?this:new Eu(-this._hi,-this._lo)},Eu.prototype.clone=function(){},Eu.prototype.multiply=function(){if(arguments[0]instanceof Eu){var e=arguments[0];return e.isNaN()?Eu.createNaN():Eu.copy(this).selfMultiply(e)}if("number"==typeof arguments[0]){var t=arguments[0];return ru.isNaN(t)?Eu.createNaN():Eu.copy(this).selfMultiply(t,0)}},Eu.prototype.isNaN=function(){return ru.isNaN(this._hi)},Eu.prototype.intValue=function(){return Math.trunc(this._hi)},Eu.prototype.toString=function(){var e=Eu.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()},Eu.prototype.toStandardNotation=function(){var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!0,t),r=t[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+Eu.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+Eu.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},Eu.prototype.reciprocal=function(){var e,t,n,r,i=null,o=null,a=null,s=null;e=(n=1/this._hi)-(i=(a=Eu.SPLIT*n)-(i=a-n)),o=(s=Eu.SPLIT*this._hi)-this._hi;var l=n+(a=(1-(r=n*this._hi)-(s=i*(o=s-o)-r+i*(t=this._hi-o)+e*o+e*t)-n*this._lo)/this._hi);return new Eu(l,n-l+a)},Eu.prototype.toSciNotation=function(){if(this.isZero())return Eu.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!1,t),r=Eu.SCI_NOT_EXPONENT_CHAR+t[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},Eu.prototype.abs=function(){return this.isNaN()?Eu.NaN:this.isNegative()?this.negate():new Eu(this)},Eu.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},Eu.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo},Eu.prototype.add=function(){if(arguments[0]instanceof Eu){var e=arguments[0];return Eu.copy(this).selfAdd(e)}if("number"==typeof arguments[0]){var t=arguments[0];return Eu.copy(this).selfAdd(t)}},Eu.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof Eu){var t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},Eu.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo},Eu.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},Eu.prototype.trunc=function(){return this.isNaN()?Eu.NaN:this.isPositive()?this.floor():this.ceil()},Eu.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Eu.prototype.interfaces_=function(){return[lu,ou,au]},Eu.prototype.getClass=function(){return Eu},Eu.sqr=function(e){return Eu.valueOf(e).selfMultiply(e)},Eu.valueOf=function(){if("string"==typeof arguments[0]){var e=arguments[0];return Eu.parse(e)}if("number"==typeof arguments[0]){var t=arguments[0];return new Eu(t)}},Eu.sqrt=function(e){return Eu.valueOf(e).sqrt()},Eu.parse=function(e){for(var t=0,n=e.length;_u.isWhitespace(e.charAt(t));)t++;var r=!1;if(t<n){var i=e.charAt(t);"-"!==i&&"+"!==i||(t++,"-"===i&&(r=!0))}for(var o=new Eu,a=0,s=0,l=0;!(t>=n);){var u=e.charAt(t);if(t++,_u.isDigit(u)){var c=u-"0";o.selfMultiply(Eu.TEN),o.selfAdd(c),a++}else{if("."!==u){if("e"===u||"E"===u){var f=e.substring(t);try{l=bu.parseInt(f)}catch(t){throw t instanceof Error?new Error("Invalid exponent "+f+" in string "+e):t}break}throw new Error("Unexpected character '"+u+"' at position "+t+" in string "+e)}s=a}}var p=o,d=a-s-l;if(0===d)p=o;else if(d>0){var h=Eu.TEN.pow(d);p=o.divide(h)}else if(d<0){var v=Eu.TEN.pow(-d);p=o.multiply(v)}return r?p.negate():p},Eu.createNaN=function(){return new Eu(ru.NaN,ru.NaN)},Eu.copy=function(e){return new Eu(e)},Eu.magnitude=function(e){var t=Math.abs(e),n=Math.log(t)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=t&&(r+=1),r},Eu.stringOfChar=function(e,t){for(var n=new yu,r=0;r<t;r++)n.append(e);return n.toString()},xu.PI.get=function(){return new Eu(3.141592653589793,12246467991473532e-32)},xu.TWO_PI.get=function(){return new Eu(6.283185307179586,24492935982947064e-32)},xu.PI_2.get=function(){return new Eu(1.5707963267948966,6123233995736766e-32)},xu.E.get=function(){return new Eu(2.718281828459045,14456468917292502e-32)},xu.NaN.get=function(){return new Eu(ru.NaN,ru.NaN)},xu.EPS.get=function(){return 123259516440783e-46},xu.SPLIT.get=function(){return 134217729},xu.MAX_PRINT_DIGITS.get=function(){return 32},xu.TEN.get=function(){return Eu.valueOf(10)},xu.ONE.get=function(){return Eu.valueOf(1)},xu.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},xu.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Eu,xu);var wu=function(){},Su={DP_SAFE_EPSILON:{configurable:!0}};wu.prototype.interfaces_=function(){return[]},wu.prototype.getClass=function(){return wu},wu.orientationIndex=function(e,t,n){var r=wu.orientationIndexFilter(e,t,n);if(r<=1)return r;var i=Eu.valueOf(t.x).selfAdd(-e.x),o=Eu.valueOf(t.y).selfAdd(-e.y),a=Eu.valueOf(n.x).selfAdd(-t.x),s=Eu.valueOf(n.y).selfAdd(-t.y);return i.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},wu.signOfDet2x2=function(e,t,n,r){return e.multiply(r).selfSubtract(t.multiply(n)).signum()},wu.intersection=function(e,t,n,r){var i=Eu.valueOf(r.y).selfSubtract(n.y).selfMultiply(Eu.valueOf(t.x).selfSubtract(e.x)),o=Eu.valueOf(r.x).selfSubtract(n.x).selfMultiply(Eu.valueOf(t.y).selfSubtract(e.y)),a=i.subtract(o),s=Eu.valueOf(r.x).selfSubtract(n.x).selfMultiply(Eu.valueOf(e.y).selfSubtract(n.y)),l=Eu.valueOf(r.y).selfSubtract(n.y).selfMultiply(Eu.valueOf(e.x).selfSubtract(n.x)),u=s.subtract(l).selfDivide(a).doubleValue(),c=Eu.valueOf(e.x).selfAdd(Eu.valueOf(t.x).selfSubtract(e.x).selfMultiply(u)).doubleValue(),f=Eu.valueOf(t.x).selfSubtract(e.x).selfMultiply(Eu.valueOf(e.y).selfSubtract(n.y)),p=Eu.valueOf(t.y).selfSubtract(e.y).selfMultiply(Eu.valueOf(e.x).selfSubtract(n.x)),d=f.subtract(p).selfDivide(a).doubleValue(),h=Eu.valueOf(n.y).selfAdd(Eu.valueOf(r.y).selfSubtract(n.y).selfMultiply(d)).doubleValue();return new uu(c,h)},wu.orientationIndexFilter=function(e,t,n){var r=null,i=(e.x-n.x)*(t.y-n.y),o=(e.y-n.y)*(t.x-n.x),a=i-o;if(i>0){if(o<=0)return wu.signum(a);r=i+o}else{if(!(i<0))return wu.signum(a);if(o>=0)return wu.signum(a);r=-i-o}var s=wu.DP_SAFE_EPSILON*r;return a>=s||-a>=s?wu.signum(a):2},wu.signum=function(e){return e>0?1:e<0?-1:0},Su.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(wu,Su);var Ou=function(){},Cu={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Cu.X.get=function(){return 0},Cu.Y.get=function(){return 1},Cu.Z.get=function(){return 2},Cu.M.get=function(){return 3},Ou.prototype.setOrdinate=function(e,t,n){},Ou.prototype.size=function(){},Ou.prototype.getOrdinate=function(e,t){},Ou.prototype.getCoordinate=function(){},Ou.prototype.getCoordinateCopy=function(e){},Ou.prototype.getDimension=function(){},Ou.prototype.getX=function(e){},Ou.prototype.clone=function(){},Ou.prototype.expandEnvelope=function(e){},Ou.prototype.copy=function(){},Ou.prototype.getY=function(e){},Ou.prototype.toCoordinateArray=function(){},Ou.prototype.interfaces_=function(){return[au]},Ou.prototype.getClass=function(){return Ou},Object.defineProperties(Ou,Cu);var Au=function(){},Pu=function(e){function t(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Au),ku=function(){};ku.arraycopy=function(e,t,n,r,i){for(var o=0,a=t;a<t+i;a++)n[r+o]=e[a],o++},ku.getProperty=function(e){return{"line.separator":"\n"}[e]};var Mu=function e(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof uu&&arguments[1]instanceof uu){var a=arguments[0],s=arguments[1];this.x=a.y-s.y,this.y=s.x-a.x,this.w=a.x*s.y-s.x*a.y}}else if(3===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2];this.x=l,this.y=u,this.w=c}else if(4===arguments.length){var f=arguments[0],p=arguments[1],d=arguments[2],h=arguments[3],v=f.y-p.y,m=p.x-f.x,g=f.x*p.y-p.x*f.y,y=d.y-h.y,b=h.x-d.x,_=d.x*h.y-h.x*d.y;this.x=m*_-b*g,this.y=y*g-v*_,this.w=v*b-y*m}};Mu.prototype.getY=function(){var e=this.y/this.w;if(ru.isNaN(e)||ru.isInfinite(e))throw new Pu;return e},Mu.prototype.getX=function(){var e=this.x/this.w;if(ru.isNaN(e)||ru.isInfinite(e))throw new Pu;return e},Mu.prototype.getCoordinate=function(){var e=new uu;return e.x=this.getX(),e.y=this.getY(),e},Mu.prototype.interfaces_=function(){return[]},Mu.prototype.getClass=function(){return Mu},Mu.intersection=function(e,t,n,r){var i=e.y-t.y,o=t.x-e.x,a=e.x*t.y-t.x*e.y,s=n.y-r.y,l=r.x-n.x,u=n.x*r.y-r.x*n.y,c=i*l-s*o,f=(o*u-l*a)/c,p=(s*a-i*u)/c;if(ru.isNaN(f)||ru.isInfinite(f)||ru.isNaN(p)||ru.isInfinite(p))throw new Pu;return new uu(f,p)};var Tu=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof uu){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],l=arguments[3];this.init(o,a,s,l)}},Lu={serialVersionUID:{configurable:!0}};Tu.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Tu.prototype.equals=function(e){if(!(e instanceof Tu))return!1;var t=e;return this.isNull()?t.isNull():this._maxx===t.getMaxX()&&this._maxy===t.getMaxY()&&this._minx===t.getMinX()&&this._miny===t.getMinY()},Tu.prototype.intersection=function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new Tu;var t=this._minx>e._minx?this._minx:e._minx,n=this._miny>e._miny?this._miny:e._miny,r=this._maxx<e._maxx?this._maxx:e._maxx,i=this._maxy<e._maxy?this._maxy:e._maxy;return new Tu(t,r,n,i)},Tu.prototype.isNull=function(){return this._maxx<this._minx},Tu.prototype.getMaxX=function(){return this._maxx},Tu.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof uu){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof Tu){var t=arguments[0];return!this.isNull()&&!t.isNull()&&t.getMinX()>=this._minx&&t.getMaxX()<=this._maxx&&t.getMinY()>=this._miny&&t.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},Tu.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Tu){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof uu){var t=arguments[0];return this.intersects(t.x,t.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},Tu.prototype.getMinY=function(){return this._miny},Tu.prototype.getMinX=function(){return this._minx},Tu.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof uu){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof Tu){var t=arguments[0];if(t.isNull())return null;this.isNull()?(this._minx=t.getMinX(),this._maxx=t.getMaxX(),this._miny=t.getMinY(),this._maxy=t.getMaxY()):(t._minx<this._minx&&(this._minx=t._minx),t._maxx>this._maxx&&(this._maxx=t._maxx),t._miny<this._miny&&(this._miny=t._miny),t._maxy>this._maxy&&(this._maxy=t._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},Tu.prototype.minExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t},Tu.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Tu.prototype.compareTo=function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0},Tu.prototype.translate=function(e,t){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)},Tu.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Tu.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Tu.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Tu.prototype.maxExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t},Tu.prototype.expandBy=function(){if(1===arguments.length){var e=arguments[0];this.expandBy(e,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Tu.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Tu){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof uu){var t=arguments[0];return this.covers(t)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},Tu.prototype.centre=function(){return this.isNull()?null:new uu((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Tu.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof uu){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof Tu){var t=arguments[0];this._minx=t._minx,this._maxx=t._maxx,this._miny=t._miny,this._maxy=t._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},Tu.prototype.getMaxY=function(){return this._maxy},Tu.prototype.distance=function(e){if(this.intersects(e))return 0;var t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);var n=0;return this._maxy<e._miny?n=e._miny-this._maxy:this._miny>e._maxy&&(n=this._miny-e._maxy),0===t?n:0===n?t:Math.sqrt(t*t+n*n)},Tu.prototype.hashCode=function(){var e=17;return 37*(e=37*(e=37*(e=37*e+uu.hashCode(this._minx))+uu.hashCode(this._maxx))+uu.hashCode(this._miny))+uu.hashCode(this._maxy)},Tu.prototype.interfaces_=function(){return[ou,lu]},Tu.prototype.getClass=function(){return Tu},Tu.intersects=function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2];return n.x>=(e.x<t.x?e.x:t.x)&&n.x<=(e.x>t.x?e.x:t.x)&&n.y>=(e.y<t.y?e.y:t.y)&&n.y<=(e.y>t.y?e.y:t.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),l=Math.max(o.x,a.x),u=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(u>l)&&!(c<s)&&(s=Math.min(o.y,a.y),l=Math.max(o.y,a.y),u=Math.min(r.y,i.y),c=Math.max(r.y,i.y),!(u>l)&&!(c<s))}},Lu.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Tu,Lu);var Iu={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Du=function(e){this.geometryFactory=e||new _f};Du.prototype.read=function(e){var t,n,r;e=e.replace(/[\n\r]/g," ");var i=Iu.typeStr.exec(e);if(-1!==e.search("EMPTY")&&((i=Iu.emptyTypeStr.exec(e))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],Nu[n]&&(t=Nu[n].apply(this,[r]))),void 0===t)throw new Error("Could not parse WKT "+e);return t},Du.prototype.write=function(e){return this.extractGeometry(e)},Du.prototype.extractGeometry=function(e){var t=e.getGeometryType().toLowerCase();if(!Ru[t])return null;var n=t.toUpperCase();return e.isEmpty()?n+" EMPTY":n+"("+Ru[t].apply(this,[e])+")"};var Ru={coordinate:function(e){return e.x+" "+e.y},point:function(e){return Ru.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+Ru.point.apply(this,[e._geometries[n]])+")");return t.join(",")},linestring:function(e){for(var t=[],n=0,r=e._points._coordinates.length;n<r;++n)t.push(Ru.coordinate.apply(this,[e._points._coordinates[n]]));return t.join(",")},linearring:function(e){for(var t=[],n=0,r=e._points._coordinates.length;n<r;++n)t.push(Ru.coordinate.apply(this,[e._points._coordinates[n]]));return t.join(",")},multilinestring:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+Ru.linestring.apply(this,[e._geometries[n]])+")");return t.join(",")},polygon:function(e){var t=[];t.push("("+Ru.linestring.apply(this,[e._shell])+")");for(var n=0,r=e._holes.length;n<r;++n)t.push("("+Ru.linestring.apply(this,[e._holes[n]])+")");return t.join(",")},multipolygon:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+Ru.polygon.apply(this,[e._geometries[n]])+")");return t.join(",")},geometrycollection:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push(this.extractGeometry(e._geometries[n]));return t.join(",")}},Nu={point:function(e){if(void 0===e)return this.geometryFactory.createPoint();var t=e.trim().split(Iu.spaces);return this.geometryFactory.createPoint(new uu(Number.parseFloat(t[0]),Number.parseFloat(t[1])))},multipoint:function(e){var t;if(void 0===e)return this.geometryFactory.createMultiPoint();for(var n=e.trim().split(","),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace(Iu.trimParens,"$1"),r.push(Nu.point.apply(this,[t]));return this.geometryFactory.createMultiPoint(r)},linestring:function(e){if(void 0===e)return this.geometryFactory.createLineString();for(var t,n=e.trim().split(","),r=[],i=0,o=n.length;i<o;++i)t=n[i].trim().split(Iu.spaces),r.push(new uu(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLineString(r)},linearring:function(e){if(void 0===e)return this.geometryFactory.createLinearRing();for(var t,n=e.trim().split(","),r=[],i=0,o=n.length;i<o;++i)t=n[i].trim().split(Iu.spaces),r.push(new uu(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(e){var t;if(void 0===e)return this.geometryFactory.createMultiLineString();for(var n=e.trim().split(Iu.parenComma),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace(Iu.trimParens,"$1"),r.push(Nu.linestring.apply(this,[t]));return this.geometryFactory.createMultiLineString(r)},polygon:function(e){var t,n,r;if(void 0===e)return this.geometryFactory.createPolygon();for(var i,o=e.trim().split(Iu.parenComma),a=[],s=0,l=o.length;s<l;++s)t=o[s].replace(Iu.trimParens,"$1"),n=Nu.linestring.apply(this,[t]),r=this.geometryFactory.createLinearRing(n._points),0===s?i=r:a.push(r);return this.geometryFactory.createPolygon(i,a)},multipolygon:function(e){var t;if(void 0===e)return this.geometryFactory.createMultiPolygon();for(var n=e.trim().split(Iu.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace(Iu.trimParens,"$1"),r.push(Nu.polygon.apply(this,[t]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(e){if(void 0===e)return this.geometryFactory.createGeometryCollection();for(var t=(e=e.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=t.length;r<i;++r)n.push(this.read(t[r]));return this.geometryFactory.createGeometryCollection(n)}},ju=function(e){this.parser=new Du(e)};ju.prototype.write=function(e){return this.parser.write(e)},ju.toLineString=function(e,t){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"};var Fu=function(e){function t(t){e.call(this,t),this.name="RuntimeException",this.message=t,this.stack=(new e).stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),Bu=function(e){function t(){if(e.call(this),0===arguments.length)e.call(this);else if(1===arguments.length){var t=arguments[0];e.call(this,t)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Fu),Uu=function(){};Uu.prototype.interfaces_=function(){return[]},Uu.prototype.getClass=function(){return Uu},Uu.shouldNeverReachHere=function(){if(0===arguments.length)Uu.shouldNeverReachHere(null);else if(1===arguments.length){var e=arguments[0];throw new Bu("Should never reach here"+(null!==e?": "+e:""))}},Uu.isTrue=function(){var e;if(1===arguments.length)Uu.isTrue(arguments[0],null);else if(2===arguments.length&&(e=arguments[1],!arguments[0]))throw null===e?new Bu:new Bu(e)},Uu.equals=function(){var e,t,n;if(2===arguments.length)Uu.equals(e=arguments[0],t=arguments[1],null);else if(3===arguments.length&&(e=arguments[0],n=arguments[2],!(t=arguments[1]).equals(e)))throw new Bu("Expected "+e+" but encountered "+t+(null!==n?": "+n:""))};var zu=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new uu,this._intPt[1]=new uu,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Hu={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};zu.prototype.getIndexAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]},zu.prototype.getTopologySummary=function(){var e=new yu;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()},zu.prototype.computeIntersection=function(e,t,n,r){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(e,t,n,r)},zu.prototype.getIntersectionNum=function(){return this._result},zu.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var e=arguments[0],t=this.getEdgeDistance(e,0),n=this.getEdgeDistance(e,1);t>n?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}},zu.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},zu.prototype.setPrecisionModel=function(e){this._precisionModel=e},zu.prototype.isInteriorIntersection=function(){var e=this;if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],n=0;n<this._result;n++)if(!e._intPt[n].equals2D(e._inputLines[t][0])&&!e._intPt[n].equals2D(e._inputLines[t][1]))return!0;return!1}},zu.prototype.getIntersection=function(e){return this._intPt[e]},zu.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},zu.prototype.hasIntersection=function(){return this._result!==zu.NO_INTERSECTION},zu.prototype.getEdgeDistance=function(e,t){return zu.computeEdgeDistance(this._intPt[t],this._inputLines[e][0],this._inputLines[e][1])},zu.prototype.isCollinear=function(){return this._result===zu.COLLINEAR_INTERSECTION},zu.prototype.toString=function(){return ju.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+ju.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},zu.prototype.getEndpoint=function(e,t){return this._inputLines[e][t]},zu.prototype.isIntersection=function(e){for(var t=0;t<this._result;t++)if(this._intPt[t].equals2D(e))return!0;return!1},zu.prototype.getIntersectionAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]},zu.prototype.interfaces_=function(){return[]},zu.prototype.getClass=function(){return zu},zu.computeEdgeDistance=function(e,t,n){var r=Math.abs(n.x-t.x),i=Math.abs(n.y-t.y),o=-1;if(e.equals(t))o=0;else if(e.equals(n))o=r>i?r:i;else{var a=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);0!==(o=r>i?a:s)||e.equals(t)||(o=Math.max(a,s))}return Uu.isTrue(!(0===o&&!e.equals(t)),"Bad distance calculation"),o},zu.nonRobustComputeEdgeDistance=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=Math.sqrt(r*r+i*i);return Uu.isTrue(!(0===o&&!e.equals(t)),"Invalid distance calculation"),o},Hu.DONT_INTERSECT.get=function(){return 0},Hu.DO_INTERSECT.get=function(){return 1},Hu.COLLINEAR.get=function(){return 2},Hu.NO_INTERSECTION.get=function(){return 0},Hu.POINT_INTERSECTION.get=function(){return 1},Hu.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(zu,Hu);var Vu=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isInSegmentEnvelopes=function(e){var t=new Tu(this._inputLines[0][0],this._inputLines[0][1]),n=new Tu(this._inputLines[1][0],this._inputLines[1][1]);return t.contains(e)&&n.contains(e)},t.prototype.computeIntersection=function(){if(3!==arguments.length)return e.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,Tu.intersects(n,r,t)&&0===qu.orientationIndex(n,r,t)&&0===qu.orientationIndex(r,n,t))return this._isProper=!0,(t.equals(n)||t.equals(r))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION},t.prototype.normalizeToMinimum=function(e,t,n,r,i){i.x=this.smallestInAbsValue(e.x,t.x,n.x,r.x),i.y=this.smallestInAbsValue(e.y,t.y,n.y,r.y),e.x-=i.x,e.y-=i.y,t.x-=i.x,t.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},t.prototype.safeHCoordinateIntersection=function(e,n,r,i){var o=null;try{o=Mu.intersection(e,n,r,i)}catch(s){if(!(s instanceof Pu))throw s;o=t.nearestEndpoint(e,n,r,i)}return o},t.prototype.intersection=function(e,n,r,i){var o=this.intersectionWithNormalization(e,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new uu(t.nearestEndpoint(e,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},t.prototype.smallestInAbsValue=function(e,t,n,r){var i=e,o=Math.abs(i);return Math.abs(t)<o&&(i=t,o=Math.abs(t)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},t.prototype.checkDD=function(e,t,n,r,i){var o=wu.intersection(e,t,n,r),a=this.isInSegmentEnvelopes(o);ku.out.println("DD in env = "+a+"  --------------------- "+o),i.distance(o)>1e-4&&ku.out.println("Distance = "+i.distance(o))},t.prototype.intersectionWithNormalization=function(e,t,n,r){var i=new uu(e),o=new uu(t),a=new uu(n),s=new uu(r),l=new uu;this.normalizeToEnvCentre(i,o,a,s,l);var u=this.safeHCoordinateIntersection(i,o,a,s);return u.x+=l.x,u.y+=l.y,u},t.prototype.computeCollinearIntersection=function(t,n,r,i){var o=Tu.intersects(t,n,r),a=Tu.intersects(t,n,i),s=Tu.intersects(r,i,t),l=Tu.intersects(r,i,n);return o&&a?(this._intPt[0]=r,this._intPt[1]=i,e.COLLINEAR_INTERSECTION):s&&l?(this._intPt[0]=t,this._intPt[1]=n,e.COLLINEAR_INTERSECTION):o&&s?(this._intPt[0]=r,this._intPt[1]=t,!r.equals(t)||a||l?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):o&&l?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||a||s?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):a&&s?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||o||l?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):a&&l?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||s?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):e.NO_INTERSECTION},t.prototype.normalizeToEnvCentre=function(e,t,n,r,i){var o=e.x<t.x?e.x:t.x,a=e.y<t.y?e.y:t.y,s=e.x>t.x?e.x:t.x,l=e.y>t.y?e.y:t.y,u=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,f=n.x>r.x?n.x:r.x,p=n.y>r.y?n.y:r.y,d=((o>u?o:u)+(s<f?s:f))/2,h=((a>c?a:c)+(l<p?l:p))/2;i.x=d,i.y=h,e.x-=i.x,e.y-=i.y,t.x-=i.x,t.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},t.prototype.computeIntersect=function(t,n,r,i){if(this._isProper=!1,!Tu.intersects(t,n,r,i))return e.NO_INTERSECTION;var o=qu.orientationIndex(t,n,r),a=qu.orientationIndex(t,n,i);if(o>0&&a>0||o<0&&a<0)return e.NO_INTERSECTION;var s=qu.orientationIndex(r,i,t),l=qu.orientationIndex(r,i,n);return s>0&&l>0||s<0&&l<0?e.NO_INTERSECTION:0===o&&0===a&&0===s&&0===l?this.computeCollinearIntersection(t,n,r,i):(0===o||0===a||0===s||0===l?(this._isProper=!1,t.equals2D(r)||t.equals2D(i)?this._intPt[0]=t:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new uu(r):0===a?this._intPt[0]=new uu(i):0===s?this._intPt[0]=new uu(t):0===l&&(this._intPt[0]=new uu(n))):(this._isProper=!0,this._intPt[0]=this.intersection(t,n,r,i)),e.POINT_INTERSECTION)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.nearestEndpoint=function(e,t,n,r){var i=e,o=qu.distancePointLine(e,n,r),a=qu.distancePointLine(t,n,r);return a<o&&(o=a,i=t),(a=qu.distancePointLine(n,e,t))<o&&(o=a,i=n),(a=qu.distancePointLine(r,e,t))<o&&(o=a,i=r),i},t}(zu),Gu=function(){};Gu.prototype.interfaces_=function(){return[]},Gu.prototype.getClass=function(){return Gu},Gu.orientationIndex=function(e,t,n){var r=t.x-e.x,i=t.y-e.y,o=n.x-t.x,a=n.y-t.y;return Gu.signOfDet2x2(r,i,o,a)},Gu.signOfDet2x2=function(e,t,n,r){var i=null,o=null,a=null;if(i=1,0===e||0===r)return 0===t||0===n?0:t>0?n>0?-i:i:n>0?i:-i;if(0===t||0===n)return r>0?e>0?i:-i:e>0?-i:i;if(t>0?r>0?t<=r||(i=-i,o=e,e=n,n=o,o=t,t=r,r=o):t<=-r?(i=-i,n=-n,r=-r):(o=e,e=-n,n=o,o=t,t=-r,r=o):r>0?-t<=r?(i=-i,e=-e,t=-t):(o=-e,e=n,n=o,o=-t,t=r,r=o):t>=r?(e=-e,t=-t,n=-n,r=-r):(i=-i,o=-e,e=-n,n=o,o=-t,t=-r,r=o),e>0){if(!(n>0))return i;if(!(e<=n))return i}else{if(n>0)return-i;if(!(e>=n))return-i;i=-i,e=-e,n=-n}for(;;){if((r-=(a=Math.floor(n/e))*t)<0)return-i;if(r>t)return i;if(e>(n-=a*e)+n){if(t<r+r)return i}else{if(t>r+r)return-i;n=e-n,r=t-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if((t-=(a=Math.floor(e/n))*r)<0)return i;if(t>r)return-i;if(n>(e-=a*n)+e){if(r<t+t)return-i}else{if(r>t+t)return i;e=n-e,t=r-t,i=-i}if(0===t)return 0===e?0:i;if(0===e)return-i}};var Wu=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e};Wu.prototype.countSegment=function(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){var n=e.x,r=t.x;return n>r&&(n=t.x,r=e.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){var i=e.x-this._p.x,o=e.y-this._p.y,a=t.x-this._p.x,s=t.y-this._p.y,l=Gu.signOfDet2x2(i,o,a,s);if(0===l)return this._isPointOnSegment=!0,null;s<o&&(l=-l),l>0&&this._crossingCount++}},Wu.prototype.isPointInPolygon=function(){return this.getLocation()!==du.EXTERIOR},Wu.prototype.getLocation=function(){return this._isPointOnSegment?du.BOUNDARY:this._crossingCount%2==1?du.INTERIOR:du.EXTERIOR},Wu.prototype.isOnSegment=function(){return this._isPointOnSegment},Wu.prototype.interfaces_=function(){return[]},Wu.prototype.getClass=function(){return Wu},Wu.locatePointInRing=function(){if(arguments[0]instanceof uu&&vu(arguments[1],Ou)){for(var e=arguments[0],t=arguments[1],n=new Wu(e),r=new uu,i=new uu,o=1;o<t.size();o++)if(t.getCoordinate(o,r),t.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof uu&&arguments[1]instanceof Array){for(var a=arguments[0],s=arguments[1],l=new Wu(a),u=1;u<s.length;u++){var c=s[u],f=s[u-1];if(l.countSegment(c,f),l.isOnSegment())return l.getLocation()}return l.getLocation()}};var qu=function(){},Yu={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};qu.prototype.interfaces_=function(){return[]},qu.prototype.getClass=function(){return qu},qu.orientationIndex=function(e,t,n){return wu.orientationIndex(e,t,n)},qu.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,n=e[0].x,r=1;r<e.length-1;r++){var i=e[r].x-n,o=e[r+1].y,a=e[r-1].y;t+=i*(a-o)}return t/2}if(vu(arguments[0],Ou)){var s=arguments[0],l=s.size();if(l<3)return 0;var u=new uu,c=new uu,f=new uu;s.getCoordinate(0,c),s.getCoordinate(1,f);var p=c.x;f.x-=p;for(var d=0,h=1;h<l-1;h++)u.y=c.y,c.x=f.x,c.y=f.y,s.getCoordinate(h+1,f),f.x-=p,d+=c.x*(u.y-f.y);return d/2}},qu.distanceLineLine=function(e,t,n,r){if(e.equals(t))return qu.distancePointLine(e,n,r);if(n.equals(r))return qu.distancePointLine(r,e,t);var i=!1;if(Tu.intersects(e,t,n,r)){var o=(t.x-e.x)*(r.y-n.y)-(t.y-e.y)*(r.x-n.x);if(0===o)i=!0;else{var a=(e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y),s=((e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y))/o,l=a/o;(l<0||l>1||s<0||s>1)&&(i=!0)}}else i=!0;return i?mu.min(qu.distancePointLine(e,n,r),qu.distancePointLine(t,n,r),qu.distancePointLine(n,e,t),qu.distancePointLine(r,e,t)):0},qu.isPointInRing=function(e,t){return qu.locatePointInRing(e,t)!==du.EXTERIOR},qu.computeLength=function(e){var t=e.size();if(t<=1)return 0;var n=0,r=new uu;e.getCoordinate(0,r);for(var i=r.x,o=r.y,a=1;a<t;a++){e.getCoordinate(a,r);var s=r.x,l=r.y,u=s-i,c=l-o;n+=Math.sqrt(u*u+c*c),i=s,o=l}return n},qu.isCCW=function(e){var t=e.length-1;if(t<3)throw new nu("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=e[0],r=0,i=1;i<=t;i++){var o=e[i];o.y>n.y&&(n=o,r=i)}var a=r;do{(a-=1)<0&&(a=t)}while(e[a].equals2D(n)&&a!==r);var s=r;do{s=(s+1)%t}while(e[s].equals2D(n)&&s!==r);var l=e[a],u=e[s];if(l.equals2D(n)||u.equals2D(n)||l.equals2D(u))return!1;var c=qu.computeOrientation(l,n,u),f=!1;return f=0===c?l.x>u.x:c>0,f},qu.locatePointInRing=function(e,t){return Wu.locatePointInRing(e,t)},qu.distancePointLinePerpendicular=function(e,t,n){var r=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),i=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/r;return Math.abs(i)*Math.sqrt(r)},qu.computeOrientation=function(e,t,n){return qu.orientationIndex(e,t,n)},qu.distancePointLine=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(0===t.length)throw new nu("Line array must contain at least one vertex");for(var n=e.distance(t[0]),r=0;r<t.length-1;r++){var i=qu.distancePointLine(e,t[r],t[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];if(a.x===s.x&&a.y===s.y)return o.distance(a);var l=(s.x-a.x)*(s.x-a.x)+(s.y-a.y)*(s.y-a.y),u=((o.x-a.x)*(s.x-a.x)+(o.y-a.y)*(s.y-a.y))/l;if(u<=0)return o.distance(a);if(u>=1)return o.distance(s);var c=((a.y-o.y)*(s.x-a.x)-(a.x-o.x)*(s.y-a.y))/l;return Math.abs(c)*Math.sqrt(l)}},qu.isOnLine=function(e,t){for(var n=new Vu,r=1;r<t.length;r++){var i=t[r-1],o=t[r];if(n.computeIntersection(e,i,o),n.hasIntersection())return!0}return!1},Yu.CLOCKWISE.get=function(){return-1},Yu.RIGHT.get=function(){return qu.CLOCKWISE},Yu.COUNTERCLOCKWISE.get=function(){return 1},Yu.LEFT.get=function(){return qu.COUNTERCLOCKWISE},Yu.COLLINEAR.get=function(){return 0},Yu.STRAIGHT.get=function(){return qu.COLLINEAR},Object.defineProperties(qu,Yu);var Xu=function(){};Xu.prototype.filter=function(e){},Xu.prototype.interfaces_=function(){return[]},Xu.prototype.getClass=function(){return Xu};var Ku=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},Zu={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Ku.prototype.isGeometryCollection=function(){return this.getSortIndex()===Ku.SORTINDEX_GEOMETRYCOLLECTION},Ku.prototype.getFactory=function(){return this._factory},Ku.prototype.getGeometryN=function(e){return this},Ku.prototype.getArea=function(){return 0},Ku.prototype.isRectangle=function(){return!1},Ku.prototype.equals=function(){if(arguments[0]instanceof Ku){var e=arguments[0];return null!==e&&this.equalsTopo(e)}if(arguments[0]instanceof Object){var t=arguments[0];if(!(t instanceof Ku))return!1;var n=t;return this.equalsExact(n)}},Ku.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)},Ku.prototype.geometryChanged=function(){this.apply(Ku.geometryChangedFilter)},Ku.prototype.geometryChangedAction=function(){this._envelope=null},Ku.prototype.equalsNorm=function(e){return null!==e&&this.norm().equalsExact(e.norm())},Ku.prototype.getLength=function(){return 0},Ku.prototype.getNumGeometries=function(){return 1},Ku.prototype.compareTo=function(){if(1===arguments.length){var e=arguments[0],t=e;return this.getSortIndex()!==t.getSortIndex()?this.getSortIndex()-t.getSortIndex():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},Ku.prototype.getUserData=function(){return this._userData},Ku.prototype.getSRID=function(){return this._SRID},Ku.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Ku.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===Ku.SORTINDEX_GEOMETRYCOLLECTION)throw new nu("This method does not support GeometryCollection arguments")},Ku.prototype.equal=function(e,t,n){return 0===n?e.equals(t):e.distance(t)<=n},Ku.prototype.norm=function(){var e=this.copy();return e.normalize(),e},Ku.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Ku.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Tu(this._envelope)},Ku.prototype.setSRID=function(e){this._SRID=e},Ku.prototype.setUserData=function(e){this._userData=e},Ku.prototype.compare=function(e,t){for(var n=e.iterator(),r=t.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),a=i.compareTo(o);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},Ku.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Ku.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Ku.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Ku.SORTINDEX_MULTIPOINT||this.getSortIndex()===Ku.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Ku.SORTINDEX_MULTIPOLYGON},Ku.prototype.interfaces_=function(){return[au,ou,lu]},Ku.prototype.getClass=function(){return Ku},Ku.hasNonEmptyElements=function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1},Ku.hasNullElements=function(e){for(var t=0;t<e.length;t++)if(null===e[t])return!0;return!1},Zu.serialVersionUID.get=function(){return 0x799ea46522854c00},Zu.SORTINDEX_POINT.get=function(){return 0},Zu.SORTINDEX_MULTIPOINT.get=function(){return 1},Zu.SORTINDEX_LINESTRING.get=function(){return 2},Zu.SORTINDEX_LINEARRING.get=function(){return 3},Zu.SORTINDEX_MULTILINESTRING.get=function(){return 4},Zu.SORTINDEX_POLYGON.get=function(){return 5},Zu.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Zu.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Zu.geometryChangedFilter.get=function(){return Qu},Object.defineProperties(Ku,Zu);var Qu=function(){};Qu.interfaces_=function(){return[Xu]},Qu.filter=function(e){e.geometryChangedAction()};var Ju=function(){};Ju.prototype.filter=function(e){},Ju.prototype.interfaces_=function(){return[]},Ju.prototype.getClass=function(){return Ju};var $u=function(){},ec={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};$u.prototype.isInBoundary=function(e){},$u.prototype.interfaces_=function(){return[]},$u.prototype.getClass=function(){return $u},ec.Mod2BoundaryNodeRule.get=function(){return tc},ec.EndPointBoundaryNodeRule.get=function(){return nc},ec.MultiValentEndPointBoundaryNodeRule.get=function(){return rc},ec.MonoValentEndPointBoundaryNodeRule.get=function(){return ic},ec.MOD2_BOUNDARY_RULE.get=function(){return new tc},ec.ENDPOINT_BOUNDARY_RULE.get=function(){return new nc},ec.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new rc},ec.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new ic},ec.OGC_SFS_BOUNDARY_RULE.get=function(){return $u.MOD2_BOUNDARY_RULE},Object.defineProperties($u,ec);var tc=function(){};tc.prototype.isInBoundary=function(e){return e%2==1},tc.prototype.interfaces_=function(){return[$u]},tc.prototype.getClass=function(){return tc};var nc=function(){};nc.prototype.isInBoundary=function(e){return e>0},nc.prototype.interfaces_=function(){return[$u]},nc.prototype.getClass=function(){return nc};var rc=function(){};rc.prototype.isInBoundary=function(e){return e>1},rc.prototype.interfaces_=function(){return[$u]},rc.prototype.getClass=function(){return rc};var ic=function(){};ic.prototype.isInBoundary=function(e){return 1===e},ic.prototype.interfaces_=function(){return[$u]},ic.prototype.getClass=function(){return ic};var oc=function(){};function ac(e){this.message=e||""}oc.prototype.add=function(){},oc.prototype.addAll=function(){},oc.prototype.isEmpty=function(){},oc.prototype.iterator=function(){},oc.prototype.size=function(){},oc.prototype.toArray=function(){},oc.prototype.remove=function(){},ac.prototype=new Error,ac.prototype.name="IndexOutOfBoundsException";var sc=function(){};sc.prototype.hasNext=function(){},sc.prototype.next=function(){},sc.prototype.remove=function(){};var lc=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(){},t.prototype.set=function(){},t.prototype.isEmpty=function(){},t}(oc);function uc(e){this.message=e||""}uc.prototype=new Error,uc.prototype.name="NoSuchElementException";var cc=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof oc&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.ensureCapacity=function(){},t.prototype.interfaces_=function(){return[e,oc]},t.prototype.add=function(e){return 1===arguments.length?this.array_.push(e):this.array_.splice(arguments[0],arguments[1]),!0},t.prototype.clear=function(){this.array_=[]},t.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.set=function(e,t){var n=this.array_[e];return this.array_[e]=t,n},t.prototype.iterator=function(){return new fc(this)},t.prototype.get=function(e){if(e<0||e>=this.size())throw new ac;return this.array_[e]},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.size=function(){return this.array_.length},t.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},t.prototype.remove=function(e){for(var t=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===e){this.array_.splice(n,1),t=!0;break}return t},t}(lc),fc=function(e){function t(t){e.call(this),this.arrayList_=t,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new uc;return this.arrayList_.get(this.position_++)},t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},t.prototype.set=function(e){return this.arrayList_.set(this.position_-1,e)},t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},t}(sc),pc=function(e){function t(){if(e.call(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},t.prototype.getCoordinate=function(e){return this.get(e)},t.prototype.addAll=function(){var t=this;if(2===arguments.length){for(var n=arguments[0],r=arguments[1],i=!1,o=n.iterator();o.hasNext();)t.add(o.next(),r),i=!0;return i}return e.prototype.addAll.apply(this,arguments)},t.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=0;n<this.size();n++)t.add(n,this.get(n).copy());return t},t.prototype.toCoordinateArray=function(){return this.toArray(t.coordArrayType)},t.prototype.add=function(){var t=this;if(1===arguments.length){var n=arguments[0];e.prototype.add.call(this,n)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var r=arguments[0],i=arguments[1];return this.add(r,i,!0),!0}if(arguments[0]instanceof uu&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1];if(!a&&this.size()>=1){var s=this.get(this.size()-1);if(s.equals2D(o))return null}e.prototype.add.call(this,o)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var l=arguments[0],u=arguments[1];return this.add(l,u),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var c=arguments[0],f=arguments[1],p=arguments[2];if(p)for(var d=0;d<c.length;d++)t.add(c[d],f);else for(var h=c.length-1;h>=0;h--)t.add(c[h],f);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof uu){var v=arguments[0],m=arguments[1],g=arguments[2];if(!g){var y=this.size();if(y>0){if(v>0){var b=this.get(v-1);if(b.equals2D(m))return null}if(v<y){var _=this.get(v);if(_.equals2D(m))return null}}}e.prototype.add.call(this,v,m)}}else if(4===arguments.length){var E=arguments[0],x=arguments[1],w=arguments[2],S=arguments[3],O=1;w>S&&(O=-1);for(var C=w;C!==S;C+=O)t.add(E[C],x);return!0}},t.prototype.closeRing=function(){this.size()>0&&this.add(new uu(this.get(0)),!1)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},Object.defineProperties(t,n),t}(cc),dc=function(){},hc={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};hc.ForwardComparator.get=function(){return vc},hc.BidirectionalComparator.get=function(){return mc},hc.coordArrayType.get=function(){return new Array(0).fill(null)},dc.prototype.interfaces_=function(){return[]},dc.prototype.getClass=function(){return dc},dc.isRing=function(e){return!(e.length<4)&&!!e[0].equals2D(e[e.length-1])},dc.ptNotInList=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(dc.indexOf(r,t)<0)return r}return null},dc.scroll=function(e,t){var n=dc.indexOf(t,e);if(n<0)return null;var r=new Array(e.length).fill(null);ku.arraycopy(e,n,r,0,e.length-n),ku.arraycopy(e,0,r,e.length-n,n),ku.arraycopy(r,0,e,0,e.length)},dc.equals=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(0!==o.compare(r[a],i[a]))return!1;return!0}},dc.intersection=function(e,t){for(var n=new pc,r=0;r<e.length;r++)t.intersects(e[r])&&n.add(e[r],!0);return n.toCoordinateArray()},dc.hasRepeatedPoints=function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1},dc.removeRepeatedPoints=function(e){return dc.hasRepeatedPoints(e)?new pc(e,!1).toCoordinateArray():e},dc.reverse=function(e){for(var t=e.length-1,n=Math.trunc(t/2),r=0;r<=n;r++){var i=e[r];e[r]=e[t-r],e[t-r]=i}},dc.removeNull=function(e){for(var t=0,n=0;n<e.length;n++)null!==e[n]&&t++;var r=new Array(t).fill(null);if(0===t)return r;for(var i=0,o=0;o<e.length;o++)null!==e[o]&&(r[i++]=e[o]);return r},dc.copyDeep=function(){if(1===arguments.length){for(var e=arguments[0],t=new Array(e.length).fill(null),n=0;n<e.length;n++)t[n]=new uu(e[n]);return t}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],l=0;l<s;l++)o[a+l]=new uu(r[i+l])},dc.isEqualReversed=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t[e.length-n-1];if(0!==r.compareTo(i))return!1}return!0},dc.envelope=function(e){for(var t=new Tu,n=0;n<e.length;n++)t.expandToInclude(e[n]);return t},dc.toCoordinateArray=function(e){return e.toArray(dc.coordArrayType)},dc.atLeastNCoordinatesOrNothing=function(e,t){return t.length>=e?t:[]},dc.indexOf=function(e,t){for(var n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1},dc.increasingDirection=function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var n=e.length-1-t,r=e[t].compareTo(e[n]);if(0!==r)return r}return 1},dc.compare=function(e,t){for(var n=0;n<e.length&&n<t.length;){var r=e[n].compareTo(t[n]);if(0!==r)return r;n++}return n<t.length?-1:n<e.length?1:0},dc.minCoordinate=function(e){for(var t=null,n=0;n<e.length;n++)(null===t||t.compareTo(e[n])>0)&&(t=e[n]);return t},dc.extract=function(e,t,n){t=mu.clamp(t,0,e.length);var r=(n=mu.clamp(n,-1,e.length))-t+1;n<0&&(r=0),t>=e.length&&(r=0),n<t&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,a=t;a<=n;a++)i[o++]=e[a];return i},Object.defineProperties(dc,hc);var vc=function(){};vc.prototype.compare=function(e,t){return dc.compare(e,t)},vc.prototype.interfaces_=function(){return[su]},vc.prototype.getClass=function(){return vc};var mc=function(){};mc.prototype.compare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=dc.compare(n,r);return dc.isEqualReversed(n,r)?0:i},mc.prototype.OLDcompare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=dc.increasingDirection(n),o=dc.increasingDirection(r),a=i>0?0:n.length-1,s=o>0?0:n.length-1,l=0;l<n.length;l++){var u=n[a].compareTo(r[s]);if(0!==u)return u;a+=i,s+=o}return 0},mc.prototype.interfaces_=function(){return[su]},mc.prototype.getClass=function(){return mc};var gc=function(){};gc.prototype.get=function(){},gc.prototype.put=function(){},gc.prototype.size=function(){},gc.prototype.values=function(){},gc.prototype.entrySet=function(){};var yc=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(gc);function bc(e){this.message=e||""}function _c(){}bc.prototype=new Error,bc.prototype.name="OperationNotSupported",_c.prototype=new oc,_c.prototype.contains=function(){};var Ec=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof oc&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contains=function(e){for(var t=0,n=this.array_.length;t<n;t++)if(this.array_[t]===e)return!0;return!1},t.prototype.add=function(e){return!this.contains(e)&&(this.array_.push(e),!0)},t.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.remove=function(e){throw new Error},t.prototype.size=function(){return this.array_.length},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},t.prototype.iterator=function(){return new xc(this)},t}(_c),xc=function(e){function t(t){e.call(this),this.hashSet_=t,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new uc;return this.hashSet_.array_[this.position_++]},t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},t.prototype.remove=function(){throw new bc},t}(sc);function wc(e){return null===e?0:e.color}function Sc(e){return null===e?null:e.parent}function Oc(e,t){null!==e&&(e.color=t)}function Cc(e){return null===e?null:e.left}function Ac(e){return null===e?null:e.right}function Pc(){this.root_=null,this.size_=0}Pc.prototype=new yc,Pc.prototype.get=function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(n<0)t=t.left;else{if(!(n>0))return t.value;t=t.right}}return null},Pc.prototype.put=function(e,t){if(null===this.root_)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=e.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=t,o}i=i.right}}while(null!==i);var a={key:e,left:null,right:null,value:t,parent:n,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},Pc.prototype.fixAfterInsertion=function(e){var t=this;for(e.color=1;null!=e&&e!==this.root_&&1===e.parent.color;)if(Sc(e)===Cc(Sc(Sc(e)))){var n=Ac(Sc(Sc(e)));1===wc(n)?(Oc(Sc(e),0),Oc(n,0),Oc(Sc(Sc(e)),1),e=Sc(Sc(e))):(e===Ac(Sc(e))&&(e=Sc(e),t.rotateLeft(e)),Oc(Sc(e),0),Oc(Sc(Sc(e)),1),t.rotateRight(Sc(Sc(e))))}else{var r=Cc(Sc(Sc(e)));1===wc(r)?(Oc(Sc(e),0),Oc(r,0),Oc(Sc(Sc(e)),1),e=Sc(Sc(e))):(e===Cc(Sc(e))&&(e=Sc(e),t.rotateRight(e)),Oc(Sc(e),0),Oc(Sc(Sc(e)),1),t.rotateLeft(Sc(Sc(e))))}this.root_.color=0},Pc.prototype.values=function(){var e=new cc,t=this.getFirstEntry();if(null!==t)for(e.add(t.value);null!==(t=Pc.successor(t));)e.add(t.value);return e},Pc.prototype.entrySet=function(){var e=new Ec,t=this.getFirstEntry();if(null!==t)for(e.add(t);null!==(t=Pc.successor(t));)e.add(t);return e},Pc.prototype.rotateLeft=function(e){if(null!=e){var t=e.right;e.right=t.left,null!=t.left&&(t.left.parent=e),t.parent=e.parent,null===e.parent?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}},Pc.prototype.rotateRight=function(e){if(null!=e){var t=e.left;e.left=t.right,null!=t.right&&(t.right.parent=e),t.parent=e.parent,null===e.parent?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}},Pc.prototype.getFirstEntry=function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e},Pc.successor=function(e){if(null===e)return null;if(null!==e.right){for(var t=e.right;null!==t.left;)t=t.left;return t}for(var n=e.parent,r=e;null!==n&&r===n.right;)r=n,n=n.parent;return n},Pc.prototype.size=function(){return this.size_};var kc=function(){};function Mc(){}function Tc(){this.array_=[],arguments[0]instanceof oc&&this.addAll(arguments[0])}kc.prototype.interfaces_=function(){return[]},kc.prototype.getClass=function(){return kc},Mc.prototype=new _c,Tc.prototype=new Mc,Tc.prototype.contains=function(e){for(var t=0,n=this.array_.length;t<n;t++)if(0===this.array_[t].compareTo(e))return!0;return!1},Tc.prototype.add=function(e){if(this.contains(e))return!1;for(var t=0,n=this.array_.length;t<n;t++)if(1===this.array_[t].compareTo(e))return this.array_.splice(t,0,e),!0;return this.array_.push(e),!0},Tc.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},Tc.prototype.remove=function(e){throw new bc},Tc.prototype.size=function(){return this.array_.length},Tc.prototype.isEmpty=function(){return 0===this.array_.length},Tc.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},Tc.prototype.iterator=function(){return new Lc(this)};var Lc=function(e){this.treeSet_=e,this.position_=0};Lc.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new uc;return this.treeSet_.array_[this.position_++]},Lc.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Lc.prototype.remove=function(){throw new bc};var Ic=function(){};Ic.sort=function(){var e,t,n,r,i=arguments[0];if(1===arguments.length)r=function(e,t){return e.compareTo(t)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(e,t){return n.compare(e,t)},i.sort(r);else if(3===arguments.length){(t=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(t,i.slice(arguments[2],i.length));for(i.splice(0,i.length),e=0;e<o.length;e++)i.push(o[e])}else if(4===arguments.length)for(t=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(e,t){return n.compare(e,t)},t.sort(r),o=i.slice(0,arguments[1]).concat(t,i.slice(arguments[2],i.length)),i.splice(0,i.length),e=0;e<o.length;e++)i.push(o[e])},Ic.asList=function(e){for(var t=new cc,n=0,r=e.length;n<r;n++)t.add(e[n]);return t};var Dc=function(){},Rc={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Rc.P.get=function(){return 0},Rc.L.get=function(){return 1},Rc.A.get=function(){return 2},Rc.FALSE.get=function(){return-1},Rc.TRUE.get=function(){return-2},Rc.DONTCARE.get=function(){return-3},Rc.SYM_FALSE.get=function(){return"F"},Rc.SYM_TRUE.get=function(){return"T"},Rc.SYM_DONTCARE.get=function(){return"*"},Rc.SYM_P.get=function(){return"0"},Rc.SYM_L.get=function(){return"1"},Rc.SYM_A.get=function(){return"2"},Dc.prototype.interfaces_=function(){return[]},Dc.prototype.getClass=function(){return Dc},Dc.toDimensionSymbol=function(e){switch(e){case Dc.FALSE:return Dc.SYM_FALSE;case Dc.TRUE:return Dc.SYM_TRUE;case Dc.DONTCARE:return Dc.SYM_DONTCARE;case Dc.P:return Dc.SYM_P;case Dc.L:return Dc.SYM_L;case Dc.A:return Dc.SYM_A}throw new nu("Unknown dimension value: "+e)},Dc.toDimensionValue=function(e){switch(_u.toUpperCase(e)){case Dc.SYM_FALSE:return Dc.FALSE;case Dc.SYM_TRUE:return Dc.TRUE;case Dc.SYM_DONTCARE:return Dc.DONTCARE;case Dc.SYM_P:return Dc.P;case Dc.SYM_L:return Dc.L;case Dc.SYM_A:return Dc.A}throw new nu("Unknown dimension symbol: "+e)},Object.defineProperties(Dc,Rc);var Nc=function(){};Nc.prototype.filter=function(e){},Nc.prototype.interfaces_=function(){return[]},Nc.prototype.getClass=function(){return Nc};var jc=function(){};jc.prototype.filter=function(e,t){},jc.prototype.isDone=function(){},jc.prototype.isGeometryChanged=function(){},jc.prototype.interfaces_=function(){return[]},jc.prototype.getClass=function(){return jc};var Fc=function(e){function t(t,n){if(e.call(this,n),this._geometries=t||[],e.hasNullElements(this._geometries))throw new nu("geometries must not contain null elements")}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){for(var e=new Tu,t=0;t<this._geometries.length;t++)e.expandToInclude(this._geometries[t].getEnvelopeInternal());return e},t.prototype.getGeometryN=function(e){return this._geometries[e]},t.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},t.prototype.getCoordinates=function(){for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)e[++t]=r[i];return e},t.prototype.getArea=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getArea();return e},t.prototype.equalsExact=function(){var t=this;if(2===arguments.length){var n=arguments[0],r=arguments[1];if(!this.isEquivalentClass(n))return!1;var i=n;if(this._geometries.length!==i._geometries.length)return!1;for(var o=0;o<this._geometries.length;o++)if(!t._geometries[o].equalsExact(i._geometries[o],r))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var e=0;e<this._geometries.length;e++)this._geometries[e].normalize();Ic.sort(this._geometries)},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},t.prototype.getBoundaryDimension=function(){for(var e=Dc.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getBoundaryDimension());return e},t.prototype.getDimension=function(){for(var e=Dc.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getDimension());return e},t.prototype.getLength=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getLength();return e},t.prototype.getNumPoints=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getNumPoints();return e},t.prototype.getNumGeometries=function(){return this._geometries.length},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(t)},t.prototype.compareToSameClass=function(){var e=this;if(1===arguments.length){var t=arguments[0],n=new Tc(Ic.asList(this._geometries)),r=new Tc(Ic.asList(t._geometries));return this.compare(n,r)}if(2===arguments.length){for(var i=arguments[0],o=arguments[1],a=i,s=this.getNumGeometries(),l=a.getNumGeometries(),u=0;u<s&&u<l;){var c=e.getGeometryN(u),f=a.getGeometryN(u),p=c.compareToSameClass(f,o);if(0!==p)return p;u++}return u<s?1:u<l?-1:0}},t.prototype.apply=function(){var e=this;if(vu(arguments[0],Ju))for(var t=arguments[0],n=0;n<this._geometries.length;n++)e._geometries[n].apply(t);else if(vu(arguments[0],jc)){var r=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(e._geometries[i].apply(r),!r.isDone());i++);r.isGeometryChanged()&&this.geometryChanged()}else if(vu(arguments[0],Nc)){var o=arguments[0];o.filter(this);for(var a=0;a<this._geometries.length;a++)e._geometries[a].apply(o)}else if(vu(arguments[0],Xu)){var s=arguments[0];s.filter(this);for(var l=0;l<this._geometries.length;l++)e._geometries[l].apply(s)}},t.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Uu.shouldNeverReachHere(),null},t.prototype.clone=function(){var t=e.prototype.clone.call(this);t._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)t._geometries[n]=this._geometries[n].clone();return t},t.prototype.getGeometryType=function(){return"GeometryCollection"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.isEmpty=function(){for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(t,n),t}(Ku),Bc=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Ku.SORTINDEX_MULTILINESTRING},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Dc.FALSE:0},t.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0},t.prototype.getDimension=function(){return 1},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[e-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(t)},t.prototype.getBoundary=function(){return new Uc(this).getBoundary()},t.prototype.getGeometryType=function(){return"MultiLineString"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[kc]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(t,n),t}(Fc),Uc=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var e=arguments[0],t=$u.MOD2_BOUNDARY_RULE;this._geom=e,this._geomFact=e.getFactory(),this._bnRule=t}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Uc.prototype.boundaryMultiLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var t=this.computeBoundaryCoordinates(e);return 1===t.length?this._geomFact.createPoint(t[0]):this._geomFact.createMultiPointFromCoords(t)},Uc.prototype.getBoundary=function(){return this._geom instanceof Qc?this.boundaryLineString(this._geom):this._geom instanceof Bc?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Uc.prototype.boundaryLineString=function(e){return this._geom.isEmpty()?this.getEmptyMultiPoint():e.isClosed()?this._bnRule.isInBoundary(2)?e.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])},Uc.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Uc.prototype.computeBoundaryCoordinates=function(e){var t=this,n=new cc;this._endpointMap=new Pc;for(var r=0;r<e.getNumGeometries();r++){var i=e.getGeometryN(r);0!==i.getNumPoints()&&(t.addEndpoint(i.getCoordinateN(0)),t.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var o=this._endpointMap.entrySet().iterator();o.hasNext();){var a=o.next(),s=a.getValue().count;t._bnRule.isInBoundary(s)&&n.add(a.getKey())}return dc.toCoordinateArray(n)},Uc.prototype.addEndpoint=function(e){var t=this._endpointMap.get(e);null===t&&(t=new zc,this._endpointMap.put(e,t)),t.count++},Uc.prototype.interfaces_=function(){return[]},Uc.prototype.getClass=function(){return Uc},Uc.getBoundary=function(){if(1===arguments.length){var e=arguments[0],t=new Uc(e);return t.getBoundary()}if(2===arguments.length){var n=arguments[0],r=arguments[1],i=new Uc(n,r);return i.getBoundary()}};var zc=function(){this.count=null};function Hc(){}function Vc(){}zc.prototype.interfaces_=function(){return[]},zc.prototype.getClass=function(){return zc};var Gc=function(){};function Wc(){}function qc(){}function Yc(){}var Xc=function(){},Kc={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Xc.prototype.interfaces_=function(){return[]},Xc.prototype.getClass=function(){return Xc},Xc.chars=function(e,t){for(var n=new Array(t).fill(null),r=0;r<t;r++)n[r]=e;return String(n)},Xc.getStackTrace=function(){if(1===arguments.length){var e=arguments[0],t=new Wc,n=new Hc(t);return e.printStackTrace(n),t.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",a=new Vc(Xc.getStackTrace(r)),s=new Yc(a),l=0;l<i;l++)try{o+=s.readLine()+Xc.NEWLINE}catch(e){if(!(e instanceof qc))throw e;Uu.shouldNeverReachHere()}return o}},Xc.split=function(e,t){for(var n=t.length,r=new cc,i=""+e,o=i.indexOf(t);o>=0;){var a=i.substring(0,o);r.add(a),o=(i=i.substring(o+n)).indexOf(t)}i.length>0&&r.add(i);for(var s=new Array(r.size()).fill(null),l=0;l<s.length;l++)s[l]=r.get(l);return s},Xc.toString=function(){if(1===arguments.length){var e=arguments[0];return Xc.SIMPLE_ORDINATE_FORMAT.format(e)}},Xc.spaces=function(e){return Xc.chars(" ",e)},Kc.NEWLINE.get=function(){return ku.getProperty("line.separator")},Kc.SIMPLE_ORDINATE_FORMAT.get=function(){return new Gc("0.#")},Object.defineProperties(Xc,Kc);var Zc=function(){};Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc},Zc.copyCoord=function(e,t,n,r){for(var i=Math.min(e.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,e.getOrdinate(t,o))},Zc.isRing=function(e){var t=e.size();return 0===t||!(t<=3)&&e.getOrdinate(0,Ou.X)===e.getOrdinate(t-1,Ou.X)&&e.getOrdinate(0,Ou.Y)===e.getOrdinate(t-1,Ou.Y)},Zc.isEqual=function(e,t){var n=e.size();if(n!==t.size())return!1;for(var r=Math.min(e.getDimension(),t.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var a=e.getOrdinate(i,o),s=t.getOrdinate(i,o);if(e.getOrdinate(i,o)!==t.getOrdinate(i,o)&&(!ru.isNaN(a)||!ru.isNaN(s)))return!1}return!0},Zc.extend=function(e,t,n){var r=e.create(n,t.getDimension()),i=t.size();if(Zc.copy(t,0,r,0,i),i>0)for(var o=i;o<n;o++)Zc.copy(t,i-1,r,o,1);return r},Zc.reverse=function(e){for(var t=e.size()-1,n=Math.trunc(t/2),r=0;r<=n;r++)Zc.swap(e,r,t-r)},Zc.swap=function(e,t,n){if(t===n)return null;for(var r=0;r<e.getDimension();r++){var i=e.getOrdinate(t,r);e.setOrdinate(t,r,e.getOrdinate(n,r)),e.setOrdinate(n,r,i)}},Zc.copy=function(e,t,n,r,i){for(var o=0;o<i;o++)Zc.copyCoord(e,t+o,n,r+o)},Zc.toString=function(){if(1===arguments.length){var e=arguments[0],t=e.size();if(0===t)return"()";var n=e.getDimension(),r=new yu;r.append("(");for(var i=0;i<t;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(Xc.toString(e.getOrdinate(i,o)))}return r.append(")"),r.toString()}},Zc.ensureValidRing=function(e,t){var n=t.size();return 0===n?t:n<=3?Zc.createClosedRing(e,t,4):t.getOrdinate(0,Ou.X)===t.getOrdinate(n-1,Ou.X)&&t.getOrdinate(0,Ou.Y)===t.getOrdinate(n-1,Ou.Y)?t:Zc.createClosedRing(e,t,n+1)},Zc.createClosedRing=function(e,t,n){var r=e.create(n,t.getDimension()),i=t.size();Zc.copy(t,0,r,0,i);for(var o=i;o<n;o++)Zc.copy(t,0,r,o,1);return r};var Qc=function(e){function t(t,n){e.call(this,n),this._points=null,this.init(t)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Tu:this._points.expandEnvelope(new Tu)},t.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},t.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},t.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},t.prototype.equalsExact=function(){var t=this;if(2===arguments.length){var n=arguments[0],r=arguments[1];if(!this.isEquivalentClass(n))return!1;var i=n;if(this._points.size()!==i._points.size())return!1;for(var o=0;o<this._points.size();o++)if(!t.equal(t._points.getCoordinate(o),i._points.getCoordinate(o),r))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var e=this,t=0;t<Math.trunc(this._points.size()/2);t++){var n=e._points.size()-1-t;if(!e._points.getCoordinate(t).equals(e._points.getCoordinate(n)))return e._points.getCoordinate(t).compareTo(e._points.getCoordinate(n))>0&&Zc.reverse(e._points),null}},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Dc.FALSE:0},t.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},t.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},t.prototype.getDimension=function(){return 1},t.prototype.getLength=function(){return qu.computeLength(this._points)},t.prototype.getNumPoints=function(){return this._points.size()},t.prototype.reverse=function(){var e=this._points.copy();return Zc.reverse(e),this.getFactory().createLineString(e)},t.prototype.compareToSameClass=function(){var e=this;if(1===arguments.length){for(var t=arguments[0],n=t,r=0,i=0;r<this._points.size()&&i<n._points.size();){var o=e._points.getCoordinate(r).compareTo(n._points.getCoordinate(i));if(0!==o)return o;r++,i++}return r<this._points.size()?1:i<n._points.size()?-1:0}if(2===arguments.length){var a=arguments[0],s=arguments[1],l=a;return s.compare(this._points,l._points)}},t.prototype.apply=function(){var e=this;if(vu(arguments[0],Ju))for(var t=arguments[0],n=0;n<this._points.size();n++)t.filter(e._points.getCoordinate(n));else if(vu(arguments[0],jc)){var r=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(r.filter(e._points,i),!r.isDone());i++);r.isGeometryChanged()&&this.geometryChanged()}else if(vu(arguments[0],Nc)){var o=arguments[0];o.filter(this)}else if(vu(arguments[0],Xu)){var a=arguments[0];a.filter(this)}},t.prototype.getBoundary=function(){return new Uc(this).getBoundary()},t.prototype.isEquivalentClass=function(e){return e instanceof t},t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t._points=this._points.clone(),t},t.prototype.getCoordinateN=function(e){return this._points.getCoordinate(e)},t.prototype.getGeometryType=function(){return"LineString"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._points},t.prototype.isEmpty=function(){return 0===this._points.size()},t.prototype.init=function(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new nu("Invalid number of points in LineString (found "+e.size()+" - must be 0 or >= 2)");this._points=e},t.prototype.isCoordinate=function(e){for(var t=0;t<this._points.size();t++)if(this._points.getCoordinate(t).equals(e))return!0;return!1},t.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},t.prototype.getPointN=function(e){return this.getFactory().createPoint(this._points.getCoordinate(e))},t.prototype.interfaces_=function(){return[kc]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(t,n),t}(Ku),Jc=function(){};Jc.prototype.interfaces_=function(){return[]},Jc.prototype.getClass=function(){return Jc};var $c=function(e){function t(t,n){e.call(this,n),this._coordinates=t||null,this.init(this._coordinates)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Tu;var e=new Tu;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e},t.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),n))}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){},t.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},t.prototype.getBoundaryDimension=function(){return Dc.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},t.prototype.reverse=function(){return this.copy()},t.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0],t=e;return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var n=arguments[0],r=arguments[1],i=n;return r.compare(this._coordinates,i._coordinates)}},t.prototype.apply=function(){if(vu(arguments[0],Ju)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(vu(arguments[0],jc)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else if(vu(arguments[0],Nc)){var n=arguments[0];n.filter(this)}else if(vu(arguments[0],Xu)){var r=arguments[0];r.filter(this)}},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t._coordinates=this._coordinates.clone(),t},t.prototype.getGeometryType=function(){return"Point"},t.prototype.copy=function(){return new t(this._coordinates.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._coordinates},t.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},t.prototype.isEmpty=function(){return 0===this._coordinates.size()},t.prototype.init=function(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),Uu.isTrue(e.size()<=1),this._coordinates=e},t.prototype.isSimple=function(){return!0},t.prototype.interfaces_=function(){return[Jc]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(t,n),t}(Ku),ef=function(){};ef.prototype.interfaces_=function(){return[]},ef.prototype.getClass=function(){return ef};var tf=function(e){function t(t,n,r){if(e.call(this,r),this._shell=null,this._holes=null,null===t&&(t=this.getFactory().createLinearRing()),null===n&&(n=[]),e.hasNullElements(n))throw new nu("holes must not contain null elements");if(t.isEmpty()&&e.hasNonEmptyElements(n))throw new nu("shell is empty but holes are not");this._shell=t,this._holes=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},t.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},t.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)e[++t]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),a=0;a<o.length;a++)e[++t]=o[a];return e},t.prototype.getArea=function(){var e=0;e+=Math.abs(qu.signedArea(this._shell.getCoordinateSequence()));for(var t=0;t<this._holes.length;t++)e-=Math.abs(qu.signedArea(this._holes[t].getCoordinateSequence()));return e},t.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var e=this._shell.getCoordinateSequence(),t=this.getEnvelopeInternal(),n=0;n<5;n++){var r=e.getX(n);if(r!==t.getMinX()&&r!==t.getMaxX())return!1;var i=e.getY(n);if(i!==t.getMinY()&&i!==t.getMaxY())return!1}for(var o=e.getX(0),a=e.getY(0),s=1;s<=4;s++){var l=e.getX(s),u=e.getY(s);if(l!==o===(u!==a))return!1;o=l,a=u}return!0},t.prototype.equalsExact=function(){var t=this;if(2===arguments.length){var n=arguments[0],r=arguments[1];if(!this.isEquivalentClass(n))return!1;var i=n,o=this._shell,a=i._shell;if(!o.equalsExact(a,r))return!1;if(this._holes.length!==i._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!t._holes[s].equalsExact(i._holes[s],r))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){var e=this;if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)e.normalize(e._holes[t],!1);Ic.sort(this._holes)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];if(n.isEmpty())return null;var i=new Array(n.getCoordinates().length-1).fill(null);ku.arraycopy(n.getCoordinates(),0,i,0,i.length);var o=dc.minCoordinate(n.getCoordinates());dc.scroll(i,o),ku.arraycopy(i,0,n.getCoordinates(),0,i.length),n.getCoordinates()[i.length]=i[0],qu.isCCW(n.getCoordinates())===r&&dc.reverse(n.getCoordinates())}},t.prototype.getCoordinate=function(){return this._shell.getCoordinate()},t.prototype.getNumInteriorRing=function(){return this._holes.length},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.getLength=function(){var e=0;e+=this._shell.getLength();for(var t=0;t<this._holes.length;t++)e+=this._holes[t].getLength();return e},t.prototype.getNumPoints=function(){for(var e=this._shell.getNumPoints(),t=0;t<this._holes.length;t++)e+=this._holes[t].getNumPoints();return e},t.prototype.reverse=function(){var e=this.copy();e._shell=this._shell.copy().reverse(),e._holes=new Array(this._holes.length).fill(null);for(var t=0;t<this._holes.length;t++)e._holes[t]=this._holes[t].copy().reverse();return e},t.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},t.prototype.compareToSameClass=function(){var e=this;if(1===arguments.length){var t=arguments[0],n=this._shell,r=t._shell;return n.compareToSameClass(r)}if(2===arguments.length){var i=arguments[0],o=arguments[1],a=i,s=this._shell,l=a._shell,u=s.compareToSameClass(l,o);if(0!==u)return u;for(var c=this.getNumInteriorRing(),f=a.getNumInteriorRing(),p=0;p<c&&p<f;){var d=e.getInteriorRingN(p),h=a.getInteriorRingN(p),v=d.compareToSameClass(h,o);if(0!==v)return v;p++}return p<c?1:p<f?-1:0}},t.prototype.apply=function(e){var t=this;if(vu(e,Ju)){this._shell.apply(e);for(var n=0;n<this._holes.length;n++)t._holes[n].apply(e)}else if(vu(e,jc)){if(this._shell.apply(e),!e.isDone())for(var r=0;r<this._holes.length&&(t._holes[r].apply(e),!e.isDone());r++);e.isGeometryChanged()&&this.geometryChanged()}else if(vu(e,Nc))e.filter(this);else if(vu(e,Xu)){e.filter(this),this._shell.apply(e);for(var i=0;i<this._holes.length;i++)t._holes[i].apply(e)}},t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var e=new Array(this._holes.length+1).fill(null);e[0]=this._shell;for(var t=0;t<this._holes.length;t++)e[t+1]=this._holes[t];return e.length<=1?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)},t.prototype.clone=function(){var t=e.prototype.clone.call(this);t._shell=this._shell.clone(),t._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)t._holes[n]=this._holes[n].clone();return t},t.prototype.getGeometryType=function(){return"Polygon"},t.prototype.copy=function(){for(var e=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new t(e,n,this._factory)},t.prototype.getExteriorRing=function(){return this._shell},t.prototype.isEmpty=function(){return this._shell.isEmpty()},t.prototype.getInteriorRingN=function(e){return this._holes[e]},t.prototype.interfaces_=function(){return[ef]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(t,n),t}(Ku),nf=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Ku.SORTINDEX_MULTIPOINT},t.prototype.isValid=function(){return!0},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._geometries[t].getCoordinate()}return e.prototype.getCoordinate.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return Dc.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.getGeometryType=function(){return"MultiPoint"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[Jc]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(t,n),t}(Fc),rf=function(e){function t(t,n){t instanceof uu&&n instanceof _f&&(t=n.getCoordinateSequenceFactory().create(t)),e.call(this,t,n),this.validateConstruction()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Ku.SORTINDEX_LINEARRING},t.prototype.getBoundaryDimension=function(){return Dc.FALSE},t.prototype.isClosed=function(){return!!this.isEmpty()||e.prototype.isClosed.call(this)},t.prototype.reverse=function(){var e=this._points.copy();return Zc.reverse(e),this.getFactory().createLinearRing(e)},t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new nu("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new nu("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},t.prototype.getGeometryType=function(){return"LinearRing"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(t,n),t}(Qc),of=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Ku.SORTINDEX_MULTIPOLYGON},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(t)},t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var e=new cc,t=0;t<this._geometries.length;t++)for(var n=this._geometries[t].getBoundary(),r=0;r<n.getNumGeometries();r++)e.add(n.getGeometryN(r));var i=new Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(i))},t.prototype.getGeometryType=function(){return"MultiPolygon"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[ef]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(t,n),t}(Fc),af=function(e){this._factory=e||null,this._isUserDataCopied=!1},sf={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};af.prototype.setCopyUserData=function(e){this._isUserDataCopied=e},af.prototype.edit=function(e,t){if(null===e)return null;var n=this.editInternal(e,t);return this._isUserDataCopied&&n.setUserData(e.getUserData()),n},af.prototype.editInternal=function(e,t){return null===this._factory&&(this._factory=e.getFactory()),e instanceof Fc?this.editGeometryCollection(e,t):e instanceof tf?this.editPolygon(e,t):e instanceof $c||e instanceof Qc?t.edit(e,this._factory):(Uu.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)},af.prototype.editGeometryCollection=function(e,t){for(var n=t.edit(e,this._factory),r=new cc,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),t);null===o||o.isEmpty()||r.add(o)}return n.getClass()===nf?this._factory.createMultiPoint(r.toArray([])):n.getClass()===Bc?this._factory.createMultiLineString(r.toArray([])):n.getClass()===of?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},af.prototype.editPolygon=function(e,t){var n=t.edit(e,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),t);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new cc,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),t);null===a||a.isEmpty()||i.add(a)}return this._factory.createPolygon(r,i.toArray([]))},af.prototype.interfaces_=function(){return[]},af.prototype.getClass=function(){return af},af.GeometryEditorOperation=function(){},sf.NoOpGeometryOperation.get=function(){return lf},sf.CoordinateOperation.get=function(){return uf},sf.CoordinateSequenceOperation.get=function(){return cf},Object.defineProperties(af,sf);var lf=function(){};lf.prototype.edit=function(e,t){return e},lf.prototype.interfaces_=function(){return[af.GeometryEditorOperation]},lf.prototype.getClass=function(){return lf};var uf=function(){};uf.prototype.edit=function(e,t){var n=this.editCoordinates(e.getCoordinates(),e);return null===n?e:e instanceof rf?t.createLinearRing(n):e instanceof Qc?t.createLineString(n):e instanceof $c?n.length>0?t.createPoint(n[0]):t.createPoint():e},uf.prototype.interfaces_=function(){return[af.GeometryEditorOperation]},uf.prototype.getClass=function(){return uf};var cf=function(){};cf.prototype.edit=function(e,t){return e instanceof rf?t.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof Qc?t.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof $c?t.createPoint(this.edit(e.getCoordinateSequence(),e)):e},cf.prototype.interfaces_=function(){return[af.GeometryEditorOperation]},cf.prototype.getClass=function(){return cf};var ff=function(){var e=this;if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var n=0;n<t;n++)e._coordinates[n]=new uu}else if(vu(arguments[0],Ou)){var r=arguments[0];if(null===r)return this._coordinates=new Array(0).fill(null),null;this._dimension=r.getDimension(),this._coordinates=new Array(r.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)e._coordinates[i]=r.getCoordinateCopy(i)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],a=arguments[1];this._coordinates=o,this._dimension=a,null===o&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],l=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=l;for(var u=0;u<s;u++)e._coordinates[u]=new uu}},pf={serialVersionUID:{configurable:!0}};ff.prototype.setOrdinate=function(e,t,n){switch(t){case Ou.X:this._coordinates[e].x=n;break;case Ou.Y:this._coordinates[e].y=n;break;case Ou.Z:this._coordinates[e].z=n;break;default:throw new nu("invalid ordinateIndex")}},ff.prototype.size=function(){return this._coordinates.length},ff.prototype.getOrdinate=function(e,t){switch(t){case Ou.X:return this._coordinates[e].x;case Ou.Y:return this._coordinates[e].y;case Ou.Z:return this._coordinates[e].z}return ru.NaN},ff.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._coordinates[e]}if(2===arguments.length){var t=arguments[0],n=arguments[1];n.x=this._coordinates[t].x,n.y=this._coordinates[t].y,n.z=this._coordinates[t].z}},ff.prototype.getCoordinateCopy=function(e){return new uu(this._coordinates[e])},ff.prototype.getDimension=function(){return this._dimension},ff.prototype.getX=function(e){return this._coordinates[e].x},ff.prototype.clone=function(){for(var e=new Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].clone();return new ff(e,this._dimension)},ff.prototype.expandEnvelope=function(e){for(var t=0;t<this._coordinates.length;t++)e.expandToInclude(this._coordinates[t]);return e},ff.prototype.copy=function(){for(var e=new Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].copy();return new ff(e,this._dimension)},ff.prototype.toString=function(){if(this._coordinates.length>0){var e=new yu(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var t=1;t<this._coordinates.length;t++)e.append(", "),e.append(this._coordinates[t]);return e.append(")"),e.toString()}return"()"},ff.prototype.getY=function(e){return this._coordinates[e].y},ff.prototype.toCoordinateArray=function(){return this._coordinates},ff.prototype.interfaces_=function(){return[Ou,lu]},ff.prototype.getClass=function(){return ff},pf.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ff,pf);var df=function(){},hf={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};df.prototype.readResolve=function(){return df.instance()},df.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return new ff(e)}if(vu(arguments[0],Ou)){var t=arguments[0];return new ff(t)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new ff(n):new ff(n,r)}},df.prototype.interfaces_=function(){return[pu,lu]},df.prototype.getClass=function(){return df},df.instance=function(){return df.instanceObject},hf.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},hf.instanceObject.get=function(){return new df},Object.defineProperties(df,hf);var vf=function(e){function t(){e.call(this),this.map_=new Map}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return this.map_.get(e)||null},t.prototype.put=function(e,t){return this.map_.set(e,t),t},t.prototype.values=function(){for(var e=new cc,t=this.map_.values(),n=t.next();!n.done;)e.add(n.value),n=t.next();return e},t.prototype.entrySet=function(){var e=new Ec;return this.map_.entries().forEach((function(t){return e.add(t)})),e},t.prototype.size=function(){return this.map_.size()},t}(gc),mf=function e(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=e.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof yf){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=e.FIXED,this.setScale(n)}else if(arguments[0]instanceof e){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},gf={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};mf.prototype.equals=function(e){if(!(e instanceof mf))return!1;var t=e;return this._modelType===t._modelType&&this._scale===t._scale},mf.prototype.compareTo=function(e){var t=e,n=this.getMaximumSignificantDigits(),r=t.getMaximumSignificantDigits();return new bu(n).compareTo(new bu(r))},mf.prototype.getScale=function(){return this._scale},mf.prototype.isFloating=function(){return this._modelType===mf.FLOATING||this._modelType===mf.FLOATING_SINGLE},mf.prototype.getType=function(){return this._modelType},mf.prototype.toString=function(){var e="UNKNOWN";return this._modelType===mf.FLOATING?e="Floating":this._modelType===mf.FLOATING_SINGLE?e="Floating-Single":this._modelType===mf.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e},mf.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var e=arguments[0];return ru.isNaN(e)||this._modelType===mf.FLOATING_SINGLE?e:this._modelType===mf.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof uu){var t=arguments[0];if(this._modelType===mf.FLOATING)return null;t.x=this.makePrecise(t.x),t.y=this.makePrecise(t.y)}},mf.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===mf.FLOATING?e=16:this._modelType===mf.FLOATING_SINGLE?e=6:this._modelType===mf.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e},mf.prototype.setScale=function(e){this._scale=Math.abs(e)},mf.prototype.interfaces_=function(){return[lu,ou]},mf.prototype.getClass=function(){return mf},mf.mostPrecise=function(e,t){return e.compareTo(t)>=0?e:t},gf.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},gf.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(mf,gf);var yf=function e(t){this._name=t||null,e.nameToTypeMap.put(t,this)},bf={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};yf.prototype.readResolve=function(){return yf.nameToTypeMap.get(this._name)},yf.prototype.toString=function(){return this._name},yf.prototype.interfaces_=function(){return[lu]},yf.prototype.getClass=function(){return yf},bf.serialVersionUID.get=function(){return-552860263173159e4},bf.nameToTypeMap.get=function(){return new vf},Object.defineProperties(yf,bf),mf.Type=yf,mf.FIXED=new yf("FIXED"),mf.FLOATING=new yf("FLOATING"),mf.FLOATING_SINGLE=new yf("FLOATING SINGLE");var _f=function e(){this._precisionModel=new mf,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?vu(arguments[0],pu)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof mf&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Ef={serialVersionUID:{configurable:!0}};_f.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new uu(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new uu(e.getMinX(),e.getMinY()),new uu(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new uu(e.getMinX(),e.getMinY()),new uu(e.getMinX(),e.getMaxY()),new uu(e.getMaxX(),e.getMaxY()),new uu(e.getMaxX(),e.getMinY()),new uu(e.getMinX(),e.getMinY())]),null)},_f.prototype.createLineString=function(e){return e?e instanceof Array?new Qc(this.getCoordinateSequenceFactory().create(e),this):vu(e,Ou)?new Qc(e,this):void 0:new Qc(this.getCoordinateSequenceFactory().create([]),this)},_f.prototype.createMultiLineString=function(){if(0===arguments.length)return new Bc(null,this);if(1===arguments.length){var e=arguments[0];return new Bc(e,this)}},_f.prototype.buildGeometry=function(e){for(var t=null,n=!1,r=!1,i=e.iterator();i.hasNext();){var o=i.next(),a=o.getClass();null===t&&(t=a),a!==t&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===t)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(_f.toGeometryArray(e));var s=e.iterator().next();if(e.size()>1){if(s instanceof tf)return this.createMultiPolygon(_f.toPolygonArray(e));if(s instanceof Qc)return this.createMultiLineString(_f.toLineStringArray(e));if(s instanceof $c)return this.createMultiPoint(_f.toPointArray(e));Uu.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},_f.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)},_f.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof uu){var e=arguments[0];return this.createPoint(null!==e?this.getCoordinateSequenceFactory().create([e]):null)}if(vu(arguments[0],Ou)){var t=arguments[0];return new $c(t,this)}}},_f.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},_f.prototype.createPolygon=function(){if(0===arguments.length)return new tf(null,null,this);if(1===arguments.length){if(vu(arguments[0],Ou)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof rf){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return new tf(r,i,this)}},_f.prototype.getSRID=function(){return this._SRID},_f.prototype.createGeometryCollection=function(){if(0===arguments.length)return new Fc(null,this);if(1===arguments.length){var e=arguments[0];return new Fc(e,this)}},_f.prototype.createGeometry=function(e){return new af(this).edit(e,{edit:function(){if(2===arguments.length){var e=arguments[0];return this._coordinateSequenceFactory.create(e)}}})},_f.prototype.getPrecisionModel=function(){return this._precisionModel},_f.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(vu(arguments[0],Ou)){var t=arguments[0];return new rf(t,this)}}},_f.prototype.createMultiPolygon=function(){if(0===arguments.length)return new of(null,this);if(1===arguments.length){var e=arguments[0];return new of(e,this)}},_f.prototype.createMultiPoint=function(){var e=this;if(0===arguments.length)return new nf(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new nf(t,this)}if(arguments[0]instanceof Array){var n=arguments[0];return this.createMultiPoint(null!==n?this.getCoordinateSequenceFactory().create(n):null)}if(vu(arguments[0],Ou)){var r=arguments[0];if(null===r)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(r.size()).fill(null),o=0;o<r.size();o++){var a=e.getCoordinateSequenceFactory().create(1,r.getDimension());Zc.copy(r,o,a,0,1),i[o]=e.createPoint(a)}return this.createMultiPoint(i)}}},_f.prototype.interfaces_=function(){return[lu]},_f.prototype.getClass=function(){return _f},_f.toMultiPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},_f.toGeometryArray=function(e){if(null===e)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)},_f.getDefaultCoordinateSequenceFactory=function(){return df.instance()},_f.toMultiLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},_f.toLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},_f.toMultiPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},_f.toLinearRingArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},_f.toPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},_f.toPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},_f.createPointFromInternalCoord=function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)},Ef.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(_f,Ef);var xf=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],wf=function(e){this.geometryFactory=e||new _f};wf.prototype.read=function(e){var t,n=(t="string"==typeof e?JSON.parse(e):e).type;if(!Sf[n])throw new Error("Unknown GeoJSON type: "+t.type);return-1!==xf.indexOf(n)?Sf[n].apply(this,[t.coordinates]):"GeometryCollection"===n?Sf[n].apply(this,[t.geometries]):Sf[n].apply(this,[t])},wf.prototype.write=function(e){var t=e.getGeometryType();if(!Of[t])throw new Error("Geometry is not supported");return Of[t].apply(this,[e])};var Sf={Feature:function(e){var t={};for(var n in e)t[n]=e[n];if(e.geometry){var r=e.geometry.type;if(!Sf[r])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=Sf.bbox.apply(this,[e.bbox])),t},FeatureCollection:function(e){var t={};if(e.features){t.features=[];for(var n=0;n<e.features.length;++n)t.features.push(this.read(e.features[n]))}return e.bbox&&(t.bbox=this.parse.bbox.apply(this,[e.bbox])),t},coordinates:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(new uu(r[0],r[1]))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new uu(e[0],e[1]),new uu(e[2],e[1]),new uu(e[2],e[3]),new uu(e[0],e[3]),new uu(e[0],e[1])])},Point:function(e){var t=new uu(e[0],e[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=[],n=0;n<e.length;++n)t.push(Sf.Point.apply(this,[e[n]]));return this.geometryFactory.createMultiPoint(t)},LineString:function(e){var t=Sf.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=[],n=0;n<e.length;++n)t.push(Sf.LineString.apply(this,[e[n]]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(e){for(var t=Sf.coordinates.apply(this,[e[0]]),n=this.geometryFactory.createLinearRing(t),r=[],i=1;i<e.length;++i){var o=e[i],a=Sf.coordinates.apply(this,[o]),s=this.geometryFactory.createLinearRing(a);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(Sf.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(this.read(r))}return this.geometryFactory.createGeometryCollection(t)}},Of={coordinate:function(e){return[e.x,e.y]},Point:function(e){return{type:"Point",coordinates:Of.coordinate.apply(this,[e.getCoordinate()])}},MultiPoint:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=Of.Point.apply(this,[r]);t.push(i.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(e){for(var t=[],n=e.getCoordinates(),r=0;r<n.length;++r){var i=n[r];t.push(Of.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:t}},MultiLineString:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=Of.LineString.apply(this,[r]);t.push(i.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(e){var t=[],n=Of.LineString.apply(this,[e._shell]);t.push(n.coordinates);for(var r=0;r<e._holes.length;++r){var i=e._holes[r],o=Of.LineString.apply(this,[i]);t.push(o.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=Of.Polygon.apply(this,[r]);t.push(i.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=r.getGeometryType();t.push(Of[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:t}}},Cf=function(e){this.geometryFactory=e||new _f,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new wf(this.geometryFactory)};Cf.prototype.read=function(e){var t=this.parser.read(e);return this.precisionModel.getType()===mf.FIXED&&this.reducePrecision(t),t},Cf.prototype.reducePrecision=function(e){var t,n;if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(t=0,n=e.points.length;t<n;t++)this.precisionModel.makePrecise(e.points[t]);else if(e.geometries)for(t=0,n=e.geometries.length;t<n;t++)this.reducePrecision(e.geometries[t])};var Af=function(){this.parser=new wf(this.geometryFactory)};Af.prototype.write=function(e){return this.parser.write(e)};var Pf=function(){},kf={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function Mf(e){this.message=e||""}function Tf(){this.array_=[]}Pf.prototype.interfaces_=function(){return[]},Pf.prototype.getClass=function(){return Pf},Pf.opposite=function(e){return e===Pf.LEFT?Pf.RIGHT:e===Pf.RIGHT?Pf.LEFT:e},kf.ON.get=function(){return 0},kf.LEFT.get=function(){return 1},kf.RIGHT.get=function(){return 2},Object.defineProperties(Pf,kf),Mf.prototype=new Error,Mf.prototype.name="EmptyStackException",Tf.prototype=new lc,Tf.prototype.add=function(e){return this.array_.push(e),!0},Tf.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]},Tf.prototype.push=function(e){return this.array_.push(e),e},Tf.prototype.pop=function(e){if(0===this.array_.length)throw new Mf;return this.array_.pop()},Tf.prototype.peek=function(){if(0===this.array_.length)throw new Mf;return this.array_[this.array_.length-1]},Tf.prototype.empty=function(){return 0===this.array_.length},Tf.prototype.isEmpty=function(){return this.empty()},Tf.prototype.search=function(e){return this.array_.indexOf(e)},Tf.prototype.size=function(){return this.array_.length},Tf.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e};var Lf=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Lf.prototype.getCoordinate=function(){return this._minCoord},Lf.prototype.getRightmostSide=function(e,t){var n=this.getRightmostSideOfSegment(e,t);return n<0&&(n=this.getRightmostSideOfSegment(e,t-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),n},Lf.prototype.findRightmostEdgeAtVertex=function(){var e=this._minDe.getEdge().getCoordinates();Uu.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this._minIndex-1],n=e[this._minIndex+1],r=qu.computeOrientation(this._minCoord,n,t),i=!1;(t.y<this._minCoord.y&&n.y<this._minCoord.y&&r===qu.COUNTERCLOCKWISE||t.y>this._minCoord.y&&n.y>this._minCoord.y&&r===qu.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},Lf.prototype.getRightmostSideOfSegment=function(e,t){var n=e.getEdge().getCoordinates();if(t<0||t+1>=n.length)return-1;if(n[t].y===n[t+1].y)return-1;var r=Pf.LEFT;return n[t].y<n[t+1].y&&(r=Pf.RIGHT),r},Lf.prototype.getEdge=function(){return this._orientedDe},Lf.prototype.checkForRightmostCoordinate=function(e){for(var t=this,n=e.getEdge().getCoordinates(),r=0;r<n.length-1;r++)(null===t._minCoord||n[r].x>t._minCoord.x)&&(t._minDe=e,t._minIndex=r,t._minCoord=n[r])},Lf.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Lf.prototype.findEdge=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();n.isForward()&&this.checkForRightmostCoordinate(n)}Uu.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Pf.LEFT&&(this._orientedDe=this._minDe.getSym())},Lf.prototype.interfaces_=function(){return[]},Lf.prototype.getClass=function(){return Lf};var If=function(e){function t(n,r){e.call(this,t.msgWithCoord(n,r)),this.pt=r?new uu(r):null,this.name="TopologyException"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCoordinate=function(){return this.pt},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.msgWithCoord=function(e,t){return t?e:e+" [ "+t+" ]"},t}(Fu),Df=function(){this.array_=[]};Df.prototype.addLast=function(e){this.array_.push(e)},Df.prototype.removeFirst=function(){return this.array_.shift()},Df.prototype.isEmpty=function(){return 0===this.array_.length};var Rf=function(){this._finder=null,this._dirEdgeList=new cc,this._nodes=new cc,this._rightMostCoord=null,this._env=null,this._finder=new Lf};Rf.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)},Rf.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Rf.prototype.computeNodeDepth=function(e){for(var t=null,n=e.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){t=r;break}}if(null===t)throw new If("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(t);for(var i=e.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},Rf.prototype.computeDepth=function(e){this.clearVisitedEdges();var t=this._finder.getEdge();t.setEdgeDepths(Pf.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)},Rf.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Rf.prototype.findResultEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth(Pf.RIGHT)>=1&&t.getDepth(Pf.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}},Rf.prototype.computeDepths=function(e){var t=new Ec,n=new Df,r=e.getNode();for(n.addLast(r),t.add(r),e.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();t.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();t.contains(s)||(n.addLast(s),t.add(s))}}}},Rf.prototype.compareTo=function(e){var t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},Rf.prototype.getEnvelope=function(){if(null===this._env){for(var e=new Tu,t=this._dirEdgeList.iterator();t.hasNext();)for(var n=t.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)e.expandToInclude(n[r]);this._env=e}return this._env},Rf.prototype.addReachable=function(e){var t=new Tf;for(t.add(e);!t.empty();){var n=t.pop();this.add(n,t)}},Rf.prototype.copySymDepths=function(e){var t=e.getSym();t.setDepth(Pf.LEFT,e.getDepth(Pf.RIGHT)),t.setDepth(Pf.RIGHT,e.getDepth(Pf.LEFT))},Rf.prototype.add=function(e,t){e.setVisited(!0),this._nodes.add(e);for(var n=e.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||t.push(i)}},Rf.prototype.getNodes=function(){return this._nodes},Rf.prototype.getDirectedEdges=function(){return this._dirEdgeList},Rf.prototype.interfaces_=function(){return[ou]},Rf.prototype.getClass=function(){return Rf};var Nf=function e(){var t=this;if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var r=arguments[0];this.init(1),this.location[Pf.ON]=r}else if(arguments[0]instanceof e){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var o=0;o<this.location.length;o++)t.location[o]=i.location[o]}}else if(3===arguments.length){var a=arguments[0],s=arguments[1],l=arguments[2];this.init(3),this.location[Pf.ON]=a,this.location[Pf.LEFT]=s,this.location[Pf.RIGHT]=l}};Nf.prototype.setAllLocations=function(e){for(var t=0;t<this.location.length;t++)this.location[t]=e},Nf.prototype.isNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==du.NONE)return!1;return!0},Nf.prototype.setAllLocationsIfNull=function(e){for(var t=0;t<this.location.length;t++)this.location[t]===du.NONE&&(this.location[t]=e)},Nf.prototype.isLine=function(){return 1===this.location.length},Nf.prototype.merge=function(e){if(e.location.length>this.location.length){var t=new Array(3).fill(null);t[Pf.ON]=this.location[Pf.ON],t[Pf.LEFT]=du.NONE,t[Pf.RIGHT]=du.NONE,this.location=t}for(var n=0;n<this.location.length;n++)this.location[n]===du.NONE&&n<e.location.length&&(this.location[n]=e.location[n])},Nf.prototype.getLocations=function(){return this.location},Nf.prototype.flip=function(){if(this.location.length<=1)return null;var e=this.location[Pf.LEFT];this.location[Pf.LEFT]=this.location[Pf.RIGHT],this.location[Pf.RIGHT]=e},Nf.prototype.toString=function(){var e=new yu;return this.location.length>1&&e.append(du.toLocationSymbol(this.location[Pf.LEFT])),e.append(du.toLocationSymbol(this.location[Pf.ON])),this.location.length>1&&e.append(du.toLocationSymbol(this.location[Pf.RIGHT])),e.toString()},Nf.prototype.setLocations=function(e,t,n){this.location[Pf.ON]=e,this.location[Pf.LEFT]=t,this.location[Pf.RIGHT]=n},Nf.prototype.get=function(e){return e<this.location.length?this.location[e]:du.NONE},Nf.prototype.isArea=function(){return this.location.length>1},Nf.prototype.isAnyNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===du.NONE)return!0;return!1},Nf.prototype.setLocation=function(){if(1===arguments.length){var e=arguments[0];this.setLocation(Pf.ON,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.location[t]=n}},Nf.prototype.init=function(e){this.location=new Array(e).fill(null),this.setAllLocations(du.NONE)},Nf.prototype.isEqualOnSide=function(e,t){return this.location[t]===e.location[t]},Nf.prototype.allPositionsEqual=function(e){for(var t=0;t<this.location.length;t++)if(this.location[t]!==e)return!1;return!0},Nf.prototype.interfaces_=function(){return[]},Nf.prototype.getClass=function(){return Nf};var jf=function e(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new Nf(t),this.elt[1]=new Nf(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.elt[0]=new Nf(n.elt[0]),this.elt[1]=new Nf(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Nf(du.NONE),this.elt[1]=new Nf(du.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new Nf(o,a,s),this.elt[1]=new Nf(o,a,s)}else if(4===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2],f=arguments[3];this.elt[0]=new Nf(du.NONE,du.NONE,du.NONE),this.elt[1]=new Nf(du.NONE,du.NONE,du.NONE),this.elt[l].setLocations(u,c,f)}};jf.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e},jf.prototype.setAllLocations=function(e,t){this.elt[e].setAllLocations(t)},jf.prototype.isNull=function(e){return this.elt[e].isNull()},jf.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.elt[t].setAllLocationsIfNull(n)}},jf.prototype.isLine=function(e){return this.elt[e].isLine()},jf.prototype.merge=function(e){for(var t=this,n=0;n<2;n++)null===t.elt[n]&&null!==e.elt[n]?t.elt[n]=new Nf(e.elt[n]):t.elt[n].merge(e.elt[n])},jf.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},jf.prototype.getLocation=function(){if(1===arguments.length){var e=arguments[0];return this.elt[e].get(Pf.ON)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return this.elt[t].get(n)}},jf.prototype.toString=function(){var e=new yu;return null!==this.elt[0]&&(e.append("A:"),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()},jf.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var e=arguments[0];return this.elt[e].isArea()}},jf.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()},jf.prototype.setLocation=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.elt[e].setLocation(Pf.ON,t)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},jf.prototype.isEqualOnSide=function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)},jf.prototype.allPositionsEqual=function(e,t){return this.elt[e].allPositionsEqual(t)},jf.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new Nf(this.elt[e].location[0]))},jf.prototype.interfaces_=function(){return[]},jf.prototype.getClass=function(){return jf},jf.toLineLabel=function(e){for(var t=new jf(du.NONE),n=0;n<2;n++)t.setLocation(n,e.getLocation(n));return t};var Ff=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new cc,this._pts=new cc,this._label=new jf(du.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new cc,this._geometryFactory=null;var e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()};Ff.prototype.computeRing=function(){if(null!==this._ring)return null;for(var e=new Array(this._pts.size()).fill(null),t=0;t<this._pts.size();t++)e[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=qu.isCCW(this._ring.getCoordinates())},Ff.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Ff.prototype.computePoints=function(e){var t=this;this._startDe=e;var n=e,r=!0;do{if(null===n)throw new If("Found null DirectedEdge");if(n.getEdgeRing()===t)throw new If("Directed Edge visited twice during ring-building at "+n.getCoordinate());t._edges.add(n);var i=n.getLabel();Uu.isTrue(i.isArea()),t.mergeLabel(i),t.addPoints(n.getEdge(),n.isForward(),r),r=!1,t.setEdgeRing(n,t),n=t.getNext(n)}while(n!==this._startDe)},Ff.prototype.getLinearRing=function(){return this._ring},Ff.prototype.getCoordinate=function(e){return this._pts.get(e)},Ff.prototype.computeMaxNodeDegree=function(){var e=this;this._maxNodeDegree=0;var t=this._startDe;do{var n=t.getNode().getEdges().getOutgoingDegree(e);n>e._maxNodeDegree&&(e._maxNodeDegree=n),t=e.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Ff.prototype.addPoints=function(e,t,n){var r=e.getCoordinates();if(t){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var a=r.length-2;n&&(a=r.length-1);for(var s=a;s>=0;s--)this._pts.add(r[s])}},Ff.prototype.isHole=function(){return this._isHole},Ff.prototype.setInResult=function(){var e=this._startDe;do{e.getEdge().setInResult(!0),e=e.getNext()}while(e!==this._startDe)},Ff.prototype.containsPoint=function(e){var t=this.getLinearRing();if(!t.getEnvelopeInternal().contains(e))return!1;if(!qu.isPointInRing(e,t.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(e))return!1;return!0},Ff.prototype.addHole=function(e){this._holes.add(e)},Ff.prototype.isShell=function(){return null===this._shell},Ff.prototype.getLabel=function(){return this._label},Ff.prototype.getEdges=function(){return this._edges},Ff.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Ff.prototype.getShell=function(){return this._shell},Ff.prototype.mergeLabel=function(){if(1===arguments.length){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=t.getLocation(n,Pf.RIGHT);if(r===du.NONE)return null;if(this._label.getLocation(n)===du.NONE)return this._label.setLocation(n,r),null}},Ff.prototype.setShell=function(e){this._shell=e,null!==e&&e.addHole(this)},Ff.prototype.toPolygon=function(e){for(var t=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)t[n]=this._holes.get(n).getLinearRing();return e.createPolygon(this.getLinearRing(),t)},Ff.prototype.interfaces_=function(){return[]},Ff.prototype.getClass=function(){return Ff};var Bf=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setEdgeRing=function(e,t){e.setMinEdgeRing(t)},t.prototype.getNext=function(e){return e.getNextMin()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ff),Uf=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildMinimalRings=function(){var e=new cc,t=this._startDe;do{if(null===t.getMinEdgeRing()){var n=new Bf(t,this._geometryFactory);e.add(n)}t=t.getNext()}while(t!==this._startDe);return e},t.prototype.setEdgeRing=function(e,t){e.setEdgeRing(t)},t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var e=this._startDe;do{e.getNode().getEdges().linkMinimalDirectedEdges(this),e=e.getNext()}while(e!==this._startDe)},t.prototype.getNext=function(e){return e.getNext()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ff),zf=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._label=e}};zf.prototype.setVisited=function(e){this._isVisited=e},zf.prototype.setInResult=function(e){this._isInResult=e},zf.prototype.isCovered=function(){return this._isCovered},zf.prototype.isCoveredSet=function(){return this._isCoveredSet},zf.prototype.setLabel=function(e){this._label=e},zf.prototype.getLabel=function(){return this._label},zf.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0},zf.prototype.updateIM=function(e){Uu.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)},zf.prototype.isInResult=function(){return this._isInResult},zf.prototype.isVisited=function(){return this._isVisited},zf.prototype.interfaces_=function(){return[]},zf.prototype.getClass=function(){return zf};var Hf=function(e){function t(){e.call(this),this._coord=null,this._edges=null;var t=arguments[0],n=arguments[1];this._coord=t,this._edges=n,this._label=new jf(0,du.NONE)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isIncidentEdgeInResult=function(){for(var e=this.getEdges().getEdges().iterator();e.hasNext();)if(e.next().getEdge().isInResult())return!0;return!1},t.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},t.prototype.getCoordinate=function(){return this._coord},t.prototype.print=function(e){e.println("node "+this._coord+" lbl: "+this._label)},t.prototype.computeIM=function(e){},t.prototype.computeMergedLocation=function(e,t){var n=du.NONE;if(n=this._label.getLocation(t),!e.isNull(t)){var r=e.getLocation(t);n!==du.BOUNDARY&&(n=r)}return n},t.prototype.setLabel=function(){if(2!==arguments.length)return e.prototype.setLabel.apply(this,arguments);var t=arguments[0],n=arguments[1];null===this._label?this._label=new jf(t,n):this._label.setLocation(t,n)},t.prototype.getEdges=function(){return this._edges},t.prototype.mergeLabel=function(){var e=this;if(arguments[0]instanceof t){var n=arguments[0];this.mergeLabel(n._label)}else if(arguments[0]instanceof jf)for(var r=arguments[0],i=0;i<2;i++){var o=e.computeMergedLocation(r,i),a=e._label.getLocation(i);a===du.NONE&&e._label.setLocation(i,o)}},t.prototype.add=function(e){this._edges.insert(e),e.setNode(this)},t.prototype.setLabelBoundary=function(e){if(null===this._label)return null;var t=du.NONE;null!==this._label&&(t=this._label.getLocation(e));var n=null;switch(t){case du.BOUNDARY:n=du.INTERIOR;break;case du.INTERIOR:default:n=du.BOUNDARY}this._label.setLocation(e,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(zf),Vf=function(){this.nodeMap=new Pc,this.nodeFact=null;var e=arguments[0];this.nodeFact=e};Vf.prototype.find=function(e){return this.nodeMap.get(e)},Vf.prototype.addNode=function(){if(arguments[0]instanceof uu){var e=arguments[0],t=this.nodeMap.get(e);return null===t&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}if(arguments[0]instanceof Hf){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},Vf.prototype.print=function(e){for(var t=this.iterator();t.hasNext();)t.next().print(e)},Vf.prototype.iterator=function(){return this.nodeMap.values().iterator()},Vf.prototype.values=function(){return this.nodeMap.values()},Vf.prototype.getBoundaryNodes=function(e){for(var t=new cc,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(e)===du.BOUNDARY&&t.add(r)}return t},Vf.prototype.add=function(e){var t=e.getCoordinate();this.addNode(t).add(e)},Vf.prototype.interfaces_=function(){return[]},Vf.prototype.getClass=function(){return Vf};var Gf=function(){},Wf={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Gf.prototype.interfaces_=function(){return[]},Gf.prototype.getClass=function(){return Gf},Gf.isNorthern=function(e){return e===Gf.NE||e===Gf.NW},Gf.isOpposite=function(e,t){return e!==t&&2===(e-t+4)%4},Gf.commonHalfPlane=function(e,t){if(e===t)return e;if(2===(e-t+4)%4)return-1;var n=e<t?e:t;return 0===n&&3===(e>t?e:t)?3:n},Gf.isInHalfPlane=function(e,t){return t===Gf.SE?e===Gf.SE||e===Gf.SW:e===t||e===t+1},Gf.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new nu("Cannot compute the quadrant for point ( "+e+", "+t+" )");return e>=0?t>=0?Gf.NE:Gf.SE:t>=0?Gf.NW:Gf.SW}if(arguments[0]instanceof uu&&arguments[1]instanceof uu){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new nu("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Gf.NE:Gf.SE:r.y>=n.y?Gf.NW:Gf.SW}},Wf.NE.get=function(){return 0},Wf.NW.get=function(){return 1},Wf.SW.get=function(){return 2},Wf.SE.get=function(){return 3},Object.defineProperties(Gf,Wf);var qf=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var e=arguments[0];this._edge=e}else if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],i=null;this._edge=t,this.init(n,r),this._label=i}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],l=arguments[3];this._edge=o,this.init(a,s),this._label=l}};qf.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:qu.computeOrientation(e._p0,e._p1,this._p1)},qf.prototype.getDy=function(){return this._dy},qf.prototype.getCoordinate=function(){return this._p0},qf.prototype.setNode=function(e){this._node=e},qf.prototype.print=function(e){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);e.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)},qf.prototype.compareTo=function(e){var t=e;return this.compareDirection(t)},qf.prototype.getDirectedCoordinate=function(){return this._p1},qf.prototype.getDx=function(){return this._dx},qf.prototype.getLabel=function(){return this._label},qf.prototype.getEdge=function(){return this._edge},qf.prototype.getQuadrant=function(){return this._quadrant},qf.prototype.getNode=function(){return this._node},qf.prototype.toString=function(){var e=Math.atan2(this._dy,this._dx),t=this.getClass().getName(),n=t.lastIndexOf(".");return"  "+t.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label},qf.prototype.computeLabel=function(e){},qf.prototype.init=function(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=Gf.quadrant(this._dx,this._dy),Uu.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},qf.prototype.interfaces_=function(){return[ou]},qf.prototype.getClass=function(){return qf};var Yf=function(e){function t(){var t=arguments[0],n=arguments[1];if(e.call(this,t),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var r=t.getNumPoints()-1;this.init(t.getCoordinate(r),t.getCoordinate(r-1))}this.computeDirectedLabel()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getNextMin=function(){return this._nextMin},t.prototype.getDepth=function(e){return this._depth[e]},t.prototype.setVisited=function(e){this._isVisited=e},t.prototype.computeDirectedLabel=function(){this._label=new jf(this._edge.getLabel()),this._isForward||this._label.flip()},t.prototype.getNext=function(){return this._next},t.prototype.setDepth=function(e,t){if(-999!==this._depth[e]&&this._depth[e]!==t)throw new If("assigned depths do not match",this.getCoordinate());this._depth[e]=t},t.prototype.isInteriorAreaEdge=function(){for(var e=this,t=!0,n=0;n<2;n++)e._label.isArea(n)&&e._label.getLocation(n,Pf.LEFT)===du.INTERIOR&&e._label.getLocation(n,Pf.RIGHT)===du.INTERIOR||(t=!1);return t},t.prototype.setNextMin=function(e){this._nextMin=e},t.prototype.print=function(t){e.prototype.print.call(this,t),t.print(" "+this._depth[Pf.LEFT]+"/"+this._depth[Pf.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},t.prototype.setMinEdgeRing=function(e){this._minEdgeRing=e},t.prototype.isLineEdge=function(){var e=this._label.isLine(0)||this._label.isLine(1),t=!this._label.isArea(0)||this._label.allPositionsEqual(0,du.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,du.EXTERIOR);return e&&t&&n},t.prototype.setEdgeRing=function(e){this._edgeRing=e},t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},t.prototype.getDepthDelta=function(){var e=this._edge.getDepthDelta();return this._isForward||(e=-e),e},t.prototype.setInResult=function(e){this._isInResult=e},t.prototype.getSym=function(){return this._sym},t.prototype.isForward=function(){return this._isForward},t.prototype.getEdge=function(){return this._edge},t.prototype.printEdge=function(e){this.print(e),e.print(" "),this._isForward?this._edge.print(e):this._edge.printReverse(e)},t.prototype.setSym=function(e){this._sym=e},t.prototype.setVisitedEdge=function(e){this.setVisited(e),this._sym.setVisited(e)},t.prototype.setEdgeDepths=function(e,t){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;e===Pf.LEFT&&(r=-1);var i=Pf.opposite(e),o=t+n*r;this.setDepth(e,t),this.setDepth(i,o)},t.prototype.getEdgeRing=function(){return this._edgeRing},t.prototype.isInResult=function(){return this._isInResult},t.prototype.setNext=function(e){this._next=e},t.prototype.isVisited=function(){return this._isVisited},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.depthFactor=function(e,t){return e===du.EXTERIOR&&t===du.INTERIOR?1:e===du.INTERIOR&&t===du.EXTERIOR?-1:0},t}(qf),Xf=function(){};Xf.prototype.createNode=function(e){return new Hf(e,null)},Xf.prototype.interfaces_=function(){return[]},Xf.prototype.getClass=function(){return Xf};var Kf=function(){if(this._edges=new cc,this._nodes=null,this._edgeEndList=new cc,0===arguments.length)this._nodes=new Vf(new Xf);else if(1===arguments.length){var e=arguments[0];this._nodes=new Vf(e)}};Kf.prototype.printEdges=function(e){e.println("Edges:");for(var t=0;t<this._edges.size();t++){e.println("edge "+t+":");var n=this._edges.get(t);n.print(e),n.eiList.print(e)}},Kf.prototype.find=function(e){return this._nodes.find(e)},Kf.prototype.addNode=function(){if(arguments[0]instanceof Hf){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof uu){var t=arguments[0];return this._nodes.addNode(t)}},Kf.prototype.getNodeIterator=function(){return this._nodes.iterator()},Kf.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},Kf.prototype.debugPrintln=function(e){ku.out.println(e)},Kf.prototype.isBoundaryNode=function(e,t){var n=this._nodes.find(t);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(e)===du.BOUNDARY},Kf.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()},Kf.prototype.matchInSameDirection=function(e,t,n,r){return!!e.equals(n)&&qu.computeOrientation(e,t,r)===qu.COLLINEAR&&Gf.quadrant(e,t)===Gf.quadrant(n,r)},Kf.prototype.getEdgeEnds=function(){return this._edgeEndList},Kf.prototype.debugPrint=function(e){ku.out.print(e)},Kf.prototype.getEdgeIterator=function(){return this._edges.iterator()},Kf.prototype.findEdgeInSameDirection=function(e,t){for(var n=this,r=0;r<this._edges.size();r++){var i=n._edges.get(r),o=i.getCoordinates();if(n.matchInSameDirection(e,t,o[0],o[1]))return i;if(n.matchInSameDirection(e,t,o[o.length-1],o[o.length-2]))return i}return null},Kf.prototype.insertEdge=function(e){this._edges.add(e)},Kf.prototype.findEdgeEnd=function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var n=t.next();if(n.getEdge()===e)return n}return null},Kf.prototype.addEdges=function(e){for(var t=this,n=e.iterator();n.hasNext();){var r=n.next();t._edges.add(r);var i=new Yf(r,!0),o=new Yf(r,!1);i.setSym(o),o.setSym(i),t.add(i),t.add(o)}},Kf.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)},Kf.prototype.getNodes=function(){return this._nodes.values()},Kf.prototype.findEdge=function(e,t){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(e.equals(i[0])&&t.equals(i[1]))return r}return null},Kf.prototype.interfaces_=function(){return[]},Kf.prototype.getClass=function(){return Kf},Kf.linkResultDirectedEdges=function(e){for(var t=e.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()};var Zf=function(){this._geometryFactory=null,this._shellList=new cc;var e=arguments[0];this._geometryFactory=e};Zf.prototype.sortShellsAndHoles=function(e,t,n){for(var r=e.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):t.add(i)}},Zf.prototype.computePolygons=function(e){for(var t=new cc,n=e.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);t.add(r)}return t},Zf.prototype.placeFreeHoles=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,e);if(null===i)throw new If("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},Zf.prototype.buildMinimalEdgeRings=function(e,t,n){for(var r=new cc,i=e.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),t.add(s)):n.addAll(a)}else r.add(o)}return r},Zf.prototype.containsPoint=function(e){for(var t=this._shellList.iterator();t.hasNext();)if(t.next().containsPoint(e))return!0;return!1},Zf.prototype.buildMaximalEdgeRings=function(e){for(var t=new cc,n=e.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new Uf(r,this._geometryFactory);t.add(i),i.setInResult()}}return t},Zf.prototype.placePolygonHoles=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(e)}},Zf.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Zf.prototype.findEdgeRingContaining=function(e,t){for(var n=e.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=t.iterator();s.hasNext();){var l=s.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var f=!1;c.contains(r)&&qu.isPointInRing(i,u.getCoordinates())&&(f=!0),f&&(null===o||a.contains(c))&&(o=l)}return o},Zf.prototype.findShell=function(e){for(var t=0,n=null,r=e.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,t++)}return Uu.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),n},Zf.prototype.add=function(){if(1===arguments.length){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(2===arguments.length){var t=arguments[0],n=arguments[1];Kf.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(t),i=new cc,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},Zf.prototype.interfaces_=function(){return[]},Zf.prototype.getClass=function(){return Zf};var Qf=function(){};Qf.prototype.getBounds=function(){},Qf.prototype.interfaces_=function(){return[]},Qf.prototype.getClass=function(){return Qf};var Jf=function(){this._bounds=null,this._item=null;var e=arguments[0],t=arguments[1];this._bounds=e,this._item=t};Jf.prototype.getItem=function(){return this._item},Jf.prototype.getBounds=function(){return this._bounds},Jf.prototype.interfaces_=function(){return[Qf,lu]},Jf.prototype.getClass=function(){return Jf};var $f=function(){this._size=null,this._items=null,this._size=0,this._items=new cc,this._items.add(null)};$f.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e},$f.prototype.size=function(){return this._size},$f.prototype.reorder=function(e){for(var t=this,n=null,r=this._items.get(e);2*e<=this._size&&((n=2*e)!==t._size&&t._items.get(n+1).compareTo(t._items.get(n))<0&&n++,t._items.get(n).compareTo(r)<0);e=n)t._items.set(e,t._items.get(n));this._items.set(e,r)},$f.prototype.clear=function(){this._size=0,this._items.clear()},$f.prototype.isEmpty=function(){return 0===this._size},$f.prototype.add=function(e){this._items.add(null),this._size+=1;var t=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(t/2)))<0;t/=2)this._items.set(t,this._items.get(Math.trunc(t/2)));this._items.set(t,e)},$f.prototype.interfaces_=function(){return[]},$f.prototype.getClass=function(){return $f};var ep=function(){};ep.prototype.visitItem=function(e){},ep.prototype.interfaces_=function(){return[]},ep.prototype.getClass=function(){return ep};var tp=function(){};tp.prototype.insert=function(e,t){},tp.prototype.remove=function(e,t){},tp.prototype.query=function(){},tp.prototype.interfaces_=function(){return[]},tp.prototype.getClass=function(){return tp};var np=function(){if(this._childBoundables=new cc,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._level=e}},rp={serialVersionUID:{configurable:!0}};np.prototype.getLevel=function(){return this._level},np.prototype.size=function(){return this._childBoundables.size()},np.prototype.getChildBoundables=function(){return this._childBoundables},np.prototype.addChildBoundable=function(e){Uu.isTrue(null===this._bounds),this._childBoundables.add(e)},np.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},np.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},np.prototype.interfaces_=function(){return[Qf,lu]},np.prototype.getClass=function(){return np},rp.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(np,rp);var ip=function(){};ip.reverseOrder=function(){return{compare:function(e,t){return t.compareTo(e)}}},ip.min=function(e){return ip.sort(e),e.get(0)},ip.sort=function(e,t){var n=e.toArray();t?Ic.sort(n,t):Ic.sort(n);for(var r=e.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},ip.singletonList=function(e){var t=new cc;return t.add(e),t};var op=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],t=arguments[1],n=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=n,this._distance=this.distance()};op.prototype.expandToQueue=function(e,t){var n=op.isComposite(this._boundable1),r=op.isComposite(this._boundable2);if(n&&r)return op.area(this._boundable1)>op.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,t),null):(this.expand(this._boundable2,this._boundable1,e,t),null);if(n)return this.expand(this._boundable1,this._boundable2,e,t),null;if(r)return this.expand(this._boundable2,this._boundable1,e,t),null;throw new nu("neither boundable is composite")},op.prototype.isLeaves=function(){return!(op.isComposite(this._boundable1)||op.isComposite(this._boundable2))},op.prototype.compareTo=function(e){var t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0},op.prototype.expand=function(e,t,n,r){for(var i=e.getChildBoundables().iterator();i.hasNext();){var o=i.next(),a=new op(o,t,this._itemDistance);a.getDistance()<r&&n.add(a)}},op.prototype.getBoundable=function(e){return 0===e?this._boundable1:this._boundable2},op.prototype.getDistance=function(){return this._distance},op.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},op.prototype.interfaces_=function(){return[ou]},op.prototype.getClass=function(){return op},op.area=function(e){return e.getBounds().getArea()},op.isComposite=function(e){return e instanceof np};var ap=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new cc,this._nodeCapacity=null,0===arguments.length){var t=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=t}else if(1===arguments.length){var n=arguments[0];Uu.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},sp={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};ap.prototype.getNodeCapacity=function(){return this._nodeCapacity},ap.prototype.lastNode=function(e){return e.get(e.size()-1)},ap.prototype.size=function(){var e=this;if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=arguments[0],n=0,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof np?n+=e.size(i):i instanceof Jf&&(n+=1)}return n}},ap.prototype.removeItem=function(e,t){for(var n=null,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Jf&&i.getItem()===t&&(n=i)}return null!==n&&(e.getChildBoundables().remove(n),!0)},ap.prototype.itemsTree=function(){var e=this;if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new cc:t}if(1===arguments.length){for(var n=arguments[0],r=new cc,i=n.getChildBoundables().iterator();i.hasNext();){var o=i.next();if(o instanceof np){var a=e.itemsTree(o);null!==a&&r.add(a)}else o instanceof Jf?r.add(o.getItem()):Uu.shouldNeverReachHere()}return r.size()<=0?null:r}},ap.prototype.insert=function(e,t){Uu.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Jf(e,t))},ap.prototype.boundablesAtLevel=function(){var e=this;if(1===arguments.length){var t=arguments[0],n=new cc;return this.boundablesAtLevel(t,this._root,n),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(Uu.isTrue(r>-2),i.getLevel()===r)return o.add(i),null;for(var a=i.getChildBoundables().iterator();a.hasNext();){var s=a.next();s instanceof np?e.boundablesAtLevel(r,s,o):(Uu.isTrue(s instanceof Jf),-1===r&&o.add(s))}return null}},ap.prototype.query=function(){var e=this;if(1===arguments.length){var t=arguments[0];this.build();var n=new cc;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,n),n}if(2===arguments.length){var r=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),r)&&this.query(r,this._root,i)}else if(3===arguments.length)if(vu(arguments[2],ep)&&arguments[0]instanceof Object&&arguments[1]instanceof np)for(var o=arguments[0],a=arguments[1],s=arguments[2],l=a.getChildBoundables(),u=0;u<l.size();u++){var c=l.get(u);e.getIntersectsOp().intersects(c.getBounds(),o)&&(c instanceof np?e.query(o,c,s):c instanceof Jf?s.visitItem(c.getItem()):Uu.shouldNeverReachHere())}else if(vu(arguments[2],lc)&&arguments[0]instanceof Object&&arguments[1]instanceof np)for(var f=arguments[0],p=arguments[1],d=arguments[2],h=p.getChildBoundables(),v=0;v<h.size();v++){var m=h.get(v);e.getIntersectsOp().intersects(m.getBounds(),f)&&(m instanceof np?e.query(f,m,d):m instanceof Jf?d.add(m.getItem()):Uu.shouldNeverReachHere())}},ap.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},ap.prototype.getRoot=function(){return this.build(),this._root},ap.prototype.remove=function(){var e=this;if(2===arguments.length){var t=arguments[0],n=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,n)}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=this.removeItem(i,o);if(a)return!0;for(var s=null,l=i.getChildBoundables().iterator();l.hasNext();){var u=l.next();if(e.getIntersectsOp().intersects(u.getBounds(),r)&&u instanceof np&&(a=e.remove(r,u,o))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),a}},ap.prototype.createHigherLevels=function(e,t){Uu.isTrue(!e.isEmpty());var n=this.createParentBoundables(e,t+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,t+1)},ap.prototype.depth=function(){var e=this;if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=arguments[0],n=0,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof np){var o=e.depth(i);o>n&&(n=o)}}return n+1}},ap.prototype.createParentBoundables=function(e,t){var n=this;Uu.isTrue(!e.isEmpty());var r=new cc;r.add(this.createNode(t));var i=new cc(e);ip.sort(i,this.getComparator());for(var o=i.iterator();o.hasNext();){var a=o.next();n.lastNode(r).getChildBoundables().size()===n.getNodeCapacity()&&r.add(n.createNode(t)),n.lastNode(r).addChildBoundable(a)}return r},ap.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},ap.prototype.interfaces_=function(){return[lu]},ap.prototype.getClass=function(){return ap},ap.compareDoubles=function(e,t){return e>t?1:e<t?-1:0},sp.IntersectsOp.get=function(){return lp},sp.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},sp.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(ap,sp);var lp=function(){},up=function(){};up.prototype.distance=function(e,t){},up.prototype.interfaces_=function(){return[]},up.prototype.getClass=function(){return up};var cp=function(e){function t(n){n=n||t.DEFAULT_NODE_CAPACITY,e.call(this,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return t.prototype.createParentBoundablesFromVerticalSlices=function(e,t){Uu.isTrue(e.length>0);for(var n=new cc,r=0;r<e.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(e[r],t));return n},t.prototype.createNode=function(e){return new fp(e)},t.prototype.size=function(){return 0===arguments.length?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},t.prototype.insert=function(){if(2!==arguments.length)return e.prototype.insert.apply(this,arguments);var t=arguments[0],n=arguments[1];if(t.isNull())return null;e.prototype.insert.call(this,t,n)},t.prototype.getIntersectsOp=function(){return t.intersectsOp},t.prototype.verticalSlices=function(e,t){for(var n=Math.trunc(Math.ceil(e.size()/t)),r=new Array(t).fill(null),i=e.iterator(),o=0;o<t;o++){r[o]=new cc;for(var a=0;i.hasNext()&&a<n;){var s=i.next();r[o].add(s),a++}}return r},t.prototype.query=function(){if(1===arguments.length){var t=arguments[0];return e.prototype.query.call(this,t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];e.prototype.query.call(this,n,r)}else if(3===arguments.length)if(vu(arguments[2],ep)&&arguments[0]instanceof Object&&arguments[1]instanceof np){var i=arguments[0],o=arguments[1],a=arguments[2];e.prototype.query.call(this,i,o,a)}else if(vu(arguments[2],lc)&&arguments[0]instanceof Object&&arguments[1]instanceof np){var s=arguments[0],l=arguments[1],u=arguments[2];e.prototype.query.call(this,s,l,u)}},t.prototype.getComparator=function(){return t.yComparator},t.prototype.createParentBoundablesFromVerticalSlice=function(t,n){return e.prototype.createParentBoundables.call(this,t,n)},t.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return e.prototype.remove.call(this,t,n)}return e.prototype.remove.apply(this,arguments)},t.prototype.depth=function(){return 0===arguments.length?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},t.prototype.createParentBoundables=function(e,n){Uu.isTrue(!e.isEmpty());var r=Math.trunc(Math.ceil(e.size()/this.getNodeCapacity())),i=new cc(e);ip.sort(i,t.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,n)},t.prototype.nearestNeighbour=function(){if(1===arguments.length){if(vu(arguments[0],up)){var e=arguments[0],n=new op(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(n)}if(arguments[0]instanceof op){var r=arguments[0];return this.nearestNeighbour(r,ru.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof t&&vu(arguments[1],up)){var i=arguments[0],o=arguments[1],a=new op(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(a)}if(arguments[0]instanceof op&&"number"==typeof arguments[1]){var s=arguments[0],l=arguments[1],u=l,c=null,f=new $f;for(f.add(s);!f.isEmpty()&&u>0;){var p=f.poll(),d=p.getDistance();if(d>=u)break;p.isLeaves()?(u=d,c=p):p.expandToQueue(f,u)}return[c.getBoundable(0).getItem(),c.getBoundable(1).getItem()]}}else if(3===arguments.length){var h=arguments[0],v=arguments[1],m=arguments[2],g=new Jf(h,v),y=new op(this.getRoot(),g,m);return this.nearestNeighbour(y)[0]}},t.prototype.interfaces_=function(){return[tp,lu]},t.prototype.getClass=function(){return t},t.centreX=function(e){return t.avg(e.getMinX(),e.getMaxX())},t.avg=function(e,t){return(e+t)/2},t.centreY=function(e){return t.avg(e.getMinY(),e.getMaxY())},n.STRtreeNode.get=function(){return fp},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[su]},compare:function(n,r){return e.compareDoubles(t.centreX(n.getBounds()),t.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[su]},compare:function(n,r){return e.compareDoubles(t.centreY(n.getBounds()),t.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(e,t){return e.intersects(t)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(t,n),t}(ap),fp=function(e){function t(){var t=arguments[0];e.call(this,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.computeBounds=function(){for(var e=null,t=this.getChildBoundables().iterator();t.hasNext();){var n=t.next();null===e?e=new Tu(n.getBounds()):e.expandToInclude(n.getBounds())}return e},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(np),pp=function(){};pp.prototype.interfaces_=function(){return[]},pp.prototype.getClass=function(){return pp},pp.relativeSign=function(e,t){return e<t?-1:e>t?1:0},pp.compare=function(e,t,n){if(t.equals2D(n))return 0;var r=pp.relativeSign(t.x,n.x),i=pp.relativeSign(t.y,n.y);switch(e){case 0:return pp.compareValue(r,i);case 1:return pp.compareValue(i,r);case 2:return pp.compareValue(i,-r);case 3:return pp.compareValue(-r,i);case 4:return pp.compareValue(-r,-i);case 5:return pp.compareValue(-i,-r);case 6:return pp.compareValue(-i,r);case 7:return pp.compareValue(r,-i)}return Uu.shouldNeverReachHere("invalid octant value"),0},pp.compareValue=function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0};var dp=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._segString=e,this.coord=new uu(t),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!t.equals2D(e.getCoordinate(n))};dp.prototype.getCoordinate=function(){return this.coord},dp.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)},dp.prototype.compareTo=function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:pp.compare(this._segmentOctant,this.coord,t.coord)},dp.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===e},dp.prototype.isInterior=function(){return this._isInterior},dp.prototype.interfaces_=function(){return[ou]},dp.prototype.getClass=function(){return dp};var hp=function(){this._nodeMap=new Pc,this._edge=null;var e=arguments[0];this._edge=e};hp.prototype.getSplitCoordinates=function(){var e=new pc;this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next();this.addEdgeCoordinates(n,r,e),n=r}return e.toCoordinateArray()},hp.prototype.addCollapsedNodes=function(){var e=new cc;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var t=e.iterator();t.hasNext();){var n=t.next().intValue();this.add(this._edge.getCoordinate(n),n)}},hp.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)},hp.prototype.findCollapsesFromExistingVertices=function(e){for(var t=0;t<this._edge.size()-2;t++){var n=this._edge.getCoordinate(t),r=this._edge.getCoordinate(t+2);n.equals2D(r)&&e.add(new bu(t+1))}},hp.prototype.addEdgeCoordinates=function(e,t,n){var r=this._edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(r);n.add(new uu(e.coord),!1);for(var o=e.segmentIndex+1;o<=t.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new uu(t.coord))},hp.prototype.iterator=function(){return this._nodeMap.values().iterator()},hp.prototype.addSplitEdges=function(e){this.addEndpoints(),this.addCollapsedNodes();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),i=this.createSplitEdge(n,r);e.add(i),n=r}},hp.prototype.findCollapseIndex=function(e,t,n){if(!e.coord.equals2D(t.coord))return!1;var r=t.segmentIndex-e.segmentIndex;return t.isInterior()||r--,1===r&&(n[0]=e.segmentIndex+1,!0)},hp.prototype.findCollapsesFromInsertedNodes=function(e){for(var t=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,t)&&e.add(new bu(t[0])),r=i}},hp.prototype.getEdge=function(){return this._edge},hp.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)},hp.prototype.createSplitEdge=function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this._edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new uu(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return i&&(o[a]=new uu(t.coord)),new yp(o,this._edge.getData())},hp.prototype.add=function(e,t){var n=new dp(this._edge,e,t,this._edge.getSegmentOctant(t)),r=this._nodeMap.get(n);return null!==r?(Uu.isTrue(r.coord.equals2D(e),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},hp.prototype.checkSplitEdgesCorrectness=function(e){var t=this._edge.getCoordinates(),n=e.get(0).getCoordinate(0);if(!n.equals2D(t[0]))throw new Fu("bad split edge start point at "+n);var r=e.get(e.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(t[t.length-1]))throw new Fu("bad split edge end point at "+i)},hp.prototype.interfaces_=function(){return[]},hp.prototype.getClass=function(){return hp};var vp=function(){};vp.prototype.interfaces_=function(){return[]},vp.prototype.getClass=function(){return vp},vp.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new nu("Cannot compute the octant for point ( "+e+", "+t+" )");var n=Math.abs(e),r=Math.abs(t);return e>=0?t>=0?n>=r?0:1:n>=r?7:6:t>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof uu&&arguments[1]instanceof uu){var i=arguments[0],o=arguments[1],a=o.x-i.x,s=o.y-i.y;if(0===a&&0===s)throw new nu("Cannot compute the octant for two identical points "+i);return vp.octant(a,s)}};var mp=function(){};mp.prototype.getCoordinates=function(){},mp.prototype.size=function(){},mp.prototype.getCoordinate=function(e){},mp.prototype.isClosed=function(){},mp.prototype.setData=function(e){},mp.prototype.getData=function(){},mp.prototype.interfaces_=function(){return[]},mp.prototype.getClass=function(){return mp};var gp=function(){};gp.prototype.addIntersection=function(e,t){},gp.prototype.interfaces_=function(){return[mp]},gp.prototype.getClass=function(){return gp};var yp=function(){this._nodeList=new hp(this),this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};yp.prototype.getCoordinates=function(){return this._pts},yp.prototype.size=function(){return this._pts.length},yp.prototype.getCoordinate=function(e){return this._pts[e]},yp.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},yp.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))},yp.prototype.setData=function(e){this._data=e},yp.prototype.safeOctant=function(e,t){return e.equals2D(t)?0:vp.octant(e,t)},yp.prototype.getData=function(){return this._data},yp.prototype.addIntersection=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[3],o=new uu(n.getIntersection(i));this.addIntersection(o,r)}},yp.prototype.toString=function(){return ju.toLineString(new ff(this._pts))},yp.prototype.getNodeList=function(){return this._nodeList},yp.prototype.addIntersectionNode=function(e,t){var n=t,r=n+1;if(r<this._pts.length){var i=this._pts[r];e.equals2D(i)&&(n=r)}return this._nodeList.add(e,n)},yp.prototype.addIntersections=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},yp.prototype.interfaces_=function(){return[gp]},yp.prototype.getClass=function(){return yp},yp.getNodedSubstrings=function(){if(1===arguments.length){var e=arguments[0],t=new cc;return yp.getNodedSubstrings(e,t),t}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var o=i.next();o.getNodeList().addSplitEdges(r)}};var bp=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new uu,this.p1=new uu;else if(1===arguments.length){var e=arguments[0];this.p0=new uu(e.p0),this.p1=new uu(e.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new uu(t,n),this.p1=new uu(r,i)}},_p={serialVersionUID:{configurable:!0}};bp.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},bp.prototype.orientationIndex=function(){if(arguments[0]instanceof bp){var e=arguments[0],t=qu.orientationIndex(this.p0,this.p1,e.p0),n=qu.orientationIndex(this.p0,this.p1,e.p1);return t>=0&&n>=0||t<=0&&n<=0?Math.max(t,n):0}if(arguments[0]instanceof uu){var r=arguments[0];return qu.orientationIndex(this.p0,this.p1,r)}},bp.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])},bp.prototype.isVertical=function(){return this.p0.x===this.p1.x},bp.prototype.equals=function(e){if(!(e instanceof bp))return!1;var t=e;return this.p0.equals(t.p0)&&this.p1.equals(t.p1)},bp.prototype.intersection=function(e){var t=new Vu;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null},bp.prototype.project=function(){if(arguments[0]instanceof uu){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new uu(e);var t=this.projectionFactor(e),n=new uu;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof bp){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var a=this.project(r.p0);i<0&&(a=this.p0),i>1&&(a=this.p1);var s=this.project(r.p1);return o<0&&(s=this.p0),o>1&&(s=this.p1),new bp(a,s)}},bp.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},bp.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},bp.prototype.getCoordinate=function(e){return 0===e?this.p0:this.p1},bp.prototype.distancePerpendicular=function(e){return qu.distancePointLinePerpendicular(e,this.p0,this.p1)},bp.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},bp.prototype.midPoint=function(){return bp.midPoint(this.p0,this.p1)},bp.prototype.projectionFactor=function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=t*t+n*n;return r<=0?ru.NaN:((e.x-this.p0.x)*t+(e.y-this.p0.y)*n)/r},bp.prototype.closestPoints=function(e){var t=this.intersection(e);if(null!==t)return[t,t];var n=new Array(2).fill(null),r=ru.MAX_VALUE,i=null,o=this.closestPoint(e.p0);r=o.distance(e.p0),n[0]=o,n[1]=e.p0;var a=this.closestPoint(e.p1);(i=a.distance(e.p1))<r&&(r=i,n[0]=a,n[1]=e.p1);var s=e.closestPoint(this.p0);(i=s.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=s);var l=e.closestPoint(this.p1);return(i=l.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=l),n},bp.prototype.closestPoint=function(e){var t=this.projectionFactor(e);return t>0&&t<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1},bp.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},bp.prototype.getLength=function(){return this.p0.distance(this.p1)},bp.prototype.compareTo=function(e){var t=e,n=this.p0.compareTo(t.p0);return 0!==n?n:this.p1.compareTo(t.p1)},bp.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e},bp.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)},bp.prototype.lineIntersection=function(e){try{return Mu.intersection(this.p0,this.p1,e.p0,e.p1)}catch(e){if(!(e instanceof Pu))throw e}return null},bp.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},bp.prototype.pointAlongOffset=function(e,t){var n=this.p0.x+e*(this.p1.x-this.p0.x),r=this.p0.y+e*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o),s=0,l=0;if(0!==t){if(a<=0)throw new Error("Cannot compute offset from zero-length line segment");s=t*i/a,l=t*o/a}return new uu(n-l,r+s)},bp.prototype.setCoordinates=function(){if(1===arguments.length){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=n.x,this.p1.y=n.y}},bp.prototype.segmentFraction=function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||ru.isNaN(t))&&(t=1),t},bp.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},bp.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},bp.prototype.distance=function(){if(arguments[0]instanceof bp){var e=arguments[0];return qu.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof uu){var t=arguments[0];return qu.distancePointLine(t,this.p0,this.p1)}},bp.prototype.pointAlong=function(e){var t=new uu;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t},bp.prototype.hashCode=function(){var e=ru.doubleToLongBits(this.p0.x);e^=31*ru.doubleToLongBits(this.p0.y);var t=Math.trunc(e)^Math.trunc(e>>32),n=ru.doubleToLongBits(this.p1.x);return n^=31*ru.doubleToLongBits(this.p1.y),t^Math.trunc(n)^Math.trunc(n>>32)},bp.prototype.interfaces_=function(){return[ou,lu]},bp.prototype.getClass=function(){return bp},bp.midPoint=function(e,t){return new uu((e.x+t.x)/2,(e.y+t.y)/2)},_p.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(bp,_p);var Ep=function(){this.tempEnv1=new Tu,this.tempEnv2=new Tu,this._overlapSeg1=new bp,this._overlapSeg2=new bp};Ep.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];e.getLineSegment(t,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Ep.prototype.interfaces_=function(){return[]},Ep.prototype.getClass=function(){return Ep};var xp=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._pts=e,this._start=t,this._end=n,this._context=r};xp.prototype.getLineSegment=function(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]},xp.prototype.computeSelect=function(e,t,n,r){var i=this._pts[t],o=this._pts[n];if(r.tempEnv1.init(i,o),n-t==1)return r.select(this,t),null;if(!e.intersects(r.tempEnv1))return null;var a=Math.trunc((t+n)/2);t<a&&this.computeSelect(e,t,a,r),a<n&&this.computeSelect(e,a,n,r)},xp.prototype.getCoordinates=function(){for(var e=new Array(this._end-this._start+1).fill(null),t=0,n=this._start;n<=this._end;n++)e[t++]=this._pts[n];return e},xp.prototype.computeOverlaps=function(e,t){this.computeOverlapsInternal(this._start,this._end,e,e._start,e._end,t)},xp.prototype.setId=function(e){this._id=e},xp.prototype.select=function(e,t){this.computeSelect(e,this._start,this._end,t)},xp.prototype.getEnvelope=function(){if(null===this._env){var e=this._pts[this._start],t=this._pts[this._end];this._env=new Tu(e,t)}return this._env},xp.prototype.getEndIndex=function(){return this._end},xp.prototype.getStartIndex=function(){return this._start},xp.prototype.getContext=function(){return this._context},xp.prototype.getId=function(){return this._id},xp.prototype.computeOverlapsInternal=function(e,t,n,r,i,o){var a=this._pts[e],s=this._pts[t],l=n._pts[r],u=n._pts[i];if(t-e==1&&i-r==1)return o.overlap(this,e,n,r),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(l,u),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((e+t)/2),f=Math.trunc((r+i)/2);e<c&&(r<f&&this.computeOverlapsInternal(e,c,n,r,f,o),f<i&&this.computeOverlapsInternal(e,c,n,f,i,o)),c<t&&(r<f&&this.computeOverlapsInternal(c,t,n,r,f,o),f<i&&this.computeOverlapsInternal(c,t,n,f,i,o))},xp.prototype.interfaces_=function(){return[]},xp.prototype.getClass=function(){return xp};var wp=function(){};wp.prototype.interfaces_=function(){return[]},wp.prototype.getClass=function(){return wp},wp.getChainStartIndices=function(e){var t=0,n=new cc;n.add(new bu(t));do{var r=wp.findChainEnd(e,t);n.add(new bu(r)),t=r}while(t<e.length-1);return wp.toIntArray(n)},wp.findChainEnd=function(e,t){for(var n=t;n<e.length-1&&e[n].equals2D(e[n+1]);)n++;if(n>=e.length-1)return e.length-1;for(var r=Gf.quadrant(e[n],e[n+1]),i=t+1;i<e.length;){if(!e[i-1].equals2D(e[i])&&Gf.quadrant(e[i-1],e[i])!==r)break;i++}return i-1},wp.getChains=function(){if(1===arguments.length){var e=arguments[0];return wp.getChains(e,null)}if(2===arguments.length){for(var t=arguments[0],n=arguments[1],r=new cc,i=wp.getChainStartIndices(t),o=0;o<i.length-1;o++){var a=new xp(t,i[o],i[o+1],n);r.add(a)}return r}},wp.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var Sp=function(){};Sp.prototype.computeNodes=function(e){},Sp.prototype.getNodedSubstrings=function(){},Sp.prototype.interfaces_=function(){return[]},Sp.prototype.getClass=function(){return Sp};var Op=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setSegmentIntersector(e)}};Op.prototype.setSegmentIntersector=function(e){this._segInt=e},Op.prototype.interfaces_=function(){return[Sp]},Op.prototype.getClass=function(){return Op};var Cp=function(e){function t(t){t?e.call(this,t):e.call(this),this._monoChains=new cc,this._index=new cp,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={SegmentOverlapAction:{configurable:!0}};return t.prototype.getMonotoneChains=function(){return this._monoChains},t.prototype.getNodedSubstrings=function(){return yp.getNodedSubstrings(this._nodedSegStrings)},t.prototype.getIndex=function(){return this._index},t.prototype.add=function(e){for(var t=this,n=wp.getChains(e.getCoordinates(),e).iterator();n.hasNext();){var r=n.next();r.setId(t._idCounter++),t._index.insert(r.getEnvelope(),r),t._monoChains.add(r)}},t.prototype.computeNodes=function(e){this._nodedSegStrings=e;for(var t=e.iterator();t.hasNext();)this.add(t.next());this.intersectChains()},t.prototype.intersectChains=function(){for(var e=this,t=new Ap(this._segInt),n=this._monoChains.iterator();n.hasNext();)for(var r=n.next(),i=e._index.query(r.getEnvelope()).iterator();i.hasNext();){var o=i.next();if(o.getId()>r.getId()&&(r.computeOverlaps(o,t),e._nOverlaps++),e._segInt.isDone())return null}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.SegmentOverlapAction.get=function(){return Ap},Object.defineProperties(t,n),t}(Op),Ap=function(e){function t(){e.call(this),this._si=null;var t=arguments[0];this._si=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.overlap=function(){if(4!==arguments.length)return e.prototype.overlap.apply(this,arguments);var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3],o=t.getContext(),a=r.getContext();this._si.processIntersections(o,n,a,i)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ep),Pp=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(a),this.setMitreLimit(s)}},kp={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Pp.prototype.getEndCapStyle=function(){return this._endCapStyle},Pp.prototype.isSingleSided=function(){return this._isSingleSided},Pp.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,0===this._quadrantSegments&&(this._joinStyle=Pp.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Pp.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==Pp.JOIN_ROUND&&(this._quadrantSegments=Pp.DEFAULT_QUADRANT_SEGMENTS)},Pp.prototype.getJoinStyle=function(){return this._joinStyle},Pp.prototype.setJoinStyle=function(e){this._joinStyle=e},Pp.prototype.setSimplifyFactor=function(e){this._simplifyFactor=e<0?0:e},Pp.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Pp.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Pp.prototype.setEndCapStyle=function(e){this._endCapStyle=e},Pp.prototype.getMitreLimit=function(){return this._mitreLimit},Pp.prototype.setMitreLimit=function(e){this._mitreLimit=e},Pp.prototype.setSingleSided=function(e){this._isSingleSided=e},Pp.prototype.interfaces_=function(){return[]},Pp.prototype.getClass=function(){return Pp},Pp.bufferDistanceError=function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)},kp.CAP_ROUND.get=function(){return 1},kp.CAP_FLAT.get=function(){return 2},kp.CAP_SQUARE.get=function(){return 3},kp.JOIN_ROUND.get=function(){return 1},kp.JOIN_MITRE.get=function(){return 2},kp.JOIN_BEVEL.get=function(){return 3},kp.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},kp.DEFAULT_MITRE_LIMIT.get=function(){return 5},kp.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Pp,kp);var Mp=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=qu.COUNTERCLOCKWISE,this._inputLine=e||null},Tp={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Mp.prototype.isDeletable=function(e,t,n,r){var i=this._inputLine[e],o=this._inputLine[t],a=this._inputLine[n];return!!this.isConcave(i,o,a)&&!!this.isShallow(i,o,a,r)&&this.isShallowSampled(i,o,e,n,r)},Mp.prototype.deleteShallowConcavities=function(){for(var e=this,t=1,n=this.findNextNonDeletedIndex(t),r=this.findNextNonDeletedIndex(n),i=!1;r<this._inputLine.length;){var o=!1;e.isDeletable(t,n,r,e._distanceTol)&&(e._isDeleted[n]=Mp.DELETE,o=!0,i=!0),t=o?r:n,n=e.findNextNonDeletedIndex(t),r=e.findNextNonDeletedIndex(n)}return i},Mp.prototype.isShallowConcavity=function(e,t,n,r){return qu.computeOrientation(e,t,n)===this._angleOrientation&&qu.distancePointLine(t,e,n)<r},Mp.prototype.isShallowSampled=function(e,t,n,r,i){var o=Math.trunc((r-n)/Mp.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=n;a<r;a+=o)if(!this.isShallow(e,t,this._inputLine[a],i))return!1;return!0},Mp.prototype.isConcave=function(e,t,n){var r=qu.computeOrientation(e,t,n)===this._angleOrientation;return r},Mp.prototype.simplify=function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=qu.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var t=!1;do{t=this.deleteShallowConcavities()}while(t);return this.collapseLine()},Mp.prototype.findNextNonDeletedIndex=function(e){for(var t=e+1;t<this._inputLine.length&&this._isDeleted[t]===Mp.DELETE;)t++;return t},Mp.prototype.isShallow=function(e,t,n,r){return qu.distancePointLine(t,e,n)<r},Mp.prototype.collapseLine=function(){for(var e=new pc,t=0;t<this._inputLine.length;t++)this._isDeleted[t]!==Mp.DELETE&&e.add(this._inputLine[t]);return e.toCoordinateArray()},Mp.prototype.interfaces_=function(){return[]},Mp.prototype.getClass=function(){return Mp},Mp.simplify=function(e,t){return new Mp(e).simplify(t)},Tp.INIT.get=function(){return 0},Tp.DELETE.get=function(){return 1},Tp.KEEP.get=function(){return 1},Tp.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Mp,Tp);var Lp=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new cc},Ip={COORDINATE_ARRAY_TYPE:{configurable:!0}};Lp.prototype.getCoordinates=function(){return this._ptList.toArray(Lp.COORDINATE_ARRAY_TYPE)},Lp.prototype.setPrecisionModel=function(e){this._precisionModel=e},Lp.prototype.addPt=function(e){var t=new uu(e);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)},Lp.prototype.revere=function(){},Lp.prototype.addPts=function(e,t){if(t)for(var n=0;n<e.length;n++)this.addPt(e[n]);else for(var r=e.length-1;r>=0;r--)this.addPt(e[r])},Lp.prototype.isRedundant=function(e){if(this._ptList.size()<1)return!1;var t=this._ptList.get(this._ptList.size()-1);return e.distance(t)<this._minimimVertexDistance},Lp.prototype.toString=function(){return(new _f).createLineString(this.getCoordinates()).toString()},Lp.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var e=new uu(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);if(e.equals(t))return null;this._ptList.add(e)},Lp.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e},Lp.prototype.interfaces_=function(){return[]},Lp.prototype.getClass=function(){return Lp},Ip.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Lp,Ip);var Dp=function(){},Rp={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Dp.prototype.interfaces_=function(){return[]},Dp.prototype.getClass=function(){return Dp},Dp.toDegrees=function(e){return 180*e/Math.PI},Dp.normalize=function(e){for(;e>Math.PI;)e-=Dp.PI_TIMES_2;for(;e<=-Math.PI;)e+=Dp.PI_TIMES_2;return e},Dp.angle=function(){if(1===arguments.length){var e=arguments[0];return Math.atan2(e.y,e.x)}if(2===arguments.length){var t=arguments[0],n=arguments[1],r=n.x-t.x,i=n.y-t.y;return Math.atan2(i,r)}},Dp.isAcute=function(e,t,n){var r=e.x-t.x,i=e.y-t.y;return r*(n.x-t.x)+i*(n.y-t.y)>0},Dp.isObtuse=function(e,t,n){var r=e.x-t.x,i=e.y-t.y;return r*(n.x-t.x)+i*(n.y-t.y)<0},Dp.interiorAngle=function(e,t,n){var r=Dp.angle(t,e),i=Dp.angle(t,n);return Math.abs(i-r)},Dp.normalizePositive=function(e){if(e<0){for(;e<0;)e+=Dp.PI_TIMES_2;e>=Dp.PI_TIMES_2&&(e=0)}else{for(;e>=Dp.PI_TIMES_2;)e-=Dp.PI_TIMES_2;e<0&&(e=0)}return e},Dp.angleBetween=function(e,t,n){var r=Dp.angle(t,e),i=Dp.angle(t,n);return Dp.diff(r,i)},Dp.diff=function(e,t){var n=null;return(n=e<t?t-e:e-t)>Math.PI&&(n=2*Math.PI-n),n},Dp.toRadians=function(e){return e*Math.PI/180},Dp.getTurn=function(e,t){var n=Math.sin(t-e);return n>0?Dp.COUNTERCLOCKWISE:n<0?Dp.CLOCKWISE:Dp.NONE},Dp.angleBetweenOriented=function(e,t,n){var r=Dp.angle(t,e),i=Dp.angle(t,n)-r;return i<=-Math.PI?i+Dp.PI_TIMES_2:i>Math.PI?i-Dp.PI_TIMES_2:i},Rp.PI_TIMES_2.get=function(){return 2*Math.PI},Rp.PI_OVER_2.get=function(){return Math.PI/2},Rp.PI_OVER_4.get=function(){return Math.PI/4},Rp.COUNTERCLOCKWISE.get=function(){return qu.COUNTERCLOCKWISE},Rp.CLOCKWISE.get=function(){return qu.CLOCKWISE},Rp.NONE.get=function(){return qu.COLLINEAR},Object.defineProperties(Dp,Rp);var Np=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new bp,this._seg1=new bp,this._offset0=new bp,this._offset1=new bp,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=t,this._bufParams=n,this._li=new Vu,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===Pp.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},jp={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Np.prototype.addNextSegment=function(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=qu.computeOrientation(this._s0,this._s1,this._s2),r=n===qu.CLOCKWISE&&this._side===Pf.LEFT||n===qu.COUNTERCLOCKWISE&&this._side===Pf.RIGHT;0===n?this.addCollinear(t):r?this.addOutsideTurn(n,t):this.addInsideTurn(n,t)},Np.prototype.addLineEndCap=function(e,t){var n=new bp(e,t),r=new bp;this.computeOffsetSegment(n,Pf.LEFT,this._distance,r);var i=new bp;this.computeOffsetSegment(n,Pf.RIGHT,this._distance,i);var o=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,o);switch(this._bufParams.getEndCapStyle()){case Pp.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(t,s+Math.PI/2,s-Math.PI/2,qu.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case Pp.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case Pp.CAP_SQUARE:var l=new uu;l.x=Math.abs(this._distance)*Math.cos(s),l.y=Math.abs(this._distance)*Math.sin(s);var u=new uu(r.p1.x+l.x,r.p1.y+l.y),c=new uu(i.p1.x+l.x,i.p1.y+l.y);this._segList.addPt(u),this._segList.addPt(c)}},Np.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Np.prototype.addMitreJoin=function(e,t,n,r){var i=!0,o=null;try{o=Mu.intersection(t.p0,t.p1,n.p0,n.p1),(r<=0?1:o.distance(e)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(e){if(!(e instanceof Pu))throw e;o=new uu(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(t,n,r,this._bufParams.getMitreLimit())},Np.prototype.addFilletCorner=function(e,t,n,r,i){var o=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,o),l=n.x-e.x,u=n.y-e.y,c=Math.atan2(u,l);r===qu.CLOCKWISE?s<=c&&(s+=2*Math.PI):s>=c&&(s-=2*Math.PI),this._segList.addPt(t),this.addFilletArc(e,s,c,r,i),this._segList.addPt(n)},Np.prototype.addOutsideTurn=function(e,t){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Np.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Pp.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Pp.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(t&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))},Np.prototype.createSquare=function(e){this._segList.addPt(new uu(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new uu(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new uu(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new uu(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()},Np.prototype.addSegments=function(e,t){this._segList.addPts(e,t)},Np.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Np.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Np.prototype.initSideSegments=function(e,t,n){this._s1=e,this._s2=t,this._side=n,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Np.prototype.addLimitedMitreJoin=function(e,t,n,r){var i=this._seg0.p1,o=Dp.angle(i,this._seg0.p0),a=Dp.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,s=Dp.normalize(o+a),l=Dp.normalize(s+Math.PI),u=r*n,c=n-u*Math.abs(Math.sin(a)),f=i.x+u*Math.cos(l),p=i.y+u*Math.sin(l),d=new uu(f,p),h=new bp(i,d),v=h.pointAlongOffset(1,c),m=h.pointAlongOffset(1,-c);this._side===Pf.LEFT?(this._segList.addPt(v),this._segList.addPt(m)):(this._segList.addPt(m),this._segList.addPt(v))},Np.prototype.computeOffsetSegment=function(e,t,n,r){var i=t===Pf.LEFT?1:-1,o=e.p1.x-e.p0.x,a=e.p1.y-e.p0.y,s=Math.sqrt(o*o+a*a),l=i*n*o/s,u=i*n*a/s;r.p0.x=e.p0.x-u,r.p0.y=e.p0.y+l,r.p1.x=e.p1.x-u,r.p1.y=e.p1.y+l},Np.prototype.addFilletArc=function(e,t,n,r,i){var o=r===qu.CLOCKWISE?-1:1,a=Math.abs(t-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var l=a/s,u=0,c=new uu;u<a;){var f=t+o*u;c.x=e.x+i*Math.cos(f),c.y=e.y+i*Math.sin(f),this._segList.addPt(c),u+=l}},Np.prototype.addInsideTurn=function(e,t){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Np.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new uu((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new uu((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Np.prototype.createCircle=function(e){var t=new uu(e.x+this._distance,e.y);this._segList.addPt(t),this.addFilletArc(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Np.prototype.addBevelJoin=function(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)},Np.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Lp,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*Np.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Np.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Pp.JOIN_BEVEL||this._bufParams.getJoinStyle()===Pp.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,qu.CLOCKWISE,this._distance))},Np.prototype.closeRing=function(){this._segList.closeRing()},Np.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Np.prototype.interfaces_=function(){return[]},Np.prototype.getClass=function(){return Np},jp.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},jp.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},jp.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},jp.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Np,jp);var Fp=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t};Fp.prototype.getOffsetCurve=function(e,t){if(this._distance=t,0===t)return null;var n=t<0,r=Math.abs(t),i=this.getSegGen(r);e.length<=1?this.computePointCurve(e[0],i):this.computeOffsetCurve(e,n,i);var o=i.getCoordinates();return n&&dc.reverse(o),o},Fp.prototype.computeSingleSidedBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){n.addSegments(e,!0);var i=Mp.simplify(e,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Pf.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{n.addSegments(e,!1);var s=Mp.simplify(e,r),l=s.length-1;n.initSideSegments(s[0],s[1],Pf.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(s[u],!0)}n.addLastSegment(),n.closeRing()},Fp.prototype.computeRingBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);t===Pf.RIGHT&&(r=-r);var i=Mp.simplify(e,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],t);for(var a=1;a<=o;a++){var s=1!==a;n.addNextSegment(i[a],s)}n.closeRing()},Fp.prototype.computeLineBufferCurve=function(e,t){var n=this.simplifyTolerance(this._distance),r=Mp.simplify(e,n),i=r.length-1;t.initSideSegments(r[0],r[1],Pf.LEFT);for(var o=2;o<=i;o++)t.addNextSegment(r[o],!0);t.addLastSegment(),t.addLineEndCap(r[i-1],r[i]);var a=Mp.simplify(e,-n),s=a.length-1;t.initSideSegments(a[s],a[s-1],Pf.LEFT);for(var l=s-2;l>=0;l--)t.addNextSegment(a[l],!0);t.addLastSegment(),t.addLineEndCap(a[1],a[0]),t.closeRing()},Fp.prototype.computePointCurve=function(e,t){switch(this._bufParams.getEndCapStyle()){case Pp.CAP_ROUND:t.createCircle(e);break;case Pp.CAP_SQUARE:t.createSquare(e)}},Fp.prototype.getLineCurve=function(e,t){if(this._distance=t,t<0&&!this._bufParams.isSingleSided())return null;if(0===t)return null;var n=Math.abs(t),r=this.getSegGen(n);if(e.length<=1)this.computePointCurve(e[0],r);else if(this._bufParams.isSingleSided()){var i=t<0;this.computeSingleSidedBufferCurve(e,i,r)}else this.computeLineBufferCurve(e,r);return r.getCoordinates()},Fp.prototype.getBufferParameters=function(){return this._bufParams},Fp.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()},Fp.prototype.getRingCurve=function(e,t,n){if(this._distance=n,e.length<=2)return this.getLineCurve(e,n);if(0===n)return Fp.copyCoordinates(e);var r=this.getSegGen(n);return this.computeRingBufferCurve(e,t,r),r.getCoordinates()},Fp.prototype.computeOffsetCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){var i=Mp.simplify(e,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Pf.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{var s=Mp.simplify(e,r),l=s.length-1;n.initSideSegments(s[0],s[1],Pf.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(s[u],!0)}n.addLastSegment()},Fp.prototype.getSegGen=function(e){return new Np(this._precisionModel,this._bufParams,e)},Fp.prototype.interfaces_=function(){return[]},Fp.prototype.getClass=function(){return Fp},Fp.copyCoordinates=function(e){for(var t=new Array(e.length).fill(null),n=0;n<t.length;n++)t[n]=new uu(e[n]);return t};var Bp=function(){this._subgraphs=null,this._seg=new bp,this._cga=new qu;var e=arguments[0];this._subgraphs=e},Up={DepthSegment:{configurable:!0}};Bp.prototype.findStabbedSegments=function(){var e=this;if(1===arguments.length){for(var t=arguments[0],n=new cc,r=this._subgraphs.iterator();r.hasNext();){var i=r.next(),o=i.getEnvelope();t.y<o.getMinY()||t.y>o.getMaxY()||e.findStabbedSegments(t,i.getDirectedEdges(),n)}return n}if(3===arguments.length)if(vu(arguments[2],lc)&&arguments[0]instanceof uu&&arguments[1]instanceof Yf)for(var a=arguments[0],s=arguments[1],l=arguments[2],u=s.getEdge().getCoordinates(),c=0;c<u.length-1;c++){e._seg.p0=u[c],e._seg.p1=u[c+1],e._seg.p0.y>e._seg.p1.y&&e._seg.reverse();var f=Math.max(e._seg.p0.x,e._seg.p1.x);if(!(f<a.x)&&!(e._seg.isHorizontal()||a.y<e._seg.p0.y||a.y>e._seg.p1.y||qu.computeOrientation(e._seg.p0,e._seg.p1,a)===qu.RIGHT)){var p=s.getDepth(Pf.LEFT);e._seg.p0.equals(u[c])||(p=s.getDepth(Pf.RIGHT));var d=new zp(e._seg,p);l.add(d)}}else if(vu(arguments[2],lc)&&arguments[0]instanceof uu&&vu(arguments[1],lc))for(var h=arguments[0],v=arguments[1],m=arguments[2],g=v.iterator();g.hasNext();){var y=g.next();y.isForward()&&e.findStabbedSegments(h,y,m)}},Bp.prototype.getDepth=function(e){var t=this.findStabbedSegments(e);return 0===t.size()?0:ip.min(t)._leftDepth},Bp.prototype.interfaces_=function(){return[]},Bp.prototype.getClass=function(){return Bp},Up.DepthSegment.get=function(){return zp},Object.defineProperties(Bp,Up);var zp=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],t=arguments[1];this._upwardSeg=new bp(e),this._leftDepth=t};zp.prototype.compareTo=function(e){var t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(t._upwardSeg);return 0!==n||0!==(n=-1*t._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(t._upwardSeg)},zp.prototype.compareX=function(e,t){var n=e.p0.compareTo(t.p0);return 0!==n?n:e.p1.compareTo(t.p1)},zp.prototype.toString=function(){return this._upwardSeg.toString()},zp.prototype.interfaces_=function(){return[ou]},zp.prototype.getClass=function(){return zp};var Hp=function(e,t,n){this.p0=e||null,this.p1=t||null,this.p2=n||null};Hp.prototype.area=function(){return Hp.area(this.p0,this.p1,this.p2)},Hp.prototype.signedArea=function(){return Hp.signedArea(this.p0,this.p1,this.p2)},Hp.prototype.interpolateZ=function(e){if(null===e)throw new nu("Supplied point is null.");return Hp.interpolateZ(e,this.p0,this.p1,this.p2)},Hp.prototype.longestSideLength=function(){return Hp.longestSideLength(this.p0,this.p1,this.p2)},Hp.prototype.isAcute=function(){return Hp.isAcute(this.p0,this.p1,this.p2)},Hp.prototype.circumcentre=function(){return Hp.circumcentre(this.p0,this.p1,this.p2)},Hp.prototype.area3D=function(){return Hp.area3D(this.p0,this.p1,this.p2)},Hp.prototype.centroid=function(){return Hp.centroid(this.p0,this.p1,this.p2)},Hp.prototype.inCentre=function(){return Hp.inCentre(this.p0,this.p1,this.p2)},Hp.prototype.interfaces_=function(){return[]},Hp.prototype.getClass=function(){return Hp},Hp.area=function(e,t,n){return Math.abs(((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2)},Hp.signedArea=function(e,t,n){return((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2},Hp.det=function(e,t,n,r){return e*r-t*n},Hp.interpolateZ=function(e,t,n,r){var i=t.x,o=t.y,a=n.x-i,s=r.x-i,l=n.y-o,u=r.y-o,c=a*u-s*l,f=e.x-i,p=e.y-o,d=(u*f-s*p)/c,h=(-l*f+a*p)/c;return t.z+d*(n.z-t.z)+h*(r.z-t.z)},Hp.longestSideLength=function(e,t,n){var r=e.distance(t),i=t.distance(n),o=n.distance(e),a=r;return i>a&&(a=i),o>a&&(a=o),a},Hp.isAcute=function(e,t,n){return!!Dp.isAcute(e,t,n)&&!!Dp.isAcute(t,n,e)&&!!Dp.isAcute(n,e,t)},Hp.circumcentre=function(e,t,n){var r=n.x,i=n.y,o=e.x-r,a=e.y-i,s=t.x-r,l=t.y-i,u=2*Hp.det(o,a,s,l),c=Hp.det(a,o*o+a*a,l,s*s+l*l),f=Hp.det(o,o*o+a*a,s,s*s+l*l);return new uu(r-c/u,i+f/u)},Hp.perpendicularBisector=function(e,t){var n=t.x-e.x,r=t.y-e.y,i=new Mu(e.x+n/2,e.y+r/2,1),o=new Mu(e.x-r+n/2,e.y+n+r/2,1);return new Mu(i,o)},Hp.angleBisector=function(e,t,n){var r=t.distance(e),i=r/(r+t.distance(n)),o=n.x-e.x,a=n.y-e.y;return new uu(e.x+i*o,e.y+i*a)},Hp.area3D=function(e,t,n){var r=t.x-e.x,i=t.y-e.y,o=t.z-e.z,a=n.x-e.x,s=n.y-e.y,l=n.z-e.z,u=i*l-o*s,c=o*a-r*l,f=r*s-i*a,p=u*u+c*c+f*f,d=Math.sqrt(p)/2;return d},Hp.centroid=function(e,t,n){var r=(e.x+t.x+n.x)/3,i=(e.y+t.y+n.y)/3;return new uu(r,i)},Hp.inCentre=function(e,t,n){var r=t.distance(n),i=e.distance(n),o=e.distance(t),a=r+i+o,s=(r*e.x+i*t.x+o*n.x)/a,l=(r*e.y+i*t.y+o*n.y)/a;return new uu(s,l)};var Vp=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new cc;var e=arguments[0],t=arguments[1],n=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=n};Vp.prototype.addPoint=function(e){if(this._distance<=0)return null;var t=e.getCoordinates(),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,du.EXTERIOR,du.INTERIOR)},Vp.prototype.addPolygon=function(e){var t=this,n=this._distance,r=Pf.LEFT;this._distance<0&&(n=-this._distance,r=Pf.RIGHT);var i=e.getExteriorRing(),o=dc.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&o.length<3)return null;this.addPolygonRing(o,n,r,du.EXTERIOR,du.INTERIOR);for(var a=0;a<e.getNumInteriorRing();a++){var s=e.getInteriorRingN(a),l=dc.removeRepeatedPoints(s.getCoordinates());t._distance>0&&t.isErodedCompletely(s,-t._distance)||t.addPolygonRing(l,n,Pf.opposite(r),du.INTERIOR,du.EXTERIOR)}},Vp.prototype.isTriangleErodedCompletely=function(e,t){var n=new Hp(e[0],e[1],e[2]),r=n.inCentre();return qu.distancePointLine(r,n.p0,n.p1)<Math.abs(t)},Vp.prototype.addLineString=function(e){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var t=dc.removeRepeatedPoints(e.getCoordinates()),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,du.EXTERIOR,du.INTERIOR)},Vp.prototype.addCurve=function(e,t,n){if(null===e||e.length<2)return null;var r=new yp(e,new jf(0,du.BOUNDARY,t,n));this._curveList.add(r)},Vp.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Vp.prototype.addPolygonRing=function(e,t,n,r,i){if(0===t&&e.length<rf.MINIMUM_VALID_SIZE)return null;var o=r,a=i;e.length>=rf.MINIMUM_VALID_SIZE&&qu.isCCW(e)&&(o=i,a=r,n=Pf.opposite(n));var s=this._curveBuilder.getRingCurve(e,n,t);this.addCurve(s,o,a)},Vp.prototype.add=function(e){if(e.isEmpty())return null;e instanceof tf?this.addPolygon(e):e instanceof Qc?this.addLineString(e):e instanceof $c?this.addPoint(e):(e instanceof nf||e instanceof Bc||e instanceof of||e instanceof Fc)&&this.addCollection(e)},Vp.prototype.isErodedCompletely=function(e,t){var n=e.getCoordinates();if(n.length<4)return t<0;if(4===n.length)return this.isTriangleErodedCompletely(n,t);var r=e.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return t<0&&2*Math.abs(t)>i},Vp.prototype.addCollection=function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},Vp.prototype.interfaces_=function(){return[]},Vp.prototype.getClass=function(){return Vp};var Gp=function(){};Gp.prototype.locate=function(e){},Gp.prototype.interfaces_=function(){return[]},Gp.prototype.getClass=function(){return Gp};var Wp=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};Wp.prototype.next=function(){if(this._atStart)return this._atStart=!1,Wp.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new uc;var e=this._parent.getGeometryN(this._index++);return e instanceof Fc?(this._subcollectionIterator=new Wp(e),this._subcollectionIterator.next()):e},Wp.prototype.remove=function(){throw new Error(this.getClass().getName())},Wp.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Wp.prototype.interfaces_=function(){return[sc]},Wp.prototype.getClass=function(){return Wp},Wp.isAtomic=function(e){return!(e instanceof Fc)};var qp=function(){this._geom=null;var e=arguments[0];this._geom=e};qp.prototype.locate=function(e){return qp.locate(e,this._geom)},qp.prototype.interfaces_=function(){return[Gp]},qp.prototype.getClass=function(){return qp},qp.isPointInRing=function(e,t){return!!t.getEnvelopeInternal().intersects(e)&&qu.isPointInRing(e,t.getCoordinates())},qp.containsPointInPolygon=function(e,t){if(t.isEmpty())return!1;var n=t.getExteriorRing();if(!qp.isPointInRing(e,n))return!1;for(var r=0;r<t.getNumInteriorRing();r++){var i=t.getInteriorRingN(r);if(qp.isPointInRing(e,i))return!1}return!0},qp.containsPoint=function(e,t){if(t instanceof tf)return qp.containsPointInPolygon(e,t);if(t instanceof Fc)for(var n=new Wp(t);n.hasNext();){var r=n.next();if(r!==t&&qp.containsPoint(e,r))return!0}return!1},qp.locate=function(e,t){return t.isEmpty()?du.EXTERIOR:qp.containsPoint(e,t)?du.INTERIOR:du.EXTERIOR};var Yp=function(){this._edgeMap=new Pc,this._edgeList=null,this._ptInAreaLocation=[du.NONE,du.NONE]};Yp.prototype.getNextCW=function(e){this.getEdges();var t=this._edgeList.indexOf(e),n=t-1;return 0===t&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Yp.prototype.propagateSideLabels=function(e){for(var t=du.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(e)&&r.getLocation(e,Pf.LEFT)!==du.NONE&&(t=r.getLocation(e,Pf.LEFT))}if(t===du.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getLabel();if(s.getLocation(e,Pf.ON)===du.NONE&&s.setLocation(e,Pf.ON,i),s.isArea(e)){var l=s.getLocation(e,Pf.LEFT),u=s.getLocation(e,Pf.RIGHT);if(u!==du.NONE){if(u!==i)throw new If("side location conflict",a.getCoordinate());l===du.NONE&&Uu.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),i=l}else Uu.isTrue(s.getLocation(e,Pf.LEFT)===du.NONE,"found single null side"),s.setLocation(e,Pf.RIGHT,i),s.setLocation(e,Pf.LEFT,i)}}},Yp.prototype.getCoordinate=function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null},Yp.prototype.print=function(e){ku.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();)t.next().print(e)},Yp.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Yp.prototype.checkAreaLabelsConsistent=function(e){var t=this.getEdges();if(t.size()<=0)return!0;var n=t.size()-1,r=t.get(n).getLabel().getLocation(e,Pf.LEFT);Uu.isTrue(r!==du.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var a=o.next().getLabel();Uu.isTrue(a.isArea(e),"Found non-area edge");var s=a.getLocation(e,Pf.LEFT),l=a.getLocation(e,Pf.RIGHT);if(s===l)return!1;if(l!==i)return!1;i=s}return!0},Yp.prototype.findIndex=function(e){this.iterator();for(var t=0;t<this._edgeList.size();t++)if(this._edgeList.get(t)===e)return t;return-1},Yp.prototype.iterator=function(){return this.getEdges().iterator()},Yp.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new cc(this._edgeMap.values())),this._edgeList},Yp.prototype.getLocation=function(e,t,n){return this._ptInAreaLocation[e]===du.NONE&&(this._ptInAreaLocation[e]=qp.locate(t,n[e].getGeometry())),this._ptInAreaLocation[e]},Yp.prototype.toString=function(){var e=new yu;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append("\n");for(var t=this.iterator();t.hasNext();){var n=t.next();e.append(n),e.append("\n")}return e.toString()},Yp.prototype.computeEdgeEndLabels=function(e){for(var t=this.iterator();t.hasNext();)t.next().computeLabel(e)},Yp.prototype.computeLabelling=function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var t=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===du.BOUNDARY&&(t[i]=!0);for(var o=this.iterator();o.hasNext();)for(var a=o.next(),s=a.getLabel(),l=0;l<2;l++)if(s.isAnyNull(l)){var u=du.NONE;if(t[l])u=du.EXTERIOR;else{var c=a.getCoordinate();u=this.getLocation(l,c,e)}s.setAllLocationsIfNull(l,u)}},Yp.prototype.getDegree=function(){return this._edgeMap.size()},Yp.prototype.insertEdgeEnd=function(e,t){this._edgeMap.put(e,t),this._edgeList=null},Yp.prototype.interfaces_=function(){return[]},Yp.prototype.getClass=function(){return Yp};var Xp=function(e){function t(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.linkResultDirectedEdges=function(){var e=this;this.getResultAreaEdges();for(var t=null,n=null,r=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var o=e._resultAreaEdgeList.get(i),a=o.getSym();if(o.getLabel().isArea())switch(null===t&&o.isInResult()&&(t=o),r){case e._SCANNING_FOR_INCOMING:if(!a.isInResult())continue;n=a,r=e._LINKING_TO_OUTGOING;break;case e._LINKING_TO_OUTGOING:if(!o.isInResult())continue;n.setNext(o),r=e._SCANNING_FOR_INCOMING}}if(r===this._LINKING_TO_OUTGOING){if(null===t)throw new If("no outgoing dirEdge found",this.getCoordinate());Uu.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),n.setNext(t)}},t.prototype.insert=function(e){var t=e;this.insertEdgeEnd(t,t)},t.prototype.getRightmostEdge=function(){var e=this.getEdges(),t=e.size();if(t<1)return null;var n=e.get(0);if(1===t)return n;var r=e.get(t-1),i=n.getQuadrant(),o=r.getQuadrant();return Gf.isNorthern(i)&&Gf.isNorthern(o)?n:Gf.isNorthern(i)||Gf.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(Uu.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},t.prototype.print=function(e){ku.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var n=t.next();e.print("out "),n.print(e),e.println(),e.print("in "),n.getSym().print(e),e.println()}},t.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new cc;for(var e=this.iterator();e.hasNext();){var t=e.next();(t.isInResult()||t.getSym().isInResult())&&this._resultAreaEdgeList.add(t)}return this._resultAreaEdgeList},t.prototype.updateLabelling=function(e){for(var t=this.iterator();t.hasNext();){var n=t.next().getLabel();n.setAllLocationsIfNull(0,e.getLocation(0)),n.setAllLocationsIfNull(1,e.getLocation(1))}},t.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var e=null,t=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===t&&(t=i),null!==e&&i.setNext(e),e=r}t.setNext(e)},t.prototype.computeDepths=function(){var e=this;if(1===arguments.length){var t=arguments[0],n=this.findIndex(t),r=t.getDepth(Pf.LEFT),i=t.getDepth(Pf.RIGHT),o=this.computeDepths(n+1,this._edgeList.size(),r),a=this.computeDepths(0,n,o);if(a!==i)throw new If("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var s=arguments[0],l=arguments[1],u=arguments[2],c=u,f=s;f<l;f++){var p=e._edgeList.get(f);p.setEdgeDepths(Pf.RIGHT,c),c=p.getDepth(Pf.LEFT)}return c}},t.prototype.mergeSymLabels=function(){for(var e=this.iterator();e.hasNext();){var t=e.next();t.getLabel().merge(t.getSym().getLabel())}},t.prototype.linkMinimalDirectedEdges=function(e){for(var t=this,n=null,r=null,i=this._SCANNING_FOR_INCOMING,o=this._resultAreaEdgeList.size()-1;o>=0;o--){var a=t._resultAreaEdgeList.get(o),s=a.getSym();switch(null===n&&a.getEdgeRing()===e&&(n=a),i){case t._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==e)continue;r=s,i=t._LINKING_TO_OUTGOING;break;case t._LINKING_TO_OUTGOING:if(a.getEdgeRing()!==e)continue;r.setNextMin(a),i=t._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(Uu.isTrue(null!==n,"found null for first outgoing dirEdge"),Uu.isTrue(n.getEdgeRing()===e,"unable to link last incoming dirEdge"),r.setNextMin(n))},t.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var e=0,t=this.iterator();t.hasNext();){var n=t.next();n.isInResult()&&e++}return e}if(1===arguments.length){for(var r=arguments[0],i=0,o=this.iterator();o.hasNext();){var a=o.next();a.getEdgeRing()===r&&i++}return i}},t.prototype.getLabel=function(){return this._label},t.prototype.findCoveredLineEdges=function(){for(var e=du.NONE,t=this.iterator();t.hasNext();){var n=t.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){e=du.INTERIOR;break}if(r.isInResult()){e=du.EXTERIOR;break}}}if(e===du.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(i===du.INTERIOR):(a.isInResult()&&(i=du.EXTERIOR),s.isInResult()&&(i=du.INTERIOR))}},t.prototype.computeLabelling=function(t){e.prototype.computeLabelling.call(this,t),this._label=new jf(du.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==du.INTERIOR&&o!==du.BOUNDARY||this._label.setLocation(i,du.INTERIOR)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Yp),Kp=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createNode=function(e){return new Hf(e,new Xp)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Xf),Zp=function e(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)};Zp.prototype.compareTo=function(e){var t=e;return Zp.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},Zp.prototype.interfaces_=function(){return[ou]},Zp.prototype.getClass=function(){return Zp},Zp.orientation=function(e){return 1===dc.increasingDirection(e)},Zp.compareOriented=function(e,t,n,r){for(var i=t?1:-1,o=r?1:-1,a=t?e.length:-1,s=r?n.length:-1,l=t?0:e.length-1,u=r?0:n.length-1;;){var c=e[l].compareTo(n[u]);if(0!==c)return c;var f=(l+=i)===a,p=(u+=o)===s;if(f&&!p)return-1;if(!f&&p)return 1;if(f&&p)return 0}};var Qp=function(){this._edges=new cc,this._ocaMap=new Pc};Qp.prototype.print=function(e){e.print("MULTILINESTRING ( ");for(var t=0;t<this._edges.size();t++){var n=this._edges.get(t);t>0&&e.print(","),e.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&e.print(","),e.print(r[i].x+" "+r[i].y);e.println(")")}e.print(")  ")},Qp.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next())},Qp.prototype.findEdgeIndex=function(e){for(var t=0;t<this._edges.size();t++)if(this._edges.get(t).equals(e))return t;return-1},Qp.prototype.iterator=function(){return this._edges.iterator()},Qp.prototype.getEdges=function(){return this._edges},Qp.prototype.get=function(e){return this._edges.get(e)},Qp.prototype.findEqualEdge=function(e){var t=new Zp(e.getCoordinates());return this._ocaMap.get(t)},Qp.prototype.add=function(e){this._edges.add(e);var t=new Zp(e.getCoordinates());this._ocaMap.put(t,e)},Qp.prototype.interfaces_=function(){return[]},Qp.prototype.getClass=function(){return Qp};var Jp=function(){};Jp.prototype.processIntersections=function(e,t,n,r){},Jp.prototype.isDone=function(){},Jp.prototype.interfaces_=function(){return[]},Jp.prototype.getClass=function(){return Jp};var $p=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e};$p.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&1===this._li.getIntersectionNum()){if($p.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var i=e.size()-1;if(0===t&&r===i||0===r&&t===i)return!0}}return!1},$p.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},$p.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},$p.prototype.getLineIntersector=function(){return this._li},$p.prototype.hasProperIntersection=function(){return this._hasProper},$p.prototype.processIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},$p.prototype.hasIntersection=function(){return this._hasIntersection},$p.prototype.isDone=function(){return!1},$p.prototype.hasInteriorIntersection=function(){return this._hasInterior},$p.prototype.interfaces_=function(){return[Jp]},$p.prototype.getClass=function(){return $p},$p.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)};var ed=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.coord=new uu(e),this.segmentIndex=t,this.dist=n};ed.prototype.getSegmentIndex=function(){return this.segmentIndex},ed.prototype.getCoordinate=function(){return this.coord},ed.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)},ed.prototype.compareTo=function(e){var t=e;return this.compare(t.segmentIndex,t.dist)},ed.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===e},ed.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},ed.prototype.getDistance=function(){return this.dist},ed.prototype.compare=function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0},ed.prototype.interfaces_=function(){return[ou]},ed.prototype.getClass=function(){return ed};var td=function(){this._nodeMap=new Pc,this.edge=null;var e=arguments[0];this.edge=e};td.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)},td.prototype.iterator=function(){return this._nodeMap.values().iterator()},td.prototype.addSplitEdges=function(e){this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),i=this.createSplitEdge(n,r);e.add(i),n=r}},td.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)},td.prototype.createSplitEdge=function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this.edge.pts[t.segmentIndex],i=t.dist>0||!t.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new uu(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)o[a++]=this.edge.pts[s];return i&&(o[a]=t.coord),new ad(o,new jf(this.edge._label))},td.prototype.add=function(e,t,n){var r=new ed(e,t,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},td.prototype.isIntersection=function(e){for(var t=this.iterator();t.hasNext();)if(t.next().coord.equals(e))return!0;return!1},td.prototype.interfaces_=function(){return[]},td.prototype.getClass=function(){return td};var nd=function(){};nd.prototype.getChainStartIndices=function(e){var t=0,n=new cc;n.add(new bu(t));do{var r=this.findChainEnd(e,t);n.add(new bu(r)),t=r}while(t<e.length-1);return nd.toIntArray(n)},nd.prototype.findChainEnd=function(e,t){for(var n=Gf.quadrant(e[t],e[t+1]),r=t+1;r<e.length;){if(Gf.quadrant(e[r-1],e[r])!==n)break;r++}return r-1},nd.prototype.interfaces_=function(){return[]},nd.prototype.getClass=function(){return nd},nd.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var rd=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Tu,this.env2=new Tu;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new nd;this.startIndex=t.getChainStartIndices(this.pts)};rd.prototype.getCoordinates=function(){return this.pts},rd.prototype.getMaxX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t>n?t:n},rd.prototype.getMinX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t<n?t:n},rd.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[n],t.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],l=arguments[4],u=arguments[5],c=this.pts[i],f=this.pts[o],p=a.pts[s],d=a.pts[l];if(o-i==1&&l-s==1)return u.addIntersections(this.e,i,a.e,s),null;if(this.env1.init(c,f),this.env2.init(p,d),!this.env1.intersects(this.env2))return null;var h=Math.trunc((i+o)/2),v=Math.trunc((s+l)/2);i<h&&(s<v&&this.computeIntersectsForChain(i,h,a,s,v,u),v<l&&this.computeIntersectsForChain(i,h,a,v,l,u)),h<o&&(s<v&&this.computeIntersectsForChain(h,o,a,s,v,u),v<l&&this.computeIntersectsForChain(h,o,a,v,l,u))}},rd.prototype.getStartIndexes=function(){return this.startIndex},rd.prototype.computeIntersects=function(e,t){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<e.startIndex.length-1;r++)this.computeIntersectsForChain(n,e,r,t)},rd.prototype.interfaces_=function(){return[]},rd.prototype.getClass=function(){return rd};var id=function e(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var t=0;t<2;t++)for(var n=0;n<3;n++)this._depth[t][n]=e.NULL_VALUE},od={NULL_VALUE:{configurable:!0}};id.prototype.getDepth=function(e,t){return this._depth[e][t]},id.prototype.setDepth=function(e,t,n){this._depth[e][t]=n},id.prototype.isNull=function(){var e=this;if(0===arguments.length){for(var t=0;t<2;t++)for(var n=0;n<3;n++)if(e._depth[t][n]!==id.NULL_VALUE)return!1;return!0}if(1===arguments.length){var r=arguments[0];return this._depth[r][1]===id.NULL_VALUE}if(2===arguments.length){var i=arguments[0],o=arguments[1];return this._depth[i][o]===id.NULL_VALUE}},id.prototype.normalize=function(){for(var e=this,t=0;t<2;t++)if(!e.isNull(t)){var n=e._depth[t][1];e._depth[t][2]<n&&(n=e._depth[t][2]),n<0&&(n=0);for(var r=1;r<3;r++){var i=0;e._depth[t][r]>n&&(i=1),e._depth[t][r]=i}}},id.prototype.getDelta=function(e){return this._depth[e][Pf.RIGHT]-this._depth[e][Pf.LEFT]},id.prototype.getLocation=function(e,t){return this._depth[e][t]<=0?du.EXTERIOR:du.INTERIOR},id.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},id.prototype.add=function(){var e=this;if(1===arguments.length)for(var t=arguments[0],n=0;n<2;n++)for(var r=1;r<3;r++){var i=t.getLocation(n,r);i!==du.EXTERIOR&&i!==du.INTERIOR||(e.isNull(n,r)?e._depth[n][r]=id.depthAtLocation(i):e._depth[n][r]+=id.depthAtLocation(i))}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];s===du.INTERIOR&&this._depth[o][a]++}},id.prototype.interfaces_=function(){return[]},id.prototype.getClass=function(){return id},id.depthAtLocation=function(e){return e===du.EXTERIOR?0:e===du.INTERIOR?1:id.NULL_VALUE},od.NULL_VALUE.get=function(){return-1},Object.defineProperties(id,od);var ad=function(e){function t(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new td(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new id,this._depthDelta=0,1===arguments.length){var n=arguments[0];t.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDepth=function(){return this._depth},t.prototype.getCollapsedEdge=function(){var e=new Array(2).fill(null);return e[0]=this.pts[0],e[1]=this.pts[1],new t(e,jf.toLineLabel(this._label))},t.prototype.isIsolated=function(){return this._isIsolated},t.prototype.getCoordinates=function(){return this.pts},t.prototype.setIsolated=function(e){this._isIsolated=e},t.prototype.setName=function(e){this._name=e},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(n.pts[a])||(r=!1),this.pts[a].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},t.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var e=arguments[0];return this.pts[e]}},t.prototype.print=function(e){e.print("edge "+this._name+": "),e.print("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.print(","),e.print(this.pts[t].x+" "+this.pts[t].y);e.print(")  "+this._label+" "+this._depthDelta)},t.prototype.computeIM=function(e){t.updateIM(this._label,e)},t.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},t.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},t.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},t.prototype.getDepthDelta=function(){return this._depthDelta},t.prototype.getNumPoints=function(){return this.pts.length},t.prototype.printReverse=function(e){e.print("edge "+this._name+": ");for(var t=this.pts.length-1;t>=0;t--)e.print(this.pts[t]+" ");e.println("")},t.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new rd(this)),this._mce},t.prototype.getEnvelope=function(){if(null===this._env){this._env=new Tu;for(var e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env},t.prototype.addIntersection=function(e,t,n,r){var i=new uu(e.getIntersection(r)),o=t,a=e.getEdgeDistance(n,r),s=o+1;if(s<this.pts.length){var l=this.pts[s];i.equals2D(l)&&(o=s,a=0)}this.eiList.add(i,o,a)},t.prototype.toString=function(){var e=new yu;e.append("edge "+this._name+": "),e.append("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.append(","),e.append(this.pts[t].x+" "+this.pts[t].y);return e.append(")  "+this._label+" "+this._depthDelta),e.toString()},t.prototype.isPointwiseEqual=function(e){if(this.pts.length!==e.pts.length)return!1;for(var t=0;t<this.pts.length;t++)if(!this.pts[t].equals2D(e.pts[t]))return!1;return!0},t.prototype.setDepthDelta=function(e){this._depthDelta=e},t.prototype.getEdgeIntersectionList=function(){return this.eiList},t.prototype.addIntersections=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.updateIM=function(){if(2!==arguments.length)return e.prototype.updateIM.apply(this,arguments);var t=arguments[0],n=arguments[1];n.setAtLeastIfValid(t.getLocation(0,Pf.ON),t.getLocation(1,Pf.ON),1),t.isArea()&&(n.setAtLeastIfValid(t.getLocation(0,Pf.LEFT),t.getLocation(1,Pf.LEFT),2),n.setAtLeastIfValid(t.getLocation(0,Pf.RIGHT),t.getLocation(1,Pf.RIGHT),2))},t}(zf),sd=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Qp,this._bufParams=e||null};sd.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e},sd.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new jf(e.getLabel())).flip(),n.merge(r);var i=sd.depthDelta(r),o=t.getDepthDelta()+i;t.setDepthDelta(o)}else this._edgeList.add(e),e.setDepthDelta(sd.depthDelta(e.getLabel()))},sd.prototype.buildSubgraphs=function(e,t){for(var n=new cc,r=e.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),a=new Bp(n).getDepth(o);i.computeDepth(a),i.findResultEdges(),n.add(i),t.add(i.getDirectedEdges(),i.getNodes())}},sd.prototype.createSubgraphs=function(e){for(var t=new cc,n=e.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Rf;i.create(r),t.add(i)}}return ip.sort(t,ip.reverseOrder()),t},sd.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},sd.prototype.getNoder=function(e){if(null!==this._workingNoder)return this._workingNoder;var t=new Cp,n=new Vu;return n.setPrecisionModel(e),t.setSegmentIntersector(new $p(n)),t},sd.prototype.buffer=function(e,t){var n=this._workingPrecisionModel;null===n&&(n=e.getPrecisionModel()),this._geomFact=e.getFactory();var r=new Fp(n,this._bufParams),i=new Vp(e,t,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Kf(new Kp),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),a=new Zf(this._geomFact);this.buildSubgraphs(o,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},sd.prototype.computeNodedEdges=function(e,t){var n=this.getNoder(t);n.computeNodes(e);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=i.getData(),s=new ad(i.getCoordinates(),new jf(a));this.insertUniqueEdge(s)}}},sd.prototype.setNoder=function(e){this._workingNoder=e},sd.prototype.interfaces_=function(){return[]},sd.prototype.getClass=function(){return sd},sd.depthDelta=function(e){var t=e.getLocation(0,Pf.LEFT),n=e.getLocation(0,Pf.RIGHT);return t===du.INTERIOR&&n===du.EXTERIOR?1:t===du.EXTERIOR&&n===du.INTERIOR?-1:0},sd.convertSegStrings=function(e){for(var t=new _f,n=new cc;e.hasNext();){var r=e.next(),i=t.createLineString(r.getCoordinates());n.add(i)}return t.buildGeometry(n)};var ld=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[0],t=arguments[1];this._noder=e,this._scaleFactor=t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};ld.prototype.rescale=function(){var e=this;if(vu(arguments[0],oc))for(var t=arguments[0],n=t.iterator();n.hasNext();){var r=n.next();e.rescale(r.getCoordinates())}else if(arguments[0]instanceof Array){for(var i=arguments[0],o=0;o<i.length;o++)i[o].x=i[o].x/e._scaleFactor+e._offsetX,i[o].y=i[o].y/e._scaleFactor+e._offsetY;2===i.length&&i[0].equals2D(i[1])&&ku.out.println(i)}},ld.prototype.scale=function(){var e=this;if(vu(arguments[0],oc)){for(var t=arguments[0],n=new cc,r=t.iterator();r.hasNext();){var i=r.next();n.add(new yp(e.scale(i.getCoordinates()),i.getData()))}return n}if(arguments[0]instanceof Array){for(var o=arguments[0],a=new Array(o.length).fill(null),s=0;s<o.length;s++)a[s]=new uu(Math.round((o[s].x-e._offsetX)*e._scaleFactor),Math.round((o[s].y-e._offsetY)*e._scaleFactor),o[s].z);var l=dc.removeRepeatedPoints(a);return l}},ld.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},ld.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e},ld.prototype.computeNodes=function(e){var t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)},ld.prototype.interfaces_=function(){return[Sp]},ld.prototype.getClass=function(){return ld};var ud=function(){this._li=new Vu,this._segStrings=null;var e=arguments[0];this._segStrings=e},cd={fact:{configurable:!0}};ud.prototype.checkEndPtVertexIntersections=function(){var e=this;if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var n=t.next(),r=n.getCoordinates();e.checkEndPtVertexIntersections(r[0],e._segStrings),e.checkEndPtVertexIntersections(r[r.length-1],e._segStrings)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],a=o.iterator();a.hasNext();)for(var s=a.next(),l=s.getCoordinates(),u=1;u<l.length-1;u++)if(l[u].equals(i))throw new Fu("found endpt/interior pt intersection at index "+u+" :pt "+i)},ud.prototype.checkInteriorIntersections=function(){var e=this;if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var n=t.next(),r=this._segStrings.iterator();r.hasNext();){var i=r.next();e.checkInteriorIntersections(n,i)}else if(2===arguments.length)for(var o=arguments[0],a=arguments[1],s=o.getCoordinates(),l=a.getCoordinates(),u=0;u<s.length-1;u++)for(var c=0;c<l.length-1;c++)e.checkInteriorIntersections(o,u,a,c);else if(4===arguments.length){var f=arguments[0],p=arguments[1],d=arguments[2],h=arguments[3];if(f===d&&p===h)return null;var v=f.getCoordinates()[p],m=f.getCoordinates()[p+1],g=d.getCoordinates()[h],y=d.getCoordinates()[h+1];if(this._li.computeIntersection(v,m,g,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,v,m)||this.hasInteriorIntersection(this._li,g,y)))throw new Fu("found non-noded intersection at "+v+"-"+m+" and "+g+"-"+y)}},ud.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},ud.prototype.checkCollapses=function(){var e=this;if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var n=t.next();e.checkCollapses(n)}else if(1===arguments.length)for(var r=arguments[0],i=r.getCoordinates(),o=0;o<i.length-2;o++)e.checkCollapse(i[o],i[o+1],i[o+2])},ud.prototype.hasInteriorIntersection=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++){var i=e.getIntersection(r);if(!i.equals(t)&&!i.equals(n))return!0}return!1},ud.prototype.checkCollapse=function(e,t,n){if(e.equals(n))throw new Fu("found non-noded collapse at "+ud.fact.createLineString([e,t,n]))},ud.prototype.interfaces_=function(){return[]},ud.prototype.getClass=function(){return ud},cd.fact.get=function(){return new _f},Object.defineProperties(ud,cd);var fd=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],t=arguments[1],n=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=n,t<=0)throw new nu("Scale factor must be non-zero");1!==t&&(this._pt=new uu(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new uu,this._p1Scaled=new uu),this.initCorners(this._pt)},pd={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};fd.prototype.intersectsScaled=function(e,t){var n=Math.min(e.x,t.x),r=Math.max(e.x,t.x),i=Math.min(e.y,t.y),o=Math.max(e.y,t.y),a=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(e,t);return Uu.isTrue(!(a&&s),"Found bad envelope test"),s},fd.prototype.initCorners=function(e){var t=.5;this._minx=e.x-t,this._maxx=e.x+t,this._miny=e.y-t,this._maxy=e.y+t,this._corner[0]=new uu(this._maxx,this._maxy),this._corner[1]=new uu(this._minx,this._maxy),this._corner[2]=new uu(this._minx,this._miny),this._corner[3]=new uu(this._maxx,this._miny)},fd.prototype.intersects=function(e,t){return 1===this._scaleFactor?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},fd.prototype.scale=function(e){return Math.round(e*this._scaleFactor)},fd.prototype.getCoordinate=function(){return this._originalPt},fd.prototype.copyScaled=function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)},fd.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var e=fd.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Tu(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv},fd.prototype.intersectsPixelClosure=function(e,t){return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},fd.prototype.intersectsToleranceSquare=function(e,t){var n=!1,r=!1;return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!n||!r)||!!e.equals(this._pt)||!!t.equals(this._pt))))},fd.prototype.addSnappedNode=function(e,t){var n=e.getCoordinate(t),r=e.getCoordinate(t+1);return!!this.intersects(n,r)&&(e.addIntersection(this.getCoordinate(),t),!0)},fd.prototype.interfaces_=function(){return[]},fd.prototype.getClass=function(){return fd},pd.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(fd,pd);var dd=function(){this.tempEnv1=new Tu,this.selectedSegment=new bp};dd.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];e.getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}},dd.prototype.interfaces_=function(){return[]},dd.prototype.getClass=function(){return dd};var hd=function(){this._index=null;var e=arguments[0];this._index=e},vd={HotPixelSnapAction:{configurable:!0}};hd.prototype.snap=function(){if(1===arguments.length){var e=arguments[0];return this.snap(e,null,-1)}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],i=t.getSafeEnvelope(),o=new md(t,n,r);return this._index.query(i,{interfaces_:function(){return[ep]},visitItem:function(e){e.select(i,o)}}),o.isNodeAdded()}},hd.prototype.interfaces_=function(){return[]},hd.prototype.getClass=function(){return hd},vd.HotPixelSnapAction.get=function(){return md},Object.defineProperties(hd,vd);var md=function(e){function t(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=t,this._parentEdge=n,this._hotPixelVertexIndex=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isNodeAdded=function(){return this._isNodeAdded},t.prototype.select=function(){if(2!==arguments.length)return e.prototype.select.apply(this,arguments);var t=arguments[0],n=arguments[1],r=t.getContext();if(null!==this._parentEdge&&r===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(r,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(dd),gd=function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new cc};gd.prototype.processIntersections=function(e,t,n,r){if(e===n&&t===r)return null;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)}},gd.prototype.isDone=function(){return!1},gd.prototype.getInteriorIntersections=function(){return this._interiorIntersections},gd.prototype.interfaces_=function(){return[Jp]},gd.prototype.getClass=function(){return gd};var yd=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new Vu,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};yd.prototype.checkCorrectness=function(e){var t=yp.getNodedSubstrings(e),n=new ud(t);try{n.checkValid()}catch(e){if(!(e instanceof Au))throw e;e.printStackTrace()}},yd.prototype.getNodedSubstrings=function(){return yp.getNodedSubstrings(this._nodedSegStrings)},yd.prototype.snapRound=function(e,t){var n=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(n),this.computeVertexSnaps(e)},yd.prototype.findInteriorIntersections=function(e,t){var n=new gd(t);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(e),n.getInteriorIntersections()},yd.prototype.computeVertexSnaps=function(){var e=this;if(vu(arguments[0],oc))for(var t=arguments[0],n=t.iterator();n.hasNext();){var r=n.next();e.computeVertexSnaps(r)}else if(arguments[0]instanceof yp)for(var i=arguments[0],o=i.getCoordinates(),a=0;a<o.length;a++){var s=new fd(o[a],e._scaleFactor,e._li),l=e._pointSnapper.snap(s,i,a);l&&i.addIntersection(o[a],a)}},yd.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new Cp,this._pointSnapper=new hd(this._noder.getIndex()),this.snapRound(e,this._li)},yd.prototype.computeIntersectionSnaps=function(e){for(var t=this,n=e.iterator();n.hasNext();){var r=n.next(),i=new fd(r,t._scaleFactor,t._li);t._pointSnapper.snap(i)}},yd.prototype.interfaces_=function(){return[Sp]},yd.prototype.getClass=function(){return yd};var bd=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Pp,this._resultGeometry=null,this._saveException=null,1===arguments.length){var e=arguments[0];this._argGeom=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._argGeom=t,this._bufParams=n}},_d={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};bd.prototype.bufferFixedPrecision=function(e){var t=new ld(new yd(new mf(1)),e.getScale()),n=new sd(this._bufParams);n.setWorkingPrecisionModel(e),n.setNoder(t),this._resultGeometry=n.buffer(this._argGeom,this._distance)},bd.prototype.bufferReducedPrecision=function(){var e=this;if(0===arguments.length){for(var t=bd.MAX_PRECISION_DIGITS;t>=0;t--){try{e.bufferReducedPrecision(t)}catch(t){if(!(t instanceof If))throw t;e._saveException=t}if(null!==e._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=bd.precisionScaleFactor(this._argGeom,this._distance,n),i=new mf(r);this.bufferFixedPrecision(i)}},bd.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===mf.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()},bd.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)},bd.prototype.bufferOriginalPrecision=function(){try{var e=new sd(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof Fu))throw e;this._saveException=e}},bd.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry},bd.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)},bd.prototype.interfaces_=function(){return[]},bd.prototype.getClass=function(){return bd},bd.bufferOp=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new bd(e),r=n.getResultGeometry(t);return r}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Ku&&"number"==typeof arguments[1]){var i=arguments[0],o=arguments[1],a=arguments[2],s=new bd(i);s.setQuadrantSegments(a);var l=s.getResultGeometry(o);return l}if(arguments[2]instanceof Pp&&arguments[0]instanceof Ku&&"number"==typeof arguments[1]){var u=arguments[0],c=arguments[1],f=arguments[2],p=new bd(u,f),d=p.getResultGeometry(c);return d}}else if(4===arguments.length){var h=arguments[0],v=arguments[1],m=arguments[2],g=arguments[3],y=new bd(h);y.setQuadrantSegments(m),y.setEndCapStyle(g);var b=y.getResultGeometry(v);return b}},bd.precisionScaleFactor=function(e,t,n){var r=e.getEnvelopeInternal(),i=mu.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(t>0?t:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},_d.CAP_ROUND.get=function(){return Pp.CAP_ROUND},_d.CAP_BUTT.get=function(){return Pp.CAP_FLAT},_d.CAP_FLAT.get=function(){return Pp.CAP_FLAT},_d.CAP_SQUARE.get=function(){return Pp.CAP_SQUARE},_d.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(bd,_d);var Ed=function(){this._pt=[new uu,new uu],this._distance=ru.NaN,this._isNull=!0};Ed.prototype.getCoordinates=function(){return this._pt},Ed.prototype.getCoordinate=function(e){return this._pt[e]},Ed.prototype.setMinimum=function(){if(1===arguments.length){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}},Ed.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Ed.prototype.getDistance=function(){return this._distance},Ed.prototype.setMaximum=function(){if(1===arguments.length){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}},Ed.prototype.interfaces_=function(){return[]},Ed.prototype.getClass=function(){return Ed};var xd=function(){};xd.prototype.interfaces_=function(){return[]},xd.prototype.getClass=function(){return xd},xd.computeDistance=function(){if(arguments[2]instanceof Ed&&arguments[0]instanceof Qc&&arguments[1]instanceof uu)for(var e=arguments[0],t=arguments[1],n=arguments[2],r=e.getCoordinates(),i=new bp,o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var a=i.closestPoint(t);n.setMinimum(a,t)}else if(arguments[2]instanceof Ed&&arguments[0]instanceof tf&&arguments[1]instanceof uu){var s=arguments[0],l=arguments[1],u=arguments[2];xd.computeDistance(s.getExteriorRing(),l,u);for(var c=0;c<s.getNumInteriorRing();c++)xd.computeDistance(s.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof Ed&&arguments[0]instanceof Ku&&arguments[1]instanceof uu){var f=arguments[0],p=arguments[1],d=arguments[2];if(f instanceof Qc)xd.computeDistance(f,p,d);else if(f instanceof tf)xd.computeDistance(f,p,d);else if(f instanceof Fc)for(var h=f,v=0;v<h.getNumGeometries();v++){var m=h.getGeometryN(v);xd.computeDistance(m,p,d)}else d.setMinimum(f.getCoordinate(),p)}else if(arguments[2]instanceof Ed&&arguments[0]instanceof bp&&arguments[1]instanceof uu){var g=arguments[0],y=arguments[1],b=arguments[2],_=g.closestPoint(y);b.setMinimum(_,y)}};var wd=function(e){this._maxPtDist=new Ed,this._inputGeom=e||null},Sd={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};wd.prototype.computeMaxMidpointDistance=function(e){var t=new Cd(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},wd.prototype.computeMaxVertexDistance=function(e){var t=new Od(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},wd.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()},wd.prototype.getDistancePoints=function(){return this._maxPtDist},wd.prototype.interfaces_=function(){return[]},wd.prototype.getClass=function(){return wd},Sd.MaxPointDistanceFilter.get=function(){return Od},Sd.MaxMidpointDistanceFilter.get=function(){return Cd},Object.defineProperties(wd,Sd);var Od=function(e){this._maxPtDist=new Ed,this._minPtDist=new Ed,this._geom=e||null};Od.prototype.filter=function(e){this._minPtDist.initialize(),xd.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Od.prototype.getMaxPointDistance=function(){return this._maxPtDist},Od.prototype.interfaces_=function(){return[Ju]},Od.prototype.getClass=function(){return Od};var Cd=function(e){this._maxPtDist=new Ed,this._minPtDist=new Ed,this._geom=e||null};Cd.prototype.filter=function(e,t){if(0===t)return null;var n=e.getCoordinate(t-1),r=e.getCoordinate(t),i=new uu((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),xd.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Cd.prototype.isDone=function(){return!1},Cd.prototype.isGeometryChanged=function(){return!1},Cd.prototype.getMaxPointDistance=function(){return this._maxPtDist},Cd.prototype.interfaces_=function(){return[jc]},Cd.prototype.getClass=function(){return Cd};var Ad=function(e){this._comps=e||null};Ad.prototype.filter=function(e){e instanceof tf&&this._comps.add(e)},Ad.prototype.interfaces_=function(){return[Nc]},Ad.prototype.getClass=function(){return Ad},Ad.getPolygons=function(){if(1===arguments.length){var e=arguments[0];return Ad.getPolygons(e,new cc)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t instanceof tf?n.add(t):t instanceof Fc&&t.apply(new Ad(n)),n}};var Pd=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var e=arguments[0];this._lines=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._lines=t,this._isForcedToLineString=n}};Pd.prototype.filter=function(e){if(this._isForcedToLineString&&e instanceof rf){var t=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(t),null}e instanceof Qc&&this._lines.add(e)},Pd.prototype.setForceToLineString=function(e){this._isForcedToLineString=e},Pd.prototype.interfaces_=function(){return[Xu]},Pd.prototype.getClass=function(){return Pd},Pd.getGeometry=function(){if(1===arguments.length){var e=arguments[0];return e.getFactory().buildGeometry(Pd.getLines(e))}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t.getFactory().buildGeometry(Pd.getLines(t,n))}},Pd.getLines=function(){if(1===arguments.length){var e=arguments[0];return Pd.getLines(e,!1)}if(2===arguments.length){if(vu(arguments[0],oc)&&vu(arguments[1],oc)){for(var t=arguments[0],n=arguments[1],r=t.iterator();r.hasNext();){var i=r.next();Pd.getLines(i,n)}return n}if(arguments[0]instanceof Ku&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1],s=new cc;return o.apply(new Pd(s,a)),s}if(arguments[0]instanceof Ku&&vu(arguments[1],oc)){var l=arguments[0],u=arguments[1];return l instanceof Qc?u.add(l):l.apply(new Pd(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&vu(arguments[0],oc)&&vu(arguments[1],oc)){for(var c=arguments[0],f=arguments[1],p=arguments[2],d=c.iterator();d.hasNext();){var h=d.next();Pd.getLines(h,f,p)}return f}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Ku&&vu(arguments[1],oc)){var v=arguments[0],m=arguments[1],g=arguments[2];return v.apply(new Pd(m,g)),m}}};var kd=function(){if(this._boundaryRule=$u.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(null===e)throw new nu("Rule must be non-null");this._boundaryRule=e}};kd.prototype.locateInternal=function(){var e=this;if(arguments[0]instanceof uu&&arguments[1]instanceof tf){var t=arguments[0],n=arguments[1];if(n.isEmpty())return du.EXTERIOR;var r=n.getExteriorRing(),i=this.locateInPolygonRing(t,r);if(i===du.EXTERIOR)return du.EXTERIOR;if(i===du.BOUNDARY)return du.BOUNDARY;for(var o=0;o<n.getNumInteriorRing();o++){var a=n.getInteriorRingN(o),s=e.locateInPolygonRing(t,a);if(s===du.INTERIOR)return du.EXTERIOR;if(s===du.BOUNDARY)return du.BOUNDARY}return du.INTERIOR}if(arguments[0]instanceof uu&&arguments[1]instanceof Qc){var l=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(l))return du.EXTERIOR;var c=u.getCoordinates();return u.isClosed()||!l.equals(c[0])&&!l.equals(c[c.length-1])?qu.isOnLine(l,c)?du.INTERIOR:du.EXTERIOR:du.BOUNDARY}if(arguments[0]instanceof uu&&arguments[1]instanceof $c){var f=arguments[0],p=arguments[1],d=p.getCoordinate();return d.equals2D(f)?du.INTERIOR:du.EXTERIOR}},kd.prototype.locateInPolygonRing=function(e,t){return t.getEnvelopeInternal().intersects(e)?qu.locatePointInRing(e,t.getCoordinates()):du.EXTERIOR},kd.prototype.intersects=function(e,t){return this.locate(e,t)!==du.EXTERIOR},kd.prototype.updateLocationInfo=function(e){e===du.INTERIOR&&(this._isIn=!0),e===du.BOUNDARY&&this._numBoundaries++},kd.prototype.computeLocation=function(e,t){var n=this;if(t instanceof $c&&this.updateLocationInfo(this.locateInternal(e,t)),t instanceof Qc)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof tf)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof Bc)for(var r=t,i=0;i<r.getNumGeometries();i++){var o=r.getGeometryN(i);n.updateLocationInfo(n.locateInternal(e,o))}else if(t instanceof of)for(var a=t,s=0;s<a.getNumGeometries();s++){var l=a.getGeometryN(s);n.updateLocationInfo(n.locateInternal(e,l))}else if(t instanceof Fc)for(var u=new Wp(t);u.hasNext();){var c=u.next();c!==t&&n.computeLocation(e,c)}},kd.prototype.locate=function(e,t){return t.isEmpty()?du.EXTERIOR:t instanceof Qc||t instanceof tf?this.locateInternal(e,t):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,t),this._boundaryRule.isInBoundary(this._numBoundaries)?du.BOUNDARY:this._numBoundaries>0||this._isIn?du.INTERIOR:du.EXTERIOR)},kd.prototype.interfaces_=function(){return[]},kd.prototype.getClass=function(){return kd};var Md=function e(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var t=arguments[0],n=arguments[1];e.call(this,t,e.INSIDE_AREA,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._component=r,this._segIndex=i,this._pt=o}},Td={INSIDE_AREA:{configurable:!0}};Md.prototype.isInsideArea=function(){return this._segIndex===Md.INSIDE_AREA},Md.prototype.getCoordinate=function(){return this._pt},Md.prototype.getGeometryComponent=function(){return this._component},Md.prototype.getSegmentIndex=function(){return this._segIndex},Md.prototype.interfaces_=function(){return[]},Md.prototype.getClass=function(){return Md},Td.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Md,Td);var Ld=function(e){this._pts=e||null};Ld.prototype.filter=function(e){e instanceof $c&&this._pts.add(e)},Ld.prototype.interfaces_=function(){return[Nc]},Ld.prototype.getClass=function(){return Ld},Ld.getPoints=function(){if(1===arguments.length){var e=arguments[0];return e instanceof $c?ip.singletonList(e):Ld.getPoints(e,new cc)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t instanceof $c?n.add(t):t instanceof Fc&&t.apply(new Ld(n)),n}};var Id=function(){this._locations=null;var e=arguments[0];this._locations=e};Id.prototype.filter=function(e){(e instanceof $c||e instanceof Qc||e instanceof tf)&&this._locations.add(new Md(e,0,e.getCoordinate()))},Id.prototype.interfaces_=function(){return[Nc]},Id.prototype.getClass=function(){return Id},Id.getLocations=function(e){var t=new cc;return e.apply(new Id(t)),t};var Dd=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new kd,this._minDistanceLocation=null,this._minDistance=ru.MAX_VALUE,2===arguments.length){var e=arguments[0],t=arguments[1];this._geom=[e,t],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};Dd.prototype.computeContainmentDistance=function(){var e=this;if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=1-n,o=Ad.getPolygons(this._geom[n]);if(o.size()>0){var a=Id.getLocations(this._geom[i]);if(this.computeContainmentDistance(a,o,r),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=r[0],this._minDistanceLocation[n]=r[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&vu(arguments[0],lc)&&vu(arguments[1],lc)){for(var s=arguments[0],l=arguments[1],u=arguments[2],c=0;c<s.size();c++)for(var f=s.get(c),p=0;p<l.size();p++)if(e.computeContainmentDistance(f,l.get(p),u),e._minDistance<=e._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Md&&arguments[1]instanceof tf){var d=arguments[0],h=arguments[1],v=arguments[2],m=d.getCoordinate();if(du.EXTERIOR!==this._ptLocator.locate(m,h))return this._minDistance=0,v[0]=d,v[1]=new Md(h,m),null}},Dd.prototype.computeMinDistanceLinesPoints=function(e,t,n){for(var r=this,i=0;i<e.size();i++)for(var o=e.get(i),a=0;a<t.size();a++){var s=t.get(a);if(r.computeMinDistance(o,s,n),r._minDistance<=r._terminateDistance)return null}},Dd.prototype.computeFacetDistance=function(){var e=new Array(2).fill(null),t=Pd.getLines(this._geom[0]),n=Pd.getLines(this._geom[1]),r=Ld.getPoints(this._geom[0]),i=Ld.getPoints(this._geom[1]);return this.computeMinDistanceLines(t,n,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(t,i,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(n,r,e),this.updateMinDistance(e,!0),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistancePoints(r,i,e),void this.updateMinDistance(e,!1))))},Dd.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Dd.prototype.updateMinDistance=function(e,t){if(null===e[0])return null;t?(this._minDistanceLocation[0]=e[1],this._minDistanceLocation[1]=e[0]):(this._minDistanceLocation[0]=e[0],this._minDistanceLocation[1]=e[1])},Dd.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Dd.prototype.computeMinDistance=function(){var e=this;if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Qc&&arguments[1]instanceof $c){var t=arguments[0],n=arguments[1],r=arguments[2];if(t.getEnvelopeInternal().distance(n.getEnvelopeInternal())>this._minDistance)return null;for(var i=t.getCoordinates(),o=n.getCoordinate(),a=0;a<i.length-1;a++){var s=qu.distancePointLine(o,i[a],i[a+1]);if(s<e._minDistance){e._minDistance=s;var l=new bp(i[a],i[a+1]),u=l.closestPoint(o);r[0]=new Md(t,a,u),r[1]=new Md(n,0,o)}if(e._minDistance<=e._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Qc&&arguments[1]instanceof Qc){var c=arguments[0],f=arguments[1],p=arguments[2];if(c.getEnvelopeInternal().distance(f.getEnvelopeInternal())>this._minDistance)return null;for(var d=c.getCoordinates(),h=f.getCoordinates(),v=0;v<d.length-1;v++)for(var m=0;m<h.length-1;m++){var g=qu.distanceLineLine(d[v],d[v+1],h[m],h[m+1]);if(g<e._minDistance){e._minDistance=g;var y=new bp(d[v],d[v+1]),b=new bp(h[m],h[m+1]),_=y.closestPoints(b);p[0]=new Md(c,v,_[0]),p[1]=new Md(f,m,_[1])}if(e._minDistance<=e._terminateDistance)return null}}},Dd.prototype.computeMinDistancePoints=function(e,t,n){for(var r=this,i=0;i<e.size();i++)for(var o=e.get(i),a=0;a<t.size();a++){var s=t.get(a),l=o.getCoordinate().distance(s.getCoordinate());if(l<r._minDistance&&(r._minDistance=l,n[0]=new Md(o,0,o.getCoordinate()),n[1]=new Md(s,0,s.getCoordinate())),r._minDistance<=r._terminateDistance)return null}},Dd.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new nu("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Dd.prototype.computeMinDistanceLines=function(e,t,n){for(var r=this,i=0;i<e.size();i++)for(var o=e.get(i),a=0;a<t.size();a++){var s=t.get(a);if(r.computeMinDistance(o,s,n),r._minDistance<=r._terminateDistance)return null}},Dd.prototype.interfaces_=function(){return[]},Dd.prototype.getClass=function(){return Dd},Dd.distance=function(e,t){return new Dd(e,t).distance()},Dd.isWithinDistance=function(e,t,n){return new Dd(e,t,n).distance()<=n},Dd.nearestPoints=function(e,t){return new Dd(e,t).nearestPoints()};var Rd=function(){this._pt=[new uu,new uu],this._distance=ru.NaN,this._isNull=!0};Rd.prototype.getCoordinates=function(){return this._pt},Rd.prototype.getCoordinate=function(e){return this._pt[e]},Rd.prototype.setMinimum=function(){if(1===arguments.length){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}},Rd.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Rd.prototype.toString=function(){return ju.toLineString(this._pt[0],this._pt[1])},Rd.prototype.getDistance=function(){return this._distance},Rd.prototype.setMaximum=function(){if(1===arguments.length){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}},Rd.prototype.interfaces_=function(){return[]},Rd.prototype.getClass=function(){return Rd};var Nd=function(){};Nd.prototype.interfaces_=function(){return[]},Nd.prototype.getClass=function(){return Nd},Nd.computeDistance=function(){if(arguments[2]instanceof Rd&&arguments[0]instanceof Qc&&arguments[1]instanceof uu)for(var e=arguments[0],t=arguments[1],n=arguments[2],r=new bp,i=e.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var a=r.closestPoint(t);n.setMinimum(a,t)}else if(arguments[2]instanceof Rd&&arguments[0]instanceof tf&&arguments[1]instanceof uu){var s=arguments[0],l=arguments[1],u=arguments[2];Nd.computeDistance(s.getExteriorRing(),l,u);for(var c=0;c<s.getNumInteriorRing();c++)Nd.computeDistance(s.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof Rd&&arguments[0]instanceof Ku&&arguments[1]instanceof uu){var f=arguments[0],p=arguments[1],d=arguments[2];if(f instanceof Qc)Nd.computeDistance(f,p,d);else if(f instanceof tf)Nd.computeDistance(f,p,d);else if(f instanceof Fc)for(var h=f,v=0;v<h.getNumGeometries();v++){var m=h.getGeometryN(v);Nd.computeDistance(m,p,d)}else d.setMinimum(f.getCoordinate(),p)}else if(arguments[2]instanceof Rd&&arguments[0]instanceof bp&&arguments[1]instanceof uu){var g=arguments[0],y=arguments[1],b=arguments[2],_=g.closestPoint(y);b.setMinimum(_,y)}};var jd=function(){this._g0=null,this._g1=null,this._ptDist=new Rd,this._densifyFrac=0;var e=arguments[0],t=arguments[1];this._g0=e,this._g1=t},Fd={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};jd.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},jd.prototype.setDensifyFraction=function(e){if(e>1||e<=0)throw new nu("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e},jd.prototype.compute=function(e,t){this.computeOrientedDistance(e,t,this._ptDist),this.computeOrientedDistance(t,e,this._ptDist)},jd.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},jd.prototype.computeOrientedDistance=function(e,t,n){var r=new Bd(t);if(e.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new Ud(t,this._densifyFrac);e.apply(i),n.setMaximum(i.getMaxPointDistance())}},jd.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},jd.prototype.interfaces_=function(){return[]},jd.prototype.getClass=function(){return jd},jd.distance=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new jd(e,t);return n.distance()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=new jd(r,i);return a.setDensifyFraction(o),a.distance()}},Fd.MaxPointDistanceFilter.get=function(){return Bd},Fd.MaxDensifiedByFractionDistanceFilter.get=function(){return Ud},Object.defineProperties(jd,Fd);var Bd=function(){this._maxPtDist=new Rd,this._minPtDist=new Rd,this._euclideanDist=new Nd,this._geom=null;var e=arguments[0];this._geom=e};Bd.prototype.filter=function(e){this._minPtDist.initialize(),Nd.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Bd.prototype.getMaxPointDistance=function(){return this._maxPtDist},Bd.prototype.interfaces_=function(){return[Ju]},Bd.prototype.getClass=function(){return Bd};var Ud=function(){this._maxPtDist=new Rd,this._minPtDist=new Rd,this._geom=null,this._numSubSegs=0;var e=arguments[0],t=arguments[1];this._geom=e,this._numSubSegs=Math.trunc(Math.round(1/t))};Ud.prototype.filter=function(e,t){var n=this;if(0===t)return null;for(var r=e.getCoordinate(t-1),i=e.getCoordinate(t),o=(i.x-r.x)/this._numSubSegs,a=(i.y-r.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var l=r.x+s*o,u=r.y+s*a,c=new uu(l,u);n._minPtDist.initialize(),Nd.computeDistance(n._geom,c,n._minPtDist),n._maxPtDist.setMaximum(n._minPtDist)}},Ud.prototype.isDone=function(){return!1},Ud.prototype.isGeometryChanged=function(){return!1},Ud.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ud.prototype.interfaces_=function(){return[jc]},Ud.prototype.getClass=function(){return Ud};var zd=function(e,t,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._bufDistance=t||null,this._result=n||null},Hd={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};zd.prototype.checkMaximumDistance=function(e,t,n){var r=new jd(t,e);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=e.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+ju.toLineString(i[0],i[1])+")"}},zd.prototype.isValid=function(){var e=Math.abs(this._bufDistance),t=zd.MAX_DISTANCE_DIFF_FRAC*e;return this._minValidDistance=e-t,this._maxValidDistance=e+t,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),zd.VERBOSE&&ku.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},zd.prototype.checkNegativeValid=function(){if(!(this._input instanceof tf||this._input instanceof of||this._input instanceof Fc))return null;var e=this.getPolygonLines(this._input);if(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(e,this._result,this._maxValidDistance)},zd.prototype.getErrorIndicator=function(){return this._errorIndicator},zd.prototype.checkMinimumDistance=function(e,t,n){var r=new Dd(e,t,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=e.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+ju.toLineString(i[0],i[1])+" )"}},zd.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();if(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,e,this._maxValidDistance)},zd.prototype.getErrorLocation=function(){return this._errorLocation},zd.prototype.getPolygonLines=function(e){for(var t=new cc,n=new Pd(t),r=Ad.getPolygons(e).iterator();r.hasNext();)r.next().apply(n);return e.getFactory().buildGeometry(t)},zd.prototype.getErrorMessage=function(){return this._errMsg},zd.prototype.interfaces_=function(){return[]},zd.prototype.getClass=function(){return zd},Hd.VERBOSE.get=function(){return!1},Hd.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(zd,Hd);var Vd=function(e,t,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._distance=t||null,this._result=n||null},Gd={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Vd.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Vd.prototype.checkEnvelope=function(){if(this._distance<0)return null;var e=this._distance*Vd.MAX_ENV_DIFF_FRAC;0===e&&(e=.001);var t=new Tu(this._input.getEnvelopeInternal());t.expandBy(this._distance);var n=new Tu(this._result.getEnvelopeInternal());n.expandBy(e),n.contains(t)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},Vd.prototype.checkDistance=function(){var e=new zd(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")},Vd.prototype.checkArea=function(){var e=this._input.getArea(),t=this._result.getArea();this._distance>0&&e>t&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&e<t&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Vd.prototype.checkPolygonal=function(){this._result instanceof tf||this._result instanceof of||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Vd.prototype.getErrorIndicator=function(){return this._errorIndicator},Vd.prototype.getErrorLocation=function(){return this._errorLocation},Vd.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Vd.prototype.report=function(e){if(!Vd.VERBOSE)return null;ku.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED"))},Vd.prototype.getErrorMessage=function(){return this._errorMsg},Vd.prototype.interfaces_=function(){return[]},Vd.prototype.getClass=function(){return Vd},Vd.isValidMsg=function(e,t,n){var r=new Vd(e,t,n);return r.isValid()?null:r.getErrorMessage()},Vd.isValid=function(e,t,n){return!!new Vd(e,t,n).isValid()},Gd.VERBOSE.get=function(){return!1},Gd.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Vd,Gd);var Wd=function(){this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};Wd.prototype.getCoordinates=function(){return this._pts},Wd.prototype.size=function(){return this._pts.length},Wd.prototype.getCoordinate=function(e){return this._pts[e]},Wd.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Wd.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:vp.octant(this.getCoordinate(e),this.getCoordinate(e+1))},Wd.prototype.setData=function(e){this._data=e},Wd.prototype.getData=function(){return this._data},Wd.prototype.toString=function(){return ju.toLineString(new ff(this._pts))},Wd.prototype.interfaces_=function(){return[mp]},Wd.prototype.getClass=function(){return Wd};var qd=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new cc,this._intersectionCount=0,this._keepIntersections=!0;var e=arguments[0];this._li=e,this._interiorIntersection=null};qd.prototype.getInteriorIntersection=function(){return this._interiorIntersection},qd.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e},qd.prototype.getIntersectionSegments=function(){return this._intSegments},qd.prototype.count=function(){return this._intersectionCount},qd.prototype.getIntersections=function(){return this._intersections},qd.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},qd.prototype.setKeepIntersections=function(e){this._keepIntersections=e},qd.prototype.processIntersections=function(e,t,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(e===n&&t===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(e,t)&&!this.isEndSegment(n,r))return null;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},qd.prototype.isEndSegment=function(e,t){return 0===t||t>=e.size()-2},qd.prototype.hasIntersection=function(){return null!==this._interiorIntersection},qd.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},qd.prototype.interfaces_=function(){return[Jp]},qd.prototype.getClass=function(){return qd},qd.createAllIntersectionsFinder=function(e){var t=new qd(e);return t.setFindAllIntersections(!0),t},qd.createAnyIntersectionFinder=function(e){return new qd(e)},qd.createIntersectionCounter=function(e){var t=new qd(e);return t.setFindAllIntersections(!0),t.setKeepIntersections(!1),t};var Yd=function(){this._li=new Vu,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var e=arguments[0];this._segStrings=e};Yd.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Yd.prototype.getIntersections=function(){return this._segInt.getIntersections()},Yd.prototype.isValid=function(){return this.execute(),this._isValid},Yd.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},Yd.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new qd(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new Cp;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Yd.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new If(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Yd.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+ju.toLineString(e[0],e[1])+" and "+ju.toLineString(e[2],e[3])},Yd.prototype.interfaces_=function(){return[]},Yd.prototype.getClass=function(){return Yd},Yd.computeIntersections=function(e){var t=new Yd(e);return t.setFindAllIntersections(!0),t.isValid(),t.getIntersections()};var Xd=function e(){this._nv=null;var t=arguments[0];this._nv=new Yd(e.toSegmentStrings(t))};Xd.prototype.checkValid=function(){this._nv.checkValid()},Xd.prototype.interfaces_=function(){return[]},Xd.prototype.getClass=function(){return Xd},Xd.toSegmentStrings=function(e){for(var t=new cc,n=e.iterator();n.hasNext();){var r=n.next();t.add(new Wd(r.getCoordinates(),r))}return t},Xd.checkValid=function(e){new Xd(e).checkValid()};var Kd=function(e){this._mapOp=e};Kd.prototype.map=function(e){for(var t=new cc,n=0;n<e.getNumGeometries();n++){var r=this._mapOp.map(e.getGeometryN(n));r.isEmpty()||t.add(r)}return e.getFactory().createGeometryCollection(_f.toGeometryArray(t))},Kd.prototype.interfaces_=function(){return[]},Kd.prototype.getClass=function(){return Kd},Kd.map=function(e,t){return new Kd(t).map(e)};var Zd=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new cc,this._resultLineList=new cc;var e=arguments[0],t=arguments[1],n=arguments[2];this._op=e,this._geometryFactory=t,this._ptLocator=n};Zd.prototype.collectLines=function(e){for(var t=this,n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var r=n.next();t.collectLineEdge(r,e,t._lineEdgesList),t.collectBoundaryTouchEdge(r,e,t._lineEdgesList)}},Zd.prototype.labelIsolatedLine=function(e,t){var n=this._ptLocator.locate(e.getCoordinate(),this._op.getArgGeometry(t));e.getLabel().setLocation(t,n)},Zd.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList},Zd.prototype.collectLineEdge=function(e,t,n){var r=e.getLabel(),i=e.getEdge();e.isLineEdge()&&(e.isVisited()||!Mh.isResultOfOp(r,t)||i.isCovered()||(n.add(i),e.setVisitedEdge(!0)))},Zd.prototype.findCoveredLineEdges=function(){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();)e.next().getEdges().findCoveredLineEdges();for(var t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){var n=t.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Zd.prototype.labelIsolatedLines=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Zd.prototype.buildLines=function(e){for(var t=this._lineEdgesList.iterator();t.hasNext();){var n=t.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Zd.prototype.collectBoundaryTouchEdge=function(e,t,n){var r=e.getLabel();return e.isLineEdge()||e.isVisited()||e.isInteriorAreaEdge()||e.getEdge().isInResult()?null:(Uu.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),void(Mh.isResultOfOp(r,t)&&t===Mh.INTERSECTION&&(n.add(e.getEdge()),e.setVisitedEdge(!0))))},Zd.prototype.interfaces_=function(){return[]},Zd.prototype.getClass=function(){return Zd};var Qd=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new cc;var e=arguments[0],t=arguments[1];this._op=e,this._geometryFactory=t};Qd.prototype.filterCoveredNodeToPoint=function(e){var t=e.getCoordinate();if(!this._op.isCoveredByLA(t)){var n=this._geometryFactory.createPoint(t);this._resultPointList.add(n)}},Qd.prototype.extractNonCoveredResultNodes=function(e){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();){var n=t.next();if(!n.isInResult()&&!n.isIncidentEdgeInResult()&&(0===n.getEdges().getDegree()||e===Mh.INTERSECTION)){var r=n.getLabel();Mh.isResultOfOp(r,e)&&this.filterCoveredNodeToPoint(n)}}},Qd.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList},Qd.prototype.interfaces_=function(){return[]},Qd.prototype.getClass=function(){return Qd};var Jd=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Jd.prototype.transformPoint=function(e,t){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))},Jd.prototype.transformPolygon=function(e,t){var n=!0,r=this.transformLinearRing(e.getExteriorRing(),e);null!==r&&r instanceof rf&&!r.isEmpty()||(n=!1);for(var i=new cc,o=0;o<e.getNumInteriorRing();o++){var a=this.transformLinearRing(e.getInteriorRingN(o),e);null===a||a.isEmpty()||(a instanceof rf||(n=!1),i.add(a))}if(n)return this._factory.createPolygon(r,i.toArray([]));var s=new cc;return null!==r&&s.add(r),s.addAll(i),this._factory.buildGeometry(s)},Jd.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)},Jd.prototype.getInputGeometry=function(){return this._inputGeom},Jd.prototype.transformMultiLineString=function(e,t){for(var n=new cc,r=0;r<e.getNumGeometries();r++){var i=this.transformLineString(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Jd.prototype.transformCoordinates=function(e,t){return this.copy(e)},Jd.prototype.transformLineString=function(e,t){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))},Jd.prototype.transformMultiPoint=function(e,t){for(var n=new cc,r=0;r<e.getNumGeometries();r++){var i=this.transformPoint(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Jd.prototype.transformMultiPolygon=function(e,t){for(var n=new cc,r=0;r<e.getNumGeometries();r++){var i=this.transformPolygon(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Jd.prototype.copy=function(e){return e.copy()},Jd.prototype.transformGeometryCollection=function(e,t){for(var n=new cc,r=0;r<e.getNumGeometries();r++){var i=this.transform(e.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(_f.toGeometryArray(n)):this._factory.buildGeometry(n)},Jd.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof $c)return this.transformPoint(e,null);if(e instanceof nf)return this.transformMultiPoint(e,null);if(e instanceof rf)return this.transformLinearRing(e,null);if(e instanceof Qc)return this.transformLineString(e,null);if(e instanceof Bc)return this.transformMultiLineString(e,null);if(e instanceof tf)return this.transformPolygon(e,null);if(e instanceof of)return this.transformMultiPolygon(e,null);if(e instanceof Fc)return this.transformGeometryCollection(e,null);throw new nu("Unknown Geometry subtype: "+e.getClass().getName())},Jd.prototype.transformLinearRing=function(e,t){var n=this.transformCoordinates(e.getCoordinateSequence(),e);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Jd.prototype.interfaces_=function(){return[]},Jd.prototype.getClass=function(){return Jd};var $d=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new bp,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Qc&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1];e.call(this,t.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var r=arguments[0],i=arguments[1];this._srcPts=r,this._isClosed=e.isClosed(r),this._snapTolerance=i}};$d.prototype.snapVertices=function(e,t){for(var n=this._isClosed?e.size()-1:e.size(),r=0;r<n;r++){var i=e.get(r),o=this.findSnapForVertex(i,t);null!==o&&(e.set(r,new uu(o)),0===r&&this._isClosed&&e.set(e.size()-1,new uu(o)))}},$d.prototype.findSnapForVertex=function(e,t){for(var n=0;n<t.length;n++){if(e.equals2D(t[n]))return null;if(e.distance(t[n])<this._snapTolerance)return t[n]}return null},$d.prototype.snapTo=function(e){var t=new pc(this._srcPts);return this.snapVertices(t,e),this.snapSegments(t,e),t.toCoordinateArray()},$d.prototype.snapSegments=function(e,t){if(0===t.length)return null;var n=t.length;t[0].equals2D(t[t.length-1])&&(n=t.length-1);for(var r=0;r<n;r++){var i=t[r],o=this.findSegmentIndexToSnap(i,e);o>=0&&e.add(o+1,new uu(i),!1)}},$d.prototype.findSegmentIndexToSnap=function(e,t){for(var n=this,r=ru.MAX_VALUE,i=-1,o=0;o<t.size()-1;o++){if(n._seg.p0=t.get(o),n._seg.p1=t.get(o+1),n._seg.p0.equals2D(e)||n._seg.p1.equals2D(e)){if(n._allowSnappingToSourceVertices)continue;return-1}var a=n._seg.distance(e);a<n._snapTolerance&&a<r&&(r=a,i=o)}return i},$d.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e},$d.prototype.interfaces_=function(){return[]},$d.prototype.getClass=function(){return $d},$d.isClosed=function(e){return!(e.length<=1)&&e[0].equals2D(e[e.length-1])};var eh=function(e){this._srcGeom=e||null},th={SNAP_PRECISION_FACTOR:{configurable:!0}};eh.prototype.snapTo=function(e,t){var n=this.extractTargetCoordinates(e);return new nh(t,n).transform(this._srcGeom)},eh.prototype.snapToSelf=function(e,t){var n=this.extractTargetCoordinates(this._srcGeom),r=new nh(e,n,!0).transform(this._srcGeom),i=r;return t&&vu(i,ef)&&(i=r.buffer(0)),i},eh.prototype.computeSnapTolerance=function(e){return this.computeMinimumSegmentLength(e)/10},eh.prototype.extractTargetCoordinates=function(e){for(var t=new Tc,n=e.getCoordinates(),r=0;r<n.length;r++)t.add(n[r]);return t.toArray(new Array(0).fill(null))},eh.prototype.computeMinimumSegmentLength=function(e){for(var t=ru.MAX_VALUE,n=0;n<e.length-1;n++){var r=e[n].distance(e[n+1]);r<t&&(t=r)}return t},eh.prototype.interfaces_=function(){return[]},eh.prototype.getClass=function(){return eh},eh.snap=function(e,t,n){var r=new Array(2).fill(null),i=new eh(e);r[0]=i.snapTo(t,n);var o=new eh(t);return r[1]=o.snapTo(r[0],n),r},eh.computeOverlaySnapTolerance=function(){if(1===arguments.length){var e=arguments[0],t=eh.computeSizeBasedSnapTolerance(e),n=e.getPrecisionModel();if(n.getType()===mf.FIXED){var r=1/n.getScale()*2/1.415;r>t&&(t=r)}return t}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(eh.computeOverlaySnapTolerance(i),eh.computeOverlaySnapTolerance(o))}},eh.computeSizeBasedSnapTolerance=function(e){var t=e.getEnvelopeInternal();return Math.min(t.getHeight(),t.getWidth())*eh.SNAP_PRECISION_FACTOR},eh.snapToSelf=function(e,t,n){return new eh(e).snapToSelf(t,n)},th.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(eh,th);var nh=function(e){function t(t,n,r){e.call(this),this._snapTolerance=t||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.snapLine=function(e,t){var n=new $d(e,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(t)},t.prototype.transformCoordinates=function(e,t){var n=e.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Jd),rh=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};rh.prototype.getCommon=function(){return ru.longBitsToDouble(this._commonBits)},rh.prototype.add=function(e){var t=ru.doubleToLongBits(e);return this._isFirst?(this._commonBits=t,this._commonSignExp=rh.signExpBits(this._commonBits),this._isFirst=!1,null):rh.signExpBits(t)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=rh.numCommonMostSigMantissaBits(this._commonBits,t),void(this._commonBits=rh.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},rh.prototype.toString=function(){if(1===arguments.length){var e=arguments[0],t=ru.longBitsToDouble(e),n=ru.toBinaryString(e),r="0000000000000000000000000000000000000000000000000000000000000000"+n,i=r.substring(r.length-64),o=i.substring(0,1)+"  "+i.substring(1,12)+"(exp) "+i.substring(12)+" [ "+t+" ]";return o}},rh.prototype.interfaces_=function(){return[]},rh.prototype.getClass=function(){return rh},rh.getBit=function(e,t){return 0!=(e&1<<t)?1:0},rh.signExpBits=function(e){return e>>52},rh.zeroLowerBits=function(e,t){return e&~((1<<t)-1)},rh.numCommonMostSigMantissaBits=function(e,t){for(var n=0,r=52;r>=0;r--){if(rh.getBit(e,r)!==rh.getBit(t,r))return n;n++}return 52};var ih=function(){this._commonCoord=null,this._ccFilter=new ah},oh={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ih.prototype.addCommonBits=function(e){var t=new sh(this._commonCoord);e.apply(t),e.geometryChanged()},ih.prototype.removeCommonBits=function(e){if(0===this._commonCoord.x&&0===this._commonCoord.y)return e;var t=new uu(this._commonCoord);t.x=-t.x,t.y=-t.y;var n=new sh(t);return e.apply(n),e.geometryChanged(),e},ih.prototype.getCommonCoordinate=function(){return this._commonCoord},ih.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},ih.prototype.interfaces_=function(){return[]},ih.prototype.getClass=function(){return ih},oh.CommonCoordinateFilter.get=function(){return ah},oh.Translater.get=function(){return sh},Object.defineProperties(ih,oh);var ah=function(){this._commonBitsX=new rh,this._commonBitsY=new rh};ah.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)},ah.prototype.getCommonCoordinate=function(){return new uu(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ah.prototype.interfaces_=function(){return[Ju]},ah.prototype.getClass=function(){return ah};var sh=function(){this.trans=null;var e=arguments[0];this.trans=e};sh.prototype.filter=function(e,t){var n=e.getOrdinate(t,0)+this.trans.x,r=e.getOrdinate(t,1)+this.trans.y;e.setOrdinate(t,0,n),e.setOrdinate(t,1,r)},sh.prototype.isDone=function(){return!1},sh.prototype.isGeometryChanged=function(){return!0},sh.prototype.interfaces_=function(){return[jc]},sh.prototype.getClass=function(){return sh};var lh=function(e,t){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=e,this._geom[1]=t,this.computeSnapTolerance()};lh.prototype.selfSnap=function(e){return new eh(e).snapTo(e,this._snapTolerance)},lh.prototype.removeCommonBits=function(e){this._cbr=new ih,this._cbr.add(e[0]),this._cbr.add(e[1]);var t=new Array(2).fill(null);return t[0]=this._cbr.removeCommonBits(e[0].copy()),t[1]=this._cbr.removeCommonBits(e[1].copy()),t},lh.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e},lh.prototype.getResultGeometry=function(e){var t=this.snap(this._geom),n=Mh.overlayOp(t[0],t[1],e);return this.prepareResult(n)},lh.prototype.checkValid=function(e){e.isValid()||ku.out.println("Snapped geometry is invalid")},lh.prototype.computeSnapTolerance=function(){this._snapTolerance=eh.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},lh.prototype.snap=function(e){var t=this.removeCommonBits(e);return eh.snap(t[0],t[1],this._snapTolerance)},lh.prototype.interfaces_=function(){return[]},lh.prototype.getClass=function(){return lh},lh.overlayOp=function(e,t,n){return new lh(e,t).getResultGeometry(n)},lh.union=function(e,t){return lh.overlayOp(e,t,Mh.UNION)},lh.intersection=function(e,t){return lh.overlayOp(e,t,Mh.INTERSECTION)},lh.symDifference=function(e,t){return lh.overlayOp(e,t,Mh.SYMDIFFERENCE)},lh.difference=function(e,t){return lh.overlayOp(e,t,Mh.DIFFERENCE)};var uh=function(e,t){this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=t};uh.prototype.getResultGeometry=function(e){var t=null,n=!1,r=null;try{t=Mh.overlayOp(this._geom[0],this._geom[1],e),n=!0}catch(e){if(!(e instanceof Fu))throw e;r=e}if(!n)try{t=lh.overlayOp(this._geom[0],this._geom[1],e)}catch(e){throw e instanceof Fu?r:e}return t},uh.prototype.interfaces_=function(){return[]},uh.prototype.getClass=function(){return uh},uh.overlayOp=function(e,t,n){return new uh(e,t).getResultGeometry(n)},uh.union=function(e,t){return uh.overlayOp(e,t,Mh.UNION)},uh.intersection=function(e,t){return uh.overlayOp(e,t,Mh.INTERSECTION)},uh.symDifference=function(e,t){return uh.overlayOp(e,t,Mh.SYMDIFFERENCE)},uh.difference=function(e,t){return uh.overlayOp(e,t,Mh.DIFFERENCE)};var ch=function(){this.mce=null,this.chainIndex=null;var e=arguments[0],t=arguments[1];this.mce=e,this.chainIndex=t};ch.prototype.computeIntersections=function(e,t){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,t)},ch.prototype.interfaces_=function(){return[]},ch.prototype.getClass=function(){return ch};var fh=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var t=arguments[0],n=arguments[1];this._eventType=e.DELETE,this._xValue=t,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=e.INSERT,this._label=r,this._xValue=i,this._obj=o}},ph={INSERT:{configurable:!0},DELETE:{configurable:!0}};fh.prototype.isDelete=function(){return this._eventType===fh.DELETE},fh.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e},fh.prototype.getObject=function(){return this._obj},fh.prototype.compareTo=function(e){var t=e;return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},fh.prototype.getInsertEvent=function(){return this._insertEvent},fh.prototype.isInsert=function(){return this._eventType===fh.INSERT},fh.prototype.isSameLabel=function(e){return null!==this._label&&this._label===e._label},fh.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},fh.prototype.interfaces_=function(){return[ou]},fh.prototype.getClass=function(){return fh},ph.INSERT.get=function(){return 1},ph.DELETE.get=function(){return 2},Object.defineProperties(fh,ph);var dh=function(){};dh.prototype.interfaces_=function(){return[]},dh.prototype.getClass=function(){return dh};var hh=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[0],t=arguments[1],n=arguments[2];this._li=e,this._includeProper=t,this._recordIsolated=n};hh.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&1===this._li.getIntersectionNum()){if(hh.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var i=e.getNumPoints()-1;if(0===t&&r===i||0===r&&t===i)return!0}}return!1},hh.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},hh.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e},hh.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},hh.prototype.isBoundaryPointInternal=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next().getCoordinate();if(e.isIntersection(r))return!0}return!1},hh.prototype.hasProperIntersection=function(){return this._hasProper},hh.prototype.hasIntersection=function(){return this._hasIntersection},hh.prototype.isDone=function(){return this._isDone},hh.prototype.isBoundaryPoint=function(e,t){return null!==t&&(!!this.isBoundaryPointInternal(e,t[0])||!!this.isBoundaryPointInternal(e,t[1]))},hh.prototype.setBoundaryNodes=function(e,t){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=t},hh.prototype.addIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},hh.prototype.interfaces_=function(){return[]},hh.prototype.getClass=function(){return hh},hh.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)};var vh=function(e){function t(){e.call(this),this.events=new cc,this.nOverlaps=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.prepareEvents=function(){ip.sort(this.events);for(var e=0;e<this.events.size();e++){var t=this.events.get(e);t.isDelete()&&t.getInsertEvent().setDeleteEventIndex(e)}},t.prototype.computeIntersections=function(){var e=this;if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var n=0;n<this.events.size();n++){var r=e.events.get(n);if(r.isInsert()&&e.processOverlaps(n,r.getDeleteEventIndex(),r,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof hh&&vu(arguments[0],lc)&&vu(arguments[1],lc)){var i=arguments[0],o=arguments[1],a=arguments[2];this.addEdges(i,i),this.addEdges(o,o),this.computeIntersections(a)}else if("boolean"==typeof arguments[2]&&vu(arguments[0],lc)&&arguments[1]instanceof hh){var s=arguments[0],l=arguments[1],u=arguments[2];u?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(l)}},t.prototype.addEdge=function(e,t){for(var n=e.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new ch(n,i),a=new fh(t,n.getMinX(i),o);this.events.add(a),this.events.add(new fh(n.getMaxX(i),a))}},t.prototype.processOverlaps=function(e,t,n,r){for(var i=n.getObject(),o=e;o<t;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(i.computeIntersections(s,r),this.nOverlaps++)}}},t.prototype.addEdges=function(){var e=this;if(1===arguments.length)for(var t=arguments[0],n=t.iterator();n.hasNext();){var r=n.next();e.addEdge(r,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],a=i.iterator();a.hasNext();){var s=a.next();e.addEdge(s,o)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(dh),mh=function(){this._min=ru.POSITIVE_INFINITY,this._max=ru.NEGATIVE_INFINITY},gh={NodeComparator:{configurable:!0}};mh.prototype.getMin=function(){return this._min},mh.prototype.intersects=function(e,t){return!(this._min>t||this._max<e)},mh.prototype.getMax=function(){return this._max},mh.prototype.toString=function(){return ju.toLineString(new uu(this._min,0),new uu(this._max,0))},mh.prototype.interfaces_=function(){return[]},mh.prototype.getClass=function(){return mh},gh.NodeComparator.get=function(){return yh},Object.defineProperties(mh,gh);var yh=function(){};yh.prototype.compare=function(e,t){var n=e,r=t,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},yh.prototype.interfaces_=function(){return[su]},yh.prototype.getClass=function(){return yh};var bh=function(e){function t(){e.call(this),this._item=null;var t=arguments[0],n=arguments[1],r=arguments[2];this._min=t,this._max=n,this._item=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.query=function(e,t,n){if(!this.intersects(e,t))return null;n.visitItem(this._item)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(mh),_h=function(e){function t(){e.call(this),this._node1=null,this._node2=null;var t=arguments[0],n=arguments[1];this._node1=t,this._node2=n,this.buildExtent(this._node1,this._node2)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildExtent=function(e,t){this._min=Math.min(e._min,t._min),this._max=Math.max(e._max,t._max)},t.prototype.query=function(e,t,n){if(!this.intersects(e,t))return null;null!==this._node1&&this._node1.query(e,t,n),null!==this._node2&&this._node2.query(e,t,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(mh),Eh=function(){this._leaves=new cc,this._root=null,this._level=0};Eh.prototype.buildTree=function(){ip.sort(this._leaves,new mh.NodeComparator);for(var e=this._leaves,t=null,n=new cc;;){if(this.buildLevel(e,n),1===n.size())return n.get(0);t=e,e=n,n=t}},Eh.prototype.insert=function(e,t,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new bh(e,t,n))},Eh.prototype.query=function(e,t,n){this.init(),this._root.query(e,t,n)},Eh.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Eh.prototype.printNode=function(e){ku.out.println(ju.toLineString(new uu(e._min,this._level),new uu(e._max,this._level)))},Eh.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Eh.prototype.buildLevel=function(e,t){this._level++,t.clear();for(var n=0;n<e.size();n+=2){var r=e.get(n);if(null===(n+1<e.size()?e.get(n):null))t.add(r);else{var i=new _h(e.get(n),e.get(n+1));t.add(i)}}},Eh.prototype.interfaces_=function(){return[]},Eh.prototype.getClass=function(){return Eh};var xh=function(){this._items=new cc};xh.prototype.visitItem=function(e){this._items.add(e)},xh.prototype.getItems=function(){return this._items},xh.prototype.interfaces_=function(){return[ep]},xh.prototype.getClass=function(){return xh};var wh=function(){this._index=null;var e=arguments[0];if(!vu(e,ef))throw new nu("Argument must be Polygonal");this._index=new Ch(e)},Sh={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};wh.prototype.locate=function(e){var t=new Wu(e),n=new Oh(t);return this._index.query(e.y,e.y,n),t.getLocation()},wh.prototype.interfaces_=function(){return[Gp]},wh.prototype.getClass=function(){return wh},Sh.SegmentVisitor.get=function(){return Oh},Sh.IntervalIndexedGeometry.get=function(){return Ch},Object.defineProperties(wh,Sh);var Oh=function(){this._counter=null;var e=arguments[0];this._counter=e};Oh.prototype.visitItem=function(e){var t=e;this._counter.countSegment(t.getCoordinate(0),t.getCoordinate(1))},Oh.prototype.interfaces_=function(){return[ep]},Oh.prototype.getClass=function(){return Oh};var Ch=function(){this._index=new Eh;var e=arguments[0];this.init(e)};Ch.prototype.init=function(e){for(var t=Pd.getLines(e).iterator();t.hasNext();){var n=t.next().getCoordinates();this.addLine(n)}},Ch.prototype.addLine=function(e){for(var t=1;t<e.length;t++){var n=new bp(e[t-1],e[t]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},Ch.prototype.query=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new xh;return this._index.query(e,t,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},Ch.prototype.interfaces_=function(){return[]},Ch.prototype.getClass=function(){return Ch};var Ah=function(e){function t(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new vf,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new kd,2===arguments.length){var t=arguments[0],n=arguments[1],r=$u.OGC_SFS_BOUNDARY_RULE;this._argIndex=t,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=a,null!==o&&this.add(o)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertBoundaryPoint=function(e,n){var r=this._nodes.addNode(n).getLabel(),i=1;r.getLocation(e,Pf.ON)===du.BOUNDARY&&i++;var o=t.determineBoundary(this._boundaryNodeRule,i);r.setLocation(e,o)},t.prototype.computeSelfNodes=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.computeSelfNodes(e,t,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new hh(n,!0,!1);o.setIsDoneIfProperInt(i);var a=this.createEdgeSetIntersector(),s=this._parentGeom instanceof rf||this._parentGeom instanceof tf||this._parentGeom instanceof of,l=r||!s;return a.computeIntersections(this._edges,o,l),this.addSelfIntersectionNodes(this._argIndex),o}},t.prototype.computeSplitEdges=function(e){for(var t=this._edges.iterator();t.hasNext();)t.next().eiList.addSplitEdges(e)},t.prototype.computeEdgeIntersections=function(e,t,n){var r=new hh(t,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),e.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,e._edges,r),r},t.prototype.getGeometry=function(){return this._parentGeom},t.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},t.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},t.prototype.addPoint=function(){if(arguments[0]instanceof $c){var e=arguments[0],t=e.getCoordinate();this.insertPoint(this._argIndex,t,du.INTERIOR)}else if(arguments[0]instanceof uu){var n=arguments[0];this.insertPoint(this._argIndex,n,du.INTERIOR)}},t.prototype.addPolygon=function(e){this.addPolygonRing(e.getExteriorRing(),du.EXTERIOR,du.INTERIOR);for(var t=0;t<e.getNumInteriorRing();t++){var n=e.getInteriorRingN(t);this.addPolygonRing(n,du.INTERIOR,du.EXTERIOR)}},t.prototype.addEdge=function(e){this.insertEdge(e);var t=e.getCoordinates();this.insertPoint(this._argIndex,t[0],du.BOUNDARY),this.insertPoint(this._argIndex,t[t.length-1],du.BOUNDARY)},t.prototype.addLineString=function(e){var t=dc.removeRepeatedPoints(e.getCoordinates());if(t.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=t[0],null;var n=new ad(t,new jf(this._argIndex,du.INTERIOR));this._lineEdgeMap.put(e,n),this.insertEdge(n),Uu.isTrue(t.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,t[0]),this.insertBoundaryPoint(this._argIndex,t[t.length-1])},t.prototype.getInvalidPoint=function(){return this._invalidPoint},t.prototype.getBoundaryPoints=function(){for(var e=this.getBoundaryNodes(),t=new Array(e.size()).fill(null),n=0,r=e.iterator();r.hasNext();){var i=r.next();t[n++]=i.getCoordinate().copy()}return t},t.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},t.prototype.addSelfIntersectionNode=function(e,t,n){if(this.isBoundaryNode(e,t))return null;n===du.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(e,t):this.insertPoint(e,t,n)},t.prototype.addPolygonRing=function(e,t,n){if(e.isEmpty())return null;var r=dc.removeRepeatedPoints(e.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=t,o=n;qu.isCCW(r)&&(i=n,o=t);var a=new ad(r,new jf(this._argIndex,du.BOUNDARY,i,o));this._lineEdgeMap.put(e,a),this.insertEdge(a),this.insertPoint(this._argIndex,r[0],du.BOUNDARY)},t.prototype.insertPoint=function(e,t,n){var r=this._nodes.addNode(t),i=r.getLabel();null===i?r._label=new jf(e,n):i.setLocation(e,n)},t.prototype.createEdgeSetIntersector=function(){return new vh},t.prototype.addSelfIntersectionNodes=function(e){for(var t=this._edges.iterator();t.hasNext();)for(var n=t.next(),r=n.getLabel().getLocation(e),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(e,o.coord,r)}},t.prototype.add=function(){if(1!==arguments.length)return e.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof of&&(this._useBoundaryDeterminationRule=!1),t instanceof tf)this.addPolygon(t);else if(t instanceof Qc)this.addLineString(t);else if(t instanceof $c)this.addPoint(t);else if(t instanceof nf)this.addCollection(t);else if(t instanceof Bc)this.addCollection(t);else if(t instanceof of)this.addCollection(t);else{if(!(t instanceof Fc))throw new Error(t.getClass().getName());this.addCollection(t)}},t.prototype.addCollection=function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},t.prototype.locate=function(e){return vu(this._parentGeom,ef)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new wh(this._parentGeom)),this._areaPtLocator.locate(e)):this._ptLocator.locate(e,this._parentGeom)},t.prototype.findEdge=function(){if(1===arguments.length){var t=arguments[0];return this._lineEdgeMap.get(t)}return e.prototype.findEdge.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.determineBoundary=function(e,t){return e.isInBoundary(t)?du.BOUNDARY:du.INTERIOR},t}(Kf),Ph=function(){if(this._li=new Vu,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Ah(0,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=$u.OGC_SFS_BOUNDARY_RULE;t.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(t.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Ah(0,t,r),this._arg[1]=new Ah(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Ah(0,i,a),this._arg[1]=new Ah(1,o,a)}};Ph.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()},Ph.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)},Ph.prototype.interfaces_=function(){return[]},Ph.prototype.getClass=function(){return Ph};var kh=function(){};kh.prototype.interfaces_=function(){return[]},kh.prototype.getClass=function(){return kh},kh.map=function(){if(arguments[0]instanceof Ku&&vu(arguments[1],kh.MapOp)){for(var e=arguments[0],t=arguments[1],n=new cc,r=0;r<e.getNumGeometries();r++){var i=t.map(e.getGeometryN(r));null!==i&&n.add(i)}return e.getFactory().buildGeometry(n)}if(vu(arguments[0],oc)&&vu(arguments[1],kh.MapOp)){for(var o=arguments[0],a=arguments[1],s=new cc,l=o.iterator();l.hasNext();){var u=l.next(),c=a.map(u);null!==c&&s.add(c)}return s}},kh.MapOp=function(){};var Mh=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n),this._ptLocator=new kd,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Qp,this._resultPolyList=new cc,this._resultLineList=new cc,this._resultPointList=new cc,this._graph=new Kf(new Kp),this._geomFact=t.getFactory()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new jf(e.getLabel())).flip();var i=t.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(e)},t.prototype.getGraph=function(){return this._graph},t.prototype.cancelDuplicateResultEdges=function(){for(var e=this._graph.getEdgeEnds().iterator();e.hasNext();){var t=e.next(),n=t.getSym();t.isInResult()&&n.isInResult()&&(t.setInResult(!1),n.setInResult(!1))}},t.prototype.isCoveredByLA=function(e){return!!this.isCovered(e,this._resultLineList)||!!this.isCovered(e,this._resultPolyList)},t.prototype.computeGeometry=function(e,n,r,i){var o=new cc;return o.addAll(e),o.addAll(n),o.addAll(r),o.isEmpty()?t.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},t.prototype.mergeSymLabels=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().mergeSymLabels()},t.prototype.isCovered=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(e,r)!==du.EXTERIOR)return!0}return!1},t.prototype.replaceCollapsedEdges=function(){for(var e=new cc,t=this._edgeList.iterator();t.hasNext();){var n=t.next();n.isCollapsed()&&(t.remove(),e.add(n.getCollapsedEdge()))}this._edgeList.addAll(e)},t.prototype.updateNodeLabelling=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();){var t=e.next(),n=t.getEdges().getLabel();t.getLabel().merge(n)}},t.prototype.getResultGeometry=function(e){return this.computeOverlay(e),this._resultGeom},t.prototype.insertUniqueEdges=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this.insertUniqueEdge(n)}},t.prototype.computeOverlay=function(e){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var t=new cc;this._arg[0].computeSplitEdges(t),this._arg[1].computeSplitEdges(t),this.insertUniqueEdges(t),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Xd.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(e),this.cancelDuplicateResultEdges();var n=new Zf(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Zd(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(e);var i=new Qd(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(e),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,e)},t.prototype.labelIncompleteNode=function(e,t){var n=this._ptLocator.locate(e.getCoordinate(),this._arg[t].getGeometry());e.getLabel().setLocation(t,n)},t.prototype.copyPoints=function(e){for(var t=this._arg[e].getNodeIterator();t.hasNext();){var n=t.next();this._graph.addNode(n.getCoordinate()).setLabel(e,n.getLabel().getLocation(e))}},t.prototype.findResultAreaEdges=function(e){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&t.isResultOfOp(i.getLocation(0,Pf.RIGHT),i.getLocation(1,Pf.RIGHT),e)&&r.setInResult(!0)}},t.prototype.computeLabelsFromDepths=function(){for(var e=this._edgeList.iterator();e.hasNext();){var t=e.next(),n=t.getLabel(),r=t.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(Uu.isTrue(!r.isNull(i,Pf.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Pf.LEFT,r.getLocation(i,Pf.LEFT)),Uu.isTrue(!r.isNull(i,Pf.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Pf.RIGHT,r.getLocation(i,Pf.RIGHT))))}}},t.prototype.computeLabelling=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},t.prototype.labelIncompleteNodes=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();){var t=e.next(),n=t.getLabel();t.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(t,0):this.labelIncompleteNode(t,1)),t.getEdges().updateLabelling(n)}},t.prototype.isCoveredByA=function(e){return!!this.isCovered(e,this._resultPolyList)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ph);Mh.overlayOp=function(e,t,n){return new Mh(e,t).getResultGeometry(n)},Mh.intersection=function(e,t){if(e.isEmpty()||t.isEmpty())return Mh.createEmptyResult(Mh.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){var n=t;return Kd.map(e,{interfaces_:function(){return[kh.MapOp]},map:function(e){return e.intersection(n)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),uh.overlayOp(e,t,Mh.INTERSECTION)},Mh.symDifference=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return Mh.createEmptyResult(Mh.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),uh.overlayOp(e,t,Mh.SYMDIFFERENCE)},Mh.resultDimension=function(e,t,n){var r=t.getDimension(),i=n.getDimension(),o=-1;switch(e){case Mh.INTERSECTION:o=Math.min(r,i);break;case Mh.UNION:o=Math.max(r,i);break;case Mh.DIFFERENCE:o=r;break;case Mh.SYMDIFFERENCE:o=Math.max(r,i)}return o},Mh.createEmptyResult=function(e,t,n,r){var i=null;switch(Mh.resultDimension(e,t,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Mh.difference=function(e,t){return e.isEmpty()?Mh.createEmptyResult(Mh.DIFFERENCE,e,t,e.getFactory()):t.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),uh.overlayOp(e,t,Mh.DIFFERENCE))},Mh.isResultOfOp=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=e.getLocation(0),r=e.getLocation(1);return Mh.isResultOfOp(n,r,t)}if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];switch(i===du.BOUNDARY&&(i=du.INTERIOR),o===du.BOUNDARY&&(o=du.INTERIOR),a){case Mh.INTERSECTION:return i===du.INTERIOR&&o===du.INTERIOR;case Mh.UNION:return i===du.INTERIOR||o===du.INTERIOR;case Mh.DIFFERENCE:return i===du.INTERIOR&&o!==du.INTERIOR;case Mh.SYMDIFFERENCE:return i===du.INTERIOR&&o!==du.INTERIOR||i!==du.INTERIOR&&o===du.INTERIOR}return!1}},Mh.INTERSECTION=1,Mh.UNION=2,Mh.DIFFERENCE=3,Mh.SYMDIFFERENCE=4;var Th=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new kd,this._seg=new bp;var e=arguments[0],t=arguments[1];this._g=e,this._boundaryDistanceTolerance=t,this._linework=this.extractLinework(e)};Th.prototype.isWithinToleranceOfBoundary=function(e){for(var t=this,n=0;n<this._linework.getNumGeometries();n++)for(var r=t._linework.getGeometryN(n).getCoordinateSequence(),i=0;i<r.size()-1;i++)if(r.getCoordinate(i,t._seg.p0),r.getCoordinate(i+1,t._seg.p1),t._seg.distance(e)<=t._boundaryDistanceTolerance)return!0;return!1},Th.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?du.BOUNDARY:this._ptLocator.locate(e,this._g)},Th.prototype.extractLinework=function(e){var t=new Lh;e.apply(t);var n=t.getLinework(),r=_f.toLineStringArray(n);return e.getFactory().createMultiLineString(r)},Th.prototype.interfaces_=function(){return[]},Th.prototype.getClass=function(){return Th};var Lh=function(){this._linework=null,this._linework=new cc};Lh.prototype.getLinework=function(){return this._linework},Lh.prototype.filter=function(e){if(e instanceof tf){var t=e;this._linework.add(t.getExteriorRing());for(var n=0;n<t.getNumInteriorRing();n++)this._linework.add(t.getInteriorRingN(n))}},Lh.prototype.interfaces_=function(){return[Nc]},Lh.prototype.getClass=function(){return Lh};var Ih=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var e=arguments[0];this._g=e};Ih.prototype.extractPoints=function(e,t,n){for(var r=e.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],t,n)},Ih.prototype.setSidesToGenerate=function(e,t){this._doLeft=e,this._doRight=t},Ih.prototype.getPoints=function(e){for(var t=new cc,n=Pd.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,e,t)}return t},Ih.prototype.computeOffsetPoints=function(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,a=Math.sqrt(i*i+o*o),s=n*i/a,l=n*o/a,u=(t.x+e.x)/2,c=(t.y+e.y)/2;if(this._doLeft){var f=new uu(u-l,c+s);r.add(f)}if(this._doRight){var p=new uu(u+l,c-s);r.add(p)}},Ih.prototype.interfaces_=function(){return[]},Ih.prototype.getClass=function(){return Ih};var Dh=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new cc;var t=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(t,n),this._geom=[t,n,r],this._locFinder=[new Th(this._geom[0],this._boundaryDistanceTolerance),new Th(this._geom[1],this._boundaryDistanceTolerance),new Th(this._geom[2],this._boundaryDistanceTolerance)]},Rh={TOLERANCE:{configurable:!0}};Dh.prototype.reportResult=function(e,t,n){ku.out.println("Overlay result invalid - A:"+du.toLocationSymbol(t[0])+" B:"+du.toLocationSymbol(t[1])+" expected:"+(n?"i":"e")+" actual:"+du.toLocationSymbol(t[2]))},Dh.prototype.isValid=function(e){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var t=this.checkValid(e);return t},Dh.prototype.checkValid=function(){var e=this;if(1===arguments.length){for(var t=arguments[0],n=0;n<this._testCoords.size();n++){var r=e._testCoords.get(n);if(!e.checkValid(t,r))return e._invalidLocation=r,!1}return!0}if(2===arguments.length){var i=arguments[0],o=arguments[1];return this._location[0]=this._locFinder[0].getLocation(o),this._location[1]=this._locFinder[1].getLocation(o),this._location[2]=this._locFinder[2].getLocation(o),!!Dh.hasLocation(this._location,du.BOUNDARY)||this.isValidResult(i,this._location)}},Dh.prototype.addTestPts=function(e){var t=new Ih(e);this._testCoords.addAll(t.getPoints(5*this._boundaryDistanceTolerance))},Dh.prototype.isValidResult=function(e,t){var n=Mh.isResultOfOp(t[0],t[1],e),r=!(n^t[2]===du.INTERIOR);return r||this.reportResult(e,t,n),r},Dh.prototype.getInvalidLocation=function(){return this._invalidLocation},Dh.prototype.interfaces_=function(){return[]},Dh.prototype.getClass=function(){return Dh},Dh.hasLocation=function(e,t){for(var n=0;n<3;n++)if(e[n]===t)return!0;return!1},Dh.computeBoundaryDistanceTolerance=function(e,t){return Math.min(eh.computeSizeBasedSnapTolerance(e),eh.computeSizeBasedSnapTolerance(t))},Dh.isValid=function(e,t,n,r){return new Dh(e,t,r).isValid(n)},Rh.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Dh,Rh);var Nh=function e(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(t),this._inputGeoms=t};Nh.prototype.extractElements=function(e,t){if(null===e)return null;for(var n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n);this._skipEmpty&&r.isEmpty()||t.add(r)}},Nh.prototype.combine=function(){for(var e=new cc,t=this._inputGeoms.iterator();t.hasNext();){var n=t.next();this.extractElements(n,e)}return 0===e.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(e)},Nh.prototype.interfaces_=function(){return[]},Nh.prototype.getClass=function(){return Nh},Nh.combine=function(){if(1===arguments.length){var e=arguments[0],t=new Nh(e);return t.combine()}if(2===arguments.length){var n=arguments[0],r=arguments[1],i=new Nh(Nh.createList(n,r));return i.combine()}if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],l=new Nh(Nh.createList(o,a,s));return l.combine()}},Nh.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()},Nh.createList=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new cc;return n.add(e),n.add(t),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=new cc;return a.add(r),a.add(i),a.add(o),a}};var jh=function(){this._inputPolys=null,this._geomFactory=null;var e=arguments[0];this._inputPolys=e,null===this._inputPolys&&(this._inputPolys=new cc)},Fh={STRTREE_NODE_CAPACITY:{configurable:!0}};jh.prototype.reduceToGeometries=function(e){for(var t=new cc,n=e.iterator();n.hasNext();){var r=n.next(),i=null;vu(r,lc)?i=this.unionTree(r):r instanceof Ku&&(i=r),t.add(i)}return t},jh.prototype.extractByEnvelope=function(e,t,n){for(var r=new cc,i=0;i<t.getNumGeometries();i++){var o=t.getGeometryN(i);o.getEnvelopeInternal().intersects(e)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},jh.prototype.unionOptimized=function(e,t){var n=e.getEnvelopeInternal(),r=t.getEnvelopeInternal();if(!n.intersects(r))return Nh.combine(e,t);if(e.getNumGeometries()<=1&&t.getNumGeometries()<=1)return this.unionActual(e,t);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(e,t,i)},jh.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var e=new cp(jh.STRTREE_NODE_CAPACITY),t=this._inputPolys.iterator();t.hasNext();){var n=t.next();e.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=e.itemsTree();return this.unionTree(r)},jh.prototype.binaryUnion=function(){if(1===arguments.length){var e=arguments[0];return this.binaryUnion(e,0,e.size())}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=jh.getGeometry(t,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(jh.getGeometry(t,n),jh.getGeometry(t,n+1));var o=Math.trunc((r+n)/2),a=this.binaryUnion(t,n,o),s=this.binaryUnion(t,o,r);return this.unionSafe(a,s)}},jh.prototype.repeatedUnion=function(e){for(var t=null,n=e.iterator();n.hasNext();){var r=n.next();t=null===t?r.copy():t.union(r)}return t},jh.prototype.unionSafe=function(e,t){return null===e&&null===t?null:null===e?t.copy():null===t?e.copy():this.unionOptimized(e,t)},jh.prototype.unionActual=function(e,t){return jh.restrictToPolygons(e.union(t))},jh.prototype.unionTree=function(e){var t=this.reduceToGeometries(e);return this.binaryUnion(t)},jh.prototype.unionUsingEnvelopeIntersection=function(e,t,n){var r=new cc,i=this.extractByEnvelope(n,e,r),o=this.extractByEnvelope(n,t,r),a=this.unionActual(i,o);return r.add(a),Nh.combine(r)},jh.prototype.bufferUnion=function(){if(1===arguments.length){var e=arguments[0],t=e.get(0).getFactory(),n=t.buildGeometry(e),r=n.buffer(0);return r}if(2===arguments.length){var i=arguments[0],o=arguments[1],a=i.getFactory(),s=a.createGeometryCollection([i,o]),l=s.buffer(0);return l}},jh.prototype.interfaces_=function(){return[]},jh.prototype.getClass=function(){return jh},jh.restrictToPolygons=function(e){if(vu(e,ef))return e;var t=Ad.getPolygons(e);return 1===t.size()?t.get(0):e.getFactory().createMultiPolygon(_f.toPolygonArray(t))},jh.getGeometry=function(e,t){return t>=e.size()?null:e.get(t)},jh.union=function(e){return new jh(e).union()},Fh.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(jh,Fh);var Bh=function(){};function Uh(){return new zh}function zh(){this.reset()}Bh.prototype.interfaces_=function(){return[]},Bh.prototype.getClass=function(){return Bh},Bh.union=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return Mh.createEmptyResult(Mh.UNION,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),uh.overlayOp(e,t,Mh.UNION)},zh.prototype={constructor:zh,reset:function(){this.s=this.t=0},add:function(e){Vh(Hh,e,this.t),Vh(this,Hh.s,this.s),this.s?this.t+=Hh.t:this.s=Hh.t},valueOf:function(){return this.s}};var Hh=new zh;function Vh(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var Gh=1e-6,Wh=Math.PI,qh=Wh/2,Yh=Wh/4,Xh=2*Wh,Kh=180/Wh,Zh=Wh/180,Qh=Math.abs,Jh=Math.atan,$h=Math.atan2,ev=Math.cos,tv=Math.sin,nv=Math.sqrt;function rv(e){return e>1?0:e<-1?Wh:Math.acos(e)}function iv(e){return e>1?qh:e<-1?-qh:Math.asin(e)}function ov(){}function av(e,t){e&&cv.hasOwnProperty(e.type)&&cv[e.type](e,t)}var sv,lv,uv={Feature:function(e,t){av(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)av(n[r].geometry,t)}},cv={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){fv(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)fv(n[r],t,0)},Polygon:function(e,t){pv(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)pv(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)av(n[r],t)}};function fv(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function pv(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)fv(e[n],t,1);t.polygonEnd()}function dv(e){return[$h(e[1],e[0]),iv(e[2])]}function hv(e){var t=e[0],n=e[1],r=ev(n);return[r*ev(t),r*tv(t),tv(n)]}function vv(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function mv(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function gv(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function yv(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function bv(e){var t=nv(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function _v(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function Ev(e,t){return[e>Wh?e-Xh:e<-Wh?e+Xh:e,t]}function xv(e){return function(t,n){return[(t+=e)>Wh?t-Xh:t<-Wh?t+Xh:t,n]}}function wv(e){var t=xv(e);return t.invert=xv(-e),t}function Sv(e,t){var n=ev(e),r=tv(e),i=ev(t),o=tv(t);function a(e,t){var a=ev(t),s=ev(e)*a,l=tv(e)*a,u=tv(t),c=u*n+s*r;return[$h(l*i-c*o,s*n-u*r),iv(c*i+l*o)]}return a.invert=function(e,t){var a=ev(t),s=ev(e)*a,l=tv(e)*a,u=tv(t),c=u*i-l*o;return[$h(l*i+u*o,s*n+c*r),iv(c*n-s*r)]},a}function Ov(e,t){(t=hv(t))[0]-=e,bv(t);var n=rv(-t[1]);return((-t[2]<0?-n:n)+Xh-Gh)%Xh}function Cv(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:ov,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Av(e,t){return Qh(e[0]-t[0])<Gh&&Qh(e[1]-t[1])<Gh}function Pv(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function kv(e,t,n,r,i){var o,a,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(Av(r,a)){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);i.lineEnd()}else s.push(n=new Pv(r,e,null,!0)),l.push(n.o=new Pv(r,null,n,!1)),s.push(n=new Pv(a,e,null,!1)),l.push(n.o=new Pv(a,null,n,!0))}})),s.length){for(l.sort(t),Mv(s),Mv(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,f=s[0];;){for(var p=f,d=!0;p.v;)if((p=p.n)===f)return;u=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(o=0,a=u.length;o<a;++o)i.point((c=u[o])[0],c[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d)for(u=p.p.z,o=u.length-1;o>=0;--o)i.point((c=u[o])[0],c[1]);else r(p.x,p.p.x,-1,i);p=p.p}u=(p=p.o).z,d=!d}while(!p.v);i.lineEnd()}}}function Mv(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Tv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Lv(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n}Uh(),Uh(),Uh(),Ev.invert=Ev,1===(sv=Tv).length&&(lv=sv,sv=function(e,t){return Tv(lv(e),t)});var Iv=1e9,Dv=-Iv;function Rv(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,s,u){var c=0,f=0;if(null==i||(c=a(i,s))!==(f=a(o,s))||l(i,o)<0^s>0)do{u.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==f);else u.point(o[0],o[1])}function a(r,i){return Qh(r[0]-e)<Gh?i>0?0:3:Qh(r[0]-n)<Gh?i>0?2:1:Qh(r[1]-t)<Gh?i>0?1:0:i>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var l,u,c,f,p,d,h,v,m,g,y,b=a,_=Cv(),E={point:x,lineStart:function(){E.point=w,u&&u.push(c=[]),g=!0,m=!1,h=v=NaN},lineEnd:function(){l&&(w(f,p),d&&m&&_.rejoin(),l.push(_.result())),E.point=x,m&&b.lineEnd()},polygonStart:function(){b=_,l=[],u=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=u.length;n<i;++n)for(var o,a,s=u[n],l=1,c=s.length,f=s[0],p=f[0],d=f[1];l<c;++l)o=p,a=d,p=(f=s[l])[0],d=f[1],a<=r?d>r&&(p-o)*(r-a)>(d-a)*(e-o)&&++t:d<=r&&(p-o)*(r-a)<(d-a)*(e-o)&&--t;return t}(),n=y&&t,i=(l=Lv(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&kv(l,s,t,o,a),a.polygonEnd()),b=a,l=u=c=null}};function x(e,t){i(e,t)&&b.point(e,t)}function w(o,a){var s=i(o,a);if(u&&c.push([o,a]),g)f=o,p=a,d=s,g=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&m)b.point(o,a);else{var l=[h=Math.max(Dv,Math.min(Iv,h)),v=Math.max(Dv,Math.min(Iv,v))],_=[o=Math.max(Dv,Math.min(Iv,o)),a=Math.max(Dv,Math.min(Iv,a))];!function(e,t,n,r,i,o){var a,s=e[0],l=e[1],u=0,c=1,f=t[0]-s,p=t[1]-l;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>u&&(u=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<c&&(c=a)}if(a=r-l,p||!(a>0)){if(a/=p,p<0){if(a<u)return;a<c&&(c=a)}else if(p>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,p||!(a<0)){if(a/=p,p<0){if(a>c)return;a>u&&(u=a)}else if(p>0){if(a<u)return;a<c&&(c=a)}return u>0&&(e[0]=s+u*f,e[1]=l+u*p),c<1&&(t[0]=s+c*f,t[1]=l+c*p),!0}}}}}(l,_,e,t,n,r)?s&&(b.lineStart(),b.point(o,a),y=!1):(m||(b.lineStart(),b.point(l[0],l[1])),b.point(_[0],_[1]),s||b.lineEnd(),y=!1)}h=o,v=a,m=s}return E}}var Nv=Uh();function jv(e){return e}Uh(),Uh(),Uh();var Fv=1/0,Bv=Fv,Uv=-Fv,zv=Uv,Hv={point:function(e,t){e<Fv&&(Fv=e),e>Uv&&(Uv=e),t<Bv&&(Bv=t),t>zv&&(zv=t)},lineStart:ov,lineEnd:ov,polygonStart:ov,polygonEnd:ov,result:function(){var e=[[Fv,Bv],[Uv,zv]];return Uv=zv=-(Bv=Fv=1/0),e}};function Vv(e,t,n,r){return function(i,o){var a,s,l,u=t(o),c=i.invert(r[0],r[1]),f=Cv(),p=t(f),d=!1,h={point:v,lineStart:g,lineEnd:y,polygonStart:function(){h.point=b,h.lineStart=_,h.lineEnd=E,s=[],a=[]},polygonEnd:function(){h.point=v,h.lineStart=g,h.lineEnd=y,s=Lv(s);var e=function(e,t){var n=t[0],r=t[1],i=[tv(n),-ev(n),0],o=0,a=0;Nv.reset();for(var s=0,l=e.length;s<l;++s)if(c=(u=e[s]).length)for(var u,c,f=u[c-1],p=f[0],d=f[1]/2+Yh,h=tv(d),v=ev(d),m=0;m<c;++m,p=y,h=_,v=E,f=g){var g=u[m],y=g[0],b=g[1]/2+Yh,_=tv(b),E=ev(b),x=y-p,w=x>=0?1:-1,S=w*x,O=S>Wh,C=h*_;if(Nv.add($h(C*w*tv(S),v*E+C*ev(S))),o+=O?x+w*Xh:x,O^p>=n^y>=n){var A=mv(hv(f),hv(g));bv(A);var P=mv(i,A);bv(P);var k=(O^x>=0?-1:1)*iv(P[2]);(r>k||r===k&&(A[0]||A[1]))&&(a+=O^x>=0?1:-1)}}return(o<-1e-6||o<Gh&&Nv<-1e-6)^1&a}(a,c);s.length?(d||(o.polygonStart(),d=!0),kv(s,Wv,e,n,o)):e&&(d||(o.polygonStart(),d=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),s=a=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function v(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function m(e,t){var n=i(e,t);u.point(n[0],n[1])}function g(){h.point=m,u.lineStart()}function y(){h.point=v,u.lineEnd()}function b(e,t){l.push([e,t]);var n=i(e,t);p.point(n[0],n[1])}function _(){p.lineStart(),l=[]}function E(){b(l[0][0],l[0][1]),p.lineEnd();var e,t,n,r,i=p.clean(),u=f.result(),c=u.length;if(l.pop(),a.push(l),l=null,c)if(1&i){if((t=(n=u[0]).length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),e=0;e<t;++e)o.point((r=n[e])[0],r[1]);o.lineEnd()}}else c>1&&2&i&&u.push(u.pop().concat(u.shift())),s.push(u.filter(Gv))}return h}}function Gv(e){return e.length>1}function Wv(e,t){return((e=e.x)[0]<0?e[1]-qh-Gh:qh-e[1])-((t=t.x)[0]<0?t[1]-qh-Gh:qh-t[1])}Uh();var qv=Vv((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?Wh:-Wh,l=Qh(o-n);Qh(l-Wh)<Gh?(e.point(n,r=(r+a)/2>0?qh:-qh),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&l>=Wh&&(Qh(n-i)<Gh&&(n-=i*Gh),Qh(o-s)<Gh&&(o-=s*Gh),r=function(e,t,n,r){var i,o,a=tv(e-n);return Qh(a)>Gh?Jh((tv(t)*(o=ev(r))*tv(n)-tv(r)*(i=ev(t))*tv(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*qh,r.point(-Wh,i),r.point(0,i),r.point(Wh,i),r.point(Wh,0),r.point(Wh,-i),r.point(0,-i),r.point(-Wh,-i),r.point(-Wh,0),r.point(-Wh,i);else if(Qh(e[0]-t[0])>Gh){var o=e[0]<t[0]?Wh:-Wh;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-Wh,-qh]);function Yv(e,t){var n=ev(e),r=n>0,i=Qh(n)>Gh;function o(e,t){return ev(e)*ev(t)>n}function a(e,t,r){var i=[1,0,0],o=mv(hv(e),hv(t)),a=vv(o,o),s=o[0],l=a-s*s;if(!l)return!r&&e;var u=n*a/l,c=-n*s/l,f=mv(i,o),p=yv(i,u);gv(p,yv(o,c));var d=f,h=vv(p,d),v=vv(d,d),m=h*h-v*(vv(p,p)-1);if(!(m<0)){var g=nv(m),y=yv(d,(-h-g)/v);if(gv(y,p),y=dv(y),!r)return y;var b,_=e[0],E=t[0],x=e[1],w=t[1];E<_&&(b=_,_=E,E=b);var S=E-_,O=Qh(S-Wh)<Gh;if(!O&&w<x&&(b=x,x=w,w=b),O||S<Gh?O?x+w>0^y[1]<(Qh(y[0]-_)<Gh?x:w):x<=y[1]&&y[1]<=w:S>Wh^(_<=y[0]&&y[0]<=E)){var C=yv(d,(-h+g)/v);return gv(C,p),[y,dv(C)]}}}function s(t,n){var i=r?e:Wh-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Vv(o,(function(e){var t,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(f,p){var d,h=[f,p],v=o(f,p),m=r?v?0:s(f,p):v?s(f+(f<0?Wh:-Wh),p):0;if(!t&&(u=l=v)&&e.lineStart(),v!==l&&(!(d=a(t,h))||Av(t,d)||Av(h,d))&&(h[0]+=Gh,h[1]+=Gh,v=o(h[0],h[1])),v!==l)c=0,v?(e.lineStart(),d=a(h,t),e.point(d[0],d[1])):(d=a(t,h),e.point(d[0],d[1]),e.lineEnd()),t=d;else if(i&&t&&r^v){var g;m&n||!(g=a(h,t,!0))||(c=0,r?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!v||t&&Av(t,h)||e.point(h[0],h[1]),t=h,l=v,n=m},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}}),(function(n,r,i,o){!function(e,t,n,r,i,o){if(n){var a=ev(t),s=tv(t),l=r*n;null==i?(i=t+r*Xh,o=t-l/2):(i=Ov(a,i),o=Ov(a,o),(r>0?i<o:i>o)&&(i+=r*Xh));for(var u,c=i;r>0?c>o:c<o;c-=l)u=dv([a,-s*ev(c),-s*tv(c)]),e.point(u[0],u[1])}}(o,e,t,i,n,r)}),r?[0,-e]:[-Wh,e-Wh])}function Xv(e){return function(t){var n=new Kv;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Kv(){}function Zv(e,t,n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=o&&e.clipExtent(null),function(e,t){e&&uv.hasOwnProperty(e.type)?uv[e.type](e,t):av(e,t)}(n,e.stream(Hv));var a=Hv.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),l=+t[0][0]+(r-s*(a[1][0]+a[0][0]))/2,u=+t[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=o&&e.clipExtent(o),e.scale(150*s).translate([l,u])}Kv.prototype={constructor:Kv,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Qv=ev(30*Zh);function Jv(e,t){return+t?function(e,t){function n(r,i,o,a,s,l,u,c,f,p,d,h,v,m){var g=u-r,y=c-i,b=g*g+y*y;if(b>4*t&&v--){var _=a+p,E=s+d,x=l+h,w=nv(_*_+E*E+x*x),S=iv(x/=w),O=Qh(Qh(x)-1)<Gh||Qh(o-f)<Gh?(o+f)/2:$h(E,_),C=e(O,S),A=C[0],P=C[1],k=A-r,M=P-i,T=y*k-g*M;(T*T/b>t||Qh((g*k+y*M)/b-.5)>.3||a*p+s*d+l*h<Qv)&&(n(r,i,o,a,s,l,A,P,O,_/=w,E/=w,x,v,m),m.point(A,P),n(A,P,O,_,E,x,u,c,f,p,d,h,v,m))}}return function(t){var r,i,o,a,s,l,u,c,f,p,d,h,v={point:m,lineStart:g,lineEnd:b,polygonStart:function(){t.polygonStart(),v.lineStart=_},polygonEnd:function(){t.polygonEnd(),v.lineStart=g}};function m(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){c=NaN,v.point=y,t.lineStart()}function y(r,i){var o=hv([r,i]),a=e(r,i);n(c,f,u,p,d,h,c=a[0],f=a[1],u=r,p=o[0],d=o[1],h=o[2],16,t),t.point(c,f)}function b(){v.point=m,t.lineEnd()}function _(){g(),v.point=E,v.lineEnd=x}function E(e,t){y(r=e,t),i=c,o=f,a=p,s=d,l=h,v.point=y}function x(){n(c,f,u,p,d,h,i,o,r,a,s,l,16,t),v.lineEnd=b,b()}return v}}(e,t):function(e){return Xv({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var $v=Xv({point:function(e,t){this.stream.point(e*Zh,t*Zh)}});function em(e){return function(e){var t,n,r,i,o,a,s,l,u,c,f=150,p=480,d=250,h=0,v=0,m=0,g=0,y=0,b=null,_=qv,E=null,x=jv,w=.5,S=Jv(A,w);function O(e){return[(e=o(e[0]*Zh,e[1]*Zh))[0]*f+n,r-e[1]*f]}function C(e){return(e=o.invert((e[0]-n)/f,(r-e[1])/f))&&[e[0]*Kh,e[1]*Kh]}function A(e,i){return[(e=t(e,i))[0]*f+n,r-e[1]*f]}function P(){o=_v(i=function(e,t,n){return(e%=Xh)?t||n?_v(wv(e),Sv(t,n)):wv(e):t||n?Sv(t,n):Ev}(m,g,y),t);var e=t(h,v);return n=p-e[0]*f,r=d+e[1]*f,k()}function k(){return u=c=null,O}return O.stream=function(e){return u&&c===e?u:u=$v(_(i,S(x(c=e))))},O.clipAngle=function(e){return arguments.length?(_=+e?Yv(b=e*Zh,6*Zh):(b=null,qv),k()):b*Kh},O.clipExtent=function(e){return arguments.length?(x=null==e?(E=a=s=l=null,jv):Rv(E=+e[0][0],a=+e[0][1],s=+e[1][0],l=+e[1][1]),k()):null==E?null:[[E,a],[s,l]]},O.scale=function(e){return arguments.length?(f=+e,P()):f},O.translate=function(e){return arguments.length?(p=+e[0],d=+e[1],P()):[p,d]},O.center=function(e){return arguments.length?(h=e[0]%360*Zh,v=e[1]%360*Zh,P()):[h*Kh,v*Kh]},O.rotate=function(e){return arguments.length?(m=e[0]%360*Zh,g=e[1]%360*Zh,y=e.length>2?e[2]%360*Zh:0,P()):[m*Kh,g*Kh,y*Kh]},O.precision=function(e){return arguments.length?(S=Jv(A,w=e*e),k()):nv(w)},O.fitExtent=function(e,t){return Zv(O,e,t)},O.fitSize=function(e,t){return function(e,t,n){return Zv(e,[[0,0],t],n)}(O,e,t)},function(){return t=e.apply(this,arguments),O.invert=t.invert&&C,P()}}((function(){return e}))()}var tm=function(e){return function(t,n){var r=ev(t),i=ev(n),o=e(r*i);return[o*i*tv(t),o*tv(n)]}}((function(e){return(e=rv(e))&&e/tv(e)}));function nm(){return em(tm).scale(79.4188).clipAngle(179.999)}function rm(e,t,r,i){var o=e.properties||{},s="Feature"===e.type?e.geometry:e;if("GeometryCollection"===s.type){var l=[];return U(e,(function(e){var n=rm(e,t,r,i);n&&l.push(n)})),h(l)}var u=function(e){var t=En(e).geometry.coordinates,r=[-t[0],-t[1]];return nm().rotate(r).scale(n)}(s),c={type:s.type,coordinates:om(s.coordinates,u)},f=(new Cf).read(c),p=_(E(t,r),"meters"),d=bd.bufferOp(f,p,i);if(!im((d=(new Af).write(d)).coordinates))return a({type:d.type,coordinates:am(d.coordinates,u)},o)}function im(e){return Array.isArray(e[0])?im(e[0]):isNaN(e[0])}function om(e,t){return"object"!=typeof e[0]?t(e):e.map((function(e){return om(e,t)}))}function am(e,t){return"object"!=typeof e[0]?t.invert(e):e.map((function(e){return am(e,t)}))}function sm(e,t,n){void 0===n&&(n={});var r=ie(e),i=ie(t),o=eu.intersection(r.coordinates,i.coordinates);return 0===o.length?null:1===o.length?c(o[0],n.properties):g(o,n.properties)}function lm(e,t,n){void 0===n&&(n={});var r=JSON.stringify(n.properties||{}),i=e[0],o=e[1],a=e[2],s=e[3],l=(o+s)/2,u=(i+a)/2,c=2*t/_t([i,l],[a,l],n)*(a-i),f=2*t/_t([u,o],[u,s],n)*(s-o),p=c/2,d=2*p,v=Math.sqrt(3)/2*f,m=a-i,g=s-o,y=3/4*d,b=v,_=(m-d)/(d-p/2),E=Math.floor(_),x=(E*y-p/2-m)/2-p/2+y/2,w=Math.floor((g-v)/v),S=(g-w*v)/2,O=w*v-g>v/2;O&&(S-=v/4);for(var C=[],A=[],P=0;P<6;P++){var k=2*Math.PI/6*P;C.push(Math.cos(k)),A.push(Math.sin(k))}for(var M=[],T=0;T<=E;T++)for(var L=0;L<=w;L++){var I=T%2==1;if((0!==L||!I)&&(0!==L||!O)){var D=T*y+i-x,R=L*b+o+S;if(I&&(R-=v/2),!0===n.triangles)cm([D,R],c/2,f/2,JSON.parse(r),C,A).forEach((function(e){n.mask?sm(n.mask,e)&&M.push(e):M.push(e)}));else{var N=um([D,R],c/2,f/2,JSON.parse(r),C,A);n.mask?sm(n.mask,N)&&M.push(N):M.push(N)}}}return h(M)}function um(e,t,n,r,i,o){for(var a=[],s=0;s<6;s++){var l=e[0]+t*i[s],u=e[1]+n*o[s];a.push([l,u])}return a.push(a[0].slice()),c([a],r)}function cm(e,t,n,r,i,o){for(var a=[],s=0;s<6;s++){var l=[];l.push(e),l.push([e[0]+t*i[s],e[1]+n*o[s]]),l.push([e[0]+t*i[(s+1)%6],e[1]+n*o[(s+1)%6]]),l.push(e),a.push(c([l],r))}return a}function fm(e){return g(e)}function pm(e){return c(e&&e.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}function dm(e,t,n){return void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});for(var i=[],o=e[0],a=e[1],s=e[2],l=e[3],u=t/_t([o,a],[s,a],r)*(s-o),f=n/_t([o,a],[o,l],r)*(l-a),p=s-o,d=l-a,v=Math.floor(p/u),m=Math.floor(d/f),g=(d-m*f)/2,y=o+(p-v*u)/2,b=0;b<v;b++){for(var _=a+g,E=0;E<m;E++){var x=c([[[y,_],[y,_+f],[y+u,_+f],[y+u,_],[y,_]]],r.properties);r.mask?ka(r.mask,x)&&i.push(x):i.push(x),_+=f}y+=u}return h(i)}(e,t,t,n)}function hm(e,t,n){void 0===n&&(n={});for(var r=[],i=t/_t([e[0],e[1]],[e[2],e[1]],n)*(e[2]-e[0]),o=t/_t([e[0],e[1]],[e[0],e[3]],n)*(e[3]-e[1]),a=0,s=e[0];s<=e[2];){for(var l=0,u=e[1];u<=e[3];){var f=null,p=null;a%2==0&&l%2==0?(f=c([[[s,u],[s,u+o],[s+i,u],[s,u]]],n.properties),p=c([[[s,u+o],[s+i,u+o],[s+i,u],[s,u+o]]],n.properties)):a%2==0&&l%2==1?(f=c([[[s,u],[s+i,u+o],[s+i,u],[s,u]]],n.properties),p=c([[[s,u],[s,u+o],[s+i,u+o],[s,u]]],n.properties)):l%2==0&&a%2==1?(f=c([[[s,u],[s,u+o],[s+i,u+o],[s,u]]],n.properties),p=c([[[s,u],[s+i,u+o],[s+i,u],[s,u]]],n.properties)):l%2==1&&a%2==1&&(f=c([[[s,u],[s,u+o],[s+i,u],[s,u]]],n.properties),p=c([[[s,u+o],[s+i,u+o],[s+i,u],[s,u+o]]],n.properties)),n.mask?(sm(n.mask,f)&&r.push(f),sm(n.mask,p)&&r.push(p)):(r.push(f),r.push(p)),u+=o,l++}a++,s+=i}return h(r)}tm.invert=function(e){return function(t,n){var r=nv(t*t+n*n),i=e(r),o=tv(i),a=ev(i);return[$h(t*o,r*a),iv(r&&n*o/r)]}}((function(e){return e})),t.along=function(e,t,n){void 0===n&&(n={});for(var r=ie(e).coordinates,i=0,o=0;o<r.length&&!(t>=i&&o===r.length-1);o++){if(i>=t){var a=t-i;if(a){var s=_n(r[o],r[o-1])-180;return yn(r[o],a,s,n)}return l(r[o])}i+=_t(r[o],r[o+1],n)}return l(r[r.length-1])},t.angle=function(e,t,n,r){if(void 0===r&&(r={}),!k(r))throw new Error("options is invalid");if(!e)throw new Error("startPoint is required");if(!t)throw new Error("midPoint is required");if(!n)throw new Error("endPoint is required");var i=e,o=t,a=n,s=w(!0!==r.mercator?_n(i,o):zi(i,o)),l=w(!0!==r.mercator?_n(a,o):zi(a,o)),u=Math.abs(s-l);return!0===r.explementary?360-u:u},t.applyFilter=ul,t.area=Vr,t.areaFactors=o,t.bbox=Q,t.bboxClip=function(e,t){var n=ie(e),r=n.type,i="Feature"===e.type?e.properties:{},o=n.coordinates;switch(r){case"LineString":case"MultiLineString":var a=[];return"LineString"===r&&(o=[o]),o.forEach((function(e){!function(e,t,n){var r,i,o,a,s,l=e.length,u=Ii(e[0],t),c=[];for(n||(n=[]),r=1;r<l;r++){for(a=e[r-1],i=o=Ii(s=e[r],t);;){if(!(u|i)){c.push(a),i!==o?(c.push(s),r<l-1&&(n.push(c),c=[])):r===l-1&&c.push(s);break}if(u&i)break;u?u=Ii(a=Li(a,s,u,t),t):i=Ii(s=Li(a,s,i,t),t)}u=o}c.length&&n.push(c)}(e,t,a)})),1===a.length?p(a[0],i):v(a,i);case"Polygon":return c(Di(o,t),i);case"MultiPolygon":return g(o.map((function(e){return Di(e,t)})),i);default:throw new Error("geometry "+r+" not supported")}},t.bboxPolygon=vn,t.bearing=_n,t.bearingToAngle=w,t.bearingToAzimuth=w,t.bezier=hn,t.bezierSpline=hn,t.booleanClockwise=Yi,t.booleanContains=function(e,t){var n=ie(e),r=ie(t),i=n.type,o=r.type,a=n.coordinates,s=r.coordinates;switch(i){case"Point":switch(o){case"Point":return ya(a,s);default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"Point":return function(e,t){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(ya(e.coordinates[n],t.coordinates)){r=!0;break}return r}(n,r);case"MultiPoint":return function(e,t){for(var n=0,r=t.coordinates;n<r.length;n++){for(var i=r[n],o=!1,a=0,s=e.coordinates;a<s.length;a++)if(ya(i,s[a])){o=!0;break}if(!o)return!1}return!0}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"Point":return Kr(r,n,{ignoreEndVertices:!0});case"LineString":return function(e,t){for(var n=!1,r=0,i=t.coordinates;r<i.length;r++){var o=i[r];if(Kr({type:"Point",coordinates:o},e,{ignoreEndVertices:!0})&&(n=!0),!Kr({type:"Point",coordinates:o},e,{ignoreEndVertices:!1}))return!1}return n}(n,r);case"MultiPoint":return function(e,t){for(var n=!1,r=0,i=t.coordinates;r<i.length;r++){var o=i[r];if(Kr(o,e,{ignoreEndVertices:!0})&&(n=!0),!Kr(o,e))return!1}return!!n}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Point":return gt(r,n,{ignoreBoundary:!0});case"LineString":return function(e,t){var n=!1,r=0,i=Q(e),o=Q(t);if(!ga(i,o))return!1;for(;r<t.coordinates.length-1;r++)if(gt({type:"Point",coordinates:ba(t.coordinates[r],t.coordinates[r+1])},e,{ignoreBoundary:!0})){n=!0;break}return n}(n,r);case"Polygon":return function(e,t){if("Feature"===e.type&&null===e.geometry)return!1;if("Feature"===t.type&&null===t.geometry)return!1;var n=Q(e),r=Q(t);if(!ga(n,r))return!1;for(var i=ie(t).coordinates,o=0,a=i;o<a.length;o++)for(var s=0,l=a[o];s<l.length;s++)if(!gt(l[s],e))return!1;return!0}(n,r);case"MultiPoint":return function(e,t){for(var n=0,r=t.coordinates;n<r.length;n++)if(!gt(r[n],e,{ignoreBoundary:!0}))return!1;return!0}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}},t.booleanCrosses=function(e,t){var n=ie(e),r=ie(t),i=n.type,o=r.type;switch(i){case"MultiPoint":switch(o){case"LineString":return _a(n,r);case"Polygon":return xa(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"MultiPoint":return _a(r,n);case"LineString":return function(e,t){if(Lr(e,t).features.length>0)for(var n=0;n<e.coordinates.length-1;n++)for(var r=0;r<t.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==t.coordinates.length-2||(i=!1),wa(e.coordinates[n],e.coordinates[n+1],t.coordinates[r],i))return!0}return!1}(n,r);case"Polygon":return Ea(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"MultiPoint":return xa(r,n);case"LineString":return Ea(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}},t.booleanDisjoint=da,t.booleanEqual=function(e,t){return ie(e).type===ie(t).type&&new Pa({precision:6}).compare(tn(e),tn(t))},t.booleanIntersects=ka,t.booleanOverlap=function(e,t){var n=ie(e),r=ie(t),i=n.type,o=r.type;if("MultiPoint"===i&&"MultiPoint"!==o||("LineString"===i||"MultiLineString"===i)&&"LineString"!==o&&"MultiLineString"!==o||("Polygon"===i||"MultiPolygon"===i)&&"Polygon"!==o&&"MultiPolygon"!==o)throw new Error("features must be of the same type");if("Point"===i)throw new Error("Point geometry not supported");if(new Pa({precision:6}).compare(e,t))return!1;var a=0;switch(i){case"MultiPoint":for(var s=0;s<n.coordinates.length;s++)for(var l=0;l<r.coordinates.length;l++){var u=n.coordinates[s],c=r.coordinates[l];if(u[0]===c[0]&&u[1]===c[1])return!0}return!1;case"LineString":case"MultiLineString":G(e,(function(e){G(t,(function(t){Fi(e,t).features.length&&a++}))}));break;case"Polygon":case"MultiPolygon":G(e,(function(e){G(t,(function(t){Lr(e,t).features.length&&a++}))}))}return a>0},t.booleanParallel=function(e,t){if(!e)throw new Error("line1 is required");if(!t)throw new Error("line2 is required");if("LineString"!==Ga(e,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==Ga(t,"line2"))throw new Error("line2 must be a LineString");for(var n=Qn(tn(e)).features,r=Qn(tn(t)).features,i=0;i<n.length;i++){var o=n[i].geometry.coordinates;if(!r[i])break;if(!Va(o,r[i].geometry.coordinates))return!1}return!0},t.booleanPointInPolygon=gt,t.booleanPointOnLine=Kr,t.booleanWithin=Qr,t.buffer=function(e,t,n){var r=(n=n||{}).units||"kilometers",i=n.steps||8;if(!e)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===t)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var o=[];switch(e.type){case"GeometryCollection":return U(e,(function(e){var n=rm(e,t,r,i);n&&o.push(n)})),h(o);case"FeatureCollection":return j(e,(function(e){var n=rm(e,t,r,i);n&&j(n,(function(e){e&&o.push(e)}))})),h(o)}return rm(e,t,r,i)},t.center=En,t.centerMean=js,t.centerMedian=function(e,t){if(void 0===t&&(t={}),!k(t=t||{}))throw new Error("options is invalid");var n=t.counter||10;if(!P(n))throw new Error("counter must be a number");var r=t.weight,i=js(e,{weight:t.weight}),o=h([]);j(e,(function(e){var t;o.features.push(xn(e,{properties:{weight:null===(t=e.properties)||void 0===t?void 0:t[r]}}))}));var a={tolerance:t.tolerance,medianCandidates:[]};return Fs(i.geometry.coordinates,[0,0],o,a,n)},t.centerOfMass=function e(t,n){switch(void 0===n&&(n={}),oe(t)){case"Point":return l(J(t),n.properties);case"Polygon":var r=[];I(t,(function(e){r.push(e)}));var i,o,a,s,u,c,f,p,d=xn(t,{properties:n.properties}),h=d.geometry.coordinates,v=0,m=0,g=0,y=r.map((function(e){return[e[0]-h[0],e[1]-h[1]]}));for(i=0;i<r.length-1;i++)s=(o=y[i])[0],c=o[1],u=(a=y[i+1])[0],g+=p=s*(f=a[1])-u*c,v+=(s+u)*p,m+=(c+f)*p;if(0===g)return d;var b=1/(.5*g*6);return l([h[0]+b*v,h[1]+b*m],n.properties);default:var _=mt(t);return _?e(_,{properties:n.properties}):xn(t,{properties:n.properties})}},t.centroid=xn,t.circle=bn,t.cleanCoords=tn,t.clone=Ot,t.clusterEach=al,t.clusterReduce=sl,t.clusters=pl,t.clustersDbscan=function(e,t,n){void 0===n&&(n={}),!0!==n.mutate&&(e=Ot(e)),n.minPoints=n.minPoints||3;var r=new Da.DBSCAN,i=r.run(B(e),C(t,n.units),n.minPoints,_t),o=-1;return i.forEach((function(t){o++,t.forEach((function(t){var n=e.features[t];n.properties||(n.properties={}),n.properties.cluster=o,n.properties.dbscan="core"}))})),r.noise.forEach((function(t){var n=e.features[t];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"})),e},t.clustersKmeans=function(e,t){void 0===t&&(t={});var n=e.features.length;t.numberOfClusters=t.numberOfClusters||Math.round(Math.sqrt(n/2)),t.numberOfClusters>n&&(t.numberOfClusters=n),!0!==t.mutate&&(e=Ot(e));var r=B(e),i=r.slice(0,t.numberOfClusters),o=Ha(r,t.numberOfClusters,i),a={};return o.centroids.forEach((function(e,t){a[t]=e})),j(e,(function(e,t){var n=o.idxs[t];e.properties.cluster=n,e.properties.centroid=a[n]})),e},t.collect=function(e,t,n,r){var i=Ce(6),o=t.features.map((function(e){var t;return{minX:e.geometry.coordinates[0],minY:e.geometry.coordinates[1],maxX:e.geometry.coordinates[0],maxY:e.geometry.coordinates[1],property:null===(t=e.properties)||void 0===t?void 0:t[n]}}));return i.load(o),e.features.forEach((function(e){e.properties||(e.properties={});var t=Q(e),n=i.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}),o=[];n.forEach((function(t){gt([t.minX,t.minY],e)&&o.push(t.property)})),e.properties[r]=o})),e},t.collectionOf=re,t.combine=function(e){var t={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return j(e,(function(e){var n,r,i,o;switch(null===(o=e.geometry)||void 0===o?void 0:o.type){case"Point":t.MultiPoint.coordinates.push(e.geometry.coordinates),t.MultiPoint.properties.push(e.properties);break;case"MultiPoint":(n=t.MultiPoint.coordinates).push.apply(n,e.geometry.coordinates),t.MultiPoint.properties.push(e.properties);break;case"LineString":t.MultiLineString.coordinates.push(e.geometry.coordinates),t.MultiLineString.properties.push(e.properties);break;case"MultiLineString":(r=t.MultiLineString.coordinates).push.apply(r,e.geometry.coordinates),t.MultiLineString.properties.push(e.properties);break;case"Polygon":t.MultiPolygon.coordinates.push(e.geometry.coordinates),t.MultiPolygon.properties.push(e.properties);break;case"MultiPolygon":(i=t.MultiPolygon.coordinates).push.apply(i,e.geometry.coordinates),t.MultiPolygon.properties.push(e.properties)}})),h(Object.keys(t).filter((function(e){return t[e].coordinates.length})).sort().map((function(e){return a({type:e,coordinates:t[e].coordinates},{collectedProperties:t[e].properties})})))},t.concave=function(e,t){void 0===t&&(t={});var n=t.maxEdge||1/0,r=Et(function(e){var t=[],n={};return j(e,(function(e){if(e.geometry){var r=e.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(n,r)||(t.push(e),n[r]=!0)}})),h(t)}(e));if(r.features=r.features.filter((function(e){var r=e.geometry.coordinates[0][0],i=e.geometry.coordinates[0][1],o=e.geometry.coordinates[0][2],a=_t(r,i,t),s=_t(i,o,t),l=_t(r,o,t);return a<=n&&s<=n&&l<=n})),r.features.length<1)return null;var i=en(r);return 1===i.coordinates.length&&(i.coordinates=i.coordinates[0],i.type="Polygon"),a(i)},t.containsNumber=ee,t.convertArea=A,t.convertDistance=C,t.convertLength=C,t.convex=mt,t.coordAll=B,t.coordEach=I,t.coordReduce=D,t.createBins=ll,t.degrees2radians=O,t.degreesToRadians=O,t.destination=yn,t.difference=function(e,t){var n=ie(e),r=ie(t),i=e.properties||{},o=eu.difference(n.coordinates,r.coordinates);return 0===o.length?null:1===o.length?c(o[0],i):g(o,i)},t.dissolve=function(e,t){if(!k(t=t||{}))throw new Error("options is invalid");var n=t.propertyName;re(e,"Polygon","dissolve");var r=[];if(!t.propertyName)return ri(g(eu.union.apply(null,e.features.map((function(e){return e.geometry.coordinates})))));var i={};j(e,(function(e){Object.prototype.hasOwnProperty.call(i,e.properties[n])||(i[e.properties[n]]=[]),i[e.properties[n]].push(e)}));for(var o=Object.keys(i),a=0;a<o.length;a++){var s=g(eu.union.apply(null,i[o[a]].map((function(e){return e.geometry.coordinates}))));s.properties[n]=o[a],r.push(s)}return ri(h(r))},t.distance=_t,t.distanceToDegrees=x,t.distanceToRadians=E,t.distanceWeight=Vs,t.earthRadius=n,t.ellipse=Rs,t.envelope=mn,t.explode=wn,t.factors=r,t.feature=a,t.featureCollection=h,t.featureEach=j,t.featureOf=ne,t.featureReduce=F,t.filterProperties=fl,t.findPoint=K,t.findSegment=X,t.flatten=ri,t.flattenEach=H,t.flattenReduce=V,t.flip=function(e,t){if(!k(t=t||{}))throw new Error("options is invalid");var n=t.mutate;if(!e)throw new Error("geojson is required");return!1!==n&&void 0!==n||(e=Ot(e)),I(e,(function(e){var t=e[0],n=e[1];e[0]=n,e[1]=t})),e},t.geojsonType=te,t.geomEach=U,t.geomReduce=z,t.geometry=s,t.geometryCollection=y,t.getCluster=ol,t.getCoord=J,t.getCoords=$,t.getGeom=ie,t.getType=oe,t.greatCircle=function(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.npoints,o=n.offset;return e=J(e),t=J(t),r=r||{},i=i||100,o=o||10,new yi({x:e[0],y:e[1]},{x:t[0],y:t[1]},r).Arc(i,{offset:o}).json()},t.helpers=L,t.hexGrid=lm,t.inside=gt,t.interpolate=function(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,i=n.property,o=n.weight;if(!e)throw new Error("points is required");if(re(e,"Point","input must contain Points"),!t)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");i=i||"elevation",r=r||"square",o=o||1;var a,s=Q(e);switch(r){case"point":case"points":a=ti(s,t,n);break;case"square":case"squares":a=dm(s,t,n);break;case"hex":case"hexes":a=lm(s,t,n);break;case"triangle":case"triangles":a=hm(s,t,n);break;default:throw new Error("invalid gridType")}var l=[];return j(a,(function(t){var a=0,s=0;j(e,(function(e){var l,u=_t("point"===r?t:xn(t),e,n);if(void 0!==i&&(l=e.properties[i]),void 0===l&&(l=e.geometry.coordinates[2]),void 0===l)throw new Error("zValue is missing");0===u&&(a=l);var c=1/Math.pow(u,o);s+=c,a+=c*l}));var u=Ot(t);u.properties[i]=a/s,l.push(u)})),h(l)},t.intersect=sm,t.invariant=ae,t.isNumber=P,t.isObject=k,t.isobands=function(e,t,n){if(!k(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(re(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks is not an Array");if(!k(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(o))throw new Error("breaksProperties is not an Array");var a=Qi(e,{zProperty:r,flip:!0}),s=function(e,t,n){for(var r=[],i=1;i<t.length;i++){var o=+t[i-1],a=+t[i],s=Qo(Zo(eo(e,o,a-o))),l={};l.groupedRings=s,l[n]=o+"-"+a,r.push(l)}return r}(a,t,r);return h((s=function(e,t,n){var r=Q(n),i=r[2]-r[0],o=r[3]-r[1],a=r[0],s=r[1],l=t[0].length-1,u=t.length-1,c=i/l,f=o/u,p=function(e){e[0]=e[0]*c+a,e[1]=e[1]*f+s};return e.forEach((function(e){e.groupedRings.forEach((function(e){e.forEach((function(e){e.forEach(p)}))}))})),e}(s,a,e)).map((function(e,t){if(o[t]&&!k(o[t]))throw new Error("Each mappedProperty is required to be an Object");var n=fe({},i,o[t]);return n[r]=e[r],g(e.groupedRings,n)})))},t.isolines=function(e,t,n){if(!k(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(re(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks must be an Array");if(!k(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var a=be(e,{zProperty:r,flip:!0});return h(function(e,t,n){var r=Q(n),i=r[2]-r[0],o=r[3]-r[1],a=r[0],s=r[1],l=t[0].length-1,u=t.length-1,c=i/l,f=o/u,p=function(e){e[0]=e[0]*c+a,e[1]=e[1]*f+s};return e.forEach((function(e){I(e,p)})),e}(function(e,t,n,r,i){for(var o=[],a=1;a<t.length;a++){var s=+t[a],l=fe({},r,i[a]);l[n]=s;var u=v(he(e,s),l);o.push(u)}return o}(a,t,r,i,o),a,e))},t.kinks=function(e){var t,n,r={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===e.type?e.geometry:e).type)t=[n.coordinates];else if("MultiLineString"===n.type)t=n.coordinates;else if("MultiPolygon"===n.type)t=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");t=n.coordinates}return t.forEach((function(e){t.forEach((function(t){for(var n=0;n<e.length-1;n++)for(var i=n;i<t.length-1;i++){if(e===t){if(1===Math.abs(n-i))continue;if(0===n&&i===e.length-2&&e[n][0]===e[e.length-1][0]&&e[n][1]===e[e.length-1][1])continue}var o=Br(e[n][0],e[n][1],e[n+1][0],e[n+1][1],t[i][0],t[i][1],t[i+1][0],t[i+1][1]);o&&r.features.push(l([o[0],o[1]]))}}))})),r},t.length=Yr,t.lengthToDegrees=x,t.lengthToRadians=E,t.lineArc=wi,t.lineChunk=function(e,t,n){if(!k(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.reverse;if(!e)throw new Error("geojson is required");if(t<=0)throw new Error("segmentLength must be greater than 0");var o=[];return H(e,(function(e){i&&(e.geometry.coordinates=e.geometry.coordinates.reverse()),function(e,t,n,r){var i=Yr(e,{units:n});if(i<=t)return r(e);var o=i/t;Number.isInteger(o)||(o=Math.floor(o)+1);for(var a=0;a<o;a++)r(Xr(e,t*a,t*(a+1),{units:n}),a)}(e,t,r,(function(e){o.push(e)}))})),h(o)},t.lineDistance=Yr,t.lineEach=q,t.lineIntersect=Lr,t.lineOffset=function(e,t,n){if(!k(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");var i=oe(e),o=e.properties;switch(i){case"LineString":return aa(e,t,r);case"MultiLineString":var a=[];return H(e,(function(e){a.push(aa(e,t,r).geometry.coordinates)})),v(a,o);default:throw new Error("geometry "+i+" is not supported")}},t.lineOverlap=Fi,t.lineReduce=Y,t.lineSegment=Qn,t.lineSlice=function(e,t,n){var r=$(n);if("LineString"!==oe(n))throw new Error("line must be a LineString");for(var i,o=Dr(n,e),a=Dr(n,t),s=[(i=o.properties.index<=a.properties.index?[o,a]:[a,o])[0].geometry.coordinates],l=i[0].properties.index+1;l<i[1].properties.index+1;l++)s.push(r[l]);return s.push(i[1].geometry.coordinates),p(s,n.properties)},t.lineSliceAlong=Xr,t.lineSplit=function(e,t){if(!e)throw new Error("line is required");if(!t)throw new Error("splitter is required");var n=oe(e),r=oe(t);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var i=ni(t,{precision:7});switch(r){case"Point":return _i(e,i);case"MultiPoint":return bi(e,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return bi(e,Lr(e,i))}},t.lineString=p,t.lineStringToPolygon=Pi,t.lineStrings=d,t.lineToPolygon=Pi,t.mask=function(e,t){var n,r=pm(t),i=null;return i="FeatureCollection"===e.type?fm(2===(n=e).features.length?eu.union(n.features[0].geometry.coordinates,n.features[1].geometry.coordinates):eu.union.apply(eu,n.features.map((function(e){return e.geometry.coordinates})))):fm(eu.union(e.geometry.coordinates)),i.geometry.coordinates.forEach((function(e){r.geometry.coordinates.push(e[0])})),r},t.meta=Z,t.midpoint=function(e,t){return yn(e,_t(e,t)/2,_n(e,t))},t.moranIndex=function(e,t){var n=t.inputField,r=t.threshold||1e5,i=t.p||2,o=t.binary||!1,a=Vs(e,{alpha:t.alpha||-1,binary:o,p:i,standardization:t.standardization||!0,threshold:r}),s=[];j(e,(function(e){var t=e.properties||{};s.push(t[n])}));for(var l=Gs(s),u=function(e){for(var t=Gs(e),n=0,r=0,i=e;r<i.length;r++){var o=i[r];n+=Math.pow(o-t,2)}return n/e.length}(s),c=0,f=0,p=0,d=0,h=a.length,v=0;v<h;v++){for(var m=0,g=0;g<h;g++)c+=a[v][g]*(s[v]-l)*(s[g]-l),f+=a[v][g],p+=Math.pow(a[v][g]+a[g][v],2),m+=a[v][g]+a[g][v];d+=Math.pow(m,2)}var y=c/f/u,b=-1/(h-1),_=(h*h*(p*=.5)-h*d+f*f*3)/((h-1)*(h+1)*(f*f))-b*b,E=Math.sqrt(_);return{expectedMoranIndex:b,moranIndex:y,stdNorm:E,zNorm:(y-b)/E}},t.multiLineString=v,t.multiPoint=m,t.multiPolygon=g,t.nearest=Zn,t.nearestPoint=Zn,t.nearestPointOnLine=Dr,t.nearestPointToLine=function(e,t,n){void 0===n&&(n={});var r=n.units,i=n.properties||{},o=function(e){var t=[];switch(e.geometry?e.geometry.type:e.type){case"GeometryCollection":return U(e,(function(e){"Point"===e.type&&t.push({type:"Feature",properties:{},geometry:e})})),{type:"FeatureCollection",features:t};case"FeatureCollection":return e.features=e.features.filter((function(e){return"Point"===e.geometry.type})),e;default:throw new Error("points must be a Point Collection")}}(e);if(!o.features.length)throw new Error("points must contain features");if(!t)throw new Error("line is required");if("LineString"!==oe(t))throw new Error("line must be a LineString");var a=1/0,s=null;return j(o,(function(e){var n=Nr(e,t,{units:r});n<a&&(a=n,s=e)})),s&&(s.properties=fe({dist:a},s.properties,i)),s},t.planepoint=function(e,t){var n=J(e),r=ie(t).coordinates[0];if(r.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=t.properties||{},o=i.a,a=i.b,s=i.c,l=n[0],u=n[1],c=r[0][0],f=r[0][1],p=void 0!==o?o:r[0][2],d=r[1][0],h=r[1][1],v=void 0!==a?a:r[1][2],m=r[2][0],g=r[2][1],y=void 0!==s?s:r[2][2];return(y*(l-c)*(u-h)+p*(l-d)*(u-g)+v*(l-m)*(u-f)-v*(l-c)*(u-g)-y*(l-d)*(u-f)-p*(l-m)*(u-h))/((l-c)*(u-h)+(l-d)*(u-g)+(l-m)*(u-f)-(l-c)*(u-g)-(l-d)*(u-f)-(l-m)*(u-h))},t.point=l,t.pointGrid=ti,t.pointOnFeature=Ur,t.pointOnLine=Dr,t.pointOnSurface=Ur,t.pointToLineDistance=Nr,t.points=u,t.pointsWithinPolygon=bt,t.polygon=c,t.polygonSmooth=function(e,t){var n=[],r=t.iterations||1;if(!e)throw new Error("inputPolys is required");return U(e,(function(e,t,i){var o,a,s;switch(e.type){case"Polygon":o=[[]];for(var l=0;l<r;l++)s=[[]],a=e,l>0&&(a=c(o).geometry),Us(a,s),o=s.slice(0);n.push(c(o,i));break;case"MultiPolygon":o=[[[]]];for(var u=0;u<r;u++)s=[[[]]],a=e,u>0&&(a=g(o).geometry),zs(a,s),o=s.slice(0);n.push(g(o,i));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}})),h(n)},t.polygonTangents=function(e,t){var n,r,i,o,a=$(e),s=$(t),u=Q(t),c=0,f=null;switch(a[0]>u[0]&&a[0]<u[2]&&a[1]>u[1]&&a[1]<u[3]&&(c=(f=Zn(e,wn(t))).properties.featureIndex),oe(t)){case"Polygon":n=s[0][c],r=s[0][0],null!==f&&f.geometry.coordinates[1]<a[1]&&(r=s[0][c]),o=qi(s[0][0],s[0][s[0].length-1],a);var p=Gi(s[0],a,o,i,n,r);n=p[0],r=p[1];break;case"MultiPolygon":for(var d=0,v=0,m=0,g=0;g<s[0].length;g++){d=g;for(var y=!1,b=0;b<s[0][g].length;b++){if(v=b,m===c){y=!0;break}m++}if(y)break}n=s[0][d][v],r=s[0][d][v],o=qi(s[0][0][0],s[0][0][s[0][0].length-1],a),s.forEach((function(e){var t=Gi(e[0],a,o,i,n,r);n=t[0],r=t[1]}))}return h([l(n),l(r)])},t.polygonToLine=Oi,t.polygonToLineString=Oi,t.polygonize=function(e){var t=pa.fromGeoJson(e);t.deleteDangles(),t.deleteCutEdges();var n=[],r=[];return t.getEdgeRings().filter((function(e){return e.isValid()})).forEach((function(e){e.isHole()?n.push(e):r.push(e)})),n.forEach((function(e){fa.findEdgeRingContaining(e,r)&&r.push(e)})),h(r.map((function(e){return e.toPolygon()})))},t.polygons=f,t.projection=Zs,t.propEach=R,t.propReduce=N,t.propertiesContainsFilter=cl,t.radians2degrees=S,t.radiansToDegrees=S,t.radiansToDistance=_,t.radiansToLength=_,t.random=il,t.randomLineString=tl,t.randomPoint=$s,t.randomPolygon=el,t.randomPosition=Js,t.rewind=function(e,t){if(!k(t=t||{}))throw new Error("options is invalid");var n=t.reverse||!1,r=t.mutate||!1;if(!e)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(e=Ot(e));var i=[];switch(e.type){case"GeometryCollection":return U(e,(function(e){Xi(e,n)})),e;case"FeatureCollection":return j(e,(function(e){j(Xi(e,n),(function(e){i.push(e)}))})),h(i)}return Xi(e,n)},t.rhumbBearing=zi,t.rhumbDestination=Vi,t.rhumbDistance=Rr,t.round=b,t.sample=function(e,t){if(!e)throw new Error("featurecollection is required");if(null==t)throw new Error("num is required");if("number"!=typeof t)throw new Error("num must be a number");return h(function(e,t){for(var n,r,i=e.slice(0),o=e.length,a=o-t;o-- >a;)n=i[r=Math.floor((o+1)*Math.random())],i[r]=i[o],i[o]=n;return i.slice(a)}(e.features,t))},t.sector=function(e,t,n,r,i){if(!k(i=i||{}))throw new Error("options is invalid");var o=i.properties;if(!e)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if(!t)throw new Error("radius is required");if("object"!=typeof i)throw new Error("options must be an object");if(Ui(n)===Ui(r))return bn(e,t,i);var a=$(e),s=wi(e,t,n,r,i),l=[[a]];return I(s,(function(e){l[0].push(e)})),l[0].push(a),c(l,o)},t.segmentEach=G,t.segmentReduce=W,t.shortestPath=function(e,t,n){if(!k(n=n||{}))throw new Error("options is invalid");var r=n.resolution,i=n.minDistance,o=n.obstacles||h([]);if(!e)throw new Error("start is required");if(!t)throw new Error("end is required");if(r&&!P(r)||r<=0)throw new Error("options.resolution must be a number, greater than 0");if(i)throw new Error("options.minDistance is not yet implemented");var s=J(e),u=J(t);switch(e=l(s),t=l(u),oe(o)){case"FeatureCollection":if(0===o.features.length)return p([s,u]);break;case"Polygon":o=h([a(ie(o))]);break;default:throw new Error("invalid obstacles")}var c=o;c.features.push(e),c.features.push(t);var f=Q(ta(vn(Q(c)),1.15));r||(r=_t([f[0],f[1]],[f[2],f[1]],n)/100),c.features.pop(),c.features.pop();for(var d=f[0],v=f[1],m=f[2],g=f[3],y=r/_t([d,v],[m,v],n)*(m-d),b=r/_t([d,v],[d,g],n)*(g-v),_=m-d,E=g-v,x=Math.floor(_/y),w=Math.floor(E/b),S=(_-x*y)/2,O=[],C=[],A=[],M=[],T=1/0,L=1/0,I=g-(E-w*b)/2,D=0;I>=v;){for(var R=[],N=[],j=d+S,F=0;j<=m;){var B=l([j,I]),U=Za(B,o);R.push(U?0:1),N.push(j+"|"+I);var z=_t(B,e);!U&&z<T&&(T=z,A={x:F,y:D});var H=_t(B,t);!U&&H<L&&(L=H,M={x:F,y:D}),j+=y,F++}C.push(R),O.push(N),I-=b,D++}var V=new Ya(C,{diagonal:!0}),G=V.grid[A.y][A.x],W=V.grid[M.y][M.x],q=qa.search(V,G,W),Y=[s];return q.forEach((function(e){var t=O[e.x][e.y].split("|");Y.push([+t[0],+t[1]])})),Y.push(u),tn(p(Y))},t.simplify=function(e,t){if(!k(t=t||{}))throw new Error("options is invalid");var n=void 0!==t.tolerance?t.tolerance:1,r=t.highQuality||!1,i=t.mutate||!1;if(!e)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==i&&(e=Ot(e)),U(e,(function(e){!function(e,t,n){var r=e.type;if("Point"===r||"MultiPoint"===r)return e;tn(e,!0);var i=e.coordinates;switch(r){case"LineString":e.coordinates=cn(i,t,n);break;case"MultiLineString":e.coordinates=i.map((function(e){return cn(e,t,n)}));break;case"Polygon":e.coordinates=fn(i,t,n);break;case"MultiPolygon":e.coordinates=i.map((function(e){return fn(e,t,n)}))}}(e,n,r)})),e},t.square=gn,t.squareGrid=dm,t.standardDeviationalEllipse=function(e,t){if(!k(t=t||{}))throw new Error("options is invalid");var n=t.steps||64,r=t.weight,i=t.properties||{};if(!P(n))throw new Error("steps must be a number");if(!k(i))throw new Error("properties must be a number");var o=B(e).length,a=js(e,{weight:r}),s=0,l=0,u=0;j(e,(function(e){var t=e.properties[r]||1,n=Bs($(e),$(a));s+=Math.pow(n.x,2)*t,l+=Math.pow(n.y,2)*t,u+=n.x*n.y*t}));var c=s-l,f=Math.sqrt(Math.pow(c,2)+4*Math.pow(u,2)),p=2*u,d=Math.atan((c+f)/p),v=180*d/Math.PI,m=0,g=0,y=0;j(e,(function(e){var t=e.properties[r]||1,n=Bs($(e),$(a));m+=Math.pow(n.x*Math.cos(d)-n.y*Math.sin(d),2)*t,g+=Math.pow(n.x*Math.sin(d)+n.y*Math.cos(d),2)*t,y+=t}));var b=Math.sqrt(2*m/y),_=Math.sqrt(2*g/y),E=Rs(a,b,_,{units:"degrees",angle:v,steps:n,properties:i}),x=bt(e,h([E])),w={meanCenterCoordinates:$(a),semiMajorAxis:b,semiMinorAxis:_,numberOfFeatures:o,angle:v,percentageWithinEllipse:100*B(x).length/o};return E.properties.standardDeviationalEllipse=w,E},t.tag=function(e,t,n,r){return e=Ot(e),t=Ot(t),j(e,(function(e){e.properties||(e.properties={}),j(t,(function(t){void 0===e.properties[r]&&gt(e,t)&&(e.properties[r]=t.properties[n])}))})),e},t.tesselate=function(e){if(!e.geometry||"Polygon"!==e.geometry.type&&"MultiPolygon"!==e.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var t={type:"FeatureCollection",features:[]};return"Polygon"===e.geometry.type?t.features=Kn(e.geometry.coordinates):e.geometry.coordinates.forEach((function(e){t.features=t.features.concat(Kn(e))})),t},t.tin=Et,t.toMercator=Ws,t.toWgs84=qs,t.transformRotate=ea,t.transformScale=ta,t.transformTranslate=function(e,t,n,r){if(!k(r=r||{}))throw new Error("options is invalid");var i=r.units,o=r.zTranslation,a=r.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===t&&0===o)return e;if(null==n||isNaN(n))throw new Error("direction is required");return t<0&&(t=-t,n+=180),!1!==a&&void 0!==a||(e=Ot(e)),I(e,(function(e){var r=$(Vi(e,t,n,{units:i}));e[0]=r[0],e[1]=r[1],o&&3===e.length&&(e[2]+=o)})),e},t.triangleGrid=hm,t.truncate=ni,t.union=function(e,t,n){void 0===n&&(n={});var r=ie(e),i=ie(t),o=eu.union(r.coordinates,i.coordinates);return 0===o.length?null:1===o.length?c(o[0],n.properties):g(o,n.properties)},t.unitsFactors=i,t.unkinkPolygon=function(e){var t=[];return H(e,(function(e){"Polygon"===e.geometry.type&&j(ai(e),(function(n){t.push(c(n.geometry.coordinates,e.properties))}))})),h(t)},t.validateBBox=M,t.validateId=T,t.voronoi=function(e,t){if(!k(t=t||{}))throw new Error("options is invalid");var n=t.bbox||[-180,-85,180,85];if(!e)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return re(e,"Point","points"),h(function(){var e=Ja,t=$a,n=null;function r(r){return new Is(r.map((function(n,i){var o=[Math.round(e(n,i,r)/Ms)*Ms,Math.round(t(n,i,r)/Ms)*Ms];return o.index=i,o.data=n,o})),n)}return r.polygons=function(e){return r(e).polygons()},r.links=function(e){return r(e).links()},r.triangles=function(e){return r(e).triangles()},r.x=function(t){return arguments.length?(e="function"==typeof t?t:Qa(+t),r):e},r.y=function(e){return arguments.length?(t="function"==typeof e?e:Qa(+e),r):t},r.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}().x((function(e){return e.geometry.coordinates[0]})).y((function(e){return e.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(e.features).map(Ds))},t.within=bt,Object.defineProperty(t,"__esModule",{value:!0})}))}).call(this,n("Q2Ig"))},WWur:function(e,t,n){"use strict";var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.target,r=void 0===n?document.body:n,i=document.createElement("textarea"),o=document.activeElement;i.value=e,i.setAttribute("readonly",""),i.style.contain="strict",i.style.position="absolute",i.style.left="-9999px",i.style.fontSize="12pt";var a=document.getSelection(),s=!1;a.rangeCount>0&&(s=a.getRangeAt(0)),r.append(i),i.select(),i.selectionStart=0,i.selectionEnd=e.length;var l=!1;try{l=document.execCommand("copy")}catch(u){}return i.remove(),s&&(a.removeAllRanges(),a.addRange(s)),o&&o.focus(),l};e.exports=r,e.exports["default"]=r},WbBG:function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},WjRb:function(e,t,n){var r=n("ROdP");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},WkPL:function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},WwFo:function(e,t,n){var r=n("juv8"),i=n("7GkX");function o(e,t){return e&&r(t,i(t),e)}e.exports=o},X7LM:function(e,t,n){"use strict";var r=2147483647,i=36,o=1,a=26,s=38,l=700,u=72,c=128,f="-",p=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,h="Overflow: input needs wider integers to process",v=i-o,m=Math.floor,g=String.fromCharCode,y=function(e){var t=[],n=0,r=e.length;while(n<r){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},b=function(e){return e+22+75*(e<26)},_=function(e,t,n){var r=0;for(e=n?m(e/l):e>>1,e+=m(e/t);e>v*a>>1;r+=i)e=m(e/v);return m(r+(v+1)*e/(e+s))},E=function(e){var t=[];e=y(e);var n,s,l=e.length,p=c,d=0,v=u;for(n=0;n<e.length;n++)s=e[n],s<128&&t.push(g(s));var E=t.length,x=E;E&&t.push(f);while(x<l){var w=r;for(n=0;n<e.length;n++)s=e[n],s>=p&&s<w&&(w=s);var S=x+1;if(w-p>m((r-d)/S))throw RangeError(h);for(d+=(w-p)*S,p=w,n=0;n<e.length;n++){if(s=e[n],s<p&&++d>r)throw RangeError(h);if(s==p){for(var O=d,C=i;;C+=i){var A=C<=v?o:C>=v+a?a:C-v;if(O<A)break;var P=O-A,k=i-A;t.push(g(b(A+P%k))),O=m(P/k)}t.push(g(b(O))),v=_(d,S,x==E),d=0,++x}}++d,++p}return t.join("")};e.exports=function(e){var t,n,r=[],i=e.toLowerCase().replace(d,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(p.test(n)?"xn--"+E(n):n);return r.join(".")}},XGwC:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},XMab:function(e,t,n){var r=n("dOgj");r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},XUpV:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=[{type:"Feature",id:1574,properties:{_draw_type:"circle",_draw_prop_radius:1087.5445566704695,_draw_prop_center:"120.07206281,30.28979143",_draw_prop_point:"120.0804299,30.28543638",_draw_prop_seg:90},geometry:{type:"Polygon",coordinates:[[[120.08183238897418,30.289791429999987],[120.08180859077082,30.290379886111587],[120.08173731210319,30.290965471819636],[120.08161890023376,30.29154533428616],[120.08145393205331,30.292116648605727],[120.08124321127022,30.29267663156574],[120.08098776449494,30.293222555202526],[120.0806888362385,30.293751760087467],[120.0803478828493,30.294261668278498],[120.079966565418,30.29474979587396],[120.0795467416848,30.295213765107633],[120.0790904569887,30.295651315926307],[120.07859993430287,30.29606031699364],[120.07807756340456,30.296438776066587],[120.07752588923228,30.296784849694244],[120.07694759948708,30.29709685219187],[120.07634551153855,30.297373263846595],[120.07572255869862,30.29761273831475],[120.0750817759309,30.297814109175267],[120.07442628506465,30.29797639560688],[120.07375927958546,30.298098807162155],[120.07308400907694,30.298180747614456],[120.0724037633892,30.29822181785998],[120.07172185661081,30.29822181785998],[120.07104161092306,30.298180747614456],[120.07036634041455,30.298098807162155],[120.06969933493535,30.29797639560688],[120.0690438440691,30.297814109175267],[120.06840306130138,30.29761273831475],[120.06778010846146,30.297373263846595],[120.06717802051293,30.29709685219187],[120.06659973076773,30.296784849694244],[120.06604805659543,30.296438776066587],[120.06552568569714,30.29606031699364],[120.06503516301132,30.295651315926307],[120.06457887831522,30.295213765107633],[120.064159054582,30.29474979587396],[120.0637777371507,30.294261668278498],[120.0634367837615,30.293751760087467],[120.06313785550506,30.293222555202526],[120.06288240872978,30.29267663156574],[120.06267168794669,30.292116648605727],[120.06250671976623,30.29154533428616],[120.06238830789681,30.290965471819636],[120.06231702922918,30.290379886111587],[120.06229323102582,30.289791429999987],[120.06231702922918,30.28920297035815],[120.06238830789681,30.28861737412805],[120.06250671976623,30.28803749435252],[120.06267168794669,30.287466156273823],[120.06288240872978,30.286906143567037],[120.06313785550506,30.286360184774814],[120.0634367837615,30.285830940010058],[120.0637777371507,30.28532098799101],[120.064159054582,30.284832813472427],[120.06457887831522,30.284368795133815],[120.06503516301132,30.283931193984152],[120.06552568569714,30.283522142339407],[120.06604805659543,30.283143633427105],[120.06659973076773,30.282797511668164],[120.06717802051293,30.282485463684164],[120.06778010846146,30.28220901007333],[120.06840306130138,30.28196949799592],[120.0690438440691,30.281768094605084],[120.06969933493535,30.281605781355186],[120.07036634041455,30.281483349215705],[120.07104161092306,30.281401394813873],[120.07172185661081,30.28136031752505],[120.0724037633892,30.28136031752505],[120.07308400907694,30.281401394813873],[120.07375927958546,30.281483349215705],[120.07442628506465,30.281605781355186],[120.0750817759309,30.281768094605084],[120.07572255869862,30.28196949799592],[120.07634551153855,30.28220901007333],[120.07694759948708,30.282485463684164],[120.07752588923228,30.282797511668164],[120.07807756340456,30.283143633427105],[120.07859993430287,30.283522142339407],[120.0790904569887,30.283931193984152],[120.0795467416848,30.284368795133815],[120.079966565418,30.284832813472427],[120.0803478828493,30.28532098799101],[120.0806888362385,30.285830940010058],[120.08098776449494,30.286360184774814],[120.08124321127022,30.286906143567037],[120.08145393205331,30.287466156273823],[120.08161890023376,30.28803749435252],[120.08173731210319,30.28861737412805],[120.08180859077082,30.28920297035815],[120.08183238897418,30.289791429999987]]]},bbox:[120.06229323102582,30.28136031752505,120.08183238897418,30.29822181785998]},{type:"Feature",id:1784,properties:{_draw_type:"circle",_draw_prop_radius:1793.0130003743168,_draw_prop_center:"120.09952772,30.28671722",_draw_prop_point:"120.1148296,30.28237502",_draw_prop_seg:90},geometry:{type:"Polygon",coordinates:[[[120.1156346298286,30.286717219999993],[120.11559539420578,30.287687424361284],[120.11547787848937,30.2886528924591],[120.11528265520407,30.28960892083843],[120.11501067545817,30.290550852168188],[120.11466326430958,30.291474097924624],[120.11424211431057,30.292374160737012],[120.11374927726155,30.293246656286858],[120.11318715421508,30.29408733465434],[120.11255848377819,30.2948921010081],[120.11186632877,30.29565703553788],[120.11111406130017,30.296378412533375],[120.11030534634018,30.297052718516586],[120.109444123868,30.297676669339623],[120.108534589673,30.298247226165312],[120.10758117491429,30.298761610252768],[120.10658852453278,30.29921731647661],[120.10556147462134,30.29961212551413],[120.10450502886388,30.299944114641345],[120.10342433415796,30.30021166708583],[120.10232465553956,30.30041347989095],[120.10121135053235,30.30054857025329],[120.10008984304643,30.300616280302886],[120.09896559695353,30.300616280302886],[120.09784408946761,30.30054857025329],[120.09673078446039,30.30041347989095],[120.095631105842,30.30021166708583],[120.0945504111361,30.299944114641345],[120.09349396537863,30.29961212551413],[120.09246691546718,30.29921731647661],[120.09147426508568,30.298761610252768],[120.09052085032697,30.298247226165312],[120.08961131613195,30.297676669339623],[120.08875009365978,30.297052718516586],[120.08794137869981,30.296378412533375],[120.08718911122995,30.29565703553788],[120.08649695622178,30.2948921010081],[120.08586828578488,30.29408733465434],[120.08530616273842,30.293246656286858],[120.0848133256894,30.292374160737012],[120.08439217569035,30.291474097924624],[120.0840447645418,30.290550852168188],[120.08377278479588,30.28960892083843],[120.0835775615106,30.2886528924591],[120.08346004579418,30.287687424361284],[120.08342081017138,30.286717219999993],[120.08346004579418,30.28574700604355],[120.0835775615106,30.284781509347003],[120.08377278479588,30.283825433922054],[120.0840447645418,30.282883438015443],[120.08439217569035,30.281960111407848],[120.0848133256894,30.28105995304367],[120.08530616273842,30.280187349101208],[120.08586828578488,30.27934655161002],[120.08649695622178,30.278541657720076],[120.08718911122995,30.27777658972398],[120.08794137869981,30.2770550759298],[120.08875009365978,30.276380632478183],[120.08961131613195,30.275756546192646],[120.09052085032697,30.27518585854704],[120.09147426508568,30.274671350828484],[120.09246691546718,30.274215530568682],[120.09349396537863,30.273820619309966],[120.0945504111361,30.2734885417659],[120.095631105842,30.273220916429846],[120.09673078446039,30.273019047677206],[120.09784408946761,30.272883919400346],[120.09896559695353,30.272816190207184],[120.10008984304643,30.272816190207184],[120.10121135053235,30.272883919400346],[120.10232465553956,30.273019047677206],[120.10342433415796,30.273220916429846],[120.10450502886388,30.2734885417659],[120.10556147462134,30.273820619309966],[120.10658852453278,30.274215530568682],[120.10758117491429,30.274671350828484],[120.108534589673,30.27518585854704],[120.109444123868,30.275756546192646],[120.11030534634018,30.276380632478183],[120.11111406130017,30.2770550759298],[120.11186632877,30.27777658972398],[120.11255848377819,30.278541657720076],[120.11318715421508,30.27934655161002],[120.11374927726155,30.280187349101208],[120.11424211431057,30.28105995304367],[120.11466326430958,30.281960111407848],[120.11501067545817,30.282883438015443],[120.11528265520407,30.283825433922054],[120.11547787848937,30.284781509347003],[120.11559539420578,30.28574700604355],[120.1156346298286,30.286717219999993]]]},bbox:[120.08342081017138,30.272816190207184,120.1156346298286,30.300616280302886]},{type:"Feature",id:2044,properties:{_draw_type:"circle",_draw_prop_radius:2112.148966097002,_draw_prop_center:"120.12394648,30.30215329",_draw_prop_point:"120.14006939,30.29351676",_draw_prop_seg:90},geometry:{type:"Polygon",coordinates:[[[120.14292023698583,30.30215329],[120.14287401786741,30.303295998846618],[120.14273558568712,30.304433127308666],[120.14250561487258,30.305559135699898],[120.14218522581851,30.306668538696808],[120.14177597942817,30.307755932053308],[120.1412798695088,30.308816018916882],[120.14069931305812,30.30984363561846],[120.14003713848875,30.310833776810465],[120.13929657184866,30.311781619830942],[120.13848122110407,30.312682548175626],[120.13759505856186,30.31353217396398],[120.13664240151682,30.314326359290167],[120.13562789121836,30.315061236355525],[120.13455647025863,30.315733226284998],[120.13343335849291,30.316339056536343],[120.13226402760877,30.31687577681783],[120.13105417446877,30.31734077343739],[120.12980969335575,30.317731782013748],[120.12853664725667,30.318046898488127],[120.12724123832409,30.318284588383143],[120.12592977766015,30.31844369426431],[120.12460865456936,30.318523441367873],[120.12328430543064,30.318523441367873],[120.12196318233985,30.31844369426431],[120.12065172167591,30.318284588383143],[120.11935631274334,30.318046898488127],[120.11808326664426,30.317731782013748],[120.11683878553123,30.31734077343739],[120.11562893239123,30.31687577681783],[120.1144596015071,30.316339056536343],[120.11333648974134,30.315733226284998],[120.11226506878164,30.315061236355525],[120.11125055848318,30.314326359290167],[120.11029790143814,30.31353217396398],[120.10941173889593,30.312682548175626],[120.10859638815134,30.311781619830942],[120.10785582151125,30.310833776810465],[120.10719364694188,30.30984363561846],[120.10661309049118,30.308816018916882],[120.10611698057183,30.307755932053308],[120.1057077341815,30.306668538696808],[120.10538734512743,30.305559135699898],[120.10515737431288,30.304433127308666],[120.10501894213259,30.303295998846618],[120.10497272301417,30.30215329],[120.10501894213259,30.301010567834524],[120.10515737431288,30.29987339967521],[120.10538734512743,30.298747325980944],[120.1057077341815,30.297637833346272],[120.10611698057183,30.296550327761995],[120.10661309049118,30.295490108265003],[120.10719364694188,30.29446234110591],[120.10785582151125,30.29347203456081],[120.10859638815134,30.292524014510064],[120.10941173889593,30.291622900903615],[120.11029790143814,30.2907730852279],[120.11125055848318,30.289978709084718],[120.11226506878164,30.289243643986772],[120.11333648974134,30.28857147246894],[120.1144596015071,30.28796547060788],[120.11562893239123,30.287428592035504],[120.11683878553123,30.286963453524848],[120.11808326664426,30.286572322218923],[120.11935631274334,30.286257104565323],[120.12065172167591,30.28601933701073],[120.12196318233985,30.285860178501217],[120.12328430543064,30.285780404824898],[120.12460865456936,30.285780404824898],[120.12592977766015,30.285860178501217],[120.12724123832409,30.28601933701073],[120.12853664725667,30.286257104565323],[120.12980969335575,30.286572322218923],[120.13105417446877,30.286963453524848],[120.13226402760877,30.287428592035504],[120.13343335849291,30.28796547060788],[120.13455647025863,30.28857147246894],[120.13562789121836,30.289243643986772],[120.13664240151682,30.289978709084718],[120.13759505856186,30.2907730852279],[120.13848122110407,30.291622900903615],[120.13929657184866,30.292524014510064],[120.14003713848875,30.29347203456081],[120.14069931305812,30.29446234110591],[120.1412798695088,30.295490108265003],[120.14177597942817,30.296550327761995],[120.14218522581851,30.297637833346272],[120.14250561487258,30.298747325980944],[120.14273558568712,30.29987339967521],[120.14287401786741,30.301010567834524],[120.14292023698583,30.30215329]]]},bbox:[120.10497272301417,30.285780404824898,120.14292023698583,30.318523441367873]},{type:"Feature",id:2244,properties:{_draw_type:"circle",_draw_prop_radius:2359.004399186826,_draw_prop_center:"120.16012825,30.28896587",_draw_prop_point:"120.17687871,30.27775667",_draw_prop_seg:90},geometry:{type:"Polygon",coordinates:[[[120.18131954707093,30.28896587],[120.18126792613636,30.29024230264147],[120.18111331482456,30.291512500142503],[120.18085646638639,30.29277027458932],[120.18049863216154,30.294009498825066],[120.18004155548243,30.295224136289114],[120.1794874631807,30.296408270410726],[120.17883905473833,30.297556133414094],[120.1780994891361,30.298662134394934],[120.17727236946324,30.29972088653216],[120.17636172536368,30.300727233302613],[120.17537199340394,30.30167627357177],[120.17430799545862,30.302563385438834],[120.17317491521874,30.30338424872044],[120.17197827293741,30.30413486596443],[120.17072389853547,30.304811581891627],[120.16941790319892,30.305411101171913],[120.16806664960582,30.305930504448273],[120.16667672092777,30.30636726253158],[120.1652548887576,30.30671924869738],[120.16380808011876,30.30698474902538],[120.16234334371747,30.307162470731505],[120.16086781560223,30.307251548452488],[120.15938868439774,30.307251548452488],[120.15791315628253,30.307162470731505],[120.15644841988124,30.30698474902538],[120.1550016112424,30.30671924869738],[120.15357977907223,30.30636726253158],[120.15218985039418,30.305930504448273],[120.15083859680108,30.305411101171913],[120.1495326014645,30.304811581891627],[120.14827822706259,30.30413486596443],[120.14708158478123,30.30338424872044],[120.14594850454138,30.302563385438834],[120.14488450659606,30.30167627357177],[120.14389477463632,30.300727233302613],[120.14298413053676,30.29972088653216],[120.1421570108639,30.298662134394934],[120.14141744526167,30.297556133414094],[120.14076903681926,30.296408270410726],[120.14021494451755,30.295224136289114],[120.13975786783845,30.294009498825066],[120.13940003361361,30.29277027458932],[120.13914318517543,30.291512500142503],[120.13898857386364,30.29024230264147],[120.13893695292907,30.28896587],[120.13898857386364,30.28768942074882],[120.13914318517543,30.286419173741972],[120.13940003361361,30.285161317856772],[120.13975786783845,30.283921981835203],[120.14021494451755,30.28270720441367],[120.14076903681926,30.28152290488703],[120.14141744526167,30.280374854250514],[120.1421570108639,30.27926864706046],[120.14298413053676,30.278209674151608],[120.14389477463632,30.277203096344174],[120.14488450659606,30.276253819269517],[120.14594850454138,30.275366469437643],[120.14708158478123,30.274545371663585],[120.14827822706259,30.273794527963656],[120.1495326014645,30.27311759802472],[120.15083859680108,30.27251788134239],[120.15218985039418,30.27199830111591],[120.15357977907223,30.271561389978547],[120.1550016112424,30.271209277633734],[120.15644841988124,30.27094368045773],[120.15791315628253,30.270765893119638],[120.15938868439774,30.27067678226016],[120.16086781560223,30.27067678226016],[120.16234334371747,30.270765893119638],[120.16380808011876,30.27094368045773],[120.1652548887576,30.271209277633734],[120.16667672092777,30.271561389978547],[120.16806664960582,30.27199830111591],[120.16941790319892,30.27251788134239],[120.17072389853547,30.27311759802472],[120.17197827293741,30.273794527963656],[120.17317491521874,30.274545371663585],[120.17430799545862,30.275366469437643],[120.17537199340394,30.276253819269517],[120.17636172536368,30.277203096344174],[120.17727236946324,30.278209674151608],[120.1780994891361,30.27926864706046],[120.17883905473833,30.280374854250514],[120.1794874631807,30.28152290488703],[120.18004155548243,30.28270720441367],[120.18049863216154,30.283921981835203],[120.18085646638639,30.285161317856772],[120.18111331482456,30.286419173741972],[120.18126792613636,30.28768942074882],[120.18131954707093,30.28896587]]]},bbox:[120.13893695292907,30.27067678226016,120.18131954707093,30.307251548452488]}],c=String(Math.random()),f=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:c,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawCircle"](e,{initialData:u});n(t),t.enable(),t.on(o["DrawEvent"].Add,(e=>{}))}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:c,style:{height:400,position:"relative"}}))};t["default"]=f},XWE6:function(e,t){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},XYm9:function(e,t,n){var r=n("+K+b");function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}e.exports=i},XbcX:function(e,t,n){"use strict";var r=n("I+eb"),i=n("or9q"),o=n("ewvW"),a=n("UMSQ"),s=n("HAuM"),l=n("ZfDv");r({target:"Array",proto:!0},{flatMap:function(e){var t,n=o(this),r=a(n.length);return s(e),t=l(n,0),t.length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},Xi7e:function(e,t,n){var r=n("KMkd"),i=n("adU4"),o=n("tMB7"),a=n("+6XX"),s=n("Z8oC");function l(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},Xk0s:function(e,t,n){},XpIm:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[120.11146545410156,30.23000129725004],[120.15438079833983,30.23000129725004],[120.15438079833983,30.251060107580553],[120.11146545410156,30.251060107580553],[120.11146545410156,30.23000129725004]]]}},{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[120.14511108398436,30.257287905035877],[120.19592285156249,30.257287905035877],[120.19592285156249,30.27270741823115],[120.14511108398436,30.27270741823115],[120.14511108398436,30.257287905035877]]]}},{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[120.10047912597655,30.26559102073103],[120.1303482055664,30.26559102073103],[120.1303482055664,30.29523927312319],[120.10047912597655,30.29523927312319],[120.10047912597655,30.26559102073103]]]}}],c=String(Math.random()),f=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:c,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawRect"](e,{initialData:u});n(t),t.enable(),t.on(o["DrawEvent"].Add,(e=>{}))}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:c,style:{height:400,position:"relative"}}))};t["default"]=f},"Xt/L":function(e,t){function n(e,t,n){var r=-1,i=null==e?0:e.length;while(++r<i)if(n(t,e[r]))return!0;return!1}e.exports=n},"Y+p1":function(e,t,n){var r=n("wF/u");function i(e,t){return r(e,t)}e.exports=i},Y4C7:function(e,t,n){var r=n("I+eb"),i=n("eDxR"),o=n("glrk"),a=i.toKey,s=i.getMap,l=i.store;r({target:"Reflect",stat:!0},{deleteMetadata:function(e,t){var n=arguments.length<3?void 0:a(arguments[2]),r=s(o(t),n,!1);if(void 0===r||!r["delete"](e))return!1;if(r.size)return!0;var i=l.get(t);return i["delete"](n),!!i.size||l["delete"](t)}})},YESw:function(e,t,n){var r=n("Cwc5"),i=r(Object,"create");e.exports=i},YGK4:function(e,t,n){"use strict";var r=n("bWFh"),i=n("ZWaQ");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},YL0P:function(e,t,n){"use strict";var r=n("2oRo"),i=n("67WC"),o=n("4mDm"),a=n("tiKp"),s=a("iterator"),l=r.Uint8Array,u=o.values,c=o.keys,f=o.entries,p=i.aTypedArray,d=i.exportTypedArrayMethod,h=l&&l.prototype[s],v=!!h&&("values"==h.name||void 0==h.name),m=function(){return u.call(p(this))};d("entries",(function(){return f.call(p(this))})),d("keys",(function(){return c.call(p(this))})),d("values",m,!v),d(s,m,!v)},YNrV:function(e,t,n){"use strict";var r=n("g6v/"),i=n("0Dky"),o=n("33Wh"),a=n("dBg+"),s=n("0eef"),l=n("ewvW"),u=n("RK3t"),c=Object.assign,f=Object.defineProperty;e.exports=!c||i((function(){if(r&&1!==c({b:1},c(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||o(c({},t)).join("")!=i}))?function(e,t){var n=l(e),i=arguments.length,c=1,f=a.f,p=s.f;while(i>c){var d,h=u(arguments[c++]),v=f?o(h).concat(f(h)):o(h),m=v.length,g=0;while(m>g)d=v[g++],r&&!p.call(h,d)||(n[d]=h[d])}return n}:c},YO3V:function(e,t,n){var r=n("NykK"),i=n("LcsW"),o=n("ExA7"),a="[object Object]",s=Function.prototype,l=Object.prototype,u=s.toString,c=l.hasOwnProperty,f=u.call(Object);function p(e){if(!o(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==f}e.exports=p},YS25:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return U})),n.d(t,"d",(function(){return H})),n.d(t,"c",(function(){return E})),n.d(t,"f",(function(){return x})),n.d(t,"e",(function(){return _}));var r=n("wx14");function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function a(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),l=t&&i(t),u=s||l;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var c=a[a.length-1];n="."===c||".."===c||""===c}else n=!1;for(var f=0,p=a.length;p>=0;p--){var d=a[p];"."===d?o(a,p):".."===d?(o(a,p),f++):f&&(o(a,p),f--)}if(!u)for(;f--;f)a.unshift("..");!u||""===a[0]||a[0]&&i(a[0])||a.unshift("");var h=a.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h}var s=a;function l(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function u(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return u(e,t[n])}));if("object"===typeof e||"object"===typeof t){var n=l(e),r=l(t);return n!==e||r!==t?u(n,r):Object.keys(Object.assign({},e,t)).every((function(n){return u(e[n],t[n])}))}return!1}var c=u,f=n("cr+I"),p=n.n(f),d=n("9R94");function h(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function m(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}function g(e,t){return m(e,t)?e.substr(t.length):e}function y(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function b(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function _(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function E(e,t,n,i){var o;"string"===typeof e?(o=b(e),o.query=o.search?p.a.parse(o.search):{},o.state=t):(o=Object(r["a"])({},e),void 0===o.pathname&&(o.pathname=""),o.search?("?"!==o.search.charAt(0)&&(o.search="?"+o.search),o.query=p.a.parse(o.search)):(o.search=o.query?p.a.stringify(o.query):"",o.query=o.query||{}),o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=s(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function x(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function w(){var e=null;function t(t){return e=t,function(){e===t&&(e=null)}}function n(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)}var r=[];function i(e){var t=!0;function n(){t&&e.apply(void 0,arguments)}return r.push(n),function(){t=!1,r=r.filter((function(e){return e!==n}))}}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach((function(e){return e.apply(void 0,t)}))}return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:o}}var S=!("undefined"===typeof window||!window.document||!window.document.createElement);function O(e,t){t(window.confirm(e))}function C(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function A(){return-1===window.navigator.userAgent.indexOf("Trident")}function P(){return-1===window.navigator.userAgent.indexOf("Firefox")}function k(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}var M="popstate",T="hashchange";function L(){try{return window.history.state||{}}catch(e){return{}}}function I(e){void 0===e&&(e={}),S||Object(d["a"])(!1);var t=window.history,n=C(),i=!A(),o=e,a=o.forceRefresh,s=void 0!==a&&a,l=o.getUserConfirmation,u=void 0===l?O:l,c=o.keyLength,f=void 0===c?6:c,p=e.basename?y(h(e.basename)):"";function v(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname,a=i.search,s=i.hash,l=o+a+s;return p&&(l=g(l,p)),E(l,r,n)}function m(){return Math.random().toString(36).substr(2,f)}var b=w();function x(e){Object(r["a"])(Z,e),Z.length=t.length,b.notifyListeners(Z.location,Z.action)}function P(e){k(e)||R(v(e.state))}function I(){R(v(L()))}var D=!1;function R(e){if(D)D=!1,x();else{var t="POP";b.confirmTransitionTo(e,t,u,(function(n){n?x({action:t,location:e}):N(e)}))}}function N(e){var t=Z.location,n=F.indexOf(t.key);-1===n&&(n=0);var r=F.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(D=!0,H(i))}var j=v(L()),F=[j.key];function B(e){return p+_(e)}function U(e,r){var i="PUSH",o=E(e,r,m(),Z.location);b.confirmTransitionTo(o,i,u,(function(e){if(e){var r=B(o),a=o.key,l=o.state;if(n)if(t.pushState({key:a,state:l},null,r),s)window.location.href=r;else{var u=F.indexOf(Z.location.key),c=F.slice(0,u+1);c.push(o.key),F=c,x({action:i,location:o})}else window.location.href=r}}))}function z(e,r){var i="REPLACE",o=E(e,r,m(),Z.location);b.confirmTransitionTo(o,i,u,(function(e){if(e){var r=B(o),a=o.key,l=o.state;if(n)if(t.replaceState({key:a,state:l},null,r),s)window.location.replace(r);else{var u=F.indexOf(Z.location.key);-1!==u&&(F[u]=o.key),x({action:i,location:o})}else window.location.replace(r)}}))}function H(e){t.go(e)}function V(){H(-1)}function G(){H(1)}var W=0;function q(e){W+=e,1===W&&1===e?(window.addEventListener(M,P),i&&window.addEventListener(T,I)):0===W&&(window.removeEventListener(M,P),i&&window.removeEventListener(T,I))}var Y=!1;function X(e){void 0===e&&(e=!1);var t=b.setPrompt(e);return Y||(q(1),Y=!0),function(){return Y&&(Y=!1,q(-1)),t()}}function K(e){var t=b.appendListener(e);return q(1),function(){q(-1),t()}}var Z={length:t.length,action:"POP",location:j,createHref:B,push:U,replace:z,go:H,goBack:V,goForward:G,block:X,listen:K};return Z}var D="hashchange",R={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:h},slash:{encodePath:h,decodePath:h}};function N(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function j(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function F(e){window.location.hash=e}function B(e){window.location.replace(N(window.location.href)+"#"+e)}function U(e){void 0===e&&(e={}),S||Object(d["a"])(!1);var t=window.history,n=(P(),e),i=n.getUserConfirmation,o=void 0===i?O:i,a=n.hashType,s=void 0===a?"slash":a,l=e.basename?y(h(e.basename)):"",u=R[s],c=u.encodePath,f=u.decodePath;function p(){var e=f(j());return l&&(e=g(e,l)),E(e)}var v=w();function m(e){Object(r["a"])(J,e),J.length=t.length,v.notifyListeners(J.location,J.action)}var b=!1,x=null;function C(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}function A(){var e=j(),t=c(e);if(e!==t)B(t);else{var n=p(),r=J.location;if(!b&&C(r,n))return;if(x===_(n))return;x=null,k(n)}}function k(e){if(b)b=!1,m();else{var t="POP";v.confirmTransitionTo(e,t,o,(function(n){n?m({action:t,location:e}):M(e)}))}}function M(e){var t=J.location,n=U.lastIndexOf(_(t));-1===n&&(n=0);var r=U.lastIndexOf(_(e));-1===r&&(r=0);var i=n-r;i&&(b=!0,G(i))}var T=j(),L=c(T);T!==L&&B(L);var I=p(),U=[_(I)];function z(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=N(window.location.href)),n+"#"+c(l+_(e))}function H(e,t){var n="PUSH",r=E(e,void 0,void 0,J.location);v.confirmTransitionTo(r,n,o,(function(e){if(e){var t=_(r),i=c(l+t),o=j()!==i;if(o){x=t,F(i);var a=U.lastIndexOf(_(J.location)),s=U.slice(0,a+1);s.push(t),U=s,m({action:n,location:r})}else m()}}))}function V(e,t){var n="REPLACE",r=E(e,void 0,void 0,J.location);v.confirmTransitionTo(r,n,o,(function(e){if(e){var t=_(r),i=c(l+t),o=j()!==i;o&&(x=t,B(i));var a=U.indexOf(_(J.location));-1!==a&&(U[a]=t),m({action:n,location:r})}}))}function G(e){t.go(e)}function W(){G(-1)}function q(){G(1)}var Y=0;function X(e){Y+=e,1===Y&&1===e?window.addEventListener(D,A):0===Y&&window.removeEventListener(D,A)}var K=!1;function Z(e){void 0===e&&(e=!1);var t=v.setPrompt(e);return K||(X(1),K=!0),function(){return K&&(K=!1,X(-1)),t()}}function Q(e){var t=v.appendListener(e);return X(1),function(){X(-1),t()}}var J={length:t.length,action:"POP",location:I,createHref:z,push:H,replace:V,go:G,goBack:W,goForward:q,block:Z,listen:Q};return J}function z(e,t,n){return Math.min(Math.max(e,t),n)}function H(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,u=void 0===l?6:l,c=w();function f(e){Object(r["a"])(A,e),A.length=A.entries.length,c.notifyListeners(A.location,A.action)}function p(){return Math.random().toString(36).substr(2,u)}var d=z(s,0,o.length-1),h=o.map((function(e){return E(e,void 0,"string"===typeof e?p():e.key||p())})),v=_;function m(e,t){var r="PUSH",i=E(e,t,p(),A.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=A.index,n=t+1,o=A.entries.slice(0);o.length>n?o.splice(n,o.length-n,i):o.push(i),f({action:r,location:i,index:n,entries:o})}}))}function g(e,t){var r="REPLACE",i=E(e,t,p(),A.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(A.entries[A.index]=i,f({action:r,location:i}))}))}function y(e){var t=z(A.index+e,0,A.entries.length-1),r="POP",i=A.entries[t];c.confirmTransitionTo(i,r,n,(function(e){e?f({action:r,location:i,index:t}):f()}))}function b(){y(-1)}function x(){y(1)}function S(e){var t=A.index+e;return t>=0&&t<A.entries.length}function O(e){return void 0===e&&(e=!1),c.setPrompt(e)}function C(e){return c.appendListener(e)}var A={length:h.length,action:"POP",location:h[d],index:d,entries:h,createHref:v,push:m,replace:g,go:y,goBack:b,goForward:x,canGo:S,block:O,listen:C};return A}},Ydqa:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawRect"](e,{distanceOptions:{},areaOptions:{}});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},Yhre:function(e,t,n){"use strict";var r=n("2oRo"),i=n("g6v/"),o=n("qYE9"),a=n("kRJp"),s=n("4syw"),l=n("0Dky"),u=n("GarU"),c=n("ppGB"),f=n("UMSQ"),p=n("CyXQ"),d=n("d6cI"),h=n("4WOD"),v=n("0rvr"),m=n("JBy8").f,g=n("m/L8").f,y=n("gdVl"),b=n("1E5z"),_=n("afO8"),E=_.get,x=_.set,w="ArrayBuffer",S="DataView",O="prototype",C="Wrong length",A="Wrong index",P=r[w],k=P,M=r[S],T=M&&M[O],L=Object.prototype,I=r.RangeError,D=d.pack,R=d.unpack,N=function(e){return[255&e]},j=function(e){return[255&e,e>>8&255]},F=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},B=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},U=function(e){return D(e,23,4)},z=function(e){return D(e,52,8)},H=function(e,t){g(e[O],t,{get:function(){return E(this)[t]}})},V=function(e,t,n,r){var i=p(n),o=E(e);if(i+t>o.byteLength)throw I(A);var a=E(o.buffer).bytes,s=i+o.byteOffset,l=a.slice(s,s+t);return r?l:l.reverse()},G=function(e,t,n,r,i,o){var a=p(n),s=E(e);if(a+t>s.byteLength)throw I(A);for(var l=E(s.buffer).bytes,u=a+s.byteOffset,c=r(+i),f=0;f<t;f++)l[u+f]=c[o?f:t-f-1]};if(o){if(!l((function(){P(1)}))||!l((function(){new P(-1)}))||l((function(){return new P,new P(1.5),new P(NaN),P.name!=w}))){k=function(e){return u(this,k),new P(p(e))};for(var W,q=k[O]=P[O],Y=m(P),X=0;Y.length>X;)(W=Y[X++])in k||a(k,W,P[W]);q.constructor=k}v&&h(T)!==L&&v(T,L);var K=new M(new k(2)),Z=T.setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||s(T,{setInt8:function(e,t){Z.call(this,e,t<<24>>24)},setUint8:function(e,t){Z.call(this,e,t<<24>>24)}},{unsafe:!0})}else k=function(e){u(this,k,w);var t=p(e);x(this,{bytes:y.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},M=function(e,t,n){u(this,M,S),u(e,k,S);var r=E(e).byteLength,o=c(t);if(o<0||o>r)throw I("Wrong offset");if(n=void 0===n?r-o:f(n),o+n>r)throw I(C);x(this,{buffer:e,byteLength:n,byteOffset:o}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=o)},i&&(H(k,"byteLength"),H(M,"buffer"),H(M,"byteLength"),H(M,"byteOffset")),s(M[O],{getInt8:function(e){return V(this,1,e)[0]<<24>>24},getUint8:function(e){return V(this,1,e)[0]},getInt16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return B(V(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return B(V(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return R(V(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return R(V(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){G(this,1,e,N,t)},setUint8:function(e,t){G(this,1,e,N,t)},setInt16:function(e,t){G(this,2,e,j,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){G(this,2,e,j,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){G(this,4,e,F,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){G(this,4,e,F,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){G(this,4,e,U,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){G(this,8,e,z,t,arguments.length>2?arguments[2]:void 0)}});b(k,w),b(M,S),e.exports={ArrayBuffer:k,DataView:M}},Yk9n:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n("MON2"),i=n("xfSm"),o=n("GXnB"),a=n("Ztfv"),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();function l(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var l=new o.Metadata(i.INJECT_TAG,e);"number"===typeof s?a.tagParameter(t,n,s,l):a.tagProperty(t,n,l)}}t.LazyServiceIdentifer=s,t.inject=l},YoBW:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["circle-event"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["circle-event"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},YrtM:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function i(e,t,n){var i=r["useRef"]({});return"value"in i.current&&!n(i.current.condition,t)||(i.current.value=e(),i.current.condition=t),i.current.value}},Z0cm:function(e,t){var n=Array.isArray;e.exports=n},Z4nd:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("fXLg");r({target:"WeakSet",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},Z7My:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawRect"](e,{});n(t),t.enable(),t.on(o["DrawEvent"].Add,((e,t)=>{console.log("add",e,t)})),t.on(o["DrawEvent"].Edit,((e,t)=>{console.log("edit",e,t)})),t.on(o["DrawEvent"].Remove,((e,t)=>{console.log("remove",e,t)})),t.on(o["DrawEvent"].Change,(e=>{console.log("change",e)})),t.on(o["DrawEvent"].DragStart,((e,t)=>{console.log("dragStart",e,t)})),t.on(o["DrawEvent"].Dragging,((e,t)=>{console.log("dragging",e,t)})),t.on(o["DrawEvent"].DragEnd,((e,t)=>{console.log("dragEnd",e,t)}))}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},Z8oC:function(e,t,n){var r=n("y1pI");function i(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}e.exports=i},ZEDe:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["line-editable"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["line-editable"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},ZFOp:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},ZM16:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["rect-event"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["rect-event"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},ZMwo:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["control-start"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["control-start"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},ZUd8:function(e,t,n){var r=n("ppGB"),i=n("HYAF"),o=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},ZWaQ:function(e,t,n){"use strict";var r=n("m/L8").f,i=n("fHMY"),o=n("4syw"),a=n("A2ZE"),s=n("GarU"),l=n("ImZN"),u=n("fdAy"),c=n("JiZb"),f=n("g6v/"),p=n("8YOa").fastKey,d=n("afO8"),h=d.set,v=d.getterFor;e.exports={getConstructor:function(e,t,n,u){var c=e((function(e,r){s(e,c,t),h(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&l(r,e[u],e,n)})),d=v(t),m=function(e,t,n){var r,i,o=d(e),a=g(e,t);return a?a.value=n:(o.last=a={index:i=p(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),f?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},g=function(e,t){var n,r=d(e),i=p(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(c.prototype,{clear:function(){var e=this,t=d(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=d(t),r=g(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),f?n.size--:t.size--}return!!r},forEach:function(e){var t,n=d(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!g(this,e)}}),o(c.prototype,n?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),f&&r(c.prototype,"size",{get:function(){return d(this).size}}),c},setStrong:function(e,t,n){var r=t+" Iterator",i=v(t),o=v(r);u(e,t,(function(e,t){h(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=o(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(t)}}},ZY7T:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("SEBh"),u=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(e){var t=a(this),n=new(l(t,o("Set"))),r=s(t.has),i=s(n.add);return u(e,(function(e){r.call(t,e)&&i.call(n,e)})),n}})},ZfDv:function(e,t,n){var r=n("hh1v"),i=n("6LWA"),o=n("tiKp"),a=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},ZhPi:function(e,t,n){var r=n("WkPL");function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},Zm9Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("q1tI"),i=n.n(r),o=n("t6Hw");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return i.a.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(a(e)):Object(o["isFragment"])(e)&&e.props?n=n.concat(a(e.props.children,t)):n.push(e))})),n}},ZsH6:function(e,t,n){var r=n("I+eb"),i=n("eDxR"),o=n("glrk"),a=n("4WOD"),s=i.has,l=i.get,u=i.toKey,c=function(e,t,n){var r=s(e,t,n);if(r)return l(e,t,n);var i=a(t);return null!==i?c(e,i,n):void 0};r({target:"Reflect",stat:!0},{getMetadata:function(e,t){var n=arguments.length<3?void 0:u(arguments[2]);return c(e,o(t),n)}})},Ztfv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n("MON2"),i=n("xfSm");function o(e,t,n,r){var o=i.TAGGED;s(o,e,t,r,n)}function a(e,t,n){var r=i.TAGGED_PROP;s(r,e.constructor,t,n)}function s(e,t,n,i,o){var a={},s="number"===typeof o,l=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var u=a[l];if(Array.isArray(u))for(var c=0,f=u;c<f.length;c++){var p=f[c];if(p.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+p.key.toString())}else u=[];u.push(i),a[l]=u,Reflect.defineMetadata(e,a,t)}function l(e,t){Reflect.decorate(e,t)}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n){"number"===typeof n?l([u(n,e)],t):"string"===typeof n?Reflect.decorate([e],t,n):l([e],t)}t.tagParameter=o,t.tagProperty=a,t.decorate=c},ZzCi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n("xfSm"),i=n("GXnB"),o=n("Ztfv");function a(e){return function(t,n,a){var s=new i.Metadata(r.NAMED_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}t.named=a},ZzG0:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return O}));var r=n("Qw5x");function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(r["a"])(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(l)throw a}}}}var o=n("tJVT"),a=n("uhBA"),s=n.n(a),l=n("LvDl"),u=n("imBb"),c=n.n(u),f=n("k/Of"),p=n("0lfv");class d{constructor(e,t){this.container=void 0,this.cursor=null,this.options=void 0,this.container=Object(p["n"])(e),this.options=t}setCursor(e){e!==this.cursor&&this.container&&(this.container.style.cursor=e?this.options[e]:"",this.cursor=e)}}var h=n("k1fw"),v=n("b5oN");n("Ut/D"),n("HRXO");class m{constructor(e,t){this.content="",this.tippy=void 0,this.scene=void 0,this.isMouseInner=!1,this.onMouseMove=()=>{this.isMouseInner=!0,this.checkTippyShow()},this.onMouseOut=()=>{this.isMouseInner=!1,this.checkTippyShow()},this.setContent=Object(l["debounce"])((e=>{this.content=null!==e&&void 0!==e?e:"",this.tippy.setContent(null!==e&&void 0!==e?e:""),this.checkTippyShow()}),16,{maxWait:16}),this.tippy=Object(v["a"])(Object(p["n"])(e),Object(h["a"])(Object(h["a"])({},f["i"]),t)),this.tippy.hide(),this.scene=e,e.on(f["p"].Mousemove,this.onMouseMove),e.on(f["p"].Mouseout,this.onMouseOut)}getContent(){return this.content}checkTippyShow(){this.content&&this.isMouseInner?this.tippy.show():this.tippy.hide()}destroy(){this.scene.off(f["p"].Mousemove,this.onMouseMove),this.scene.off(f["p"].Mouseout,this.onMouseOut),this.tippy.destroy()}}var g=n("cgDF"),y=n("og4C");class b extends s.a{get addable(){var e=this.getData(),t=this.options,n=t.multiple,r=t.maxCount,i=e.find((e=>e.properties.isDraw));return!(!this.enabled||!this.allowCreate)&&(!!(n&&r<=0||i)||!(!n&&this.addCount>=1)&&!(r>0&&e.length>=r))}constructor(e,t){super(),this.scene=void 0,this.source=void 0,this.render=void 0,this.cursor=void 0,this.options=void 0,this.enabled=!1,this.allowCreate=!1,this.sceneRender=void 0,this.mouseLngLat={lng:0,lat:0},this.popup=void 0,this.addCount=0,this.saveMouseLngLat=Object(l["debounce"])((e=>{this.mouseLngLat=Object(p["m"])(e)}),100,{maxWait:100}),this.saveHistory=Object(l["debounce"])((()=>{this.options.history&&this.source.saveHistory()}),100),this.bindThis(),this.scene=e,this.sceneRender=new g["f"](e),this.options=Object(l["merge"])({},this.getDefaultOptions(t),t),this.render=this.initRender(),this.source=new y["a"]({render:this.render,history:this.options.history||void 0}),this.cursor=new d(e,this.options.cursor);var n=this.options,r=n.initialData,i=n.popup;r&&this.setData(r),i&&(this.popup=new m(e,i instanceof Object?i:{})),this.saveHistory(),this.bindCommonEvent(),this.emit(f["l"].Init,this),this.bindEnableEvent()}getOptions(){return this.options}getEditItem(){return this.editItem}getDragItem(){return this.dragItem}setHelper(e){var t,n,r=this.options.helper;if(r){var i=null!==(t=e in r?r[e]:e)&&void 0!==t?t:null;null===(n=this.popup)||void 0===n||n.setContent(i)}}isEnable(){return this.enabled}bindThis(){this.initRender=this.initRender.bind(this),this.getData=this.getData.bind(this),this.setData=this.setData.bind(this),this.emitChangeEvent=this.emitChangeEvent.bind(this),this.saveHistory=this.saveHistory.bind(this),this.onSceneMouseMove=this.onSceneMouseMove.bind(this),this.revertHistory=this.revertHistory.bind(this),this.redoHistory=this.redoHistory.bind(this),this.removeActiveFeature=this.removeActiveFeature.bind(this),this.bindCommonEvent=this.bindCommonEvent.bind(this),this.bindEnableEvent=this.bindEnableEvent.bind(this),this.unbindEnableEvent=this.unbindEnableEvent.bind(this),this.setActiveFeature=this.setActiveFeature.bind(this)}bindCommonEvent(){this.on(f["l"].Add,this.emitChangeEvent),this.on(f["l"].Add,(()=>{this.addCount++})),this.on(f["l"].Edit,this.emitChangeEvent),this.on(f["l"].Remove,this.emitChangeEvent),this.on(f["l"].Clear,this.emitChangeEvent),this.on(f["l"].AddNode,this.saveHistory),this.on(f["l"].RemoveNode,this.emitChangeEvent)}bindEnableEvent(){this.unbindKeyboardEvent(),this.scene.setMapStatus({doubleClickZoom:!1}),this.scene.on(f["p"].Mousemove,this.saveMouseLngLat),this.bindKeyboardEvent()}unbindEnableEvent(){this.scene.setMapStatus({doubleClickZoom:!0}),this.scene.off(f["p"].Mousemove,this.saveMouseLngLat),this.unbindKeyboardEvent()}bindKeyboardEvent(){var e=this.options.keyboard||{},t=e.revert,n=e.redo,r=e.remove;r&&c.a.bind(r,this.removeActiveFeature),this.options.history&&(t&&c.a.bind(t,this.revertHistory),n&&c.a.bind(n,this.redoHistory))}unbindKeyboardEvent(){var e=this.options.keyboard||{},t=e.revert,n=e.redo,r=e.remove;r&&c.a.unbind(r),this.options.history&&(t&&c.a.unbind(t),n&&c.a.unbind(n))}emitChangeEvent(){this.emit(f["l"].Change,this.getData()),this.saveHistory()}revertHistory(){this.enabled&&this.options.history&&this.source.revertHistory()&&this.correctDrawItem()}redoHistory(){this.enabled&&this.options.history&&this.source.redoHistory()&&this.correctDrawItem()}getRenderLayers(){return Object(l["fromPairs"])(Object(l["toPairs"])(this.render).map((e=>{var t=Object(o["a"])(e,2),n=t[0],r=t[1];return[n,r.getLayers()]})))}getTargetFeature(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getData(),i=null;e&&(i=null!==(t=r.find((t=>{var n;return t.properties.id===("string"===typeof e?e:null===(n=e.properties)||void 0===n?void 0:n.id)})))&&void 0!==t?t:null,!i&&e instanceof Object&&(i=null!==(n=r.find((t=>Object(l["isEqual"])(e.geometry,t.geometry))))&&void 0!==n?n:null));return i}removeActiveFeature(){var e=this.getData().find((e=>{var t=e.properties,n=t.isActive,r=t.isDraw;return n||r}));return e&&this.removeFeature(e),e}removeFeature(e){var t=this.getData(),n=this.getTargetFeature(e);n&&(this.setData(t.filter((e=>!Object(p["q"])(n,e)))),this.emit(f["l"].Remove,e,this.getData()))}correctDrawItem(){var e=this.getData().find((e=>e.properties.isDraw));e&&this.onSceneMouseMove({type:"mousemove",lnglat:this.mouseLngLat,lngLat:this.mouseLngLat})}initRender(){var e,t={},n=this.getRenderTypes(),r=i(n);try{for(r.s();!(e=r.n()).done;){var o=e.value,a=f["n"][o],s=this.options.style[o];t[o]=new a(this.scene,{style:s})}}catch(l){r.e(l)}finally{r.f()}return t}getCommonOptions(e){return{initialData:[],autoActive:!0,cursor:Object(l["cloneDeep"])(f["d"]),editable:!0,style:Object(l["cloneDeep"])(f["k"]),multiple:!0,history:Object(l["cloneDeep"])(f["f"]),keyboard:Object(l["cloneDeep"])(f["g"]),popup:!0,helper:{},maxCount:-1}}setCursor(e){this.cursor.setCursor(e)}resetCursor(){this.setCursor(this.addable?"draw":null)}enable(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.allowCreate=e,this.addCount=0,this.enabled=!0,this.bindEnableEvent(),this.resetCursor(),this.setHelper(this.addable?"draw":null),setTimeout((()=>{this.emit(f["l"].Enable,this)}),0)}disable(){this.resetFeatures(),this.enabled=!1,this.setCursor(null),this.unbindEnableEvent(),this.addCount=0,this.setHelper(null),setTimeout((()=>{this.emit(f["l"].Disable,this)}),0)}clear(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.source.clear(),this.emit(f["l"].Clear,this),e&&this.disable()}show(){return Object.values(this.render).forEach((e=>{e.show()}))}hide(){return Object.values(this.render).forEach((e=>{e.hide()}))}destroy(){Object.values(this.render).forEach((e=>{e.destroy()})),Object.values(f["o"]).forEach((e=>{Object.values(this.render).forEach((t=>{t.removeAllListeners(e)})),this.sceneRender.removeAllListeners(e)})),setTimeout((()=>{Object.values(f["l"]).forEach((e=>{this.removeAllListeners(e)}))}),0),this.emit(f["l"].Destroy,this)}}var _=n("WVt+");class E extends b{get pointRender(){return this.render.point}get dragPoint(){return this.getPointData().find((e=>e.properties.isDrag))}get editPoint(){return this.getPointData().find((e=>e.properties.isActive))}getDragPoint(){return this.dragPoint}getEditPoint(){return this.editPoint}getPointData(){return this.source.getRenderData("point")}setPointData(e){return this.source.setRenderData("point",e)}bindPointRenderEvent(){var e,t,n,r,i,o;null===(e=this.pointRender)||void 0===e||e.on(f["o"].UnClick,this.onPointCreate.bind(this)),null===(t=this.pointRender)||void 0===t||t.on(f["o"].Mousemove,this.onPointMouseMove.bind(this)),null===(n=this.pointRender)||void 0===n||n.on(f["o"].Mouseout,this.onPointMouseOut.bind(this)),null===(r=this.pointRender)||void 0===r||r.on(f["o"].Dragstart,this.onPointDragStart.bind(this)),null===(i=this.pointRender)||void 0===i||i.on(f["o"].Dragging,this.onPointDragging.bind(this)),null===(o=this.pointRender)||void 0===o||o.on(f["o"].Dragend,this.onPointDragEnd.bind(this))}handleCreatePoint(e){var t=this.options,n=t.autoActive,r=t.editable,i=Object(p["e"])(e);return this.setPointData((e=>Object(p["t"])({target:i,data:[...e,i],targetHandler:e=>{e.properties=Object(h["a"])(Object(h["a"])({},e.properties),{},{isHover:r,isActive:n&&r})},otherHandler:e=>{e.properties=Object(h["a"])(Object(h["a"])({},e.properties),{},{isHover:!1,isActive:!1,isDrag:!1})}}))),i}handlePointHover(e){return this.setCursor("pointHover"),this.setPointData((t=>Object(p["t"])({target:e,data:t,targetHandler:e=>{e.properties.isHover=!0},otherHandler:e=>{e.properties.isHover=!1}}))),e}handlePointUnHover(e){return this.resetCursor(),this.setPointData((e=>e.map((e=>(e.properties.isHover=!1,e))))),e}handlePointDragStart(e){return this.setPointData((t=>Object(p["t"])({target:e,data:t,targetHandler:e=>{e.properties=Object(h["a"])(Object(h["a"])({},e.properties),{},{isDrag:!0,isActive:!0})},otherHandler:e=>{e.properties=Object(h["a"])(Object(h["a"])({},e.properties),{},{isDrag:!1,isActive:!1})}}))),this.scene.setMapStatus({dragEnable:!1}),this.setCursor("pointDrag"),e}handlePointDragging(e,t){return this.setPointData((n=>Object(p["t"])({target:e,data:n,targetHandler:e=>{e.geometry.coordinates=Object(p["s"])(t)}}))),this.scene.setMapStatus({dragEnable:!1}),this.setCursor("pointDrag"),e}handlePointDragEnd(e){return this.setPointData((t=>Object(p["t"])({target:e,data:t,targetHandler:e=>{e.properties.isDrag=!1}}))),this.scene.setMapStatus({dragEnable:!0}),this.setCursor("pointHover"),e}onPointCreate(e){return this.handleCreatePoint(Object(p["s"])(Object(p["m"])(e)))}onPointMouseMove(e){return this.handlePointHover(e.feature)}onPointMouseOut(e){return this.handlePointUnHover(e.feature)}onPointDragStart(e){if(this.options.editable)return this.handlePointDragStart(e.feature)}onPointDragging(e){var t=this.dragPoint;if(this.options.editable&&t)return this.handlePointDragging(t,Object(p["m"])(e))}onPointDragEnd(e){var t=this.dragPoint;if(this.options.editable&&t)return this.handlePointDragEnd(t)}enablePointRenderAction(){var e,t,n,r,i=this.options.editable;this.enabled&&(null===(t=this.pointRender)||void 0===t||t.enableCreate());(null===(e=this.pointRender)||void 0===e||e.enableClick(),i)&&(null===(n=this.pointRender)||void 0===n||n.enableHover(),null===(r=this.pointRender)||void 0===r||r.enableDrag())}disablePointRenderAction(){var e,t,n,r;null===(e=this.pointRender)||void 0===e||e.disableCreate(),null===(t=this.pointRender)||void 0===t||t.disableHover(),null===(n=this.pointRender)||void 0===n||n.disableDrag(),null===(r=this.pointRender)||void 0===r||r.disableClick()}}class x extends E{get midPointRender(){return this.render.midPoint}getCommonOptions(e){return Object(h["a"])(Object(h["a"])({},super.getCommonOptions(e)),{},{showMidPoint:!0})}bindMidPointRenderEvent(){var e,t,n;null===(e=this.midPointRender)||void 0===e||e.on(f["o"].Click,this.onMidPointClick.bind(this)),null===(t=this.midPointRender)||void 0===t||t.on(f["o"].Mousemove,this.onMidPointHover.bind(this)),null===(n=this.midPointRender)||void 0===n||n.on(f["o"].Mouseout,this.onMidPointUnHover.bind(this))}getMidPointData(){return this.source.getRenderData("midPoint")}setMidPointData(e){return this.source.setRenderData("midPoint",e)}getMidPointsByLine(e){var t=e.properties.nodes;if(!this.options.showMidPoint||t.length<2)return[];for(var n=[],r=0;r<t.length-1;r++){var i,o,a,s,l=Object(_["center"])(Object(_["featureCollection"])([t[r],t[r+1]]),{properties:{id:Object(p["p"])("midPoint"),startId:null!==(i=null===(o=t[r].properties)||void 0===o?void 0:o.id)&&void 0!==i?i:"",endId:null!==(a=null===(s=t[r+1].properties)||void 0===s?void 0:s.id)&&void 0!==a?a:""}});n.push(l)}return n}onMidPointHover(e){this.setCursor("pointHover")}onMidPointUnHover(e){this.resetCursor()}enableMidPointRenderAction(){var e,t;null===(e=this.midPointRender)||void 0===e||e.enableClick(),null===(t=this.midPointRender)||void 0===t||t.enableHover()}disableMidPointRenderAction(){var e,t;null===(e=this.midPointRender)||void 0===e||e.disableClick(),null===(t=this.midPointRender)||void 0===t||t.disableHover()}}var w=n("I5JD");class S extends x{constructor(){super(...arguments),this.previousPosition=[0,0]}get lineRender(){return this.render.line}get dragLine(){return this.getLineData().find((e=>e.properties.isDrag))}get drawLine(){return this.getLineData().find((e=>e.properties.isDraw))}get editLine(){return this.getLineData().find((e=>{var t=e.properties,n=t.isActive,r=t.isDraw;return!r&&n}))}getDragLine(){return this.dragLine}getDrawLine(){return this.drawLine}getEditLine(){return this.editLine}getDefaultOptions(e){var t=Object(h["a"])(Object(h["a"])({},this.getCommonOptions(e)),{},{showMidPoint:!0,distanceOptions:!1,helper:Object(l["cloneDeep"])(w["c"])});return e.distanceOptions&&(t.distanceOptions=Object(h["a"])(Object(h["a"])({},f["e"]),t.distanceOptions)),e.adsorbOptions&&(t.adsorbOptions=Object(h["a"])(Object(h["a"])({},f["b"]),t.adsorbOptions)),t}getAdsorbPosition(e){var t=this.options.adsorbOptions;if("boolean"===typeof t)return e;var n=this.scene,r=t.data,i=t.pointAdsorbPixel,o=t.lineAdsorbPixel,a=null,s=Object(p["g"])(r,this,e),l=s.points,u=s.lines;return l.length&&i>0&&(a=Object(p["i"])(e,l,t,n)),!a&&u.length&&o>0&&(a=Object(p["h"])(e,u,t,n)),a}bindSceneEvent(){this.sceneRender.on(f["o"].Mousemove,this.onSceneMouseMove.bind(this))}bindPointRenderEvent(){var e;super.bindPointRenderEvent(),null===(e=this.pointRender)||void 0===e||e.on(f["o"].Click,this.onPointClick.bind(this))}bindLineRenderEvent(){var e,t,n,r,i,o;null===(e=this.lineRender)||void 0===e||e.on(f["o"].UnClick,this.onLineUnClick.bind(this)),null===(t=this.lineRender)||void 0===t||t.on(f["o"].Mousemove,this.onLineMouseMove.bind(this)),null===(n=this.lineRender)||void 0===n||n.on(f["o"].Mouseout,this.onLineMouseOut.bind(this)),null===(r=this.lineRender)||void 0===r||r.on(f["o"].Dragstart,this.onLineDragStart.bind(this)),null===(i=this.lineRender)||void 0===i||i.on(f["o"].Dragging,this.onLineDragging.bind(this)),null===(o=this.lineRender)||void 0===o||o.on(f["o"].Dragend,this.onLineDragEnd.bind(this))}getDashLineDistanceTexts(e,t){var n=t.showTotalDistance,r=t.format,i=t.showDashDistance;return i?e.map((e=>Object(p["b"])(e,{showTotalDistance:n,format:r},{isActive:!0,type:"dash"}))).flat():[]}getLineDistanceTexts(e,t){var n=t.showTotalDistance,r=t.format,i=t.showWhen,o=[];if(i.includes("active")){var a=e.filter((e=>e.properties.isActive&&e.properties.nodes.length>1));o.push(...a.map((e=>Object(p["b"])(e,{showTotalDistance:n,format:r},{isActive:!0}))).flat())}if(i.includes("normal")){var s=e.filter((e=>!e.properties.isActive&&e.properties.nodes.length>1));o.push(...s.map((e=>Object(p["b"])(e,{showTotalDistance:n,format:r}))).flat())}return o}getDistanceTexts(){var e=this.options.distanceOptions;if(!e)return[];var t=[],n=e.showWhen,r=e.showDashDistance,i=e.format,o=e.showTotalDistance;return t.push(...this.getDashLineDistanceTexts(this.getDashLineData(),{showTotalDistance:!1,format:i,showDashDistance:r}),...this.getLineDistanceTexts(this.getLineData(),{showTotalDistance:o,format:i,showWhen:n})),t}getAllTexts(){return this.getDistanceTexts()}handleCreateLine(e){var t=Object(p["d"])([e],{isActive:!0,isDraw:!0});return this.setLineData((e=>Object(p["t"])({target:t,data:[...e,t],otherHandler:e=>{e.properties.isActive=!1}}))),this.setPointData([e]),this.setTextData(this.getAllTexts()),t}syncLineNodes(e,t){return e.properties.nodes=t,e.geometry.coordinates=Object(_["coordAll"])(Object(_["featureCollection"])(t)),this.setLineData((t=>t.map((t=>Object(p["q"])(t,e)?e:t)))),Object(p["q"])(this.editLine,e)&&this.setMidPointData(this.getMidPointsByLine(e)),this.setPointData(e.properties.nodes),this.setTextData(this.getAllTexts()),e}setActiveLine(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setLineData((n=>Object(p["t"])({target:e,data:n,targetHandler:e=>{e.properties=Object(h["a"])(Object(h["a"])({},e.properties),{},{isDraw:!1,isActive:!0,isDrag:!1,isHover:!1},t)},otherHandler:e=>{e.properties=Object(h["a"])(Object(h["a"])({},e.properties),{},{isDraw:!1,isActive:!1,isDrag:!1})}}))),this.setPointData(e.properties.nodes.map((e=>(e.properties=Object(h["a"])(Object(h["a"])({},e.properties),{},{isHover:!1,isActive:!1}),e)))),this.setMidPointData(this.getMidPointsByLine(e)),this.setDashLineData([]),this.setTextData(this.getAllTexts()),e}clearActiveLine(){this.source.setData({point:[],line:this.getLineData().map((e=>(e.properties=Object(h["a"])(Object(h["a"])({},e.properties),{},{isActive:!1,isHover:!1}),e))),midPoint:[],text:this.getAllTexts()})}handleLineUnClick(e){return this.clearActiveLine(),e}handleLineHover(e){if(!this.drawLine)return this.setCursor("lineHover"),this.setLineData((t=>Object(p["t"])({target:e,data:t,targetHandler:e=>{e.properties.isHover=!0},otherHandler:e=>{e.properties.isHover=!1}}))),e}handleLineUnHover(e){if(!this.drawLine)return this.resetCursor(),this.setLineData((e=>e.map((e=>(e.properties.isHover=!1,e))))),e}handleLineDragStart(e){return this.setActiveLine(e,{isDrag:!0,isActive:!0}),this.scene.setMapStatus({dragEnable:!1}),this.setCursor("lineDrag"),e}handleLineDragging(e,t){var n=t.lng,r=t.lat,i=e.properties.nodes,a=Object(o["a"])(this.previousPosition,2),s=a[0],l=a[1];return i.forEach((e=>{var t=e.geometry.coordinates;e.geometry.coordinates=[t[0]+n-s,t[1]+r-l]})),this.syncLineNodes(e,i),this.setActiveLine(e,{isDrag:!0}),this.setCursor("lineDrag"),this.previousPosition=[n,r],e}handleLineDragEnd(e){return e.properties.isDrag=!1,this.setLineData((e=>e)),this.scene.setMapStatus({dragEnable:!0}),e}resetAdsorbLngLat(e){if(this.options.adsorbOptions){var t=this.getAdsorbPosition(Object(p["s"])(Object(p["m"])(e)));return t&&Object(p["r"])(e,t),t}}onPointCreate(e){if(!this.editLine){this.resetAdsorbLngLat(e);var t=super.onPointCreate(e),n=this.drawLine;if(t)return n?(this.syncLineNodes(n,[...n.properties.nodes,t]),this.setDashLineData([])):this.handleCreateLine(t),t}}onPointDragStart(e){var t=this.editLine;if(t)return this.setHelper("pointDrag"),super.onPointDragStart(e)}onPointDragging(e){var t=super.onPointDragging(e);if(t){var n=this.resetAdsorbLngLat(e);n&&(t.geometry.coordinates=Object(l["cloneDeep"])(n))}var r=this.editLine;return r&&t&&(this.syncLineNodes(r,r.properties.nodes.map((e=>Object(p["q"])(t,e)?t:e))),this.setActiveLine(r)),t}onPointDragEnd(e){var t=this.editLine;if(t){var n=super.onPointDragEnd(e);return this.setPointData((e=>e.map((e=>(e.properties.isActive=!1,e))))),this.setHelper("pointHover"),n}}onLineUnClick(e){var t=this.editLine;if(t)return this.handleLineUnClick(t)}onLineMouseMove(e){if(!this.drawLine)return this.dragLine||this.drawLine||!this.options.editable||this.setHelper("lineHover"),this.handleLineHover(e.feature)}onLineMouseOut(e){if(!this.drawLine)return this.dragLine||this.drawLine||this.setHelper(this.addable?"draw":null),this.handleLineUnHover(e.feature)}onLineDragStart(e){if(this.options.editable&&!this.drawLine)return this.previousPosition=Object(p["o"])(e),this.setHelper("lineDrag"),this.handleLineDragStart(e.feature)}onLineDragging(e){var t=this.dragLine;if(t)return this.handleLineDragging(t,Object(p["m"])(e))}onLineDragEnd(e){var t=this.dragLine;if(t)return this.setHelper("lineHover"),this.handleLineDragEnd(t)}onPointMouseMove(e){var t=super.onPointMouseMove(e);return this.dragLine||this.drawLine||this.dragPoint||this.setHelper("pointHover"),t}onPointMouseOut(e){var t=super.onPointMouseOut(e);return this.dragLine||this.drawLine||this.dragPoint||this.setHelper(this.addable?"draw":null),t}onMidPointHover(e){super.onMidPointHover(e),this.setHelper("midPointHover")}onMidPointUnHover(e){super.onMidPointUnHover(e),this.setHelper(null)}onPointClick(e){}getLineData(){return this.source.getRenderData("line")}setLineData(e){return this.source.setRenderData("line",e)}getTextData(){return this.source.getRenderData("text")}setTextData(e){return this.source.setRenderData("text",e)}getDashLineData(){return this.source.getRenderData("dashLine")}setDashLineData(e){return this.source.setRenderData("dashLine",e)}onMidPointClick(e){var t=this.editLine,n=e.feature;if(t&&n&&!this.dragPoint){var r=t.properties.nodes,i=n.properties,o=i.startId,a=i.endId,s=r.findIndex((e=>e.properties.id===o)),l=r.findIndex((e=>e.properties.id===a));if(s>-1&&l>-1){var u=Object(p["e"])(n.geometry.coordinates,{isDrag:!0,isHover:!0});return this.setHelper("pointDrag"),r.splice(l,0,u),t.geometry.coordinates=Object(_["coordAll"])(Object(_["featureCollection"])(r)),this.syncLineNodes(t,r),this.setActiveLine(t),u}}}enableSceneRenderAction(){this.sceneRender.enableDrag(),this.sceneRender.enableMouseMove(),this.sceneRender.enableDblClick()}disableSceneRenderAction(){this.sceneRender.disableDrag(),this.sceneRender.disableMouseMove(),this.sceneRender.disableDblClick()}enableLineRenderAction(){var e,t,n,r=this.options.editable;(null===(e=this.lineRender)||void 0===e||e.enableUnClick(),r)&&(null===(t=this.lineRender)||void 0===t||t.enableHover(),null===(n=this.lineRender)||void 0===n||n.enableDrag())}disableLineRenderAction(){var e,t,n;null===(e=this.lineRender)||void 0===e||e.disableUnClick(),null===(t=this.lineRender)||void 0===t||t.disableHover(),null===(n=this.lineRender)||void 0===n||n.disableDrag()}}class O extends S{get dragItem(){return this.dragPolygon}get editItem(){return this.editPolygon}get polygonRender(){return this.render.polygon}get dragPolygon(){return this.getPolygonData().find((e=>e.properties.isDrag))}get drawPolygon(){return this.getPolygonData().find((e=>e.properties.isDraw))}get editPolygon(){return this.getPolygonData().find((e=>{var t=e.properties,n=t.isActive,r=t.isDraw;return!r&&n}))}getDragPolygon(){return this.dragPolygon}getDrawPolygon(){return this.drawPolygon}getEditPolygon(){return this.editPolygon}getRenderTypes(){return["polygon","line","dashLine","midPoint","point","text"]}getData(){return this.getPolygonData()}getDefaultOptions(e){var t=Object(h["a"])(Object(h["a"])({},super.getDefaultOptions(e)),{},{areaOptions:!1,helper:Object(l["cloneDeep"])(w["e"])});return e.areaOptions&&(t.areaOptions=Object(h["a"])(Object(h["a"])({},f["c"]),e.areaOptions)),t}getAreaTexts(e){var t=this.options.areaOptions;if(!t)return[];var n=t.format,r=t.showWhen,i=[],o=e.filter((e=>e.geometry.coordinates[0].length>=4));return r.includes("active")&&o.filter((e=>e.properties.isActive)).forEach((e=>{i.push(Object(p["a"])(e,{format:n},{isActive:!0}))})),r.includes("normal")&&o.filter((e=>!e.properties.isActive)).forEach((e=>{i.push(Object(p["a"])(e,{format:n},{isActive:!1}))})),i}getAllTexts(){return[...super.getAllTexts(),...this.getAreaTexts(this.getPolygonData())]}getPolygonData(){return this.source.getRenderData("polygon")}setPolygonData(e){return this.source.setRenderData("polygon",e)}handleCreatePolygon(e,t){var n=Object(p["f"])(e,{nodes:e,line:t,isActive:!0,isDraw:!0});return this.setPolygonData((e=>Object(p["t"])({target:n,data:[...e,n],otherHandler:e=>{e.properties.isActive=!1}}))),n}handlePolygonUnClick(e){return this.clearActivePolygon(),e}handlePolygonHover(e){return this.setCursor("polygonHover"),this.setPolygonData((t=>Object(p["t"])({target:e,data:t,targetHandler:e=>{e.properties.isHover=!0},otherHandler:e=>{e.properties.isHover=!1}}))),e}handlePolygonUnHover(){this.resetCursor(),this.setPolygonData((e=>e.map((e=>(e.properties.isHover=!1,e)))))}handlePolygonDragStart(e){return this.setActivePolygon(e,{isDrag:!0}),this.scene.setMapStatus({dragEnable:!1}),this.setCursor("polygonDrag"),e}bindPolygonRenderEvent(){var e,t,n,r;null===(e=this.polygonRender)||void 0===e||e.on(f["o"].UnClick,this.onPolygonUnClick.bind(this)),null===(t=this.polygonRender)||void 0===t||t.on(f["o"].Mousemove,this.onPolygonHover.bind(this)),null===(n=this.polygonRender)||void 0===n||n.on(f["o"].Mouseout,this.onPolygonUnHover.bind(this)),null===(r=this.polygonRender)||void 0===r||r.on(f["o"].Dragstart,this.onPolygonDragStart.bind(this))}syncPolygonNodes(e,t){var n=Object(_["coordAll"])(Object(_["featureCollection"])([...t,Object(l["first"])(t)])),r=e.properties,i=(r.isDraw,r.line);if(e.properties.nodes=t,e.geometry.coordinates=[Object(_["booleanClockwise"])(Object(_["lineString"])(n))?n:n.reverse()],this.setPolygonData((t=>t.map((t=>Object(p["q"])(t,e)?e:t)))),!Object(p["q"])(this.drawPolygon,e)){var o=i.properties.nodes,a=[...t],s=Object(l["first"])(a);o.length===t.length?a.push(Object(p["e"])(s.geometry.coordinates)):a.push(Object(l["last"])(o));var u=Object(l["last"])(a);Object(l["isEqual"])(s.geometry.coordinates,u.geometry.coordinates)||(u.geometry.coordinates=Object(l["cloneDeep"])(s.geometry.coordinates)),this.syncLineNodes(i,a)}return e}setActivePolygon(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setActiveLine(e.properties.line,t),this.setPolygonData((n=>Object(p["t"])({target:e,data:n,targetHandler:e=>{e.properties=Object(h["a"])(Object(h["a"])({},e.properties),{},{isDraw:!1,isActive:!0,isDrag:!1,isHover:!1},t)},otherHandler:e=>{e.properties=Object(h["a"])(Object(h["a"])({},e.properties),{},{isDraw:!1,isActive:!1,isDrag:!1})}}))),this.setTextData(this.getAllTexts()),e}clearActivePolygon(){this.setPolygonData((e=>e.map((e=>(e.properties=Object(h["a"])(Object(h["a"])({},e.properties),{},{isActive:!1,isHover:!1}),e))))),this.clearActiveLine()}onLineDragStart(e){var t=super.onLineDragStart(e),n=this.getPolygonData().find((e=>Object(p["q"])(e.properties.line,t)));return n&&(this.setActivePolygon(n,{isDrag:!0}),this.emit(f["l"].DragStart,n,this.getPolygonData())),t}onLineUnClick(e){return this.editLine}onLineDragEnd(e){var t=super.onLineDragEnd(e),n=this.dragPolygon;return t&&n&&(n.properties.isDrag=!1,this.emit(f["l"].DragEnd,n,this.getPolygonData()),this.emit(f["l"].Edit,n,this.getPolygonData())),t}onPolygonUnClick(e){var t=this.editPolygon;if(t)return this.handlePolygonUnClick(t)}onPolygonHover(e){if(!this.drawPolygon)return this.dragPolygon||this.setHelper("polygonHover"),this.handlePolygonHover(e.feature)}onPolygonUnHover(e){if(!this.drawPolygon)return this.setHelper(this.addable?"draw":null),this.handlePolygonUnHover()}onPolygonDragStart(e){if(this.options.editable&&!this.drawPolygon){var t=e.feature;return this.previousPosition=Object(p["o"])(e),this.setHelper("polygonDrag"),this.emit(f["l"].DragStart,t,this.getPolygonData()),this.handlePolygonDragStart(t)}}onMidPointClick(e){var t=this.editPolygon,n=super.onMidPointClick(e);if(n&&t){var r=t.properties.line.properties.nodes;this.syncPolygonNodes(t,r.slice(0,r.length-1)),this.setActivePolygon(t)}return n}onPointDragEnd(e){var t=this.editPolygon,n=super.onPointDragEnd(e);return n&&t&&this.emit(f["l"].Edit,t,this.getPolygonData()),n}enablePolygonRenderAction(){var e,t,n,r=this.options.editable;(null===(e=this.polygonRender)||void 0===e||e.enableUnClick(),r)&&(null===(t=this.polygonRender)||void 0===t||t.enableHover(),null===(n=this.polygonRender)||void 0===n||n.enableDrag())}disablePolygonRenderAction(){var e,t,n;null===(e=this.polygonRender)||void 0===e||e.disableUnClick(),null===(t=this.polygonRender)||void 0===t||t.disableHover(),null===(n=this.polygonRender)||void 0===n||n.disableDrag()}bindEnableEvent(){super.bindEnableEvent(),this.enableSceneRenderAction(),this.enablePointRenderAction(),this.enableLineRenderAction(),this.enableMidPointRenderAction(),this.enablePolygonRenderAction()}unbindEnableEvent(){super.unbindEnableEvent(),this.disableSceneRenderAction(),this.disablePointRenderAction(),this.disableLineRenderAction(),this.disableMidPointRenderAction(),this.disablePolygonRenderAction()}bindThis(){super.bindThis(),this.bindPointRenderEvent=this.bindPointRenderEvent.bind(this),this.bindSceneEvent=this.bindSceneEvent.bind(this),this.bindLineRenderEvent=this.bindLineRenderEvent.bind(this),this.bindMidPointRenderEvent=this.bindMidPointRenderEvent.bind(this),this.bindPolygonRenderEvent=this.bindPolygonRenderEvent.bind(this)}setActiveFeature(e){var t=this.getTargetFeature(e);t?this.setActivePolygon(t):this.clearActivePolygon()}resetFeatures(){var e=this.getPolygonData();this.drawPolygon&&(e=e.filter((e=>!e.properties.isDraw)),this.source.setData({point:[],dashLine:[],midPoint:[]}),this.setLineData((e=>e.filter((e=>!e.properties.isDraw)))),this.setTextData((e=>e.filter((e=>!e.properties.isActive))))),this.editPolygon&&this.handlePolygonUnClick(this.editPolygon),this.setPolygonData(e.map((e=>(e.properties=Object(h["a"])(Object(h["a"])({},e.properties),{},{isDrag:!1,isActive:!1,isHover:!1}),e))))}}class C extends O{constructor(e,t){super(e,t),this.onSceneDragStart=this.onSceneDragStart.bind(this),this.onSceneDragEnd=this.onSceneDragEnd.bind(this)}get drawLine(){var e;return null===(e=this.drawPolygon)||void 0===e?void 0:e.properties.line}get isDragTrigger(){return"drag"===this.options.trigger}get isClickTrigger(){return"click"===this.options.trigger}getDefaultOptions(e){var t=Object(h["a"])(Object(h["a"])({},super.getDefaultOptions(e)),{},{showMidPoint:!1,trigger:"click",autoActive:!1,helper:Object(l["cloneDeep"])(w["b"])});return"drag"===e.trigger&&(t.helper=Object(h["a"])(Object(h["a"])({},t.helper),w["g"])),t}getMidPointsByLine(e){return[]}handleCreatePolygon(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.properties.nodes;return Object(p["f"])(r.slice(0,r.length-1),Object(h["a"])({nodes:e,line:t},n))}handleFirstNodeCreate(e){var t=Object(p["e"])(e.geometry.coordinates),n=this.handleCreatePolygonLine(e,t,{isDraw:!0,isActive:!0}),r=this.handleCreatePolygon([e,t],n,{isDraw:!0,isActive:!0});return this.setPolygonData((e=>Object(p["t"])({target:r,data:[...e,r],targetHandler:e=>{e.properties=Object(h["a"])(Object(h["a"])({},e.properties),{},{isDraw:!0,isActive:!0})}}))),this.emit(f["l"].AddNode,e,this.drawPolygon,this.getPolygonData()),this.setHelper("drawFinish"),e}handleLastNodeCreate(e){var t=this.options,n=t.autoActive,r=t.editable,i=this.drawPolygon;return i?(this.setLineData((e=>[...e,i.properties.line])),this.setActivePolygon(i),n&&r||this.handlePolygonUnClick(i),this.emit(f["l"].Add,i,this.getPolygonData()),this.emit(f["l"].AddNode,i.properties.nodes[1],this.drawPolygon,this.getPolygonData()),r?this.setHelper(n?"pointHover":"polygonHover"):this.setHelper(this.addable?"draw":null),e):e}onPointCreate(e){if(this.addable&&!this.dragPoint&&!this.editLine&&this.isClickTrigger){var t=this.drawPolygon,n=Object(p["o"])(e),r=this.handleCreatePoint(n);return t?requestAnimationFrame((()=>{this.handleLastNodeCreate(r)})):this.handleFirstNodeCreate(r),r}}setActivePolygon(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setActiveLine(e.properties.line,t),this.setPolygonData((n=>Object(p["t"])({target:e,data:n,targetHandler:e=>{e.properties=Object(h["a"])(Object(h["a"])({},e.properties),{},{isDraw:!1,isActive:!0,isDrag:!1,isHover:!1},t)},otherHandler:e=>{e.properties=Object(h["a"])(Object(h["a"])({},e.properties),{},{isDraw:!1,isActive:!1,isDrag:!1})}}))),this.setPointData(e.properties.nodes),this.setDashLineData([]);var n=this.getAllTexts();return this.setTextData(n),e}onPointDragging(e){var t=this.dragPoint;if(t){var n=this.handlePointDragging(t,Object(p["m"])(e)),r=this.editPolygon;return n&&r&&(this.syncPolygonNodes(r,r.properties.nodes.map((e=>Object(p["q"])(e,n)?n:e))),this.setActivePolygon(r)),n}}onSceneDragStart(e){this.isDragTrigger&&this.addable&&!this.dragPoint&&!this.editLine&&(this.scene.setMapStatus({dragEnable:!1}),this.handleFirstNodeCreate(this.handleCreatePoint(Object(p["o"])(e))))}onSceneDragEnd(e){this.isDragTrigger&&this.addable&&!this.dragPoint&&!this.editLine&&this.drawPolygon&&(this.scene.setMapStatus({dragEnable:!1}),this.handleLastNodeCreate(this.handleCreatePoint(Object(p["o"])(e))))}onSceneMouseMove(e){var t=this.drawPolygon;if(t){var n=t.properties.nodes,r=Object(l["first"])(n),i=Object(l["last"])(n);i.geometry.coordinates=Object(p["o"])(e),this.syncPolygonNodes(t,[r,i]),this.setDashLineData([t.properties.line]),this.setTextData(this.getAllTexts()),this.resetCursor()}}bindSceneDragEvent(){this.unbindSceneDragEvent(),this.sceneRender.on(f["o"].Dragstart,this.onSceneDragStart),this.sceneRender.on(f["o"].Dragend,this.onSceneDragEnd),this.scene.setMapStatus({dragEnable:!1})}unbindSceneDragEvent(){this.sceneRender.off(f["o"].Dragstart,this.onSceneDragStart),this.sceneRender.off(f["o"].Dragend,this.onSceneDragEnd),this.scene.setMapStatus({dragEnable:!0})}bindEnableEvent(){super.bindEnableEvent(),this.isDragTrigger&&this.bindSceneDragEvent()}unbindEnableEvent(){super.unbindEnableEvent(),this.isDragTrigger&&this.unbindSceneDragEvent()}bindThis(){super.bindThis(),this.onSceneDragStart=this.onSceneDragStart.bind(this),this.onSceneDragEnd=this.onSceneDragEnd.bind(this)}}},a1gu:function(e,t,n){var r=n("cDf5")["default"],i=n("PJYZ");function o(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)}e.exports=o,e.exports.__esModule=!0,e.exports["default"]=e.exports},a3WO:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},"a5/B":function(e,t,n){var r=n("I+eb");r({target:"Math",stat:!0},{umulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>>16,l=i>>>16,u=(s*a>>>0)+(o*a>>>16);return s*l+(u>>>16)+((o*l>>>0)+(u&n)>>>16)}})},a57n:function(e,t,n){var r=n("dG/n");r("search")},aCEM:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("LvDl"),l=n("q1tI"),u=n.n(l),c=n("CRWo"),f=String(Math.random()),p=()=>{var e=Object(l["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(l["useEffect"])((()=>{var e=new i["f"]({id:f,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})}),t=Object(s["cloneDeep"])(c["a"]);t[0].properties&&(t[0].properties.isActive=!0),e.on("loaded",(()=>{var r=new o["DrawPolygon"](e,{showMidPoint:!1,initialData:t});n(r),r.enable()}))}),[]),u.a.createElement("div",null,u.a.createElement("div",{id:f,style:{height:400,position:"relative"}}))};t["default"]=p},aMaL:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["rect-autoactive"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["rect-autoactive"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},aPG5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n("MON2"),i=n("FV85"),o=n("qK8v"),a=n("ujMp"),s=n("cSJO"),l=function(e,t,n){try{return n()}catch(i){throw o.isStackOverflowExeption(i)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):i}},u=function e(t){return function(n){n.parentContext.setCurrentRequest(n);var o=n.bindings,u=n.childRequests,c=n.target&&n.target.isArray(),f=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(c&&f)return u.map((function(n){var r=e(t);return r(n)}));var p=null;if(!n.target.isOptional()||0!==o.length){var d=o[0],h=d.scope===i.BindingScopeEnum.Singleton,v=d.scope===i.BindingScopeEnum.Request;if(h&&d.activated)return d.cache;if(v&&null!==t&&t.has(d.id))return t.get(d.id);if(d.type===i.BindingTypeEnum.ConstantValue)p=d.cache,d.activated=!0;else if(d.type===i.BindingTypeEnum.Function)p=d.cache,d.activated=!0;else if(d.type===i.BindingTypeEnum.Constructor)p=d.implementationType;else if(d.type===i.BindingTypeEnum.DynamicValue&&null!==d.dynamicValue)p=l("toDynamicValue",d.serviceIdentifier,(function(){return d.dynamicValue(n.parentContext)}));else if(d.type===i.BindingTypeEnum.Factory&&null!==d.factory)p=l("toFactory",d.serviceIdentifier,(function(){return d.factory(n.parentContext)}));else if(d.type===i.BindingTypeEnum.Provider&&null!==d.provider)p=l("toProvider",d.serviceIdentifier,(function(){return d.provider(n.parentContext)}));else{if(d.type!==i.BindingTypeEnum.Instance||null===d.implementationType){var m=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+m)}p=s.resolveInstance(d.implementationType,u,e(t))}return"function"===typeof d.onActivation&&(p=d.onActivation(n.parentContext,p)),h&&(d.cache=p,d.activated=!0),v&&null!==t&&!t.has(d.id)&&t.set(d.id,p),p}}};function c(e){var t=u(e.plan.rootRequest.requestScope);return t(e.plan.rootRequest)}t.resolve=c},aaW0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var r=a(n("q1tI")),i=a(n("TSYQ")),o=n("x9Za");function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function m(e){var t=b();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var E=function(e){var t;return t=e.infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,t},x=function(e){h(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n,[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e=this.props,t=e.onMouseEnter,n=e.onMouseOver,a=e.onMouseLeave,s=e.infinite,l=e.slidesToScroll,c=e.slidesToShow,f=e.slideCount,p=e.currentSlide,d=E({slideCount:f,slidesToScroll:l,slidesToShow:c,infinite:s}),h={onMouseEnter:t,onMouseOver:n,onMouseLeave:a},v=[],m=0;m<d;m++){var g=(m+1)*l-1,y=s?g:(0,o.clamp)(g,0,f-1),b=y-(l-1),_=s?b:(0,o.clamp)(b,0,f-1),x=(0,i["default"])({"slick-active":s?p>=_&&p<=y:p===_}),w={message:"dots",index:m,slidesToScroll:l,currentSlide:p},S=this.clickHandler.bind(this,w);v=v.concat(r["default"].createElement("li",{key:m,className:x},r["default"].cloneElement(this.props.customPaging(m),{onClick:S})))}return r["default"].cloneElement(this.props.appendDots(v),u({className:this.props.dotsClass},h))}}]),n}(r["default"].PureComponent);t.Dots=x},adU4:function(e,t,n){var r=n("y1pI"),i=Array.prototype,o=i.splice;function a(e){var t=this.__data__,n=r(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():o.call(t,n,1),--this.size,!0}e.exports=a},afA6:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.r(t);var i=n("q1tI"),o=n.n(i),a=n("q3YX"),s="import { Scene } from '@antv/l7';\nimport { DrawCircle } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [circleDrawer, setCircleDrawer] = useState<DrawCircle | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawCircle(scene, {\n        distanceOptions: {},\n        areaOptions: {},\n      });\n      setCircleDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",l="import { Scene } from '@antv/l7';\nimport { DrawCircle } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [circleDrawer, setCircleDrawer] = useState<DrawCircle | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawCircle(scene, {\n        autoActive: false,\n      });\n      setCircleDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",u="import { Scene } from '@antv/l7';\nimport { DrawCircle } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [circleDrawer, setCircleDrawer] = useState<DrawCircle | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawCircle(scene, {\n        trigger: 'drag',\n      });\n      setCircleDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",c="import { Scene } from '@antv/l7';\nimport { DrawCircle } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [circleDrawer, setCircleDrawer] = useState<DrawCircle | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawCircle(scene, {\n        editable: false,\n      });\n      setCircleDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",f="import { Scene } from '@antv/l7';\nimport { DrawCircle, DrawEvent } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [circleDrawer, setCircleDrawer] = useState<DrawCircle | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawCircle(scene, {});\n      setCircleDrawer(drawer);\n      drawer.enable();\n\n      // \u76d1\u542c\u6dfb\u52a0Polygon\u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.Add, (newPolygon, polygonList) => {\n        console.log('add', newPolygon, polygonList);\n      });\n\n      // \u76d1\u542c\u7f16\u8f91Polygon(\u62d6\u62fd\u7ed3\u675f)\u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.Edit, (editPolygon, polygonList) => {\n        console.log('edit', editPolygon, polygonList);\n      });\n\n      // \u76d1\u542c\u5220\u9664 Polygon \u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.Remove, (removePolygon, polygonList) => {\n        console.log('remove', removePolygon, polygonList);\n      });\n\n      // Polygon\u6570\u636e\u53d1\u751f\u53d8\u66f4\u65f6\u89e6\u53d1\uff0c\u7b49\u4ef7\u4e8e\u540c\u65f6\u76d1\u542cadd\u548cedit\u4e8b\u4ef6\n      drawer.on(DrawEvent.Change, (polygonList) => {\n        console.log('change', polygonList);\n      });\n\n      // \u62d6\u62fd\u5f00\u59cb\n      drawer.on(DrawEvent.DragStart, (editPolygon, polygonList) => {\n        console.log('dragStart', editPolygon, polygonList);\n      });\n\n      // \u62d6\u62fd\u4e2d\n      drawer.on(DrawEvent.Dragging, (editPolygon, polygonList) => {\n        console.log('dragging', editPolygon, polygonList);\n      });\n\n      // \u62d6\u62fd\u7ed3\u675f\n      drawer.on(DrawEvent.DragEnd, (editPolygon, polygonList) => {\n        console.log('dragEnd', editPolygon, polygonList);\n      });\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",p="import { Scene } from '@antv/l7';\nimport { DrawCircle, DrawEvent } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\nimport { circleList } from './mock';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [circleDrawer, setCircleDrawer] = useState<DrawCircle | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawCircle(scene, {\n        initialData: circleList,\n      });\n      setCircleDrawer(drawer);\n      drawer.enable();\n\n      // setTimeout(() => {\n      //   drawer.setData([\n      //     rectList[2]\n      //   ])\n      // }, 1000)\n\n      drawer.on(DrawEvent.Add, (e) => {});\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",d="import { Feature, Polygon } from '@turf/turf';\n\nexport const circleList: Feature<Polygon>[] = [\n  {\n    type: 'Feature',\n    id: 1574,\n    properties: {\n      _draw_type: 'circle',\n      _draw_prop_radius: 1087.5445566704695,\n      _draw_prop_center: '120.07206281,30.28979143',\n      _draw_prop_point: '120.0804299,30.28543638',\n      _draw_prop_seg: 90,\n    },\n    geometry: {\n      type: 'Polygon',\n      coordinates: [\n        [\n          [120.08183238897418, 30.289791429999987],\n          [120.08180859077082, 30.290379886111587],\n          [120.08173731210319, 30.290965471819636],\n          [120.08161890023376, 30.29154533428616],\n          [120.08145393205331, 30.292116648605727],\n          [120.08124321127022, 30.29267663156574],\n          [120.08098776449494, 30.293222555202526],\n          [120.0806888362385, 30.293751760087467],\n          [120.0803478828493, 30.294261668278498],\n          [120.079966565418, 30.29474979587396],\n          [120.0795467416848, 30.295213765107633],\n          [120.0790904569887, 30.295651315926307],\n          [120.07859993430287, 30.29606031699364],\n          [120.07807756340456, 30.296438776066587],\n          [120.07752588923228, 30.296784849694244],\n          [120.07694759948708, 30.29709685219187],\n          [120.07634551153855, 30.297373263846595],\n          [120.07572255869862, 30.29761273831475],\n          [120.0750817759309, 30.297814109175267],\n          [120.07442628506465, 30.29797639560688],\n          [120.07375927958546, 30.298098807162155],\n          [120.07308400907694, 30.298180747614456],\n          [120.0724037633892, 30.29822181785998],\n          [120.07172185661081, 30.29822181785998],\n          [120.07104161092306, 30.298180747614456],\n          [120.07036634041455, 30.298098807162155],\n          [120.06969933493535, 30.29797639560688],\n          [120.0690438440691, 30.297814109175267],\n          [120.06840306130138, 30.29761273831475],\n          [120.06778010846146, 30.297373263846595],\n          [120.06717802051293, 30.29709685219187],\n          [120.06659973076773, 30.296784849694244],\n          [120.06604805659543, 30.296438776066587],\n          [120.06552568569714, 30.29606031699364],\n          [120.06503516301132, 30.295651315926307],\n          [120.06457887831522, 30.295213765107633],\n          [120.064159054582, 30.29474979587396],\n          [120.0637777371507, 30.294261668278498],\n          [120.0634367837615, 30.293751760087467],\n          [120.06313785550506, 30.293222555202526],\n          [120.06288240872978, 30.29267663156574],\n          [120.06267168794669, 30.292116648605727],\n          [120.06250671976623, 30.29154533428616],\n          [120.06238830789681, 30.290965471819636],\n          [120.06231702922918, 30.290379886111587],\n          [120.06229323102582, 30.289791429999987],\n          [120.06231702922918, 30.28920297035815],\n          [120.06238830789681, 30.28861737412805],\n          [120.06250671976623, 30.28803749435252],\n          [120.06267168794669, 30.287466156273823],\n          [120.06288240872978, 30.286906143567037],\n          [120.06313785550506, 30.286360184774814],\n          [120.0634367837615, 30.285830940010058],\n          [120.0637777371507, 30.28532098799101],\n          [120.064159054582, 30.284832813472427],\n          [120.06457887831522, 30.284368795133815],\n          [120.06503516301132, 30.283931193984152],\n          [120.06552568569714, 30.283522142339407],\n          [120.06604805659543, 30.283143633427105],\n          [120.06659973076773, 30.282797511668164],\n          [120.06717802051293, 30.282485463684164],\n          [120.06778010846146, 30.28220901007333],\n          [120.06840306130138, 30.28196949799592],\n          [120.0690438440691, 30.281768094605084],\n          [120.06969933493535, 30.281605781355186],\n          [120.07036634041455, 30.281483349215705],\n          [120.07104161092306, 30.281401394813873],\n          [120.07172185661081, 30.28136031752505],\n          [120.0724037633892, 30.28136031752505],\n          [120.07308400907694, 30.281401394813873],\n          [120.07375927958546, 30.281483349215705],\n          [120.07442628506465, 30.281605781355186],\n          [120.0750817759309, 30.281768094605084],\n          [120.07572255869862, 30.28196949799592],\n          [120.07634551153855, 30.28220901007333],\n          [120.07694759948708, 30.282485463684164],\n          [120.07752588923228, 30.282797511668164],\n          [120.07807756340456, 30.283143633427105],\n          [120.07859993430287, 30.283522142339407],\n          [120.0790904569887, 30.283931193984152],\n          [120.0795467416848, 30.284368795133815],\n          [120.079966565418, 30.284832813472427],\n          [120.0803478828493, 30.28532098799101],\n          [120.0806888362385, 30.285830940010058],\n          [120.08098776449494, 30.286360184774814],\n          [120.08124321127022, 30.286906143567037],\n          [120.08145393205331, 30.287466156273823],\n          [120.08161890023376, 30.28803749435252],\n          [120.08173731210319, 30.28861737412805],\n          [120.08180859077082, 30.28920297035815],\n          [120.08183238897418, 30.289791429999987],\n        ],\n      ],\n    },\n    bbox: [\n      120.06229323102582, 30.28136031752505, 120.08183238897418,\n      30.29822181785998,\n    ],\n  },\n  {\n    type: 'Feature',\n    id: 1784,\n    properties: {\n      _draw_type: 'circle',\n      _draw_prop_radius: 1793.0130003743168,\n      _draw_prop_center: '120.09952772,30.28671722',\n      _draw_prop_point: '120.1148296,30.28237502',\n      _draw_prop_seg: 90,\n    },\n    geometry: {\n      type: 'Polygon',\n      coordinates: [\n        [\n          [120.1156346298286, 30.286717219999993],\n          [120.11559539420578, 30.287687424361284],\n          [120.11547787848937, 30.2886528924591],\n          [120.11528265520407, 30.28960892083843],\n          [120.11501067545817, 30.290550852168188],\n          [120.11466326430958, 30.291474097924624],\n          [120.11424211431057, 30.292374160737012],\n          [120.11374927726155, 30.293246656286858],\n          [120.11318715421508, 30.29408733465434],\n          [120.11255848377819, 30.2948921010081],\n          [120.11186632877, 30.29565703553788],\n          [120.11111406130017, 30.296378412533375],\n          [120.11030534634018, 30.297052718516586],\n          [120.109444123868, 30.297676669339623],\n          [120.108534589673, 30.298247226165312],\n          [120.10758117491429, 30.298761610252768],\n          [120.10658852453278, 30.29921731647661],\n          [120.10556147462134, 30.29961212551413],\n          [120.10450502886388, 30.299944114641345],\n          [120.10342433415796, 30.30021166708583],\n          [120.10232465553956, 30.30041347989095],\n          [120.10121135053235, 30.30054857025329],\n          [120.10008984304643, 30.300616280302886],\n          [120.09896559695353, 30.300616280302886],\n          [120.09784408946761, 30.30054857025329],\n          [120.09673078446039, 30.30041347989095],\n          [120.095631105842, 30.30021166708583],\n          [120.0945504111361, 30.299944114641345],\n          [120.09349396537863, 30.29961212551413],\n          [120.09246691546718, 30.29921731647661],\n          [120.09147426508568, 30.298761610252768],\n          [120.09052085032697, 30.298247226165312],\n          [120.08961131613195, 30.297676669339623],\n          [120.08875009365978, 30.297052718516586],\n          [120.08794137869981, 30.296378412533375],\n          [120.08718911122995, 30.29565703553788],\n          [120.08649695622178, 30.2948921010081],\n          [120.08586828578488, 30.29408733465434],\n          [120.08530616273842, 30.293246656286858],\n          [120.0848133256894, 30.292374160737012],\n          [120.08439217569035, 30.291474097924624],\n          [120.0840447645418, 30.290550852168188],\n          [120.08377278479588, 30.28960892083843],\n          [120.0835775615106, 30.2886528924591],\n          [120.08346004579418, 30.287687424361284],\n          [120.08342081017138, 30.286717219999993],\n          [120.08346004579418, 30.28574700604355],\n          [120.0835775615106, 30.284781509347003],\n          [120.08377278479588, 30.283825433922054],\n          [120.0840447645418, 30.282883438015443],\n          [120.08439217569035, 30.281960111407848],\n          [120.0848133256894, 30.28105995304367],\n          [120.08530616273842, 30.280187349101208],\n          [120.08586828578488, 30.27934655161002],\n          [120.08649695622178, 30.278541657720076],\n          [120.08718911122995, 30.27777658972398],\n          [120.08794137869981, 30.2770550759298],\n          [120.08875009365978, 30.276380632478183],\n          [120.08961131613195, 30.275756546192646],\n          [120.09052085032697, 30.27518585854704],\n          [120.09147426508568, 30.274671350828484],\n          [120.09246691546718, 30.274215530568682],\n          [120.09349396537863, 30.273820619309966],\n          [120.0945504111361, 30.2734885417659],\n          [120.095631105842, 30.273220916429846],\n          [120.09673078446039, 30.273019047677206],\n          [120.09784408946761, 30.272883919400346],\n          [120.09896559695353, 30.272816190207184],\n          [120.10008984304643, 30.272816190207184],\n          [120.10121135053235, 30.272883919400346],\n          [120.10232465553956, 30.273019047677206],\n          [120.10342433415796, 30.273220916429846],\n          [120.10450502886388, 30.2734885417659],\n          [120.10556147462134, 30.273820619309966],\n          [120.10658852453278, 30.274215530568682],\n          [120.10758117491429, 30.274671350828484],\n          [120.108534589673, 30.27518585854704],\n          [120.109444123868, 30.275756546192646],\n          [120.11030534634018, 30.276380632478183],\n          [120.11111406130017, 30.2770550759298],\n          [120.11186632877, 30.27777658972398],\n          [120.11255848377819, 30.278541657720076],\n          [120.11318715421508, 30.27934655161002],\n          [120.11374927726155, 30.280187349101208],\n          [120.11424211431057, 30.28105995304367],\n          [120.11466326430958, 30.281960111407848],\n          [120.11501067545817, 30.282883438015443],\n          [120.11528265520407, 30.283825433922054],\n          [120.11547787848937, 30.284781509347003],\n          [120.11559539420578, 30.28574700604355],\n          [120.1156346298286, 30.286717219999993],\n        ],\n      ],\n    },\n    bbox: [\n      120.08342081017138, 30.272816190207184, 120.1156346298286,\n      30.300616280302886,\n    ],\n  },\n  {\n    type: 'Feature',\n    id: 2044,\n    properties: {\n      _draw_type: 'circle',\n      _draw_prop_radius: 2112.148966097002,\n      _draw_prop_center: '120.12394648,30.30215329',\n      _draw_prop_point: '120.14006939,30.29351676',\n      _draw_prop_seg: 90,\n    },\n    geometry: {\n      type: 'Polygon',\n      coordinates: [\n        [\n          [120.14292023698583, 30.30215329],\n          [120.14287401786741, 30.303295998846618],\n          [120.14273558568712, 30.304433127308666],\n          [120.14250561487258, 30.305559135699898],\n          [120.14218522581851, 30.306668538696808],\n          [120.14177597942817, 30.307755932053308],\n          [120.1412798695088, 30.308816018916882],\n          [120.14069931305812, 30.30984363561846],\n          [120.14003713848875, 30.310833776810465],\n          [120.13929657184866, 30.311781619830942],\n          [120.13848122110407, 30.312682548175626],\n          [120.13759505856186, 30.31353217396398],\n          [120.13664240151682, 30.314326359290167],\n          [120.13562789121836, 30.315061236355525],\n          [120.13455647025863, 30.315733226284998],\n          [120.13343335849291, 30.316339056536343],\n          [120.13226402760877, 30.31687577681783],\n          [120.13105417446877, 30.31734077343739],\n          [120.12980969335575, 30.317731782013748],\n          [120.12853664725667, 30.318046898488127],\n          [120.12724123832409, 30.318284588383143],\n          [120.12592977766015, 30.31844369426431],\n          [120.12460865456936, 30.318523441367873],\n          [120.12328430543064, 30.318523441367873],\n          [120.12196318233985, 30.31844369426431],\n          [120.12065172167591, 30.318284588383143],\n          [120.11935631274334, 30.318046898488127],\n          [120.11808326664426, 30.317731782013748],\n          [120.11683878553123, 30.31734077343739],\n          [120.11562893239123, 30.31687577681783],\n          [120.1144596015071, 30.316339056536343],\n          [120.11333648974134, 30.315733226284998],\n          [120.11226506878164, 30.315061236355525],\n          [120.11125055848318, 30.314326359290167],\n          [120.11029790143814, 30.31353217396398],\n          [120.10941173889593, 30.312682548175626],\n          [120.10859638815134, 30.311781619830942],\n          [120.10785582151125, 30.310833776810465],\n          [120.10719364694188, 30.30984363561846],\n          [120.10661309049118, 30.308816018916882],\n          [120.10611698057183, 30.307755932053308],\n          [120.1057077341815, 30.306668538696808],\n          [120.10538734512743, 30.305559135699898],\n          [120.10515737431288, 30.304433127308666],\n          [120.10501894213259, 30.303295998846618],\n          [120.10497272301417, 30.30215329],\n          [120.10501894213259, 30.301010567834524],\n          [120.10515737431288, 30.29987339967521],\n          [120.10538734512743, 30.298747325980944],\n          [120.1057077341815, 30.297637833346272],\n          [120.10611698057183, 30.296550327761995],\n          [120.10661309049118, 30.295490108265003],\n          [120.10719364694188, 30.29446234110591],\n          [120.10785582151125, 30.29347203456081],\n          [120.10859638815134, 30.292524014510064],\n          [120.10941173889593, 30.291622900903615],\n          [120.11029790143814, 30.2907730852279],\n          [120.11125055848318, 30.289978709084718],\n          [120.11226506878164, 30.289243643986772],\n          [120.11333648974134, 30.28857147246894],\n          [120.1144596015071, 30.28796547060788],\n          [120.11562893239123, 30.287428592035504],\n          [120.11683878553123, 30.286963453524848],\n          [120.11808326664426, 30.286572322218923],\n          [120.11935631274334, 30.286257104565323],\n          [120.12065172167591, 30.28601933701073],\n          [120.12196318233985, 30.285860178501217],\n          [120.12328430543064, 30.285780404824898],\n          [120.12460865456936, 30.285780404824898],\n          [120.12592977766015, 30.285860178501217],\n          [120.12724123832409, 30.28601933701073],\n          [120.12853664725667, 30.286257104565323],\n          [120.12980969335575, 30.286572322218923],\n          [120.13105417446877, 30.286963453524848],\n          [120.13226402760877, 30.287428592035504],\n          [120.13343335849291, 30.28796547060788],\n          [120.13455647025863, 30.28857147246894],\n          [120.13562789121836, 30.289243643986772],\n          [120.13664240151682, 30.289978709084718],\n          [120.13759505856186, 30.2907730852279],\n          [120.13848122110407, 30.291622900903615],\n          [120.13929657184866, 30.292524014510064],\n          [120.14003713848875, 30.29347203456081],\n          [120.14069931305812, 30.29446234110591],\n          [120.1412798695088, 30.295490108265003],\n          [120.14177597942817, 30.296550327761995],\n          [120.14218522581851, 30.297637833346272],\n          [120.14250561487258, 30.298747325980944],\n          [120.14273558568712, 30.29987339967521],\n          [120.14287401786741, 30.301010567834524],\n          [120.14292023698583, 30.30215329],\n        ],\n      ],\n    },\n    bbox: [\n      120.10497272301417, 30.285780404824898, 120.14292023698583,\n      30.318523441367873,\n    ],\n  },\n  {\n    type: 'Feature',\n    id: 2244,\n    properties: {\n      _draw_type: 'circle',\n      _draw_prop_radius: 2359.004399186826,\n      _draw_prop_center: '120.16012825,30.28896587',\n      _draw_prop_point: '120.17687871,30.27775667',\n      _draw_prop_seg: 90,\n    },\n    geometry: {\n      type: 'Polygon',\n      coordinates: [\n        [\n          [120.18131954707093, 30.28896587],\n          [120.18126792613636, 30.29024230264147],\n          [120.18111331482456, 30.291512500142503],\n          [120.18085646638639, 30.29277027458932],\n          [120.18049863216154, 30.294009498825066],\n          [120.18004155548243, 30.295224136289114],\n          [120.1794874631807, 30.296408270410726],\n          [120.17883905473833, 30.297556133414094],\n          [120.1780994891361, 30.298662134394934],\n          [120.17727236946324, 30.29972088653216],\n          [120.17636172536368, 30.300727233302613],\n          [120.17537199340394, 30.30167627357177],\n          [120.17430799545862, 30.302563385438834],\n          [120.17317491521874, 30.30338424872044],\n          [120.17197827293741, 30.30413486596443],\n          [120.17072389853547, 30.304811581891627],\n          [120.16941790319892, 30.305411101171913],\n          [120.16806664960582, 30.305930504448273],\n          [120.16667672092777, 30.30636726253158],\n          [120.1652548887576, 30.30671924869738],\n          [120.16380808011876, 30.30698474902538],\n          [120.16234334371747, 30.307162470731505],\n          [120.16086781560223, 30.307251548452488],\n          [120.15938868439774, 30.307251548452488],\n          [120.15791315628253, 30.307162470731505],\n          [120.15644841988124, 30.30698474902538],\n          [120.1550016112424, 30.30671924869738],\n          [120.15357977907223, 30.30636726253158],\n          [120.15218985039418, 30.305930504448273],\n          [120.15083859680108, 30.305411101171913],\n          [120.1495326014645, 30.304811581891627],\n          [120.14827822706259, 30.30413486596443],\n          [120.14708158478123, 30.30338424872044],\n          [120.14594850454138, 30.302563385438834],\n          [120.14488450659606, 30.30167627357177],\n          [120.14389477463632, 30.300727233302613],\n          [120.14298413053676, 30.29972088653216],\n          [120.1421570108639, 30.298662134394934],\n          [120.14141744526167, 30.297556133414094],\n          [120.14076903681926, 30.296408270410726],\n          [120.14021494451755, 30.295224136289114],\n          [120.13975786783845, 30.294009498825066],\n          [120.13940003361361, 30.29277027458932],\n          [120.13914318517543, 30.291512500142503],\n          [120.13898857386364, 30.29024230264147],\n          [120.13893695292907, 30.28896587],\n          [120.13898857386364, 30.28768942074882],\n          [120.13914318517543, 30.286419173741972],\n          [120.13940003361361, 30.285161317856772],\n          [120.13975786783845, 30.283921981835203],\n          [120.14021494451755, 30.28270720441367],\n          [120.14076903681926, 30.28152290488703],\n          [120.14141744526167, 30.280374854250514],\n          [120.1421570108639, 30.27926864706046],\n          [120.14298413053676, 30.278209674151608],\n          [120.14389477463632, 30.277203096344174],\n          [120.14488450659606, 30.276253819269517],\n          [120.14594850454138, 30.275366469437643],\n          [120.14708158478123, 30.274545371663585],\n          [120.14827822706259, 30.273794527963656],\n          [120.1495326014645, 30.27311759802472],\n          [120.15083859680108, 30.27251788134239],\n          [120.15218985039418, 30.27199830111591],\n          [120.15357977907223, 30.271561389978547],\n          [120.1550016112424, 30.271209277633734],\n          [120.15644841988124, 30.27094368045773],\n          [120.15791315628253, 30.270765893119638],\n          [120.15938868439774, 30.27067678226016],\n          [120.16086781560223, 30.27067678226016],\n          [120.16234334371747, 30.270765893119638],\n          [120.16380808011876, 30.27094368045773],\n          [120.1652548887576, 30.271209277633734],\n          [120.16667672092777, 30.271561389978547],\n          [120.16806664960582, 30.27199830111591],\n          [120.16941790319892, 30.27251788134239],\n          [120.17072389853547, 30.27311759802472],\n          [120.17197827293741, 30.273794527963656],\n          [120.17317491521874, 30.274545371663585],\n          [120.17430799545862, 30.275366469437643],\n          [120.17537199340394, 30.276253819269517],\n          [120.17636172536368, 30.277203096344174],\n          [120.17727236946324, 30.278209674151608],\n          [120.1780994891361, 30.27926864706046],\n          [120.17883905473833, 30.280374854250514],\n          [120.1794874631807, 30.28152290488703],\n          [120.18004155548243, 30.28270720441367],\n          [120.18049863216154, 30.283921981835203],\n          [120.18085646638639, 30.285161317856772],\n          [120.18111331482456, 30.286419173741972],\n          [120.18126792613636, 30.28768942074882],\n          [120.18131954707093, 30.28896587],\n        ],\n      ],\n    },\n    bbox: [\n      120.13893695292907, 30.27067678226016, 120.18131954707093,\n      30.307251548452488,\n    ],\n  },\n];",h="import { Scene } from '@antv/l7';\nimport { DrawCircle } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [circleDrawer, setCircleDrawer] = useState<DrawCircle | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawCircle(scene, {\n        multiple: false,\n      });\n      setCircleDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",v="import { Scene } from '@antv/l7';\nimport { DrawCircle } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport { Button } from 'antd';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [circleDrawer, setCircleDrawer] = useState<DrawCircle | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawCircle(scene, {});\n      setCircleDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div style={{ padding: 8 }}>\n        <Button onClick={() => circleDrawer?.enable()}>\u542f\u7528</Button>\n        <Button onClick={() => circleDrawer?.disable()}>\u7981\u7528</Button>\n        <Button onClick={() => circleDrawer?.clear()}>\u6e05\u7a7a</Button>\n      </div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",m="import { Scene } from '@antv/l7';\nimport { DrawPolygon } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport { Button } from 'antd';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [polygonDrawer, setPolygonDrawer] = useState<DrawPolygon | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const container = document.createElement('div');\n      container.innerHTML = '<div style=\"color: #ffff00\">\u53cc\u51fb\u7ed3\u675f\u7ed8\u5236</div>';\n\n      // @ts-ignore\n      const drawer = new DrawPolygon(scene, {\n        // \u7ed8\u5236\u63d0\u793a\u6587\u6848\u914d\u7f6e\n        helper: {\n          // \u53ef\u4ee5\u66ff\u6362\u9ed8\u8ba4\u63d0\u793a\u6587\u6848\n          draw: '\u7ed8\u5236\u7b2c\u4e00\u4e2a\u8282\u70b9',\n          drawContinue: '\u7ee7\u7eed\u7ed8\u5236\u8282\u70b9',\n\n          // \u53ef\u4ee5\u63d2\u5165 DOM \u5143\u7d20\n          drawFinish: container.firstElementChild ?? undefined,\n        },\n        // \u5f39\u6846\u76f8\u5173\u914d\u7f6e\n        popup: {\n          theme: 'dark',\n        },\n\n        // \u5173\u95ed\u7ed8\u5236\u63d0\u793a\n        // helper: false,\n      });\n      setPolygonDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div style={{ padding: 8 }}>\n        <Button\n          onClick={() => {\n            // \u652f\u6301\u4f7f\u7528 setHelper \u65b9\u6848\u66ff\u6362\u7ed8\u5236\n            polygonDrawer?.setHelper('L7Draw No.1');\n          }}\n        >\n          \u66ff\u6362\u7ed8\u5236\u6587\u6848\n        </Button>\n      </div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",g="import { Scene } from '@antv/l7';\nimport { DrawControl } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\nimport { Button } from 'antd';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [scene, setScene] = useState<Scene | null>(null);\n  const [drawControl, setDrawControl] = useState<DrawControl | null>(null);\n\n  useEffect(() => {\n    const newScene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    newScene.on('loaded', () => {\n      setScene(newScene);\n    });\n  }, []);\n\n  /**\n   * \u6dfb\u52a0 DrawControl\n   */\n  const onAdd = () => {\n    if (!scene) {\n      return;\n    }\n    // \u5b9e\u4f8b\u5316 DrawControl\n    const newDrawControl = new DrawControl(scene, {});\n    // \u5c06 Control \u6dfb\u52a0\u81f3\u5730\u56fe\u4e2d\n    scene.addControl(newDrawControl);\n    setDrawControl(newDrawControl);\n  };\n\n  /**\n   * \u79fb\u9664 DrawControl\n   */\n  const onRemove = () => {\n    if (!scene || !drawControl) {\n      return;\n    }\n    scene.removeControl(drawControl);\n  };\n\n  return (\n    <div>\n      <div style={{ marginBottom: 6 }}>\n        <Button style={{ marginRight: 6 }} onClick={onAdd}>\n          \u6dfb\u52a0 Control\n        </Button>\n        <Button onClick={onRemove}>\u79fb\u9664 Control</Button>\n      </div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",y="import { Scene } from '@antv/l7';\nimport { DrawControl } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\nimport { ControlEvent } from '../../../src';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  // const [circleDrawer, setCircleDrawer] = useState<DrawCircle | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const overwriteStyle = {\n        color: '#a03dff',\n      };\n      // \u5b9e\u4f8b\u5316 DrawControl\n      const drawControl = new DrawControl(scene, {\n        // \u652f\u6301\u4f20\u5165\u6240\u6709 Draw \u7684\u901a\u7528\u914d\u7f6e\uff0c\u4f1a\u5728\u5404\u4e2a Draw \u5b9e\u4f8b\u5316\u65f6\u4f20\u5165\n        commonDrawOptions: {\n          editable: false,\n          style: {\n            point: {\n              normal: overwriteStyle,\n              hover: overwriteStyle,\n              active: overwriteStyle,\n            },\n            line: {\n              normal: overwriteStyle,\n              hover: overwriteStyle,\n              active: overwriteStyle,\n            },\n            polygon: {\n              normal: overwriteStyle,\n              hover: overwriteStyle,\n              active: overwriteStyle,\n            },\n            midPoint: {\n              normal: overwriteStyle,\n            },\n            dashLine: {\n              normal: overwriteStyle,\n            },\n            text: {\n              normal: overwriteStyle,\n              active: overwriteStyle,\n            },\n          },\n        },\n      });\n\n      // \u5c06 Control \u6dfb\u52a0\u81f3\u5730\u56fe\u4e2d\n      scene.addControl(drawControl);\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",b="import { Scene } from '@antv/l7';\nimport { DrawControl } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  // const [circleDrawer, setCircleDrawer] = useState<DrawCircle | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      // \u5b9e\u4f8b\u5316 DrawControl\n      const drawControl = new DrawControl(scene, {\n        defaultActiveType: 'point',\n        drawConfig: {\n          // \u652f\u6301\u8bbe\u7f6e\u5c55\u793a\u7684\u7ed8\u5236\u6309\u94ae\uff0c\u5e76\u4f20\u5165\u7ed8\u5236\u7c7b\u5b9e\u4f8b\u5316\u65f6\u7684 options\n          point: {\n            autoActive: false,\n            editable: false,\n            style: {\n              point: {\n                normal: {\n                  color: '#6F17FF',\n                },\n              },\n            },\n          },\n          clear: true,\n        },\n      });\n\n      // \u5c06 Control \u6dfb\u52a0\u81f3\u5730\u56fe\u4e2d\n      scene.addControl(drawControl);\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",_="import { Scene } from '@antv/l7';\nimport { DrawControl, ControlEvent } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  // const [circleDrawer, setCircleDrawer] = useState<DrawCircle | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      // \u5b9e\u4f8b\u5316 DrawControl\n      const drawControl = new DrawControl(scene, {\n        defaultActiveType: 'point',\n      });\n\n      // \u5c06 Control \u6dfb\u52a0\u81f3\u5730\u56fe\u4e2d\n      scene.addControl(drawControl);\n\n      drawControl.on(ControlEvent.DrawChange, (newType) => {\n        console.log('\u5f53\u524d\u6fc0\u6d3b\u7684\u7ed8\u5236\u53d1\u751f\u66f4\u6539', newType);\n      });\n\n      drawControl.on(ControlEvent.DataChange, (newData) => {\n        console.log('\u5f53\u524d\u7ed8\u5236\u6570\u636e\u53d1\u751f\u66f4\u6539', newData);\n      });\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",E="import { Scene } from '@antv/l7';\nimport { DrawControl } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  // const [circleDrawer, setCircleDrawer] = useState<DrawCircle | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      // \u5b9e\u4f8b\u5316 DrawControl\n      const drawControl = new DrawControl(scene, {\n        defaultActiveType: 'point',\n      });\n\n      // \u5c06 Control \u6dfb\u52a0\u81f3\u5730\u56fe\u4e2d\n      scene.addControl(drawControl);\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",x="import { Scene } from '@antv/l7';\nimport { DrawLine } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [lineDrawer, setLineDrawer] = useState<DrawLine | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawLine(scene, {\n        adsorbOptions: {},\n      });\n      setLineDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",w="import { Scene } from '@antv/l7';\nimport { DrawLine } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [lineDrawer, setLineDrawer] = useState<DrawLine | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawLine(scene, {\n        autoActive: false,\n      });\n      setLineDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",S="import { Scene } from '@antv/l7';\nimport { DrawLine } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [lineDrawer, setLineDrawer] = useState<DrawLine | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawLine(scene, {\n        distanceOptions: {},\n      });\n      setLineDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",O="import { Scene } from '@antv/l7';\nimport { DrawLine } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\nimport { lineList } from './mock';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [lineDrawer, setLineDrawer] = useState<DrawLine | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawLine(scene, {\n        editable: false, // \u7981\u7528\u7f16\u8f91\n        initialData: lineList,\n      });\n      setLineDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",C="import { Feature, LineString } from '@turf/turf';\n\nexport const lineList: Feature<LineString>[] = [\n  {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'LineString',\n      coordinates: [\n        [119.988511, 30.269614],\n        [119.9851, 30.269323],\n        [119.985438, 30.267852],\n        [119.990291, 30.267257],\n        [119.991454, 30.261762],\n        [119.994974, 30.256115],\n        [119.983641, 30.246146],\n        [119.985286, 30.241228],\n        [119.983351, 30.224089],\n        [119.985473, 30.221814],\n        [119.99271, 30.22088],\n      ],\n    },\n  },\n  {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'LineString',\n      coordinates: [\n        [120.075427, 30.147148],\n        [120.073659, 30.147609],\n        [120.074996, 30.154115],\n        [120.070946, 30.160916],\n        [120.074171, 30.161745],\n        [120.075425, 30.158086],\n        [120.081662, 30.159401],\n        [120.084335, 30.163868],\n        [120.112648, 30.17977],\n        [120.119262, 30.186753],\n        [120.137108, 30.198481],\n        [120.137962, 30.202496],\n        [120.135039, 30.208876],\n        [120.135625, 30.216541],\n        [120.138548, 30.225005],\n        [120.145412, 30.229088],\n        [120.155609, 30.230104],\n        [120.158572, 30.241788],\n        [120.160816, 30.245725],\n        [120.16441, 30.245929],\n        [120.164401, 30.247589],\n        [120.165608, 30.247515],\n        [120.166546, 30.254134],\n      ],\n    },\n  },\n  {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'LineString',\n      coordinates: [\n        [120.216401, 30.291456],\n        [120.217689, 30.289456],\n        [120.218912, 30.28995],\n        [120.216862, 30.292565],\n        [120.221055, 30.293611],\n        [120.221909, 30.291061],\n        [120.211464, 30.28603],\n        [120.207209, 30.278355],\n        [120.207448, 30.270482],\n        [120.199987, 30.270352],\n        [120.200252, 30.247617],\n        [120.210037, 30.243515],\n        [120.204483, 30.237082],\n        [120.224585, 30.222153],\n        [120.213219, 30.213984],\n        [120.216402, 30.20977],\n        [120.194058, 30.196853],\n        [120.17329, 30.188212],\n        [120.174223, 30.181411],\n        [120.16777, 30.181168],\n        [120.167244, 30.173706],\n        [120.147426, 30.172062],\n        [120.146042, 30.176801],\n        [120.135382, 30.17619],\n      ],\n    },\n  },\n];",A="import { Scene } from '@antv/l7';\nimport { DrawEvent, DrawLine } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [lineDrawer, setLineDrawer] = useState<DrawLine | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawLine(scene, {});\n      setLineDrawer(drawer);\n      drawer.enable();\n\n      // \u76d1\u542c\u6dfb\u52a0LineString\u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.Add, (newLine, lineList) => {\n        console.log('add', newLine, lineList);\n      });\n\n      // \u76d1\u542c\u7f16\u8f91LineString(\u62d6\u62fd\u7ed3\u675f)\u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.Edit, (editLine, lineList) => {\n        console.log('edit', editLine, lineList);\n      });\n\n      // \u76d1\u542c\u5220\u9664 LineString \u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.Remove, (removePolygon, polygonList) => {\n        console.log('remove', removePolygon, polygonList);\n      });\n\n      // \u76d1\u542c\u6dfb\u52a0\u7ed3\u70b9\u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.AddNode, (node, editLine, lineList) => {\n        console.log('addNode', node, editLine, lineList);\n      });\n\n      // \u76d1\u542c\u6dfb\u52a0\u7ed3\u70b9\u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.RemoveNode, (node, editLine, lineList) => {\n        console.log('removeNode', node, editLine, lineList);\n      });\n\n      // LineString\u6570\u636e\u53d1\u751f\u53d8\u66f4\u65f6\u89e6\u53d1\uff0c\u7b49\u4ef7\u4e8e\u540c\u65f6\u76d1\u542cadd\u548cedit\u4e8b\u4ef6\n      drawer.on(DrawEvent.Change, (lineList) => {\n        console.log('change', lineList);\n      });\n\n      // \u62d6\u62fd\u5f00\u59cb\n      drawer.on(DrawEvent.DragStart, (editLine, lineList) => {\n        console.log('dragStart', editLine, lineList);\n      });\n\n      // \u62d6\u62fd\u4e2d\n      drawer.on(DrawEvent.Dragging, (editLine, lineList) => {\n        console.log('dragging', editLine, lineList);\n      });\n\n      // \u62d6\u62fd\u7ed3\u675f\n      drawer.on(DrawEvent.DragEnd, (editLine, lineList) => {\n        console.log('dragEnd', editLine, lineList);\n      });\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",P="import { Scene } from '@antv/l7';\nimport { DrawEvent, DrawLine } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\nimport { lineList } from './mock';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [lineDrawer, setLineDrawer] = useState<DrawLine | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawLine(scene, {\n        initialData: lineList,\n      });\n      setLineDrawer(drawer);\n      drawer.enable();\n\n      drawer.on(DrawEvent.Add, (e) => {});\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",k="import { Scene } from '@antv/l7';\nimport { DrawLine } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport { cloneDeep } from 'lodash';\nimport React, { useEffect, useState } from 'react';\nimport { lineList } from './mock';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [lineDrawer, setLineDrawer] = useState<DrawLine | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n\n    const line = cloneDeep(lineList);\n\n    if (line[0].properties) {\n      line[0].properties.isActive = true;\n    }\n\n    scene.on('loaded', () => {\n      const drawer = new DrawLine(scene, {\n        showMidPoint: false,\n        initialData: line,\n      });\n      setLineDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",M="import { Scene } from '@antv/l7';\nimport { DrawLine } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [lineDrawer, setLineDrawer] = useState<DrawLine | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawLine(scene, {\n        multiple: false,\n      });\n      setLineDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",T="import { Scene } from '@antv/l7';\nimport { DrawLine } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport { Button } from 'antd';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [lineDrawer, setLineDrawer] = useState<DrawLine | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawLine(scene, {});\n      setLineDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div style={{ padding: 8 }}>\n        <Button onClick={() => lineDrawer?.enable()}>\u542f\u7528</Button>\n        <Button onClick={() => lineDrawer?.disable()}>\u7981\u7528</Button>\n        <Button onClick={() => lineDrawer?.clear()}>\u6e05\u7a7a</Button>\n      </div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",L="import { Scene } from '@antv/l7';\nimport { DrawPoint } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [pointDrawer, setPointDrawer] = useState<DrawPoint | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawPoint(scene, {\n        autoActive: false,\n      });\n      setPointDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",I="import { Scene } from '@antv/l7';\nimport { DrawPoint } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\nimport { pointList } from './mock';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [pointDrawer, setPointDrawer] = useState<DrawPoint | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawPoint(scene, {\n        editable: false, // \u7981\u7528\u7f16\u8f91\n        initialData: pointList,\n      });\n      setPointDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",D="import { Feature, Point } from '@turf/turf';\n\nexport const pointList: Feature<Point>[] = [\n  {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'Point',\n      coordinates: [120.103666, 30.262449],\n    },\n  },\n  {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'Point',\n      coordinates: [120.12, 30.262449],\n    },\n  },\n];",R="import { Scene } from '@antv/l7';\nimport { DrawEvent, DrawPoint } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [pointDrawer, setPointDrawer] = useState<DrawPoint | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawPoint(scene, {});\n      setPointDrawer(drawer);\n      drawer.enable();\n\n      // \u76d1\u542c\u6dfb\u52a0Point\u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.Add, (newPoint, pointList) => {\n        console.log('add', newPoint, pointList);\n      });\n\n      // \u76d1\u542c\u7f16\u8f91Point(\u62d6\u62fd\u7ed3\u675f)\u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.Edit, (editPoint, pointList) => {\n        console.log('edit', editPoint, pointList);\n      });\n\n      // \u5220\u9664 Point \u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.Remove, (removePoint, pointList) => {\n        console.log('remove', removePoint, pointList);\n      });\n\n      // Point\u6570\u636e\u53d1\u751f\u53d8\u66f4\u65f6\u89e6\u53d1\uff0c\u7b49\u4ef7\u4e8e\u540c\u65f6\u76d1\u542cadd\u548cedit\u4e8b\u4ef6\n      drawer.on(DrawEvent.Change, (pointList) => {\n        console.log('change', pointList);\n      });\n\n      // \u62d6\u62fd\u5f00\u59cb\n      drawer.on(DrawEvent.DragStart, (editPoint, pointList) => {\n        console.log('dragStart', editPoint, pointList);\n      });\n\n      // \u62d6\u62fd\u4e2d\n      drawer.on(DrawEvent.Dragging, (editPoint, pointList) => {\n        console.log('dragging', editPoint, pointList);\n      });\n\n      // \u62d6\u62fd\u7ed3\u675f\n      drawer.on(DrawEvent.DragEnd, (editPoint, pointList) => {\n        console.log('dragEnd', editPoint, pointList);\n      });\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",N="import { Scene } from '@antv/l7';\nimport { DrawPoint } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [pointDrawer, setPointDrawer] = useState<DrawPoint | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      scene.addImage(\n        'dingwei',\n        'https://gw.alipayobjects.com/mdn/rms_3bf4aa/afts/img/A*JL46TZ_iYB0AAAAAAAAAAAAAARQnAQ',\n      );\n\n      const drawer = new DrawPoint(scene, {\n        style: {\n          point: {\n            normal: { shape: 'dingwei', size: 10 },\n            hover: { shape: 'dingwei', size: 20, color: '#1990FF' },\n            active: { shape: 'dingwei', size: 20 },\n          },\n        },\n      });\n      setPointDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",j="import { Scene } from '@antv/l7';\nimport { DrawPoint } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\nimport { pointList } from './mock';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [pointDrawer, setPointDrawer] = useState<DrawPoint | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawPoint(scene, {\n        initialData: pointList,\n      });\n      setPointDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",F="import { Scene } from '@antv/l7';\nimport { DrawPoint } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [pointDrawer, setPointDrawer] = useState<DrawPoint | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawPoint(scene, {\n        multiple: false,\n      });\n      setPointDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",B="import { Scene } from '@antv/l7';\nimport { DrawPoint } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport { Button } from 'antd';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst Demo: React.FC = () => {\n  const [pointDrawer, setPointDrawer] = useState<DrawPoint | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id: 'map',\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawPoint(scene, {});\n      setPointDrawer(drawer);\n      drawer.enable();\n\n      scene.on('zoomchange', (e) => {\n        console.log(scene.getZoom());\n      });\n      scene.on('dragend', (e) => {\n        console.log(scene.getCenter());\n      });\n    });\n  }, []);\n\n  return (\n    <div>\n      <div style={{ padding: 8 }}>\n        <Button onClick={() => pointDrawer?.enable()}>\u542f\u7528</Button>\n        <Button onClick={() => pointDrawer?.disable()}>\u7981\u7528</Button>\n        <Button onClick={() => pointDrawer?.clear()}>\u6e05\u7a7a</Button>\n      </div>\n      <div id=\"map\" style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",U="import { ILayer, Scene } from '@antv/l7';\nimport { DrawPoint, IPointStyleItem } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [pointDrawer, setPointDrawer] = useState<DrawPoint | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const overwriteStyle: Partial<IPointStyleItem> = {\n        color: '#0000ff',\n        size: 8,\n        shape: 'square',\n        stroke: '#ffff00',\n      };\n\n      const drawer = new DrawPoint(scene, {\n        style: {\n          point: {\n            normal: overwriteStyle,\n            hover: {\n              ...overwriteStyle,\n              size: 12,\n            },\n            active: {\n              ...overwriteStyle,\n              size: 12,\n              color: '#ff0000',\n            },\n            callback: (layers: ILayer[]) => {\n              // \u5bf9layers\u8fdb\u884c\u51fd\u6570\u5f0f\u8bbe\u7f6e\u6837\u5f0f\n            },\n          },\n        },\n      });\n      setPointDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",z="import { PointLayer, Scene } from '@antv/l7';\nimport { DrawPolygon } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\nimport { polygonList } from './mock';\nimport { Feature, featureCollection } from '@turf/turf';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [polygonDrawer, setPolygonDrawer] = useState<DrawPolygon | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawPolygon(scene, {\n        adsorbOptions: {},\n      });\n      setPolygonDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",H="import { Scene } from '@antv/l7';\nimport { DrawPolygon } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [polygonDrawer, setPolygonDrawer] = useState<DrawPolygon | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawPolygon(scene, {\n        distanceOptions: {},\n        areaOptions: {},\n      });\n      setPolygonDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",V="import { Scene } from '@antv/l7';\nimport { DrawPolygon } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [polygonDrawer, setPolygonDrawer] = useState<DrawPolygon | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawPolygon(scene, {\n        autoActive: false,\n      });\n      setPolygonDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",G="import { Scene } from '@antv/l7';\nimport { DrawPolygon } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\nimport { polygonList } from './mock';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [polygonDrawer, setPolygonDrawer] = useState<DrawPolygon | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawPolygon(scene, {\n        initialData: polygonList,\n        editable: false,\n      });\n      setPolygonDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",W="import { Feature, Polygon } from '@turf/turf';\n\nexport const polygonList: Feature<Polygon>[] = [\n  {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'Polygon',\n      coordinates: [\n        [\n          [120.10116577148436, 30.292867742612255],\n          [120.08949279785156, 30.216058476325074],\n          [120.15781402587892, 30.207751175495517],\n          [120.17051696777344, 30.277154904692335],\n          [120.10597229003906, 30.325174912575307],\n          [120.10116577148436, 30.292867742612255],\n        ],\n      ],\n    },\n  },\n  {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'Polygon',\n      coordinates: [\n        [\n          [120.02357482910155, 30.24839093066276],\n          [120.06889343261717, 30.24839093066276],\n          [120.06889343261717, 30.29790717639933],\n          [120.02357482910155, 30.29790717639933],\n          [120.02357482910155, 30.24839093066276],\n        ],\n      ],\n    },\n  },\n  {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'Polygon',\n      coordinates: [\n        [\n          [120.18287658691406, 30.316284093102404],\n          [120.18424987792969, 30.285159872426014],\n          [120.20450592041017, 30.275968928008236],\n          [120.20862579345703, 30.2907926063742],\n          [120.18287658691406, 30.316284093102404],\n        ],\n      ],\n    },\n  },\n];",q="import { Scene } from '@antv/l7';\nimport { DrawEvent, DrawPolygon } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [polygonDrawer, setPolygonDrawer] = useState<DrawPolygon | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawPolygon(scene, {});\n      setPolygonDrawer(drawer);\n      drawer.enable();\n\n      // \u76d1\u542c\u6dfb\u52a0Polygon\u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.Add, (newPolygon, polygonList) => {\n        console.log('add', newPolygon, polygonList);\n      });\n\n      // \u76d1\u542c\u7f16\u8f91Polygon(\u62d6\u62fd\u7ed3\u675f)\u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.Edit, (editPolygon, polygonList) => {\n        console.log('edit', editPolygon, polygonList);\n      });\n\n      // \u76d1\u542c\u5220\u9664 Polygon \u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.Remove, (removePolygon, polygonList) => {\n        console.log('remove', removePolygon, polygonList);\n      });\n\n      // \u76d1\u542c\u6dfb\u52a0\u7ed3\u70b9\u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.AddNode, (node, editPoint, polygonList) => {\n        console.log('addNode', node, editPoint, polygonList);\n      });\n\n      // \u76d1\u542c\u6dfb\u52a0\u7ed3\u70b9\u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.RemoveNode, (node, editLine, lineList) => {\n        console.log('removeNode', node, editLine, lineList);\n      });\n\n      // Polygon\u6570\u636e\u53d1\u751f\u53d8\u66f4\u65f6\u89e6\u53d1\uff0c\u7b49\u4ef7\u4e8e\u540c\u65f6\u76d1\u542cadd\u548cedit\u4e8b\u4ef6\n      drawer.on(DrawEvent.Change, (polygonList) => {\n        console.log('change', polygonList);\n      });\n\n      // \u62d6\u62fd\u5f00\u59cb\n      drawer.on(DrawEvent.DragStart, (editPolygon, polygonList) => {\n        console.log('dragStart', editPolygon, polygonList);\n      });\n\n      // \u62d6\u62fd\u4e2d\n      drawer.on(DrawEvent.Dragging, (editPolygon, polygonList) => {\n        console.log('dragging', editPolygon, polygonList);\n      });\n\n      // \u62d6\u62fd\u7ed3\u675f\n      drawer.on(DrawEvent.DragEnd, (editPolygon, polygonList) => {\n        console.log('dragEnd', editPolygon, polygonList);\n      });\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",Y="import { Scene } from '@antv/l7';\nimport { DrawEvent, DrawPolygon } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\nimport { polygonList } from './mock';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [polygonDrawer, setPolygonDrawer] = useState<DrawPolygon | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawPolygon(scene, {\n        initialData: polygonList,\n      });\n      setPolygonDrawer(drawer);\n      drawer.enable();\n\n      drawer.on(DrawEvent.Add, (e) => {});\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",X="import { Scene } from '@antv/l7';\nimport { DrawPolygon } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport { cloneDeep } from 'lodash';\nimport React, { useEffect, useState } from 'react';\nimport { polygonList } from './mock';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [polygonDrawer, setPolygonDrawer] = useState<DrawPolygon | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n\n    const polygon = cloneDeep(polygonList);\n\n    if (polygon[0].properties) {\n      polygon[0].properties.isActive = true;\n    }\n\n    scene.on('loaded', () => {\n      const drawer = new DrawPolygon(scene, {\n        showMidPoint: false,\n        initialData: polygon,\n      });\n      setPolygonDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",K="import { Scene } from '@antv/l7';\nimport { DrawPolygon } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [polygonDrawer, setPolygonDrawer] = useState<DrawPolygon | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawPolygon(scene, {\n        multiple: false,\n      });\n      setPolygonDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",Z="import { Scene } from '@antv/l7';\nimport { DrawPolygon } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport { Button } from 'antd';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [polygonDrawer, setPolygonDrawer] = useState<DrawPolygon | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawPolygon(scene, {\n        // distanceOptions: {},\n      });\n      setPolygonDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div style={{ padding: 8 }}>\n        <Button onClick={() => polygonDrawer?.enable()}>\u542f\u7528</Button>\n        <Button onClick={() => polygonDrawer?.disable()}>\u7981\u7528</Button>\n        <Button onClick={() => polygonDrawer?.clear()}>\u6e05\u7a7a</Button>\n      </div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",Q="import { Scene } from '@antv/l7';\nimport { DrawPolygon } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport { cloneDeep } from 'lodash';\nimport React, { useEffect, useState } from 'react';\nimport { polygonList } from './mock';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [polygonDrawer, setPolygonDrawer] = useState<DrawPolygon | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n\n    const polygon = cloneDeep(polygonList);\n\n    if (polygon[0].properties) {\n      polygon[0].properties.isActive = true;\n    }\n\n    scene.on('loaded', () => {\n      const overwriteStyle = {\n        color: '#a03dff',\n      };\n      const drawer = new DrawPolygon(scene, {\n        initialData: polygon,\n        style: {\n          point: {\n            normal: overwriteStyle,\n            hover: overwriteStyle,\n            active: overwriteStyle,\n          },\n          line: {\n            normal: overwriteStyle,\n            hover: overwriteStyle,\n            active: overwriteStyle,\n          },\n          polygon: {\n            normal: overwriteStyle,\n            hover: overwriteStyle,\n            active: overwriteStyle,\n          },\n          midPoint: {\n            normal: overwriteStyle,\n          },\n          dashLine: {\n            normal: overwriteStyle,\n          },\n          text: {\n            normal: overwriteStyle,\n            active: overwriteStyle,\n          },\n        },\n      });\n      setPolygonDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",J="import { Scene } from '@antv/l7';\nimport { DrawRect } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [rectDrawer, setRectDrawer] = useState<DrawRect | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawRect(scene, {\n        distanceOptions: {},\n        areaOptions: {},\n      });\n      setRectDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",$="import { Scene } from '@antv/l7';\nimport { DrawRect } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [rectDrawer, setRectDrawer] = useState<DrawRect | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawRect(scene, {\n        autoActive: false,\n      });\n      setRectDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",ee="import { Scene } from '@antv/l7';\nimport { DrawRect } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [rectDrawer, setRectDrawer] = useState<DrawRect | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawRect(scene, {\n        trigger: 'drag',\n      });\n      setRectDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",te="import { Scene } from '@antv/l7';\nimport { DrawRect } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [rectDrawer, setRectDrawer] = useState<DrawRect | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawRect(scene, {\n        editable: false,\n      });\n      setRectDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",ne="import { Scene } from '@antv/l7';\nimport { DrawEvent, DrawRect } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [rectDrawer, setRectDrawer] = useState<DrawRect | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawRect(scene, {});\n      setRectDrawer(drawer);\n      drawer.enable();\n\n      // \u76d1\u542c\u6dfb\u52a0Polygon\u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.Add, (newPolygon, polygonList) => {\n        console.log('add', newPolygon, polygonList);\n      });\n\n      // \u76d1\u542c\u7f16\u8f91Polygon(\u62d6\u62fd\u7ed3\u675f)\u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.Edit, (editPolygon, polygonList) => {\n        console.log('edit', editPolygon, polygonList);\n      });\n\n      // \u76d1\u542c\u5220\u9664 Polygon \u7684\u4e8b\u4ef6\n      drawer.on(DrawEvent.Remove, (removePolygon, polygonList) => {\n        console.log('remove', removePolygon, polygonList);\n      });\n\n      // Polygon\u6570\u636e\u53d1\u751f\u53d8\u66f4\u65f6\u89e6\u53d1\uff0c\u7b49\u4ef7\u4e8e\u540c\u65f6\u76d1\u542cadd\u548cedit\u4e8b\u4ef6\n      drawer.on(DrawEvent.Change, (polygonList) => {\n        console.log('change', polygonList);\n      });\n\n      // \u62d6\u62fd\u5f00\u59cb\n      drawer.on(DrawEvent.DragStart, (editPolygon, polygonList) => {\n        console.log('dragStart', editPolygon, polygonList);\n      });\n\n      // \u62d6\u62fd\u4e2d\n      drawer.on(DrawEvent.Dragging, (editPolygon, polygonList) => {\n        console.log('dragging', editPolygon, polygonList);\n      });\n\n      // \u62d6\u62fd\u7ed3\u675f\n      drawer.on(DrawEvent.DragEnd, (editPolygon, polygonList) => {\n        console.log('dragEnd', editPolygon, polygonList);\n      });\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",re="import { Scene } from '@antv/l7';\nimport { DrawEvent, DrawRect } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\nimport { rectList } from './mock';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [rectDrawer, setRectDrawer] = useState<DrawRect | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawRect(scene, {\n        initialData: rectList,\n      });\n      setRectDrawer(drawer);\n      drawer.enable();\n\n      // setTimeout(() => {\n      //   drawer.setData([\n      //     rectList[2]\n      //   ])\n      // }, 1000)\n\n      drawer.on(DrawEvent.Add, (e) => {});\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",ie="import { Feature, Polygon } from '@turf/turf';\n\nexport const rectList: Feature<Polygon>[] = [\n  {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'Polygon',\n      coordinates: [\n        [\n          [120.11146545410156, 30.23000129725004],\n          [120.15438079833983, 30.23000129725004],\n          [120.15438079833983, 30.251060107580553],\n          [120.11146545410156, 30.251060107580553],\n          [120.11146545410156, 30.23000129725004],\n        ],\n      ],\n    },\n  },\n  {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'Polygon',\n      coordinates: [\n        [\n          [120.14511108398436, 30.257287905035877],\n          [120.19592285156249, 30.257287905035877],\n          [120.19592285156249, 30.27270741823115],\n          [120.14511108398436, 30.27270741823115],\n          [120.14511108398436, 30.257287905035877],\n        ],\n      ],\n    },\n  },\n  {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'Polygon',\n      coordinates: [\n        [\n          [120.10047912597655, 30.26559102073103],\n          [120.1303482055664, 30.26559102073103],\n          [120.1303482055664, 30.29523927312319],\n          [120.10047912597655, 30.29523927312319],\n          [120.10047912597655, 30.26559102073103],\n        ],\n      ],\n    },\n  },\n];",oe="import { Scene } from '@antv/l7';\nimport { DrawRect } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [rectDrawer, setRectDrawer] = useState<DrawRect | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawRect(scene, {\n        multiple: false,\n      });\n      setRectDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",ae="import { Scene } from '@antv/l7';\nimport { DrawRect } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport { Button } from 'antd';\nimport 'antd/dist/antd.css';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [rectDrawer, setRectDrawer] = useState<DrawRect | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const drawer = new DrawRect(scene, {});\n      setRectDrawer(drawer);\n      drawer.enable();\n    });\n  }, []);\n\n  return (\n    <div>\n      <div style={{ padding: 8 }}>\n        <Button onClick={() => rectDrawer?.enable()}>\u542f\u7528</Button>\n        <Button onClick={() => rectDrawer?.disable()}>\u7981\u7528</Button>\n        <Button onClick={() => rectDrawer?.clear()}>\u6e05\u7a7a</Button>\n      </div>\n      <div id={id} style={{ height: 400, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",se="import { ILayer, ILngLat, PointLayer, Scene } from '@antv/l7';\nimport { DrawLine } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport { coordAll } from '@turf/turf';\nimport { first, last } from 'lodash';\nimport React, { useEffect, useState } from 'react';\nimport { DrawEvent } from '../../../src';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [lineDrawer, setLineDrawer] = useState<DrawLine | null>(null);\n  const [siteList, setSiteList] = useState<ILngLat[]>([]);\n  const [scene, setScene] = useState<Scene | null>(null);\n  const [siteLayer, setSiteLayer] = useState<ILayer | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'light',\n        zoom: 10,\n      }),\n    });\n\n    scene.addImage(\n      'arrow',\n      'https://gw.alipayobjects.com/zos/bmw-prod/ce83fc30-701f-415b-9750-4b146f4b3dd6.svg',\n    );\n\n    scene.addImage(\n      'site',\n      'https://gw.alipayobjects.com/mdn/antv_site/afts/img/A*BJ6cTpDcuLcAAAAAAAAAAABkARQnAQ',\n    );\n\n    scene.on('loaded', () => {\n      setScene(scene);\n      const drawer = new DrawLine(scene, {\n        autoActive: false,\n        multiple: true,\n        distanceOptions: {\n          showTotalDistance: true,\n        },\n        style: {\n          point: {\n            normal: {\n              size: 8,\n            },\n            active: {\n              size: 10,\n            },\n          },\n          dashLine: {\n            normal: {\n              size: 4,\n            },\n          },\n          line: {\n            normal: {\n              size: 4,\n            },\n            hover: {\n              size: 4,\n            },\n            active: {\n              size: 4,\n            },\n            callback: (layers: ILayer[]) => {\n              layers.forEach((layer) => {\n                layer\n                  .animate({\n                    interval: 1, // \u95f4\u9694\n                    duration: 1, // \u6301\u7eed\u65f6\u95f4\uff0c\u5ef6\u65f6\n                    trailLength: 2, // \u6d41\u7ebf\u957f\u5ea6\n                  })\n                  .style({\n                    lineTexture: true, // \u5f00\u542f\u7ebf\u7684\u8d34\u56fe\u529f\u80fd\n                    iconStep: 40, // \u8bbe\u7f6e\u8d34\u56fe\u7eb9\u7406\u7684\u95f4\u8ddd\n                    iconStepCount: 4,\n                  });\n              });\n            },\n          },\n        },\n      });\n      setLineDrawer(drawer);\n      drawer.enable();\n\n      drawer.on(DrawEvent.Add, (newLine) => {\n        const positions = coordAll(newLine);\n        const firstPosition = first(positions)!;\n        const lastPosition = last(positions)!;\n        setSiteList([\n          {\n            lng: firstPosition[0],\n            lat: firstPosition[1],\n          },\n          {\n            lng: lastPosition[0],\n            lat: lastPosition[1],\n          },\n        ]);\n      });\n\n      const layer = new PointLayer({\n        blend: 'normal',\n      })\n        .source([])\n        .shape('site')\n        .size(12)\n        .style({\n          offsets: [0, 16],\n        });\n      scene.addLayer(layer);\n      setSiteLayer(layer);\n    });\n  }, []);\n\n  useEffect(() => {\n    siteLayer?.setData(siteList, {\n      parser: {\n        type: 'json',\n        x: 'lng',\n        y: 'lat',\n      },\n    });\n  }, [siteList, siteLayer]);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 600, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",le="export * from './constant';\nexport * from './drawer';\nexport * from './mode';\nexport * from './render';\nexport * from './source';\nexport * from './typings';\nexport * from './utils';\nexport * from './control';",ue="export * from './default';\nexport * from './drawer';\nexport * from './event';\nexport * from './render';\nexport * from './style';",ce="import { ICursor, SourceData } from '../typings';\n\n/**\n * \u9f20\u6807\u6307\u9488\u9ed8\u8ba4\u503c\n */\nexport const DEFAULT_CURSOR_MAP: ICursor = {\n  draw: 'crosshair',\n  pointHover: 'pointer',\n  pointDrag: 'move',\n  lineHover: 'pointer',\n  lineDrag: 'move',\n  polygonHover: 'pointer',\n  polygonDrag: 'move',\n};\n\nexport const DEFAULT_SOURCE_DATA: SourceData = {\n  point: [],\n  line: [],\n  polygon: [],\n  midPoint: [],\n  dashLine: [],\n  text: [],\n};",fe="import {\n  HistoryConfig,\n  IAdsorbOptions,\n  IAreaOptions,\n  IDistanceOptions,\n  KeyBoardConfig,\n  PopupOptions,\n} from '../typings';\nimport { followCursor } from 'tippy.js';\n\nexport const DEFAULT_DISTANCE_OPTIONS: IDistanceOptions = {\n  showTotalDistance: false,\n  showDashDistance: true,\n  showWhen: ['normal', 'active'],\n  format: (meters) => {\n    if (meters >= 1000) {\n      return +(meters / 1000).toFixed(2) + 'km';\n    } else {\n      return +meters.toFixed(2) + 'm';\n    }\n  },\n};\n\nexport const DEFAULT_AREA_OPTIONS: IAreaOptions = {\n  showWhen: ['normal', 'active'],\n  format: (squareMeters: number) => {\n    return squareMeters > 1000000\n      ? `${+(squareMeters / 1000000).toFixed(2)}km\xb2`\n      : `${+squareMeters.toFixed(2)}m\xb2`;\n  },\n};\n\nexport const DEFAULT_HISTORY_CONFIG: HistoryConfig = {\n  maxSize: 100,\n};\n\nexport const DEFAULT_KEYBOARD_CONFIG: KeyBoardConfig = {\n  remove: ['del', 'backspace'],\n  revert: ['command+z', 'ctrl+z'],\n  redo: ['command+shift+z', 'ctrl+shift+z'],\n};\n\nexport const DEFAULT_POPUP_CONFIG: PopupOptions = {\n  allowHTML: true,\n  followCursor: true,\n  placement: 'bottom-start',\n  offset: [-10, 20],\n  plugins: [followCursor],\n  trigger: 'manual',\n  hideOnClick: false,\n  theme: 'light',\n};\n\nexport const DEFAULT_ADSORB_CONFIG: IAdsorbOptions = {\n  data: 'drawData',\n  pointAdsorbPixel: 12,\n  lineAdsorbPixel: 10,\n};",pe="/**\n * Drawer\u4e8b\u4ef6\u679a\u4e3e\n */\nexport enum DrawEvent {\n  Init = 'init',\n  Destroy = 'destroy',\n  Enable = 'enable',\n  Disable = 'disable',\n  Add = 'add',\n  Edit = 'edit',\n  Remove = 'remove',\n  Clear = 'clear',\n  Change = 'change',\n  DragStart = 'dragStart',\n  Dragging = 'dragging',\n  DragEnd = 'dragEnd',\n  AddNode = 'addNode',\n  RemoveNode = 'removeNode',\n}\n\n/**\n * Source\u4e8b\u4ef6\u679a\u4e3e\n */\nexport enum SourceEvent {\n  Change = 'change',\n  Update = 'update',\n}\n\n/**\n * Render\u4e8b\u4ef6\u679a\u4e3e\n */\nexport enum RenderEvent {\n  Click = 'click',\n  UnClick = 'unclick',\n  Dragstart = 'dragstart',\n  Mousemove = 'mousemove',\n  Mouseout = 'mouseout',\n  Dragging = 'dragging',\n  Dragend = 'dragend',\n  DblClick = 'dblClick',\n  Contextmenu = 'contextmenu',\n}\n\n/**\n * L7 Layer \u4e8b\u4ef6\u540d\u679a\u4e3e\n */\nexport enum LayerEvent {\n  Mousedown = 'mousedown',\n  Mouseup = 'mouseup',\n  Click = 'click',\n  UnClick = 'unclick',\n  Dblclick = 'dblclick',\n  Mousemove = 'mousemove',\n  Mouseover = 'mouseover',\n  Mouseenter = 'mouseenter',\n  Mouseleave = 'mouseleave',\n  Mouseout = 'mouseout',\n  Contextmenu = 'contextmenu',\n}\n\n/**\n * L7 Scene \u4e8b\u4ef6\u540d\u679a\u4e3e\n */\nexport enum SceneEvent {\n  Loaded = 'loaded',\n  MapMove = 'mapmove',\n  MoveStart = 'movestart',\n  MoveEnd = 'moveend',\n  ZoomChange = 'zoomchange',\n  ZoomStart = 'zoomstart',\n  ZoomEnd = 'zoomend',\n  Click = 'click',\n  Dblclick = 'dblclick',\n  Mousemove = 'mousemove',\n  Mousewheel = 'mousewheel',\n  Mouseover = 'mouseover',\n  Mouseout = 'mouseout',\n  Mouseup = 'mouseup',\n  Mousedown = 'mousedown',\n  Contextmenu = 'contextmenu',\n  Dragstart = 'dragstart',\n  Dragging = 'dragging',\n  Dragend = 'dragend',\n}\n\nexport enum ControlEvent {\n  DrawChange = 'drawchange',\n  DataChange = 'datachange',\n}",de="import {\n  DashLineRender,\n  LineRender,\n  MidPointRender,\n  PointRender,\n  PolygonRender,\n  TextRender,\n} from '../render';\nimport { IRenderType } from '../typings';\n\n/**\n * renderType\u4e0erender\u7684\u6620\u5c04\n */\nexport const RENDER_MAP: Record<\n  IRenderType,\n  | typeof PointRender\n  | typeof LineRender\n  | typeof MidPointRender\n  | typeof TextRender\n  | typeof PolygonRender\n  | typeof DashLineRender\n> = {\n  point: PointRender,\n  line: LineRender,\n  dashLine: DashLineRender,\n  midPoint: MidPointRender,\n  text: TextRender,\n  polygon: PolygonRender,\n};",he="export * from './dash-line-render';\nexport * from './layer-render';\nexport * from './line-render';\nexport * from './mid-point-render';\nexport * from './point-render';\nexport * from './polygon-render';\nexport * from './scene-render';\nexport * from './text-render';",ve="import { ILayer, LineLayer } from '@antv/l7';\nimport { featureCollection } from '@turf/turf';\nimport { IDashLineFeature, IDashLineStyle } from '../typings';\nimport { LayerRender } from './layer-render';\n\nexport class DashLineRender extends LayerRender<\n  IDashLineFeature,\n  IDashLineStyle\n> {\n  getLayers(): ILayer[] {\n    const { normal, style, options } = this.style;\n\n    const layer = new LineLayer(options ?? {})\n      .source(featureCollection([]))\n      .size(normal.size)\n      .color(normal.color)\n      .shape('line')\n      .style(style);\n\n    return [layer];\n  }\n}",me="import { ILayer, Scene } from '@antv/l7';\nimport { featureCollection } from '@turf/turf';\nimport { EventEmitter } from 'eventemitter3';\nimport { RenderEvent } from '../constant';\nimport { IBaseFeature, IBaseStyle, IRenderOptions } from '../typings';\n\nexport abstract class LayerRender<\n  F extends IBaseFeature = IBaseFeature,\n  S extends IBaseStyle = IBaseStyle,\n> extends EventEmitter<RenderEvent | keyof typeof RenderEvent> {\n  /**\n   * \u5730\u56fe\u573a\u666fScene\u7684\u5b9e\u4f8b\n   */\n  protected scene: Scene;\n\n  /**\n   * \u6837\u5f0f\u914d\u7f6e\n   */\n  protected style: S;\n\n  /**\n   * \u56fe\u5c42\u5217\u8868\n   */\n  protected layers: ILayer[];\n\n  /**\n   * \u5f53\u524d\u5c55\u793a\u7684\u6570\u636e\n   */\n  protected data: F[] = [];\n\n  constructor(scene: Scene, { style }: IRenderOptions<S>) {\n    super();\n\n    this.scene = scene;\n    this.style = style;\n    this.layers = this.getLayers();\n\n    this.layers.forEach((layer) => {\n      scene.addLayer(layer);\n      // layer.active(true);\n    });\n\n    if (style.callback instanceof Function) {\n      style.callback(this.layers);\n    }\n  }\n\n  /**\n   * \u5b50\u7c7b\u7ee7\u627f\u65f6\u9700\u8981\u5b9e\u73b0\u8be5\u65b9\u6cd5\u5e76\u8fd4\u56de\u5bf9\u5e94\u7684layer\u6570\u7ec4\n   */\n  abstract getLayers(): ILayer[];\n\n  /**\n   * \u663e\u793a\u6240\u6709\u56fe\u5c42\n   */\n  show() {\n    this.layers.forEach((layer) => {\n      layer.show();\n    });\n  }\n\n  /**\n   * \u9690\u85cf\u6240\u6709\u56fe\u5c42\n   */\n  hide() {\n    this.layers.forEach((layer) => {\n      layer.hide();\n    });\n  }\n\n  /**\n   * \u8bbe\u7f6e\u6570\u636e\n   * @param features \u8bbe\u7f6e\u5bf9\u5e94\u7684Feature\u6570\u7ec4\n   */\n  setData(features: F[]) {\n    this.data = features;\n    const newData = featureCollection(features);\n    this.layers.forEach((layer) => {\n      layer.setData(newData);\n    });\n  }\n\n  /**\n   * render\u9500\u6bc1\u65f6\uff0c\u9700\u8981\u628a\u56fe\u5c42\u4eceScene\u4e2d\u79fb\u9664\n   */\n  destroy() {\n    this.layers.forEach((layer) => {\n      this.scene.removeLayer(layer);\n    });\n  }\n}",ge="import { ILayer, LineLayer } from '@antv/l7';\nimport { featureCollection } from '@turf/turf';\nimport { debounce } from 'lodash';\nimport { LayerEvent, RenderEvent, SceneEvent } from '../constant';\nimport {\n  ILayerMouseEvent,\n  ILineFeature,\n  ILineStyle,\n  ISceneMouseEvent,\n} from '../typings';\nimport { LayerRender } from './layer-render';\n\nexport class LineRender extends LayerRender<ILineFeature, ILineStyle> {\n  getLayers(): ILayer[] {\n    const { normal, hover, active, style, options } = this.style;\n\n    const layer = new LineLayer(options ?? {})\n      .source(featureCollection([]))\n      .size('isHover*isActive', (isHover: boolean, isActive: boolean) => {\n        return isActive ? active.size : isHover ? hover.size : normal.size;\n      })\n      .color('isHover*isActive', (isHover: boolean, isActive: boolean) => {\n        return isActive ? active.color : isHover ? hover.color : normal.color;\n      })\n      .shape('line')\n      .style(style);\n\n    return [layer];\n  }\n\n  onMouseMove = (e: ILayerMouseEvent<ILineFeature>) => {\n    this.emit(RenderEvent.Mousemove, e);\n  };\n\n  onMouseOut = (e: ILayerMouseEvent<ILineFeature>) => {\n    this.emit(RenderEvent.Mouseout, e);\n  };\n\n  onMouseDown = (e: ILayerMouseEvent<ILineFeature>) => {\n    this.emit(RenderEvent.Dragstart, e);\n  };\n\n  onDragging = (e: ILayerMouseEvent<ILineFeature>) => {\n    this.emit(RenderEvent.Dragging, e);\n  };\n\n  onDragEnd = debounce((e: ISceneMouseEvent) => {\n    this.emit(RenderEvent.Dragend, e);\n  }, 0);\n\n  onUnClick = (e: ILayerMouseEvent<ILineFeature>) => {\n    this.emit(RenderEvent.UnClick, e);\n  };\n\n  enableHover = () => {\n    this.disableHover();\n    this.layers[0]?.on(LayerEvent.Mousemove, this.onMouseMove);\n    this.layers[0]?.on(LayerEvent.Mouseout, this.onMouseOut);\n  };\n\n  disableHover = () => {\n    this.layers[0]?.off(LayerEvent.Mousemove, this.onMouseMove);\n    this.layers[0]?.off(LayerEvent.Mouseout, this.onMouseOut);\n  };\n\n  enableDrag() {\n    this.disableDrag();\n    this.layers[0].on(LayerEvent.Mousedown, this.onMouseDown);\n    this.scene.on(SceneEvent.Dragging, this.onDragging);\n    this.scene.on(SceneEvent.Mouseup, this.onDragEnd);\n    this.scene.on(SceneEvent.Dragend, this.onDragEnd);\n  }\n\n  disableDrag() {\n    this.layers[0].off(LayerEvent.Mousedown, this.onMouseDown);\n    this.scene.off(SceneEvent.Dragging, this.onDragging);\n    this.scene.off(SceneEvent.Mouseup, this.onDragEnd);\n    this.scene.off(SceneEvent.Dragend, this.onDragEnd);\n  }\n\n  enableUnClick() {\n    this.disableUnClick();\n    this.layers[0].on(LayerEvent.UnClick, this.onUnClick);\n  }\n\n  disableUnClick() {\n    this.layers[0].off(LayerEvent.UnClick, this.onUnClick);\n  }\n}",ye="import { ILayer, PointLayer } from '@antv/l7';\nimport { featureCollection } from '@turf/turf';\nimport { LayerEvent, RenderEvent } from '../constant';\nimport { ILayerMouseEvent, IMidPointFeature, IMidPointStyle } from '../typings';\nimport { LayerRender } from './layer-render';\n\nexport class MidPointRender extends LayerRender<\n  IMidPointFeature,\n  IMidPointStyle\n> {\n  getLayers(): ILayer[] {\n    const { normal, style, options } = this.style;\n    const { shape, size, color, stroke } = normal;\n    const layer = new PointLayer(options ?? {})\n      .source(featureCollection([]))\n      .size(size)\n      .color(color)\n      .shape(shape)\n      .style({\n        stroke: stroke,\n        ...style,\n      });\n\n    return [layer];\n  }\n\n  onMouseMove = (e: ILayerMouseEvent) => {\n    this.emit(RenderEvent.Mousemove, e);\n  };\n\n  onMouseOut = (e: ILayerMouseEvent) => {\n    this.emit(RenderEvent.Mouseout, e);\n  };\n\n  onMouseDown = (e: ILayerMouseEvent) => {\n    this.emit(RenderEvent.Click, e);\n  };\n\n  enableClick() {\n    this.disableClick();\n    this.layers[0].on(LayerEvent.Mousedown, this.onMouseDown);\n  }\n\n  disableClick() {\n    this.layers[0].off(LayerEvent.Mousedown, this.onMouseDown);\n  }\n\n  enableHover() {\n    this.disableHover();\n    this.layers[0]?.on(LayerEvent.Mousemove, this.onMouseMove);\n    this.layers[0]?.on(LayerEvent.Mouseout, this.onMouseOut);\n  }\n\n  disableHover() {\n    this.layers[0]?.off(LayerEvent.Mousemove, this.onMouseMove);\n    this.layers[0]?.off(LayerEvent.Mouseout, this.onMouseOut);\n  }\n}",be="import { ILayer, PointLayer } from '@antv/l7';\nimport { featureCollection } from '@turf/turf';\nimport { debounce } from 'lodash';\nimport { LayerEvent, RenderEvent, SceneEvent } from '../constant';\nimport {\n  ILayerMouseEvent,\n  IPointFeature,\n  IPointStyle,\n  ISceneMouseEvent,\n} from '../typings';\nimport { LayerRender } from './layer-render';\n\nexport class PointRender extends LayerRender<IPointFeature, IPointStyle> {\n  getLayers(): ILayer[] {\n    const { normal, hover, active, style, options } = this.style;\n    const layer = new PointLayer(options ?? {})\n      .source(featureCollection([]))\n      .size('isHover*isActive', (isHover: boolean, isActive: boolean) => {\n        return isActive ? active.size : isHover ? hover.size : normal.size;\n      })\n      .color('isHover*isActive', (isHover: boolean, isActive: boolean) => {\n        return isActive ? active.color : isHover ? hover.color : normal.color;\n      })\n      .shape('isHover*isActive', (isHover: boolean, isActive: boolean) => {\n        return isActive ? active.shape : isHover ? hover.shape : normal.shape;\n      })\n      .style({\n        stroke: [\n          'isHover*isActive',\n          (isHover: boolean, isActive: boolean) => {\n            return isActive\n              ? active.stroke\n              : isHover\n              ? hover.stroke\n              : normal.stroke;\n          },\n        ],\n        // strokeWidth: [\n        //   'isHover*isActive',\n        //   (isHover: boolean, isActive: boolean) => {\n        //     return isActive\n        //       ? active.borderWidth\n        //       : isHover\n        //       ? hover.borderWidth\n        //       : normal.borderWidth;\n        //   },\n        // ],\n        ...style,\n      });\n\n    return [layer];\n  }\n\n  onCreate = (e: ILayerMouseEvent) => {\n    this.emit(RenderEvent.UnClick, e);\n  };\n\n  onMouseMove = (e: ILayerMouseEvent) => {\n    this.emit(RenderEvent.Mousemove, e);\n  };\n\n  onMouseOut = (e: ILayerMouseEvent) => {\n    this.emit(RenderEvent.Mouseout, e);\n  };\n\n  onMouseDown = (e: ILayerMouseEvent) => {\n    this.emit(RenderEvent.Dragstart, e);\n  };\n\n  onDragging = (e: ISceneMouseEvent) => {\n    this.emit(RenderEvent.Dragging, e);\n  };\n\n  onDragEnd = debounce((e: ISceneMouseEvent) => {\n    this.emit(RenderEvent.Dragend, e);\n  }, 0);\n\n  onClick = (e: ILayerMouseEvent) => {\n    this.emit(RenderEvent.Click, e);\n  };\n\n  onContextmenu = (e: ILayerMouseEvent) => {\n    this.emit(RenderEvent.Contextmenu, e);\n  };\n\n  enableCreate() {\n    this.disableCreate();\n    this.layers[0].on(LayerEvent.UnClick, this.onCreate);\n  }\n\n  disableCreate() {\n    this.layers[0].off(LayerEvent.UnClick, this.onCreate);\n  }\n\n  enableHover() {\n    this.disableHover();\n    this.layers[0]?.on(LayerEvent.Mousemove, this.onMouseMove);\n    this.layers[0]?.on(LayerEvent.Mouseout, this.onMouseOut);\n  }\n\n  disableHover() {\n    this.layers[0]?.off(LayerEvent.Mousemove, this.onMouseMove);\n    this.layers[0]?.off(LayerEvent.Mouseout, this.onMouseOut);\n  }\n\n  enableDrag() {\n    this.disableDrag();\n    this.layers[0].on(LayerEvent.Mousedown, this.onMouseDown);\n    this.scene.on(SceneEvent.Dragging, this.onDragging);\n    this.scene.on(SceneEvent.Mouseup, this.onDragEnd);\n    this.scene.on(SceneEvent.Dragend, this.onDragEnd);\n  }\n\n  disableDrag() {\n    this.layers[0].off(LayerEvent.Mousedown, this.onMouseDown);\n    this.scene.off(SceneEvent.Dragging, this.onDragging);\n    this.scene.off(SceneEvent.Mouseup, this.onDragEnd);\n    this.scene.off(SceneEvent.Dragend, this.onDragEnd);\n  }\n\n  enableClick() {\n    this.disableClick();\n    this.layers[0].on(LayerEvent.Click, this.onClick);\n  }\n\n  disableClick() {\n    this.layers[0].off(LayerEvent.Click, this.onClick);\n  }\n\n  enableContextMenu() {\n    this.disableContextMenu();\n    this.layers[0].on(LayerEvent.Contextmenu, this.onContextmenu);\n  }\n\n  disableContextMenu() {\n    this.layers[0].off(LayerEvent.Contextmenu, this.onContextmenu);\n  }\n}",_e="import { ILayer, PolygonLayer } from '@antv/l7';\nimport { featureCollection } from '@turf/turf';\nimport { debounce } from 'lodash';\nimport { LayerEvent, RenderEvent, SceneEvent } from '../constant';\nimport {\n  ILayerMouseEvent,\n  ILineFeature,\n  IPolygonFeature,\n  IPolygonStyle,\n  ISceneMouseEvent,\n} from '../typings';\nimport { LayerRender } from './layer-render';\n\nexport class PolygonRender extends LayerRender<IPolygonFeature, IPolygonStyle> {\n  getLayers(): ILayer[] {\n    const { normal, hover, active, style, options } = this.style;\n    const polygonLayer = new PolygonLayer(options ?? {});\n\n    polygonLayer\n      .source(featureCollection([]))\n      .color('isHover*isActive', (isHover: boolean, isActive: boolean) => {\n        return isActive ? active.color : isHover ? hover.color : normal.color;\n      })\n      .style(style);\n\n    return [polygonLayer];\n  }\n\n  onMouseMove = (e: ILayerMouseEvent<ILineFeature>) => {\n    this.emit(RenderEvent.Mousemove, e);\n  };\n\n  onMouseOut = (e: ILayerMouseEvent<ILineFeature>) => {\n    this.emit(RenderEvent.Mouseout, e);\n  };\n\n  onMouseDown = (e: ILayerMouseEvent<ILineFeature>) => {\n    this.emit(RenderEvent.Dragstart, e);\n  };\n\n  onDragging = (e: ILayerMouseEvent<ILineFeature>) => {\n    this.emit(RenderEvent.Dragging, e);\n  };\n\n  onDragEnd = debounce((e: ISceneMouseEvent) => {\n    this.emit(RenderEvent.Dragend, e);\n  }, 0);\n\n  onUnClick = (e: ILayerMouseEvent<ILineFeature>) => {\n    this.emit(RenderEvent.UnClick, e);\n  };\n\n  enableHover = () => {\n    this.disableHover();\n    this.layers[0]?.on(LayerEvent.Mousemove, this.onMouseMove);\n    this.layers[0]?.on(LayerEvent.Mouseout, this.onMouseOut);\n  };\n\n  disableHover = () => {\n    this.layers[0]?.off(LayerEvent.Mousemove, this.onMouseMove);\n    this.layers[0]?.off(LayerEvent.Mouseout, this.onMouseOut);\n  };\n\n  enableDrag() {\n    this.disableDrag();\n    this.layers[0].on(LayerEvent.Mousedown, this.onMouseDown);\n    this.scene.on(SceneEvent.Dragging, this.onDragging);\n    this.scene.on(SceneEvent.Mouseup, this.onDragEnd);\n    this.scene.on(SceneEvent.Dragend, this.onDragEnd);\n  }\n\n  disableDrag() {\n    this.layers[0].off(LayerEvent.Mousedown, this.onMouseDown);\n    this.scene.off(SceneEvent.Dragging, this.onDragging);\n    this.scene.off(SceneEvent.Mouseup, this.onDragEnd);\n    this.scene.off(SceneEvent.Dragend, this.onDragEnd);\n  }\n\n  enableUnClick() {\n    this.disableUnClick();\n    this.layers[0].on(LayerEvent.UnClick, this.onUnClick);\n  }\n\n  disableUnClick() {\n    this.layers[0].off(LayerEvent.UnClick, this.onUnClick);\n  }\n}",Ee="import { Scene } from '@antv/l7';\nimport EventEmitter from 'eventemitter3';\nimport { debounce } from 'lodash';\nimport { RenderEvent, SceneEvent } from '../constant';\nimport { ISceneMouseEvent } from '../typings';\n\ntype PreviousClick = {\n  time: number;\n  x: number;\n  y: number;\n};\n\nexport class SceneRender extends EventEmitter<\n  RenderEvent | keyof typeof RenderEvent\n> {\n  protected scene: Scene;\n\n  protected previousClick?: PreviousClick;\n\n  constructor(scene: Scene) {\n    super();\n    this.scene = scene;\n  }\n\n  /**\n   * L7\u539f\u751fdblclick\u7ecf\u5e38\u8bef\u89e6\u53d1\uff0c\u6545\u6539\u7528\u8fd9\u79cd\u65b9\u5f0f\n   * @param e\n   */\n  onDblClick = (e: ISceneMouseEvent) => {\n    const { x = 0, y = 0 } = e.pixel ?? {};\n    const time = Date.now();\n\n    if (this.previousClick) {\n      const { x: oldX, y: oldY, time: oldTime } = this.previousClick;\n      if (\n        time - oldTime < 300 &&\n        Math.abs(x - oldX) < 5 &&\n        Math.abs(y - oldY) < 5\n      ) {\n        this.emit(RenderEvent.DblClick, e);\n      }\n    }\n    this.previousClick = { x, y, time };\n  };\n\n  onMouseMove = (e: ISceneMouseEvent) => {\n    this.emit(RenderEvent.Mousemove, e);\n  };\n\n  onMouseDown = (e: ISceneMouseEvent) => {\n    this.emit(RenderEvent.Dragstart, e);\n  };\n\n  onDragging = (e: ISceneMouseEvent) => {\n    this.emit(RenderEvent.Dragging, e);\n  };\n\n  onDragEnd = debounce((e: ISceneMouseEvent) => {\n    this.emit(RenderEvent.Dragend, e);\n  }, 0);\n\n  enableDrag() {\n    this.disableDrag();\n    this.scene.on(SceneEvent.Mousedown, this.onMouseDown);\n    this.scene.on(SceneEvent.Dragging, this.onDragging);\n    this.scene.on(SceneEvent.Mouseup, this.onDragEnd);\n    this.scene.on(SceneEvent.Dragend, this.onDragEnd);\n  }\n\n  disableDrag() {\n    this.scene.off(SceneEvent.Mousedown, this.onMouseDown);\n    this.scene.off(SceneEvent.Dragging, this.onDragging);\n    this.scene.off(SceneEvent.Mouseup, this.onDragEnd);\n    this.scene.off(SceneEvent.Dragend, this.onDragEnd);\n  }\n\n  enableMouseMove() {\n    this.disableMouseMove();\n    this.scene.on(SceneEvent.Mousemove, this.onMouseMove);\n  }\n\n  disableMouseMove() {\n    this.scene.off(SceneEvent.Mousemove, this.onMouseMove);\n  }\n\n  enableDblClick() {\n    this.disableDblClick();\n    this.scene.on(SceneEvent.Mousedown, this.onDblClick);\n  }\n\n  disableDblClick() {\n    this.scene.on(SceneEvent.Mousedown, this.onDblClick);\n  }\n}",xe="import { ILayer, PointLayer } from '@antv/l7';\nimport { featureCollection } from '@turf/turf';\nimport { ITextFeature, ITextStyle } from '../typings';\nimport { LayerRender } from './layer-render';\n\nexport class TextRender extends LayerRender<ITextFeature, ITextStyle> {\n  getLayers(): ILayer[] {\n    const { normal, active, style, options } = this.style;\n    const layer = new PointLayer(options ?? {})\n      .source(featureCollection([]))\n      .size('isActive', (isActive: boolean) => {\n        return isActive ? active.size : normal.size;\n      })\n      .color('isActive', (isActive: boolean) => {\n        return isActive ? active.color : normal.color;\n      })\n      .shape('text', 'text')\n      .style({\n        stroke: [\n          'isActive',\n          (isActive: boolean) => {\n            return isActive ? active.stroke : normal.stroke;\n          },\n        ],\n        // strokeWidth: [\n        //   'isActive',\n        //   (isActive: boolean) => {\n        //     return isActive ? active.borderWidth : normal.borderWidth;\n        //   },\n        // ],\n        ...style,\n      });\n\n    return [layer];\n  }\n}",we="import { ILayerConfig } from '@antv/l7';\nimport {\n  IPointStyle,\n  IPointStyleItem,\n  IStyle,\n  ITextStyleItem,\n} from '../typings';\n\nexport const NORMAL_COLOR = '#1990FF';\n\nexport const ACTIVE_COLOR = '#ED9D48';\n\nexport const DEFAULT_COMMON_OPTIONS: Partial<ILayerConfig> = {\n  blend: 'normal',\n  pickingBuffer: 5,\n};\n\nexport const DEFAULT_POINT_NORMAL_STYLE: IPointStyleItem = {\n  color: NORMAL_COLOR,\n  shape: 'circle',\n  size: 6,\n  stroke: '#ffffff',\n  // borderWidth: 2,\n};\n\nexport const DEFAULT_NODE_NORMAL_STYLE: IPointStyleItem = {\n  color: ACTIVE_COLOR,\n  shape: 'circle',\n  size: 6,\n  stroke: '#ffffff',\n  // borderWidth: 2,\n};\n\nexport const DEFAULT_MID_POINT_STYLE: IPointStyleItem = {\n  shape: 'circle',\n  size: 6,\n  color: ACTIVE_COLOR,\n  stroke: '#ffffff',\n  // borderWidth: 0,\n};\n\nexport const DEFAULT_POINT_STYLE: IPointStyle = {\n  options: DEFAULT_COMMON_OPTIONS,\n  normal: DEFAULT_POINT_NORMAL_STYLE,\n  hover: {\n    ...DEFAULT_POINT_NORMAL_STYLE,\n    size: 8,\n  },\n  active: {\n    ...DEFAULT_POINT_NORMAL_STYLE,\n    size: 8,\n    color: ACTIVE_COLOR,\n  },\n  style: {\n    strokeWidth: 2,\n  },\n};\n\nexport const DEFAULT_NODE_STYLE: IPointStyle = {\n  options: DEFAULT_COMMON_OPTIONS,\n  normal: DEFAULT_NODE_NORMAL_STYLE,\n  hover: {\n    ...DEFAULT_NODE_NORMAL_STYLE,\n    size: 8,\n  },\n  active: {\n    ...DEFAULT_NODE_NORMAL_STYLE,\n    size: 8,\n  },\n  style: {\n    strokeWidth: 2,\n  },\n};\n\nexport const DEFAULT_TEXT_NORMAL_STYLE: ITextStyleItem = {\n  color: NORMAL_COLOR,\n  size: 12,\n  stroke: '#ffffff',\n  // borderWidth: 0.5,\n};\n\nexport const DEFAULT_STYLE: IStyle = {\n  point: DEFAULT_NODE_STYLE,\n  line: {\n    options: DEFAULT_COMMON_OPTIONS,\n    normal: {\n      color: NORMAL_COLOR,\n      size: 2,\n    },\n    hover: {\n      color: NORMAL_COLOR,\n      size: 2,\n    },\n    active: {\n      color: ACTIVE_COLOR,\n      size: 2,\n    },\n    style: {},\n  },\n  polygon: {\n    options: DEFAULT_COMMON_OPTIONS,\n    normal: {\n      color: NORMAL_COLOR,\n    },\n    hover: {\n      color: NORMAL_COLOR,\n    },\n    active: {\n      color: ACTIVE_COLOR,\n    },\n    style: {\n      opacity: 0.15,\n    },\n  },\n  midPoint: {\n    options: DEFAULT_COMMON_OPTIONS,\n    normal: DEFAULT_MID_POINT_STYLE,\n  },\n  dashLine: {\n    options: DEFAULT_COMMON_OPTIONS,\n    normal: {\n      color: ACTIVE_COLOR,\n      size: 2,\n    },\n    style: {\n      lineType: 'dash',\n      dashArray: [6, 6],\n    },\n  },\n  text: {\n    options: DEFAULT_COMMON_OPTIONS,\n    normal: DEFAULT_TEXT_NORMAL_STYLE,\n    active: {\n      ...DEFAULT_TEXT_NORMAL_STYLE,\n      color: ACTIVE_COLOR,\n    },\n    style: {\n      fontWeight: '800',\n      textOffset: [0, DEFAULT_TEXT_NORMAL_STYLE.size + 6],\n      textAllowOverlap: true,\n      strokeWidth: 2,\n    },\n  },\n};",Se="import { CircleDrawer } from './circle-drawer';\nimport { LineDrawer } from './line-drawer';\nimport { PointDrawer } from './point-drawer';\nimport { PolygonDrawer } from './polygon-drawer';\nimport { RectDrawer } from './rect-drawer';\n\nexport * from './circle-drawer';\nexport * from './line-drawer';\nexport * from './point-drawer';\nexport * from './polygon-drawer';\nexport * from './rect-drawer';\nexport {\n  PointDrawer as DrawPoint,\n  LineDrawer as DrawLine,\n  PolygonDrawer as DrawPolygon,\n  RectDrawer as DrawRect,\n  CircleDrawer as DrawCircle,\n};",Oe="import { Scene } from '@antv/l7';\nimport {\n  bbox,\n  center,\n  circle,\n  coordAll,\n  distance,\n  Feature,\n  Polygon,\n} from '@turf/turf';\nimport { DrawEvent } from '../constant';\nimport { DragPolygonMode, IDragPolygonModeOptions } from '../mode';\nimport {\n  DeepPartial,\n  IDistanceOptions,\n  IDragPolygonHelperOptions,\n  ILineFeature,\n  ILineProperties,\n  IPointFeature,\n  IPolygonFeature,\n  ISceneMouseEvent,\n  ITextFeature,\n} from '../typings';\nimport {\n  createLineFeature,\n  createPointFeature,\n  getDefaultPolygonProperties,\n  getPosition,\n  isSameFeature,\n} from '../utils';\nimport { DEFAULT_CIRCLE_HELPER_CONFIG } from '../constant/helper';\n\nexport interface ICircleDistanceOptions extends IDistanceOptions {\n  showOnRadius: boolean;\n}\n\nexport interface ICircleDrawerOptions\n  extends IDragPolygonModeOptions<Feature<Polygon>> {\n  circleSteps: number;\n  distanceOptions: ICircleDistanceOptions;\n}\n\nexport class CircleDrawer extends DragPolygonMode<ICircleDrawerOptions> {\n  constructor(scene: Scene, options: DeepPartial<ICircleDrawerOptions>) {\n    super(scene, options);\n    this.bindPointRenderEvent();\n    this.bindSceneEvent();\n    this.bindMidPointRenderEvent();\n    this.bindLineRenderEvent();\n    this.bindPolygonRenderEvent();\n  }\n\n  getDefaultOptions(\n    options: DeepPartial<ICircleDrawerOptions>,\n  ): ICircleDrawerOptions {\n    const newOptions = {\n      ...super.getDefaultOptions(options),\n      showMidPoint: false,\n      circleSteps: 60,\n    };\n    if (newOptions.distanceOptions) {\n      newOptions.distanceOptions.showTotalDistance = true;\n      if (newOptions.distanceOptions.showOnRadius === undefined) {\n        newOptions.distanceOptions.showOnRadius = true;\n      }\n    }\n    if (newOptions.helper) {\n      newOptions.helper = {\n        ...(newOptions.helper as IDragPolygonHelperOptions),\n        ...DEFAULT_CIRCLE_HELPER_CONFIG,\n      };\n    }\n    return newOptions;\n  }\n\n  getDistanceTexts(): ITextFeature[] {\n    const { distanceOptions } = this.options;\n    if (!distanceOptions) {\n      return [];\n    }\n    const textList: ITextFeature[] = [];\n    const { showWhen, showDashDistance, format, showTotalDistance } =\n      distanceOptions;\n\n    textList.push(\n      ...this.getDashLineDistanceTexts(this.getDashLineData(), {\n        showTotalDistance: true,\n        format,\n        showDashDistance,\n      }),\n      ...this.getLineDistanceTexts(this.getLineData(), {\n        showTotalDistance,\n        format,\n        showWhen,\n      }),\n    );\n\n    return textList;\n  }\n\n  setData(data: Feature<Polygon>[]) {\n    const result = data.map((feature) => {\n      feature.properties = {\n        ...getDefaultPolygonProperties(),\n        ...feature.properties,\n      };\n      let nodes: [IPointFeature, IPointFeature] | undefined =\n        feature.properties?.nodes;\n      if (nodes?.length !== 2) {\n        const [lng1, lat1] = center(feature).geometry.coordinates;\n        const box = bbox(feature);\n        const lng2 = box[2]!;\n        const lat2 = (box[1] + box[3]) / 2;\n        nodes = [\n          createPointFeature([lng1, lat1]),\n          createPointFeature([lng2, lat2]),\n        ];\n        feature.properties.nodes = nodes;\n      }\n      const startNode = nodes[0];\n      const endNode = nodes[1];\n\n      const isActive = !!feature.properties?.isActive;\n      let line: ILineFeature | undefined = feature.properties.line;\n      if (!line) {\n        line = this.handleCreatePolygonLine(startNode, endNode, {\n          isActive,\n        });\n        feature.properties.line = line;\n      }\n      return this.handleCreatePolygon([startNode, endNode], line, {\n        ...feature.properties,\n        isActive,\n      });\n    });\n\n    this.source.setData({\n      point: [],\n      midPoint: [],\n      dashLine: [],\n      polygon: result,\n      line: result.map((feature) => feature.properties.line),\n    });\n    this.setTextData(this.getAllTexts());\n\n    if (this.editPolygon) {\n      this.setActivePolygon(this.editPolygon);\n    }\n  }\n\n  handleCreatePolygonLine(\n    startNode: IPointFeature,\n    endNode: IPointFeature,\n    properties: Partial<ILineProperties> = {},\n  ) {\n    const dis = distance(startNode, endNode, {\n      units: 'meters',\n    });\n    const positions = coordAll(\n      circle(startNode, dis, {\n        units: 'meters',\n        steps: this.options.circleSteps,\n      }),\n    );\n    const nodes = positions.map((position) => {\n      return createPointFeature(position);\n    });\n    return createLineFeature(nodes, properties);\n  }\n\n  syncPolygonNodes(polygon: IPolygonFeature, nodes: IPointFeature[]) {\n    const line = polygon.properties.line;\n    const startNode = nodes[0]!;\n    const endNode = nodes[1]!;\n    const dis = distance(startNode, endNode, {\n      units: 'meters',\n    });\n    const positions = coordAll(\n      circle(startNode, dis, {\n        units: 'meters',\n        steps: this.options.circleSteps,\n      }),\n    );\n\n    polygon.properties.nodes = nodes;\n    polygon.geometry.coordinates = [positions];\n\n    this.setPolygonData((features) => {\n      return features.map((feature) => {\n        if (isSameFeature(feature, polygon)) {\n          return polygon;\n        }\n        return feature;\n      });\n    });\n\n    this.setPointData(polygon.properties.isDraw ? [nodes[0]] : nodes);\n\n    line.properties.nodes.forEach((lineNode, index) => {\n      lineNode.geometry.coordinates = positions[index];\n    });\n\n    line.geometry.coordinates = positions;\n\n    return polygon;\n  }\n\n  onLineDragging(e: ISceneMouseEvent) {\n    const dragPolygon = this.dragPolygon;\n    const [preLng, preLat] = this.previousPosition;\n    const feature = super.onLineDragging(e);\n    if (dragPolygon) {\n      const [curLng, curLat] = getPosition(e);\n      const nodes = dragPolygon.properties.nodes;\n      nodes.forEach((node) => {\n        const [lng, lat] = node.geometry.coordinates;\n        node.geometry.coordinates = [\n          lng + curLng - preLng,\n          lat + curLat - preLat,\n        ];\n      });\n      this.syncPolygonNodes(dragPolygon, dragPolygon.properties.nodes);\n      this.setActivePolygon(dragPolygon, {\n        isDrag: true,\n      });\n      this.emit(DrawEvent.Dragging, dragPolygon, this.getPolygonData());\n    }\n    return feature;\n  }\n}",Ce="export * from './base-mode';\nexport * from './drag-polygon-mode';\nexport * from './line-mode';\nexport * from './mid-point-mode';\nexport * from './point-mode';\nexport * from './polygon-mode';",Ae="import { Scene } from '@antv/l7';\nimport { Feature } from '@turf/turf';\nimport EventEmitter from 'eventemitter3';\nimport {\n  cloneDeep,\n  debounce,\n  fromPairs,\n  isEqual,\n  merge,\n  toPairs,\n} from 'lodash';\nimport Mousetrap from 'mousetrap';\nimport {\n  DEFAULT_CURSOR_MAP,\n  DEFAULT_HISTORY_CONFIG,\n  DEFAULT_KEYBOARD_CONFIG,\n  DEFAULT_STYLE,\n  DrawEvent,\n  RENDER_MAP,\n  RenderEvent,\n  SceneEvent,\n} from '../constant';\nimport { Cursor, Popup } from '../interactive';\nimport { SceneRender } from '../render';\nimport { Source } from '../source';\nimport {\n  DeepPartial,\n  IBaseFeature,\n  IBaseModeOptions,\n  ICursorType,\n  ILngLat,\n  IRenderType,\n  ISceneMouseEvent,\n  PopupContent,\n  RenderMap,\n} from '../typings';\nimport { getLngLat, isSameFeature } from '../utils';\n\nexport abstract class BaseMode<\n  O extends IBaseModeOptions = IBaseModeOptions,\n> extends EventEmitter<DrawEvent | keyof typeof DrawEvent> {\n  /**\n   * L7 \u573a\u666f\u5b9e\u4f8b\uff0c\u5728\u6784\u9020\u5668\u4e2d\u4f20\u5165\n   */\n  protected scene: Scene;\n\n  /**\n   * \u6570\u636e\u7ba1\u7406\u4e2d\u5fc3\n   */\n  protected source: Source;\n\n  /**\n   * \u6e32\u67d3\u5668render\u5bf9\u8c61\n   */\n  protected render: RenderMap;\n\n  /**\n   * \u6307\u9488\u7ba1\u7406\u5668\n   * @protected\n   */\n  protected cursor: Cursor;\n\n  /**\n   * Drawer \u914d\u7f6e\n   */\n  protected options: O;\n\n  /**\n   * \u5f53\u524dDrawer\u662f\u5426\u4e3a\u5f00\u542f\u7ed8\u5236\u72b6\u6001\n   */\n  protected enabled = false;\n\n  // \u5728 enable \u65f6\u4f20\u5165\uff0c\u7528\u4e8e\u5224\u65ad\u5f53\u524d\u662f\u5426\u652f\u6301\u6dfb\u52a0\u64cd\u4f5c\n  protected allowCreate = false;\n\n  /**\n   * scene\u76f8\u5173\u4e8b\u4ef6\u7ba1\u7406\n   * @protected\n   */\n  protected sceneRender: SceneRender;\n\n  /**\n   * \u5149\u6807\u5728\u5730\u56fe\u4e0a\u7684\u7ecf\u7eac\u5ea6\u4f4d\u7f6e\n   * @protected\n   */\n  protected mouseLngLat: ILngLat = {\n    lng: 0,\n    lat: 0,\n  };\n\n  protected popup?: Popup;\n\n  /**\n   * \u672c\u6b21enable\u6dfb\u52a0\u7684\u7ed8\u5236\u7269\u4e2a\u6570\n   * @protected\n   */\n  protected addCount = 0;\n\n  /**\n   * \u5f53\u671f\u662f\u5426\u53ef\u4ee5\u6dfb\u52a0\u65b0\u7684\u7ed8\u5236\u7269\n   */\n  get addable() {\n    const data = this.getData();\n    const { multiple, maxCount } = this.options;\n    const drawItem = data.find((item) => item.properties.isDraw);\n    if (!this.enabled || !this.allowCreate) {\n      return false;\n    }\n    if ((multiple && maxCount <= 0) || drawItem) {\n      return true;\n    }\n    if (!multiple && this.addCount >= 1) {\n      return false;\n    }\n    if (maxCount > 0 && data.length >= maxCount) {\n      return false;\n    }\n    return true;\n  }\n\n  constructor(scene: Scene, options: DeepPartial<O>) {\n    super();\n    this.bindThis();\n\n    this.scene = scene;\n    this.sceneRender = new SceneRender(scene);\n    this.options = merge({}, this.getDefaultOptions(options), options);\n    this.render = this.initRender();\n\n    this.source = new Source({\n      render: this.render,\n      history: this.options.history || undefined,\n    });\n    this.cursor = new Cursor(scene, this.options.cursor);\n\n    const { initialData, popup } = this.options;\n    if (initialData) {\n      this.setData(initialData);\n    }\n\n    if (popup) {\n      this.popup = new Popup(scene, popup instanceof Object ? popup : {});\n    }\n\n    this.saveHistory();\n    this.bindCommonEvent();\n    this.emit(DrawEvent.Init, this);\n    this.bindEnableEvent();\n  }\n\n  protected abstract get dragItem(): Feature | null | undefined;\n\n  protected abstract get editItem(): Feature | null | undefined;\n\n  /**\n   * \u83b7\u53d6\u5f53\u524doptions\u914d\u7f6e\u7684\u65b9\u6cd5\n   */\n  getOptions() {\n    return this.options;\n  }\n\n  /**\n   * \u83b7\u53d6\u5f53\u524d\u6fc0\u6d3b\u7684\u7ed8\u5236\u9879\n   */\n  getEditItem() {\n    return this.editItem;\n  }\n\n  /**\n   * \u83b7\u53d6\u5f53\u524d\u6b63\u5728\u88ab\u62d6\u62fd\u7684\u7ed8\u5236\u9879\n   */\n  getDragItem() {\n    return this.dragItem;\n  }\n\n  /**\n   * \u83b7\u53d6\u5f53\u524dDrawer\u9700\u8981\u7528\u5230\u7684render\u7c7b\u578b\u6570\u636e\uff0c\u907f\u514d\u521b\u5efa\u65e0\u6548\u7684Render\n   */\n  abstract getRenderTypes(): IRenderType[];\n\n  /**\n   * \u83b7\u53d6\u5f53\u524dDrawer\u9ed8\u8ba4\u53c2\u6570\n   * @param options\n   */\n  abstract getDefaultOptions(options: DeepPartial<O>): O;\n\n  /**\n   * \u83b7\u53d6\u6570\u636e\n   */\n  abstract getData(): IBaseFeature[];\n\n  /**\n   * \u8bbe\u7f6e\u6570\u636e\n   * @param data\n   */\n  abstract setData(data: Feature[]): void;\n\n  setHelper(type: PopupContent | keyof O['helper'] | null) {\n    const { helper } = this.options;\n    if (!helper) {\n      return;\n    }\n    // @ts-ignore\n    const content = (type in helper ? helper[type] : type) ?? null;\n    this.popup?.setContent(content);\n  }\n\n  /**\n   * \u83b7\u53d6\u5f53\u524d\u662f\u5426\u4e3a\u7f16\u8f91\u6001\n   */\n  isEnable() {\n    return this.enabled;\n  }\n\n  /**\n   * \u7ed1\u5b9a\u56de\u8c03\u51fd\u6570\u7684this\u6307\u5411\n   */\n  bindThis() {\n    this.initRender = this.initRender.bind(this);\n    this.getData = this.getData.bind(this);\n    this.setData = this.setData.bind(this);\n    this.emitChangeEvent = this.emitChangeEvent.bind(this);\n    this.saveHistory = this.saveHistory.bind(this);\n    this.onSceneMouseMove = this.onSceneMouseMove.bind(this);\n    this.revertHistory = this.revertHistory.bind(this);\n    this.redoHistory = this.redoHistory.bind(this);\n    this.removeActiveFeature = this.removeActiveFeature.bind(this);\n    this.bindCommonEvent = this.bindCommonEvent.bind(this);\n    this.bindEnableEvent = this.bindEnableEvent.bind(this);\n    this.unbindEnableEvent = this.unbindEnableEvent.bind(this);\n    this.setActiveFeature = this.setActiveFeature.bind(this);\n  }\n\n  bindCommonEvent() {\n    this.on(DrawEvent.Add, this.emitChangeEvent);\n    this.on(DrawEvent.Add, () => {\n      this.addCount++;\n    });\n    this.on(DrawEvent.Edit, this.emitChangeEvent);\n    this.on(DrawEvent.Remove, this.emitChangeEvent);\n    this.on(DrawEvent.Clear, this.emitChangeEvent);\n    this.on(DrawEvent.AddNode, this.saveHistory);\n    this.on(DrawEvent.RemoveNode, this.emitChangeEvent);\n  }\n\n  /**\n   * \u76d1\u542c\u901a\u7528\u4e8b\u4ef6\n   */\n  bindEnableEvent() {\n    this.unbindKeyboardEvent();\n    this.scene.setMapStatus({\n      doubleClickZoom: false,\n    });\n    this.scene.on(SceneEvent.Mousemove, this.saveMouseLngLat);\n\n    this.bindKeyboardEvent();\n  }\n\n  /**\n   * \u76d1\u542c\u901a\u7528\u4e8b\u4ef6\n   */\n  unbindEnableEvent() {\n    this.scene.setMapStatus({\n      doubleClickZoom: true,\n    });\n    this.scene.off(SceneEvent.Mousemove, this.saveMouseLngLat);\n    this.unbindKeyboardEvent();\n  }\n\n  // \u5feb\u6377\u952e\u7ed1\u5b9a\n  bindKeyboardEvent() {\n    const { revert, redo, remove } = this.options.keyboard || {};\n    remove && Mousetrap.bind(remove, this.removeActiveFeature);\n    if (this.options.history) {\n      revert && Mousetrap.bind(revert, this.revertHistory);\n      redo && Mousetrap.bind(redo, this.redoHistory);\n    }\n  }\n\n  // \u5feb\u6377\u952e\u89e3\u7ed1\n  unbindKeyboardEvent() {\n    const { revert, redo, remove } = this.options.keyboard || {};\n    remove && Mousetrap.unbind(remove);\n    if (this.options.history) {\n      revert && Mousetrap.unbind(revert);\n      redo && Mousetrap.unbind(redo);\n    }\n  }\n\n  // \u7528\u4e8e\u6536\u96c6\u5f53\u524d\u9f20\u6807\u6240\u5728\u7ecf\u7eac\u5ea6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u7528\u4e8e\u5728\u6570\u636e\u56de\u9000\u65f6\uff0c\u82e5\u6709\u5b58\u5728\u7ed8\u5236\u4e2d\u7684\u6570\u636e\uff0c\u4f2a\u9020mousemove\u4e8b\u4ef6\u65f6\u4f7f\u7528\n  saveMouseLngLat = debounce(\n    (e: ISceneMouseEvent) => {\n      this.mouseLngLat = getLngLat(e);\n    },\n    100,\n    {\n      maxWait: 100,\n    },\n  );\n\n  /**\n   * \u89e6\u53d1change\u4e8b\u4ef6\uff0c\u540c\u65f6\u89e6\u53d1\u4fdd\u5b58\u6570\u636e\u5907\u4efd\n   */\n  emitChangeEvent() {\n    this.emit(DrawEvent.Change, this.getData());\n    this.saveHistory();\n  }\n\n  /**\n   * \u4fdd\u5b58\u5f53\u524d\u6570\u636e\u5907\u4efd\n   */\n  saveHistory = debounce(() => {\n    if (!this.options.history) {\n      return;\n    }\n    this.source.saveHistory();\n  }, 100);\n\n  /**\n   * \u56de\u9000\u81f3\u4e0a\u4e00\u6b21\u6570\u636e\u5907\u4efd\n   */\n  revertHistory() {\n    if (!this.enabled || !this.options.history) {\n      return;\n    }\n    if (this.source.revertHistory()) {\n      this.correctDrawItem();\n    }\n  }\n\n  /**\n   * \u91cd\u505a\u56de\u9000\u4e4b\u524d\u7684\u6570\u636e\u5907\u4efd\n   */\n  redoHistory() {\n    if (!this.enabled || !this.options.history) {\n      return;\n    }\n    if (this.source.redoHistory()) {\n      this.correctDrawItem();\n    }\n  }\n\n  /**\n   * \u83b7\u53d6 renderType \u4e0e\u5bf9\u5e94 L7\u56fe\u5c42\u7684\u952e\u503c\u5bf9\n   */\n  getRenderLayers() {\n    return fromPairs(\n      toPairs(this.render).map(([renderType, render]) => {\n        return [renderType, render.getLayers()];\n      }),\n    );\n  }\n\n  // \u4f20\u5165 Feature \u6216\u8005 id \u83b7\u53d6\u5f53\u524d\u6570\u636e\u4e2d\u7684\u76ee\u6807 Feature\n  getTargetFeature(\n    target: Feature | string | null | undefined,\n    data = this.getData(),\n  ) {\n    let targetFeature: IBaseFeature | null = null;\n    if (target) {\n      targetFeature =\n        data.find(\n          (feature) =>\n            feature.properties.id ===\n            (typeof target === 'string' ? target : target.properties?.id),\n        ) ?? null;\n      if (!targetFeature && target instanceof Object) {\n        targetFeature =\n          data.find((feature) => isEqual(target.geometry, feature.geometry)) ??\n          null;\n      }\n    }\n    return targetFeature;\n  }\n\n  // \u8bbe\u7f6e\u6fc0\u6d3b\u7684 Feature\n  abstract setActiveFeature(target: Feature | string | null | undefined): void;\n\n  // \u6e05\u9664\u5f53\u524d\u6b63\u5728\u7ed8\u5236\u4e2d\u7684\u7ed8\u5236\u7269\uff0c\u540c\u65f6\u5c06\u5f53\u524d\u6fc0\u6d3b\u6001\u7684\u7ed8\u5236\u7269\u7f6e\u4e3a\u666e\u901a\u6001\n  abstract resetFeatures(): void;\n\n  /**\n   * \u5220\u9664\u5f53\u524dactive\u7684\u7ed8\u5236\u7269\n   */\n  removeActiveFeature() {\n    const activeItem = this.getData().find((item) => {\n      const { isActive, isDraw } = item.properties;\n      return isActive || isDraw;\n    });\n    if (activeItem) {\n      this.removeFeature(activeItem);\n    }\n    return activeItem;\n  }\n\n  /**\n   * \u5220\u9664\u6307\u5b9a\n   * @param target\n   */\n  removeFeature(target: Feature | string) {\n    const data = this.getData();\n    const targetFeature = this.getTargetFeature(target);\n    if (targetFeature) {\n      // @ts-ignore\n      this.setData(\n        data.filter((feature) => !isSameFeature(targetFeature, feature)),\n      );\n      this.emit(DrawEvent.Remove, target, this.getData());\n    }\n  }\n\n  /**\n   * \u77eb\u6b63\u6b63\u5728\u7ed8\u5236Feature\u7684\u865a\u7ebf\u90e8\u5206\uff08Drawer\u4e2d\u90fd\u662f\u5728onSceneMouseMove\u4e2d\u8fdb\u884c\u7ed8\u5236\uff09\n   */\n  correctDrawItem() {\n    const drawItem = this.getData().find((item) => item.properties.isDraw);\n    // \u5982\u679c\u5f53\u524d\u6709\u6b63\u5728\u7ed8\u5236\u7684\u5143\u7d20\uff0c\u9700\u8981\u5c06\u865a\u7ebf\u90e8\u5206\u4e0e\u9f20\u6807\u4f4d\u7f6e\u8868\u73b0\u4e00\u81f4\uff0c\u800c\u975ehistory\u4fdd\u5b58\u65f6\u7684\u865a\u7ebf\u4f4d\u7f6e\n    if (drawItem) {\n      this.onSceneMouseMove({\n        type: 'mousemove',\n        lnglat: this.mouseLngLat,\n        lngLat: this.mouseLngLat,\n      });\n    }\n  }\n\n  /**\n   * \u6839\u636e\u5b50\u7c7b\u5b9e\u73b0\u7684 getRenderTypes \u65b9\u6cd5\uff0c\u521d\u59cb\u5316\u5bf9\u5e94\u7684Render\u5b9e\u4f8b\u3002\n   */\n  initRender(): RenderMap {\n    const renderMap: RenderMap = {};\n    const renderTypeList = this.getRenderTypes();\n\n    for (const renderType of renderTypeList) {\n      const Render = RENDER_MAP[renderType];\n      const style = this.options.style[renderType];\n      // @ts-ignore\n      renderMap[renderType] = new Render(this.scene, {\n        // @ts-ignore\n        style,\n      });\n    }\n\n    return renderMap;\n  }\n\n  /**\n   * \u5149\u6807\u5728\u5730\u56fe\u4e0a\u79fb\u52a8\u65f6\u7684\u56de\u8c03\uff0c\u5b50\u7c7b\u5747\u4f1a\u91cd\u5199\u8be5\u65b9\u6cd5\n   * @param e\n   */\n  abstract onSceneMouseMove(e: ISceneMouseEvent): void;\n\n  /**\n   * \u6839\u636e\u7528\u6237\u4f20\u5165\u7684options\u8fd4\u56de\u901a\u7528\u7684options\u9ed8\u8ba4\u914d\u7f6e\n   * @param options\n   */\n  getCommonOptions<F extends Feature = Feature>(\n    options: DeepPartial<IBaseModeOptions>,\n  ): IBaseModeOptions {\n    return {\n      initialData: [] as F[],\n      autoActive: true,\n      cursor: cloneDeep(DEFAULT_CURSOR_MAP),\n      editable: true,\n      style: cloneDeep(DEFAULT_STYLE),\n      multiple: true,\n      history: cloneDeep(DEFAULT_HISTORY_CONFIG),\n      keyboard: cloneDeep(DEFAULT_KEYBOARD_CONFIG),\n      popup: true,\n      helper: {},\n      maxCount: -1,\n    } as IBaseModeOptions;\n  }\n\n  /**\n   * \u8bbe\u7f6e\u5730\u56fe\u4e0a\u5149\u6807\u6837\u5f0f\u7c7b\u578b\n   * @param cursor\n   */\n  setCursor(cursor: ICursorType | null) {\n    this.cursor.setCursor(cursor);\n  }\n\n  /**\n   * \u91cd\u7f6e\u5149\u6807\u5230\u5e38\u89c4\u72b6\u6001\n   */\n  resetCursor() {\n    this.setCursor(this.addable ? 'draw' : null);\n  }\n\n  /**\n   * \u542f\u7528 Drawer\n   * @param allowCreate \u662f\u5426\u652f\u6301\u6dfb\u52a0\u64cd\u4f5c\n   */\n  enable(allowCreate = true) {\n    this.allowCreate = allowCreate;\n    this.addCount = 0;\n    this.enabled = true;\n    this.bindEnableEvent();\n    this.resetCursor();\n    this.setHelper(this.addable ? 'draw' : null);\n    setTimeout(() => {\n      this.emit(DrawEvent.Enable, this);\n    }, 0);\n  }\n\n  /**\n   * \u7981\u7528Drawer\n   */\n  disable() {\n    this.resetFeatures();\n    this.enabled = false;\n    this.setCursor(null);\n    this.unbindEnableEvent();\n    this.addCount = 0;\n    this.setHelper(null);\n    setTimeout(() => {\n      this.emit(DrawEvent.Disable, this);\n    }, 0);\n  }\n\n  /**\n   * \u6e05\u7a7a\u6240\u6709\u6570\u636e\n   */\n  clear(disable = false) {\n    this.source.clear();\n    this.emit(DrawEvent.Clear, this);\n    if (disable) {\n      this.disable();\n    }\n  }\n\n  /**\n   * \u663e\u793a\u8be5Drawer\u4e0b\u6240\u6709\u56fe\u5c42\n   */\n  show() {\n    return Object.values(this.render).forEach((render) => {\n      render.show();\n    });\n  }\n\n  /**\n   * \u9690\u85cf\u8be5Drawer\u4e0b\u6240\u6709\u56fe\u5c42\n   */\n  hide() {\n    return Object.values(this.render).forEach((render) => {\n      render.hide();\n    });\n  }\n\n  /**\n   * \u9500\u6bc1\u5f53\u524dDrawer\n   */\n  destroy() {\n    Object.values(this.render).forEach((render) => {\n      render.destroy();\n    });\n    Object.values(RenderEvent).forEach((EventName) => {\n      Object.values(this.render).forEach((render) => {\n        render.removeAllListeners(EventName);\n      });\n      this.sceneRender.removeAllListeners(EventName);\n    });\n    setTimeout(() => {\n      Object.values(DrawEvent).forEach((EventName) => {\n        this.removeAllListeners(EventName);\n      });\n    }, 0);\n    this.emit(DrawEvent.Destroy, this);\n  }\n}",Pe="export * from './cursor';\nexport * from './popup';",ke="import { Scene } from '@antv/l7';\nimport { ICursor, ICursorType } from '../typings';\nimport { getMapDom } from '../utils';\n\nexport class Cursor {\n  container: HTMLDivElement | null;\n  cursor: ICursorType | null = null;\n  options: ICursor;\n\n  constructor(scene: Scene, options: ICursor) {\n    this.container = getMapDom(scene) as HTMLDivElement | null;\n    this.options = options;\n  }\n\n  setCursor(cursor: ICursorType | null) {\n    if (cursor !== this.cursor && this.container) {\n      this.container.style.cursor = cursor ? this.options[cursor] : '';\n      this.cursor = cursor;\n    }\n  }\n}",Me="export * from './calc';\nexport * from './common';\nexport * from './feature';\nexport * from './adsorb';\nexport * from './event';",Te="import {\n  along,\n  area,\n  center,\n  centerOfMass,\n  distance,\n  Feature,\n  featureCollection,\n  length,\n  LineString,\n  point,\n  Polygon,\n} from '@turf/turf';\nimport {\n  IAreaOptions,\n  IDashLineFeature,\n  IDistanceOptions,\n  ILineFeature,\n  ITextFeature,\n  ITextProperties,\n} from '../typings';\nimport { getUuid } from './feature';\n\n/**\n * \u83b7\u53d6\u7ebf\u6bb5\u7684\u4e2d\u5fc3\u70b9Feature\n * @param feature\n */\nexport const getLineCenterPoint = (feature: Feature<LineString>) => {\n  const dis = length(feature, {\n    units: 'meters',\n  });\n  return along(feature, dis / 2, {\n    units: 'meters',\n  });\n};\n\n/**\n * \u8fd4\u56de\u7ebf\u6bb5\u5bf9\u5e94\u7684\u8ddd\u79bb\u6587\u672c\n * @param feature\n * @param showTotalDistance\n * @param format\n * @param properties\n */\nexport const calcDistanceTextsByLine = (\n  feature: ILineFeature | IDashLineFeature,\n  {\n    showTotalDistance,\n    format,\n  }: Pick<IDistanceOptions, 'showTotalDistance' | 'format'>,\n  properties: Partial<ITextProperties> = {},\n) => {\n  const textList: ITextFeature[] = [];\n  if (showTotalDistance) {\n    const text = getLineCenterPoint(feature) as ITextFeature;\n    const meters = length(feature, {\n      units: 'meters',\n    });\n    text.properties = {\n      id: getUuid('text'),\n      isActive: false,\n      meters,\n      text: format(meters),\n      type: 'totalDistance',\n      ...properties,\n    };\n    textList.push(text);\n  } else {\n    const { coordinates } = feature.geometry;\n    for (let index = 0; index < coordinates.length - 1; index++) {\n      const currentPoint = point(coordinates[index]);\n      const nextPoint = point(coordinates[index + 1]);\n      const meters = distance(currentPoint, nextPoint, {\n        units: 'meters',\n      });\n\n      const text = center(\n        featureCollection([currentPoint, nextPoint]),\n      ) as ITextFeature;\n      text.properties = {\n        id: getUuid('text'),\n        isActive: false,\n        meters,\n        text: format(meters),\n        type: 'distance',\n        ...properties,\n      };\n      textList.push(text);\n    }\n  }\n  return textList;\n};\n\n/**\n * \u6839\u636e\u4f20\u5165\u7684polygon\u548coptions\u914d\u7f6e\u83b7\u53d6\u9762\u79ef\u6587\u672cFeature\n * @param feature\n * @param options\n * @param properties\n */\nexport const calcAreaText = (\n  feature: Feature<Polygon>,\n  options: Pick<IAreaOptions, 'format'>,\n  properties: Partial<ITextProperties> = {},\n) => {\n  const { format } = options;\n  const meters = area(feature);\n  return centerOfMass(feature, {\n    properties: {\n      meters,\n      text: format(meters),\n      type: 'area',\n      isActive: false,\n      ...properties,\n    },\n  }) as ITextFeature;\n};",Le="import {\n  coordAll,\n  featureCollection,\n  lineString,\n  point,\n  Position,\n} from '@turf/turf';\nimport { first } from 'lodash';\nimport { v4 } from 'uuid';\nimport {\n  IBaseFeature,\n  ILineFeature,\n  ILineProperties,\n  IPointFeature,\n  IPointProperties,\n  IPolygonFeature,\n  IPolygonProperties,\n  IRenderType,\n} from '../typings';\nimport { isDev } from './common';\n\n/**\n * \u83b7\u53d6feature\u552f\u4e00id\n */\nexport const getUuid = (() => {\n  let count = 1;\n  return (prefix: IRenderType) => {\n    return `${prefix}-${isDev ? count++ : v4()}`;\n  };\n})();\n\n/**\n * \u6839\u636eid\u5224\u65ad\u4e24\u4e2afeature\u662f\u5426\u4e3a\u540c\u4e00feature\n * @param feature1\n * @param feature2\n */\nexport const isSameFeature = (\n  feature1?: IBaseFeature | null,\n  feature2?: IBaseFeature | null,\n) => {\n  return !!(\n    feature1 &&\n    feature2 &&\n    feature1.properties?.id === feature2.properties?.id\n  );\n};\n\n/**\n * \u5bf9target\u6570\u636e\u4f7f\u7528targetHandler\uff0c\u5bf9target\u4ee5\u5916\u6570\u636e\u91c7\u7528otherHandler\n * @param target\n * @param data\n * @param targetHandler\n * @param otherHandler\n */\nexport const updateTargetFeature = <F extends IBaseFeature>({\n  target,\n  data,\n  targetHandler,\n  otherHandler,\n}: {\n  target: F;\n  data: F[];\n  targetHandler?: (item: F, index: number) => F | void;\n  otherHandler?: (item: F, index: number) => F | void;\n}) => {\n  return data.map((item, index) => {\n    const handler = isSameFeature(item, target) ? targetHandler : otherHandler;\n    return handler?.(item, index) ?? item;\n  });\n};\n\nexport const getDefaultPointProperties = () => {\n  return {\n    id: getUuid('point'),\n    isHover: false,\n    isActive: false,\n    isDrag: false,\n    createTime: Date.now(),\n  };\n};\n\nexport const getDefaultLineProperties = () => {\n  return {\n    id: getUuid('line'),\n    isHover: false,\n    isActive: false,\n    isDrag: false,\n    isDraw: false,\n    createTime: Date.now(),\n  };\n};\n\nexport const getDefaultPolygonProperties = () => {\n  return {\n    id: getUuid('polygon'),\n    isHover: false,\n    isActive: false,\n    isDrag: false,\n    isDraw: false,\n    createTime: Date.now(),\n  };\n};\n\n// export const getDefaultLinePro\n\n/**\n * \u521b\u5efa\n * @param position\n * @param properties\n */\nexport const createPointFeature = (\n  position: Position,\n  properties: Partial<IPointProperties> = {},\n) => {\n  return point(position, {\n    ...getDefaultPointProperties(),\n    ...properties,\n  }) as IPointFeature;\n};\n\nexport const createLineFeature = (\n  nodes: IPointFeature[],\n  properties: Partial<ILineProperties> = {},\n) => {\n  return {\n    type: 'Feature',\n    properties: {\n      ...getDefaultLineProperties(),\n      nodes,\n      ...properties,\n    },\n    geometry: {\n      type: 'LineString',\n      coordinates: coordAll(featureCollection(nodes)),\n    },\n  } as ILineFeature;\n};\n\nexport const createDashLine = (positions: Position[]) => {\n  return lineString(positions, {\n    id: getUuid('dashLine'),\n  });\n};\n\nexport const createPolygonFeature = (\n  nodes: IPointFeature[],\n  properties: Partial<IPolygonProperties> = {},\n) => {\n  return {\n    type: 'Feature',\n    properties: {\n      ...getDefaultPolygonProperties(),\n      nodes,\n      ...properties,\n    },\n    geometry: {\n      type: 'Polygon',\n      coordinates: [coordAll(featureCollection([...nodes, first(nodes)!]))],\n    },\n  } as IPolygonFeature;\n};",Ie="import { Scene } from '@antv/l7';\nimport { Position } from '@turf/turf';\nimport { ILayerMouseEvent, ILngLat, ISceneMouseEvent } from '../typings';\nimport { isEqual, split } from 'lodash';\n\n// @ts-ignore\nexport const isDev = process.env.NODE_ENV === 'development';\n\n/**\n * \u83b7\u53d6\u5b8c\u5168\u8986\u76d6\u5730\u56fe\u533a\u57df\u7684DOM\uff0c\u4f1a\u6839\u636e\u5730\u56fe\u7c7b\u578b\u8fd4\u56de\u4e0d\u540c\u7684\u7ed3\u679c\n * @param scene\n */\nexport const getMapDom = (scene: Scene): HTMLDivElement | null => {\n  const container = scene.getContainer();\n  return (\n    container?.querySelector('.l7-marker-container') ??\n    container?.querySelector('.amap-maps') ??\n    null\n  );\n};\n\n/**\n * \u78e8\u5e73L7 Scene \u9f20\u6807\u4e8b\u4ef6\u8fd4\u56de\u7684\u7ecf\u7eac\u5ea6\u5dee\u5f02\n * @param e\n */\nexport const getLngLat = (e: ISceneMouseEvent | ILayerMouseEvent) => {\n  // @ts-ignore\n  return e.lngLat || e.lnglat;\n};\n\nexport const getPosition: (\n  e: ISceneMouseEvent | ILayerMouseEvent,\n) => Position = (e) => {\n  const { lng, lat } = getLngLat(e);\n  return [lng, lat];\n};\n\n/**\n * \u5c06lnglat\u8f6c\u6362\u4e3aposition\u683c\u5f0f\n * @param lng\n * @param lat\n */\nexport const transLngLat2Position: (lngLat: ILngLat) => Position = ({\n  lng,\n  lat,\n}) => [lng, lat];\n\n/**\n * \u627e\u5230\u6700\u5c0f\u503c\u7684\u4e0b\u6807\n * @param array\n */\nexport const findMinIndex = (array: number[]) => {\n  let maxValue = Number.MAX_SAFE_INTEGER;\n  let maxIndex = 0;\n  const length = array.length;\n  for (let index = 0; index < length; index++) {\n    if (array[index] < maxValue) {\n      maxValue = array[index];\n      maxIndex = index;\n    }\n  }\n  return maxIndex;\n};\n\nexport const splitByPosition = (\n  positions: Position[],\n  splitPosition: Position,\n) => {\n  const linePositionsList: Position[][] = [];\n  let linePositions: Position[] = [];\n  positions.forEach((position) => {\n    if (!isEqual(position, splitPosition)) {\n      linePositions.push(position);\n    } else if (linePositions.length) {\n      linePositionsList.push(linePositions);\n      linePositions = [];\n    }\n  });\n  if (linePositions.length) {\n    linePositionsList.push(linePositions);\n  }\n  return linePositionsList;\n};",De="import {\n  AdsorbTargetFeature,\n  AdsorbResult,\n  IAdsorbOptions,\n  IPointFeature,\n  ILineFeature,\n} from '../typings';\nimport { LineMode, PolygonMode } from '../mode';\nimport {\n  coordAll,\n  Feature,\n  featureCollection,\n  getType,\n  lineString,\n  LineString,\n  nearestPointOnLine,\n  point,\n  Point,\n  Polygon,\n  polygonToLine,\n  Position,\n} from '@turf/turf';\nimport { Scene } from '@antv/l7';\nimport { findMinIndex, splitByPosition } from './common';\nimport { eq, isEqual } from 'lodash';\n\n/**\n * \u83b7\u53d6\u5f53\u524d\u6570\u636e\u5bf9\u5e94\u7684\u5438\u9644\u70b9\u3001\u7ebf\u6570\u7ec4\n * @param adsorbDataConfig\n * @param draw\n * @param position\n */\nexport const getAdsorbFeature: (\n  adsorbDataConfig: IAdsorbOptions['data'],\n  draw: LineMode<any> | PolygonMode<any>,\n  position: Position,\n) => AdsorbResult = (adsorbDataConfig, draw, position) => {\n  let features: AdsorbTargetFeature[] = [];\n  let adsorbPoints: Feature<Point>[] = [];\n  let adsorbLines: Feature<LineString>[] = [];\n  if (adsorbDataConfig === 'drawData') {\n    features = draw.getData();\n  } else if (adsorbDataConfig instanceof Function) {\n    features = adsorbDataConfig(position);\n  } else {\n    features = adsorbDataConfig;\n  }\n  if (features.length) {\n    adsorbPoints = features\n      .map((feature) => {\n        const { nodes = [], isActive = false } = feature.properties ?? {};\n        return isActive\n          ? nodes.filter((node: IPointFeature) => {\n              return !isEqual(node.geometry.coordinates, position);\n            })\n          : nodes;\n      })\n      .flat()\n      .filter((feature) => feature);\n    if (!adsorbPoints.length) {\n      adsorbPoints = coordAll(featureCollection(features)).map((position) =>\n        point(position),\n      );\n    }\n\n    adsorbLines = features\n      .map((feature) => {\n        const line: ILineFeature = feature.properties?.line ?? feature;\n        if (feature.properties?.isActive) {\n          const { nodes } = line.properties;\n          const positionsList = splitByPosition(\n            nodes.map((node) => node.geometry.coordinates),\n            position,\n          ).filter((positions: Position[]) => positions.length > 1);\n\n          return positionsList.map((positions) => lineString(positions));\n        }\n        return [line];\n      })\n      .flat()\n      .filter((feature) => feature);\n\n    if (!adsorbLines.length) {\n      features.forEach((feature) => {\n        const featureType = getType(feature);\n        if (/linestring/i.test(featureType)) {\n          adsorbLines.push(feature as Feature<LineString>);\n        }\n        if (/polygon/i.test(featureType)) {\n          const result = polygonToLine(feature as Feature<Polygon>);\n          // @ts-ignore\n          return adsorbLines.push(...(result?.features ?? [result]));\n        }\n      });\n    }\n  }\n\n  return {\n    points: adsorbPoints,\n    lines: adsorbLines,\n  };\n};\n\nexport const getAdsorbPoint = (\n  position: Position,\n  points: Feature<Point>[],\n  options: IAdsorbOptions,\n  scene: Scene,\n) => {\n  const { pointAdsorbPixel } = options;\n  const [lng, lat] = position;\n  const { x: mouseX, y: mouseY } = scene.lngLatToPixel([lng, lat]);\n  const squareDistanceList = points.map((point) => {\n    const [lng, lat] = point.geometry.coordinates;\n    const { x, y } = scene.lngLatToPixel([lng, lat]);\n    return (mouseX - x) ** 2 + (mouseY - y) ** 2;\n  });\n  const minIndex = findMinIndex(squareDistanceList);\n  const minDistance = squareDistanceList[minIndex] ** 0.5;\n\n  if (minDistance <= pointAdsorbPixel) {\n    return points[minIndex].geometry.coordinates;\n  } else {\n    return null;\n  }\n};\n\nexport const getAdsorbLine = (\n  position: Position,\n  lines: Feature<LineString>[],\n  options: IAdsorbOptions,\n  scene: Scene,\n) => {\n  const { lineAdsorbPixel } = options;\n  const [lng, lat] = position;\n  const { x: mouseX, y: mouseY } = scene.lngLatToPixel([lng, lat]);\n  const nearestPointList = lines\n    .filter((line) => coordAll(line).length > 1)\n    .map((line) => {\n      return nearestPointOnLine(line, position);\n    });\n  const squareDistanceList = nearestPointList.map((point) => {\n    const [lng, lat] = point.geometry.coordinates;\n    const { x, y } = scene.lngLatToPixel([lng, lat]);\n    return (mouseX - x) ** 2 + (mouseY - y) ** 2;\n  });\n\n  const minIndex = findMinIndex(squareDistanceList);\n  const minDistance = squareDistanceList[minIndex] ** 0.5;\n\n  if (minDistance <= lineAdsorbPixel) {\n    return nearestPointList[minIndex].geometry.coordinates;\n  } else {\n    return null;\n  }\n};",Re="import { ILayerMouseEvent, ISceneMouseEvent } from '../typings';\nimport { Position } from '@turf/turf';\n\nexport const resetEventLngLat = (\n  e: ILayerMouseEvent | ISceneMouseEvent,\n  position: Position,\n) => {\n  const [lng, lat] = position;\n  if (e.lngLat) {\n    e.lngLat = {\n      lng,\n      lat,\n    };\n  }\n  // @ts-ignore\n  if (e.lnglat) {\n    // @ts-ignore\n    e.lnglat = {\n      lng,\n      lat,\n    };\n  }\n};",Ne="import Tippy, { Instance as TippyInstance } from 'tippy.js';\nimport { Scene } from '@antv/l7';\nimport { getMapDom } from '../utils';\nimport { PopupContent, PopupOptions } from '../typings';\nimport 'tippy.js/dist/tippy.css';\nimport 'tippy.js/themes/light.css';\nimport { DEFAULT_POPUP_CONFIG, SceneEvent } from '../constant';\nimport { debounce } from 'lodash';\n\nexport class Popup {\n  protected content: PopupContent = '';\n\n  protected tippy: TippyInstance;\n\n  protected scene: Scene;\n\n  protected isMouseInner = false;\n\n  constructor(scene: Scene, tippyProps: PopupOptions) {\n    this.tippy = Tippy(getMapDom(scene)!, {\n      ...DEFAULT_POPUP_CONFIG,\n      ...tippyProps,\n    });\n    this.tippy.hide();\n    this.scene = scene;\n    scene.on(SceneEvent.Mousemove, this.onMouseMove);\n    scene.on(SceneEvent.Mouseout, this.onMouseOut);\n  }\n\n  onMouseMove = () => {\n    this.isMouseInner = true;\n    this.checkTippyShow();\n  };\n\n  onMouseOut = () => {\n    this.isMouseInner = false;\n    this.checkTippyShow();\n  };\n\n  getContent() {\n    return this.content;\n  }\n\n  setContent = debounce(\n    (content: PopupContent | null) => {\n      this.content = content ?? '';\n      this.tippy.setContent(content ?? '');\n      this.checkTippyShow();\n    },\n    16,\n    {\n      maxWait: 16,\n    },\n  );\n\n  checkTippyShow() {\n    if (this.content && this.isMouseInner) {\n      this.tippy.show();\n    } else {\n      this.tippy.hide();\n    }\n  }\n\n  destroy() {\n    this.scene.off(SceneEvent.Mousemove, this.onMouseMove);\n    this.scene.off(SceneEvent.Mouseout, this.onMouseOut);\n    this.tippy.destroy();\n  }\n}",je="export * from './source';",Fe="import EventEmitter from 'eventemitter3';\nimport { cloneDeep, fromPairs } from 'lodash';\nimport { DEFAULT_SOURCE_DATA, SourceEvent } from '../constant';\nimport { LayerRender } from '../render';\nimport {\n  FeatureUpdater,\n  IBaseFeature,\n  IRenderType,\n  RenderMap,\n  SourceData,\n  SourceOptions,\n} from '../typings';\nimport { History } from './history';\n\nexport class Source extends EventEmitter<\n  SourceEvent | keyof typeof SourceEvent\n> {\n  /**\n   * \u7528\u4e8e\u5b58\u50a8\u6e32\u67d3\u5668render\u6620\u5c04\n   * @protected\n   */\n  protected render: RenderMap;\n\n  /**\n   * \u7528\u4e8e\u5b58\u50a8\u5f53\u524d\u6700\u65b0\u6570\u636e\n   * @protected\n   */\n  protected data: SourceData = cloneDeep(DEFAULT_SOURCE_DATA);\n\n  /**\n   * \u5b58\u50a8\u5f53\u524d\u5ef6\u8fdf\u66f4\u65b0\u51fd\u6570\u7684timeout\n   * @protected\n   */\n  protected timeout: number | null = null;\n\n  /**\n   * \u7528\u4e8e\u9700\u8981\u5f85\u66f4\u65b0\u7684renderType\u4ee5\u53ca\u5bf9\u5e94\u7684\u6700\u65b0\u6570\u636e\n   * @protected\n   */\n  protected diffData: Partial<SourceData> = {};\n\n  /**\n   *\n   * @protected\n   */\n  protected history?: History;\n\n  constructor({ data, render, history: historyConfig }: SourceOptions) {\n    super();\n\n    this.render = render;\n    if (historyConfig) {\n      this.history = new History({\n        config: historyConfig,\n      });\n    }\n    if (data) {\n      this.setData(data);\n    }\n  }\n\n  saveHistory() {\n    return this.history?.save(this.data);\n  }\n\n  revertHistory() {\n    const data = this.history?.revert();\n    if (data) {\n      this.setData(data);\n      return data;\n    }\n  }\n\n  redoHistory() {\n    const data = this.history?.redo();\n    if (data) {\n      this.setData(data);\n      return data;\n    }\n  }\n\n  /**\n   * \u66f4\u65b0\u6570\u636e\u7684\u65b9\u6cd5\uff0c\u65b0\u7684\u6570\u636e\u4f1a\u7d2f\u79ef\u5ef6\u8fdf\u66f4\u65b0\n   * @param data\n   */\n  setData(data: Partial<SourceData>) {\n    if (Object.keys(data).length) {\n      this.data = {\n        ...this.data,\n        ...data,\n      };\n\n      this.diffData = {\n        ...this.diffData,\n        ...data,\n      };\n\n      if (!this.timeout) {\n        this.timeout = requestAnimationFrame(() => this.updateDiffData());\n      }\n\n      this.emit(SourceEvent.Change, {\n        data: this.data,\n      });\n    }\n    return this.data;\n  }\n\n  /**\n   * \u83b7\u53d6\u5168\u91cfsource\u6570\u636e\n   */\n  getData() {\n    return this.data;\n  }\n\n  /**\n   * \u83b7\u53d6\u5355\u9879source\u6570\u636e\n   * @param renderType\n   */\n  getRenderData<F extends IBaseFeature>(renderType: IRenderType) {\n    return this.data[renderType] as unknown as F[];\n  }\n\n  /**\n   * \u8bbe\u7f6e\u5355\u9879\n   * @param renderType\n   * @param updater\n   */\n  setRenderData<F extends IBaseFeature>(\n    renderType: IRenderType,\n    updater: FeatureUpdater<F>,\n  ) {\n    const data =\n      typeof updater === 'function'\n        ? updater(this.getRenderData(renderType))\n        : updater;\n    this.setData({\n      [renderType]: [...data].sort((a, b) => {\n        // @ts-ignore\n        return +a.properties.isActive - +b.properties.isActive;\n      }),\n    });\n    this.emit(SourceEvent.Change, this.data);\n    return data;\n  }\n\n  /**\n   * \u6839\u636e\u5f53\u524ddiffData\u4e2d\u79ef\u7d2f\u7684\u6570\u636e\u66f4\u65b0\u5bf9\u5e94render\n   */\n  updateDiffData() {\n    const renderTypes = Object.entries(this.diffData) as [\n      IRenderType,\n      IBaseFeature[],\n    ][];\n    if (renderTypes.length) {\n      renderTypes.forEach(([renderType, renderData]) => {\n        if (Array.isArray(renderData)) {\n          this.getRender(renderType)?.setData(renderData);\n        }\n      });\n      this.emit(SourceEvent.Update, this.data, this.diffData);\n      this.diffData = {};\n      this.timeout = null;\n    }\n  }\n\n  /**\n   * \u83b7\u53d6\u5bf9\u5e94renderType\u7c7b\u578b\u7684render\u5b9e\u4f8b\uff0c\u5982\u679c\u6ca1\u6709\u83b7\u53d6\u5230\u5219\u4ee3\u8868\n   * @param type\n   */\n  getRender<R extends LayerRender = LayerRender>(\n    type: IRenderType,\n  ): R | undefined {\n    return this.render[type] as R | undefined;\n  }\n\n  /**\n   * \u6e05\u7a7a\u6240\u6709\u6570\u636e\n   */\n  clear() {\n    this.setData(\n      fromPairs(Object.keys(this.render).map((renderType) => [renderType, []])),\n    );\n  }\n}",Be="import { cloneDeep } from 'lodash';\nimport { HistoryConfig, SourceData } from '../typings';\n\nexport class History {\n  /**\n   * \u4fdd\u5b58\u5386\u53f2\u6570\u7ec4\u7684\u961f\u5217\uff0c\u8d8a\u65b0\u7684\u6570\u636e\u8d8a\u9760\u524d\n   * @protected\n   */\n  protected historyList: SourceData[] = [];\n\n  /**\n   * \u5f53\u524d\u56de\u9000/\u91cd\u505a\u64cd\u4f5c\u540e\u5bf9\u5e94\u7684index\u4e0b\u6807\uff0c\u56de\u9000\u5bf9\u5e94index++\uff0c\u91cd\u505a\u5bf9\u5e94index--\n   * @protected\n   */\n  protected historyIndex = 0;\n\n  /**\n   * \u914d\u7f6e\n   * @protected\n   */\n  protected config: HistoryConfig;\n\n  constructor({ config }: { config: HistoryConfig }) {\n    this.config = config;\n  }\n\n  save(data: SourceData) {\n    if (!this.config) {\n      return;\n    }\n    const { maxSize } = this.config;\n\n    if (this.historyIndex) {\n      this.historyList = this.historyList.slice(this.historyIndex);\n      this.historyIndex = 0;\n    }\n\n    if (this.historyList.length >= maxSize) {\n      this.historyList.pop();\n    }\n    const cloneData = cloneDeep(data);\n    this.historyList.unshift(cloneData);\n    return cloneData;\n  }\n\n  revert() {\n    if (\n      !this.historyList.length ||\n      this.historyIndex >= this.historyList.length - 1\n    ) {\n      return;\n    }\n    const previousData = this.historyList[++this.historyIndex];\n    if (previousData) {\n      return cloneDeep(previousData);\n    }\n  }\n\n  redo() {\n    if (!this.historyList.length || this.historyIndex <= 0) {\n      return;\n    }\n    const nextData = this.historyList[--this.historyIndex];\n    if (nextData) {\n      return cloneDeep(nextData);\n    }\n  }\n}",Ue="import { Scene } from '@antv/l7';\nimport { Feature } from '@turf/turf';\nimport { cloneDeep, first, last } from 'lodash';\nimport { DrawEvent, RenderEvent } from '../constant';\nimport {\n  DeepPartial,\n  IDragPolygonHelperOptions,\n  ILayerMouseEvent,\n  ILineFeature,\n  ILineProperties,\n  IMidPointFeature,\n  IPointFeature,\n  IPolygonFeature,\n  IPolygonHelperOptions,\n  IPolygonProperties,\n  ISceneMouseEvent,\n} from '../typings';\nimport {\n  createPointFeature,\n  createPolygonFeature,\n  getLngLat,\n  getPosition,\n  isSameFeature,\n  updateTargetFeature,\n} from '../utils';\nimport { IPolygonModeOptions, PolygonMode } from './polygon-mode';\nimport {\n  DEFAULT_TRIGGER_DRAG_HELPER_CONFIG,\n  DEFAULT_DRAG_POLYGON_HELPER_CONFIg,\n} from '../constant/helper';\n\nexport interface IDragPolygonModeOptions<F extends Feature = Feature>\n  extends IPolygonModeOptions<F> {\n  trigger: 'click' | 'drag';\n  helper: IPolygonHelperOptions | boolean;\n}\n\nexport abstract class DragPolygonMode<\n  T extends IDragPolygonModeOptions,\n> extends PolygonMode<T> {\n  constructor(scene: Scene, options: DeepPartial<T>) {\n    super(scene, options);\n\n    this.onSceneDragStart = this.onSceneDragStart.bind(this);\n    this.onSceneDragEnd = this.onSceneDragEnd.bind(this);\n  }\n\n  get drawLine() {\n    return this.drawPolygon?.properties.line;\n  }\n\n  get isDragTrigger() {\n    return this.options.trigger === 'drag';\n  }\n\n  get isClickTrigger() {\n    return this.options.trigger === 'click';\n  }\n\n  getDefaultOptions(options: DeepPartial<T>): T {\n    const newOptions = {\n      ...super.getDefaultOptions(options),\n      showMidPoint: false,\n      trigger: 'click',\n      autoActive: false,\n      helper: cloneDeep(DEFAULT_DRAG_POLYGON_HELPER_CONFIg),\n    };\n    if (options.trigger === 'drag') {\n      newOptions.helper = {\n        ...(newOptions.helper as IDragPolygonHelperOptions),\n        ...DEFAULT_TRIGGER_DRAG_HELPER_CONFIG,\n      };\n    }\n    return newOptions;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getMidPointsByLine(line: ILineFeature): IMidPointFeature[] {\n    return [];\n  }\n\n  abstract handleCreatePolygonLine(\n    startNode: IPointFeature,\n    endNode: IPointFeature,\n    properties: Partial<ILineProperties>,\n  ): ILineFeature;\n\n  handleCreatePolygon(\n    points: IPointFeature[],\n    line: ILineFeature,\n    properties: Partial<IPolygonProperties> = {},\n  ) {\n    const lineNodes = line.properties.nodes;\n    return createPolygonFeature(lineNodes.slice(0, lineNodes.length - 1), {\n      nodes: points,\n      line,\n      ...properties,\n    });\n  }\n\n  handleFirstNodeCreate(firstNode: IPointFeature) {\n    const lastNode = createPointFeature(firstNode.geometry.coordinates);\n    const line = this.handleCreatePolygonLine(firstNode, lastNode, {\n      isDraw: true,\n      isActive: true,\n    });\n    const polygon = this.handleCreatePolygon([firstNode, lastNode], line, {\n      isDraw: true,\n      isActive: true,\n    });\n    this.setPolygonData((features) =>\n      updateTargetFeature({\n        target: polygon,\n        data: [...features, polygon],\n        targetHandler: (feature) => {\n          feature.properties = {\n            ...feature.properties,\n            isDraw: true,\n            isActive: true,\n          };\n        },\n      }),\n    );\n    this.emit(\n      DrawEvent.AddNode,\n      firstNode,\n      this.drawPolygon,\n      this.getPolygonData(),\n    );\n    this.setHelper('drawFinish');\n    return firstNode;\n  }\n\n  handleLastNodeCreate(lastNode: IPointFeature) {\n    const { autoActive, editable } = this.options;\n    const drawPolygon = this.drawPolygon;\n    if (!drawPolygon) {\n      return lastNode;\n    }\n    this.setLineData((features) => [...features, drawPolygon.properties.line]);\n    this.setActivePolygon(drawPolygon);\n    if (!(autoActive && editable)) {\n      this.handlePolygonUnClick(drawPolygon);\n    }\n    this.emit(DrawEvent.Add, drawPolygon, this.getPolygonData());\n\n    this.emit(\n      DrawEvent.AddNode,\n      drawPolygon.properties.nodes[1],\n      this.drawPolygon,\n      this.getPolygonData(),\n    );\n\n    if (editable) {\n      this.setHelper(autoActive ? 'pointHover' : 'polygonHover');\n    } else {\n      this.setHelper(this.addable ? 'draw' : null);\n    }\n    return lastNode;\n  }\n\n  onPointCreate(e: ILayerMouseEvent): IPointFeature | undefined {\n    if (\n      !this.addable ||\n      this.dragPoint ||\n      this.editLine ||\n      !this.isClickTrigger\n    ) {\n      return;\n    }\n    const drawPolygon = this.drawPolygon;\n    const position = getPosition(e);\n    const feature = this.handleCreatePoint(position);\n    if (drawPolygon) {\n      requestAnimationFrame(() => {\n        this.handleLastNodeCreate(feature);\n      });\n    } else {\n      this.handleFirstNodeCreate(feature);\n    }\n    return feature;\n  }\n\n  setActivePolygon(\n    polygon: IPolygonFeature,\n    properties: Partial<IPolygonProperties> = {},\n  ) {\n    this.setActiveLine(polygon.properties.line, properties);\n    this.setPolygonData((features) => {\n      return updateTargetFeature({\n        target: polygon,\n        data: features,\n        targetHandler: (feature) => {\n          feature.properties = {\n            ...feature.properties,\n            isDraw: false,\n            isActive: true,\n            isDrag: false,\n            isHover: false,\n            ...properties,\n          };\n        },\n        otherHandler: (feature) => {\n          feature.properties = {\n            ...feature.properties,\n            isDraw: false,\n            isActive: false,\n            isDrag: false,\n          };\n        },\n      });\n    });\n    this.setPointData(polygon.properties.nodes);\n    this.setDashLineData([]);\n    const texts = this.getAllTexts();\n    this.setTextData(texts);\n    return polygon;\n  }\n\n  onPointDragging(e: ISceneMouseEvent) {\n    const dragPoint = this.dragPoint;\n    if (!dragPoint) {\n      return;\n    }\n    const feature = this.handlePointDragging(dragPoint, getLngLat(e));\n    const editPolygon = this.editPolygon;\n    if (feature && editPolygon) {\n      this.syncPolygonNodes(\n        editPolygon,\n        editPolygon.properties.nodes.map((node) => {\n          if (isSameFeature(node, feature)) {\n            return feature;\n          }\n          return node;\n        }),\n      );\n      this.setActivePolygon(editPolygon);\n    }\n    return feature;\n  }\n\n  onSceneDragStart(e: ISceneMouseEvent) {\n    if (\n      !this.isDragTrigger ||\n      !this.addable ||\n      this.dragPoint ||\n      this.editLine\n    ) {\n      return;\n    }\n    this.scene.setMapStatus({\n      dragEnable: false,\n    });\n    this.handleFirstNodeCreate(this.handleCreatePoint(getPosition(e)));\n  }\n\n  onSceneDragEnd(e: ISceneMouseEvent) {\n    if (\n      !this.isDragTrigger ||\n      !this.addable ||\n      this.dragPoint ||\n      this.editLine ||\n      !this.drawPolygon\n    ) {\n      return;\n    }\n    this.scene.setMapStatus({\n      dragEnable: false,\n    });\n    this.handleLastNodeCreate(this.handleCreatePoint(getPosition(e)));\n  }\n\n  onSceneMouseMove(e: ISceneMouseEvent) {\n    const drawPolygon = this.drawPolygon;\n    if (!drawPolygon) {\n      return;\n    }\n    const { nodes } = drawPolygon.properties;\n    const firstNode = first(nodes)!;\n    const lastNode = last(nodes)!;\n    lastNode.geometry.coordinates = getPosition(e);\n    this.syncPolygonNodes(drawPolygon, [firstNode, lastNode]);\n    this.setDashLineData([drawPolygon.properties.line]);\n    this.setTextData(this.getAllTexts());\n    this.resetCursor();\n  }\n\n  bindSceneDragEvent() {\n    this.unbindSceneDragEvent();\n    this.sceneRender.on(RenderEvent.Dragstart, this.onSceneDragStart);\n    this.sceneRender.on(RenderEvent.Dragend, this.onSceneDragEnd);\n\n    this.scene.setMapStatus({\n      dragEnable: false,\n    });\n  }\n\n  unbindSceneDragEvent() {\n    this.sceneRender.off(RenderEvent.Dragstart, this.onSceneDragStart);\n    this.sceneRender.off(RenderEvent.Dragend, this.onSceneDragEnd);\n    this.scene.setMapStatus({\n      dragEnable: true,\n    });\n  }\n\n  bindEnableEvent() {\n    super.bindEnableEvent();\n    if (this.isDragTrigger) {\n      this.bindSceneDragEvent();\n    }\n  }\n\n  unbindEnableEvent() {\n    super.unbindEnableEvent();\n    if (this.isDragTrigger) {\n      this.unbindSceneDragEvent();\n    }\n  }\n\n  bindThis() {\n    super.bindThis();\n    this.onSceneDragStart = this.onSceneDragStart.bind(this);\n    this.onSceneDragEnd = this.onSceneDragEnd.bind(this);\n  }\n}",ze="import {\n  booleanClockwise,\n  coordAll,\n  Feature,\n  featureCollection,\n  lineString,\n} from '@turf/turf';\nimport { cloneDeep, first, isEqual, last } from 'lodash';\nimport { DEFAULT_AREA_OPTIONS, DrawEvent, RenderEvent } from '../constant';\nimport { PolygonRender } from '../render';\nimport {\n  DeepPartial,\n  FeatureUpdater,\n  IAreaOptions,\n  ILayerMouseEvent,\n  ILineFeature,\n  IMidPointFeature,\n  IPointFeature,\n  IPolygonFeature,\n  IPolygonHelperOptions,\n  IPolygonProperties,\n  IRenderType,\n  ISceneMouseEvent,\n  ITextFeature,\n} from '../typings';\nimport {\n  calcAreaText,\n  createPointFeature,\n  createPolygonFeature,\n  getPosition,\n  isSameFeature,\n  updateTargetFeature,\n} from '../utils';\nimport { ILineModeOptions, LineMode } from './line-mode';\nimport { DEFAULT_POLYGON_HELPER_CONFIG } from '../constant/helper';\n\nexport interface IPolygonModeOptions<F extends Feature = Feature>\n  extends ILineModeOptions<F> {\n  areaOptions: false | IAreaOptions;\n  helper: IPolygonHelperOptions | boolean;\n}\n\nexport abstract class PolygonMode<\n  T extends IPolygonModeOptions,\n> extends LineMode<T> {\n  protected get dragItem() {\n    return this.dragPolygon;\n  }\n\n  protected get editItem() {\n    return this.editPolygon;\n  }\n\n  /**\n   * \u83b7\u53d6polygon\u7c7b\u578b\u5bf9\u5e94\u7684render\n   * @protected\n   */\n  protected get polygonRender(): PolygonRender | undefined {\n    return this.render.polygon;\n  }\n\n  /**\n   * \u83b7\u53d6\u6b63\u5728\u88ab\u62d6\u62fd\u7684\u7ebf\n   * @protected\n   */\n  protected get dragPolygon() {\n    return this.getPolygonData().find((feature) => feature.properties.isDrag);\n  }\n\n  /**\n   * \u6b63\u5728\u7ed8\u5236\u7684\u7ebf\n   * @protected\n   */\n  protected get drawPolygon() {\n    return this.getPolygonData().find((feature) => feature.properties.isDraw);\n  }\n\n  /**\n   * \u5f53\u524d\u9ad8\u4eae\u7684\u7ed3\u70b9\n   * @protected\n   */\n  protected get editPolygon() {\n    return this.getPolygonData().find((feature) => {\n      const { isActive, isDraw } = feature.properties;\n      return !isDraw && isActive;\n    });\n  }\n\n  getDragPolygon() {\n    return this.dragPolygon;\n  }\n\n  getDrawPolygon() {\n    return this.drawPolygon;\n  }\n\n  getEditPolygon() {\n    return this.editPolygon;\n  }\n\n  getRenderTypes(): IRenderType[] {\n    return ['polygon', 'line', 'dashLine', 'midPoint', 'point', 'text'];\n  }\n\n  getData(): IPolygonFeature[] {\n    return this.getPolygonData();\n  }\n\n  getDefaultOptions(options: DeepPartial<T>): T {\n    const newOptions: T = {\n      ...super.getDefaultOptions(options),\n      areaOptions: false,\n      helper: cloneDeep(DEFAULT_POLYGON_HELPER_CONFIG),\n    };\n    if (options.areaOptions) {\n      newOptions.areaOptions = {\n        ...DEFAULT_AREA_OPTIONS,\n        ...options.areaOptions,\n      };\n    }\n    return newOptions;\n  }\n\n  getAreaTexts(polygons: IPolygonFeature[]): ITextFeature[] {\n    const { areaOptions } = this.options;\n    if (!areaOptions) {\n      return [];\n    }\n    const { format, showWhen } = areaOptions;\n    const textList: ITextFeature[] = [];\n    const polygonData = polygons.filter(\n      (feature) => feature.geometry.coordinates[0].length >= 4,\n    );\n\n    if (showWhen.includes('active')) {\n      polygonData\n        .filter((feature) => feature.properties.isActive)\n        .forEach((feature) => {\n          textList.push(\n            calcAreaText(\n              feature,\n              {\n                format,\n              },\n              {\n                isActive: true,\n              },\n            ),\n          );\n        });\n    }\n\n    if (showWhen.includes('normal')) {\n      polygonData\n        .filter((feature) => !feature.properties.isActive)\n        .forEach((feature) => {\n          textList.push(\n            calcAreaText(\n              feature,\n              {\n                format,\n              },\n              {\n                isActive: false,\n              },\n            ),\n          );\n        });\n    }\n\n    return textList;\n  }\n\n  getAllTexts(): ITextFeature[] {\n    return [\n      ...super.getAllTexts(),\n      ...this.getAreaTexts(this.getPolygonData()),\n    ];\n  }\n\n  /**\n   * \u83b7\u53d6\u7ebf\u6570\u636e\n   */\n  getPolygonData() {\n    return this.source.getRenderData<IPolygonFeature>('polygon');\n  }\n\n  /**\n   * \u8bbe\u7f6e\u7ebf\u6570\u636e\n   * @param data\n   */\n  setPolygonData(data: FeatureUpdater<IPolygonFeature>) {\n    return this.source.setRenderData('polygon', data);\n  }\n\n  handleCreatePolygon(points: IPointFeature[], line: ILineFeature) {\n    const newPolygon = createPolygonFeature(points, {\n      nodes: points,\n      line,\n      isActive: true,\n      isDraw: true,\n    });\n    this.setPolygonData((features) =>\n      updateTargetFeature({\n        target: newPolygon,\n        data: [...features, newPolygon],\n        otherHandler: (feature) => {\n          feature.properties.isActive = false;\n        },\n      }),\n    );\n    return newPolygon;\n  }\n\n  handlePolygonUnClick(polygon: IPolygonFeature) {\n    this.clearActivePolygon();\n    return polygon;\n  }\n\n  handlePolygonHover(polygon: IPolygonFeature) {\n    this.setCursor('polygonHover');\n    this.setPolygonData((features) =>\n      updateTargetFeature({\n        target: polygon,\n        data: features,\n        targetHandler: (feature) => {\n          feature.properties.isHover = true;\n        },\n        otherHandler: (feature) => {\n          feature.properties.isHover = false;\n        },\n      }),\n    );\n    return polygon;\n  }\n\n  handlePolygonUnHover() {\n    this.resetCursor();\n    this.setPolygonData((features) =>\n      features.map((feature) => {\n        feature.properties.isHover = false;\n        return feature;\n      }),\n    );\n  }\n\n  handlePolygonDragStart(polygon: IPolygonFeature) {\n    this.setActivePolygon(polygon, {\n      isDrag: true,\n    });\n    this.scene.setMapStatus({\n      dragEnable: false,\n    });\n    this.setCursor('polygonDrag');\n    return polygon;\n  }\n\n  bindPolygonRenderEvent() {\n    this.polygonRender?.on(\n      RenderEvent.UnClick,\n      this.onPolygonUnClick.bind(this),\n    );\n    this.polygonRender?.on(\n      RenderEvent.Mousemove,\n      this.onPolygonHover.bind(this),\n    );\n    this.polygonRender?.on(\n      RenderEvent.Mouseout,\n      this.onPolygonUnHover.bind(this),\n    );\n    this.polygonRender?.on(\n      RenderEvent.Dragstart,\n      this.onPolygonDragStart.bind(this),\n    );\n    // this.polygonRender?.on(\n    //   RenderEvent.dragging,\n    //   this.onPolygonDragging.bind(this),\n    // );\n    // this.polygonRender?.on(\n    //   RenderEvent.dragend,\n    //   this.onPolygonDragEnd.bind(this),\n    // );\n  }\n\n  syncPolygonNodes(polygon: IPolygonFeature, nodes: IPointFeature[]) {\n    const positions = coordAll(featureCollection([...nodes, first(nodes)!]));\n    const { isDraw, line } = polygon.properties;\n    polygon.properties.nodes = nodes;\n    polygon.geometry.coordinates = [\n      booleanClockwise(lineString(positions)) ? positions : positions.reverse(),\n    ];\n    this.setPolygonData((features) => {\n      return features.map((feature) => {\n        if (isSameFeature(feature, polygon)) {\n          return polygon;\n        }\n        return feature;\n      });\n    });\n    if (!isSameFeature(this.drawPolygon, polygon)) {\n      const oldLineNodes = line.properties.nodes;\n      const newLineNodes = [...nodes];\n      const firstNode = first(newLineNodes)!;\n      if (oldLineNodes.length === nodes.length) {\n        newLineNodes.push(createPointFeature(firstNode.geometry.coordinates));\n      } else {\n        newLineNodes.push(last(oldLineNodes)!);\n      }\n      const lastNode = last(newLineNodes)!;\n      if (\n        !isEqual(firstNode.geometry.coordinates, lastNode.geometry.coordinates)\n      ) {\n        lastNode.geometry.coordinates = cloneDeep(\n          firstNode.geometry.coordinates,\n        );\n      }\n      this.syncLineNodes(line, newLineNodes);\n    }\n    return polygon;\n  }\n\n  setActivePolygon(\n    polygon: IPolygonFeature,\n    properties: Partial<IPolygonProperties> = {},\n  ) {\n    this.setActiveLine(polygon.properties.line, properties);\n    this.setPolygonData((features) =>\n      updateTargetFeature({\n        target: polygon,\n        data: features,\n        targetHandler: (feature) => {\n          feature.properties = {\n            ...feature.properties,\n            isDraw: false,\n            isActive: true,\n            isDrag: false,\n            isHover: false,\n            ...properties,\n          };\n        },\n        otherHandler: (feature) => {\n          feature.properties = {\n            ...feature.properties,\n            isDraw: false,\n            isActive: false,\n            isDrag: false,\n          };\n        },\n      }),\n    );\n    this.setTextData(this.getAllTexts());\n    return polygon;\n  }\n\n  clearActivePolygon() {\n    this.setPolygonData((features) => {\n      return features.map((feature) => {\n        feature.properties = {\n          ...feature.properties,\n          isActive: false,\n          isHover: false,\n        };\n        return feature;\n      });\n    });\n    this.clearActiveLine();\n  }\n\n  onLineDragStart(e: ILayerMouseEvent<ILineFeature>) {\n    const line = super.onLineDragStart(e);\n    const polygon = this.getPolygonData().find((feature) =>\n      isSameFeature(feature.properties.line, line),\n    );\n    if (polygon) {\n      this.setActivePolygon(polygon, {\n        isDrag: true,\n      });\n      this.emit(DrawEvent.DragStart, polygon, this.getPolygonData());\n    }\n    return line;\n  }\n\n  onLineUnClick(e: ILayerMouseEvent) {\n    return this.editLine;\n  }\n\n  onLineDragEnd(e: ISceneMouseEvent) {\n    const feature = super.onLineDragEnd(e);\n    const dragPolygon = this.dragPolygon;\n    if (feature && dragPolygon) {\n      dragPolygon.properties.isDrag = false;\n      this.emit(DrawEvent.DragEnd, dragPolygon, this.getPolygonData());\n      this.emit(DrawEvent.Edit, dragPolygon, this.getPolygonData());\n    }\n    return feature;\n  }\n\n  onPolygonUnClick(e: ILayerMouseEvent) {\n    const editPolygon = this.editPolygon;\n    if (!editPolygon) {\n      return;\n    }\n    return this.handlePolygonUnClick(editPolygon);\n  }\n\n  onPolygonHover(e: ILayerMouseEvent<IPolygonFeature>) {\n    if (this.drawPolygon) {\n      return;\n    }\n    if (!this.dragPolygon) {\n      this.setHelper('polygonHover');\n    }\n    return this.handlePolygonHover(e.feature!);\n  }\n\n  onPolygonUnHover(e: ILayerMouseEvent<IPolygonFeature>) {\n    if (this.drawPolygon) {\n      return;\n    }\n    this.setHelper(this.addable ? 'draw' : null);\n    return this.handlePolygonUnHover();\n  }\n\n  onPolygonDragStart(e: ILayerMouseEvent<IPolygonFeature>) {\n    if (!this.options.editable || this.drawPolygon) {\n      return;\n    }\n    const polygon = e.feature!;\n    this.previousPosition = getPosition(e);\n    this.setHelper('polygonDrag');\n    this.emit(DrawEvent.DragStart, polygon, this.getPolygonData());\n    return this.handlePolygonDragStart(polygon);\n  }\n\n  onMidPointClick(\n    e: ILayerMouseEvent<IMidPointFeature>,\n  ): IPointFeature | undefined {\n    const editPolygon = this.editPolygon;\n    const feature = super.onMidPointClick(e);\n    if (feature && editPolygon) {\n      const lineNodes = editPolygon.properties.line.properties.nodes;\n      this.syncPolygonNodes(\n        editPolygon,\n        lineNodes.slice(0, lineNodes.length - 1),\n      );\n      this.setActivePolygon(editPolygon);\n    }\n    return feature;\n  }\n\n  onPointDragEnd(e: ISceneMouseEvent): IPointFeature | undefined {\n    const editPolygon = this.editPolygon;\n    const feature = super.onPointDragEnd(e);\n    if (feature && editPolygon) {\n      this.emit(DrawEvent.Edit, editPolygon, this.getPolygonData());\n    }\n    return feature;\n  }\n\n  enablePolygonRenderAction() {\n    const { editable } = this.options;\n    this.polygonRender?.enableUnClick();\n    if (editable) {\n      this.polygonRender?.enableHover();\n      this.polygonRender?.enableDrag();\n    }\n  }\n\n  disablePolygonRenderAction() {\n    this.polygonRender?.disableUnClick();\n    this.polygonRender?.disableHover();\n    this.polygonRender?.disableDrag();\n  }\n\n  bindEnableEvent(): void {\n    super.bindEnableEvent();\n    this.enableSceneRenderAction();\n    this.enablePointRenderAction();\n    this.enableLineRenderAction();\n    this.enableMidPointRenderAction();\n    this.enablePolygonRenderAction();\n  }\n\n  unbindEnableEvent(): void {\n    super.unbindEnableEvent();\n    this.disableSceneRenderAction();\n    this.disablePointRenderAction();\n    this.disableLineRenderAction();\n    this.disableMidPointRenderAction();\n    this.disablePolygonRenderAction();\n  }\n\n  bindThis() {\n    super.bindThis();\n\n    this.bindPointRenderEvent = this.bindPointRenderEvent.bind(this);\n    this.bindSceneEvent = this.bindSceneEvent.bind(this);\n    this.bindLineRenderEvent = this.bindLineRenderEvent.bind(this);\n    this.bindMidPointRenderEvent = this.bindMidPointRenderEvent.bind(this);\n    this.bindPolygonRenderEvent = this.bindPolygonRenderEvent.bind(this);\n  }\n\n  setActiveFeature(target: Feature | string | null | undefined) {\n    const targetFeature = this.getTargetFeature(target);\n    if (targetFeature) {\n      this.setActivePolygon(targetFeature as IPolygonFeature);\n    } else {\n      this.clearActivePolygon();\n    }\n  }\n\n  resetFeatures() {\n    let features = this.getPolygonData();\n    if (this.drawPolygon) {\n      features = features.filter((feature) => !feature.properties.isDraw);\n      this.source.setData({\n        point: [],\n        dashLine: [],\n        midPoint: [],\n      });\n      this.setLineData((features) => {\n        return features.filter((feature) => {\n          return !feature.properties.isDraw;\n        });\n      });\n      this.setTextData((features) => {\n        return features.filter((feature) => {\n          return !feature.properties.isActive;\n        });\n      });\n    }\n    if (this.editPolygon) {\n      this.handlePolygonUnClick(this.editPolygon);\n    }\n    this.setPolygonData(\n      features.map((feature) => {\n        feature.properties = {\n          ...feature.properties,\n          isDrag: false,\n          isActive: false,\n          isHover: false,\n        };\n        return feature;\n      }),\n    );\n  }\n}",He="import { coordAll, Feature, featureCollection, Position } from '@turf/turf';\nimport {\n  DEFAULT_ADSORB_CONFIG,\n  DEFAULT_DISTANCE_OPTIONS,\n  RenderEvent,\n} from '../constant';\nimport { LineRender } from '../render';\nimport {\n  DeepPartial,\n  FeatureUpdater,\n  IAdsorbOptions,\n  IDashLineFeature,\n  IDistanceOptions,\n  ILayerMouseEvent,\n  ILineFeature,\n  ILineHelperOptions,\n  ILineProperties,\n  ILngLat,\n  IMidPointFeature,\n  IPointFeature,\n  ISceneMouseEvent,\n  ITextFeature,\n} from '../typings';\nimport {\n  calcDistanceTextsByLine,\n  createLineFeature,\n  createPointFeature,\n  getAdsorbFeature,\n  getAdsorbLine,\n  getAdsorbPoint,\n  getLngLat,\n  getPosition,\n  isSameFeature,\n  resetEventLngLat,\n  transLngLat2Position,\n  updateTargetFeature,\n} from '../utils';\nimport { IMidPointModeOptions, MidPointMode } from './mid-point-mode';\nimport { DEFAULT_LINE_HELPER_CONFIG } from '../constant/helper';\nimport { cloneDeep, isEqual } from 'lodash';\n\nexport interface ILineModeOptions<F extends Feature = Feature>\n  extends IMidPointModeOptions<F> {\n  distanceOptions: false | IDistanceOptions;\n  helper: ILineHelperOptions | boolean;\n  adsorbOptions: IAdsorbOptions | false;\n}\n\nexport abstract class LineMode<\n  T extends ILineModeOptions,\n> extends MidPointMode<T> {\n  /**\n   * \u83b7\u53d6line\u7c7b\u578b\u5bf9\u5e94\u7684render\n   * @protected\n   */\n  protected get lineRender(): LineRender | undefined {\n    return this.render.line;\n  }\n\n  /**\n   * \u83b7\u53d6\u6b63\u5728\u88ab\u62d6\u62fd\u7684\u7ebf\n   * @protected\n   */\n  protected get dragLine() {\n    return this.getLineData().find((feature) => feature.properties.isDrag);\n  }\n\n  /**\n   * \u6b63\u5728\u7ed8\u5236\u7684\u7ebf\n   * @protected\n   */\n  protected get drawLine() {\n    return this.getLineData().find((feature) => feature.properties.isDraw);\n  }\n\n  /**\n   * \u5f53\u524d\u9ad8\u4eae\u7684\u7ed3\u70b9\n   * @protected\n   */\n  protected get editLine() {\n    return this.getLineData().find((feature) => {\n      const { isActive, isDraw } = feature.properties;\n      return !isDraw && isActive;\n    });\n  }\n\n  protected previousPosition: Position = [0, 0];\n\n  getDragLine() {\n    return this.dragLine;\n  }\n\n  getDrawLine() {\n    return this.drawLine;\n  }\n\n  getEditLine() {\n    return this.editLine;\n  }\n\n  getDefaultOptions(options: DeepPartial<T>): T {\n    const newOptions: T = {\n      ...this.getCommonOptions(options),\n      showMidPoint: true,\n      distanceOptions: false,\n      helper: cloneDeep(DEFAULT_LINE_HELPER_CONFIG),\n    };\n    if (options.distanceOptions) {\n      newOptions.distanceOptions = {\n        ...DEFAULT_DISTANCE_OPTIONS,\n        ...newOptions.distanceOptions,\n      };\n    }\n    if (options.adsorbOptions) {\n      newOptions.adsorbOptions = {\n        ...DEFAULT_ADSORB_CONFIG,\n        ...newOptions.adsorbOptions,\n      };\n    }\n    return newOptions;\n  }\n\n  /**\n   * \u83b7\u53d6 position \u7ecf\u8fc7\u5438\u9644\u4f5c\u7528\u540e\u7684 position\uff0c\u82e5\u65e0\u5438\u9644\u6548\u679c\u5219\u8fd4\u56de\u539f\u59cb\u6570\u636e\n   * @param position\n   */\n  getAdsorbPosition(position: Position): Position | null {\n    const { adsorbOptions } = this.options;\n    if (typeof adsorbOptions === 'boolean') {\n      return position;\n    }\n    const scene = this.scene;\n    const { data, pointAdsorbPixel, lineAdsorbPixel } = adsorbOptions;\n    let adsorbPosition: Position | null = null;\n    const { points, lines } = getAdsorbFeature(data, this, position);\n    if (points.length && pointAdsorbPixel > 0) {\n      adsorbPosition = getAdsorbPoint(position, points, adsorbOptions, scene);\n    }\n\n    if (!adsorbPosition && lines.length && lineAdsorbPixel > 0) {\n      adsorbPosition = getAdsorbLine(position, lines, adsorbOptions, scene);\n    }\n\n    return adsorbPosition;\n  }\n\n  bindSceneEvent() {\n    this.sceneRender.on(\n      RenderEvent.Mousemove,\n      this.onSceneMouseMove.bind(this),\n    );\n  }\n\n  bindPointRenderEvent() {\n    super.bindPointRenderEvent();\n    this.pointRender?.on(RenderEvent.Click, this.onPointClick.bind(this));\n  }\n\n  bindLineRenderEvent() {\n    this.lineRender?.on(RenderEvent.UnClick, this.onLineUnClick.bind(this));\n    this.lineRender?.on(RenderEvent.Mousemove, this.onLineMouseMove.bind(this));\n    this.lineRender?.on(RenderEvent.Mouseout, this.onLineMouseOut.bind(this));\n    this.lineRender?.on(RenderEvent.Dragstart, this.onLineDragStart.bind(this));\n    this.lineRender?.on(RenderEvent.Dragging, this.onLineDragging.bind(this));\n    this.lineRender?.on(RenderEvent.Dragend, this.onLineDragEnd.bind(this));\n  }\n\n  getDashLineDistanceTexts(\n    dashLines: IDashLineFeature[],\n    {\n      showTotalDistance,\n      format,\n      showDashDistance,\n    }: Pick<\n      IDistanceOptions,\n      'showTotalDistance' | 'format' | 'showDashDistance'\n    >,\n  ): ITextFeature[] {\n    return showDashDistance\n      ? dashLines\n          .map((dashLine) => {\n            return calcDistanceTextsByLine(\n              dashLine,\n              { showTotalDistance, format },\n              { isActive: true, type: 'dash' },\n            );\n          })\n          .flat()\n      : [];\n  }\n\n  getLineDistanceTexts(\n    lines: ILineFeature[],\n    {\n      showTotalDistance,\n      format,\n      showWhen,\n    }: Pick<IDistanceOptions, 'showTotalDistance' | 'format' | 'showWhen'>,\n  ) {\n    const textList: ITextFeature[] = [];\n    if (showWhen.includes('active')) {\n      const activeLines = lines.filter(\n        (line) => line.properties.isActive && line.properties.nodes.length > 1,\n      );\n\n      textList.push(\n        ...activeLines\n          .map((line) =>\n            calcDistanceTextsByLine(\n              line,\n              { showTotalDistance, format },\n              { isActive: true },\n            ),\n          )\n          .flat(),\n      );\n    }\n\n    if (showWhen.includes('normal')) {\n      const normalLines = lines.filter(\n        (line) => !line.properties.isActive && line.properties.nodes.length > 1,\n      );\n\n      textList.push(\n        ...normalLines\n          .map((line) =>\n            calcDistanceTextsByLine(line, {\n              showTotalDistance,\n              format,\n            }),\n          )\n          .flat(),\n      );\n    }\n\n    return textList;\n  }\n\n  getDistanceTexts(): ITextFeature[] {\n    const { distanceOptions } = this.options;\n    if (!distanceOptions) {\n      return [];\n    }\n    const textList: ITextFeature[] = [];\n    const { showWhen, showDashDistance, format, showTotalDistance } =\n      distanceOptions;\n\n    textList.push(\n      ...this.getDashLineDistanceTexts(this.getDashLineData(), {\n        showTotalDistance: false,\n        format,\n        showDashDistance,\n      }),\n      ...this.getLineDistanceTexts(this.getLineData(), {\n        showTotalDistance,\n        format,\n        showWhen,\n      }),\n    );\n\n    return textList;\n  }\n\n  getAllTexts() {\n    return this.getDistanceTexts();\n  }\n\n  /**\n   * \u521b\u5efaLineFeature\n   * @param point\n   */\n  handleCreateLine(point: IPointFeature) {\n    const newLine = createLineFeature([point], {\n      isActive: true,\n      isDraw: true,\n    });\n    this.setLineData((features) => {\n      return updateTargetFeature<ILineFeature>({\n        target: newLine,\n        data: [...features, newLine],\n        otherHandler: (feature) => {\n          feature.properties.isActive = false;\n        },\n      });\n    });\n    this.setPointData([point]);\n    this.setTextData(this.getAllTexts());\n    return newLine;\n  }\n\n  /**\n   * \u540c\u6b65\u5f53\u524d\u7f16\u8f91\u7ebf\u4e2d\u7684\u7ed3\u70b9\n   * @param line\n   * @param nodes\n   */\n  syncLineNodes(line: ILineFeature, nodes: IPointFeature[]) {\n    line.properties.nodes = nodes;\n    line.geometry.coordinates = coordAll(featureCollection(nodes));\n    this.setLineData((features) => {\n      return features.map((feature) => {\n        if (isSameFeature(feature, line)) {\n          return line;\n        }\n        return feature;\n      });\n    });\n    if (isSameFeature(this.editLine, line)) {\n      this.setMidPointData(this.getMidPointsByLine(line));\n    }\n    this.setPointData(line.properties.nodes);\n    this.setTextData(this.getAllTexts());\n    return line;\n  }\n\n  setActiveLine(line: ILineFeature, properties: Partial<ILineProperties> = {}) {\n    this.setLineData((features) =>\n      updateTargetFeature({\n        target: line,\n        data: features,\n        targetHandler: (feature) => {\n          feature.properties = {\n            ...feature.properties,\n            isDraw: false,\n            isActive: true,\n            isDrag: false,\n            isHover: false,\n            ...properties,\n          };\n        },\n        otherHandler: (feature) => {\n          feature.properties = {\n            ...feature.properties,\n            isDraw: false,\n            isActive: false,\n            isDrag: false,\n          };\n        },\n      }),\n    );\n    this.setPointData(\n      line.properties.nodes.map((feature) => {\n        feature.properties = {\n          ...feature.properties,\n          isHover: false,\n          isActive: false,\n        };\n        return feature;\n      }),\n    );\n    this.setMidPointData(this.getMidPointsByLine(line));\n    this.setDashLineData([]);\n    this.setTextData(this.getAllTexts());\n    return line;\n  }\n\n  clearActiveLine() {\n    this.source.setData({\n      point: [],\n      line: this.getLineData().map((feature) => {\n        feature.properties = {\n          ...feature.properties,\n          isActive: false,\n          isHover: false,\n        };\n        return feature;\n      }),\n      midPoint: [],\n      text: this.getAllTexts(),\n    });\n  }\n\n  handleLineUnClick(link: ILineFeature) {\n    this.clearActiveLine();\n    return link;\n  }\n\n  handleLineHover(line: ILineFeature) {\n    if (this.drawLine) {\n      return;\n    }\n    this.setCursor('lineHover');\n    this.setLineData((features) =>\n      updateTargetFeature({\n        target: line,\n        data: features,\n        targetHandler: (feature) => {\n          feature.properties.isHover = true;\n        },\n        otherHandler: (feature) => {\n          feature.properties.isHover = false;\n        },\n      }),\n    );\n    return line;\n  }\n\n  handleLineUnHover(line: ILineFeature) {\n    if (this.drawLine) {\n      return;\n    }\n    this.resetCursor();\n    this.setLineData((features) =>\n      features.map((feature) => {\n        feature.properties.isHover = false;\n        return feature;\n      }),\n    );\n    return line;\n  }\n\n  handleLineDragStart(line: ILineFeature) {\n    this.setActiveLine(line, {\n      isDrag: true,\n      isActive: true,\n    });\n    this.scene.setMapStatus({\n      dragEnable: false,\n    });\n    this.setCursor('lineDrag');\n    return line;\n  }\n\n  handleLineDragging(line: ILineFeature, { lng, lat }: ILngLat) {\n    const nodes = line.properties.nodes;\n    const [preLng, preLat] = this.previousPosition;\n    nodes.forEach((node) => {\n      const { coordinates } = node.geometry;\n      node.geometry.coordinates = [\n        coordinates[0] + lng - preLng,\n        coordinates[1] + lat - preLat,\n      ];\n    });\n    this.syncLineNodes(line, nodes);\n    this.setActiveLine(line, {\n      isDrag: true,\n    });\n    this.setCursor('lineDrag');\n    this.previousPosition = [lng, lat];\n    return line;\n  }\n\n  handleLineDragEnd(line: ILineFeature) {\n    line.properties.isDrag = false;\n    this.setLineData((features) => features);\n    this.scene.setMapStatus({\n      dragEnable: true,\n    });\n    return line;\n  }\n\n  resetAdsorbLngLat(e: ILayerMouseEvent | ISceneMouseEvent) {\n    if (!this.options.adsorbOptions) {\n      return;\n    }\n    const adsorbPosition = this.getAdsorbPosition(\n      transLngLat2Position(getLngLat(e)),\n    );\n    if (adsorbPosition) {\n      resetEventLngLat(e, adsorbPosition);\n    }\n    return adsorbPosition;\n  }\n\n  /**\n   * \u521b\u5efa\u70b9\u4e4b\u540e\uff0c\u5bf9\u5e94\u7ebf\u6bb5\u7684\u5904\u7406\n   * @param e\n   */\n  onPointCreate(e: ILayerMouseEvent): IPointFeature | undefined {\n    if (this.editLine) {\n      return;\n    }\n    this.resetAdsorbLngLat(e);\n    const point = super.onPointCreate(e);\n    const drawLine = this.drawLine;\n    if (!point) {\n      return;\n    }\n    if (drawLine) {\n      this.syncLineNodes(drawLine, [...drawLine.properties.nodes, point]);\n      this.setDashLineData([]);\n    } else {\n      this.handleCreateLine(point);\n    }\n    return point;\n  }\n\n  onPointDragStart(e: ILayerMouseEvent<IPointFeature>) {\n    const editLine = this.editLine;\n    if (!editLine) {\n      return;\n    }\n    this.setHelper('pointDrag');\n    return super.onPointDragStart(e);\n  }\n\n  onPointDragging(e: ISceneMouseEvent): IPointFeature | undefined {\n    const dragPoint = super.onPointDragging(e);\n    if (dragPoint) {\n      const adsorbPosition = this.resetAdsorbLngLat(e);\n      if (adsorbPosition) {\n        dragPoint.geometry.coordinates = cloneDeep(adsorbPosition);\n      }\n    }\n    const editLine = this.editLine;\n    if (editLine && dragPoint) {\n      this.syncLineNodes(\n        editLine,\n        editLine.properties.nodes.map((node) => {\n          if (isSameFeature(dragPoint, node)) {\n            return dragPoint;\n          }\n          return node;\n        }),\n      );\n      this.setActiveLine(editLine);\n    }\n    return dragPoint;\n  }\n\n  onPointDragEnd(e: ISceneMouseEvent): IPointFeature | undefined {\n    const editLine = this.editLine;\n    if (editLine) {\n      const dragPoint = super.onPointDragEnd(e);\n      this.setPointData((features) => {\n        return features.map((feature) => {\n          feature.properties.isActive = false;\n          return feature;\n        });\n      });\n      this.setHelper('pointHover');\n      return dragPoint;\n    }\n  }\n\n  onLineUnClick(e: ILayerMouseEvent) {\n    const editLine = this.editLine;\n    if (!editLine) {\n      return;\n    }\n    return this.handleLineUnClick(editLine);\n  }\n\n  onLineMouseMove(e: ILayerMouseEvent<ILineFeature>) {\n    if (this.drawLine) {\n      return;\n    }\n    if (!this.dragLine && !this.drawLine && this.options.editable) {\n      this.setHelper('lineHover');\n    }\n    return this.handleLineHover(e.feature!);\n  }\n\n  onLineMouseOut(e: ILayerMouseEvent<ILineFeature>) {\n    if (this.drawLine) {\n      return;\n    }\n    if (!this.dragLine && !this.drawLine) {\n      this.setHelper(this.addable ? 'draw' : null);\n    }\n    return this.handleLineUnHover(e.feature!);\n  }\n\n  onLineDragStart(e: ILayerMouseEvent<ILineFeature>) {\n    if (!this.options.editable || this.drawLine) {\n      return;\n    }\n    this.previousPosition = getPosition(e);\n    this.setHelper('lineDrag');\n    return this.handleLineDragStart(e.feature!);\n  }\n\n  onLineDragging(e: ISceneMouseEvent) {\n    const dragLine = this.dragLine;\n    if (!dragLine) {\n      return;\n    }\n    return this.handleLineDragging(dragLine, getLngLat(e));\n  }\n\n  onLineDragEnd(e: ISceneMouseEvent) {\n    const dragLine = this.dragLine;\n    if (!dragLine) {\n      return;\n    }\n    this.setHelper('lineHover');\n    return this.handleLineDragEnd(dragLine);\n  }\n\n  onPointMouseMove(e: ILayerMouseEvent<IPointFeature>) {\n    const feature = super.onPointMouseMove(e);\n    if (!this.dragLine && !this.drawLine && !this.dragPoint) {\n      this.setHelper('pointHover');\n    }\n    return feature;\n  }\n\n  onPointMouseOut(e: ILayerMouseEvent<IPointFeature>) {\n    const feature = super.onPointMouseOut(e);\n    if (!this.dragLine && !this.drawLine && !this.dragPoint) {\n      this.setHelper(this.addable ? 'draw' : null);\n    }\n    return feature;\n  }\n\n  onMidPointHover(e: ILayerMouseEvent<IMidPointFeature>) {\n    super.onMidPointHover(e);\n    this.setHelper('midPointHover');\n  }\n\n  onMidPointUnHover(e: ILayerMouseEvent<IMidPointFeature>) {\n    super.onMidPointUnHover(e);\n    this.setHelper(null);\n  }\n\n  onPointClick(e: ILayerMouseEvent<IPointFeature>) {}\n\n  /**\n   * \u83b7\u53d6\u7ebf\u6570\u636e\n   */\n  getLineData() {\n    return this.source.getRenderData<ILineFeature>('line');\n  }\n\n  /**\n   * \u8bbe\u7f6e\u7ebf\u6570\u636e\n   * @param data\n   */\n  setLineData(data: FeatureUpdater<ILineFeature>) {\n    return this.source.setRenderData('line', data);\n  }\n\n  getTextData() {\n    return this.source.getRenderData<ITextFeature>('text');\n  }\n\n  setTextData(data: FeatureUpdater<ITextFeature>) {\n    return this.source.setRenderData('text', data);\n  }\n\n  /**\n   * \u83b7\u53d6\u7ebf\u6570\u636e\n   */\n  getDashLineData() {\n    return this.source.getRenderData<IDashLineFeature>('dashLine');\n  }\n\n  /**\n   * \u8bbe\u7f6e\u7ebf\u6570\u636e\n   * @param data\n   */\n  setDashLineData(data: FeatureUpdater<IDashLineFeature>) {\n    return this.source.setRenderData('dashLine', data);\n  }\n\n  onMidPointClick(\n    e: ILayerMouseEvent<IMidPointFeature>,\n  ): IPointFeature | undefined {\n    const editLine = this.editLine;\n    const feature = e.feature;\n    if (!editLine || !feature || this.dragPoint) {\n      return;\n    }\n    const nodes = editLine.properties.nodes;\n    const { startId, endId } = feature.properties;\n    const startIndex = nodes.findIndex(\n      (feature) => feature.properties.id === startId,\n    );\n    const endIndex = nodes.findIndex(\n      (feature) => feature.properties.id === endId,\n    );\n    if (startIndex > -1 && endIndex > -1) {\n      const newNode = createPointFeature(feature.geometry.coordinates, {\n        isDrag: true,\n        isHover: true,\n      });\n      this.setHelper('pointDrag');\n      nodes.splice(endIndex, 0, newNode);\n      editLine.geometry.coordinates = coordAll(featureCollection(nodes));\n      this.syncLineNodes(editLine, nodes);\n      this.setActiveLine(editLine);\n      return newNode;\n    }\n  }\n\n  enableSceneRenderAction() {\n    this.sceneRender.enableDrag();\n    this.sceneRender.enableMouseMove();\n    this.sceneRender.enableDblClick();\n  }\n\n  disableSceneRenderAction() {\n    this.sceneRender.disableDrag();\n    this.sceneRender.disableMouseMove();\n    this.sceneRender.disableDblClick();\n  }\n\n  enableLineRenderAction() {\n    const { editable } = this.options;\n    this.lineRender?.enableUnClick();\n    if (editable) {\n      this.lineRender?.enableHover();\n      this.lineRender?.enableDrag();\n    }\n  }\n\n  disableLineRenderAction() {\n    this.lineRender?.disableUnClick();\n    this.lineRender?.disableHover();\n    this.lineRender?.disableDrag();\n  }\n}",Ve="import { center, Feature, featureCollection } from '@turf/turf';\nimport { RenderEvent } from '../constant';\nimport { MidPointRender } from '../render';\nimport {\n  DeepPartial,\n  FeatureUpdater,\n  IBaseModeOptions,\n  ILayerMouseEvent,\n  ILineFeature,\n  IMidPointFeature,\n  IPointFeature,\n} from '../typings';\nimport { getUuid } from '../utils';\nimport { PointMode } from './point-mode';\n\nexport interface IMidPointModeOptions<F extends Feature = Feature>\n  extends IBaseModeOptions<F> {\n  showMidPoint: boolean;\n}\n\nexport abstract class MidPointMode<\n  T extends IMidPointModeOptions,\n> extends PointMode<T> {\n  /**\n   * \u83b7\u53d6midPoint\u7c7b\u578b\u5bf9\u5e94\u7684render\n   * @protected\n   */\n  protected get midPointRender(): MidPointRender | undefined {\n    return this.render.midPoint;\n  }\n\n  getCommonOptions(options: DeepPartial<T>): T {\n    // @ts-ignore\n    return {\n      ...super.getCommonOptions(options),\n      showMidPoint: true,\n    };\n  }\n\n  bindMidPointRenderEvent() {\n    this.midPointRender?.on(RenderEvent.Click, this.onMidPointClick.bind(this));\n    this.midPointRender?.on(\n      RenderEvent.Mousemove,\n      this.onMidPointHover.bind(this),\n    );\n    this.midPointRender?.on(\n      RenderEvent.Mouseout,\n      this.onMidPointUnHover.bind(this),\n    );\n  }\n\n  /**\n   * \u83b7\u53d6\u4e2d\u70b9\u6570\u636e\n   */\n  getMidPointData() {\n    return this.source.getRenderData<IMidPointFeature>('midPoint');\n  }\n\n  /**\n   * \u8bbe\u7f6e\u4e2d\u70b9\u6570\u636e\n   * @param data\n   */\n  setMidPointData(data: FeatureUpdater<IMidPointFeature>) {\n    return this.source.setRenderData('midPoint', data);\n  }\n\n  /**\n   * \u8ba1\u7b97\u5e76\u8fd4\u56de\u4f20\u5165\u7ebf\u6bb5\u7684\u4e2d\u70b9\u6570\u7ec4\n   * @param line\n   */\n  getMidPointsByLine(line: ILineFeature): IMidPointFeature[] {\n    const nodes = line.properties.nodes;\n    if (!this.options.showMidPoint || nodes.length < 2) {\n      return [];\n    }\n    const midPoints: IMidPointFeature[] = [];\n    for (let index = 0; index < nodes.length - 1; index++) {\n      const newMidPoint = center(\n        featureCollection([nodes[index], nodes[index + 1]]),\n        {\n          properties: {\n            id: getUuid('midPoint'),\n            startId: nodes[index].properties?.id ?? '',\n            endId: nodes[index + 1].properties?.id ?? '',\n          },\n        },\n      ) as IMidPointFeature;\n      midPoints.push(newMidPoint);\n    }\n    return midPoints;\n  }\n\n  abstract onMidPointClick(\n    e: ILayerMouseEvent<IMidPointFeature>,\n  ): IPointFeature | undefined;\n\n  onMidPointHover(e: ILayerMouseEvent<IMidPointFeature>) {\n    this.setCursor('pointHover');\n  }\n\n  onMidPointUnHover(e: ILayerMouseEvent<IMidPointFeature>) {\n    this.resetCursor();\n  }\n\n  enableMidPointRenderAction() {\n    this.midPointRender?.enableClick();\n    this.midPointRender?.enableHover();\n  }\n\n  disableMidPointRenderAction() {\n    this.midPointRender?.disableClick();\n    this.midPointRender?.disableHover();\n  }\n}",Ge="import { Position } from '@turf/turf';\nimport { RenderEvent } from '../constant';\nimport { PointRender } from '../render';\nimport {\n  FeatureUpdater,\n  IBaseModeOptions,\n  ILayerMouseEvent,\n  ILngLat,\n  IPointFeature,\n  ISceneMouseEvent,\n} from '../typings';\nimport {\n  createPointFeature,\n  getLngLat,\n  transLngLat2Position,\n  updateTargetFeature,\n} from '../utils';\nimport { BaseMode } from './base-mode';\n\nexport abstract class PointMode<\n  T extends IBaseModeOptions,\n> extends BaseMode<T> {\n  /**\n   * \u83b7\u53d6point\u7c7b\u578b\u5bf9\u5e94\u7684render\n   * @protected\n   */\n  protected get pointRender(): PointRender | undefined {\n    return this.render.point;\n  }\n\n  /**\n   * \u83b7\u53d6\u6b63\u5728\u88ab\u62d6\u62fd\u7684\u7ed3\u70b9\n   * @protected\n   */\n  protected get dragPoint() {\n    return this.getPointData().find((feature) => feature.properties.isDrag);\n  }\n\n  /**\n   * \u5f53\u524d\u9ad8\u4eae\u7684\u7ed3\u70b9\n   * @protected\n   */\n  protected get editPoint() {\n    return this.getPointData().find((feature) => {\n      return feature.properties.isActive;\n    });\n  }\n\n  getDragPoint() {\n    return this.dragPoint;\n  }\n\n  getEditPoint() {\n    return this.editPoint;\n  }\n\n  /**\n   * \u83b7\u53d6\u70b9\u6570\u636e\n   */\n  getPointData() {\n    return this.source.getRenderData<IPointFeature>('point');\n  }\n\n  /**\n   * \u8bbe\u7f6e\u70b9\u6570\u636e\n   * @param data\n   */\n  setPointData(data: FeatureUpdater<IPointFeature>) {\n    return this.source.setRenderData('point', data);\n  }\n\n  /**\n   * \u7ed1\u5b9a\u70b9Render\u76f8\u5173\u4e8b\u4ef6\n   */\n  bindPointRenderEvent() {\n    this.pointRender?.on(RenderEvent.UnClick, this.onPointCreate.bind(this));\n    this.pointRender?.on(\n      RenderEvent.Mousemove,\n      this.onPointMouseMove.bind(this),\n    );\n    this.pointRender?.on(RenderEvent.Mouseout, this.onPointMouseOut.bind(this));\n    this.pointRender?.on(\n      RenderEvent.Dragstart,\n      this.onPointDragStart.bind(this),\n    );\n    this.pointRender?.on(RenderEvent.Dragging, this.onPointDragging.bind(this));\n    this.pointRender?.on(RenderEvent.Dragend, this.onPointDragEnd.bind(this));\n  }\n\n  /**\n   * \u521b\u5efa\u70b9Feature\n   * @param position\n   */\n  handleCreatePoint(position: Position): IPointFeature {\n    const { autoActive, editable } = this.options;\n    const newFeature = createPointFeature(position);\n    this.setPointData((oldData) => {\n      return updateTargetFeature<IPointFeature>({\n        target: newFeature,\n        data: [...oldData, newFeature],\n        targetHandler: (item) => {\n          item.properties = {\n            ...item.properties,\n            isHover: editable,\n            isActive: autoActive && editable,\n          };\n        },\n        otherHandler: (item) => {\n          item.properties = {\n            ...item.properties,\n            isHover: false,\n            isActive: false,\n            isDrag: false,\n          };\n        },\n      });\n    });\n    return newFeature;\n  }\n\n  handlePointHover(point: IPointFeature) {\n    this.setCursor('pointHover');\n    this.setPointData((features) => {\n      return updateTargetFeature<IPointFeature>({\n        target: point,\n        data: features,\n        targetHandler: (item) => {\n          item.properties.isHover = true;\n        },\n        otherHandler: (item) => {\n          item.properties.isHover = false;\n        },\n      });\n    });\n    return point;\n  }\n\n  handlePointUnHover(point: IPointFeature) {\n    this.resetCursor();\n    this.setPointData((features) =>\n      features.map((feature) => {\n        feature.properties.isHover = false;\n        return feature;\n      }),\n    );\n    return point;\n  }\n\n  handlePointDragStart(point: IPointFeature) {\n    this.setPointData((features) => {\n      return updateTargetFeature<IPointFeature>({\n        target: point,\n        data: features,\n        targetHandler: (item) => {\n          item.properties = {\n            ...item.properties,\n            isDrag: true,\n            isActive: true,\n          };\n        },\n        otherHandler: (item) => {\n          item.properties = {\n            ...item.properties,\n            isDrag: false,\n            isActive: false,\n          };\n        },\n      });\n    });\n    this.scene.setMapStatus({\n      dragEnable: false,\n    });\n    this.setCursor('pointDrag');\n    return point;\n  }\n\n  handlePointDragging(point: IPointFeature, lngLat: ILngLat) {\n    this.setPointData((features) => {\n      return updateTargetFeature<IPointFeature>({\n        target: point,\n        data: features,\n        targetHandler: (item) => {\n          item.geometry.coordinates = transLngLat2Position(lngLat);\n        },\n      });\n    });\n    this.scene.setMapStatus({\n      dragEnable: false,\n    });\n    this.setCursor('pointDrag');\n    return point;\n  }\n\n  handlePointDragEnd(point: IPointFeature) {\n    this.setPointData((features) => {\n      return updateTargetFeature<IPointFeature>({\n        target: point,\n        data: features,\n        targetHandler: (item) => {\n          item.properties.isDrag = false;\n        },\n      });\n    });\n    this.scene.setMapStatus({\n      dragEnable: true,\n    });\n    this.setCursor('pointHover');\n    return point;\n  }\n\n  /**\n   * \u521b\u5efa\u70b9\u56de\u8c03\n   * @param e\n   */\n  onPointCreate(e: ILayerMouseEvent): IPointFeature | undefined {\n    return this.handleCreatePoint(transLngLat2Position(getLngLat(e)));\n  }\n\n  onPointMouseMove(e: ILayerMouseEvent<IPointFeature>) {\n    return this.handlePointHover(e.feature!);\n  }\n\n  onPointMouseOut(e: ILayerMouseEvent<IPointFeature>) {\n    return this.handlePointUnHover(e.feature!);\n  }\n\n  /**\n   * \u5f00\u59cb\u62d6\u62fd\u70b9\u56de\u8c03\n   * @param e\n   */\n  onPointDragStart(e: ILayerMouseEvent<IPointFeature>) {\n    if (!this.options.editable) {\n      return;\n    }\n    return this.handlePointDragStart(e.feature!);\n  }\n\n  /**\n   * \u62d6\u62fd\u4e2d\u70b9\u56de\u8c03\n   * @param e\n   */\n  onPointDragging(e: ISceneMouseEvent) {\n    const dragPoint = this.dragPoint;\n    if (!this.options.editable || !dragPoint) {\n      return;\n    }\n    return this.handlePointDragging(dragPoint, getLngLat(e));\n  }\n\n  /**\n   * \u62d6\u62fd\u7ed3\u675f\u70b9\u56de\u8c03\n   * @param e\n   */\n  onPointDragEnd(e: ISceneMouseEvent) {\n    const dragPoint = this.dragPoint;\n    if (!this.options.editable || !dragPoint) {\n      return;\n    }\n    return this.handlePointDragEnd(dragPoint);\n  }\n\n  enablePointRenderAction() {\n    const { editable } = this.options;\n    if (this.enabled) {\n      this.pointRender?.enableCreate();\n    }\n    this.pointRender?.enableClick();\n    if (editable) {\n      this.pointRender?.enableHover();\n      this.pointRender?.enableDrag();\n    }\n  }\n\n  disablePointRenderAction() {\n    this.pointRender?.disableCreate();\n    this.pointRender?.disableHover();\n    this.pointRender?.disableDrag();\n    this.pointRender?.disableClick();\n  }\n}",We="import {\n  ILineHelperOptions,\n  IPointHelperOptions,\n  IPolygonHelperOptions,\n  IDragPolygonHelperOptions,\n} from '../typings';\n\nexport const DEFAULT_POINT_HELPER_CONFIG: IPointHelperOptions = {\n  draw: '\u5355\u51fb\u7ed8\u5236\u70b9',\n  pointHover: '\u53ef\u62d6\u62fd\u8c03\u6574\u70b9\u4f4d\u7f6e',\n  pointDrag: null,\n};\n\nexport const DEFAULT_LINE_HELPER_CONFIG: ILineHelperOptions = {\n  draw: '\u5355\u51fb\u7ed8\u5236\u9996\u4e2a\u8282\u70b9',\n  pointHover: '\u53ef\u62d6\u62fd\u8c03\u6574\u8282\u70b9\u4f4d\u7f6e',\n  pointDrag: null,\n  lineHover: '\u53ef\u62d6\u62fd\u8c03\u6574\u7ebf\u4f4d\u7f6e',\n  lineDrag: null,\n  midPointHover: '\u5355\u51fb\u5728\u8be5\u4f4d\u7f6e\u65b0\u589e\u8282\u70b9',\n  drawFinish: '\u5355\u51fb\u7ee7\u7eed\u7ed8\u5236\uff0c\u53cc\u51fb\u7ed3\u675f\u7ed8\u5236',\n};\n\nexport const DEFAULT_POLYGON_HELPER_CONFIG: IPolygonHelperOptions = {\n  draw: '\u5355\u51fb\u7ed8\u5236\u9996\u4e2a\u8282\u70b9',\n  drawContinue: '\u5355\u51fb\u7ee7\u7eed\u7ed8\u5236',\n  drawFinish: '\u5355\u51fb\u7ee7\u7eed\u7ed8\u5236\uff0c\u53cc\u51fb\u7ed3\u675f\u7ed8\u5236',\n  midPointHover: '\u5355\u51fb\u5728\u8be5\u4f4d\u7f6e\u65b0\u589e\u8282\u70b9',\n  pointHover: '\u53ef\u62d6\u62fd\u8c03\u6574\u8282\u70b9\u4f4d\u7f6e',\n  pointDrag: null,\n  lineHover: '\u53ef\u62d6\u62fd\u8c03\u6574\u9762\u4f4d\u7f6e',\n  lineDrag: null,\n  polygonHover: '\u53ef\u62d6\u62fd\u8c03\u6574\u9762\u4f4d\u7f6e',\n  polygonDrag: null,\n};\n\nexport const DEFAULT_DRAG_POLYGON_HELPER_CONFIg: IDragPolygonHelperOptions = {\n  ...DEFAULT_POLYGON_HELPER_CONFIG,\n  draw: '\u5355\u51fb\u7ed8\u5236\u9996\u4e2a\u8282\u70b9',\n  drawFinish: '\u5355\u51fb\u7ed3\u675f\u7ed8\u5236',\n};\n\nexport const DEFAULT_TRIGGER_DRAG_HELPER_CONFIG: Partial<IDragPolygonHelperOptions> =\n  {\n    draw: '\u62d6\u62fd\u5f00\u59cb\u7ed8\u5236',\n    drawFinish: '\u677e\u5f00\u9f20\u6807\u7ed3\u675f\u7ed8\u5236',\n  };\n\nexport const DEFAULT_RECT_HELPER_CONFIG: Partial<IDragPolygonHelperOptions> = {\n  lineHover: '\u53ef\u62d6\u62fd\u8c03\u6574\u77e9\u5f62\u4f4d\u7f6e',\n  polygonHover: '\u53ef\u62d6\u62fd\u8c03\u6574\u77e9\u5f62\u4f4d\u7f6e',\n};\n\nexport const DEFAULT_CIRCLE_HELPER_CONFIG: Partial<IDragPolygonHelperOptions> =\n  {\n    lineHover: '\u53ef\u62d6\u62fd\u8c03\u6574\u5706\u4f4d\u7f6e',\n    polygonHover: '\u53ef\u62d6\u62fd\u8c03\u6574\u5706\u4f4d\u7f6e',\n  };",qe="import { Scene } from '@antv/l7';\nimport { coordAll, Feature, LineString } from '@turf/turf';\nimport { last } from 'lodash';\nimport { DrawEvent, RenderEvent } from '../constant';\nimport { ILineModeOptions, LineMode } from '../mode';\nimport {\n  DeepPartial,\n  ILayerMouseEvent,\n  ILineFeature,\n  IMidPointFeature,\n  IPointFeature,\n  IRenderType,\n  ISceneMouseEvent,\n} from '../typings';\nimport {\n  createDashLine,\n  createPointFeature,\n  getDefaultLineProperties,\n  getPosition,\n  isSameFeature,\n} from '../utils';\n\nexport type ILineDrawerOptions = ILineModeOptions<Feature<LineString>>;\n\nexport class LineDrawer extends LineMode<ILineDrawerOptions> {\n  constructor(scene: Scene, options: DeepPartial<ILineDrawerOptions>) {\n    super(scene, options);\n\n    this.sceneRender.on(RenderEvent.DblClick, this.drawLineFinish);\n    this.bindPointRenderEvent();\n    this.bindSceneEvent();\n    this.bindMidPointRenderEvent();\n    this.bindLineRenderEvent();\n  }\n\n  protected get dragItem() {\n    return this.dragLine;\n  }\n\n  protected get editItem() {\n    return this.editLine;\n  }\n\n  setData(lines: Feature<LineString>[]) {\n    const lineFeatures = lines.map((line) => {\n      line.properties = {\n        ...getDefaultLineProperties(),\n        ...(line.properties ?? {}),\n      };\n      if (!line.properties.nodes?.length) {\n        line.properties.nodes = coordAll(line).map((position) => {\n          return createPointFeature(position);\n        });\n      }\n      return line as ILineFeature;\n    });\n    this.source.setData({\n      point: [],\n      midPoint: [],\n      dashLine: [],\n      line: lineFeatures,\n    });\n    this.setTextData(this.getAllTexts());\n\n    if (this.editLine) {\n      this.setActiveLine(this.editLine);\n    }\n  }\n\n  getData(): ILineFeature[] {\n    return this.getLineData();\n  }\n\n  getRenderTypes(): IRenderType[] {\n    return ['line', 'dashLine', 'midPoint', 'point', 'text'];\n  }\n\n  bindPointRenderEvent() {\n    super.bindPointRenderEvent();\n    this.pointRender?.on(\n      RenderEvent.Contextmenu,\n      this.onPointContextMenu.bind(this),\n    );\n  }\n\n  drawLineFinish = () => {\n    const drawLine = this.drawLine;\n    const nodes = drawLine?.properties.nodes ?? [];\n    if (!drawLine || nodes?.length <= 1) {\n      return;\n    }\n    this.setActiveLine(drawLine);\n    const { autoActive, editable } = this.options;\n    if (!autoActive || !editable) {\n      this.handleLineUnClick(drawLine);\n    }\n    if (editable && autoActive) {\n      this.setHelper('pointHover');\n    } else {\n      this.setHelper(this.addable ? 'draw' : null);\n    }\n    this.emit(DrawEvent.Add, drawLine, this.getLineData());\n  };\n\n  onPointClick(e: ILayerMouseEvent<IPointFeature>) {\n    const drawLine = this.drawLine;\n    const nodes = drawLine?.properties.nodes ?? [];\n    const feature = e.feature!;\n    if (isSameFeature(feature, last(nodes))) {\n      requestAnimationFrame(() => {\n        this.drawLineFinish();\n      });\n    } else {\n      const [lng, lat] = feature.geometry.coordinates;\n      e.lngLat = {\n        lng,\n        lat,\n      };\n      this.onPointCreate(e);\n    }\n  }\n\n  removeNode(node: Feature | string, feature: Feature | string) {\n    const targetFeature = this.getTargetFeature(feature) as\n      | ILineFeature\n      | undefined;\n    const targetNode = this.getTargetFeature(\n      node,\n      targetFeature?.properties.nodes ?? [],\n    );\n    if (targetFeature && targetNode) {\n      const nodes = targetFeature?.properties.nodes ?? [];\n      if (nodes.length < 3) {\n        return;\n      }\n      this.syncLineNodes(\n        targetFeature,\n        nodes.filter((node) => !isSameFeature(targetNode, node)),\n      );\n      this.emit(\n        DrawEvent.RemoveNode,\n        targetNode,\n        targetFeature,\n        this.getLineData(),\n      );\n      this.emit(DrawEvent.Edit, targetFeature, this.getLineData());\n    }\n  }\n\n  onPointContextMenu(e: ILayerMouseEvent<IPointFeature>) {\n    const editLine = this.editLine;\n    const deleteNode = e.feature!;\n    const nodes = editLine?.properties.nodes ?? [];\n    if (!editLine || nodes.length < 3) {\n      return;\n    }\n    this.removeNode(deleteNode, editLine);\n    return deleteNode;\n  }\n\n  onPointCreate(e: ILayerMouseEvent) {\n    if (!this.addable) {\n      return;\n    }\n    const feature = super.onPointCreate(e);\n    if (feature) {\n      this.setHelper('drawFinish');\n      this.emit(DrawEvent.AddNode, feature, this.drawLine, this.getLineData());\n    }\n    return feature;\n  }\n\n  onPointDragEnd(e: ISceneMouseEvent): IPointFeature | undefined {\n    const editLine = this.editLine;\n    const feature = super.onPointDragEnd(e);\n    if (editLine && feature) {\n      this.emit(DrawEvent.Edit, editLine, this.getLineData());\n    }\n    return feature;\n  }\n\n  onLineDragStart(e: ILayerMouseEvent<ILineFeature>) {\n    const feature = super.onLineDragStart(e);\n    if (feature) {\n      this.emit(DrawEvent.DragStart, feature, this.getLineData());\n    }\n    return feature;\n  }\n\n  onLineDragging(e: ISceneMouseEvent) {\n    const feature = super.onLineDragging(e);\n    if (feature) {\n      this.emit(DrawEvent.Dragging, feature, this.getLineData());\n    }\n    return feature;\n  }\n\n  onLineDragEnd(e: ISceneMouseEvent): ILineFeature | undefined {\n    const feature = super.onLineDragEnd(e);\n    if (feature) {\n      this.emit(DrawEvent.DragEnd, feature, this.getLineData());\n      this.emit(DrawEvent.Edit, feature, this.getLineData());\n    }\n    return feature;\n  }\n\n  onMidPointClick(\n    e: ILayerMouseEvent<IMidPointFeature>,\n  ): IPointFeature | undefined {\n    const editLine = this.editLine;\n    const feature = super.onMidPointClick(e);\n    if (editLine && feature) {\n      this.emit(DrawEvent.Edit, editLine, this.getLineData());\n      this.emit(DrawEvent.AddNode, feature, editLine, this.getLineData());\n    }\n    return feature;\n  }\n\n  onSceneMouseMove(e: ISceneMouseEvent) {\n    const drawLine = this.drawLine;\n    if (!drawLine) {\n      return;\n    }\n    const lastNode = last(drawLine.properties.nodes)!;\n    let mousePosition = getPosition(e);\n    if (this.options.adsorbOptions) {\n      mousePosition = this.getAdsorbPosition(mousePosition) ?? mousePosition;\n    }\n    this.setDashLineData([\n      createDashLine([mousePosition, lastNode.geometry.coordinates]),\n    ]);\n    this.setTextData(this.getAllTexts());\n  }\n\n  setActiveFeature(target: Feature | string | null | undefined) {\n    const targetFeature = this.getTargetFeature(target);\n    if (targetFeature) {\n      this.setActiveLine(targetFeature as ILineFeature);\n    } else {\n      this.clearActiveLine();\n    }\n  }\n\n  resetFeatures() {\n    let features = this.getLineData();\n    if (this.drawLine) {\n      features = features.filter((feature) => !feature.properties.isDraw);\n      this.source.setData({\n        point: [],\n        dashLine: [],\n        midPoint: [],\n      });\n      this.setTextData((features) => {\n        return features.filter((feature) => {\n          return !feature.properties.isActive;\n        });\n      });\n    }\n    if (this.editLine) {\n      this.handleLineUnClick(this.editLine);\n    }\n    this.setLineData(\n      features.map((feature) => {\n        feature.properties = {\n          ...feature.properties,\n          isDrag: false,\n          isActive: false,\n          isHover: false,\n        };\n        return feature;\n      }),\n    );\n  }\n\n  enablePointRenderAction() {\n    super.enablePointRenderAction();\n    if (this.options.editable) {\n      this.pointRender?.enableContextMenu();\n    }\n  }\n\n  disablePointRenderAction() {\n    super.disablePointRenderAction();\n    this.pointRender?.disableContextMenu();\n  }\n\n  bindEnableEvent(): void {\n    super.bindEnableEvent();\n    this.enableSceneRenderAction();\n    this.enablePointRenderAction();\n    this.enableLineRenderAction();\n    this.enableMidPointRenderAction();\n    this.sceneRender.enableDblClick();\n  }\n\n  unbindEnableEvent(): void {\n    super.unbindEnableEvent();\n    this.disableSceneRenderAction();\n    this.disablePointRenderAction();\n    this.disableLineRenderAction();\n    this.disableMidPointRenderAction();\n    this.sceneRender.disableDblClick();\n  }\n\n  bindThis() {\n    super.bindThis();\n    this.bindPointRenderEvent = this.bindPointRenderEvent.bind(this);\n    this.bindSceneEvent = this.bindSceneEvent.bind(this);\n    this.bindLineRenderEvent = this.bindLineRenderEvent.bind(this);\n    this.bindMidPointRenderEvent = this.bindMidPointRenderEvent.bind(this);\n  }\n}",Ye="import { Scene } from '@antv/l7';\nimport { Feature, Point } from '@turf/turf';\nimport { DEFAULT_POINT_STYLE, DrawEvent } from '../constant';\nimport { PointMode } from '../mode';\nimport {\n  DeepPartial,\n  IBaseModeOptions,\n  ILayerMouseEvent,\n  IPointFeature,\n  IPointHelperOptions,\n  IRenderType,\n  ISceneMouseEvent,\n} from '../typings';\nimport { getDefaultPointProperties, isSameFeature } from '../utils';\nimport { DEFAULT_POINT_HELPER_CONFIG } from '../constant/helper';\nimport { cloneDeep } from 'lodash';\n\nexport interface IPointDrawerOptions extends IBaseModeOptions<Feature<Point>> {\n  helper: IPointHelperOptions | boolean;\n}\n\nexport class PointDrawer extends PointMode<IPointDrawerOptions> {\n  constructor(scene: Scene, options: DeepPartial<IPointDrawerOptions>) {\n    super(scene, options);\n\n    this.bindPointRenderEvent();\n  }\n\n  protected get dragItem() {\n    return this.dragPoint;\n  }\n\n  protected get editItem() {\n    return this.editPoint;\n  }\n\n  // @ts-ignore\n  getDefaultOptions(options: DeepPartial<IPointDrawerOptions>) {\n    const defaultOptions = {\n      ...this.getCommonOptions(options),\n      helper: cloneDeep(DEFAULT_POINT_HELPER_CONFIG),\n    };\n    defaultOptions.style.point = DEFAULT_POINT_STYLE;\n    return defaultOptions;\n  }\n\n  bindEnableEvent(): void {\n    super.bindEnableEvent();\n    this.enablePointRenderAction();\n  }\n\n  unbindEnableEvent(): void {\n    super.unbindEnableEvent();\n    this.disablePointRenderAction();\n  }\n\n  getRenderTypes(): IRenderType[] {\n    return ['point'];\n  }\n\n  setData(points: Feature<Point>[]) {\n    this.setPointData(\n      points.map((point) => {\n        point.properties = {\n          ...getDefaultPointProperties(),\n          ...(point.properties ?? {}),\n        };\n        return point as IPointFeature;\n      }),\n    );\n  }\n\n  getData() {\n    return this.getPointData();\n  }\n\n  onPointCreate(e: ILayerMouseEvent<IPointFeature>): IPointFeature | undefined {\n    if (!this.addable) {\n      this.setPointData((features) => {\n        return features.map((feature) => {\n          feature.properties = {\n            ...feature.properties,\n            isHover: false,\n            isActive: false,\n          };\n          return feature;\n        });\n      });\n      return;\n    }\n    const newFeature = super.onPointCreate(e);\n    if (!newFeature) {\n      return;\n    }\n    if (this.options.editable) {\n      this.setHelper('pointHover');\n    }\n    this.emit(DrawEvent.Add, newFeature, this.getData());\n    return newFeature;\n  }\n\n  onPointMouseMove(e: ILayerMouseEvent<IPointFeature>) {\n    const feature = super.onPointMouseMove(e);\n    if (this.options.editable && !this.dragPoint) {\n      this.setHelper('pointHover');\n    }\n    return feature;\n  }\n\n  onPointMouseOut(e: ILayerMouseEvent<IPointFeature>) {\n    const feature = super.onPointMouseOut(e);\n    this.setHelper(this.addable ? 'draw' : null);\n    return feature;\n  }\n\n  onPointDragStart(e: ILayerMouseEvent<IPointFeature>) {\n    const dragPoint = super.onPointDragStart(e);\n    this.setHelper('pointDrag');\n    this.emit(DrawEvent.DragStart, dragPoint, this.getData());\n    return dragPoint;\n  }\n\n  onPointDragging(e: ISceneMouseEvent) {\n    const dragPoint = super.onPointDragging(e);\n    if (dragPoint && this.options.editable) {\n      this.emit(DrawEvent.Dragging, dragPoint, this.getData());\n    }\n    return dragPoint;\n  }\n\n  onPointDragEnd(e: ISceneMouseEvent) {\n    const dragPoint = super.onPointDragEnd(e);\n    if (dragPoint && this.options.editable) {\n      this.setHelper('pointHover');\n      this.emit(DrawEvent.DragEnd, dragPoint, this.getData());\n      this.emit(DrawEvent.Edit, dragPoint, this.getData());\n    }\n    return dragPoint;\n  }\n\n  bindThis() {\n    super.bindThis();\n    this.bindPointRenderEvent = this.bindPointRenderEvent.bind(this);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onSceneMouseMove(e: ISceneMouseEvent): void {}\n\n  setActiveFeature(target: Feature | string | null | undefined) {\n    const targetFeature = this.getTargetFeature(target);\n    this.setPointData((oldData) =>\n      oldData.map((feature) => {\n        feature.properties.isActive = isSameFeature(targetFeature, feature);\n        return feature;\n      }),\n    );\n  }\n\n  resetFeatures() {\n    this.setPointData((features) => {\n      return features.map((feature) => {\n        feature.properties = {\n          ...feature.properties,\n          isDrag: false,\n          isActive: false,\n          isHover: false,\n        };\n        return feature;\n      });\n    });\n  }\n}",Xe="import { Scene } from '@antv/l7';\nimport { coordAll, Feature, featureCollection, Polygon } from '@turf/turf';\nimport { first, last } from 'lodash';\nimport { DrawEvent, RenderEvent } from '../constant';\nimport { IPolygonModeOptions, PolygonMode } from '../mode';\nimport {\n  DeepPartial,\n  IDashLineFeature,\n  ILayerMouseEvent,\n  IMidPointFeature,\n  IPointFeature,\n  IPolygonFeature,\n  ISceneMouseEvent,\n} from '../typings';\nimport {\n  createDashLine,\n  createLineFeature,\n  createPointFeature,\n  getDefaultPolygonProperties,\n  getPosition,\n  isSameFeature,\n} from '../utils';\n\nexport interface IPolygonDrawerOptions\n  extends IPolygonModeOptions<Feature<Polygon>> {\n  liveUpdate: boolean;\n}\n\nexport class PolygonDrawer extends PolygonMode<IPolygonDrawerOptions> {\n  constructor(scene: Scene, options: DeepPartial<IPolygonDrawerOptions>) {\n    super(scene, options);\n\n    this.sceneRender.on(RenderEvent.DblClick, this.drawPolygonFinish);\n    this.bindPointRenderEvent();\n    this.bindSceneEvent();\n    this.bindMidPointRenderEvent();\n    this.bindLineRenderEvent();\n    this.bindPolygonRenderEvent();\n  }\n\n  getDefaultOptions(\n    options: DeepPartial<IPolygonDrawerOptions>,\n  ): IPolygonDrawerOptions {\n    return {\n      ...super.getDefaultOptions(options),\n      liveUpdate: false,\n    };\n  }\n\n  setData(data: Feature<Polygon>[]) {\n    const polygonFeatures = data.map((polygon) => {\n      polygon.properties = {\n        ...getDefaultPolygonProperties(),\n        ...(polygon.properties ?? {}),\n      };\n      if (!polygon.properties.nodes?.length) {\n        let positions = coordAll(polygon);\n        positions = positions.slice(0, positions.length - 1);\n        polygon.properties.nodes = positions.map((position) => {\n          return createPointFeature(position);\n        });\n      }\n      if (!polygon.properties.line) {\n        const nodes = polygon.properties.nodes as IPointFeature[];\n        polygon.properties.line = createLineFeature([\n          ...nodes,\n          createPointFeature(first(nodes)!.geometry.coordinates),\n        ]);\n      }\n      return polygon as IPolygonFeature;\n    });\n    this.source.setData({\n      point: [],\n      midPoint: [],\n      dashLine: [],\n      polygon: polygonFeatures,\n      line: polygonFeatures.map((feature) => feature.properties.line),\n    });\n    this.setTextData(this.getAllTexts());\n\n    if (this.editPolygon) {\n      this.setActivePolygon(this.editPolygon);\n    }\n  }\n\n  onPointCreate(e: ILayerMouseEvent): IPointFeature | undefined {\n    if (!this.addable || this.dragPoint) {\n      return;\n    }\n    const feature = super.onPointCreate(e);\n    const drawPolygon = this.drawPolygon;\n    const drawLine = this.drawLine;\n    if (feature) {\n      if (drawPolygon) {\n        this.syncPolygonNodes(drawPolygon, [\n          ...drawPolygon.properties.nodes,\n          feature,\n        ]);\n        this.setDashLineData([\n          createDashLine([\n            getPosition(e),\n            drawPolygon.properties.nodes[0].geometry.coordinates,\n          ]),\n        ]);\n        const nodeLength = drawPolygon.properties.nodes.length;\n        if (nodeLength > 1) {\n          this.setHelper('drawFinish');\n        }\n      } else if (drawLine) {\n        this.handleCreatePolygon([feature], drawLine);\n        this.setHelper('drawContinue');\n      }\n      this.emit(DrawEvent.AddNode, feature, drawPolygon, this.getPolygonData());\n    }\n    return feature;\n  }\n\n  drawPolygonFinish = () => {\n    const drawPolygon = this.drawPolygon;\n    const nodes = drawPolygon?.properties.nodes ?? [];\n    if (!drawPolygon || nodes.length < 3) {\n      return;\n    }\n    drawPolygon.properties.isDraw = false;\n    this.syncPolygonNodes(drawPolygon, nodes);\n    this.setActivePolygon(drawPolygon);\n    const { autoActive, editable } = this.options;\n    if (!autoActive || !editable) {\n      this.handlePolygonUnClick(drawPolygon);\n    }\n    if (editable) {\n      this.setHelper(autoActive ? 'pointHover' : 'polygonHover');\n    } else {\n      this.setHelper(this.addable ? 'draw' : null);\n    }\n    this.emit(DrawEvent.Add, drawPolygon, this.getPolygonData());\n  };\n\n  onPointClick(e: ILayerMouseEvent<IPointFeature>) {\n    const drawPolygon = this.drawPolygon;\n    const feature = e.feature!;\n\n    if (!drawPolygon) {\n      return;\n    }\n\n    const nodes = drawPolygon.properties.nodes;\n    if (\n      nodes.length >= 3 &&\n      (isSameFeature(first(nodes), feature) ||\n        isSameFeature(last(nodes), feature))\n    ) {\n      requestAnimationFrame(() => {\n        this.drawPolygonFinish();\n      });\n    } else {\n      const [lng, lat] = feature.geometry.coordinates;\n      e.lngLat = {\n        lng,\n        lat,\n      };\n      this.onPointCreate(e);\n    }\n  }\n\n  onPointDragging(e: ISceneMouseEvent): IPointFeature | undefined {\n    const feature = this.dragPoint;\n    const editPolygon = this.editPolygon;\n    if (feature && editPolygon) {\n      const { line } = editPolygon.properties;\n      line.properties.nodes = line.properties.nodes.map((node) => {\n        return isSameFeature(node, feature) ? feature : node;\n      });\n      const lineNodes = line.properties.nodes;\n      const nodes = lineNodes.slice(0, lineNodes.length - 1);\n      const firstLineNode = first(lineNodes)!;\n      const lastLineNode = last(lineNodes)!;\n      const isSame =\n        isSameFeature(firstLineNode, feature) ||\n        isSameFeature(lastLineNode, feature);\n      if (isSame) {\n        firstLineNode.geometry.coordinates = lastLineNode.geometry.coordinates =\n          getPosition(e);\n      }\n      if (this.options.adsorbOptions && isSame) {\n        const adsorbPosition = this.resetAdsorbLngLat(e);\n        if (adsorbPosition) {\n          firstLineNode.geometry.coordinates =\n            lastLineNode.geometry.coordinates = adsorbPosition;\n        }\n      }\n      super.onPointDragging(e);\n      this.syncPolygonNodes(editPolygon, nodes);\n      this.setActivePolygon(editPolygon);\n    }\n    return feature;\n  }\n\n  onLineDragging(e: ISceneMouseEvent) {\n    const dragPolygon = this.dragPolygon;\n    const feature = super.onLineDragging(e);\n    if (feature && dragPolygon) {\n      const lineNodes = feature.properties.nodes;\n      this.syncPolygonNodes(\n        dragPolygon,\n        lineNodes.slice(0, lineNodes.length - 1),\n      );\n      this.emit(DrawEvent.Dragging, dragPolygon, this.getPolygonData());\n    }\n    return feature;\n  }\n\n  onMidPointClick(\n    e: ILayerMouseEvent<IMidPointFeature>,\n  ): IPointFeature | undefined {\n    const feature = super.onMidPointClick(e);\n    const editPolygon = this.editPolygon;\n    if (feature && editPolygon) {\n      this.emit(DrawEvent.Edit, editPolygon, this.getPolygonData());\n      this.emit(DrawEvent.AddNode, feature, editPolygon, this.getPolygonData());\n    }\n    return feature;\n  }\n\n  onSceneMouseMove(e: ISceneMouseEvent) {\n    const drawPolygon = this.drawPolygon;\n    const nodes = drawPolygon?.properties.nodes ?? [];\n    if (!drawPolygon || !nodes.length) {\n      return;\n    }\n    if (this.options.adsorbOptions) {\n      this.resetAdsorbLngLat(e);\n    }\n    const mousePosition = getPosition(e);\n    const dashLineData: IDashLineFeature[] = [];\n    dashLineData.push(\n      createDashLine([mousePosition, first(nodes)!.geometry.coordinates]),\n    );\n    if (nodes.length > 1) {\n      dashLineData.push(\n        createDashLine([mousePosition, last(nodes)!.geometry.coordinates]),\n      );\n    }\n    if (this.options.liveUpdate && nodes.length >= 2) {\n      const nodePositions = coordAll(featureCollection(nodes));\n      drawPolygon.geometry.coordinates = [\n        [...nodePositions, mousePosition, nodePositions[0]],\n      ];\n      this.setPolygonData(this.getPolygonData());\n    }\n    this.setDashLineData(dashLineData);\n    this.setTextData(this.getAllTexts());\n  }\n\n  removeNode(node: Feature | string, feature: Feature | string) {\n    const targetFeature = this.getTargetFeature(feature) as\n      | IPolygonFeature\n      | undefined;\n    const targetNode = this.getTargetFeature(\n      node,\n      targetFeature?.properties.nodes ?? [],\n    );\n    if (targetFeature && targetNode) {\n      const nodes = targetFeature?.properties.nodes ?? [];\n      if (nodes.length < 4) {\n        return;\n      }\n      this.syncPolygonNodes(\n        targetFeature,\n        nodes.filter((node) => !isSameFeature(targetNode, node)),\n      );\n      this.emit(\n        DrawEvent.RemoveNode,\n        targetNode,\n        targetFeature,\n        this.getLineData(),\n      );\n      this.emit(DrawEvent.Edit, targetFeature, this.getPolygonData());\n    }\n  }\n\n  onPointContextMenu(e: ILayerMouseEvent<IPointFeature>) {\n    const editPolygon = this.editPolygon;\n    let deleteNode = e.feature!;\n    const nodes = editPolygon?.properties.nodes ?? [];\n    if (!editPolygon || nodes.length < 4) {\n      return;\n    }\n    if (!nodes.find((node) => isSameFeature(node, deleteNode))) {\n      deleteNode = nodes[0];\n    }\n    this.removeNode(deleteNode, editPolygon);\n    return deleteNode;\n  }\n\n  bindPointRenderEvent() {\n    super.bindPointRenderEvent();\n    this.pointRender?.on(\n      RenderEvent.Contextmenu,\n      this.onPointContextMenu.bind(this),\n    );\n  }\n\n  enablePointRenderAction() {\n    super.enablePointRenderAction();\n    if (this.options.editable) {\n      this.pointRender?.enableContextMenu();\n    }\n  }\n\n  disablePointRenderAction() {\n    super.disablePointRenderAction();\n    this.pointRender?.disableContextMenu();\n  }\n}",Ke="import { Scene } from '@antv/l7';\nimport {\n  bbox,\n  coordAll,\n  envelope,\n  Feature,\n  featureCollection,\n  Polygon,\n  Position,\n} from '@turf/turf';\nimport { cloneDeep, isEqual } from 'lodash';\nimport { DrawEvent } from '../constant';\nimport { DragPolygonMode, IDragPolygonModeOptions } from '../mode';\nimport {\n  DeepPartial,\n  IDragPolygonHelperOptions,\n  ILineFeature,\n  ILineProperties,\n  IPointFeature,\n  IPolygonFeature,\n  ISceneMouseEvent,\n} from '../typings';\nimport {\n  createLineFeature,\n  createPointFeature,\n  getDefaultPolygonProperties,\n  isSameFeature,\n} from '../utils';\nimport { DEFAULT_RECT_HELPER_CONFIG } from '../constant/helper';\n\nexport type IRectDrawerOptions = IDragPolygonModeOptions<Feature<Polygon>>;\n\nexport class RectDrawer extends DragPolygonMode<IRectDrawerOptions> {\n  constructor(scene: Scene, options: DeepPartial<IRectDrawerOptions>) {\n    super(scene, options);\n    this.bindPointRenderEvent();\n    this.bindSceneEvent();\n    this.bindMidPointRenderEvent();\n    this.bindLineRenderEvent();\n    this.bindPolygonRenderEvent();\n  }\n\n  getDefaultOptions(\n    options: DeepPartial<IRectDrawerOptions>,\n  ): IRectDrawerOptions {\n    const newOptions = super.getDefaultOptions(options);\n    if (newOptions.helper) {\n      newOptions.helper = {\n        ...(newOptions.helper as IDragPolygonHelperOptions),\n        ...DEFAULT_RECT_HELPER_CONFIG,\n      };\n    }\n    return newOptions;\n  }\n\n  setData(data: Feature<Polygon>[]) {\n    const result = data.map((feature) => {\n      feature.properties = {\n        ...getDefaultPolygonProperties(),\n        ...(feature.properties ?? {}),\n      };\n      let nodes: [IPointFeature, IPointFeature] | undefined =\n        feature.properties.nodes;\n      if (nodes?.length !== 2) {\n        const [lng1, lat1, lng2, lat2] = bbox(feature);\n        nodes = [\n          createPointFeature([lng1, lat1]),\n          createPointFeature([lng2, lat2]),\n        ];\n        feature.properties.nodes = nodes;\n      }\n      const [startNode, endNode] = nodes;\n      const isActive = !!feature.properties?.isActive;\n\n      let line: ILineFeature | undefined = feature.properties.line;\n      if (!line) {\n        line = this.handleCreatePolygonLine(startNode, endNode, {\n          isActive,\n        });\n        feature.properties.line = line;\n      }\n      return this.handleCreatePolygon([startNode, endNode], line, {\n        ...feature.properties,\n        isActive,\n      });\n    });\n\n    this.source.setData({\n      point: [],\n      midPoint: [],\n      dashLine: [],\n      polygon: result,\n      line: result.map((feature) => feature.properties.line),\n    });\n    this.setTextData(this.getAllTexts());\n\n    if (this.editPolygon) {\n      this.setActivePolygon(this.editPolygon);\n    }\n  }\n\n  handleCreatePolygonLine(\n    startNode: IPointFeature,\n    endNode: IPointFeature,\n    properties: Partial<ILineProperties> = {},\n  ) {\n    const positions = coordAll(\n      envelope(featureCollection([startNode, endNode])),\n    );\n    const nodes = positions.map((position, index) => {\n      if (index === 0) {\n        return startNode;\n      }\n      if (index === 2) {\n        return endNode;\n      }\n      return createPointFeature(position);\n    });\n    return createLineFeature(nodes, properties);\n  }\n\n  syncPolygonNodes(polygon: IPolygonFeature, nodes: IPointFeature[]) {\n    const line = polygon.properties.line;\n    const positions = coordAll(envelope(featureCollection(nodes)));\n\n    polygon.properties.nodes = nodes;\n    polygon.geometry.coordinates = [positions];\n\n    this.setPolygonData((features) => {\n      return features.map((feature) => {\n        if (isSameFeature(feature, polygon)) {\n          return polygon;\n        }\n        return feature;\n      });\n    });\n\n    this.setPointData(polygon.properties.isDraw ? [nodes[0]] : nodes);\n\n    const lineNodes = line.properties.nodes;\n\n    const otherPositions = positions.filter(\n      (position) =>\n        !isEqual(position, nodes[0].geometry.coordinates) &&\n        !isEqual(position, nodes[1].geometry.coordinates),\n    );\n\n    lineNodes.forEach((lineNode, index) => {\n      let position: Position = [0, 0];\n      switch (index) {\n        case 0:\n          position = nodes[0].geometry.coordinates;\n          break;\n        case 1:\n          position = otherPositions[0];\n          break;\n        case 2:\n          position = nodes[1].geometry.coordinates;\n          break;\n        case 3:\n          position = otherPositions[1];\n          break;\n        case 4:\n          position = cloneDeep(nodes[0].geometry.coordinates);\n          break;\n      }\n      lineNode.geometry.coordinates = position;\n    });\n\n    line.geometry.coordinates = positions;\n\n    return polygon;\n  }\n\n  onLineDragging(e: ISceneMouseEvent) {\n    const feature = super.onLineDragging(e);\n    const dragPolygon = this.dragPolygon;\n    if (feature && dragPolygon) {\n      const lineNodes = dragPolygon.properties.line.properties.nodes;\n      this.syncPolygonNodes(dragPolygon, [lineNodes[0], lineNodes[2]]);\n      this.setActivePolygon(dragPolygon, {\n        isDrag: true,\n      });\n      this.emit(DrawEvent.Dragging, dragPolygon, this.getPolygonData());\n    }\n    return feature;\n  }\n}",Ze="export * from './drawer';\nexport * from './feature';\nexport * from './render';\nexport * from './scene';\nexport * from './source';\nexport * from './style';\nexport * from './utils';\nexport * from './helper';\nexport * from './dom';",Qe="import { Feature, LineString, Point, Position } from '@turf/turf';\nimport { Content, Props as TippyProps } from 'tippy.js';\nimport { HistoryConfig } from './source';\nimport { IStyle } from './style';\nimport { ILineFeature, IPointFeature, IPolygonFeature } from './feature';\n\n/**\n * \u9f20\u6807\u6307\u9488\u7c7b\u578b\n */\nexport type ICursorType =\n  | 'draw'\n  | 'pointHover'\n  | 'pointDrag'\n  | 'lineHover'\n  | 'lineDrag'\n  | 'polygonHover'\n  | 'polygonDrag';\n\n/**\n * \u9f20\u6807\u6307\u9488\u7c7b\u578b\u952e\u503c\u5bf9\n */\nexport type ICursor = Record<ICursorType, string>;\n\nexport type KeyBoardConfig = Partial<{\n  remove: string[] | false;\n  revert: string[] | false;\n  redo: string[] | false;\n}>;\n\n/**\n * \u57fa\u7840Drawer\u914d\u7f6e\n */\nexport interface IBaseModeOptions<F extends Feature = Feature> {\n  style: IStyle;\n  cursor: ICursor;\n  initialData?: F[];\n  editable: boolean;\n  autoActive: boolean;\n  multiple: boolean;\n  helper: any | boolean;\n  maxCount: number;\n  popup: PopupOptions | boolean;\n  history: HistoryConfig | false;\n  keyboard: KeyBoardConfig | false;\n}\n\n/**\n * \u8ddd\u79bb\u6587\u6848\u914d\u7f6e\n */\nexport interface IDistanceOptions {\n  showTotalDistance: boolean;\n  showDashDistance: boolean;\n  showWhen: ('normal' | 'active')[];\n  format: (meters: number) => string;\n}\n\n/**\n * \u9762\u79ef\u6587\u6848\u914d\u7f6e\n */\nexport interface IAreaOptions {\n  format: (squareMeters: number) => string;\n  showWhen: ('normal' | 'active')[];\n}\n\nexport type PopupOptions = Partial<TippyProps>;\n\nexport type PopupContent = Content | null | undefined;\n\nexport type AdsorbTargetFeature =\n  | Feature\n  | IPointFeature\n  | ILineFeature\n  | IPolygonFeature;\n\nexport interface IAdsorbOptions {\n  data:\n    | 'drawData'\n    | AdsorbTargetFeature[]\n    | ((position: Position) => AdsorbTargetFeature[]);\n  pointAdsorbPixel: number;\n  lineAdsorbPixel: number;\n}\n\nexport type AdsorbResult = {\n  points: Feature<Point>[];\n  lines: Feature<LineString>[];\n};",Je="import {\n  Geometry,\n  GeometryCollection,\n} from '@turf/helpers/dist/js/lib/geojson';\nimport { Feature, LineString, Point, Polygon } from '@turf/turf';\n\nexport interface IBaseProperties {\n  id: string;\n  isDraw?: boolean;\n  isActive?: boolean;\n  [key: string]: any;\n}\n\nexport interface IBaseFeature<\n  G extends Geometry | GeometryCollection = Geometry,\n  P extends IBaseProperties = IBaseProperties,\n> extends Feature {\n  type: 'Feature';\n  geometry: G;\n  properties: P;\n}\n\n// \u70b9\u7c7b\u578b\nexport interface IPointProperties extends IBaseProperties {\n  isHover?: boolean;\n  isDrag?: boolean;\n  createTime: number;\n}\n\nexport type IPointFeature = IBaseFeature<Point, IPointProperties>;\n\n// \u7ebf\u7c7b\u578b\nexport interface ILineProperties extends IBaseProperties {\n  nodes: IPointFeature[];\n  isHover?: boolean;\n  isDrag?: boolean;\n  createTime: number;\n}\n\nexport type ILineFeature = IBaseFeature<LineString, ILineProperties>;\n\n// \u9762\u7c7b\u578b\nexport interface IPolygonProperties extends IBaseProperties {\n  nodes: IPointFeature[];\n  line: ILineFeature;\n  isHover?: boolean;\n  isDrag?: boolean;\n  createTime: number;\n}\n\nexport type IPolygonFeature = IBaseFeature<Polygon, IPolygonProperties>;\n\n// \u4e2d\u70b9Feature Properties\u7c7b\u578b\nexport interface IMidPointProperties extends IBaseProperties {\n  startId: string;\n  endId: string;\n}\n\n// \u4e2d\u70b9Feature\u7c7b\u578b\nexport type IMidPointFeature = IBaseFeature<Point, IMidPointProperties>;\n\n// \u865a\u7ebfFeature\u7c7b\u578b\nexport type IDashLineFeature = IBaseFeature<LineString, IBaseProperties>;\n\n// \u6587\u672cFeature Properties\u7c7b\u578b\nexport interface ITextProperties extends IBaseProperties {\n  type: 'distance' | 'totalDistance' | 'dash' | 'area';\n  text: string;\n  meters: number;\n}\n\n// \u6587\u672cFeature\u7c7b\u578b\nexport type ITextFeature = IBaseFeature<Point, ITextProperties>;\n\nexport type FeatureUpdater<F extends IBaseFeature> =\n  | F[]\n  | ((newFeatures: F[]) => F[]);",$e="import { IBaseStyle } from './style';\n\nexport type IRenderType =\n  | 'point'\n  | 'line'\n  | 'polygon'\n  | 'midPoint'\n  | 'dashLine'\n  | 'text';\n\nexport interface IRenderOptions<S extends IBaseStyle> {\n  style: S;\n}",et="import { IBaseFeature } from './feature';\n\n/**\n * \u7ecf\u7eac\u5ea6\u4fe1\u606f\n */\nexport interface ILngLat {\n  lng: number;\n  lat: number;\n}\n\n/**\n * Scene\u56de\u8c03\u4e8b\u4ef6\u7c7b\u578b\n */\nexport interface ISceneMouseEvent {\n  type: string;\n  lnglat: ILngLat;\n  lngLat: ILngLat;\n  pixel?: { x: number; y: number };\n}\n\n/**\n * \u56fe\u5c42\u56de\u8c03\u4e8b\u4ef6\u7c7b\u578b\n */\nexport interface ILayerMouseEvent<T extends IBaseFeature = IBaseFeature> {\n  type: string;\n  feature?: T;\n  featureId?: number;\n  lngLat: ILngLat;\n  x: number;\n  y: number;\n}",tt="import {\n  DashLineRender,\n  LineRender,\n  MidPointRender,\n  PointRender,\n  PolygonRender,\n  TextRender,\n} from '../render';\nimport {\n  IDashLineFeature,\n  ILineFeature,\n  IMidPointFeature,\n  IPointFeature,\n  IPolygonFeature,\n  ITextFeature,\n} from './feature';\n// import { PointRender, LineRender, PolygonRender, TextRender } from '../render';\n\n/**\n * Source\u6570\u636e\u7c7b\u578b\n */\nexport interface SourceData {\n  point: IPointFeature[];\n  line: ILineFeature[];\n  polygon: IPolygonFeature[];\n  midPoint: IMidPointFeature[];\n  dashLine: IDashLineFeature[];\n  text: ITextFeature[];\n}\n\nexport type HistoryConfig = {\n  maxSize: number;\n};\n\n/**\n * Render key => value \u6620\u5c04\u5173\u7cfb\n */\nexport type RenderMap = Partial<{\n  point: PointRender;\n  line: LineRender;\n  polygon: PolygonRender;\n  midPoint: MidPointRender;\n  dashLine: DashLineRender;\n  text: TextRender;\n}>;\n\n/**\n * Source\u6784\u9020\u5668\u4e2d\u4f20\u8f93\u7684\u914d\u7f6e\n */\nexport interface SourceOptions {\n  data?: Partial<SourceData>;\n  render: RenderMap;\n  history?: HistoryConfig;\n}",nt="import { ILayer, ILayerConfig } from '@antv/l7';\n\n/**\n * Style\u7684\u57fa\u7c7b\n */\nexport interface IBaseStyle<ItemType = any> {\n  options?: Partial<ILayerConfig>;\n  normal: ItemType;\n  style?: any;\n  callback?: (layers: ILayer[]) => void; // \u521d\u59cb\u5316\u56fe\u5c42\u4e4b\u540e\u7684\u56de\u8c03\n}\n\nexport interface IComplexStyle<ItemType = any> extends IBaseStyle<ItemType> {\n  hover: ItemType;\n  active: ItemType;\n}\n\n/**\n * Point\u7684\u5355\u4e2aStyle\u9879\n */\nexport interface IPointStyleItem {\n  color: string;\n  shape: string;\n  size: number;\n  // borderWidth: number;\n  stroke: string;\n}\n\n/**\n * \u6574\u4e2aStyle\u7c7b\u578b\n */\nexport type IPointStyle = IComplexStyle<IPointStyleItem>;\n\n/**\n *\n */\nexport interface ILineStyleItem {\n  color: string;\n  size: number;\n}\n\nexport type ILineStyle = IComplexStyle<ILineStyleItem>;\n\nexport interface IPolygonStyleItem {\n  color: string;\n}\n\nexport type IPolygonStyle = IComplexStyle<IPolygonStyleItem>;\n\nexport type IMidPointStyleItem = IPointStyleItem;\n\nexport type IMidPointStyle = IBaseStyle<IMidPointStyleItem>;\n\nexport type IDashLineStyle = IBaseStyle<ILineStyleItem>;\n\nexport type ITextStyleItem = Omit<IPointStyleItem, 'shape'>;\n\nexport type ITextStyle = IBaseStyle<ITextStyleItem> & {\n  active: ITextStyleItem;\n};\n\nexport interface IStyle {\n  point: IPointStyle;\n  line: ILineStyle;\n  polygon: IPolygonStyle;\n  midPoint: IMidPointStyle;\n  dashLine: IDashLineStyle;\n  text: ITextStyle;\n}",rt="/**\n * \u8d4b\u4e88\u53c2\u6570\u5bf9\u8c61T\u6df1\u5ea6\u53ef\u9009\n */\nexport type DeepPartial<T> = {\n  [P in keyof T]?: DeepPartial<T[P]>;\n};",it="import { PopupContent } from './drawer';\n\nexport type IPointHelperOptions = {\n  draw: PopupContent;\n  pointHover: PopupContent;\n  pointDrag: PopupContent;\n};\n\nexport type ILineHelperOptions = IPointHelperOptions & {\n  lineHover: PopupContent;\n  lineDrag: PopupContent;\n  midPointHover: PopupContent;\n  drawFinish: PopupContent;\n};\n\nexport type IPolygonHelperOptions = ILineHelperOptions & {\n  drawContinue: PopupContent;\n  polygonHover: PopupContent;\n  polygonDrag: PopupContent;\n};\n\nexport type IDragPolygonHelperOptions = IPolygonHelperOptions;",ot="/**\n * \u904d\u5386\u5f53\u524d\u7ed3\u70b9 dom \u7684\u672c\u8eab\u53ca\u5176\u6240\u6709\u7236\u8282\u70b9\uff0c\u76f4\u5230\u627e\u5230\u5bf9\u5e94\n * @param dom\n * @param className\n * @returns\n */\nexport const getParentByClassName = (dom: Element, className: string) => {\n  let currentDom: Element | null = dom;\n  while (currentDom && !Array.from(currentDom.classList).includes(className)) {\n    currentDom = currentDom.parentElement;\n  }\n  return currentDom;\n};",at="import { Control, DOM, Scene } from '@antv/l7';\nimport { BaseMode } from '../mode';\nimport { Container } from 'inversify';\nimport { BtnType, DrawType, IDrawControlProps } from './types';\nimport {\n  DrawBtnActiveClassName,\n  DrawBtnClassName,\n  DrawControlClassName,\n  DrawIconMap,\n  DrawInstanceMap,\n  DrawTypeAttrName,\n} from './constant';\nimport { getParentByClassName } from '../typings';\nimport './iconfont.js';\nimport './index.less';\nimport { ControlEvent, DrawEvent } from '../constant';\nimport { debounce, fromPairs, toPairs } from 'lodash';\n\nexport class DrawControl extends Control {\n  public controlOption: IDrawControlProps;\n  protected scene: Scene;\n  protected drawMap: Partial<Record<DrawType, BaseMode>> = {};\n  protected btnMap: Partial<Record<BtnType, HTMLElement>> = {};\n  protected activeType: DrawType | null = null;\n\n  constructor(scene: Scene, options: Partial<IDrawControlProps> = {}) {\n    super(options);\n    this.scene = scene;\n    this.controlOption = {\n      ...this.getDefault(),\n      ...(options || {}),\n    };\n    this.onBtnClick = this.onBtnClick.bind(this);\n  }\n\n  getActiveType() {\n    return this.activeType;\n  }\n\n  // @ts-ignore\n  getDefault(): IDrawControlProps {\n    return {\n      ...super.getDefault(),\n      className: '',\n      buttonClassName: '',\n      activeButtonClassName: '',\n      style: '',\n      position: 'topleft',\n      commonDrawOptions: {},\n      drawConfig: {\n        point: true,\n        line: true,\n        polygon: true,\n        rect: true,\n        circle: true,\n        clear: true,\n      },\n    };\n  }\n\n  public addTo(container: Container) {\n    super.addTo(container);\n    this.init();\n    return this;\n  }\n\n  onAdd(): HTMLElement {\n    const { className, style } = this.controlOption;\n    const container = DOM.create(\n      'div',\n      `${DrawControlClassName} ${className}`,\n    ) as HTMLDivElement;\n    if (style) {\n      container.setAttribute('style', style);\n    }\n    return container;\n  }\n\n  onRemove() {\n    Object.values(this.drawMap).forEach((draw) => {\n      draw.clear(true);\n    });\n  }\n\n  init() {\n    const btnList: HTMLButtonElement[] = [];\n\n    (Object.entries(this.controlOption.drawConfig) as [BtnType, any][]).forEach(\n      ([btnType, options]) => {\n        if (options) {\n          const newBtn = this.initBtn(btnType);\n          newBtn.addEventListener('click', this.onBtnClick);\n          btnList.push(newBtn);\n          this.btnMap[btnType] = newBtn;\n\n          // @ts-ignore;\n          const Draw = DrawInstanceMap[btnType];\n          if (Draw && this.scene) {\n            const draw = new Draw(this.scene, {\n              ...this.controlOption.commonDrawOptions,\n              ...(typeof options === 'boolean' ? {} : options),\n            });\n            draw.on(DrawEvent.Change, this.emitDataChange);\n            this.drawMap[btnType as DrawType] = draw;\n          }\n        }\n      },\n    );\n    this.container.append(...btnList);\n\n    if (this.controlOption.defaultActiveType) {\n      this.onDrawClick(this.controlOption.defaultActiveType);\n    }\n  }\n\n  getDrawData() {\n    return fromPairs(\n      toPairs(this.drawMap).map(([drawType, draw]) => {\n        return [drawType, draw.getData()];\n      }),\n    );\n  }\n\n  getTypeDraw(type: DrawType) {\n    return this.drawMap[type] ?? null;\n  }\n\n  emitDataChange = debounce(() => {\n    this.emit(ControlEvent.DataChange, this.getDrawData());\n  }, 16);\n\n  /**\n   * \u6309\u94ae\u7684\u70b9\u51fb\u4e8b\u4ef6\n   * @param e\n   */\n  onBtnClick(e: Event) {\n    const btn = getParentByClassName(e.target as Element, DrawBtnClassName);\n    if (!btn) {\n      return;\n    }\n    const btnType = btn.getAttribute(DrawTypeAttrName) as BtnType;\n    if (btnType === 'clear') {\n      this.clearDrawData();\n    } else {\n      this.onDrawClick(btnType);\n    }\n  }\n\n  /**\n   * \u8bbe\u7f6e\u5f53\u524d\u6fc0\u6d3b\u7684\u7ed8\u5236\u7c7b\u578b\n   * @param type\n   */\n  setActiveType(type: DrawType | null) {\n    let newActiveType: DrawType | null = null;\n    const oldActiveType = this.activeType;\n    if (oldActiveType) {\n      const targetBtn = this.btnMap[oldActiveType];\n      if (targetBtn) {\n        DOM.removeClass(targetBtn, DrawBtnActiveClassName);\n        const { activeButtonClassName } = this.controlOption;\n        if (activeButtonClassName) {\n          DOM.removeClass(targetBtn, activeButtonClassName);\n        }\n      }\n      this.drawMap[oldActiveType]?.disable();\n      newActiveType = null;\n    }\n    if (oldActiveType !== type && type) {\n      this.drawMap[type]?.enable();\n      const targetBtn = this.btnMap[type];\n      targetBtn &&\n        DOM.addClass(\n          targetBtn,\n          `${DrawBtnActiveClassName} ${this.controlOption.activeButtonClassName}`,\n        );\n      newActiveType = type;\n    }\n    this.activeType = newActiveType;\n    this.emit(ControlEvent.DrawChange, newActiveType);\n  }\n\n  /**\n   * \u7ed8\u5236\u6309\u94ae\u70b9\u51fb\u7684\u56de\u8c03\n   * @param type\n   */\n  onDrawClick(type: DrawType | null) {\n    this.setActiveType(type);\n  }\n\n  /**\n   * \u6e05\u7a7a\u7ed8\u5236\u6570\u636e\n   */\n  clearDrawData() {\n    Object.values(this.drawMap).forEach((draw) => {\n      draw?.clear();\n    });\n  }\n\n  /**\n   * \u521b\u5efa\u6309\u94ae\n   * @param type\n   * @returns\n   */\n  initBtn(type: BtnType) {\n    const btn = DOM.create(\n      'button',\n      `${DrawBtnClassName} ${this.controlOption.buttonClassName}`,\n    ) as HTMLButtonElement;\n    btn.innerHTML = `<svg class=\"l7-draw-icon\" aria-hidden=\"true\">\n      <use xlink:href=\"${DrawIconMap[type]}\"></use>\n    </svg>`;\n    btn.setAttribute(DrawTypeAttrName, type);\n    return btn;\n  }\n}",st="import {\n  DrawPoint,\n  DrawLine,\n  DrawPolygon,\n  DrawCircle,\n  DrawRect,\n} from '../drawer';\nimport { BtnType, DrawType } from './types';\n\nexport const DrawIconMap: Record<BtnType, string> = {\n  point: '#l7draw-point',\n  line: '#l7draw-line',\n  polygon: '#l7draw-polygon',\n  rect: '#l7draw-rect',\n  circle: '#l7draw-circle',\n  clear: '#l7draw-qingkong',\n};\n\nexport const DrawInstanceMap: Record<DrawType, any> = {\n  point: DrawPoint,\n  line: DrawLine,\n  polygon: DrawPolygon,\n  rect: DrawRect,\n  circle: DrawCircle,\n};\n\nexport const DrawTypeAttrName = 'data-draw-type';\n\nexport const DrawControlClassName = 'l7-draw-control';\n\nexport const DrawBtnClassName = `${DrawControlClassName}__btn`;\n\nexport const DrawBtnActiveClassName = `${DrawBtnClassName}--active`;",lt='!function(t){var e,a,n,c,o,i=\'<svg><symbol id="l7draw-qingkong" viewBox="0 0 1024 1024"><path d="M778.96777344 334.02148437h-148.31542969V284.58300781A71.78466797 71.78466797 0 0 0 556.49462891 215.36914062H467.50537109a71.78466797 71.78466797 0 0 0-74.15771484 69.11499024V334.02148437h-148.31542969a29.66308594 29.66308594 0 1 0 0 59.32617188h29.66308594v326.29394531A88.98925781 88.98925781 0 0 0 363.68457031 808.63085938h296.63085938a88.98925781 88.98925781 0 0 0 88.98925781-88.98925782V393.34765625h29.66308594a29.66308594 29.66308594 0 0 0 0-59.32617188zM452.67382812 284.58300781c0-4.74609375 6.22924805-9.78881836 14.83154297-9.78881836h88.98925782c8.60229492 0 14.83154297 5.04272461 14.83154296 9.78881836V334.02148437H452.67382812V284.53356934z m237.30468751 435.10803223a29.66308594 29.66308594 0 0 1-29.66308594 29.66308593H363.68457031a29.66308594 29.66308594 0 0 1-29.66308593-29.66308594V393.34765625h355.95703124v326.29394531z"  ></path><path d="M437.84228516 660.31542969c6.57531739 0 12.85400391-3.46069336 17.5012207-9.64050294A39.20471192 39.20471192 0 0 0 462.56152344 627.33996582V495.5369873a39.20471192 39.20471192 0 0 0-7.21801758-23.33496093A22.09899903 22.09899903 0 0 0 437.84228516 462.56152344c-6.57531739 0-12.85400391 3.46069336-17.50122071 9.64050293A39.20471192 39.20471192 0 0 0 413.12304687 495.5369873v131.80297853c0 8.75061036 2.62023926 17.15515137 7.21801758 23.33496092 4.6472168 6.17980958 10.92590333 9.64050293 17.50122071 9.64050294zM586.15771484 660.31542969c6.57531739 0 12.85400391-3.46069336 17.50122071-9.64050294a39.20471192 39.20471192 0 0 0 7.21801758-23.33496093V495.5369873a39.20471192 39.20471192 0 0 0-7.21801758-23.33496093A22.09899903 22.09899903 0 0 0 586.15771484 462.56152344c-6.57531739 0-12.85400391 3.46069336-17.5012207 9.64050293A39.20471192 39.20471192 0 0 0 561.43847656 495.5369873v131.80297853c0 8.75061036 2.62023926 17.15515137 7.21801758 23.33496092 4.6472168 6.17980958 10.92590333 9.64050293 17.5012207 9.64050294z"  ></path></symbol><symbol id="l7draw-rect" viewBox="0 0 1024 1024"><path d="M736.14 648.79V330c0-23.16-18.84-42-42-42H375.49c-11.07-19.13-31.74-32.01-55.43-32.01-35.35 0-64.01 28.66-64.01 64.01 0 23.69 12.88 44.36 32.01 55.43v318.8c0 23.16 18.84 42 42 42H648.7c11.07 19.13 31.74 32.01 55.43 32.01 35.35 0 64.01-28.66 64.01-64.01 0.01-23.7-12.87-44.37-32-55.44zM352.06 375.43A64.281 64.281 0 0 0 375.49 352h296.64v296.8a64.357 64.357 0 0 0-23.43 23.43H352.06v-296.8z"  ></path></symbol><symbol id="l7draw-circle" viewBox="0 0 1024 1024"><path d="M467.013228 557.765038a64.01 64.01 0 1 0 90.52223-90.52539 64.01 64.01 0 1 0-90.52223 90.52539Z"  ></path><path d="M832.16 512.22c0-26.06-15.58-48.46-37.93-58.45-11.21-54.67-38.11-104.92-78.48-145.3-54.42-54.42-126.78-84.4-203.75-84.4s-149.33 29.97-203.75 84.4c-54.42 54.42-84.4 126.79-84.4 203.75s29.97 149.33 84.4 203.75c54.42 54.42 126.78 84.4 203.75 84.4s149.33-29.97 203.75-84.4c40.37-40.37 67.28-90.62 78.48-145.3 22.35-9.98 37.93-32.39 37.93-58.45zM670.5 670.72c-42.34 42.34-98.62 65.65-158.5 65.65-59.87 0-116.16-23.32-158.5-65.65-42.34-42.34-65.65-98.62-65.65-158.5s23.32-116.16 65.65-158.5c42.34-42.34 98.62-65.65 158.5-65.65 59.87 0 116.16 23.32 158.5 65.65 29.9 29.9 50.3 66.77 59.71 106.95-15.81 11.66-26.07 30.4-26.07 51.55s10.26 39.9 26.07 51.55c-9.41 40.18-29.81 77.05-59.71 106.95z"  ></path></symbol><symbol id="l7draw-polygon" viewBox="0 0 1024 1024"><path d="M705.97 640.31c-5.79 0-11.39 0.78-16.72 2.22L381.94 336.66a64.079 64.079 0 0 0 2.14-16.43c0-35.35-28.66-64.01-64.01-64.01s-64.01 28.66-64.01 64.01c0 23.69 12.88 44.36 32.01 55.43V648.8c-19.13 11.07-32.01 31.74-32.01 55.43 0 35.35 28.66 64.01 64.01 64.01 23.69 0 44.35-12.87 55.42-32l275.05 0.07c11.07 19.14 31.74 32.03 55.44 32.03 35.35 0 64.01-28.66 64.01-64.01s-28.66-64.02-64.02-64.02z m-353.91 8.48V397.22L628.44 672.3l-252.94-0.07a64.411 64.411 0 0 0-23.44-23.44z"  ></path></symbol><symbol id="l7draw-line" viewBox="0 0 1024 1024"><path d="M832.16 449.21c0-35.35-28.66-64.01-64.01-64.01-29.2 0-53.81 19.56-61.5 46.28l-390.9 96.82 72.18-144.18c33.56-1.99 60.17-29.83 60.17-63.89 0-35.35-28.66-64.01-64.01-64.01s-64.01 28.66-64.01 64.01c0 13.04 3.91 25.17 10.61 35.28l-78.42 156.65c-33.58 1.97-60.21 29.81-60.21 63.89 0 35.35 28.66 64.01 64.01 64.01 29.2 0 53.81-19.56 61.5-46.28l390.8-96.79-71.97 143.34c-33.62 1.93-60.28 29.8-60.28 63.9 0 35.35 28.66 64.01 64.01 64.01s64.01-28.66 64.01-64.01c0-13-3.89-25.09-10.54-35.18l78.28-155.93c33.61-1.95 60.28-29.81 60.28-63.91z"  ></path></symbol><symbol id="l7draw-point" viewBox="0 0 1024 1024"><path d="M331.46 330.08m-64.01 0a64.01 64.01 0 1 0 128.02 0 64.01 64.01 0 1 0-128.02 0Z"  ></path><path d="M384.12 735.84m-64.01 0a64.01 64.01 0 1 0 128.02 0 64.01 64.01 0 1 0-128.02 0Z"  ></path><path d="M769.11 512.7m-64.01 0a64.01 64.01 0 1 0 128.02 0 64.01 64.01 0 1 0-128.02 0Z"  ></path></symbol></svg>\',d=(d=document.getElementsByTagName("script"))[d.length-1].getAttribute("data-injectcss"),l=function(t,e){e.parentNode.insertBefore(t,e)};if(d&&!t.__iconfont__svg__cssinject__){t.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}function s(){o||(o=!0,n())}function h(){try{c.documentElement.doScroll("left")}catch(t){return void setTimeout(h,50)}s()}e=function(){var t,e=document.createElement("div");e.innerHTML=i,i=null,(e=e.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",e=e,(t=document.body).firstChild?l(e,t.firstChild):t.appendChild(e))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(e,0):(a=function(){document.removeEventListener("DOMContentLoaded",a,!1),e()},document.addEventListener("DOMContentLoaded",a,!1)):document.attachEvent&&(n=e,c=t.document,o=!1,h(),c.onreadystatechange=function(){"complete"==c.readyState&&(c.onreadystatechange=null,s())})}(window);',ut="@cls-prefix: l7-draw-control;\n@btn-size: 30px;\n@icon-size: 26px;\n\n.@{cls-prefix} {\n  display: flex;\n  overflow: hidden;\n  background: #ffffff;\n  border-radius: 2px;\n  &__btn {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    width: @btn-size;\n    height: @btn-size;\n    padding: 0;\n    text-align: center;\n    background: transparent;\n    border-width: 0 0 0 0;\n    border-right: 1px solid #e0e0e0;\n    outline: 0;\n    cursor: pointer;\n    &:hover {\n      background-color: #e5e5e5;\n    }\n    &:last-child {\n      border-bottom: 0;\n    }\n    .l7-draw-icon {\n      width: @icon-size;\n      height: @icon-size;\n      overflow: hidden;\n      fill: currentColor;\n    }\n    &--active {\n      svg {\n        color: #0370fe;\n      }\n    }\n  }\n}",ct="import { PointLayer, Scene } from '@antv/l7';\nimport { DrawEvent, DrawPolygon } from '@antv/l7-draw';\nimport { GaodeMapV2 } from '@antv/l7-maps';\nimport { bbox, pointsWithinPolygon, randomPoint } from '@turf/turf';\nimport React, { useEffect, useState } from 'react';\n\nconst id = String(Math.random());\n\nconst Demo: React.FC = () => {\n  const [polygonDrawer, setPolygonDrawer] = useState<DrawPolygon | null>(null);\n\n  useEffect(() => {\n    const scene = new Scene({\n      id,\n      map: new GaodeMapV2({\n        center: [120.151634, 30.244831],\n        pitch: 0,\n        style: 'dark',\n        zoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      scene.addImage(\n        'site',\n        'https://gw.alipayobjects.com/mdn/rms_2591f5/afts/img/A*i7uyS6lLupYAAAAAAAAAAAAAARQnAQ',\n      );\n      const drawer = new DrawPolygon(scene, {\n        editable: false,\n        style: {\n          polygon: {\n            normal: {\n              color: 'rgba(0,0,0,0)',\n            },\n            hover: {\n              color: 'rgba(0,0,0,0)',\n            },\n            active: {\n              color: 'rgba(0,0,0,0)',\n            },\n          },\n        },\n      });\n      const layer = new PointLayer({\n        blend: 'normal',\n      })\n        .source([])\n        .shape('site')\n        .size(12)\n        .style({\n          offsets: [0, 16],\n        });\n      scene.addLayer(layer);\n      setPolygonDrawer(drawer);\n      drawer.enable();\n      (scene.map as any).addLayer(new window.AMap.TileLayer.Satellite());\n\n      drawer.on(DrawEvent.Add, (newPolygon) => {\n        const box = bbox(newPolygon);\n        const data = pointsWithinPolygon(\n          randomPoint(80, {\n            bbox: box,\n          }),\n          newPolygon,\n        );\n        layer.setData(data);\n      });\n    });\n  }, []);\n\n  return (\n    <div>\n      <div id={id} style={{ height: 600, position: 'relative' }} />\n    </div>\n  );\n};\n\nexport default Demo;",ft={"circle-area":{component:n("WF6z").default,previewerProps:{sources:{_:{tsx:s}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"circle-area"}},"circle-autoactive":{component:n("ylj5").default,previewerProps:{sources:{_:{tsx:l}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"circle-autoactive"}},"circle-createbydrag":{component:n("AEXf").default,previewerProps:{sources:{_:{tsx:u}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"circle-createbydrag"}},"circle-editable":{component:n("g7Fu").default,previewerProps:{sources:{_:{tsx:c}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"circle-editable"}},"circle-event":{component:n("tg9j").default,previewerProps:{sources:{_:{tsx:f}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"circle-event"}},"circle-initialdata":{component:n("XUpV").default,previewerProps:{sources:{_:{tsx:p},"mock.ts":{import:"./mock",content:d}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"circle-initialdata"}},"circle-multiple":{component:n("uh4K").default,previewerProps:{sources:{_:{tsx:h}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",identifier:"circle-multiple"}},"circle-start":{component:n("p3/k").default,previewerProps:{sources:{_:{tsx:v}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"circle-start"}},"common-helper":{component:n("K0aQ").default,previewerProps:{sources:{_:{tsx:m}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"common-helper"}},"control-add":{component:n("cFsD").default,previewerProps:{sources:{_:{tsx:g}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:">=16.9.0"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"control-add"}},"control-common":{component:n("K1Aa").default,previewerProps:{sources:{_:{tsx:y}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"control-common"}},"control-draw":{component:n("v0j8").default,previewerProps:{sources:{_:{tsx:b}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"control-draw"}},"control-event":{component:n("b78x").default,previewerProps:{sources:{_:{tsx:_}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"control-event"}},"control-start":{component:n("nsHX").default,previewerProps:{sources:{_:{tsx:E}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"control-start"}},"line-adsorb":{component:n("Qr6d").default,previewerProps:{sources:{_:{tsx:x}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"line-adsorb"}},"line-autoactive":{component:n("yUUT").default,previewerProps:{sources:{_:{tsx:w}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"line-autoactive"}},"line-distance":{component:n("IV6T").default,previewerProps:{sources:{_:{tsx:S}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"line-distance"}},"line-editable":{component:n("K2oK").default,previewerProps:{sources:{_:{tsx:O},"mock.ts":{import:"./mock",content:C}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"line-editable"}},"line-event":{component:n("EWBW").default,previewerProps:{sources:{_:{tsx:A}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"line-event"}},"line-initialdata":{component:n("GWd1").default,previewerProps:{sources:{_:{tsx:P},"mock.ts":{import:"./mock",content:C}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"line-initialdata"}},"line-midpoint":{component:n("ToOd").default,previewerProps:{sources:{_:{tsx:k},"mock.ts":{import:"./mock",content:C}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},lodash:{version:"4.17.21"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"line-midpoint"}},"line-multiple":{component:n("dBmQ").default,previewerProps:{sources:{_:{tsx:M}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",identifier:"line-multiple"}},"line-start":{component:n("NJKA").default,previewerProps:{sources:{_:{tsx:T}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"line-start"}},"point-autoactive":{component:n("mp8Z").default,previewerProps:{sources:{_:{tsx:L}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"point-autoactive"}},"point-editable":{component:n("zupi").default,previewerProps:{sources:{_:{tsx:I},"mock.ts":{import:"./mock",content:D}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"point-editable"}},"point-event":{component:n("rz1t").default,previewerProps:{sources:{_:{tsx:R}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"point-event"}},"point-image":{component:n("Shuf").default,previewerProps:{sources:{_:{tsx:N}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"point-image"}},"point-initialdata":{component:n("MpOU").default,previewerProps:{sources:{_:{tsx:j},"mock.ts":{import:"./mock",content:D}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"point-initialdata"}},"point-multiple":{component:n("RLBd").default,previewerProps:{sources:{_:{tsx:F}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",identifier:"point-multiple"}},"point-start":{component:n("jF1x").default,previewerProps:{sources:{_:{tsx:B}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"point-start"}},"point-style":{component:n("ff8A").default,previewerProps:{sources:{_:{tsx:U}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"point-style"}},"polygon-adsorb":{component:n("kB6V").default,previewerProps:{sources:{_:{tsx:z}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"polygon-adsorb"}},"polygon-area":{component:n("ANw4").default,previewerProps:{sources:{_:{tsx:H}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"polygon-area"}},"polygon-autoactive":{component:n("dO3N").default,previewerProps:{sources:{_:{tsx:V}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"polygon-autoactive"}},"polygon-editable":{component:n("fsCH").default,previewerProps:{sources:{_:{tsx:G},"mock.ts":{import:"./mock",content:W}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"polygon-editable"}},"polygon-event":{component:n("slvw").default,previewerProps:{sources:{_:{tsx:q}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"polygon-event"}},"polygon-initialdata":{component:n("rykC").default,previewerProps:{sources:{_:{tsx:Y},"mock.ts":{import:"./mock",content:W}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"polygon-initialdata"}},"polygon-midpoint":{component:n("aCEM").default,previewerProps:{sources:{_:{tsx:X},"mock.ts":{import:"./mock",content:W}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},lodash:{version:"4.17.21"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"polygon-midpoint"}},"polygon-multiple":{component:n("LDDm").default,previewerProps:{sources:{_:{tsx:K}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",identifier:"polygon-multiple"}},"polygon-start":{component:n("ckpq").default,previewerProps:{sources:{_:{tsx:Z}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"polygon-start"}},"polygon-style":{component:n("05V9").default,previewerProps:{sources:{_:{tsx:Q},"mock.ts":{import:"./mock",content:W}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},lodash:{version:"4.17.21"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"polygon-style"}},"rect-area":{component:n("Ydqa").default,previewerProps:{sources:{_:{tsx:J}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"rect-area"}},"rect-autoactive":{component:n("Cdyg").default,previewerProps:{sources:{_:{tsx:$}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"rect-autoactive"}},"rect-createbydrag":{component:n("Dvsm").default,previewerProps:{sources:{_:{tsx:ee}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"rect-createbydrag"}},"rect-editable":{component:n("gBQY").default,previewerProps:{sources:{_:{tsx:te}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"rect-editable"}},"rect-event":{component:n("Z7My").default,previewerProps:{sources:{_:{tsx:ne}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"rect-event"}},"rect-initialdata":{component:n("XpIm").default,previewerProps:{sources:{_:{tsx:re},"mock.ts":{import:"./mock",content:ie}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"rect-initialdata"}},"rect-multiple":{component:n("CokG").default,previewerProps:{sources:{_:{tsx:oe}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},react:{version:"17.0.2"}},compact:"true",identifier:"rect-multiple"}},"rect-start":{component:n("IhfD").default,previewerProps:{sources:{_:{tsx:ae}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},antd:{version:"4.22.3",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},compact:"true",defaultShowCode:"true",identifier:"rect-start"}},"usage-bus":{component:n("lDpO").default,previewerProps:{sources:{_:{tsx:se},"src/index.ts":{import:"../../../src",content:le},"src/constant/index.ts":{import:"./constant",content:ue},"src/constant/default.ts":{import:"./default",content:ce},"src/constant/drawer.ts":{import:"./drawer",content:fe},"src/constant/event.ts":{import:"./event",content:pe},"src/constant/render.ts":{import:"./render",content:de},"src/render/index.ts":{import:"../render",content:he},"src/render/dash-line-render.ts":{import:"./dash-line-render",content:ve},"src/render/layer-render.ts":{import:"./layer-render",content:me},"src/render/line-render.ts":{import:"./line-render",content:ge},"src/render/mid-point-render.ts":{import:"./mid-point-render",content:ye},"src/render/point-render.ts":{import:"./point-render",content:be},"src/render/polygon-render.ts":{import:"./polygon-render",content:_e},"src/render/scene-render.ts":{import:"./scene-render",content:Ee},"src/render/text-render.ts":{import:"./text-render",content:xe},"src/constant/style.ts":{import:"./style",content:we},"src/drawer/index.ts":{import:"./drawer",content:Se},"src/drawer/circle-drawer.ts":{import:"./circle-drawer",content:Oe},"src/mode/index.ts":{import:"../mode",content:Ce},"src/mode/base-mode.ts":{import:"./base-mode",content:Ae},"src/interactive/index.ts":{import:"../interactive",content:Pe},"src/interactive/cursor.ts":{import:"./cursor",content:ke},"src/utils/index.ts":{import:"../utils",content:Me},"src/utils/calc.ts":{import:"./calc",content:Te},"src/utils/feature.ts":{import:"./feature",content:Le},"src/utils/common.ts":{import:"./common",content:Ie},"src/utils/adsorb.ts":{import:"./adsorb",content:De},"src/utils/event.ts":{import:"./event",content:Re},"src/interactive/popup.ts":{import:"./popup",content:Ne},"src/source/index.ts":{import:"../source",content:je},"src/source/source.ts":{import:"./source",content:Fe},"src/source/history.ts":{import:"./history",content:Be},"src/mode/drag-polygon-mode.ts":{import:"./drag-polygon-mode",content:Ue},"src/mode/polygon-mode.ts":{import:"./polygon-mode",content:ze},"src/mode/line-mode.ts":{import:"./line-mode",content:He},"src/mode/mid-point-mode.ts":{import:"./mid-point-mode",content:Ve},"src/mode/point-mode.ts":{import:"./point-mode",content:Ge},"src/constant/helper.ts":{import:"../constant/helper",content:We},"src/drawer/line-drawer.ts":{import:"./line-drawer",content:qe},"src/drawer/point-drawer.ts":{import:"./point-drawer",content:Ye},"src/drawer/polygon-drawer.ts":{import:"./polygon-drawer",content:Xe},"src/drawer/rect-drawer.ts":{import:"./rect-drawer",content:Ke},"src/typings/index.ts":{import:"./typings",content:Ze},"src/typings/drawer.ts":{import:"./drawer",content:Qe},"src/typings/feature.ts":{import:"./feature",content:Je},"src/typings/render.ts":{import:"./render",content:$e},"src/typings/scene.ts":{import:"./scene",content:et},"src/typings/source.ts":{import:"./source",content:tt},"src/typings/style.ts":{import:"./style",content:nt},"src/typings/utils.ts":{import:"./utils",content:rt},"src/typings/helper.ts":{import:"./helper",content:it},"src/typings/dom.ts":{import:"./dom",content:ot},"src/control/index.ts":{import:"./control",content:at},"src/control/constant.ts":{import:"./constant",content:st},"src/control/iconfont.js":{import:"./iconfont.js",content:lt},"src/control/index.less":{import:"./index.less",content:ut}},dependencies:{"@antv/l7":{version:"2.9.19"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},"@turf/turf":{version:"6.5.0"},lodash:{version:"4.17.21"},react:{version:"17.0.2"},"tippy.js":{version:"6.3.7"},eventemitter3:{version:"4.0.7"},mousetrap:{version:"1.6.5"},uuid:{version:"8.3.2"}},compact:"true",defaultShowCode:"true",identifier:"usage-bus"}},"usage-tilemap":{component:n("oiiB").default,previewerProps:{sources:{_:{tsx:ct}},dependencies:{"@antv/l7":{version:"^2.8.35"},"@antv/l7-draw":{version:"3.0.7"},"@antv/l7-maps":{version:"2.9.19"},"@turf/turf":{version:"6.5.0"},react:{version:"17.0.2"}},compact:"true",defaultShowCode:"true",identifier:"usage-tilemap"}}},pt=n("x2v5"),dt=n("KcUY"),ht=n.n(dt);t["default"]=e=>o.a.createElement(ht.a,r({},e,{config:a,demos:ft,apis:pt}))},afO8:function(e,t,n){var r,i,o,a=n("f5p1"),s=n("2oRo"),l=n("hh1v"),u=n("kRJp"),c=n("UTVS"),f=n("93I0"),p=n("0BK2"),d=s.WeakMap,h=function(e){return o(e)?i(e):r(e,{})},v=function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(a){var m=new d,g=m.get,y=m.has,b=m.set;r=function(e,t){return b.call(m,e,t),t},i=function(e){return g.call(m,e)||{}},o=function(e){return y.call(m,e)}}else{var _=f("state");p[_]=!0,r=function(e,t){return u(e,_,t),t},i=function(e){return c(e,_)?e[_]:{}},o=function(e){return c(e,_)}}e.exports={set:r,get:i,has:o,enforce:h,getterFor:v}},apDx:function(e,t,n){var r=n("dG/n");r("dispose")},asDA:function(e,t){function n(e,t,n,r){var i=-1,o=null==e?0:e.length;r&&o&&(n=e[++i]);while(++i<o)n=t(n,e[i],i,e);return n}e.exports=n},avfM:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["polygon-editable"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["polygon-editable"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},b1O7:function(e,t,n){var r=n("g6v/"),i=n("33Wh"),o=n("/GqU"),a=n("0eef").f,s=function(e){return function(t){var n,s=o(t),l=i(s),u=l.length,c=0,f=[];while(u>c)n=l[c++],r&&!a.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}};e.exports={entries:s(!0),values:s(!1)}},b2z7:function(e,t){var n=/\w*$/;function r(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}e.exports=r},b48C:function(e,t){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},b5oN:function(e,t,n){"use strict";function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function i(e){var t=r(e).Element;return e instanceof t||e instanceof Element}function o(e){var t=r(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function a(e){if("undefined"===typeof ShadowRoot)return!1;var t=r(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}n.d(t,"b",(function(){return mn}));var s=Math.max,l=Math.min,u=Math.round;function c(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(o(e)&&t){var a=e.offsetHeight,s=e.offsetWidth;s>0&&(r=u(n.width)/s||1),a>0&&(i=u(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function f(e){var t=r(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function p(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function d(e){return e!==r(e)&&o(e)?p(e):f(e)}function h(e){return e?(e.nodeName||"").toLowerCase():null}function v(e){return((i(e)?e.ownerDocument:e.document)||window.document).documentElement}function m(e){return c(v(e)).left+f(e).scrollLeft}function g(e){return r(e).getComputedStyle(e)}function y(e){var t=g(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function b(e){var t=e.getBoundingClientRect(),n=u(t.width)/e.offsetWidth||1,r=u(t.height)/e.offsetHeight||1;return 1!==n||1!==r}function _(e,t,n){void 0===n&&(n=!1);var r=o(t),i=o(t)&&b(t),a=v(t),s=c(e,i),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==h(t)||y(a))&&(l=d(t)),o(t)?(u=c(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=m(a))),{x:s.left+l.scrollLeft-u.x,y:s.top+l.scrollTop-u.y,width:s.width,height:s.height}}function E(e){var t=c(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function x(e){return"html"===h(e)?e:e.assignedSlot||e.parentNode||(a(e)?e.host:null)||v(e)}function w(e){return["html","body","#document"].indexOf(h(e))>=0?e.ownerDocument.body:o(e)&&y(e)?e:w(x(e))}function S(e,t){var n;void 0===t&&(t=[]);var i=w(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),a=r(i),s=o?[a].concat(a.visualViewport||[],y(i)?i:[]):i,l=t.concat(s);return o?l:l.concat(S(x(s)))}function O(e){return["table","td","th"].indexOf(h(e))>=0}function C(e){return o(e)&&"fixed"!==g(e).position?e.offsetParent:null}function A(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),n=-1!==navigator.userAgent.indexOf("Trident");if(n&&o(e)){var r=g(e);if("fixed"===r.position)return null}var i=x(e);a(i)&&(i=i.host);while(o(i)&&["html","body"].indexOf(h(i))<0){var s=g(i);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return i;i=i.parentNode}return null}function P(e){var t=r(e),n=C(e);while(n&&O(n)&&"static"===g(n).position)n=C(n);return n&&("html"===h(n)||"body"===h(n)&&"static"===g(n).position)?t:n||A(e)||t}var k="top",M="bottom",T="right",L="left",I="auto",D=[k,M,T,L],R="start",N="end",j="clippingParents",F="viewport",B="popper",U="reference",z=D.reduce((function(e,t){return e.concat([t+"-"+R,t+"-"+N])}),[]),H=[].concat(D,[I]).reduce((function(e,t){return e.concat([t,t+"-"+R,t+"-"+N])}),[]),V="beforeRead",G="read",W="afterRead",q="beforeMain",Y="main",X="afterMain",K="beforeWrite",Z="write",Q="afterWrite",J=[V,G,W,q,Y,X,K,Z,Q];function $(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name);var o=[].concat(e.requires||[],e.requiresIfExists||[]);o.forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function ee(e){var t=$(e);return J.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function te(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function ne(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var re={placement:"bottom",modifiers:[],strategy:"absolute"};function ie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function oe(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,a=void 0===o?re:o;return function(e,t,n){void 0===n&&(n=a);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},re,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],l=!1,u={state:o,setOptions:function(n){var s="function"===typeof n?n(o.options):n;f(),o.options=Object.assign({},a,o.options,s),o.scrollParents={reference:i(e)?S(e):e.contextElement?S(e.contextElement):[],popper:S(t)};var l=ee(ne([].concat(r,o.options.modifiers)));return o.orderedModifiers=l.filter((function(e){return e.enabled})),c(),u.update()},forceUpdate:function(){if(!l){var e=o.elements,t=e.reference,n=e.popper;if(ie(t,n)){o.rects={reference:_(t,P(n),"fixed"===o.options.strategy),popper:E(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,s=i.options,c=void 0===s?{}:s,f=i.name;"function"===typeof a&&(o=a({state:o,options:c,name:f,instance:u})||o)}else o.reset=!1,r=-1}}},update:te((function(){return new Promise((function(e){u.forceUpdate(),e(o)}))})),destroy:function(){f(),l=!0}};if(!ie(e,t))return u;function c(){o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var a=i({state:o,name:t,instance:u,options:r}),l=function(){};s.push(a||l)}}))}function f(){s.forEach((function(e){return e()})),s=[]}return u.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var ae={passive:!0};function se(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,a=void 0===o||o,s=i.resize,l=void 0===s||s,u=r(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,ae)})),l&&u.addEventListener("resize",n.update,ae),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,ae)})),l&&u.removeEventListener("resize",n.update,ae)}}var le={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:se,data:{}};function ue(e){return e.split("-")[0]}function ce(e){return e.split("-")[1]}function fe(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function pe(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?ue(i):null,a=i?ce(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case k:t={x:s,y:n.y-r.height};break;case M:t={x:s,y:n.y+n.height};break;case T:t={x:n.x+n.width,y:l};break;case L:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=o?fe(o):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case R:t[u]=t[u]-(n[c]/2-r[c]/2);break;case N:t[u]=t[u]+(n[c]/2-r[c]/2);break;default:}}return t}function de(e){var t=e.state,n=e.name;t.modifiersData[n]=pe({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var he={name:"popperOffsets",enabled:!0,phase:"read",fn:de,data:{}},ve={top:"auto",right:"auto",bottom:"auto",left:"auto"};function me(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:u(t*i)/i||0,y:u(n*i)/i||0}}function ge(e){var t,n=e.popper,i=e.popperRect,o=e.placement,a=e.variation,s=e.offsets,l=e.position,u=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,p=e.isFixed,d=s.x,h=void 0===d?0:d,m=s.y,y=void 0===m?0:m,b="function"===typeof f?f({x:h,y:y}):{x:h,y:y};h=b.x,y=b.y;var _=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),x=L,w=k,S=window;if(c){var O=P(n),C="clientHeight",A="clientWidth";if(O===r(n)&&(O=v(n),"static"!==g(O).position&&"absolute"===l&&(C="scrollHeight",A="scrollWidth")),O=O,o===k||(o===L||o===T)&&a===N){w=M;var I=p&&O===S&&S.visualViewport?S.visualViewport.height:O[C];y-=I-i.height,y*=u?1:-1}if(o===L||(o===k||o===M)&&a===N){x=T;var D=p&&O===S&&S.visualViewport?S.visualViewport.width:O[A];h-=D-i.width,h*=u?1:-1}}var R,j=Object.assign({position:l},c&&ve),F=!0===f?me({x:h,y:y}):{x:h,y:y};return h=F.x,y=F.y,u?Object.assign({},j,(R={},R[w]=E?"0":"",R[x]=_?"0":"",R.transform=(S.devicePixelRatio||1)<=1?"translate("+h+"px, "+y+"px)":"translate3d("+h+"px, "+y+"px, 0)",R)):Object.assign({},j,(t={},t[w]=E?y+"px":"",t[x]=_?h+"px":"",t.transform="",t))}function ye(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,u={placement:ue(t.placement),variation:ce(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ge(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ge(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var be={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ye,data:{}};function _e(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];o(i)&&h(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))}function Ee(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]),s=a.reduce((function(e,t){return e[t]="",e}),{});o(r)&&h(r)&&(Object.assign(r.style,s),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}}var xe={name:"applyStyles",enabled:!0,phase:"write",fn:_e,effect:Ee,requires:["computeStyles"]};function we(e,t,n){var r=ue(e),i=[L,k].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[L,T].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function Se(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=H.reduce((function(e,n){return e[n]=we(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}var Oe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Se},Ce={left:"right",right:"left",bottom:"top",top:"bottom"};function Ae(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ce[e]}))}var Pe={start:"end",end:"start"};function ke(e){return e.replace(/start|end/g,(function(e){return Pe[e]}))}function Me(e){var t=r(e),n=v(e),i=t.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;return i&&(o=i.width,a=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,l=i.offsetTop)),{width:o,height:a,x:s+m(e),y:l}}function Te(e){var t,n=v(e),r=f(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=s(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=s(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+m(e),u=-r.scrollTop;return"rtl"===g(i||n).direction&&(l+=s(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:l,y:u}}function Le(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&a(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ie(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function De(e){var t=c(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Re(e,t){return t===F?Ie(Me(e)):i(t)?De(t):Ie(Te(v(e)))}function Ne(e){var t=S(x(e)),n=["absolute","fixed"].indexOf(g(e).position)>=0,r=n&&o(e)?P(e):e;return i(r)?t.filter((function(e){return i(e)&&Le(e,r)&&"body"!==h(e)})):[]}function je(e,t,n){var r="clippingParents"===t?Ne(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=Re(e,n);return t.top=s(r.top,t.top),t.right=l(r.right,t.right),t.bottom=l(r.bottom,t.bottom),t.left=s(r.left,t.left),t}),Re(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Fe(){return{top:0,right:0,bottom:0,left:0}}function Be(e){return Object.assign({},Fe(),e)}function Ue(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ze(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,a=n.boundary,s=void 0===a?j:a,l=n.rootBoundary,u=void 0===l?F:l,f=n.elementContext,p=void 0===f?B:f,d=n.altBoundary,h=void 0!==d&&d,m=n.padding,g=void 0===m?0:m,y=Be("number"!==typeof g?g:Ue(g,D)),b=p===B?U:B,_=e.rects.popper,E=e.elements[h?b:p],x=je(i(E)?E:E.contextElement||v(e.elements.popper),s,u),w=c(e.elements.reference),S=pe({reference:w,element:_,strategy:"absolute",placement:o}),O=Ie(Object.assign({},_,S)),C=p===B?O:w,A={top:x.top-C.top+y.top,bottom:C.bottom-x.bottom+y.bottom,left:x.left-C.left+y.left,right:C.right-x.right+y.right},P=e.modifiersData.offset;if(p===B&&P){var L=P[o];Object.keys(A).forEach((function(e){var t=[T,M].indexOf(e)>=0?1:-1,n=[k,M].indexOf(e)>=0?"y":"x";A[e]+=L[n]*t}))}return A}function He(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?H:l,c=ce(r),f=c?s?z:z.filter((function(e){return ce(e)===c})):D,p=f.filter((function(e){return u.indexOf(e)>=0}));0===p.length&&(p=f);var d=p.reduce((function(t,n){return t[n]=ze(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[ue(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}function Ve(e){if(ue(e)===I)return[];var t=Ae(e);return[ke(e),t,ke(t)]}function Ge(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,p=n.altBoundary,d=n.flipVariations,h=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,g=ue(m),y=g===m,b=l||(y||!h?[Ae(m)]:Ve(m)),_=[m].concat(b).reduce((function(e,n){return e.concat(ue(n)===I?He(t,{placement:n,boundary:c,rootBoundary:f,padding:u,flipVariations:h,allowedAutoPlacements:v}):n)}),[]),E=t.rects.reference,x=t.rects.popper,w=new Map,S=!0,O=_[0],C=0;C<_.length;C++){var A=_[C],P=ue(A),D=ce(A)===R,N=[k,M].indexOf(P)>=0,j=N?"width":"height",F=ze(t,{placement:A,boundary:c,rootBoundary:f,altBoundary:p,padding:u}),B=N?D?T:L:D?M:k;E[j]>x[j]&&(B=Ae(B));var U=Ae(B),z=[];if(o&&z.push(F[P]<=0),s&&z.push(F[B]<=0,F[U]<=0),z.every((function(e){return e}))){O=A,S=!1;break}w.set(A,z)}if(S)for(var H=h?3:1,V=function(e){var t=_.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return O=t,"break"},G=H;G>0;G--){var W=V(G);if("break"===W)break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}}var We={name:"flip",enabled:!0,phase:"main",fn:Ge,requiresIfExists:["offset"],data:{_skip:!1}};function qe(e){return"x"===e?"y":"x"}function Ye(e,t,n){return s(e,l(t,n))}function Xe(e,t,n){var r=Ye(e,t,n);return r>n?n:r}function Ke(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,u=void 0!==a&&a,c=n.boundary,f=n.rootBoundary,p=n.altBoundary,d=n.padding,h=n.tether,v=void 0===h||h,m=n.tetherOffset,g=void 0===m?0:m,y=ze(t,{boundary:c,rootBoundary:f,padding:d,altBoundary:p}),b=ue(t.placement),_=ce(t.placement),x=!_,w=fe(b),S=qe(w),O=t.modifiersData.popperOffsets,C=t.rects.reference,A=t.rects.popper,I="function"===typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,D="number"===typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(O){if(o){var F,B="y"===w?k:L,U="y"===w?M:T,z="y"===w?"height":"width",H=O[w],V=H+y[B],G=H-y[U],W=v?-A[z]/2:0,q=_===R?C[z]:A[z],Y=_===R?-A[z]:-C[z],X=t.elements.arrow,K=v&&X?E(X):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Fe(),Q=Z[B],J=Z[U],$=Ye(0,C[z],K[z]),ee=x?C[z]/2-W-$-Q-D.mainAxis:q-$-Q-D.mainAxis,te=x?-C[z]/2+W+$+J+D.mainAxis:Y+$+J+D.mainAxis,ne=t.elements.arrow&&P(t.elements.arrow),re=ne?"y"===w?ne.clientTop||0:ne.clientLeft||0:0,ie=null!=(F=null==N?void 0:N[w])?F:0,oe=H+ee-ie-re,ae=H+te-ie,se=Ye(v?l(V,oe):V,H,v?s(G,ae):G);O[w]=se,j[w]=se-H}if(u){var le,pe="x"===w?k:L,de="x"===w?M:T,he=O[S],ve="y"===S?"height":"width",me=he+y[pe],ge=he-y[de],ye=-1!==[k,L].indexOf(b),be=null!=(le=null==N?void 0:N[S])?le:0,_e=ye?me:he-C[ve]-A[ve]-be+D.altAxis,Ee=ye?he+C[ve]+A[ve]-be-D.altAxis:ge,xe=v&&ye?Xe(_e,he,Ee):Ye(v?_e:me,he,v?Ee:ge);O[S]=xe,j[S]=xe-he}t.modifiersData[r]=j}}var Ze={name:"preventOverflow",enabled:!0,phase:"main",fn:Ke,requiresIfExists:["offset"]},Qe=function(e,t){return e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,Be("number"!==typeof e?e:Ue(e,D))};function Je(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=ue(n.placement),l=fe(s),u=[L,T].indexOf(s)>=0,c=u?"height":"width";if(o&&a){var f=Qe(i.padding,n),p=E(o),d="y"===l?k:L,h="y"===l?M:T,v=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],m=a[l]-n.rects.reference[l],g=P(o),y=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=v/2-m/2,_=f[d],x=y-p[c]-f[h],w=y/2-p[c]/2+b,S=Ye(_,w,x),O=l;n.modifiersData[r]=(t={},t[O]=S,t.centerOffset=S-w,t)}}function $e(e){var t=e.state,n=e.options,r=n.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i),i))&&Le(t.elements.popper,i)&&(t.elements.arrow=i)}var et={name:"arrow",enabled:!0,phase:"main",fn:Je,effect:$e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tt(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function nt(e){return[k,T,M,L].some((function(t){return e[t]>=0}))}function rt(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=ze(t,{elementContext:"reference"}),s=ze(t,{altBoundary:!0}),l=tt(a,r),u=tt(s,i,o),c=nt(l),f=nt(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var it={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:rt},ot=[le,he,be,xe,Oe,We,Ze,et,it],at=oe({defaultModifiers:ot}),st="tippy-box",lt="tippy-content",ut="tippy-backdrop",ct="tippy-arrow",ft="tippy-svg-arrow",pt={passive:!0,capture:!0},dt=function(){return document.body};function ht(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function vt(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function mt(e,t){return"function"===typeof e?e.apply(void 0,t):e}function gt(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function yt(e){return e.split(/\s+/).filter(Boolean)}function bt(e){return[].concat(e)}function _t(e,t){-1===e.indexOf(t)&&e.push(t)}function Et(e){return e.filter((function(t,n){return e.indexOf(t)===n}))}function xt(e){return e.split("-")[0]}function wt(e){return[].slice.call(e)}function St(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function Ot(){return document.createElement("div")}function Ct(e){return["Element","Fragment"].some((function(t){return vt(e,t)}))}function At(e){return vt(e,"NodeList")}function Pt(e){return vt(e,"MouseEvent")}function kt(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function Mt(e){return Ct(e)?[e]:At(e)?wt(e):Array.isArray(e)?e:wt(document.querySelectorAll(e))}function Tt(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function Lt(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function It(e){var t,n=bt(e),r=n[0];return null!=r&&null!=(t=r.ownerDocument)&&t.body?r.ownerDocument:document}function Dt(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,o=e.props,a=o.interactiveBorder,s=xt(i.placement),l=i.modifiersData.offset;if(!l)return!0;var u="bottom"===s?l.top.y:0,c="top"===s?l.bottom.y:0,f="right"===s?l.left.x:0,p="left"===s?l.right.x:0,d=t.top-r+u>a,h=r-t.bottom-c>a,v=t.left-n+f>a,m=n-t.right-p>a;return d||h||v||m}))}function Rt(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function Nt(e,t){var n=t;while(n){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var jt={isTouch:!1},Ft=0;function Bt(){jt.isTouch||(jt.isTouch=!0,window.performance&&document.addEventListener("mousemove",Ut))}function Ut(){var e=performance.now();e-Ft<20&&(jt.isTouch=!1,document.removeEventListener("mousemove",Ut)),Ft=e}function zt(){var e=document.activeElement;if(kt(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function Ht(){document.addEventListener("touchstart",Bt,pt),window.addEventListener("blur",zt)}var Vt="undefined"!==typeof window&&"undefined"!==typeof document,Gt=!!Vt&&!!window.msCrypto;var Wt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},qt={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Yt=Object.assign({appendTo:dt,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Wt,qt),Xt=Object.keys(Yt),Kt=function(e){var t=Object.keys(e);t.forEach((function(t){Yt[t]=e[t]}))};function Zt(e){var t=e.plugins||[],n=t.reduce((function(t,n){var r,i=n.name,o=n.defaultValue;i&&(t[i]=void 0!==e[i]?e[i]:null!=(r=Yt[i])?r:o);return t}),{});return Object.assign({},e,n)}function Qt(e,t){var n=t?Object.keys(Zt(Object.assign({},Yt,{plugins:t}))):Xt,r=n.reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(i){t[n]=r}return t}),{});return r}function Jt(e,t){var n=Object.assign({},t,{content:mt(t.content,[e])},t.ignoreAttributes?{}:Qt(e,t.plugins));return n.aria=Object.assign({},Yt.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}var $t=function(){return"innerHTML"};function en(e,t){e[$t()]=t}function tn(e){var t=Ot();return!0===e?t.className=ct:(t.className=ft,Ct(e)?t.appendChild(e):en(t,e)),t}function nn(e,t){Ct(t.content)?(en(e,""),e.appendChild(t.content)):"function"!==typeof t.content&&(t.allowHTML?en(e,t.content):e.textContent=t.content)}function rn(e){var t=e.firstElementChild,n=wt(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(lt)})),arrow:n.find((function(e){return e.classList.contains(ct)||e.classList.contains(ft)})),backdrop:n.find((function(e){return e.classList.contains(ut)}))}}function on(e){var t=Ot(),n=Ot();n.className=st,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Ot();function i(n,r){var i=rn(t),o=i.box,a=i.content,s=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"===typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"===typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||nn(a,e.props),r.arrow?s?n.arrow!==r.arrow&&(o.removeChild(s),o.appendChild(tn(r.arrow))):o.appendChild(tn(r.arrow)):s&&o.removeChild(s)}return r.className=lt,r.setAttribute("data-state","hidden"),nn(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props),{popper:t,onUpdate:i}}on.$$tippy=!0;var an=1,sn=[],ln=[];function un(e,t){var n,r,i,o,a,s,l,u=Jt(e,Object.assign({},Yt,Zt(St(t)))),c=!1,f=!1,p=!1,d=!1,h=[],v=gt(Z,u.interactiveDebounce),m=an++,g=null,y=Et(u.plugins),b={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:m,reference:e,popper:Ot(),popperInstance:g,props:u,state:b,plugins:y,clearDelayTimeouts:le,setProps:ue,setContent:ce,show:fe,hide:pe,hideWithInteractivity:de,enable:ae,disable:se,unmount:he,destroy:ve};if(!u.render)return _;var E=u.render(_),x=E.popper,w=E.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+_.id,_.popper=x,e._tippy=_,x._tippy=_;var S=y.map((function(e){return e.fn(_)})),O=e.hasAttribute("aria-expanded");return Y(),N(),I(),D("onCreate",[_]),u.showOnCreate&&ie(),x.addEventListener("mouseenter",(function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()})),x.addEventListener("mouseleave",(function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&M().addEventListener("mousemove",v)})),_;function C(){var e=_.props.touch;return Array.isArray(e)?e:[e,0]}function A(){return"hold"===C()[0]}function P(){var e;return!(null==(e=_.props.render)||!e.$$tippy)}function k(){return l||e}function M(){var e=k().parentNode;return e?It(e):document}function T(){return rn(x)}function L(e){return _.state.isMounted&&!_.state.isVisible||jt.isTouch||o&&"focus"===o.type?0:ht(_.props.delay,e?0:1,Yt.delay)}function I(e){void 0===e&&(e=!1),x.style.pointerEvents=_.props.interactive&&!e?"":"none",x.style.zIndex=""+_.props.zIndex}function D(e,t,n){var r;(void 0===n&&(n=!0),S.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(r=_.props)[e].apply(r,t)}function R(){var t=_.props.aria;if(t.content){var n="aria-"+t.content,r=x.id,i=bt(_.props.triggerTarget||e);i.forEach((function(e){var t=e.getAttribute(n);if(_.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function N(){if(!O&&_.props.aria.expanded){var t=bt(_.props.triggerTarget||e);t.forEach((function(e){_.props.interactive?e.setAttribute("aria-expanded",_.state.isVisible&&e===k()?"true":"false"):e.removeAttribute("aria-expanded")}))}}function j(){M().removeEventListener("mousemove",v),sn=sn.filter((function(e){return e!==v}))}function F(t){if(!jt.isTouch||!p&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!_.props.interactive||!Nt(x,n)){if(bt(_.props.triggerTarget||e).some((function(e){return Nt(e,n)}))){if(jt.isTouch)return;if(_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else D("onClickOutside",[_,t]);!0===_.props.hideOnClick&&(_.clearDelayTimeouts(),_.hide(),f=!0,setTimeout((function(){f=!1})),_.state.isMounted||H())}}}function B(){p=!0}function U(){p=!1}function z(){var e=M();e.addEventListener("mousedown",F,!0),e.addEventListener("touchend",F,pt),e.addEventListener("touchstart",U,pt),e.addEventListener("touchmove",B,pt)}function H(){var e=M();e.removeEventListener("mousedown",F,!0),e.removeEventListener("touchend",F,pt),e.removeEventListener("touchstart",U,pt),e.removeEventListener("touchmove",B,pt)}function V(e,t){W(e,(function(){!_.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&t()}))}function G(e,t){W(e,t)}function W(e,t){var n=T().box;function r(e){e.target===n&&(Rt(n,"remove",r),t())}if(0===e)return t();Rt(n,"remove",a),Rt(n,"add",r),a=r}function q(t,n,r){void 0===r&&(r=!1);var i=bt(_.props.triggerTarget||e);i.forEach((function(e){e.addEventListener(t,n,r),h.push({node:e,eventType:t,handler:n,options:r})}))}function Y(){A()&&(q("touchstart",K,{passive:!0}),q("touchend",Q,{passive:!0})),yt(_.props.trigger).forEach((function(e){if("manual"!==e)switch(q(e,K),e){case"mouseenter":q("mouseleave",Q);break;case"focus":q(Gt?"focusout":"blur",J);break;case"focusin":q("focusout",J);break}}))}function X(){h.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),h=[]}function K(e){var t,n=!1;if(_.state.isEnabled&&!$(e)&&!f){var r="focus"===(null==(t=o)?void 0:t.type);o=e,l=e.currentTarget,N(),!_.state.isVisible&&Pt(e)&&sn.forEach((function(t){return t(e)})),"click"===e.type&&(_.props.trigger.indexOf("mouseenter")<0||c)&&!1!==_.props.hideOnClick&&_.state.isVisible?n=!0:ie(e),"click"===e.type&&(c=!n),n&&!r&&oe(e)}}function Z(e){var t=e.target,n=k().contains(t)||x.contains(t);if("mousemove"!==e.type||!n){var r=re().concat(x).map((function(e){var t,n=e._tippy,r=null==(t=n.popperInstance)?void 0:t.state;return r?{popperRect:e.getBoundingClientRect(),popperState:r,props:u}:null})).filter(Boolean);Dt(r,e)&&(j(),oe(e))}}function Q(e){var t=$(e)||_.props.trigger.indexOf("click")>=0&&c;t||(_.props.interactive?_.hideWithInteractivity(e):oe(e))}function J(e){_.props.trigger.indexOf("focusin")<0&&e.target!==k()||_.props.interactive&&e.relatedTarget&&x.contains(e.relatedTarget)||oe(e)}function $(e){return!!jt.isTouch&&A()!==e.type.indexOf("touch")>=0}function ee(){te();var t=_.props,n=t.popperOptions,r=t.placement,i=t.offset,o=t.getReferenceClientRect,a=t.moveTransition,l=P()?rn(x).arrow:null,u=o?{getBoundingClientRect:o,contextElement:o.contextElement||k()}:e,c={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(P()){var n=T(),r=n.box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?r.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?r.setAttribute("data-"+e,""):r.removeAttribute("data-"+e)})),t.attributes.popper={}}}},f=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},c];P()&&l&&f.push({name:"arrow",options:{element:l,padding:3}}),f.push.apply(f,(null==n?void 0:n.modifiers)||[]),_.popperInstance=at(u,x,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:f}))}function te(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function ne(){var e,t=_.props.appendTo,n=k();e=_.props.interactive&&t===dt||"parent"===t?n.parentNode:mt(t,[n]),e.contains(x)||e.appendChild(x),_.state.isMounted=!0,ee()}function re(){return wt(x.querySelectorAll("[data-tippy-root]"))}function ie(e){_.clearDelayTimeouts(),e&&D("onTrigger",[_,e]),z();var t=L(!0),r=C(),i=r[0],o=r[1];jt.isTouch&&"hold"===i&&o&&(t=o),t?n=setTimeout((function(){_.show()}),t):_.show()}function oe(e){if(_.clearDelayTimeouts(),D("onUntrigger",[_,e]),_.state.isVisible){if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&c)){var t=L(!1);t?r=setTimeout((function(){_.state.isVisible&&_.hide()}),t):i=requestAnimationFrame((function(){_.hide()}))}}else H()}function ae(){_.state.isEnabled=!0}function se(){_.hide(),_.state.isEnabled=!1}function le(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)}function ue(t){if(!_.state.isDestroyed){D("onBeforeUpdate",[_,t]),X();var n=_.props,r=Jt(e,Object.assign({},n,St(t),{ignoreAttributes:!0}));_.props=r,Y(),n.interactiveDebounce!==r.interactiveDebounce&&(j(),v=gt(Z,r.interactiveDebounce)),n.triggerTarget&&!r.triggerTarget?bt(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded"),N(),I(),w&&w(n,r),_.popperInstance&&(ee(),re().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}))),D("onAfterUpdate",[_,t])}}function ce(e){_.setProps({content:e})}function fe(){var e=_.state.isVisible,t=_.state.isDestroyed,n=!_.state.isEnabled,r=jt.isTouch&&!_.props.touch,i=ht(_.props.duration,0,Yt.duration);if(!(e||t||n||r)&&!k().hasAttribute("disabled")&&(D("onShow",[_],!1),!1!==_.props.onShow(_))){if(_.state.isVisible=!0,P()&&(x.style.visibility="visible"),I(),z(),_.state.isMounted||(x.style.transition="none"),P()){var o=T(),a=o.box,l=o.content;Tt([a,l],0)}s=function(){var e;if(_.state.isVisible&&!d){if(d=!0,x.offsetHeight,x.style.transition=_.props.moveTransition,P()&&_.props.animation){var t=T(),n=t.box,r=t.content;Tt([n,r],i),Lt([n,r],"visible")}R(),N(),_t(ln,_),null==(e=_.popperInstance)||e.forceUpdate(),D("onMount",[_]),_.props.animation&&P()&&G(i,(function(){_.state.isShown=!0,D("onShown",[_])}))}},ne()}}function pe(){var e=!_.state.isVisible,t=_.state.isDestroyed,n=!_.state.isEnabled,r=ht(_.props.duration,1,Yt.duration);if(!(e||t||n)&&(D("onHide",[_],!1),!1!==_.props.onHide(_))){if(_.state.isVisible=!1,_.state.isShown=!1,d=!1,c=!1,P()&&(x.style.visibility="hidden"),j(),H(),I(!0),P()){var i=T(),o=i.box,a=i.content;_.props.animation&&(Tt([o,a],r),Lt([o,a],"hidden"))}R(),N(),_.props.animation?P()&&V(r,_.unmount):_.unmount()}}function de(e){M().addEventListener("mousemove",v),_t(sn,v),v(e)}function he(){_.state.isVisible&&_.hide(),_.state.isMounted&&(te(),re().forEach((function(e){e._tippy.unmount()})),x.parentNode&&x.parentNode.removeChild(x),ln=ln.filter((function(e){return e!==_})),_.state.isMounted=!1,D("onHidden",[_]))}function ve(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),X(),delete e._tippy,_.state.isDestroyed=!0,D("onDestroy",[_]))}}function cn(e,t){void 0===t&&(t={});var n=Yt.plugins.concat(t.plugins||[]);Ht();var r=Object.assign({},t,{plugins:n}),i=Mt(e),o=i.reduce((function(e,t){var n=t&&un(t,r);return n&&e.push(n),e}),[]);return Ct(e)?o[0]:o}cn.defaultProps=Yt,cn.setDefaultProps=Kt,cn.currentInput=jt;Object.assign({},xe,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});var fn={clientX:0,clientY:0},pn=[];function dn(e){var t=e.clientX,n=e.clientY;fn={clientX:t,clientY:n}}function hn(e){e.addEventListener("mousemove",dn)}function vn(e){e.removeEventListener("mousemove",dn)}var mn={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,n=It(e.props.triggerTarget||t),r=!1,i=!1,o=!0,a=e.props;function s(){return"initial"===e.props.followCursor&&e.state.isVisible}function l(){n.addEventListener("mousemove",f)}function u(){n.removeEventListener("mousemove",f)}function c(){r=!0,e.setProps({getReferenceClientRect:null}),r=!1}function f(n){var r=!n.target||t.contains(n.target),i=e.props.followCursor,o=n.clientX,a=n.clientY,s=t.getBoundingClientRect(),l=o-s.left,u=a-s.top;!r&&e.props.interactive||e.setProps({getReferenceClientRect:function(){var e=t.getBoundingClientRect(),n=o,r=a;"initial"===i&&(n=e.left+l,r=e.top+u);var s="horizontal"===i?e.top:r,c="vertical"===i?e.right:n,f="horizontal"===i?e.bottom:r,p="vertical"===i?e.left:n;return{width:c-p,height:f-s,top:s,right:c,bottom:f,left:p}}})}function p(){e.props.followCursor&&(pn.push({instance:e,doc:n}),hn(n))}function d(){pn=pn.filter((function(t){return t.instance!==e})),0===pn.filter((function(e){return e.doc===n})).length&&vn(n)}return{onCreate:p,onDestroy:d,onBeforeUpdate:function(){a=e.props},onAfterUpdate:function(t,n){var o=n.followCursor;r||void 0!==o&&a.followCursor!==o&&(d(),o?(p(),!e.state.isMounted||i||s()||l()):(u(),c()))},onMount:function(){e.props.followCursor&&!i&&(o&&(f(fn),o=!1),s()||l())},onTrigger:function(e,t){Pt(t)&&(fn={clientX:t.clientX,clientY:t.clientY}),i="focus"===t.type},onHidden:function(){e.props.followCursor&&(c(),u(),o=!0)}}}};cn.setDefaultProps({render:on});t["a"]=cn},b78x:function(e,t,n){"use strict";n.r(t);var r=n("8ml+"),i=n("/7QA"),o=n("zWmH"),a=n("q1tI"),s=n.n(a),l=String(Math.random()),u=()=>(Object(a["useEffect"])((()=>{var e=new r["f"]({id:l,map:new o["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new i["DrawControl"](e,{defaultActiveType:"point"});e.addControl(t),t.on(i["ControlEvent"].DrawChange,(e=>{console.log("\u5f53\u524d\u6fc0\u6d3b\u7684\u7ed8\u5236\u53d1\u751f\u66f4\u6539",e)})),t.on(i["ControlEvent"].DataChange,(e=>{console.log("\u5f53\u524d\u7ed8\u5236\u6570\u636e\u53d1\u751f\u66f4\u6539",e)}))}))}),[]),s.a.createElement("div",null,s.a.createElement("div",{id:l,style:{height:400,position:"relative"}})));t["default"]=u},b80T:function(e,t,n){var r=n("UNi/"),i=n("03A+"),o=n("Z0cm"),a=n("DSRE"),s=n("wJg7"),l=n("c6wG"),u=Object.prototype,c=u.hasOwnProperty;function f(e,t){var n=o(e),u=!n&&i(e),f=!n&&!u&&a(e),p=!n&&!u&&!f&&l(e),d=n||u||f||p,h=d?r(e.length,String):[],v=h.length;for(var m in e)!t&&!c.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||h.push(m);return h}e.exports=f},bCY9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("LtsZ"),i=new r["Plugin"]({validKeys:["modifyClientRenderOpts","patchRoutes","rootContainer","render","onRouteChange","__mfsu"]})},bFeb:function(e,t,n){var r=n("I+eb"),i=n("2oRo");r({global:!0},{globalThis:i})},bT9E:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("VTBJ");function i(e,t){var n=Object(r["a"])({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}},bWFh:function(e,t,n){"use strict";var r=n("I+eb"),i=n("2oRo"),o=n("lMq5"),a=n("busE"),s=n("8YOa"),l=n("ImZN"),u=n("GarU"),c=n("hh1v"),f=n("0Dky"),p=n("HH4o"),d=n("1E5z"),h=n("cVYH");e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),g=v?"set":"add",y=i[e],b=y&&y.prototype,_=y,E={},x=function(e){var t=b[e];a(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(o(e,"function"!=typeof y||!(m||b.forEach&&!f((function(){(new y).entries().next()})))))_=n.getConstructor(t,e,v,g),s.REQUIRED=!0;else if(o(e,!0)){var w=new _,S=w[g](m?{}:-0,1)!=w,O=f((function(){w.has(1)})),C=p((function(e){new y(e)})),A=!m&&f((function(){var e=new y,t=5;while(t--)e[g](t,t);return!e.has(-0)}));C||(_=t((function(t,n){u(t,_,e);var r=h(new y,t,_);return void 0!=n&&l(n,r[g],r,v),r})),_.prototype=b,b.constructor=_),(O||A)&&(x("delete"),x("has"),v&&x("get")),(A||S)&&x(g),m&&b.clear&&delete b.clear}return E[e]=_,r({global:!0,forced:_!=y},E),d(_,e),m||n.setStrong(_,e,v),_}},bYHP:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=u(n("q1tI")),o=n("LtsZ"),a=s(n("hKI/"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i["default"]=e,n&&n.set(e,i),i}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function f(e,t){return m(e)||v(e,t)||d(e,t)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function m(e){if(Array.isArray(e))return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var _=new(function(){function e(){g(this,e),this.anchors=[],this.listeners=[],this.listener=void 0,this.listener=(0,a["default"])(this._matchActiveAnchor.bind(this),200)}return b(e,[{key:"_matchActiveAnchor",value:function(){var e=this,t=this.anchors.findIndex((function(t,n){return t.getBoundingClientRect().top>128||n===e.anchors.length-1})),n=this.anchors[Math.max(0,t-1)],r=n.parentElement.id;this.listeners.forEach((function(e){return e(r)}))}},{key:"watch",value:function(e){0===this.anchors.length&&"undefined"!==typeof window&&window.addEventListener("scroll",this.listener),this.anchors.push(e),this.listener()}},{key:"unwatch",value:function(e){this.anchors.splice(this.anchors.findIndex((function(t){return t===e})),1),0===this.anchors.length&&"undefined"!==typeof window&&window.removeEventListener("scroll",this.listener)}},{key:"listen",value:function(e){this.listeners.push(e)}},{key:"unlisten",value:function(e){this.listeners.splice(this.listeners.findIndex((function(t){return t===e})),1)}}]),e}());function E(e){return e.offsetTop+(e.offsetParent?E(e.offsetParent):0)}var x=function e(t){var n,r=(null===(n=t.to.match(/(#[^&?]*)/))||void 0===n?void 0:n[1])||"",a=(0,i.useRef)(null),s=(0,i.useState)(!1),l=f(s,2),u=l[0],p=l[1];return(0,i.useEffect)((function(){var e,t;if(["H1","H2","H3"].includes(null===(e=a.current)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.tagName)&&a.current.parentElement.id){var n=a.current;return _.watch(n),function(){_.unwatch(n)}}var i=function(e){p(r==="#".concat(e))};return _.listen(i),function(){return _.unlisten(i)}}),[]),i["default"].createElement(o.NavLink,c({},t,{ref:a,onClick:function(){return e.scrollToAnchor(r.substring(1))},isActive:function(){return u}}))};x.scrollToAnchor=function(e){window.requestAnimationFrame((function(){var t=document.getElementById(decodeURIComponent(e));t&&window.scrollTo(0,E(t)-100)}))};var w=x;t["default"]=w},bahg:function(e,t){function n(e){return e.split("")}e.exports=n},bdeN:function(e,t,n){var r=n("I+eb"),i=n("eDxR"),o=n("glrk"),a=n("4WOD"),s=i.has,l=i.toKey,u=function(e,t,n){var r=s(e,t,n);if(r)return!0;var i=a(t);return null!==i&&u(e,i,n)};r({target:"Reflect",stat:!0},{hasMetadata:function(e,t){var n=arguments.length<3?void 0:l(arguments[2]);return u(e,o(t),n)}})},bdgK:function(e,t,n){"use strict";n.r(t),function(e){var n=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype["delete"]=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i=function(){return"undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),o=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)}}(),a=2;function s(e,t){var n=!1,r=!1,i=0;function s(){n&&(n=!1,e()),r&&u()}function l(){o(s)}function u(){var e=Date.now();if(n){if(e-i<a)return;r=!0}else n=!0,r=!1,setTimeout(l,t);i=e}return u}var l=20,u=["top","right","bottom","left","width","height","size","weight"],c="undefined"!==typeof MutationObserver,f=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),l)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=u.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),p=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||i},h=S(0,0,0,0);function v(e){return parseFloat(e)||0}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){var r=e["border-"+n+"-width"];return t+v(r)}),0)}function g(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var o=i[r],a=e["padding-"+o];n[o]=v(a)}return n}function y(e){var t=e.getBBox();return S(0,0,t.width,t.height)}function b(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=d(e).getComputedStyle(e),i=g(r),o=i.left+i.right,a=i.top+i.bottom,s=v(r.width),l=v(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=m(r,"left","right")+o),Math.round(l+a)!==n&&(l-=m(r,"top","bottom")+a)),!E(e)){var u=Math.round(s+o)-t,c=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return S(i.left,i.top,s,l)}var _=function(){return"undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox}}();function E(e){return e===d(e).document.documentElement}function x(e){return r?_(e)?y(e):b(e):h}function w(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return p(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}function S(e,t,n,r){return{x:e,y:t,width:n,height:r}}var O=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=S(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=x(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),C=function(){function e(e,t){var n=w(t);p(this,{target:e,contentRect:n})}return e}(),A=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new O(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t["delete"](e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new C(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),P="undefined"!==typeof WeakMap?new WeakMap:new n,k=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=f.getInstance(),r=new A(t,n,this);P.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach((function(e){k.prototype[e]=function(){var t;return(t=P.get(this))[e].apply(t,arguments)}}));var M=function(){return"undefined"!==typeof i.ResizeObserver?i.ResizeObserver:k}();t["default"]=M}.call(this,n("IyRk"))},beRK:function(e,t,n){"use strict";function r(){var e=n("q1tI");return r=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.getDemoUrl=t.getDemoRouteName=t["default"]=void 0;var i=o(n("nLCz"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return f(e)||c(e,t)||l(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function f(e){if(Array.isArray(e))return e}function p(){return"BASEMENT"===Object({NODE_ENV:"production"}).PLATFORM_TYPE}var d=function(){return p()?"_demos":"~demos"};t.getDemoRouteName=d;var h=function(e,t){var n,r=window,i=r.location,o=i.href,s=i.origin,l=o.split(/#\//),u=a(l,2),c=u[0],f=u[1],p="string"===typeof f;return[p?"".concat(c,"#"):s,"".concat((null===(n=window)||void 0===n?void 0:n.routerBase)||"","/").replace(/\/\/$/,"/"),d(),"/",e,"".concat(t?".html":"")].join("")};t.getDemoUrl=h;var v=function(e){var t=(0,r().useContext)(i["default"]),n=t.config,o=(0,r().useState)(""),s=a(o,2),l=s[0],u=s[1];return(0,r().useEffect)((function(){u(e?h(e,n.exportStatic&&n.exportStatic.htmlSuffix):null)}),[e,n]),l};t["default"]=v},bfL6:function(e,t,n){var r=n("mGKP");function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(l)throw a}}}}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},busE:function(e,t,n){var r=n("2oRo"),i=n("kRJp"),o=n("UTVS"),a=n("zk60"),s=n("iSVu"),l=n("afO8"),u=l.get,c=l.enforce,f=String(String).split("String");(e.exports=function(e,t,n,s){var l=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),c(n).source=f.join("string"==typeof t?t:"")),e!==r?(l?!p&&e[t]&&(u=!0):delete e[t],u?e[t]=n:i(e,t,n)):u?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},"c+Xe":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n("U8pU"),i=n("t6Hw");n("YrtM");function o(e,t){"function"===typeof e?e(t):"object"===Object(r["a"])(e)&&e&&"current"in e&&(e.current=t)}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){o(t,e)}))}}function s(e){var t,n,r=Object(i["isMemo"])(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}},c0go:function(e,t,n){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),o=0;o<r.length;o++){var a=r[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n}},c162:function(e,t,n){"use strict";var r=n("67WC"),i=n("gdVl"),o=r.aTypedArray,a=r.exportTypedArrayMethod;a("fill",(function(e){return i.apply(o(this),arguments)}))},c6wG:function(e,t,n){var r=n("dD9F"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},c9m3:function(e,t,n){var r=n("RNIs");r("flatMap")},cDf5:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},cFsD:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=n("2/Rp"),c=String(Math.random()),f=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=t[0],f=t[1],p=Object(s["useState"])(null),d=Object(r["a"])(p,2),h=d[0],v=d[1];Object(s["useEffect"])((()=>{var e=new i["f"]({id:c,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{f(e)}))}),[]);var m=()=>{if(n){var e=new o["DrawControl"](n,{});n.addControl(e),v(e)}},g=()=>{n&&h&&n.removeControl(h)};return l.a.createElement("div",null,l.a.createElement("div",{style:{marginBottom:6}},l.a.createElement(u["a"],{style:{marginRight:6},onClick:m},"\u6dfb\u52a0 Control"),l.a.createElement(u["a"],{onClick:g},"\u79fb\u9664 Control")),l.a.createElement("div",{id:c,style:{height:400,position:"relative"}}))};t["default"]=f},cOPa:function(e,t,n){var r=n("I+eb"),i=Math.min,o=Math.max;r({target:"Math",stat:!0},{clamp:function(e,t,n){return i(n,o(t,e))}})},cSJO:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var i=n("MON2"),o=n("FV85"),a=n("xfSm");function s(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(t,n){var r="";r=t.target.name.value();var o=i[n];e[r]=o})),e}function l(e,t){return new(e.bind.apply(e,r([void 0],t)))}function u(e,t){if(Reflect.hasMetadata(a.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,e);try{t[n.value]()}catch(r){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,r.message))}}}function c(e,t,n){var r=null;if(t.length>0){var i=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument})),a=i.map(n);r=l(e,a),r=s(r,t,n)}else r=new e;return u(e,r),r}t.resolveInstance=c},cVYH:function(e,t,n){var r=n("hh1v"),i=n("0rvr");e.exports=function(e,t,n){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(e,a),e}},cZ5Q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n("MON2"),i=n("xfSm");function o(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}t.injectable=o},catJ:function(e,t,n){},cebF:function(e,t){},cfiF:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("Cg3G");r({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},cgDF:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return g}));var r=n("8ml+"),i=n("WVt+"),o=n("uhBA"),a=n.n(o);class s extends o["EventEmitter"]{constructor(e,t){var n=t.style;super(),this.scene=void 0,this.style=void 0,this.layers=void 0,this.data=[],this.scene=e,this.style=n,this.layers=this.getLayers(),this.layers.forEach((t=>{e.addLayer(t)})),n.callback instanceof Function&&n.callback(this.layers)}show(){this.layers.forEach((e=>{e.show()}))}hide(){this.layers.forEach((e=>{e.hide()}))}setData(e){this.data=e;var t=Object(i["featureCollection"])(e);this.layers.forEach((e=>{e.setData(t)}))}destroy(){this.layers.forEach((e=>{this.scene.removeLayer(e)}))}}class l extends s{getLayers(){var e=this.style,t=e.normal,n=e.style,o=e.options,a=new r["c"](null!==o&&void 0!==o?o:{}).source(Object(i["featureCollection"])([])).size(t.size).color(t.color).shape("line").style(n);return[a]}}var u=n("LvDl"),c=n("k/Of");class f extends s{constructor(){super(...arguments),this.onMouseMove=e=>{this.emit(c["o"].Mousemove,e)},this.onMouseOut=e=>{this.emit(c["o"].Mouseout,e)},this.onMouseDown=e=>{this.emit(c["o"].Dragstart,e)},this.onDragging=e=>{this.emit(c["o"].Dragging,e)},this.onDragEnd=Object(u["debounce"])((e=>{this.emit(c["o"].Dragend,e)}),0),this.onUnClick=e=>{this.emit(c["o"].UnClick,e)},this.enableHover=()=>{var e,t;this.disableHover(),null===(e=this.layers[0])||void 0===e||e.on(c["m"].Mousemove,this.onMouseMove),null===(t=this.layers[0])||void 0===t||t.on(c["m"].Mouseout,this.onMouseOut)},this.disableHover=()=>{var e,t;null===(e=this.layers[0])||void 0===e||e.off(c["m"].Mousemove,this.onMouseMove),null===(t=this.layers[0])||void 0===t||t.off(c["m"].Mouseout,this.onMouseOut)}}getLayers(){var e=this.style,t=e.normal,n=e.hover,o=e.active,a=e.style,s=e.options,l=new r["c"](null!==s&&void 0!==s?s:{}).source(Object(i["featureCollection"])([])).size("isHover*isActive",((e,r)=>r?o.size:e?n.size:t.size)).color("isHover*isActive",((e,r)=>r?o.color:e?n.color:t.color)).shape("line").style(a);return[l]}enableDrag(){this.disableDrag(),this.layers[0].on(c["m"].Mousedown,this.onMouseDown),this.scene.on(c["p"].Dragging,this.onDragging),this.scene.on(c["p"].Mouseup,this.onDragEnd),this.scene.on(c["p"].Dragend,this.onDragEnd)}disableDrag(){this.layers[0].off(c["m"].Mousedown,this.onMouseDown),this.scene.off(c["p"].Dragging,this.onDragging),this.scene.off(c["p"].Mouseup,this.onDragEnd),this.scene.off(c["p"].Dragend,this.onDragEnd)}enableUnClick(){this.disableUnClick(),this.layers[0].on(c["m"].UnClick,this.onUnClick)}disableUnClick(){this.layers[0].off(c["m"].UnClick,this.onUnClick)}}var p=n("k1fw");class d extends s{constructor(){super(...arguments),this.onMouseMove=e=>{this.emit(c["o"].Mousemove,e)},this.onMouseOut=e=>{this.emit(c["o"].Mouseout,e)},this.onMouseDown=e=>{this.emit(c["o"].Click,e)}}getLayers(){var e=this.style,t=e.normal,n=e.style,o=e.options,a=t.shape,s=t.size,l=t.color,u=t.stroke,c=new r["d"](null!==o&&void 0!==o?o:{}).source(Object(i["featureCollection"])([])).size(s).color(l).shape(a).style(Object(p["a"])({stroke:u},n));return[c]}enableClick(){this.disableClick(),this.layers[0].on(c["m"].Mousedown,this.onMouseDown)}disableClick(){this.layers[0].off(c["m"].Mousedown,this.onMouseDown)}enableHover(){var e,t;this.disableHover(),null===(e=this.layers[0])||void 0===e||e.on(c["m"].Mousemove,this.onMouseMove),null===(t=this.layers[0])||void 0===t||t.on(c["m"].Mouseout,this.onMouseOut)}disableHover(){var e,t;null===(e=this.layers[0])||void 0===e||e.off(c["m"].Mousemove,this.onMouseMove),null===(t=this.layers[0])||void 0===t||t.off(c["m"].Mouseout,this.onMouseOut)}}class h extends s{constructor(){super(...arguments),this.onCreate=e=>{this.emit(c["o"].UnClick,e)},this.onMouseMove=e=>{this.emit(c["o"].Mousemove,e)},this.onMouseOut=e=>{this.emit(c["o"].Mouseout,e)},this.onMouseDown=e=>{this.emit(c["o"].Dragstart,e)},this.onDragging=e=>{this.emit(c["o"].Dragging,e)},this.onDragEnd=Object(u["debounce"])((e=>{this.emit(c["o"].Dragend,e)}),0),this.onClick=e=>{this.emit(c["o"].Click,e)},this.onContextmenu=e=>{this.emit(c["o"].Contextmenu,e)}}getLayers(){var e=this.style,t=e.normal,n=e.hover,o=e.active,a=e.style,s=e.options,l=new r["d"](null!==s&&void 0!==s?s:{}).source(Object(i["featureCollection"])([])).size("isHover*isActive",((e,r)=>r?o.size:e?n.size:t.size)).color("isHover*isActive",((e,r)=>r?o.color:e?n.color:t.color)).shape("isHover*isActive",((e,r)=>r?o.shape:e?n.shape:t.shape)).style(Object(p["a"])({stroke:["isHover*isActive",(e,r)=>r?o.stroke:e?n.stroke:t.stroke]},a));return[l]}enableCreate(){this.disableCreate(),this.layers[0].on(c["m"].UnClick,this.onCreate)}disableCreate(){this.layers[0].off(c["m"].UnClick,this.onCreate)}enableHover(){var e,t;this.disableHover(),null===(e=this.layers[0])||void 0===e||e.on(c["m"].Mousemove,this.onMouseMove),null===(t=this.layers[0])||void 0===t||t.on(c["m"].Mouseout,this.onMouseOut)}disableHover(){var e,t;null===(e=this.layers[0])||void 0===e||e.off(c["m"].Mousemove,this.onMouseMove),null===(t=this.layers[0])||void 0===t||t.off(c["m"].Mouseout,this.onMouseOut)}enableDrag(){this.disableDrag(),this.layers[0].on(c["m"].Mousedown,this.onMouseDown),this.scene.on(c["p"].Dragging,this.onDragging),this.scene.on(c["p"].Mouseup,this.onDragEnd),this.scene.on(c["p"].Dragend,this.onDragEnd)}disableDrag(){this.layers[0].off(c["m"].Mousedown,this.onMouseDown),this.scene.off(c["p"].Dragging,this.onDragging),this.scene.off(c["p"].Mouseup,this.onDragEnd),this.scene.off(c["p"].Dragend,this.onDragEnd)}enableClick(){this.disableClick(),this.layers[0].on(c["m"].Click,this.onClick)}disableClick(){this.layers[0].off(c["m"].Click,this.onClick)}enableContextMenu(){this.disableContextMenu(),this.layers[0].on(c["m"].Contextmenu,this.onContextmenu)}disableContextMenu(){this.layers[0].off(c["m"].Contextmenu,this.onContextmenu)}}class v extends s{constructor(){super(...arguments),this.onMouseMove=e=>{this.emit(c["o"].Mousemove,e)},this.onMouseOut=e=>{this.emit(c["o"].Mouseout,e)},this.onMouseDown=e=>{this.emit(c["o"].Dragstart,e)},this.onDragging=e=>{this.emit(c["o"].Dragging,e)},this.onDragEnd=Object(u["debounce"])((e=>{this.emit(c["o"].Dragend,e)}),0),this.onUnClick=e=>{this.emit(c["o"].UnClick,e)},this.enableHover=()=>{var e,t;this.disableHover(),null===(e=this.layers[0])||void 0===e||e.on(c["m"].Mousemove,this.onMouseMove),null===(t=this.layers[0])||void 0===t||t.on(c["m"].Mouseout,this.onMouseOut)},this.disableHover=()=>{var e,t;null===(e=this.layers[0])||void 0===e||e.off(c["m"].Mousemove,this.onMouseMove),null===(t=this.layers[0])||void 0===t||t.off(c["m"].Mouseout,this.onMouseOut)}}getLayers(){var e=this.style,t=e.normal,n=e.hover,o=e.active,a=e.style,s=e.options,l=new r["e"](null!==s&&void 0!==s?s:{});return l.source(Object(i["featureCollection"])([])).color("isHover*isActive",((e,r)=>r?o.color:e?n.color:t.color)).style(a),[l]}enableDrag(){this.disableDrag(),this.layers[0].on(c["m"].Mousedown,this.onMouseDown),this.scene.on(c["p"].Dragging,this.onDragging),this.scene.on(c["p"].Mouseup,this.onDragEnd),this.scene.on(c["p"].Dragend,this.onDragEnd)}disableDrag(){this.layers[0].off(c["m"].Mousedown,this.onMouseDown),this.scene.off(c["p"].Dragging,this.onDragging),this.scene.off(c["p"].Mouseup,this.onDragEnd),this.scene.off(c["p"].Dragend,this.onDragEnd)}enableUnClick(){this.disableUnClick(),this.layers[0].on(c["m"].UnClick,this.onUnClick)}disableUnClick(){this.layers[0].off(c["m"].UnClick,this.onUnClick)}}class m extends a.a{constructor(e){super(),this.scene=void 0,this.previousClick=void 0,this.onDblClick=e=>{var t,n=null!==(t=e.pixel)&&void 0!==t?t:{},r=n.x,i=void 0===r?0:r,o=n.y,a=void 0===o?0:o,s=Date.now();if(this.previousClick){var l=this.previousClick,u=l.x,f=l.y,p=l.time;s-p<300&&Math.abs(i-u)<5&&Math.abs(a-f)<5&&this.emit(c["o"].DblClick,e)}this.previousClick={x:i,y:a,time:s}},this.onMouseMove=e=>{this.emit(c["o"].Mousemove,e)},this.onMouseDown=e=>{this.emit(c["o"].Dragstart,e)},this.onDragging=e=>{this.emit(c["o"].Dragging,e)},this.onDragEnd=Object(u["debounce"])((e=>{this.emit(c["o"].Dragend,e)}),0),this.scene=e}enableDrag(){this.disableDrag(),this.scene.on(c["p"].Mousedown,this.onMouseDown),this.scene.on(c["p"].Dragging,this.onDragging),this.scene.on(c["p"].Mouseup,this.onDragEnd),this.scene.on(c["p"].Dragend,this.onDragEnd)}disableDrag(){this.scene.off(c["p"].Mousedown,this.onMouseDown),this.scene.off(c["p"].Dragging,this.onDragging),this.scene.off(c["p"].Mouseup,this.onDragEnd),this.scene.off(c["p"].Dragend,this.onDragEnd)}enableMouseMove(){this.disableMouseMove(),this.scene.on(c["p"].Mousemove,this.onMouseMove)}disableMouseMove(){this.scene.off(c["p"].Mousemove,this.onMouseMove)}enableDblClick(){this.disableDblClick(),this.scene.on(c["p"].Mousedown,this.onDblClick)}disableDblClick(){this.scene.on(c["p"].Mousedown,this.onDblClick)}}class g extends s{getLayers(){var e=this.style,t=e.normal,n=e.active,o=e.style,a=e.options,s=new r["d"](null!==a&&void 0!==a?a:{}).source(Object(i["featureCollection"])([])).size("isActive",(e=>e?n.size:t.size)).color("isActive",(e=>e?n.color:t.color)).shape("text","text").style(Object(p["a"])({stroke:["isActive",e=>e?n.stroke:t.stroke]},o));return[s]}}},cgnW:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["circle-editable"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["circle-editable"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},ckpq:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("2/Rp"),l=(n("TpwP"),n("q1tI")),u=n.n(l),c=String(Math.random()),f=()=>{var e=Object(l["useState"])(null),t=Object(r["a"])(e,2),n=t[0],f=t[1];return Object(l["useEffect"])((()=>{var e=new i["f"]({id:c,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawPolygon"](e,{});f(t),t.enable()}))}),[]),u.a.createElement("div",null,u.a.createElement("div",{style:{padding:8}},u.a.createElement(s["a"],{onClick:()=>null===n||void 0===n?void 0:n.enable()},"\u542f\u7528"),u.a.createElement(s["a"],{onClick:()=>null===n||void 0===n?void 0:n.disable()},"\u7981\u7528"),u.a.createElement(s["a"],{onClick:()=>null===n||void 0===n?void 0:n.clear()},"\u6e05\u7a7a")),u.a.createElement("div",{id:c,style:{height:400,position:"relative"}}))};t["default"]=f},clhk:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["line-start"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["line-start"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"cq/+":function(e,t,n){var r=n("mc0g"),i=r();e.exports=i},"cr+I":function(e,t,n){"use strict";var r=n("5wUe")["default"],i=n("bfL6")["default"],o=n("R5yR")["default"],a=n("ZFOp"),s=n("8jRI"),l=n("8yz6"),u=n("c0go"),c=function(e){return null===e||void 0===e};function f(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[h(t,e),"[",i,"]"].join("")]:[[h(t,e),"[",h(i,e),"]=",h(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[h(t,e),"[]"].join("")]:[[h(t,e),"[]=",h(r,e)].join("")])}};case"comma":case"separator":return function(t){return function(n,r){return null===r||void 0===r||0===r.length?n:0===n.length?[[h(t,e),"=",h(r,e)].join("")]:[[n,h(r,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[h(t,e)]:[[h(t,e),"=",h(r,e)].join("")])}}}}function p(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var i="string"===typeof n&&n.includes(e.arrayFormatSeparator),o="string"===typeof n&&!i&&v(n,e).includes(e.arrayFormatSeparator);n=o?v(n,e):n;var a=i||o?n.split(e.arrayFormatSeparator).map((function(t){return v(t,e)})):null===n?n:v(n,e);r[t]=a};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}function d(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function h(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}function v(e,t){return t.decode?s(e):e}function m(e){return Array.isArray(e)?e.sort():"object"===typeof e?m(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function g(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function y(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}function b(e){e=g(e);var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function _(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function E(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),d(t.arrayFormatSeparator);var n=p(t),o=Object.create(null);if("string"!==typeof e)return o;if(e=e.trim().replace(/^[?#&]/,""),!e)return o;var a,s=i(e.split("&"));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(""!==u){var c=l(t.decode?u.replace(/\+/g," "):u,"="),f=r(c,2),h=f[0],g=f[1];g=void 0===g?null:["comma","separator"].includes(t.arrayFormat)?g:v(g,t),n(v(h,t),g,o)}}}catch(C){s.e(C)}finally{s.f()}for(var y=0,b=Object.keys(o);y<b.length;y++){var E=b[y],x=o[E];if("object"===typeof x&&null!==x)for(var w=0,S=Object.keys(x);w<S.length;w++){var O=S[w];x[O]=_(x[O],t)}else o[E]=_(x,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var n=o[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=m(n):e[t]=n,e}),Object.create(null))}t.extract=b,t.parse=E,t.stringify=function(e,t){if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),d(t.arrayFormatSeparator);for(var n=function(n){return t.skipNull&&c(e[n])||t.skipEmptyString&&""===e[n]},r=f(t),i={},o=0,a=Object.keys(e);o<a.length;o++){var s=a[o];n(s)||(i[s]=e[s])}var l=Object.keys(i);return!1!==t.sort&&l.sort(t.sort),l.map((function(n){var i=e[n];return void 0===i?"":null===i?h(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):h(n,t)+"="+h(i,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=l(e,"#"),i=r(n,2),o=i[0],a=i[1];return Object.assign({url:o.split("?")[0]||"",query:E(b(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:v(a,t)}:{})},t.stringifyUrl=function(e,n){n=Object.assign({encode:!0,strict:!0},n);var r=g(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query),s=t.stringify(a,n);s&&(s="?".concat(s));var l=y(e.url);return e.fragmentIdentifier&&(l="#".concat(h(e.fragmentIdentifier,n))),"".concat(r).concat(s).concat(l)},t.pick=function(e,n,r){r=Object.assign({parseFragmentIdentifier:!0},r);var i=t.parseUrl(e,r),o=i.url,a=i.query,s=i.fragmentIdentifier;return t.stringifyUrl({url:o,query:u(a,n),fragmentIdentifier:s},r)},t.exclude=function(e,n,r){var i=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return t.pick(e,i,r)}},ctDJ:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("A2ZE"),u=n("SEBh"),c=n("WGBp"),f=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{map:function(e){var t=a(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,o("Set"))),p=s(i.add);return f(n,(function(e){p.call(i,r(e,e,t))}),void 0,!1,!0),i}})},cvCv:function(e,t){function n(e){return function(){return e}}e.exports=n},cvf0:function(e,t,n){"use strict";var r=n("67WC").exportTypedArrayMethod,i=n("0Dky"),o=n("2oRo"),a=o.Uint8Array,s=a&&a.prototype||{},l=[].toString,u=[].join;i((function(){l.call({})}))&&(l=function(){return u.call(this)});var c=s.toString!=l;r("toString",l,c)},d6cI:function(e,t){var n=1/0,r=Math.abs,i=Math.pow,o=Math.floor,a=Math.log,s=Math.LN2,l=function(e,t,l){var u,c,f,p=new Array(l),d=8*l-t-1,h=(1<<d)-1,v=h>>1,m=23===t?i(2,-24)-i(2,-77):0,g=e<0||0===e&&1/e<0?1:0,y=0;for(e=r(e),e!=e||e===n?(c=e!=e?1:0,u=h):(u=o(a(e)/s),e*(f=i(2,-u))<1&&(u--,f*=2),e+=u+v>=1?m/f:m*i(2,1-v),e*f>=2&&(u++,f/=2),u+v>=h?(c=0,u=h):u+v>=1?(c=(e*f-1)*i(2,t),u+=v):(c=e*i(2,v-1)*i(2,t),u=0));t>=8;p[y++]=255&c,c/=256,t-=8);for(u=u<<t|c,d+=t;d>0;p[y++]=255&u,u/=256,d-=8);return p[--y]|=128*g,p},u=function(e,t){var r,o=e.length,a=8*o-t-1,s=(1<<a)-1,l=s>>1,u=a-7,c=o-1,f=e[c--],p=127&f;for(f>>=7;u>0;p=256*p+e[c],c--,u-=8);for(r=p&(1<<-u)-1,p>>=-u,u+=t;u>0;r=256*r+e[c],c--,u-=8);if(0===p)p=1-l;else{if(p===s)return r?NaN:f?-n:n;r+=i(2,t),p-=l}return(f?-1:1)*r*i(2,p-t)};e.exports={pack:l,unpack:u}},d9O0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var r=0;function i(){return r++}t.id=i},dA7e:function(e,t,n){e.exports.VectorTile=n("B93f"),e.exports.VectorTileFeature=n("HfwV"),e.exports.VectorTileLayer=n("DiGy")},"dBg+":function(e,t){t.f=Object.getOwnPropertySymbols},dBmQ:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawLine"](e,{multiple:!1});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},dD9F:function(e,t,n){var r=n("NykK"),i=n("shjB"),o=n("ExA7"),a="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Function]",p="[object Map]",d="[object Number]",h="[object Object]",v="[object RegExp]",m="[object Set]",g="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",E="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",S="[object Int16Array]",O="[object Int32Array]",C="[object Uint8Array]",A="[object Uint8ClampedArray]",P="[object Uint16Array]",k="[object Uint32Array]",M={};function T(e){return o(e)&&i(e.length)&&!!M[r(e)]}M[E]=M[x]=M[w]=M[S]=M[O]=M[C]=M[A]=M[P]=M[k]=!0,M[a]=M[s]=M[b]=M[l]=M[_]=M[u]=M[c]=M[f]=M[p]=M[d]=M[h]=M[v]=M[m]=M[g]=M[y]=!1,e.exports=T},dEAq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnchorLink",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"NavLink",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(t,"context",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(t,"getDemoUrl",{enumerable:!0,get:function(){return d.getDemoUrl}}),Object.defineProperty(t,"useApiData",{enumerable:!0,get:function(){return h["default"]}}),Object.defineProperty(t,"useCodeSandbox",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(t,"useCopy",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(t,"useDemoUrl",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(t,"useLocaleProps",{enumerable:!0,get:function(){return p["default"]}}),Object.defineProperty(t,"useMotions",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(t,"usePrefersColor",{enumerable:!0,get:function(){return m["default"]}}),Object.defineProperty(t,"useRiddle",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(t,"useSearch",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(t,"useTSPlaygroundUrl",{enumerable:!0,get:function(){return v["default"]}});var r=b(n("nLCz")),i=b(n("zqmC")),o=b(n("6asN")),a=b(n("bYHP")),s=b(n("t/kZ")),l=b(n("dfPH")),u=b(n("o0kM")),c=b(n("zYLY")),f=b(n("r1Q5")),p=b(n("U/TZ")),d=y(n("beRK")),h=b(n("3QDa")),v=b(n("7sf/")),m=b(n("2N97"));function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r["default"]=e,n&&n.set(e,r),r}function b(e){return e&&e.__esModule?e:{default:e}}},"dG/n":function(e,t,n){var r=n("Qo9l"),i=n("UTVS"),o=n("5Tg+"),a=n("m/L8").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},dI71:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("s4An");function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r["a"])(e,t)}},dNT4:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("A2ZE"),s=n("WGBp"),l=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{every:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return!l(n,(function(e){if(!r(e,e,t))return l.stop()}),void 0,!1,!0).stopped}})},dO3N:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=(n("TpwP"),n("q1tI")),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawPolygon"](e,{autoActive:!1});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},dOgj:function(e,t,n){"use strict";var r=n("I+eb"),i=n("2oRo"),o=n("g6v/"),a=n("iqeF"),s=n("67WC"),l=n("Yhre"),u=n("GarU"),c=n("XGwC"),f=n("kRJp"),p=n("UMSQ"),d=n("CyXQ"),h=n("GC2F"),v=n("wE6v"),m=n("UTVS"),g=n("9d/t"),y=n("hh1v"),b=n("fHMY"),_=n("0rvr"),E=n("JBy8").f,x=n("oHi+"),w=n("tycR").forEach,S=n("JiZb"),O=n("m/L8"),C=n("Bs8V"),A=n("afO8"),P=n("cVYH"),k=A.get,M=A.set,T=O.f,L=C.f,I=Math.round,D=i.RangeError,R=l.ArrayBuffer,N=l.DataView,j=s.NATIVE_ARRAY_BUFFER_VIEWS,F=s.TYPED_ARRAY_TAG,B=s.TypedArray,U=s.TypedArrayPrototype,z=s.aTypedArrayConstructor,H=s.isTypedArray,V="BYTES_PER_ELEMENT",G="Wrong length",W=function(e,t){var n=0,r=t.length,i=new(z(e))(r);while(r>n)i[n]=t[n++];return i},q=function(e,t){T(e,t,{get:function(){return k(this)[t]}})},Y=function(e){var t;return e instanceof R||"ArrayBuffer"==(t=g(e))||"SharedArrayBuffer"==t},X=function(e,t){return H(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},K=function(e,t){return X(e,t=v(t,!0))?c(2,e[t]):L(e,t)},Z=function(e,t,n){return!(X(e,t=v(t,!0))&&y(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?T(e,t,n):(e[t]=n.value,e)};o?(j||(C.f=K,O.f=Z,q(U,"buffer"),q(U,"byteOffset"),q(U,"byteLength"),q(U,"length")),r({target:"Object",stat:!0,forced:!j},{getOwnPropertyDescriptor:K,defineProperty:Z}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",l="get"+e,c="set"+e,v=i[s],m=v,g=m&&m.prototype,O={},C=function(e,t){var n=k(e);return n.view[l](t*o+n.byteOffset,!0)},A=function(e,t,r){var i=k(e);n&&(r=(r=I(r))<0?0:r>255?255:255&r),i.view[c](t*o+i.byteOffset,r,!0)},L=function(e,t){T(e,t,{get:function(){return C(this,t)},set:function(e){return A(this,t,e)},enumerable:!0})};j?a&&(m=t((function(e,t,n,r){return u(e,m,s),P(function(){return y(t)?Y(t)?void 0!==r?new v(t,h(n,o),r):void 0!==n?new v(t,h(n,o)):new v(t):H(t)?W(m,t):x.call(m,t):new v(d(t))}(),e,m)})),_&&_(m,B),w(E(v),(function(e){e in m||f(m,e,v[e])})),m.prototype=g):(m=t((function(e,t,n,r){u(e,m,s);var i,a,l,c=0,f=0;if(y(t)){if(!Y(t))return H(t)?W(m,t):x.call(m,t);i=t,f=h(n,o);var v=t.byteLength;if(void 0===r){if(v%o)throw D(G);if(a=v-f,a<0)throw D(G)}else if(a=p(r)*o,a+f>v)throw D(G);l=a/o}else l=d(t),a=l*o,i=new R(a);M(e,{buffer:i,byteOffset:f,byteLength:a,length:l,view:new N(i)});while(c<l)L(e,c++)})),_&&_(m,B),g=m.prototype=b(U)),g.constructor!==m&&f(g,"constructor",m),F&&f(g,F,s),O[s]=m,r({global:!0,forced:m!=v,sham:!j},O),V in m||f(m,V,o),V in g||f(g,V,o),S(s)}):e.exports=function(){}},dQpi:function(e,t,n){var r=n("yGk4"),i=n("vN+2"),o=n("rEGp"),a=1/0,s=r&&1/o(new r([,-0]))[1]==a?function(e){return new r(e)}:i;e.exports=s},dTAl:function(e,t,n){var r=n("GoyQ"),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},dVn5:function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function r(e){return e.match(n)||[]}e.exports=r},dX1H:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n("xfSm"),i=n("d9O0"),o=n("GXnB"),a=n("zxMA"),s=function(){function e(e,t,n,s){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var l=null;"string"===typeof s?l=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(l=s),null!==l&&this.metadata.push(l)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){var r=n[t];if(r.key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=s},dfPH:function(e,t,n){"use strict";function r(){var e=n("q1tI");return r=function(){return e},e}function i(){var e=o(n("WWur"));return i=function(){return e},e}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return f(e)||c(e,t)||l(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function f(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var p=function(){var e=(0,r().useState)(),t=a(e,2),n=t[0],o=t[1],s=(0,r().useState)("ready"),l=a(s,2),u=l[0],c=l[1],f=(0,r().useCallback)((function(e){(0,i()["default"])(e),c("copied"),clearTimeout(n),o(setTimeout((function(){c("ready")}),2e3))}),[]);return[f,u]};t["default"]=p},dm2S:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("ODXe"),i=n("q1tI");function o(e){var t=i["useRef"](!1),n=i["useState"](e),o=Object(r["a"])(n,2),a=o[0],s=o[1];function l(e,n){n&&t.current||s(e)}return i["useEffect"]((function(){return t.current=!1,function(){t.current=!0}}),[]),[a,l]}},dmwd:function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},doU7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0;var r={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};t.BindingCount=r},dt0z:function(e,t,n){var r=n("zoYe");function i(e){return null==e?"":r(e)}e.exports=i},dxzI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n("d9O0"),i=function(){function e(e){this.id=r.id(),this.registry=e}return e}();t.ContainerModule=i;var o=function(){function e(e){this.id=r.id(),this.registry=e}return e}();t.AsyncContainerModule=o},e4Nc:function(e,t,n){var r=n("fGT3"),i=n("k+1r"),o=n("JHgL"),a=n("pSRY"),s=n("H8j4");function l(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},e5cp:function(e,t,n){var r=n("fmRc"),i=n("or5M"),o=n("HDyB"),a=n("seXi"),s=n("QqLw"),l=n("Z0cm"),u=n("DSRE"),c=n("c6wG"),f=1,p="[object Arguments]",d="[object Array]",h="[object Object]",v=Object.prototype,m=v.hasOwnProperty;function g(e,t,n,v,g,y){var b=l(e),_=l(t),E=b?d:s(e),x=_?d:s(t);E=E==p?h:E,x=x==p?h:x;var w=E==h,S=x==h,O=E==x;if(O&&u(e)){if(!u(t))return!1;b=!0,w=!1}if(O&&!w)return y||(y=new r),b||c(e)?i(e,t,n,v,g,y):o(e,t,E,n,v,g,y);if(!(n&f)){var C=w&&m.call(e,"__wrapped__"),A=S&&m.call(t,"__wrapped__");if(C||A){var P=C?e.value():e,k=A?t.value():t;return y||(y=new r),g(P,k,n,v,y)}}return!!O&&(y||(y=new r),a(e,t,n,v,g,y))}e.exports=g},e9O8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParameters=void 0;var r=n("6xEa");function i(e){return r.compressToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function o(e){return i(JSON.stringify(e))}t.getParameters=o},"eDl+":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},eDxR:function(e,t,n){var r=n("Tskq"),i=n("ENF9"),o=n("VpIT"),a=o("metadata"),s=a.store||(a.store=new i),l=function(e,t,n){var i=s.get(e);if(!i){if(!n)return;s.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return;i.set(t,o=new r)}return o},u=function(e,t,n){var r=l(t,n,!1);return void 0!==r&&r.has(e)},c=function(e,t,n){var r=l(t,n,!1);return void 0===r?void 0:r.get(e)},f=function(e,t,n,r){l(n,r,!0).set(e,t)},p=function(e,t){var n=l(e,t,!1),r=[];return n&&n.forEach((function(e,t){r.push(t)})),r},d=function(e){return void 0===e||"symbol"==typeof e?e:String(e)};e.exports={store:s,getMap:l,has:u,get:c,set:f,keys:p,toKey:d}},eO0o:function(e,t,n){var r=n("I+eb");r({target:"Math",stat:!0},{imulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>16,l=i>>16,u=(s*a>>>0)+(o*a>>>16);return s*l+(u>>16)+((o*l>>>0)+(u&n)>>16)}})},eRUA:function(e,t,n){"use strict";e.exports=i;var r=n("kVK+");function i(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var o=4294967296,a=1/o,s=12,l="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");function u(e,t,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return f(e,r,t);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return f(e,r,t);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return f(e,r,t);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return f(e,r,t);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return f(e,r,t);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return f(e,r,t);throw new Error("Expected varint not more than 10 bytes")}function c(e){return e.type===i.Bytes?e.readVarint()+e.pos:e.pos+1}function f(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function p(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),d(n,r,t),h(r,t)}function d(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}function h(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}function v(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function m(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function y(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function b(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function _(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function E(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function x(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function w(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function S(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function O(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function C(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function A(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function P(e,t,n){var r="",i=t;while(i<n){var o,a,s,l=e[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>n)break;1===c?l<128&&(u=l):2===c?(o=e[i+1],128===(192&o)&&(u=(31&l)<<6|63&o,u<=127&&(u=null))):3===c?(o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a,(u<=2047||u>=55296&&u<=57343)&&(u=null))):4===c&&(o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s,(u<=65535||u>=1114112)&&(u=null))),null===u?(u=65533,c=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=c}return r}function k(e,t,n){return l.decode(e.subarray(t,n))}function M(e,t,n){for(var r,i,o=0;o<t.length;o++){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}i.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){n=n||this.length;while(this.pos<n){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=O(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=A(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=O(this.buf,this.pos)+O(this.buf,this.pos+4)*o;return this.pos+=8,e},readSFixed64:function(){var e=O(this.buf,this.pos)+A(this.buf,this.pos+4)*o;return this.pos+=8,e},readFloat:function(){var e=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return n=r[this.pos++],t=127&n,n<128?t:(n=r[this.pos++],t|=(127&n)<<7,n<128?t:(n=r[this.pos++],t|=(127&n)<<14,n<128?t:(n=r[this.pos++],t|=(127&n)<<21,n<128?t:(n=r[this.pos],t|=(15&n)<<28,u(t,e,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=s&&l?k(this.buf,t,e):P(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==i.Bytes)return e.push(this.readVarint(t));var n=c(this);e=e||[];while(this.pos<n)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==i.Bytes)return e.push(this.readSVarint());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==i.Bytes)return e.push(this.readBoolean());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==i.Bytes)return e.push(this.readFloat());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==i.Bytes)return e.push(this.readDouble());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed32());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed32());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed64());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed64());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===i.Varint)while(this.buf[this.pos++]>127);else if(t===i.Bytes)this.pos=this.readVarint()+this.pos;else if(t===i.Fixed32)this.pos+=4;else{if(t!==i.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){var t=this.length||16;while(t<this.pos+e)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),C(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),C(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),C(this.buf,-1&e,this.pos),C(this.buf,Math.floor(e*a),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),C(this.buf,-1&e,this.pos),C(this.buf,Math.floor(e*a),this.pos+4),this.pos+=8},writeVarint:function(e){e=+e||0,e>268435455||e<0?p(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=M(this.buf,e,this.pos);var n=this.pos-t;n>=128&&v(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),r.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),r.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&v(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,i.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,_,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,y,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,b,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,E,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,x,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,w,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,S,t)},writeBytesField:function(e,t){this.writeTag(e,i.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,i.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,i.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,i.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},eUZi:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["point-style"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["point-style"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},eUgh:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}e.exports=n},ebwN:function(e,t,n){var r=n("Cwc5"),i=n("Kz5y"),o=r(i,"Map");e.exports=o},ekgI:function(e,t,n){var r=n("YESw"),i=Object.prototype,o=i.hasOwnProperty;function a(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}e.exports=a},ewA2:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("wx14"),a=n("rePB"),s=n("ODXe"),l=n("U8pU"),u=n("Ff2n"),c=n("VTBJ"),f=n("TSYQ"),p=n.n(f),d=n("Zm9Q"),h=n("5Z9U"),v=n("6cGi"),m=n("KQm4"),g=n("wgJM"),y=n("t23M");function b(e){var t=Object(r["useRef"])(),n=Object(r["useRef"])(!1);function i(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n.current||(g["a"].cancel(t.current),t.current=Object(g["a"])((function(){e.apply(void 0,i)})))}return Object(r["useEffect"])((function(){return n.current=!1,function(){n.current=!0,g["a"].cancel(t.current)}}),[]),i}function _(e){var t=Object(r["useRef"])([]),n=Object(r["useState"])({}),i=Object(s["a"])(n,2),o=i[1],a=Object(r["useRef"])("function"===typeof e?e():e),l=b((function(){var e=a.current;t.current.forEach((function(t){e=t(e)})),t.current=[],a.current=e,o({})}));function u(e){t.current.push(e),l()}return[a.current,u]}var E=n("4IlW");function x(e,t){var n,i=e.prefixCls,o=e.id,s=e.active,l=e.tab,u=l.key,c=l.tab,f=l.disabled,d=l.closeIcon,h=e.closable,v=e.renderWrapper,m=e.removeAriaLabel,g=e.editable,y=e.onClick,b=e.onRemove,_=e.onFocus,x=e.style,w="".concat(i,"-tab");r["useEffect"]((function(){return b}),[]);var S=g&&!1!==h&&!f;function O(e){f||y(e)}function C(e){e.preventDefault(),e.stopPropagation(),g.onEdit("remove",{key:u,event:e})}var A=r["createElement"]("div",{key:u,ref:t,className:p()(w,(n={},Object(a["a"])(n,"".concat(w,"-with-remove"),S),Object(a["a"])(n,"".concat(w,"-active"),s),Object(a["a"])(n,"".concat(w,"-disabled"),f),n)),style:x,onClick:O},r["createElement"]("div",{role:"tab","aria-selected":s,id:o&&"".concat(o,"-tab-").concat(u),className:"".concat(w,"-btn"),"aria-controls":o&&"".concat(o,"-panel-").concat(u),"aria-disabled":f,tabIndex:f?null:0,onClick:function(e){e.stopPropagation(),O(e)},onKeyDown:function(e){[E["a"].SPACE,E["a"].ENTER].includes(e.which)&&(e.preventDefault(),O(e))},onFocus:_},c),S&&r["createElement"]("button",{type:"button","aria-label":m||"remove",tabIndex:0,className:"".concat(w,"-remove"),onClick:function(e){e.stopPropagation(),C(e)}},d||g.removeIcon||"\xd7"));return v?v(A):A}var w=r["forwardRef"](x),S={width:0,height:0,left:0,top:0};function O(e,t,n){return Object(r["useMemo"])((function(){for(var n,r=new Map,i=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||S,o=i.left+i.width,a=0;a<e.length;a+=1){var s,l=e[a].key,u=t.get(l);if(!u)u=t.get(null===(s=e[a-1])||void 0===s?void 0:s.key)||S;var f=r.get(l)||Object(c["a"])({},u);f.right=o-f.left-f.width,r.set(l,f)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}var C={width:0,height:0,left:0,top:0,right:0};function A(e,t,n,i,o){var a,s,l,u=o.tabs,c=o.tabPosition,f=o.rtl;["top","bottom"].includes(c)?(a="width",s=f?"right":"left",l=Math.abs(t.left)):(a="height",s="top",l=-t.top);var p=t[a],d=n[a],h=i[a],v=p;return d+h>p&&d<p&&(v=p-h),Object(r["useMemo"])((function(){if(!u.length)return[0,0];for(var t=u.length,n=t,r=0;r<t;r+=1){var i=e.get(u[r].key)||C;if(i[s]+i[a]>l+v){n=r-1;break}}for(var o=0,c=t-1;c>=0;c-=1){var f=e.get(u[c].key)||C;if(f[s]<l){o=c+1;break}}return[o,n]}),[e,l,v,c,u.map((function(e){return e.key})).join("_"),f])}var P=n("1j5w"),k=n("uciX"),M={adjustX:1,adjustY:1},T=[0,0],L={topLeft:{points:["bl","tl"],overflow:M,offset:[0,-4],targetOffset:T},topCenter:{points:["bc","tc"],overflow:M,offset:[0,-4],targetOffset:T},topRight:{points:["br","tr"],overflow:M,offset:[0,-4],targetOffset:T},bottomLeft:{points:["tl","bl"],overflow:M,offset:[0,4],targetOffset:T},bottomCenter:{points:["tc","bc"],overflow:M,offset:[0,4],targetOffset:T},bottomRight:{points:["tr","br"],overflow:M,offset:[0,4],targetOffset:T}},I=L,D=n("qE6j"),R=E["a"].ESC,N=E["a"].TAB;function j(e){var t=e.visible,n=e.setTriggerVisible,i=e.triggerRef,o=e.onVisibleChange,a=e.autoFocus,s=r["useRef"](!1),l=function(){var e,r,a,s;t&&i.current&&(null===(e=i.current)||void 0===e||null===(r=e.triggerRef)||void 0===r||null===(a=r.current)||void 0===a||null===(s=a.focus)||void 0===s||s.call(a),n(!1),"function"===typeof o&&o(!1))},u=function(){var e,t,n,r,o=Object(D["a"])(null===(e=i.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(n=t.current)||void 0===n||null===(r=n.getElement)||void 0===r?void 0:r.call(n)),a=o[0];return!!(null===a||void 0===a?void 0:a.focus)&&(a.focus(),s.current=!0,!0)},c=function(e){switch(e.keyCode){case R:l();break;case N:var t=!1;s.current||(t=u()),t?e.preventDefault():l();break}};r["useEffect"]((function(){return t?(window.addEventListener("keydown",c),a&&Object(g["a"])(u,3),function(){window.removeEventListener("keydown",c),s.current=!1}):function(){s.current=!1}}),[t])}var F=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function B(e,t){var n=e.arrow,i=void 0!==n&&n,o=e.prefixCls,l=void 0===o?"rc-dropdown":o,f=e.transitionName,d=e.animation,h=e.align,v=e.placement,m=void 0===v?"bottomLeft":v,g=e.placements,y=void 0===g?I:g,b=e.getPopupContainer,_=e.showAction,E=e.hideAction,x=e.overlayClassName,w=e.overlayStyle,S=e.visible,O=e.trigger,C=void 0===O?["hover"]:O,A=e.autoFocus,P=Object(u["a"])(e,F),M=r["useState"](),T=Object(s["a"])(M,2),L=T[0],D=T[1],R="visible"in e?S:L,N=r["useRef"](null);r["useImperativeHandle"](t,(function(){return N.current})),j({visible:R,setTriggerVisible:D,triggerRef:N,onVisibleChange:e.onVisibleChange,autoFocus:A});var B=function(){var t,n=e.overlay;return t="function"===typeof n?n():n,t},U=function(t){var n=e.onOverlayClick;D(!1),n&&n(t)},z=function(t){var n=e.onVisibleChange;D(t),"function"===typeof n&&n(t)},H=function(){var e=B();return r["createElement"](r["Fragment"],null,i&&r["createElement"]("div",{className:"".concat(l,"-arrow")}),e)},V=function(){var t=e.overlay;return"function"===typeof t?H:H()},G=function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n},W=function(){var t=e.openClassName;return void 0!==t?t:"".concat(l,"-open")},q=function(){var t=e.children,n=t.props?t.props:{},i=p()(n.className,W());return R&&t?r["cloneElement"](t,{className:i}):t},Y=E;return Y||-1===C.indexOf("contextMenu")||(Y=["click"]),r["createElement"](k["a"],Object(c["a"])(Object(c["a"])({builtinPlacements:y},P),{},{prefixCls:l,ref:N,popupClassName:p()(x,Object(a["a"])({},"".concat(l,"-show-arrow"),i)),popupStyle:w,action:C,showAction:_,hideAction:Y||[],popupPlacement:m,popupAlign:h,popupTransitionName:f,popupAnimation:d,popupVisible:R,stretch:G()?"minWidth":"",popup:V(),onPopupVisibleChange:z,onPopupClick:U,getPopupContainer:b}),q())}var U=r["forwardRef"](B),z=U;function H(e,t){var n=e.prefixCls,i=e.editable,o=e.locale,a=e.style;return i&&!1!==i.showAdd?r["createElement"]("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:a,"aria-label":(null===o||void 0===o?void 0:o.addAriaLabel)||"Add tab",onClick:function(e){i.onEdit("add",{event:e})}},i.addIcon||"+"):null}var V=r["forwardRef"](H);function G(e,t){var n=e.prefixCls,i=e.id,o=e.tabs,l=e.locale,u=e.mobile,c=e.moreIcon,f=void 0===c?"More":c,d=e.moreTransitionName,h=e.style,v=e.className,m=e.editable,g=e.tabBarGutter,y=e.rtl,b=e.removeAriaLabel,_=e.onTabClick,x=e.getPopupContainer,w=e.popupClassName,S=Object(r["useState"])(!1),O=Object(s["a"])(S,2),C=O[0],A=O[1],k=Object(r["useState"])(null),M=Object(s["a"])(k,2),T=M[0],L=M[1],I="".concat(i,"-more-popup"),D="".concat(n,"-dropdown"),R=null!==T?"".concat(I,"-").concat(T):null,N=null===l||void 0===l?void 0:l.dropdownAriaLabel;function j(e,t){e.preventDefault(),e.stopPropagation(),m.onEdit("remove",{key:t,event:e})}var F=r["createElement"](P["e"],{onClick:function(e){var t=e.key,n=e.domEvent;_(t,n),A(!1)},prefixCls:"".concat(D,"-menu"),id:I,tabIndex:-1,role:"listbox","aria-activedescendant":R,selectedKeys:[T],"aria-label":void 0!==N?N:"expanded dropdown"},o.map((function(e){var t=m&&!1!==e.closable&&!e.disabled;return r["createElement"](P["b"],{key:e.key,id:"".concat(I,"-").concat(e.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(e.key),disabled:e.disabled},r["createElement"]("span",null,e.tab),t&&r["createElement"]("button",{type:"button","aria-label":b||"remove",tabIndex:0,className:"".concat(D,"-menu-item-remove"),onClick:function(t){t.stopPropagation(),j(t,e.key)}},e.closeIcon||m.removeIcon||"\xd7"))})));function B(e){for(var t=o.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===T}))||0,r=t.length,i=0;i<r;i+=1){n=(n+e+r)%r;var a=t[n];if(!a.disabled)return void L(a.key)}}function U(e){var t=e.which;if(C)switch(t){case E["a"].UP:B(-1),e.preventDefault();break;case E["a"].DOWN:B(1),e.preventDefault();break;case E["a"].ESC:A(!1);break;case E["a"].SPACE:case E["a"].ENTER:null!==T&&_(T,e);break}else[E["a"].DOWN,E["a"].SPACE,E["a"].ENTER].includes(t)&&(A(!0),e.preventDefault())}Object(r["useEffect"])((function(){var e=document.getElementById(R);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[T]),Object(r["useEffect"])((function(){C||L(null)}),[C]);var H=Object(a["a"])({},y?"marginRight":"marginLeft",g);o.length||(H.visibility="hidden",H.order=1);var G=p()(Object(a["a"])({},"".concat(D,"-rtl"),y)),W=u?null:r["createElement"](z,{prefixCls:D,overlay:F,trigger:["hover"],visible:!!o.length&&C,transitionName:d,onVisibleChange:A,overlayClassName:p()(G,w),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:x},r["createElement"]("button",{type:"button",className:"".concat(n,"-nav-more"),style:H,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":I,id:"".concat(i,"-more"),"aria-expanded":C,onKeyDown:U},f));return r["createElement"]("div",{className:p()("".concat(n,"-nav-operations"),v),style:h,ref:t},W,r["createElement"](V,{prefixCls:n,locale:l,editable:m}))}var W=r["memo"](r["forwardRef"](G),(function(e,t){return t.tabMoving})),q=Object(r["createContext"])(null),Y=.1,X=.01,K=20,Z=Math.pow(.995,K);function Q(e,t){var n=Object(r["useState"])(),i=Object(s["a"])(n,2),o=i[0],a=i[1],l=Object(r["useState"])(0),u=Object(s["a"])(l,2),c=u[0],f=u[1],p=Object(r["useState"])(0),d=Object(s["a"])(p,2),h=d[0],v=d[1],m=Object(r["useState"])(),g=Object(s["a"])(m,2),y=g[0],b=g[1],_=Object(r["useRef"])();function E(e){var t=e.touches[0],n=t.screenX,r=t.screenY;a({x:n,y:r}),window.clearInterval(_.current)}function x(e){if(o){e.preventDefault();var n=e.touches[0],r=n.screenX,i=n.screenY;a({x:r,y:i});var s=r-o.x,l=i-o.y;t(s,l);var u=Date.now();f(u),v(u-c),b({x:s,y:l})}}function w(){if(o&&(a(null),b(null),y)){var e=y.x/h,n=y.y/h,r=Math.abs(e),i=Math.abs(n);if(Math.max(r,i)<Y)return;var s=e,l=n;_.current=window.setInterval((function(){Math.abs(s)<X&&Math.abs(l)<X?window.clearInterval(_.current):(s*=Z,l*=Z,t(s*K,l*K))}),K)}}var S=Object(r["useRef"])();function O(e){var n=e.deltaX,r=e.deltaY,i=0,o=Math.abs(n),a=Math.abs(r);o===a?i="x"===S.current?n:r:o>a?(i=n,S.current="x"):(i=r,S.current="y"),t(-i,-i)&&e.preventDefault()}var C=Object(r["useRef"])(null);C.current={onTouchStart:E,onTouchMove:x,onTouchEnd:w,onWheel:O},r["useEffect"]((function(){function t(e){C.current.onTouchStart(e)}function n(e){C.current.onTouchMove(e)}function r(e){C.current.onTouchEnd(e)}function i(e){C.current.onWheel(e)}return document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchend",r,{passive:!1}),e.current.addEventListener("touchstart",t,{passive:!1}),e.current.addEventListener("wheel",i),function(){document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r)}}),[])}function J(){var e=Object(r["useRef"])(new Map);function t(t){return e.current.has(t)||e.current.set(t,r["createRef"]()),e.current.get(t)}function n(t){e.current["delete"](t)}return[t,n]}function $(e,t){var n=r["useRef"](e),i=r["useState"]({}),o=Object(s["a"])(i,2),a=o[1];function l(e){var r="function"===typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,a({})}return[n.current,l]}var ee=function(e){var t,n=e.position,i=e.prefixCls,o=e.extra;if(!o)return null;var a={};return o&&"object"===Object(l["a"])(o)&&!r["isValidElement"](o)?a=o:a.right=o,"right"===n&&(t=a.right),"left"===n&&(t=a.left),t?r["createElement"]("div",{className:"".concat(i,"-extra-content")},t):null};function te(e,t){var n,i=r["useContext"](q),l=i.prefixCls,u=i.tabs,f=e.className,d=e.style,h=e.id,v=e.animated,E=e.activeKey,x=e.rtl,S=e.extra,C=e.editable,P=e.locale,k=e.tabPosition,M=e.tabBarGutter,T=e.children,L=e.onTabClick,I=e.onTabScroll,D=Object(r["useRef"])(),R=Object(r["useRef"])(),N=Object(r["useRef"])(),j=Object(r["useRef"])(),F=J(),B=Object(s["a"])(F,2),U=B[0],z=B[1],H="top"===k||"bottom"===k,G=$(0,(function(e,t){H&&I&&I({direction:e>t?"left":"right"})})),Y=Object(s["a"])(G,2),X=Y[0],K=Y[1],Z=$(0,(function(e,t){!H&&I&&I({direction:e>t?"top":"bottom"})})),te=Object(s["a"])(Z,2),ne=te[0],re=te[1],ie=Object(r["useState"])(0),oe=Object(s["a"])(ie,2),ae=oe[0],se=oe[1],le=Object(r["useState"])(0),ue=Object(s["a"])(le,2),ce=ue[0],fe=ue[1],pe=Object(r["useState"])(null),de=Object(s["a"])(pe,2),he=de[0],ve=de[1],me=Object(r["useState"])(null),ge=Object(s["a"])(me,2),ye=ge[0],be=ge[1],_e=Object(r["useState"])(0),Ee=Object(s["a"])(_e,2),xe=Ee[0],we=Ee[1],Se=Object(r["useState"])(0),Oe=Object(s["a"])(Se,2),Ce=Oe[0],Ae=Oe[1],Pe=_(new Map),ke=Object(s["a"])(Pe,2),Me=ke[0],Te=ke[1],Le=O(u,Me,ae),Ie="".concat(l,"-nav-operations-hidden"),De=0,Re=0;function Ne(e){return e<De?De:e>Re?Re:e}H?x?(De=0,Re=Math.max(0,ae-he)):(De=Math.min(0,he-ae),Re=0):(De=Math.min(0,ye-ce),Re=0);var je=Object(r["useRef"])(),Fe=Object(r["useState"])(),Be=Object(s["a"])(Fe,2),Ue=Be[0],ze=Be[1];function He(){ze(Date.now())}function Ve(){window.clearTimeout(je.current)}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=Le.get(e)||{width:0,height:0,left:0,right:0,top:0};if(H){var n=X;x?t.right<X?n=t.right:t.right+t.width>X+he&&(n=t.right+t.width-he):t.left<-X?n=-t.left:t.left+t.width>-X+he&&(n=-(t.left+t.width-he)),re(0),K(Ne(n))}else{var r=ne;t.top<-ne?r=-t.top:t.top+t.height>-ne+ye&&(r=-(t.top+t.height-ye)),K(0),re(Ne(r))}}Q(D,(function(e,t){function n(e,t){e((function(e){var n=Ne(e+t);return n}))}if(H){if(he>=ae)return!1;n(K,e)}else{if(ye>=ce)return!1;n(re,t)}return Ve(),He(),!0})),Object(r["useEffect"])((function(){return Ve(),Ue&&(je.current=window.setTimeout((function(){ze(0)}),100)),Ve}),[Ue]);var We=A(Le,{width:he,height:ye,left:X,top:ne},{width:ae,height:ce},{width:xe,height:Ce},Object(c["a"])(Object(c["a"])({},e),{},{tabs:u})),qe=Object(s["a"])(We,2),Ye=qe[0],Xe=qe[1],Ke={};"top"===k||"bottom"===k?Ke[x?"marginRight":"marginLeft"]=M:Ke.marginTop=M;var Ze=u.map((function(e,t){var n=e.key;return r["createElement"](w,{id:h,prefixCls:l,key:n,tab:e,style:0===t?void 0:Ke,closable:e.closable,editable:C,active:n===E,renderWrapper:T,removeAriaLabel:null===P||void 0===P?void 0:P.removeAriaLabel,ref:U(n),onClick:function(e){L(n,e)},onRemove:function(){z(n)},onFocus:function(){Ge(n),He(),D.current&&(x||(D.current.scrollLeft=0),D.current.scrollTop=0)}})})),Qe=b((function(){var e,t,n,r,i,o,a=(null===(e=D.current)||void 0===e?void 0:e.offsetWidth)||0,s=(null===(t=D.current)||void 0===t?void 0:t.offsetHeight)||0,l=(null===(n=j.current)||void 0===n?void 0:n.offsetWidth)||0,c=(null===(r=j.current)||void 0===r?void 0:r.offsetHeight)||0;ve(a),be(s),we(l),Ae(c);var f=((null===(i=R.current)||void 0===i?void 0:i.offsetWidth)||0)-l,p=((null===(o=R.current)||void 0===o?void 0:o.offsetHeight)||0)-c;se(f),fe(p),Te((function(){var e=new Map;return u.forEach((function(t){var n=t.key,r=U(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),Je=u.slice(0,Ye),$e=u.slice(Xe+1),et=[].concat(Object(m["a"])(Je),Object(m["a"])($e)),tt=Object(r["useState"])(),nt=Object(s["a"])(tt,2),rt=nt[0],it=nt[1],ot=Le.get(E),at=Object(r["useRef"])();function st(){g["a"].cancel(at.current)}Object(r["useEffect"])((function(){var e={};return ot&&(H?(x?e.right=ot.right:e.left=ot.left,e.width=ot.width):(e.top=ot.top,e.height=ot.height)),st(),at.current=Object(g["a"])((function(){it(e)})),st}),[ot,H,x]),Object(r["useEffect"])((function(){Ge()}),[E,ot,Le,H]),Object(r["useEffect"])((function(){Qe()}),[x,M,E,u.map((function(e){return e.key})).join("_")]);var lt,ut,ct,ft,pt=!!et.length,dt="".concat(l,"-nav-wrap");return H?x?(ut=X>0,lt=X+he<ae):(lt=X<0,ut=-X+he<ae):(ct=ne<0,ft=-ne+ye<ce),r["createElement"]("div",{ref:t,role:"tablist",className:p()("".concat(l,"-nav"),f),style:d,onKeyDown:function(){He()}},r["createElement"](ee,{position:"left",extra:S,prefixCls:l}),r["createElement"](y["a"],{onResize:Qe},r["createElement"]("div",{className:p()(dt,(n={},Object(a["a"])(n,"".concat(dt,"-ping-left"),lt),Object(a["a"])(n,"".concat(dt,"-ping-right"),ut),Object(a["a"])(n,"".concat(dt,"-ping-top"),ct),Object(a["a"])(n,"".concat(dt,"-ping-bottom"),ft),n)),ref:D},r["createElement"](y["a"],{onResize:Qe},r["createElement"]("div",{ref:R,className:"".concat(l,"-nav-list"),style:{transform:"translate(".concat(X,"px, ").concat(ne,"px)"),transition:Ue?"none":void 0}},Ze,r["createElement"](V,{ref:j,prefixCls:l,locale:P,editable:C,style:Object(c["a"])(Object(c["a"])({},0===Ze.length?void 0:Ke),{},{visibility:pt?"hidden":null})}),r["createElement"]("div",{className:p()("".concat(l,"-ink-bar"),Object(a["a"])({},"".concat(l,"-ink-bar-animated"),v.inkBar)),style:rt}))))),r["createElement"](W,Object(o["a"])({},e,{removeAriaLabel:null===P||void 0===P?void 0:P.removeAriaLabel,ref:N,prefixCls:l,tabs:et,className:!pt&&Ie,tabMoving:!!Ue})),r["createElement"](ee,{position:"right",extra:S,prefixCls:l}))}var ne=r["forwardRef"](te);function re(e){var t=e.id,n=e.activeKey,i=e.animated,o=e.tabPosition,s=e.rtl,l=e.destroyInactiveTabPane,u=r["useContext"](q),c=u.prefixCls,f=u.tabs,d=i.tabPane,h=f.findIndex((function(e){return e.key===n}));return r["createElement"]("div",{className:p()("".concat(c,"-content-holder"))},r["createElement"]("div",{className:p()("".concat(c,"-content"),"".concat(c,"-content-").concat(o),Object(a["a"])({},"".concat(c,"-content-animated"),d)),style:h&&d?Object(a["a"])({},s?"marginRight":"marginLeft","-".concat(h,"00%")):null},f.map((function(e){return r["cloneElement"](e.node,{key:e.key,prefixCls:c,tabKey:e.key,id:t,animated:d,active:e.key===n,destroyInactiveTabPane:l})}))))}function ie(e){var t=e.prefixCls,n=e.forceRender,i=e.className,o=e.style,a=e.id,l=e.active,u=e.animated,f=e.destroyInactiveTabPane,d=e.tabKey,h=e.children,v=r["useState"](n),m=Object(s["a"])(v,2),g=m[0],y=m[1];r["useEffect"]((function(){l?y(!0):f&&y(!1)}),[l,f]);var b={};return l||(u?(b.visibility="hidden",b.height=0,b.overflowY="hidden"):b.display="none"),r["createElement"]("div",{id:a&&"".concat(a,"-panel-").concat(d),role:"tabpanel",tabIndex:l?0:-1,"aria-labelledby":a&&"".concat(a,"-tab-").concat(d),"aria-hidden":!l,style:Object(c["a"])(Object(c["a"])({},b),o),className:p()("".concat(t,"-tabpane"),l&&"".concat(t,"-tabpane-active"),i)},(l||g||n)&&h)}var oe=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],ae=0;function se(e){return Object(d["a"])(e).map((function(e){if(r["isValidElement"](e)){var t=void 0!==e.key?String(e.key):void 0;return Object(c["a"])(Object(c["a"])({key:t},e.props),{},{node:e})}return null})).filter((function(e){return e}))}function le(e,t){var n,i,f=e.id,d=e.prefixCls,m=void 0===d?"rc-tabs":d,g=e.className,y=e.children,b=e.direction,_=e.activeKey,E=e.defaultActiveKey,x=e.editable,w=e.animated,S=void 0===w?{inkBar:!0,tabPane:!1}:w,O=e.tabPosition,C=void 0===O?"top":O,A=e.tabBarGutter,P=e.tabBarStyle,k=e.tabBarExtraContent,M=e.locale,T=e.moreIcon,L=e.moreTransitionName,I=e.destroyInactiveTabPane,D=e.renderTabBar,R=e.onChange,N=e.onTabClick,j=e.onTabScroll,F=e.getPopupContainer,B=e.popupClassName,U=Object(u["a"])(e,oe),z=se(y),H="rtl"===b;i=!1===S?{inkBar:!1,tabPane:!1}:!0===S?{inkBar:!0,tabPane:!0}:Object(c["a"])({inkBar:!0,tabPane:!1},"object"===Object(l["a"])(S)?S:{});var V=Object(r["useState"])(!1),G=Object(s["a"])(V,2),W=G[0],Y=G[1];Object(r["useEffect"])((function(){Y(Object(h["a"])())}),[]);var X=Object(v["a"])((function(){var e;return null===(e=z[0])||void 0===e?void 0:e.key}),{value:_,defaultValue:E}),K=Object(s["a"])(X,2),Z=K[0],Q=K[1],J=Object(r["useState"])((function(){return z.findIndex((function(e){return e.key===Z}))})),$=Object(s["a"])(J,2),ee=$[0],te=$[1];Object(r["useEffect"])((function(){var e,t=z.findIndex((function(e){return e.key===Z}));-1===t&&(t=Math.max(0,Math.min(ee,z.length-1)),Q(null===(e=z[t])||void 0===e?void 0:e.key));te(t)}),[z.map((function(e){return e.key})).join("_"),Z,ee]);var ie=Object(v["a"])(null,{value:f}),le=Object(s["a"])(ie,2),ue=le[0],ce=le[1],fe=C;function pe(e,t){null===N||void 0===N||N(e,t);var n=e!==Z;Q(e),n&&(null===R||void 0===R||R(e))}W&&!["left","right"].includes(C)&&(fe="top"),Object(r["useEffect"])((function(){f||(ce("rc-tabs-".concat(ae)),ae+=1)}),[]);var de,he={id:ue,activeKey:Z,animated:i,tabPosition:fe,rtl:H,mobile:W},ve=Object(c["a"])(Object(c["a"])({},he),{},{editable:x,locale:M,moreIcon:T,moreTransitionName:L,tabBarGutter:A,onTabClick:pe,onTabScroll:j,extra:k,style:P,panes:y,getPopupContainer:F,popupClassName:B});return de=D?D(ve,ne):r["createElement"](ne,ve),r["createElement"](q.Provider,{value:{tabs:z,prefixCls:m}},r["createElement"]("div",Object(o["a"])({ref:t,id:f,className:p()(m,"".concat(m,"-").concat(fe),(n={},Object(a["a"])(n,"".concat(m,"-mobile"),W),Object(a["a"])(n,"".concat(m,"-editable"),x),Object(a["a"])(n,"".concat(m,"-rtl"),H),n),g)},U),de,r["createElement"](re,Object(o["a"])({destroyInactiveTabPane:I},he,{animated:i}))))}var ue=r["forwardRef"](le);ue.TabPane=ie;var ce=ue,fe=ce,pe=n("9kvl"),de=n("dEAq"),he=n("Q7Ls");n("Xk0s");function ve(e,t){return _e(e)||be(e,t)||ge(e,t)||me()}function me(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ge(e,t){if(e){if("string"===typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function _e(e){if(Array.isArray(e))return e}function Ee(e,t){var n,r=null===(n=e.match(/\.(\w+)$/))||void 0===n?void 0:n[1];return r||(r=t.tsx?"tsx":"jsx"),r}var xe=function(e){var t,n,o,a=Object(r["useRef"])(),s=Object(r["useContext"])(de["context"]),l=s.locale,u=Object(de["useLocaleProps"])(l,e),c=Object(de["useDemoUrl"])(u.identifier),f=u.demoUrl||c,p=(null===pe["a"]||void 0===pe["a"]?void 0:pe["a"].location.hash)==="#".concat(u.identifier),d=1===Object.keys(u.sources).length,h=Object(de["useCodeSandbox"])((null===(t=u.hideActions)||void 0===t?void 0:t.includes("CSB"))?null:u),v=Object(de["useRiddle"])((null===(n=u.hideActions)||void 0===n?void 0:n.includes("RIDDLE"))?null:u),m=Object(de["useMotions"])(u.motions||[],a.current),g=ve(m,2),y=g[0],b=g[1],_=Object(de["useCopy"])(),E=ve(_,2),x=E[0],w=E[1],S=Object(r["useState"])((function(){return u.sources._?"_":Object.keys(u.sources)[0]})),O=ve(S,2),C=O[0],A=O[1],P=Object(r["useState"])(Ee(C,u.sources[C])),k=ve(P,2),M=k[0],T=k[1],L=Object(r["useState"])(Boolean(u.defaultShowCode)),I=ve(L,2),D=I[0],R=I[1],N=Object(r["useState"])(Math.random()),j=ve(N,2),F=j[0],B=j[1],U=u.sources[C][M]||u.sources[C].content,z=Object(de["useTSPlaygroundUrl"])(l,U),H=Object(r["useRef"])(),V=Object(de["usePrefersColor"])(),G=ve(V,1),W=G[0],q=u.actionBarRender,Y=void 0===q?function(e){return e}:q;function X(e){A(e),T(Ee(e,u.sources[e]))}return Object(r["useEffect"])((function(){B(Math.random())}),[W]),i.a.createElement("div",{style:u.style,className:[u.className,"__dumi-default-previewer",p?"__dumi-default-previewer-target":""].filter(Boolean).join(" "),id:u.identifier,"data-debug":u.debug||void 0,"data-iframe":u.iframe||void 0},u.iframe&&i.a.createElement("div",{className:"__dumi-default-previewer-browser-nav"}),i.a.createElement("div",{ref:a,className:"__dumi-default-previewer-demo",style:{transform:u.transform?"translate(0, 0)":void 0,padding:u.compact||u.iframe&&!1!==u.compact?"0":void 0,background:u.background}},u.iframe?i.a.createElement("iframe",{title:"dumi-previewer",style:{height:String(u.iframe).replace(/(\d)$/,"$1px")},key:F,src:f,ref:H}):u.children),i.a.createElement("div",{className:"__dumi-default-previewer-desc","data-title":u.title},u.title&&i.a.createElement(de["AnchorLink"],{to:"#".concat(u.identifier)},u.title),u.description&&i.a.createElement("div",{dangerouslySetInnerHTML:{__html:u.description}})),i.a.createElement("div",{className:"__dumi-default-previewer-actions"},Y(i.a.createElement(i.a.Fragment,null,h&&i.a.createElement("button",{title:"Open demo on CodeSandbox.io",className:"__dumi-default-icon",role:"codesandbox",onClick:h}),v&&i.a.createElement("button",{title:"Open demo on Riddle",className:"__dumi-default-icon",role:"riddle",onClick:v}),u.motions&&i.a.createElement("button",{title:"Execute motions",className:"__dumi-default-icon",role:"motions",disabled:b,onClick:function(){return y()}}),u.iframe&&i.a.createElement("button",{title:"Reload demo iframe page",className:"__dumi-default-icon",role:"refresh",onClick:function(){return B(Math.random())}}),!(null===(o=u.hideActions)||void 0===o?void 0:o.includes("EXTERNAL"))&&i.a.createElement(de["Link"],{target:"_blank",to:f},i.a.createElement("button",{title:"Open demo in new tab",className:"__dumi-default-icon",role:"open-demo",type:"button"})),i.a.createElement("span",null),i.a.createElement("button",{title:"Copy source code",className:"__dumi-default-icon",role:"copy","data-status":w,onClick:function(){return x(U)}}),"tsx"===M&&D&&i.a.createElement(de["Link"],{target:"_blank",to:z},i.a.createElement("button",{title:"Get JSX via TypeScript Playground",className:"__dumi-default-icon",role:"change-tsx",type:"button"})),i.a.createElement("button",{title:"Toggle source code panel",className:"__dumi-default-icon".concat(D?" __dumi-default-btn-expand":""),role:"source",type:"button",onClick:function(){return R(!D)}})))),D&&i.a.createElement("div",{className:"__dumi-default-previewer-source-wrapper"},!d&&i.a.createElement(fe,{className:"__dumi-default-previewer-source-tab",prefixCls:"__dumi-default-tabs",moreIcon:"\xb7\xb7\xb7",defaultActiveKey:C,onChange:X},Object.keys(u.sources).map((function(e){return i.a.createElement(ie,{tab:"_"===e?"index.".concat(Ee(e,u.sources[e])):e,key:e})}))),i.a.createElement("div",{className:"__dumi-default-previewer-source"},i.a.createElement(he["a"],{code:U,lang:M,showCopy:!1}))))};t["default"]=xe},ewvW:function(e,t,n){var r=n("HYAF");e.exports=function(e){return Object(r(e))}},"f/k9":function(e,t,n){"use strict";var r=n("MgzW"),i=n("q1tI");t.useSubscription=function(e){var t=e.getCurrentValue,n=e.subscribe,o=i.useState((function(){return{getCurrentValue:t,subscribe:n,value:t()}}));e=o[0];var a=o[1];return o=e.value,e.getCurrentValue===t&&e.subscribe===n||(o=t(),a({getCurrentValue:t,subscribe:n,value:o})),i.useDebugValue(o),i.useEffect((function(){function e(){if(!i){var e=t();a((function(i){return i.getCurrentValue!==t||i.subscribe!==n||i.value===e?i:r({},i,{value:e})}))}}var i=!1,o=n(e);return e(),function(){i=!0,o()}}),[t,n]),o}},f5p1:function(e,t,n){var r=n("2oRo"),i=n("iSVu"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},fGT3:function(e,t,n){var r=n("4kuk"),i=n("Xi7e"),o=n("ebwN");function a(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}e.exports=a},fHMY:function(e,t,n){var r,i=n("glrk"),o=n("N+g0"),a=n("eDl+"),s=n("0BK2"),l=n("G+Rx"),u=n("zBJ4"),c=n("93I0"),f=">",p="<",d="prototype",h="script",v=c("IE_PROTO"),m=function(){},g=function(e){return p+h+f+e+p+"/"+h+f},y=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=u("iframe"),n="java"+h+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},_=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}_=r?y(r):b();var e=a.length;while(e--)delete _[d][a[e]];return _()};s[v]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[d]=i(e),n=new m,m[d]=null,n[v]=e):n=_(),void 0===t?n:o(n,t)}},fN96:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ZUd8").charAt;r({target:"String",proto:!0},{at:function(e){return i(this,e)}})},"fR/l":function(e,t,n){var r=n("CH3K"),i=n("Z0cm");function o(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}e.exports=o},fXLg:function(e,t,n){"use strict";var r=n("glrk"),i=n("HAuM");e.exports=function(){for(var e=r(this),t=i(e.add),n=0,o=arguments.length;n<o;n++)t.call(e,arguments[n]);return e}},fbrv:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var i=n("Yk9n"),o=n("MON2"),a=n("FV85"),s=n("xfSm"),l=n("ujMp");Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return l.getFunctionName}});var u=n("dX1H");function c(e,t){var n=l.getFunctionName(t),r=f(e,n,t,!1);return r}function f(e,t,n,i){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var l=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(l)}var u=a.userGeneratedMetadata,c=Object.keys(u),f=0===n.length&&c.length>0,p=c.length>n.length,v=f||p?c.length:n.length,m=d(i,t,s,u,v),g=h(e,n),y=r(r([],m),g);return y}function p(e,t,n,r,s){var l=s[e.toString()]||[],c=m(l),f=!0!==c.unmanaged,p=r[e],d=c.inject||c.multiInject;if(p=d||p,p instanceof i.LazyServiceIdentifer&&(p=p.unwrap()),f){var h=p===Object,v=p===Function,g=void 0===p,y=h||v||g;if(!t&&y){var b=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(b)}var _=new u.Target(a.TargetTypeEnum.ConstructorArgument,c.targetName,p);return _.metadata=l,_}return null}function d(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=a,l=p(s,e,t,n,r);null!==l&&o.push(l)}return o}function h(e,t){for(var n=e.getPropertiesMetadata(t),i=[],o=Object.keys(n),s=0,l=o;s<l.length;s++){var c=l[s],f=n[c],p=m(n[c]),d=p.targetName||c,v=p.inject||p.multiInject,g=new u.Target(a.TargetTypeEnum.ClassProperty,d,v);g.metadata=f,i.push(g)}var y=Object.getPrototypeOf(t.prototype).constructor;if(y!==Object){var b=h(e,y);i=r(r([],i),b)}return i}function v(e,t){var n=Object.getPrototypeOf(t.prototype).constructor;if(n!==Object){var r=l.getFunctionName(n),i=f(e,r,n,!0),o=i.map((function(e){return e.metadata.filter((function(e){return e.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,u=i.length-a;return u>0?u:v(e,n)}return 0}function m(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=c,t.getBaseClassDependencyCount=v},fdAy:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ntOU"),o=n("4WOD"),a=n("0rvr"),s=n("1E5z"),l=n("kRJp"),u=n("busE"),c=n("tiKp"),f=n("xDBR"),p=n("P4y1"),d=n("rpNk"),h=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,m=c("iterator"),g="keys",y="values",b="entries",_=function(){return this};e.exports=function(e,t,n,c,d,E,x){i(n,t,c);var w,S,O,C=function(e){if(e===d&&T)return T;if(!v&&e in k)return k[e];switch(e){case g:return function(){return new n(this,e)};case y:return function(){return new n(this,e)};case b:return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",P=!1,k=e.prototype,M=k[m]||k["@@iterator"]||d&&k[d],T=!v&&M||C(d),L="Array"==t&&k.entries||M;if(L&&(w=o(L.call(new e)),h!==Object.prototype&&w.next&&(f||o(w)===h||(a?a(w,h):"function"!=typeof w[m]&&l(w,m,_)),s(w,A,!0,!0),f&&(p[A]=_))),d==y&&M&&M.name!==y&&(P=!0,T=function(){return M.call(this)}),f&&!x||k[m]===T||l(k,m,T),p[t]=T,d)if(S={values:C(y),keys:E?T:C(g),entries:C(b)},x)for(O in S)(v||P||!(O in k))&&u(k,O,S[O]);else r({target:t,proto:!0,forced:v||P},S);return S}},ff8A:function(e,t,n){"use strict";n.r(t);var r=n("k1fw"),i=n("tJVT"),o=n("8ml+"),a=n("/7QA"),s=n("zWmH"),l=(n("TpwP"),n("q1tI")),u=n.n(l),c=String(Math.random()),f=()=>{var e=Object(l["useState"])(null),t=Object(i["a"])(e,2),n=(t[0],t[1]);return Object(l["useEffect"])((()=>{var e=new o["f"]({id:c,map:new s["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t={color:"#0000ff",size:8,shape:"square",stroke:"#ffff00"},i=new a["DrawPoint"](e,{style:{point:{normal:t,hover:Object(r["a"])(Object(r["a"])({},t),{},{size:12}),active:Object(r["a"])(Object(r["a"])({},t),{},{size:12,color:"#ff0000"}),callback:e=>{}}}});n(i),i.enable()}))}),[]),u.a.createElement("div",null,u.a.createElement("div",{id:c,style:{height:400,position:"relative"}}))};t["default"]=f},fhKU:function(e,t,n){var r=n("2oRo"),i=n("WKiH").trim,o=n("WJkJ"),a=r.parseFloat,s=1/a(o+"-0")!==-1/0;e.exports=s?function(e){var t=i(String(e)),n=a(t);return 0===n&&"-"==t.charAt(0)?-0:n}:a},fmRc:function(e,t,n){var r=n("Xi7e"),i=n("77Zs"),o=n("L8xA"),a=n("gCq4"),s=n("VaNO"),l=n("0Cz8");function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype["delete"]=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},fo6e:function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function r(e){return n.test(e)}e.exports=r},foSv:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,"a",(function(){return r}))},fsCH:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=(n("TpwP"),n("q1tI")),l=n.n(s),u=n("CRWo"),c=String(Math.random()),f=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:c,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawPolygon"](e,{initialData:u["a"],editable:!1});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:c,style:{height:400,position:"relative"}}))};t["default"]=f},fsL8:function(e,t,n){var r=n("cDf5")["default"];function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports["default"]=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=p(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=f;var d={};function h(){}function v(){}function m(){}var g={};c(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==n&&o.call(b,s)&&(g=b);var _=m.prototype=h.prototype=Object.create(g);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,a,s,l){var u=p(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=p(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=m,c(_,"constructor",m),c(m,"constructor",v),v.displayName=c(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(x.prototype),c(x.prototype,l,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new x(f(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(_),c(_,u,"Generator"),c(_,s,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},ftKO:function(e,t){var n="__lodash_hash_undefined__";function r(e){return this.__data__.set(e,n),this}e.exports=r},ftMj:function(e,t,n){var r=n("I+eb"),i=n("glrk"),o=n("hh1v"),a=n("UTVS"),s=n("0Dky"),l=n("m/L8"),u=n("Bs8V"),c=n("4WOD"),f=n("XGwC");function p(e,t,n){var r,s,d=arguments.length<4?e:arguments[3],h=u.f(i(e),t);if(!h){if(o(s=c(e)))return p(s,t,n,d);h=f(0)}if(a(h,"value")){if(!1===h.writable||!o(d))return!1;if(r=u.f(d,t)){if(r.get||r.set||!1===r.writable)return!1;r.value=n,l.f(d,t,r)}else l.f(d,t,f(0,n));return!0}return void 0!==h.set&&(h.set.call(d,n),!0)}var d=s((function(){var e=l.f({},"a",{configurable:!0});return!1!==Reflect.set(c(e),"a",1,e)}));r({target:"Reflect",stat:!0,forced:d},{set:p})},g4R6:function(e,t){function n(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}e.exports=n},"g6v/":function(e,t,n){var r=n("0Dky");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},g7Fu:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=(n("TpwP"),n("q1tI")),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawCircle"](e,{editable:!1});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},gBQY:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=(n("TpwP"),n("q1tI")),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawRect"](e,{editable:!1});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},gCq4:function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},gFfm:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}e.exports=n},gOCb:function(e,t,n){var r=n("dG/n");r("replace")},gQMU:function(e,t,n){var r=n("0ZTe"),i=r("toUpperCase");e.exports=i},gXIK:function(e,t,n){var r=n("dG/n");r("toPrimitive")},gYJb:function(e,t,n){var r=n("I+eb"),i=n("p5mE"),o=n("0GbY"),a=n("fHMY"),s=function(){var e=o("Object","freeze");return e?e(a(null)):a(null)};r({global:!0},{compositeKey:function(){return i.apply(Object,arguments).get("object",s)}})},gdVl:function(e,t,n){"use strict";var r=n("ewvW"),i=n("I8vh"),o=n("UMSQ");e.exports=function(e){var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);while(u>s)t[s++]=e;return t}},gg6r:function(e,t,n){"use strict";var r=n("I+eb"),i=n("HAuM"),o=n("8GlL"),a=n("5mdu"),s=n("ImZN");r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=o.f(t),r=n.resolve,l=n.reject,u=a((function(){var n=i(t.resolve),o=[],a=0,l=1;s(e,(function(e){var i=a++,s=!1;o.push(void 0),l++,n.call(t,e).then((function(e){s||(s=!0,o[i]={status:"fulfilled",value:e},--l||r(o))}),(function(e){s||(s=!0,o[i]={status:"rejected",reason:e},--l||r(o))}))})),--l||r(o)}));return u.error&&l(u.value),n.promise}})},glrk:function(e,t,n){var r=n("hh1v");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},gql7:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("Q7Ls"),s=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"l7draw"},i.a.createElement(o["AnchorLink"],{to:"#l7draw","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"L7Draw"),i.a.createElement("blockquote",null,i.a.createElement("p",null,"\u57fa\u4e8e ",i.a.createElement(o["Link"],{to:"https://l7.antv.vision/zh"},"L7")," \u5c01\u88c5\u7684\u5730\u7406\u7ed8\u5236\u5e93")),i.a.createElement("p",null,i.a.createElement(o["Link"],{to:"https://www.npmjs.com/package/@antv/l7-draw"},i.a.createElement("img",{src:"https://img.shields.io/npm/v/@antv/l7-draw.svg",alt:"npm Version"}))," ",i.a.createElement(o["Link"],{to:"https://www.npmjs.com/package/@antv/l7-draw"},i.a.createElement("img",{src:"https://img.shields.io/npm/dm/@antv/l7-draw.svg",alt:"npm Download"}))," ",i.a.createElement("img",{src:"https://badgen.net/github/status/antvis/l7-draw",alt:"Status"})," ",i.a.createElement(o["Link"],{to:"http://isitmaintained.com/project/antvis/l7-draw",title:"Percentage of issues still open"},i.a.createElement("img",{src:"http://isitmaintained.com/badge/open/antvis/l7-draw.svg",alt:"Percentage of issues still open"}))," ",i.a.createElement(o["Link"],{to:"http://isitmaintained.com/project/antvis/l7-draw",title:"Average time to resolve an issue"},i.a.createElement("img",{src:"http://isitmaintained.com/badge/resolution/antvis/l7-draw.svg",alt:"Average time to resolve an issue"}))),i.a.createElement("h2",{id:"-\u6587\u6863"},i.a.createElement(o["AnchorLink"],{to:"#-\u6587\u6863","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\ud83d\udcda \u6587\u6863"),i.a.createElement("p",null,i.a.createElement(o["Link"],{to:"https://antv.vision/L7Draw/docs/draw/point"},"\u6587\u6863")),i.a.createElement("p",null,i.a.createElement(o["Link"],{to:"https://antv.vision/L7Draw/example/point/start"},"\u793a\u4f8b")),i.a.createElement("h2",{id:"-\u5b89\u88c5"},i.a.createElement(o["AnchorLink"],{to:"#-\u5b89\u88c5","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\ud83d\udce6 \u5b89\u88c5"),i.a.createElement(a["a"],{code:"npm install @antv/l7-draw",lang:"bash"}),i.a.createElement("h2",{id:"-\u4f7f\u7528"},i.a.createElement(o["AnchorLink"],{to:"#-\u4f7f\u7528","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\ud83d\udd28 \u4f7f\u7528"),i.a.createElement(a["a"],{code:"// ----js-----\nimport { GaodeMap, Scene } from '@antv/l7';\nimport { DrawEvent, DrawPoint } from '@antv/l7-draw';\n\nconst scene = new Scene({\n  id: 'map',\n  map: new GaodeMap({}),\n});\n\nscene.on('loaded', () => {\n  // \u5b9e\u4f8b\u5316 Draw\n  const draw = new DrawPoint(scene, {\n    editable: false,\n    // Draw \u914d\u7f6e\n  });\n\n  // \u8c03\u7528 Draw \u4e0a\u7684\u65b9\u6cd5\n  draw.enable();\n\n  // \u76d1\u542c Draw \u7684\u4e8b\u4ef6\n  draw.on(DrawEvent.Add, (newPoint) => {\n    console.log(newPoint);\n  });\n});\n\n// ----html----\n<div id=\"map\"></div>;",lang:"tsx"}),i.a.createElement("h2",{id:"\ufe0f-\u672c\u5730\u5f00\u53d1"},i.a.createElement(o["AnchorLink"],{to:"#\ufe0f-\u672c\u5730\u5f00\u53d1","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u2328\ufe0f \u672c\u5730\u5f00\u53d1"),i.a.createElement(a["a"],{code:"# \u5b89\u88c5\u4f9d\u8d56\nnpm install\n\n# \u8fd0\u884c\u9875\u9762\nnpm run start\n\n# \u6253\u5305\nnpm run build",lang:"bash"}),i.a.createElement("h2",{id:"-\u5982\u4f55\u8d21\u732e"},i.a.createElement(o["AnchorLink"],{to:"#-\u5982\u4f55\u8d21\u732e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\ud83e\udd1d \u5982\u4f55\u8d21\u732e"),i.a.createElement("p",null,"\u5982\u679c\u60a8\u5728\u4f7f\u7528\u7684\u8fc7\u7a0b\u4e2d\u78b0\u5230\u95ee\u9898\uff0c\u53ef\u4ee5\u5148\u901a\u8fc7 ",i.a.createElement(o["Link"],{to:"https://github.com/antvis/l7-draw/issues"},"issues")," \u770b\u770b\u6709\u6ca1\u6709\u7c7b\u4f3c\u7684 bug \u6216\u8005\u5efa\u8bae\u3002"),i.a.createElement("h2",{id:"-\u8bb8\u53ef\u8bc1"},i.a.createElement(o["AnchorLink"],{to:"#-\u8bb8\u53ef\u8bc1","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\ud83d\udcd6 \u8bb8\u53ef\u8bc1"),i.a.createElement("p",null,"MIT@",i.a.createElement(o["Link"],{to:"https://github.com/antvis"},"AntV"),".")))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},gvgV:function(e,t,n){"use strict";var r=n("67WC"),i=n("TWQb").includes,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("includes",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},gzZq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n("MON2"),i=n("FV85"),o=n("D9lx"),a=n("LKzl"),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!==typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!==typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){var n=function(){return t.container.get(e)};return n},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=s},h0XC:function(e,t){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},h1nZ:function(e,t,n){"use strict";n.d(t,"l",(function(){return ya})),n.d(t,"n",(function(){return _a})),n.d(t,"m",(function(){return Ea})),n.d(t,"p",(function(){return ga})),n.d(t,"k",(function(){return l})),n.d(t,"b",(function(){return xa})),n.d(t,"h",(function(){return wa})),n.d(t,"j",(function(){return Sa})),n.d(t,"a",(function(){return Oa})),n.d(t,"f",(function(){return Aa})),n.d(t,"d",(function(){return Fe})),n.d(t,"e",(function(){return st})),n.d(t,"c",(function(){return Pa})),n.d(t,"i",(function(){return ka})),n.d(t,"g",(function(){return Ca})),n.d(t,"o",(function(){return ht}));n("mNvP");var r=n("uhBA"),i=n.n(r),o=n("4cb6"),a=n("APxj"),s=n.n(a),l={IEventEmitter:Symbol["for"]("IEventEmitter"),ISceneService:Symbol["for"]("ISceneService"),IGlobalConfigService:Symbol["for"]("IGlobalConfigService"),ICameraService:Symbol["for"]("ICameraService"),ICoordinateSystemService:Symbol["for"]("ICoordinateSystemService"),ILayerService:Symbol["for"]("ILayerService"),ILayerMappingService:Symbol["for"]("ILayerMappingService"),ILayerStyleService:Symbol["for"]("ILayerStyleService"),IMapService:Symbol["for"]("IMapService"),IMarkerService:Symbol["for"]("IMarkerService"),IPopupService:Symbol["for"]("PopupService"),IFactoryMapService:Symbol["for"]("Factory<IMapService>"),IRendererService:Symbol["for"]("IRendererService"),IShaderModuleService:Symbol["for"]("IShaderModuleService"),IIconService:Symbol["for"]("IIconService"),IFontService:Symbol["for"]("IFontService"),IInteractionService:Symbol["for"]("IInteractionService"),IPickingService:Symbol["for"]("IPickingService"),IControlService:Symbol["for"]("IControlService"),IStyleAttributeService:Symbol["for"]("IStyleAttributeService"),ILayer:Symbol["for"]("ILayer"),ILayerPlugin:Symbol["for"]("ILayerPlugin"),INormalPass:Symbol["for"]("INormalPass"),IPostProcessor:Symbol["for"]("IPostProcessor"),IPostProcessingPass:Symbol["for"]("IPostProcessingPass"),IFactoryPostProcessingPass:Symbol["for"]("Factory<IPostProcessingPass>"),IFactoryNormalPass:Symbol["for"]("Factory<IFactoryNormalPass>"),IMultiPassRenderer:Symbol["for"]("IMultiPassRenderer"),SceneID:Symbol["for"]("SceneID"),MapConfig:Symbol["for"]("MapConfig")},u=n("lwsE"),c=n.n(u),f=n("W8MJ"),p=n.n(f),d=n("lSNA"),h=n.n(d),v=n("Hel2"),m=n("TIQr"),g=n.n(m);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=E(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function E(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w,S,O=30;function C(e){var t=e.characterSet,n=e.getFontWidth,r=e.fontHeight,i=e.buffer,o=e.maxCanvasWidth,a=e.mapping,s=void 0===a?{}:a,l=e.xOffset,u=void 0===l?0:l,c=e.yOffset,f=void 0===c?0:c,p=0,d=u;Array.from(t).forEach((function(e,t){if(!s[e]){var r=n(e,t);d+O>o&&(d=0,p++),s[e]={x:d,y:f+p*O,width:O,height:O,advance:r},d+=O}}));var h=r+2*i;return{mapping:s,xOffset:d,yOffset:f+p*h,canvasHeight:k(f+(p+1)*h)}}function A(e,t,n){var r,i=0,o=0,a=0,s=[],l={},u=_(e);try{for(u.s();!(r=u.n()).done;){var c=r.value;if(!l[c.id]){var f=c.size;i+f+t>n&&(P(l,s,o),i=0,o=a+o+t,a=0,s=[]),s.push({icon:c,xOffset:i}),i=i+f+t,a=Math.max(a,f)}}}catch(d){u.e(d)}finally{u.f()}s.length>0&&P(l,s,o);var p=k(a+o+t);return{mapping:l,canvasHeight:p}}function P(e,t,n){var r,i=_(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.icon,s=o.xOffset;e[a.id]=b(b({},a),{},{x:s,y:n,image:a.image,width:a.width,height:a.height})}}catch(l){i.e(l)}finally{i.f()}}function k(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function M(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=T(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function T(e,t){if(e){if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=q(),N="sans-serif",j="normal",F=24,B=3,U=.25,z=8,H=1024,V=1,G=1,W=3;function q(){for(var e=[],t=32;t<128;t++)e.push(String.fromCharCode(t));return e}function Y(e,t,n,r){e.font="".concat(r," ").concat(n,"px ").concat(t),e.fillStyle="black",e.textBaseline="middle"}function X(e,t){for(var n=0;n<e.length;n++)t.data[4*n+3]=e[n]}var K,Z,Q=(w=Object(o["injectable"])(),w(S=function(){function e(){c()(this,e),h()(this,"fontAtlas",void 0),h()(this,"iconFontMap",void 0),h()(this,"iconFontGlyphs",{}),h()(this,"fontOptions",void 0),h()(this,"key",void 0),h()(this,"cache",new v["c"](W))}return p()(e,[{key:"scale",get:function(){return G}},{key:"canvas",get:function(){var e=this.cache.get(this.key);return e&&e.data}},{key:"mapping",get:function(){var e=this.cache.get(this.key);return e&&e.mapping}},{key:"init",value:function(){this.cache.clear(),this.fontOptions={fontFamily:N,fontWeight:j,characterSet:R,fontSize:F,buffer:B,sdf:!0,cutoff:U,radius:z,iconfont:!1},this.key="",this.iconFontMap=new Map}},{key:"addIconGlyphs",value:function(e){var t=this;e.forEach((function(e){t.iconFontGlyphs[e.name]=e.unicode}))}},{key:"addIconFont",value:function(e,t){this.iconFontMap.set(e,t)}},{key:"getIconFontKey",value:function(e){return this.iconFontMap.get(e)||e}},{key:"getGlyph",value:function(e){return this.iconFontGlyphs[e]?String.fromCharCode(parseInt(this.iconFontGlyphs[e],16)):""}},{key:"setFontOptions",value:function(e){this.fontOptions=D(D({},this.fontOptions),e),this.key=this.getKey();var t=this.getNewChars(this.key,this.fontOptions.characterSet),n=this.cache.get(this.key);if(!n||0!==t.length){var r=this.generateFontAtlas(this.key,t,n);this.fontAtlas=r,this.cache.set(this.key,r)}}},{key:"destroy",value:function(){this.cache.clear(),this.iconFontMap.clear()}},{key:"generateFontAtlas",value:function(e,t,n){var r=this.fontOptions,i=r.fontFamily,o=r.fontWeight,a=r.fontSize,s=r.buffer,l=r.sdf,u=r.radius,c=r.cutoff,f=r.iconfont,p=n&&n.data;p||(p=v["a"].document.createElement("canvas"),p.width=H);var d=p.getContext("2d");Y(d,i,a,o);var h=C(D({getFontWidth:function(e){return d.measureText(e).width},fontHeight:a*G,buffer:s,characterSet:t,maxCanvasWidth:H},n&&{mapping:n.mapping,xOffset:n.xOffset,yOffset:n.yOffset})),m=h.mapping,y=h.canvasHeight,b=h.xOffset,_=h.yOffset,E=d.getImageData(0,0,p.width,p.height);if(p.height=y,d.putImageData(E,0,0),Y(d,i,a,o),l){var x,w=new g.a(a,s,u,c,i,o),S=d.getImageData(0,0,w.size,w.size),O=M(t);try{for(O.s();!(x=O.n()).done;){var A=x.value;if(f){var P=String.fromCharCode(parseInt(A.replace("&#x","").replace(";",""),16)),k=w.draw(P);X(k,S)}else X(w.draw(A),S);d.putImageData(S,m[A].x,m[A].y)}}catch(R){O.e(R)}finally{O.f()}}else{var T,L=M(t);try{for(L.s();!(T=L.n()).done;){var I=T.value;d.fillText(I,m[I].x,m[I].y+a*V)}}catch(R){L.e(R)}finally{L.f()}}return{xOffset:b,yOffset:_,mapping:m,data:p,width:p.width,height:p.height}}},{key:"getKey",value:function(){return"key"}},{key:"getNewChars",value:function(e,t){var n=this.cache.get(e);if(!n)return t;var r=[],i=n.mapping,o=new Set(Object.keys(i)),a=new Set(t);return a.forEach((function(e){o.has(e)||r.push(e)})),r}}]),e}())||S),J=n("PJYZ"),$=n.n(J),ee=n("7W2i"),te=n.n(ee),ne=n("a1gu"),re=n.n(ne),ie=n("Nsbk"),oe=n.n(ie);function ae(e){var t=se();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function se(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var le,ue,ce,fe,pe=3,de=1024,he=64,ve=(K=Object(o["injectable"])(),K(Z=function(e){te()(n,e);var t=ae(n);function n(){var e;c()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),h()($()(e),"canvasHeight",128),h()($()(e),"texture",void 0),h()($()(e),"canvas",void 0),h()($()(e),"iconData",void 0),h()($()(e),"iconMap",void 0),h()($()(e),"ctx",void 0),h()($()(e),"loadingImageCount",0),e}return p()(n,[{key:"isLoading",value:function(){return 0===this.loadingImageCount}},{key:"init",value:function(){this.iconData=[],this.iconMap={},this.canvas=v["a"].document.createElement("canvas"),this.canvas.width=128,this.canvas.height=128,this.ctx=this.canvas.getContext("2d")}},{key:"addImage",value:function(e,t){var n=this,r=new Image;if(this.loadingImageCount++,this.hasImage(e))throw new Error("Image Id already exists");this.iconData.push({id:e,size:he}),this.updateIconMap(),this.loadImage(t).then((function(t){r=t;var i=n.iconData.find((function(t){return t.id===e}));i&&(i.image=r,i.width=r.width,i.height=r.height),n.update()}))}},{key:"addImageMini",value:function(e,t,n){var r=this,i=n.getSceneConfig().canvas,o=i.createImage();if(this.loadingImageCount++,this.hasImage(e))throw new Error("Image Id already exists");this.iconData.push({id:e,size:he}),this.updateIconMap(),this.loadImageMini(t,i).then((function(t){o=t;var n=r.iconData.find((function(t){return t.id===e}));n&&(n.image=o,n.width=o.width,n.height=o.height),r.update()}))}},{key:"getTexture",value:function(){return this.texture}},{key:"getIconMap",value:function(){return this.iconMap}},{key:"getCanvas",value:function(){return this.canvas}},{key:"hasImage",value:function(e){return this.iconMap.hasOwnProperty(e)}},{key:"removeImage",value:function(e){this.hasImage(e)&&(this.iconData=this.iconData.filter((function(t){return t.id!==e})),delete this.iconMap[e],this.update())}},{key:"destroy",value:function(){this.removeAllListeners("imageUpdate"),this.iconData=[],this.iconMap={}}},{key:"loadImage",value:function(e){return new Promise((function(t,n){if(e instanceof HTMLImageElement)t(e);else{var r=new Image;r.crossOrigin="anonymous",r.onload=function(){t(r)},r.onerror=function(){n(new Error("Could not load image at "+e))},r.src=e instanceof File?URL.createObjectURL(e):e}}))}},{key:"update",value:function(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,0===this.loadingImageCount&&this.emit("imageUpdate")}},{key:"updateIconAtlas",value:function(){var e=this;this.canvas.width=de,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach((function(t){var n=e.iconMap[t],r=n.x,i=n.y,o=n.image,a=n.width,s=void 0===a?64:a,l=n.height,u=void 0===l?64:l,c=Math.max(s,u),f=c/he,p=u/f,d=s/f;o&&e.ctx.drawImage(o,r+(he-d)/2,i+(he-p)/2,d,p)}))}},{key:"updateIconMap",value:function(){var e=A(this.iconData,pe,de),t=e.mapping,n=e.canvasHeight;this.iconMap=t,this.canvasHeight=n}},{key:"loadImageMini",value:function(e,t){return new Promise((function(n,r){var i=t.createImage();i.crossOrigin="anonymous",i.onload=function(){n(i)},i.onerror=function(){r(new Error("Could not load image at "+e))},i.src=e}))}}]),n}(r["EventEmitter"]))||Z),me=n("J4zp"),ge=n.n(me),ye=n("IOcx"),be=(le=Object(o["injectable"])(),le(ue=function(){function e(){c()(this,e),h()(this,"viewport",void 0),h()(this,"overridedViewProjectionMatrix",void 0),h()(this,"jitteredViewProjectionMatrix",void 0),h()(this,"jitteredProjectionMatrix",void 0),h()(this,"viewMatrixInverse",void 0),h()(this,"cameraPosition",void 0)}return p()(e,[{key:"init",value:function(){}},{key:"update",value:function(e){this.viewport=e,this.viewMatrixInverse=ye["a"].create(),ye["a"].invert(this.viewMatrixInverse,e.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}},{key:"getProjectionMatrix",value:function(){return this.jitteredProjectionMatrix||this.viewport.getProjectionMatrix()}},{key:"getModelMatrix",value:function(){return this.viewport.getModelMatrix()}},{key:"getViewMatrix",value:function(){return this.viewport.getViewMatrix()}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.getViewMatrixUncentered()}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.getViewProjectionMatrixUncentered()}},{key:"getViewProjectionMatrix",value:function(){return this.overridedViewProjectionMatrix||this.jitteredViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}},{key:"getZoom",value:function(){return this.viewport.getZoom()}},{key:"getZoomScale",value:function(){return this.viewport.getZoomScale()}},{key:"getCenter",value:function(){var e=this.viewport.getCenter(),t=ge()(e,2),n=t[0],r=t[1];return[n,r]}},{key:"getFocalDistance",value:function(){return this.viewport.getFocalDistance()}},{key:"getCameraPosition",value:function(){return this.cameraPosition}},{key:"projectFlat",value:function(e,t){return this.viewport.projectFlat(e,t)}},{key:"setViewProjectionMatrix",value:function(e){this.overridedViewProjectionMatrix=e}},{key:"jitterProjectionMatrix",value:function(e,t){var n=ye["a"].fromTranslation(ye["a"].create(),[e,t,0]);this.jitteredProjectionMatrix=ye["a"].multiply(ye["a"].create(),n,this.viewport.getProjectionMatrix()),this.jitteredViewProjectionMatrix=ye["a"].multiply(ye["a"].create(),this.jitteredProjectionMatrix,this.viewport.getViewMatrix())}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0,this.jitteredViewProjectionMatrix=void 0}}]),e}())||ue);function _e(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ee(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function Ee(e,t){if(e){if("string"===typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var we,Se,Oe,Ce,Ae,Pe,ke=(ce=Object(o["injectable"])(),ce(fe=function(){function e(){c()(this,e),h()(this,"container",void 0),h()(this,"controlCorners",void 0),h()(this,"controlContainer",void 0),h()(this,"scene",void 0),h()(this,"mapsService",void 0),h()(this,"controls",[]),h()(this,"unAddControls",[])}return p()(e,[{key:"init",value:function(e,t){this.container=e.container,this.scene=t,this.mapsService=t.get(l.IMapService),this.initControlPos()}},{key:"addControl",value:function(e,t){var n=t.get(l.IMapService);n.map?(e.addTo(this.scene),this.controls.push(e)):this.unAddControls.push(e)}},{key:"getControlByName",value:function(e){return this.controls.find((function(t){return t.controlOption.name===e}))}},{key:"removeControl",value:function(e){var t=this.controls.indexOf(e);return t>-1&&this.controls.splice(t,1),e.remove(),this}},{key:"addControls",value:function(){var e=this;this.unAddControls.forEach((function(t){t.addTo(e.scene),e.controls.push(t)})),this.unAddControls=[]}},{key:"destroy",value:function(){var e,t=_e(this.controls);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.remove()}}catch(r){t.e(r)}finally{t.f()}this.controls=[],this.clearControlPos()}},{key:"initControlPos",value:function(){var e=this.controlCorners={},t="l7-",n=this.controlContainer=v["b"].create("div",t+"control-container",this.container);function r(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=r.map((function(e){return t+e})).join(" ");e[r.join("")]=v["b"].create("div",i,n)}r(["top","left"]),r(["top","right"]),r(["bottom","left"]),r(["bottom","right"]),r(["top","center"]),r(["right","center"]),r(["left","center"]),r(["bottom","center"])}},{key:"clearControlPos",value:function(){for(var e in this.controlCorners)this.controlCorners[e]&&v["b"].remove(this.controlCorners[e]);this.controlContainer&&v["b"].remove(this.controlContainer),delete this.controlCorners,delete this.controlContainer}}]),e}())||fe),Me=(we=Object(o["injectable"])(),we(Se=function(){function e(){c()(this,e),h()(this,"container",void 0),h()(this,"scene",void 0),h()(this,"mapsService",void 0),h()(this,"markers",[]),h()(this,"markerLayers",[]),h()(this,"unAddMarkers",[]),h()(this,"unAddMarkerLayers",[])}return p()(e,[{key:"addMarkerLayer",value:function(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(e),e.addTo(this.scene)):this.unAddMarkerLayers.push(e)}},{key:"removeMarkerLayer",value:function(e){e.destroy(),this.markerLayers.indexOf(e);var t=this.markerLayers.indexOf(e);t>-1&&this.markerLayers.splice(t,1)}},{key:"addMarker",value:function(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(e),e.addTo(this.scene)):this.unAddMarkers.push(e)}},{key:"addMarkers",value:function(){var e=this;this.unAddMarkers.forEach((function(t){t.addTo(e.scene),e.markers.push(t)})),this.unAddMarkers=[]}},{key:"addMarkerLayers",value:function(){var e=this;this.unAddMarkerLayers.forEach((function(t){e.markerLayers.push(t),t.addTo(e.scene)})),this.unAddMarkers=[]}},{key:"removeMarker",value:function(e){e.remove(),this.markers.indexOf(e);var t=this.markers.indexOf(e);t>-1&&this.markers.splice(t,1)}},{key:"removeAllMarkers",value:function(){this.destroy()}},{key:"init",value:function(e){this.scene=e,this.mapsService=e.get(l.IMapService)}},{key:"destroy",value:function(){this.markers.forEach((function(e){e.remove()})),this.markers=[],this.markerLayers.forEach((function(e){e.destroy()})),this.markerLayers=[]}},{key:"removeMakerLayerMarker",value:function(e){e.destroy()}}]),e}())||Se),Te=(Oe=Object(o["injectable"])(),Oe(Ce=function(){function e(){c()(this,e),h()(this,"scene",void 0),h()(this,"popup",void 0),h()(this,"mapsService",void 0),h()(this,"unAddPopup",void 0)}return p()(e,[{key:"removePopup",value:function(e){e.remove()}},{key:"destroy",value:function(){this.popup.remove()}},{key:"addPopup",value:function(e){this.popup&&this.popup.remove(),this.mapsService.map&&this.mapsService.getMarkerContainer()?(e.addTo(this.scene),this.popup=e):this.unAddPopup=e}},{key:"initPopup",value:function(){this.unAddPopup&&(this.addPopup(this.unAddPopup),this.unAddPopup=null)}},{key:"init",value:function(e){this.scene=e,this.mapsService=e.get(l.IMapService)}}]),e}())||Ce),Le=n("QkVN"),Ie=n.n(Le),De={MapToken:"\u60a8\u6b63\u5728\u4f7f\u7528 Demo\u6d4b\u8bd5\u5730\u56fetoken\uff0c\u5982\u679c\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u53bb\u5bf9\u5e94\u5730\u56fe\u8bf7\u6ce8\u518cToken",SDK:"\u8bf7\u786e\u8ba4\u5f15\u5165\u4e86mapbox-gl api\u4e14\u5728L7\u4e4b\u524d\u5f15\u5165"},Re=De;function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe,Be={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},Ue={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",activeMix:0,selectColor:"blue",selectMix:0,enableTAA:!1,jitterScale:1,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0},ze=(Ae=Object(o["injectable"])(),Ae(Pe=function(){function e(){c()(this,e),h()(this,"sceneConfigCache",{}),h()(this,"layerConfigCache",{})}return p()(e,[{key:"getSceneConfig",value:function(e){return this.sceneConfigCache[e]}},{key:"getSceneWarninfo",value:function(e){return Re[e]}},{key:"setSceneConfig",value:function(e,t){this.sceneConfigCache[e]=je(je({},Be),t)}},{key:"getLayerConfig",value:function(e){return this.layerConfigCache[e]}},{key:"setLayerConfig",value:function(e,t,n){this.layerConfigCache[t]=je({},Ie()({},this.sceneConfigCache[e],Ue,n))}},{key:"clean",value:function(){this.sceneConfigCache={},this.layerConfigCache={}}}]),e}())||Pe),He=n("yG8O"),Ve=n.n(He),Ge=n("U+yc"),We=n.n(Ge),qe=(n("1ABj"),Math.PI/180),Ye=512,Xe=4003e4;function Ke(e){var t=e.latitude,n=void 0===t?0:t,r=e.zoom,i=void 0===r?0:r,o=e.scale,a=e.highPrecision,s=void 0!==a&&a,l=e.flipY,u=void 0!==l&&l;o=void 0!==o?o:Math.pow(2,i);var c={},f=Ye*o,p=Math.cos(n*qe),d=f/360,h=d/p,v=f/Xe/p;if(c.pixelsPerMeter=[v,-v,v],c.metersPerPixel=[1/v,-1/v,1/v],c.pixelsPerDegree=[d,-h,v],c.degreesPerPixel=[1/d,-1/h,1/v],s){var m=qe*Math.tan(n*qe)/p,g=d*m/2,y=f/Xe*m,b=y/h*v;c.pixelsPerDegree2=[0,-g,y],c.pixelsPerMeter2=[b,0,b],u&&(c.pixelsPerDegree2[1]=-c.pixelsPerDegree2[1],c.pixelsPerMeter2[1]=-c.pixelsPerMeter2[1])}return u&&(c.pixelsPerMeter[1]=-c.pixelsPerMeter[1],c.metersPerPixel[1]=-c.metersPerPixel[1],c.pixelsPerDegree[1]=-c.pixelsPerDegree[1],c.degreesPerPixel[1]=-c.degreesPerPixel[1]),c}(function(e){e[e["LNGLAT"]=1]="LNGLAT",e[e["LNGLAT_OFFSET"]=2]="LNGLAT_OFFSET",e[e["VECTOR_TILE"]=3]="VECTOR_TILE",e[e["IDENTITY"]=4]="IDENTITY",e[e["P20"]=5]="P20",e[e["P20_OFFSET"]=6]="P20_OFFSET",e[e["METER_OFFSET"]=7]="METER_OFFSET",e[e["P20_2"]=8]="P20_2"})(Fe||(Fe={}));var Ze,Qe,Je,$e,et,tt,nt,rt,it,ot,at,st={CoordinateSystem:"u_CoordinateSystem",ViewportCenter:"u_ViewportCenter",ViewportCenterProjection:"u_ViewportCenterProjection",PixelsPerDegree:"u_PixelsPerDegree",PixelsPerDegree2:"u_PixelsPerDegree2",PixelsPerMeter:"u_PixelsPerMeter",Mvp:"u_Mvp"},lt=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],ut=(Ze=Object(o["injectable"])(),Qe=Object(o["inject"])(l.ICameraService),Ze(($e=function(){function e(){c()(this,e),h()(this,"needRefresh",!0),Ve()(this,"cameraService",et,this),h()(this,"coordinateSystem",void 0),h()(this,"viewportCenter",void 0),h()(this,"viewportCenterProjection",void 0),h()(this,"pixelsPerDegree",void 0),h()(this,"pixelsPerDegree2",void 0),h()(this,"pixelsPerMeter",void 0)}return p()(e,[{key:"refresh",value:function(e){var t=this.cameraService.getZoom(),n=this.cameraService.getZoomScale(),r=e||this.cameraService.getCenter(),i=Ke({latitude:r[1],zoom:t}),o=i.pixelsPerMeter,a=i.pixelsPerDegree;this.viewportCenter=r,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=o,this.pixelsPerDegree=a,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===Fe.LNGLAT||this.coordinateSystem===Fe.P20?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===Fe.LNGLAT_OFFSET?this.calculateLnglatOffset(r,t):this.coordinateSystem===Fe.P20_OFFSET&&this.calculateLnglatOffset(r,t,n,!0),this.needRefresh=!1}},{key:"getCoordinateSystem",value:function(){return this.coordinateSystem}},{key:"setCoordinateSystem",value:function(e){this.coordinateSystem=e}},{key:"getViewportCenter",value:function(){return this.viewportCenter}},{key:"getViewportCenterProjection",value:function(){return this.viewportCenterProjection}},{key:"getPixelsPerDegree",value:function(){return this.pixelsPerDegree}},{key:"getPixelsPerDegree2",value:function(){return this.pixelsPerDegree2}},{key:"getPixelsPerMeter",value:function(){return this.pixelsPerMeter}},{key:"calculateLnglatOffset",value:function(e,t,n,r){var i=Ke({latitude:e[1],zoom:t,scale:n,flipY:r,highPrecision:!0}),o=i.pixelsPerMeter,a=i.pixelsPerDegree,s=i.pixelsPerDegree2,l=this.cameraService.getViewMatrix(),u=this.cameraService.getProjectionMatrix(),c=ye["a"].multiply([],u,l),f=this.cameraService.projectFlat([Math.fround(e[0]),Math.fround(e[1])],Math.pow(2,t));this.viewportCenterProjection=ye["d"].transformMat4([],[f[0],f[1],0,1],c),l=this.cameraService.getViewMatrixUncentered()||l,c=ye["a"].multiply([],u,l),c=ye["a"].multiply([],c,lt),this.cameraService.setViewProjectionMatrix(c),this.pixelsPerMeter=o,this.pixelsPerDegree=a,this.pixelsPerDegree2=s}}]),e}(),et=We()($e.prototype,"cameraService",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=$e))||Je),ct=n("AfwI"),ft=n.n(ct);function pt(e){var t=dt();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function dt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(function(e){e["Hover"]="hover",e["Click"]="click",e["Select"]="select",e["Active"]="active",e["Drag"]="drag"})(tt||(tt={}));var ht,vt,mt,gt,yt,bt,_t,Et,xt,wt,St,Ot,Ct,At,Pt={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancel"},kt=(nt=Object(o["injectable"])(),rt=Object(o["inject"])(l.IMapService),nt((ot=function(e){te()(n,e);var t=pt(n);function n(){var e;c()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),h()($()(e),"indragging",!1),Ve()($()(e),"mapService",at,$()(e)),h()($()(e),"hammertime",void 0),h()($()(e),"lastClickTime",0),h()($()(e),"lastClickXY",[-1,-1]),h()($()(e),"clickTimer",void 0),h()($()(e),"$containter",void 0),h()($()(e),"onDrag",(function(t){var n=e.interactionEvent(t);n.type=Pt[n.type],"dragging"===n.type?e.indragging=!0:e.indragging=!1,e.emit(tt.Drag,n)})),h()($()(e),"onHammer",(function(t){t.srcEvent.stopPropagation();var n=e.interactionEvent(t);e.emit(tt.Hover,n)})),h()($()(e),"onTouch",(function(t){var n=t.touches[0];e.onHover({x:n.pageX,y:n.pageY,type:"touch"})})),h()($()(e),"onHover",(function(t){var n=t.clientX,r=t.clientY,i=n,o=r,a=t.type,s=e.mapService.getMapContainer();if(s)if(v["F"])i=i-s.left-0,o=o-s.top-0;else{var l=s.getBoundingClientRect(),u=l.top,c=l.left;i=i-c-s.clientLeft,o=o-u-s.clientTop}var f=e.mapService.containerToLngLat([i,o]);if("click"!==a)"touch"!==a?"click"!==a&&"dblclick"!==a&&e.emit(tt.Hover,{x:i,y:o,lngLat:f,type:a,target:t}):e.isDoubleTap(i,o,f);else{if(!v["F"]&&"ontouchstart"in document.documentElement===!0)return;e.isDoubleTap(i,o,f)}})),e}return p()(n,[{key:"init",value:function(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}},{key:"destroy",value:function(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(tt.Hover)}},{key:"triggerHover",value:function(e){var t=e.x,n=e.y;this.emit(tt.Hover,{x:t,y:n})}},{key:"triggerSelect",value:function(e){this.emit(tt.Select,{featureId:e})}},{key:"triggerActive",value:function(e){this.emit(tt.Active,{featureId:e})}},{key:"handleMiniEvent",value:function(e){this.onHover({clientX:e.touches[0].pageX,clientY:e.touches[0].pageY,type:"touch"})}},{key:"addEventListenerOnMap",value:function(){var e=this.mapService.getMapContainer();if(e)if(v["F"])v["a"].document.addEventListener("touchstart",this.handleMiniEvent.bind(this));else{var t=new ft.a.Manager(e);t.add(new ft.a.Tap({event:"dblclick",taps:2})),t.add(new ft.a.Tap({event:"click"})),t.add(new ft.a.Pan({threshold:0,pointers:0})),t.add(new ft.a.Press({})),t.on("dblclick click",this.onHammer),t.on("panstart panmove panend pancancel",this.onDrag),e.addEventListener("mousemove",this.onHover),e.addEventListener("mousedown",this.onHover,!0),e.addEventListener("mouseup",this.onHover),e.addEventListener("contextmenu",this.onHover),this.hammertime=t}}},{key:"removeEventListenerOnMap",value:function(){if(v["F"])v["a"].document.removeEventListener("touchstart",this.handleMiniEvent.bind(this));else{var e=this.mapService.getMapContainer();e&&(e.removeEventListener("mousemove",this.onHover),this.hammertime.off("dblclick click",this.onHammer),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),e.removeEventListener("mousedown",this.onHover),e.removeEventListener("mouseup",this.onHover),e.removeEventListener("contextmenu",this.onHover))}}},{key:"interactionEvent",value:function(e){var t,n,r=e.type,i=e.pointerType;"touch"===i?(n=Math.floor(e.pointers[0].clientY),t=Math.floor(e.pointers[0].clientX)):(n=Math.floor(e.srcEvent.y),t=Math.floor(e.srcEvent.x));var o=this.mapService.getMapContainer();if(o){var a=o.getBoundingClientRect(),s=a.top,l=a.left;t-=l,n-=s}var u=this.mapService.containerToLngLat([t,n]);return{x:t,y:n,lngLat:u,type:r,target:e.srcEvent}}},{key:"isDoubleTap",value:function(e,t,n){var r=this,i=(new Date).getTime(),o="click";i-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-e)<10&&Math.abs(this.lastClickXY[1]-t)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),o="dblclick",this.emit(tt.Hover,{x:e,y:t,lngLat:n,type:o})):(this.lastClickTime=i,this.lastClickXY=[e,t],this.clickTimer=setTimeout((function(){o="click",r.emit(tt.Hover,{x:e,y:t,lngLat:n,type:o})}),400))}}]),n}(i.a),at=We()(ot.prototype,"mapService",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=ot))||it),Mt=n("yXPU"),Tt=n.n(Mt),Lt=n("o0o1"),It=n.n(Lt),Dt=0;function Rt(e){if(v["F"])return null;var t=e;if("string"===typeof e&&(t=document.getElementById(e)),t){var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      z-index:2;\n      height: 100%;\n      width: 100%;\n      pointer-events: none;\n    ",n.id="l7-scene-".concat(Dt++),n.classList.add("l7-scene"),t.appendChild(n),n}return null}function Nt(e){var t,n,r=!0;return null===e||void 0===e||null===(t=e.target)||void 0===t||null===(n=t.path)||void 0===n||n.map((function(e){var t;null!==e&&void 0!==e&&e.classList&&(null===e||void 0===e||null===(t=e.classList)||void 0===t||t.forEach((function(e){"l7-marker"!==e&&"l7-popup"!==e||(r=!1)})))})),r}function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(function(e){e[e["DEPTH_BUFFER_BIT"]=256]="DEPTH_BUFFER_BIT",e[e["STENCIL_BUFFER_BIT"]=1024]="STENCIL_BUFFER_BIT",e[e["COLOR_BUFFER_BIT"]=16384]="COLOR_BUFFER_BIT",e[e["POINTS"]=0]="POINTS",e[e["LINES"]=1]="LINES",e[e["LINE_LOOP"]=2]="LINE_LOOP",e[e["LINE_STRIP"]=3]="LINE_STRIP",e[e["TRIANGLES"]=4]="TRIANGLES",e[e["TRIANGLE_STRIP"]=5]="TRIANGLE_STRIP",e[e["TRIANGLE_FAN"]=6]="TRIANGLE_FAN",e[e["ZERO"]=0]="ZERO",e[e["ONE"]=1]="ONE",e[e["SRC_COLOR"]=768]="SRC_COLOR",e[e["ONE_MINUS_SRC_COLOR"]=769]="ONE_MINUS_SRC_COLOR",e[e["SRC_ALPHA"]=770]="SRC_ALPHA",e[e["ONE_MINUS_SRC_ALPHA"]=771]="ONE_MINUS_SRC_ALPHA",e[e["DST_ALPHA"]=772]="DST_ALPHA",e[e["ONE_MINUS_DST_ALPHA"]=773]="ONE_MINUS_DST_ALPHA",e[e["DST_COLOR"]=774]="DST_COLOR",e[e["ONE_MINUS_DST_COLOR"]=775]="ONE_MINUS_DST_COLOR",e[e["SRC_ALPHA_SATURATE"]=776]="SRC_ALPHA_SATURATE",e[e["FUNC_ADD"]=32774]="FUNC_ADD",e[e["BLEND_EQUATION"]=32777]="BLEND_EQUATION",e[e["BLEND_EQUATION_RGB"]=32777]="BLEND_EQUATION_RGB",e[e["BLEND_EQUATION_ALPHA"]=34877]="BLEND_EQUATION_ALPHA",e[e["FUNC_SUBTRACT"]=32778]="FUNC_SUBTRACT",e[e["FUNC_REVERSE_SUBTRACT"]=32779]="FUNC_REVERSE_SUBTRACT",e[e["MAX_EXT"]=32776]="MAX_EXT",e[e["MIN_EXT"]=32775]="MIN_EXT",e[e["BLEND_DST_RGB"]=32968]="BLEND_DST_RGB",e[e["BLEND_SRC_RGB"]=32969]="BLEND_SRC_RGB",e[e["BLEND_DST_ALPHA"]=32970]="BLEND_DST_ALPHA",e[e["BLEND_SRC_ALPHA"]=32971]="BLEND_SRC_ALPHA",e[e["CONSTANT_COLOR"]=32769]="CONSTANT_COLOR",e[e["ONE_MINUS_CONSTANT_COLOR"]=32770]="ONE_MINUS_CONSTANT_COLOR",e[e["CONSTANT_ALPHA"]=32771]="CONSTANT_ALPHA",e[e["ONE_MINUS_CONSTANT_ALPHA"]=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e["BLEND_COLOR"]=32773]="BLEND_COLOR",e[e["ARRAY_BUFFER"]=34962]="ARRAY_BUFFER",e[e["ELEMENT_ARRAY_BUFFER"]=34963]="ELEMENT_ARRAY_BUFFER",e[e["ARRAY_BUFFER_BINDING"]=34964]="ARRAY_BUFFER_BINDING",e[e["ELEMENT_ARRAY_BUFFER_BINDING"]=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e["STREAM_DRAW"]=35040]="STREAM_DRAW",e[e["STATIC_DRAW"]=35044]="STATIC_DRAW",e[e["DYNAMIC_DRAW"]=35048]="DYNAMIC_DRAW",e[e["BUFFER_SIZE"]=34660]="BUFFER_SIZE",e[e["BUFFER_USAGE"]=34661]="BUFFER_USAGE",e[e["CURRENT_VERTEX_ATTRIB"]=34342]="CURRENT_VERTEX_ATTRIB",e[e["FRONT"]=1028]="FRONT",e[e["BACK"]=1029]="BACK",e[e["FRONT_AND_BACK"]=1032]="FRONT_AND_BACK",e[e["CULL_FACE"]=2884]="CULL_FACE",e[e["BLEND"]=3042]="BLEND",e[e["DITHER"]=3024]="DITHER",e[e["STENCIL_TEST"]=2960]="STENCIL_TEST",e[e["DEPTH_TEST"]=2929]="DEPTH_TEST",e[e["SCISSOR_TEST"]=3089]="SCISSOR_TEST",e[e["POLYGON_OFFSET_FILL"]=32823]="POLYGON_OFFSET_FILL",e[e["SAMPLE_ALPHA_TO_COVERAGE"]=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e["SAMPLE_COVERAGE"]=32928]="SAMPLE_COVERAGE",e[e["NO_ERROR"]=0]="NO_ERROR",e[e["INVALID_ENUM"]=1280]="INVALID_ENUM",e[e["INVALID_VALUE"]=1281]="INVALID_VALUE",e[e["INVALID_OPERATION"]=1282]="INVALID_OPERATION",e[e["OUT_OF_MEMORY"]=1285]="OUT_OF_MEMORY",e[e["CW"]=2304]="CW",e[e["CCW"]=2305]="CCW",e[e["LINE_WIDTH"]=2849]="LINE_WIDTH",e[e["ALIASED_POINT_SIZE_RANGE"]=33901]="ALIASED_POINT_SIZE_RANGE",e[e["ALIASED_LINE_WIDTH_RANGE"]=33902]="ALIASED_LINE_WIDTH_RANGE",e[e["CULL_FACE_MODE"]=2885]="CULL_FACE_MODE",e[e["FRONT_FACE"]=2886]="FRONT_FACE",e[e["DEPTH_RANGE"]=2928]="DEPTH_RANGE",e[e["DEPTH_WRITEMASK"]=2930]="DEPTH_WRITEMASK",e[e["DEPTH_CLEAR_VALUE"]=2931]="DEPTH_CLEAR_VALUE",e[e["DEPTH_FUNC"]=2932]="DEPTH_FUNC",e[e["STENCIL_CLEAR_VALUE"]=2961]="STENCIL_CLEAR_VALUE",e[e["STENCIL_FUNC"]=2962]="STENCIL_FUNC",e[e["STENCIL_FAIL"]=2964]="STENCIL_FAIL",e[e["STENCIL_PASS_DEPTH_FAIL"]=2965]="STENCIL_PASS_DEPTH_FAIL",e[e["STENCIL_PASS_DEPTH_PASS"]=2966]="STENCIL_PASS_DEPTH_PASS",e[e["STENCIL_REF"]=2967]="STENCIL_REF",e[e["STENCIL_VALUE_MASK"]=2963]="STENCIL_VALUE_MASK",e[e["STENCIL_WRITEMASK"]=2968]="STENCIL_WRITEMASK",e[e["STENCIL_BACK_FUNC"]=34816]="STENCIL_BACK_FUNC",e[e["STENCIL_BACK_FAIL"]=34817]="STENCIL_BACK_FAIL",e[e["STENCIL_BACK_PASS_DEPTH_FAIL"]=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e["STENCIL_BACK_PASS_DEPTH_PASS"]=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e["STENCIL_BACK_REF"]=36003]="STENCIL_BACK_REF",e[e["STENCIL_BACK_VALUE_MASK"]=36004]="STENCIL_BACK_VALUE_MASK",e[e["STENCIL_BACK_WRITEMASK"]=36005]="STENCIL_BACK_WRITEMASK",e[e["VIEWPORT"]=2978]="VIEWPORT",e[e["SCISSOR_BOX"]=3088]="SCISSOR_BOX",e[e["COLOR_CLEAR_VALUE"]=3106]="COLOR_CLEAR_VALUE",e[e["COLOR_WRITEMASK"]=3107]="COLOR_WRITEMASK",e[e["UNPACK_ALIGNMENT"]=3317]="UNPACK_ALIGNMENT",e[e["PACK_ALIGNMENT"]=3333]="PACK_ALIGNMENT",e[e["MAX_TEXTURE_SIZE"]=3379]="MAX_TEXTURE_SIZE",e[e["MAX_VIEWPORT_DIMS"]=3386]="MAX_VIEWPORT_DIMS",e[e["SUBPIXEL_BITS"]=3408]="SUBPIXEL_BITS",e[e["RED_BITS"]=3410]="RED_BITS",e[e["GREEN_BITS"]=3411]="GREEN_BITS",e[e["BLUE_BITS"]=3412]="BLUE_BITS",e[e["ALPHA_BITS"]=3413]="ALPHA_BITS",e[e["DEPTH_BITS"]=3414]="DEPTH_BITS",e[e["STENCIL_BITS"]=3415]="STENCIL_BITS",e[e["POLYGON_OFFSET_UNITS"]=10752]="POLYGON_OFFSET_UNITS",e[e["POLYGON_OFFSET_FACTOR"]=32824]="POLYGON_OFFSET_FACTOR",e[e["TEXTURE_BINDING_2D"]=32873]="TEXTURE_BINDING_2D",e[e["SAMPLE_BUFFERS"]=32936]="SAMPLE_BUFFERS",e[e["SAMPLES"]=32937]="SAMPLES",e[e["SAMPLE_COVERAGE_VALUE"]=32938]="SAMPLE_COVERAGE_VALUE",e[e["SAMPLE_COVERAGE_INVERT"]=32939]="SAMPLE_COVERAGE_INVERT",e[e["COMPRESSED_TEXTURE_FORMATS"]=34467]="COMPRESSED_TEXTURE_FORMATS",e[e["DONT_CARE"]=4352]="DONT_CARE",e[e["FASTEST"]=4353]="FASTEST",e[e["NICEST"]=4354]="NICEST",e[e["GENERATE_MIPMAP_HINT"]=33170]="GENERATE_MIPMAP_HINT",e[e["BYTE"]=5120]="BYTE",e[e["UNSIGNED_BYTE"]=5121]="UNSIGNED_BYTE",e[e["SHORT"]=5122]="SHORT",e[e["UNSIGNED_SHORT"]=5123]="UNSIGNED_SHORT",e[e["INT"]=5124]="INT",e[e["UNSIGNED_INT"]=5125]="UNSIGNED_INT",e[e["FLOAT"]=5126]="FLOAT",e[e["DEPTH_COMPONENT"]=6402]="DEPTH_COMPONENT",e[e["ALPHA"]=6406]="ALPHA",e[e["RGB"]=6407]="RGB",e[e["RGBA"]=6408]="RGBA",e[e["LUMINANCE"]=6409]="LUMINANCE",e[e["LUMINANCE_ALPHA"]=6410]="LUMINANCE_ALPHA",e[e["UNSIGNED_SHORT_4_4_4_4"]=32819]="UNSIGNED_SHORT_4_4_4_4",e[e["UNSIGNED_SHORT_5_5_5_1"]=32820]="UNSIGNED_SHORT_5_5_5_1",e[e["UNSIGNED_SHORT_5_6_5"]=33635]="UNSIGNED_SHORT_5_6_5",e[e["FRAGMENT_SHADER"]=35632]="FRAGMENT_SHADER",e[e["VERTEX_SHADER"]=35633]="VERTEX_SHADER",e[e["MAX_VERTEX_ATTRIBS"]=34921]="MAX_VERTEX_ATTRIBS",e[e["MAX_VERTEX_UNIFORM_VECTORS"]=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e["MAX_VARYING_VECTORS"]=36348]="MAX_VARYING_VECTORS",e[e["MAX_COMBINED_TEXTURE_IMAGE_UNITS"]=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e["MAX_VERTEX_TEXTURE_IMAGE_UNITS"]=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e["MAX_TEXTURE_IMAGE_UNITS"]=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e["MAX_FRAGMENT_UNIFORM_VECTORS"]=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e["SHADER_TYPE"]=35663]="SHADER_TYPE",e[e["DELETE_STATUS"]=35712]="DELETE_STATUS",e[e["LINK_STATUS"]=35714]="LINK_STATUS",e[e["VALIDATE_STATUS"]=35715]="VALIDATE_STATUS",e[e["ATTACHED_SHADERS"]=35717]="ATTACHED_SHADERS",e[e["ACTIVE_UNIFORMS"]=35718]="ACTIVE_UNIFORMS",e[e["ACTIVE_ATTRIBUTES"]=35721]="ACTIVE_ATTRIBUTES",e[e["SHADING_LANGUAGE_VERSION"]=35724]="SHADING_LANGUAGE_VERSION",e[e["CURRENT_PROGRAM"]=35725]="CURRENT_PROGRAM",e[e["NEVER"]=512]="NEVER",e[e["LESS"]=513]="LESS",e[e["EQUAL"]=514]="EQUAL",e[e["LEQUAL"]=515]="LEQUAL",e[e["GREATER"]=516]="GREATER",e[e["NOTEQUAL"]=517]="NOTEQUAL",e[e["GEQUAL"]=518]="GEQUAL",e[e["ALWAYS"]=519]="ALWAYS",e[e["KEEP"]=7680]="KEEP",e[e["REPLACE"]=7681]="REPLACE",e[e["INCR"]=7682]="INCR",e[e["DECR"]=7683]="DECR",e[e["INVERT"]=5386]="INVERT",e[e["INCR_WRAP"]=34055]="INCR_WRAP",e[e["DECR_WRAP"]=34056]="DECR_WRAP",e[e["VENDOR"]=7936]="VENDOR",e[e["RENDERER"]=7937]="RENDERER",e[e["VERSION"]=7938]="VERSION",e[e["NEAREST"]=9728]="NEAREST",e[e["LINEAR"]=9729]="LINEAR",e[e["NEAREST_MIPMAP_NEAREST"]=9984]="NEAREST_MIPMAP_NEAREST",e[e["LINEAR_MIPMAP_NEAREST"]=9985]="LINEAR_MIPMAP_NEAREST",e[e["NEAREST_MIPMAP_LINEAR"]=9986]="NEAREST_MIPMAP_LINEAR",e[e["LINEAR_MIPMAP_LINEAR"]=9987]="LINEAR_MIPMAP_LINEAR",e[e["TEXTURE_MAG_FILTER"]=10240]="TEXTURE_MAG_FILTER",e[e["TEXTURE_MIN_FILTER"]=10241]="TEXTURE_MIN_FILTER",e[e["TEXTURE_WRAP_S"]=10242]="TEXTURE_WRAP_S",e[e["TEXTURE_WRAP_T"]=10243]="TEXTURE_WRAP_T",e[e["TEXTURE_2D"]=3553]="TEXTURE_2D",e[e["TEXTURE"]=5890]="TEXTURE",e[e["TEXTURE_CUBE_MAP"]=34067]="TEXTURE_CUBE_MAP",e[e["TEXTURE_BINDING_CUBE_MAP"]=34068]="TEXTURE_BINDING_CUBE_MAP",e[e["TEXTURE_CUBE_MAP_POSITIVE_X"]=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e["TEXTURE_CUBE_MAP_NEGATIVE_X"]=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e["TEXTURE_CUBE_MAP_POSITIVE_Y"]=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e["TEXTURE_CUBE_MAP_NEGATIVE_Y"]=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e["TEXTURE_CUBE_MAP_POSITIVE_Z"]=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e["TEXTURE_CUBE_MAP_NEGATIVE_Z"]=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e["MAX_CUBE_MAP_TEXTURE_SIZE"]=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e["TEXTURE0"]=33984]="TEXTURE0",e[e["TEXTURE1"]=33985]="TEXTURE1",e[e["TEXTURE2"]=33986]="TEXTURE2",e[e["TEXTURE3"]=33987]="TEXTURE3",e[e["TEXTURE4"]=33988]="TEXTURE4",e[e["TEXTURE5"]=33989]="TEXTURE5",e[e["TEXTURE6"]=33990]="TEXTURE6",e[e["TEXTURE7"]=33991]="TEXTURE7",e[e["TEXTURE8"]=33992]="TEXTURE8",e[e["TEXTURE9"]=33993]="TEXTURE9",e[e["TEXTURE10"]=33994]="TEXTURE10",e[e["TEXTURE11"]=33995]="TEXTURE11",e[e["TEXTURE12"]=33996]="TEXTURE12",e[e["TEXTURE13"]=33997]="TEXTURE13",e[e["TEXTURE14"]=33998]="TEXTURE14",e[e["TEXTURE15"]=33999]="TEXTURE15",e[e["TEXTURE16"]=34e3]="TEXTURE16",e[e["TEXTURE17"]=34001]="TEXTURE17",e[e["TEXTURE18"]=34002]="TEXTURE18",e[e["TEXTURE19"]=34003]="TEXTURE19",e[e["TEXTURE20"]=34004]="TEXTURE20",e[e["TEXTURE21"]=34005]="TEXTURE21",e[e["TEXTURE22"]=34006]="TEXTURE22",e[e["TEXTURE23"]=34007]="TEXTURE23",e[e["TEXTURE24"]=34008]="TEXTURE24",e[e["TEXTURE25"]=34009]="TEXTURE25",e[e["TEXTURE26"]=34010]="TEXTURE26",e[e["TEXTURE27"]=34011]="TEXTURE27",e[e["TEXTURE28"]=34012]="TEXTURE28",e[e["TEXTURE29"]=34013]="TEXTURE29",e[e["TEXTURE30"]=34014]="TEXTURE30",e[e["TEXTURE31"]=34015]="TEXTURE31",e[e["ACTIVE_TEXTURE"]=34016]="ACTIVE_TEXTURE",e[e["REPEAT"]=10497]="REPEAT",e[e["CLAMP_TO_EDGE"]=33071]="CLAMP_TO_EDGE",e[e["MIRRORED_REPEAT"]=33648]="MIRRORED_REPEAT",e[e["FLOAT_VEC2"]=35664]="FLOAT_VEC2",e[e["FLOAT_VEC3"]=35665]="FLOAT_VEC3",e[e["FLOAT_VEC4"]=35666]="FLOAT_VEC4",e[e["INT_VEC2"]=35667]="INT_VEC2",e[e["INT_VEC3"]=35668]="INT_VEC3",e[e["INT_VEC4"]=35669]="INT_VEC4",e[e["BOOL"]=35670]="BOOL",e[e["BOOL_VEC2"]=35671]="BOOL_VEC2",e[e["BOOL_VEC3"]=35672]="BOOL_VEC3",e[e["BOOL_VEC4"]=35673]="BOOL_VEC4",e[e["FLOAT_MAT2"]=35674]="FLOAT_MAT2",e[e["FLOAT_MAT3"]=35675]="FLOAT_MAT3",e[e["FLOAT_MAT4"]=35676]="FLOAT_MAT4",e[e["SAMPLER_2D"]=35678]="SAMPLER_2D",e[e["SAMPLER_CUBE"]=35680]="SAMPLER_CUBE",e[e["VERTEX_ATTRIB_ARRAY_ENABLED"]=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e["VERTEX_ATTRIB_ARRAY_SIZE"]=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e["VERTEX_ATTRIB_ARRAY_STRIDE"]=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e["VERTEX_ATTRIB_ARRAY_TYPE"]=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e["VERTEX_ATTRIB_ARRAY_NORMALIZED"]=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e["VERTEX_ATTRIB_ARRAY_POINTER"]=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e["VERTEX_ATTRIB_ARRAY_BUFFER_BINDING"]=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e["COMPILE_STATUS"]=35713]="COMPILE_STATUS",e[e["LOW_FLOAT"]=36336]="LOW_FLOAT",e[e["MEDIUM_FLOAT"]=36337]="MEDIUM_FLOAT",e[e["HIGH_FLOAT"]=36338]="HIGH_FLOAT",e[e["LOW_INT"]=36339]="LOW_INT",e[e["MEDIUM_INT"]=36340]="MEDIUM_INT",e[e["HIGH_INT"]=36341]="HIGH_INT",e[e["FRAMEBUFFER"]=36160]="FRAMEBUFFER",e[e["RENDERBUFFER"]=36161]="RENDERBUFFER",e[e["RGBA4"]=32854]="RGBA4",e[e["RGB5_A1"]=32855]="RGB5_A1",e[e["RGB565"]=36194]="RGB565",e[e["DEPTH_COMPONENT16"]=33189]="DEPTH_COMPONENT16",e[e["STENCIL_INDEX"]=6401]="STENCIL_INDEX",e[e["STENCIL_INDEX8"]=36168]="STENCIL_INDEX8",e[e["DEPTH_STENCIL"]=34041]="DEPTH_STENCIL",e[e["RENDERBUFFER_WIDTH"]=36162]="RENDERBUFFER_WIDTH",e[e["RENDERBUFFER_HEIGHT"]=36163]="RENDERBUFFER_HEIGHT",e[e["RENDERBUFFER_INTERNAL_FORMAT"]=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e["RENDERBUFFER_RED_SIZE"]=36176]="RENDERBUFFER_RED_SIZE",e[e["RENDERBUFFER_GREEN_SIZE"]=36177]="RENDERBUFFER_GREEN_SIZE",e[e["RENDERBUFFER_BLUE_SIZE"]=36178]="RENDERBUFFER_BLUE_SIZE",e[e["RENDERBUFFER_ALPHA_SIZE"]=36179]="RENDERBUFFER_ALPHA_SIZE",e[e["RENDERBUFFER_DEPTH_SIZE"]=36180]="RENDERBUFFER_DEPTH_SIZE",e[e["RENDERBUFFER_STENCIL_SIZE"]=36181]="RENDERBUFFER_STENCIL_SIZE",e[e["FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE"]=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e["FRAMEBUFFER_ATTACHMENT_OBJECT_NAME"]=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e["FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL"]=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e["FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE"]=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e["COLOR_ATTACHMENT0"]=36064]="COLOR_ATTACHMENT0",e[e["DEPTH_ATTACHMENT"]=36096]="DEPTH_ATTACHMENT",e[e["STENCIL_ATTACHMENT"]=36128]="STENCIL_ATTACHMENT",e[e["DEPTH_STENCIL_ATTACHMENT"]=33306]="DEPTH_STENCIL_ATTACHMENT",e[e["NONE"]=0]="NONE",e[e["FRAMEBUFFER_COMPLETE"]=36053]="FRAMEBUFFER_COMPLETE",e[e["FRAMEBUFFER_INCOMPLETE_ATTACHMENT"]=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e["FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT"]=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e["FRAMEBUFFER_INCOMPLETE_DIMENSIONS"]=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e["FRAMEBUFFER_UNSUPPORTED"]=36061]="FRAMEBUFFER_UNSUPPORTED",e[e["FRAMEBUFFER_BINDING"]=36006]="FRAMEBUFFER_BINDING",e[e["RENDERBUFFER_BINDING"]=36007]="RENDERBUFFER_BINDING",e[e["MAX_RENDERBUFFER_SIZE"]=34024]="MAX_RENDERBUFFER_SIZE",e[e["INVALID_FRAMEBUFFER_OPERATION"]=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e["UNPACK_FLIP_Y_WEBGL"]=37440]="UNPACK_FLIP_Y_WEBGL",e[e["UNPACK_PREMULTIPLY_ALPHA_WEBGL"]=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e["CONTEXT_LOST_WEBGL"]=37442]="CONTEXT_LOST_WEBGL",e[e["UNPACK_COLORSPACE_CONVERSION_WEBGL"]=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e["BROWSER_DEFAULT_WEBGL"]=37444]="BROWSER_DEFAULT_WEBGL"})(ht||(ht={}));var Bt,Ut,zt,Ht,Vt,Gt,Wt,qt,Yt,Xt=(vt=Object(o["injectable"])(),mt=Object(o["inject"])(l.IMapService),gt=Object(o["inject"])(l.IRendererService),yt=Object(o["inject"])(l.IGlobalConfigService),bt=Object(o["inject"])(l.IInteractionService),_t=Object(o["inject"])(l.ILayerService),vt((xt=function(){function e(){var t=this;c()(this,e),h()(this,"pickedColors",void 0),h()(this,"pickedTileLayers",[]),Ve()(this,"mapService",wt,this),Ve()(this,"rendererService",St,this),Ve()(this,"configService",Ot,this),Ve()(this,"interactionService",Ct,this),Ve()(this,"layerService",At,this),h()(this,"pickingFBO",void 0),h()(this,"width",0),h()(this,"height",0),h()(this,"alreadyInPicking",!1),h()(this,"pickBufferScale",1),h()(this,"pickedLayers",[]),h()(this,"pickFromPickingFBO",(function(e,n){var r,i=n.x,o=n.y,a=n.lngLat,s=n.type,l=n.target,u=!1,c=t.rendererService,f=(c.getViewportSize,c.readPixels),p=c.getContainer,d=t.getContainerSize(p()),h=d.width,m=d.height;h*=v["b"].DPR,m*=v["b"].DPR;var g,y=e.getLayerConfig(),b=y.enableHighlight,_=y.enableSelect,E=i*v["b"].DPR,x=o*v["b"].DPR;if(E>h-1*v["b"].DPR||E<0||x>m-1*v["b"].DPR||x<0)return!1;if(g=f({x:Math.floor(E/t.pickBufferScale),y:Math.floor((m-(o+1)*v["b"].DPR)/t.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}),t.pickedColors=g,0!==g[0]||0!==g[1]||0!==g[2]){var w=Object(v["s"])(g),S=e.getSource().getFeatureById(w);w!==e.getCurrentPickId()&&"mousemove"===s&&(s="mouseenter");var O={x:i,y:o,type:s,lngLat:a,featureId:w,feature:S,target:l};S&&(u=!0,e.setCurrentPickId(w),t.pickedLayers=[e],t.triggerHoverOnLayer(e,O))}else{var C={x:i,y:o,lngLat:a,type:null!==e.getCurrentPickId()&&"mousemove"===s?"mouseout":"un"+s,featureId:null,target:l,feature:null};t.triggerHoverOnLayer(e,Ft(Ft({},C),{},{type:"unpick"})),t.triggerHoverOnLayer(e,C),e.setCurrentPickId(null),t.pickedLayers=[]}if(b&&t.highlightPickedFeature(e,g),_&&"click"===s&&(null===(r=g)||void 0===r?void 0:r.toString())!==[0,0,0,0].toString()){var A=Object(v["s"])(g);null===e.getCurrentSelectedId()||A!==e.getCurrentSelectedId()?(t.selectFeature(e,g),e.setCurrentSelectedId(A)):(t.selectFeature(e,new Uint8Array([0,0,0,0])),e.setCurrentSelectedId(null)),e.isVector||t.layerService.getLayers().filter((function(e){return e.tileLayer})).map((function(e){e.tileLayer.clearPickState()}))}return u}))}return p()(e,[{key:"init",value:function(e){var t=this.rendererService,n=t.createTexture2D,r=t.createFramebuffer,i=(t.getViewportSize,t.getContainer),o=this.getContainerSize(i()),a=o.width,s=o.height;a*=v["b"].DPR,s*=v["b"].DPR,this.pickBufferScale=this.configService.getSceneConfig(e).pickBufferScale||1,this.pickingFBO=r({color:n({width:Math.round(a/this.pickBufferScale),height:Math.round(s/this.pickBufferScale),wrapS:ht.CLAMP_TO_EDGE,wrapT:ht.CLAMP_TO_EDGE})}),this.interactionService.on(tt.Hover,this.pickingAllLayer.bind(this))}},{key:"boxPickLayer",value:function(){var e=Tt()(It.a.mark((function e(t,n,r){var i,o,a,s=this;return It.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=this.rendererService,o=i.useFramebuffer,a=i.clear,i.getContainer,this.resizePickingFBO(),o(this.pickingFBO,(function(){a({framebuffer:s.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),t.hooks.beforePickingEncode.call(),t.renderModels(),t.hooks.afterPickingEncode.call();var e=s.pickBox(t,n);r(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"pickBox",value:function(e,t){var n,r=this,i=t.map((function(e){var t=e<0?0:e;return Math.floor(t*v["b"].DPR/r.pickBufferScale)})),o=ge()(i,4),a=o[0],s=o[1],l=o[2],u=o[3],c=this.rendererService,f=(c.getViewportSize,c.readPixels),p=c.getContainer,d=this.getContainerSize(p()),h=d.width,m=d.height;if(h*=v["b"].DPR,m*=v["b"].DPR,a>(h-1)*v["b"].DPR/this.pickBufferScale||l<0||s>(m-1)*v["b"].DPR/this.pickBufferScale||u<0)return[];var g=Math.min(h/this.pickBufferScale,l)-a,y=Math.min(m/this.pickBufferScale,u)-s;n=f({x:a,y:Math.floor(m/this.pickBufferScale-(u+1)),width:g,height:y,data:new Uint8Array(g*y*4),framebuffer:this.pickingFBO});for(var b=[],_={},E=0;E<n.length/4;E+=1){var x=n.slice(4*E,4*E+4),w=Object(v["s"])(x);if(-1!==w&&!_[w]){var S=e.getSource().getFeatureById(w);b.push(Ft(Ft({},S),{},{pickedFeatureIdx:w})),_[w]=!0}}return b}},{key:"handleCursor",value:function(e,t){var n=e.getLayerConfig(),r=n.cursor,i=void 0===r?"":r,o=n.cursorEnabled;if(o){var a=this.mapService.version,s="GAODE2.x"===a?this.mapService.getMapContainer():this.mapService.getMarkerContainer(),l=null===s||void 0===s?void 0:s.style.getPropertyValue("cursor");"unmousemove"===t&&""!==l?null===s||void 0===s||s.style.setProperty("cursor",""):"mousemove"===t&&(null===s||void 0===s||s.style.setProperty("cursor",i))}}},{key:"destroy",value:function(){this.pickingFBO.destroy(),this.pickingFBO=null}},{key:"getContainerSize",value:function(e){return e.getContext?{width:e.width/v["b"].DPR,height:e.height/v["b"].DPR}:e.getBoundingClientRect()}},{key:"pickingAllLayer",value:function(){var e=Tt()(It.a.mark((function e(t){return It.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.alreadyInPicking||this.layerService.alreadyInRendering||this.interactionService.indragging)&&this.layerService.getShaderPickStat()){e.next=2;break}return e.abrupt("return");case 2:return this.alreadyInPicking=!0,e.next=5,this.pickingLayers(t);case 5:this.layerService.renderLayers(),this.alreadyInPicking=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resizePickingFBO",value:function(){var e=this.rendererService.getContainer,t=this.getContainerSize(e()),n=t.width,r=t.height;n*=v["b"].DPR,r*=v["b"].DPR,this.width===n&&this.height===r||(this.pickingFBO.resize({width:Math.round(n/this.pickBufferScale),height:Math.round(r/this.pickBufferScale)}),this.width=n,this.height=r)}},{key:"pickingLayers",value:function(){var e=Tt()(It.a.mark((function e(t){var n,r,i,o=this;return It.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=this.rendererService,n.getViewportSize,r=n.useFramebuffer,i=n.clear,n.getContainer,this.resizePickingFBO(),r(this.pickingFBO,(function(){var e=o.layerService.getRenderList();e.filter((function(e){return e.needPick(t.type)})).reverse().some((function(e){if(i({framebuffer:o.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),o.pickedLayers.filter((function(e){return!e.isVector})).map((function(e){o.selectFeature(e,new Uint8Array([0,0,0,0]))})),o.pickedTileLayers.map((function(e){var n;return null===(n=e.tileLayer)||void 0===n?void 0:n.clearPick(t.type)})),e.tileLayer)return e.tileLayer.pickLayers(t);e.hooks.beforePickingEncode.call(),e.masks.length>0&&e.masks.map((function(e){e.hooks.beforeRenderData.call(),e.hooks.beforeRender.call(),e.render(),e.hooks.afterRender.call()})),e.renderModels(!0),e.hooks.afterPickingEncode.call();var n=o.pickFromPickingFBO(e,t);return o.layerService.pickedLayerId=n?+e.id:-1,n&&!e.getLayerConfig().enablePropagation}))}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"triggerHoverOnLayer",value:function(e,t){Nt(t)&&(this.handleCursor(e,t.type),e.emit(t.type,t))}},{key:"highlightPickedFeature",value:function(e,t){var n=ge()(t,3),r=n[0],i=n[1],o=n[2];e.hooks.beforeHighlight.call([r,i,o])}},{key:"selectFeature",value:function(e,t){var n=ge()(t,3),r=n[0],i=n[1],o=n[2];e.hooks.beforeSelect.call([r,i,o])}}]),e}(),wt=We()(xt.prototype,"mapService",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=We()(xt.prototype,"rendererService",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=We()(xt.prototype,"configService",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=We()(xt.prototype,"interactionService",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=We()(xt.prototype,"layerService",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=xt))||Et),Kt=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];c()(this,e),h()(this,"autoStart",void 0),h()(this,"startTime",0),h()(this,"oldTime",0),h()(this,"running",!1),h()(this,"elapsedTime",0),this.autoStart=t}return p()(e,[{key:"start",value:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function Zt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Qt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function Qt(e,t){if(e){if("string"===typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jt(e,t):void 0}}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $t,en,tn,nn,rn,on,an=(Bt=Object(o["injectable"])(),Ut=Object(o["inject"])(l.IRendererService),zt=Object(o["inject"])(l.IMapService),Ht=Object(o["inject"])(l.IGlobalConfigService),Bt((Gt=function(){function e(){c()(this,e),h()(this,"pickedLayerId",-1),h()(this,"clock",new Kt),h()(this,"alreadyInRendering",!1),h()(this,"layers",[]),h()(this,"layerList",[]),h()(this,"layerRenderID",void 0),h()(this,"sceneInited",!1),h()(this,"animateInstanceCount",0),h()(this,"shaderPicking",!0),h()(this,"enableRender",!0),Ve()(this,"renderService",Wt,this),Ve()(this,"mapService",qt,this),Ve()(this,"configService",Yt,this)}return p()(e,[{key:"add",value:function(e){this.sceneInited&&e.init(),this.layers.push(e),this.updateLayerRenderList()}},{key:"addMask",value:function(e){this.sceneInited&&e.init()}},{key:"initLayers",value:function(){this.sceneInited=!0,this.layers.forEach((function(e){e.inited||e.init()})),this.updateLayerRenderList()}},{key:"getSceneInited",value:function(){return this.sceneInited}},{key:"getRenderList",value:function(){return this.layerList}},{key:"getLayers",value:function(){return this.layers}},{key:"getLayer",value:function(e){return this.layers.find((function(t){return t.id===e}))}},{key:"getLayerByName",value:function(e){return this.layers.find((function(t){return t.name===e}))}},{key:"cleanRemove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.layers.indexOf(e);n>-1&&this.layers.splice(n,1),t&&(this.updateLayerRenderList(),this.renderLayers())}},{key:"remove",value:function(e,t){if(t){var n=t.layerChildren.indexOf(e);n>-1&&t.layerChildren.splice(n,1)}else{var r=this.layers.indexOf(e);r>-1&&this.layers.splice(r,1)}this.updateLayerRenderList(),e.destroy(),this.renderLayers()}},{key:"removeAllLayers",value:function(){this.destroy()}},{key:"setEnableRender",value:function(e){this.enableRender=e}},{key:"renderLayers",value:function(){var e=Tt()(It.a.mark((function e(){var t,n,r;return It.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.alreadyInRendering&&this.enableRender){e.next=2;break}return e.abrupt("return");case 2:this.alreadyInRendering=!0,this.clear(),t=Zt(this.layerList),e.prev=5,t.s();case 7:if((n=t.n()).done){e.next=21;break}if(r=n.value,r.hooks.beforeRenderData.call(),r.hooks.beforeRender.call(),r.masks.length>0&&(this.renderService.clear({stencil:0,depth:1,framebuffer:null}),r.masks.map((function(e){e.hooks.beforeRenderData.call(),e.hooks.beforeRender.call(),e.render(),e.hooks.afterRender.call()}))),!r.getLayerConfig().enableMultiPassRenderer){e.next=17;break}return e.next=15,r.renderMultiPass();case 15:e.next=18;break;case 17:r.render();case 18:r.hooks.afterRender.call();case 19:e.next=7;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](5),t.e(e.t0);case 26:return e.prev=26,t.f(),e.finish(26);case 29:this.alreadyInRendering=!1;case 30:case"end":return e.stop()}}),e,this,[[5,23,26,29]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateLayerRenderList",value:function(){var e=this;this.layerList=[],this.layers.filter((function(e){return e.inited})).filter((function(e){return e.isVisible()})).sort((function(e,t){return e.zIndex-t.zIndex})).forEach((function(t){e.layerList.push(t)}))}},{key:"destroy",value:function(){this.layers.forEach((function(e){e.destroy()})),this.layers=[],this.layerList=[],this.renderLayers()}},{key:"startAnimate",value:function(){0===this.animateInstanceCount++&&(this.clock.start(),this.runRender())}},{key:"stopAnimate",value:function(){0===--this.animateInstanceCount&&(this.stopRender(),this.clock.stop())}},{key:"getOESTextureFloat",value:function(){return this.renderService.extensionObject.OES_texture_float}},{key:"enableShaderPick",value:function(){this.shaderPicking=!0}},{key:"disableShaderPick",value:function(){this.shaderPicking=!1}},{key:"getShaderPickStat",value:function(){return this.shaderPicking}},{key:"clear",value:function(){var e=Object(v["M"])(this.mapService.bgColor);this.renderService.clear({color:e,depth:1,stencil:0,framebuffer:null})}},{key:"runRender",value:function(){this.renderLayers(),this.layerRenderID=v["a"].requestAnimationFrame(this.runRender.bind(this))}},{key:"stopRender",value:function(){v["a"].cancelAnimationFrame(this.layerRenderID)}}]),e}(),Wt=We()(Gt.prototype,"renderService",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qt=We()(Gt.prototype,"mapService",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yt=We()(Gt.prototype,"configService",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vt=Gt))||Vt),sn=n("QILm"),ln=n.n(sn),un=n("RIqP"),cn=n.n(un),fn=n("J2iB"),pn=n.n(fn),dn=function(){function e(t){var n=this;c()(this,e),h()(this,"name",void 0),h()(this,"type",void 0),h()(this,"scale",void 0),h()(this,"descriptor",void 0),h()(this,"featureBufferLayout",[]),h()(this,"needRescale",!1),h()(this,"needRemapping",!1),h()(this,"needRegenerateVertices",!1),h()(this,"featureRange",{startIndex:0,endIndex:1/0}),h()(this,"vertexAttribute",void 0),h()(this,"defaultCallback",(function(e){var t;return 0===e.length?(null===(t=n.scale)||void 0===t?void 0:t.defaultValues)||[]:e.map((function(e,t){var r,i=null===(r=n.scale)||void 0===r?void 0:r.scalers[t].func,o=i(e);return o}))})),this.setProps(t)}return p()(e,[{key:"setProps",value:function(e){Object.assign(this,e)}},{key:"mapping",value:function(e){var t;if(null!==(t=this.scale)&&void 0!==t&&t.callback){var n,r=null===(n=this.scale)||void 0===n?void 0:n.callback.apply(n,cn()(e));if(!pn()(r))return[r]}return this.defaultCallback(e)}},{key:"resetDescriptor",value:function(){this.descriptor&&(this.descriptor.buffer.data=[])}}]),e}(),hn=["modelType"],vn=["buffer","update","name"],mn=["buffer","update","name"],gn=["buffer","update","name"];function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _n,En,xn,wn,Sn,On,Cn,An,Pn,kn,Mn,Tn,Ln,In,Dn,Rn,Nn,jn,Fn,Bn,Un,zn,Hn,Vn,Gn,Wn,qn,Yn,Xn,Kn,Zn,Qn,Jn,$n=($t={},h()($t,ht.FLOAT,4),h()($t,ht.UNSIGNED_BYTE,1),h()($t,ht.UNSIGNED_SHORT,2),$t),er=(en=Object(o["injectable"])(),tn=Object(o["inject"])(l.IRendererService),en((rn=function(){function e(){c()(this,e),h()(this,"attributesAndIndices",void 0),Ve()(this,"rendererService",on,this),h()(this,"attributes",[]),h()(this,"triangulation",void 0),h()(this,"featureLayout",{sizePerElement:0,elements:[]})}return p()(e,[{key:"registerStyleAttribute",value:function(e){var t=this.getLayerStyleAttribute(e.name||"");return t?t.setProps(e):(t=new dn(e),this.attributes.push(t)),t}},{key:"updateStyleAttribute",value:function(e,t,n){var r=this.getLayerStyleAttribute(e);r||(r=this.registerStyleAttribute(bn(bn({},t),{},{name:e})));var i=t.scale;i&&r&&(r.scale=i,r.needRescale=!0,r.needRemapping=!0,r.needRegenerateVertices=!0,n&&n.featureRange&&(r.featureRange=n.featureRange))}},{key:"getLayerStyleAttributes",value:function(){return this.attributes}},{key:"getLayerStyleAttribute",value:function(e){return this.attributes.find((function(t){return t.name===e}))}},{key:"getLayerAttributeScale",value:function(e){var t,n=this.getLayerStyleAttribute(e),r=null===n||void 0===n||null===(t=n.scale)||void 0===t?void 0:t.scalers;return r&&r[0]?r[0].func:null}},{key:"updateAttributeByFeatureRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=this.attributes.find((function(t){return t.name===e}));if(i&&i.descriptor){var o=i.descriptor,a=o.update,s=o.buffer,l=o.size,u=void 0===l?0:l,c=$n[s.type||ht.FLOAT];if(a){var f=this.featureLayout,p=f.elements,d=f.sizePerElement,h=p.slice(n,r);if(!h.length)return;var v=h[0].offset,m=v*u*c,g=h.map((function(e,n){for(var r=e.featureIdx,i=e.vertices,o=e.normals,s=i.length/d,l=[],u=0;u<s;u++){var c=o?o.slice(3*u,3*u+3):[];l.push.apply(l,cn()(a(t[r],r,i.slice(u*d,u*d+d),n,c)))}return l})).reduce((function(e,t){return e.push.apply(e,cn()(t)),e}),[]);i.vertexAttribute.updateBuffer({data:g,offset:m})}}}},{key:"createAttributesAndIndicesAscy",value:function(e,t,n){var r=this;this.featureLayout={sizePerElement:0,elements:[]};var i=this.attributes.map((function(e){return e.resetDescriptor(),e.descriptor})).filter((function(e){return e})),o=n.modelType,a=ln()(n,hn),s=this.rendererService,l=s.createAttribute,u=s.createBuffer,c=s.createElements,f={};return new Promise((function(n,s){Object(v["u"])(o,bn({descriptors:r.getDescriptorsWithOutFunc(i),features:e,segmentNumber:t},a)).then((function(e){e.descriptors.forEach((function(e,t){if(e){var n=e.buffer,i=(e.update,e.name,ln()(e,vn)),o=l(bn({buffer:u(n)},i));f[e.name||""]=o,r.attributes[t].vertexAttribute=o}})),r.featureLayout=e.featureLayout;var t=c({data:e.indices,type:ht.UNSIGNED_INT,count:e.indices.length});r.attributesAndIndices={attributes:f,elements:t},n(r.attributesAndIndices)}))["catch"]((function(e){console.warn(e),s(e)}))}))}},{key:"createAttributesAndIndices",value:function(e,t,n){var r=this;this.featureLayout={sizePerElement:0,elements:[]},t&&(this.triangulation=t);var i=this.attributes.map((function(e){return e.resetDescriptor(),e.descriptor})),o=0,a=[],s=3;e.forEach((function(e,t){var l=r.triangulation(e,n),u=l.indices,c=l.vertices,f=l.normals,p=l.size,d=l.indexes;u.forEach((function(e){a.push(e+o)})),s=p;var h=c.length/p;r.featureLayout.sizePerElement=s,r.featureLayout.elements.push({featureIdx:t,vertices:c,normals:f,offset:o}),o+=h;for(var v=function(n){var r=(null===f||void 0===f?void 0:f.slice(3*n,3*n+3))||[],o=c.slice(n*p,n*p+p),a=0;d&&void 0!==d[n]&&(a=d[n]),i.forEach((function(i,s){var l;i&&i.update&&(l=i.buffer.data).push.apply(l,cn()(i.update(e,t,o,n,r,a)))}))},m=0;m<h;m++)v(m)}));var l=this.rendererService,u=l.createAttribute,c=l.createBuffer,f=l.createElements,p={};i.forEach((function(e,t){if(e){var n=e.buffer,i=(e.update,e.name,ln()(e,mn)),o=u(bn({buffer:c(n)},i));p[e.name||""]=o,r.attributes[t].vertexAttribute=o}}));var d=f({data:a,type:ht.UNSIGNED_INT,count:a.length});return this.attributesAndIndices={attributes:p,elements:d},this.attributesAndIndices}},{key:"createAttributes",value:function(e,t){var n=this;this.featureLayout={sizePerElement:0,elements:[]},t&&(this.triangulation=t);var r=this.attributes.map((function(e){return e.resetDescriptor(),e.descriptor})),i=0,o=[],a=3;e.forEach((function(e,t){var s=n.triangulation(e),l=s.indices,u=s.vertices,c=s.normals,f=s.size,p=s.indexes;l.forEach((function(e){o.push(e+i)})),a=f;var d=u.length/f;n.featureLayout.sizePerElement=a,n.featureLayout.elements.push({featureIdx:t,vertices:u,normals:c,offset:i}),i+=d;for(var h=function(n){var i=(null===c||void 0===c?void 0:c.slice(3*n,3*n+3))||[],o=u.slice(n*f,n*f+f),a=0;p&&void 0!==p[n]&&(a=p[n]),r.forEach((function(r,s){var l;r&&r.update&&(l=r.buffer.data).push.apply(l,cn()(r.update(e,t,o,n,i,a)))}))},v=0;v<d;v++)h(v)}));var s=this.rendererService,l=s.createAttribute,u=s.createBuffer,c={};return r.forEach((function(e,t){if(e){var r=e.buffer,i=(e.update,e.name,ln()(e,gn)),o=l(bn({buffer:u(r)},i));c[e.name||""]=o,n.attributes[t].vertexAttribute=o}})),{attributes:c}}},{key:"clearAllAttributes",value:function(){var e;this.attributes.forEach((function(e){e.vertexAttribute&&e.vertexAttribute.destroy()})),null===(e=this.attributesAndIndices)||void 0===e||e.elements.destroy(),this.attributes=[]}},{key:"getDescriptorsWithOutFunc",value:function(e){return e.map((function(e){return{buffer:e.buffer,name:e.name,size:e.size}}))}}]),e}(),on=We()(rn.prototype,"rendererService",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nn=rn))||nn),tr=n("xp6e"),nr=n("iegG"),rr=n.n(nr);function ir(e){var t=or();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function or(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ar=(_n=Object(o["injectable"])(),En=Object(o["inject"])(l.SceneID),xn=Object(o["inject"])(l.IIconService),wn=Object(o["inject"])(l.IFontService),Sn=Object(o["inject"])(l.IControlService),On=Object(o["inject"])(l.IGlobalConfigService),Cn=Object(o["inject"])(l.IMapService),An=Object(o["inject"])(l.ICoordinateSystemService),Pn=Object(o["inject"])(l.IRendererService),kn=Object(o["inject"])(l.ILayerService),Mn=Object(o["inject"])(l.ICameraService),Tn=Object(o["inject"])(l.IInteractionService),Ln=Object(o["inject"])(l.IPickingService),In=Object(o["inject"])(l.IShaderModuleService),Dn=Object(o["inject"])(l.IMarkerService),Rn=Object(o["inject"])(l.IPopupService),_n((jn=function(e){te()(n,e);var t=ir(n);function n(){var e;return c()(this,n),e=t.call(this),h()($()(e),"destroyed",!1),h()($()(e),"loaded",!1),h()($()(e),"loadFont",!1),h()($()(e),"fontFamily",""),Ve()($()(e),"id",Fn,$()(e)),Ve()($()(e),"iconService",Bn,$()(e)),Ve()($()(e),"fontService",Un,$()(e)),Ve()($()(e),"controlService",zn,$()(e)),Ve()($()(e),"configService",Hn,$()(e)),Ve()($()(e),"map",Vn,$()(e)),Ve()($()(e),"coordinateSystemService",Gn,$()(e)),Ve()($()(e),"rendererService",Wn,$()(e)),Ve()($()(e),"layerService",qn,$()(e)),Ve()($()(e),"cameraService",Yn,$()(e)),Ve()($()(e),"interactionService",Xn,$()(e)),Ve()($()(e),"pickingService",Kn,$()(e)),Ve()($()(e),"shaderModuleService",Zn,$()(e)),Ve()($()(e),"markerService",Qn,$()(e)),Ve()($()(e),"popupService",Jn,$()(e)),h()($()(e),"inited",!1),h()($()(e),"initPromise",void 0),h()($()(e),"rendering",!1),h()($()(e),"$container",void 0),h()($()(e),"canvas",void 0),h()($()(e),"markerContainer",void 0),h()($()(e),"hooks",void 0),h()($()(e),"handleWindowResized",(function(){e.emit("resize"),e.$container&&(e.initContainer(),v["b"].triggerResize(),e.coordinateSystemService.needRefresh=!0,e.render())})),h()($()(e),"handleMapCameraChanged",(function(t){e.cameraService.update(t),e.render()})),e.hooks={init:new tr["a"]},e}return p()(n,[{key:"init",value:function(e){var t=this;this.configService.setSceneConfig(this.id,e),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.iconService.on("imageUpdate",(function(){return t.render()})),this.fontService.init(),this.hooks.init.tapPromise("initMap",Tt()(It.a.mark((function e(){return It.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){t.map.onCameraChanged((function(n){t.cameraService.init(),t.cameraService.update(n),"GAODE2.x"!==t.map.version&&e()})),"GAODE2.x"!==t.map.version?t.map.init():e()}));case 2:if("GAODE2.x"!==t.map.version||!t.map.initViewPort){e.next=6;break}return e.next=5,t.map.init();case 5:t.map.initViewPort();case 6:t.map.onCameraChanged(t.handleMapCameraChanged),t.map.addMarkerContainer(),t.markerService.addMarkers(),t.markerService.addMarkerLayers(),t.popupService.initPopup(),t.interactionService.init(),t.interactionService.on(tt.Drag,t.addSceneEvent.bind(t));case 13:case"end":return e.stop()}}),e)})))),this.hooks.init.tapPromise("initRenderer",Tt()(It.a.mark((function e(){var n,r;return It.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Rt(t.configService.getSceneConfig(t.id).id||""),t.$container=n,!n){e.next=11;break}return t.canvas=v["b"].create("canvas","",n),t.setCanvas(),e.next=7,t.rendererService.init(t.canvas,t.configService.getSceneConfig(t.id));case 7:rr()(t.$container,t.handleWindowResized),v["a"].matchMedia&&(null===(r=v["a"].matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)"))||void 0===r||r.addListener(t.handleWindowResized)),e.next=12;break;case 11:console.error("\u5bb9\u5668 id \u4e0d\u5b58\u5728");case 12:t.pickingService.init(t.id);case 13:case"end":return e.stop()}}),e)})))),this.initPromise=this.hooks.init.promise(),this.render()}},{key:"initMiniScene",value:function(e){var t=this;this.configService.setSceneConfig(this.id,e),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.iconService.on("imageUpdate",(function(){return t.render()})),this.fontService.init(),this.hooks.init.tapPromise("initMap",Tt()(It.a.mark((function e(){return It.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){t.map.onCameraChanged((function(n){t.cameraService.init(),t.cameraService.update(n),"GAODE2.x"!==t.map.version&&e()})),t.map.initMiniMap()}));case 2:t.map.onCameraChanged(t.handleMapCameraChanged),t.interactionService.init(),t.interactionService.on(tt.Drag,t.addSceneEvent.bind(t));case 5:case"end":return e.stop()}}),e)})))),this.hooks.init.tapPromise("initRenderer",Tt()(It.a.mark((function n(){var r;return It.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.canvas,t.$container=r||null,!t.$container){n.next=7;break}return n.next=5,t.rendererService.init(e.canvas,t.configService.getSceneConfig(t.id));case 5:n.next=8;break;case 7:console.error("\u5bb9\u5668 id \u4e0d\u5b58\u5728");case 8:t.pickingService.init(t.id);case 9:case"end":return n.stop()}}),n)})))),this.initPromise=this.hooks.init.promise(),this.render()}},{key:"addLayer",value:function(e){this.layerService.sceneService=this,this.layerService.add(e)}},{key:"addMask",value:function(e){this.layerService.sceneService=this,this.layerService.addMask(e)}},{key:"render",value:function(){var e=Tt()(It.a.mark((function e(){return It.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.rendering&&!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:if(this.rendering=!0,this.inited){e.next=23;break}return e.next=6,this.initPromise;case 6:if(this.destroyed&&this.destroy(),!this.loadFont||!document.fonts){e.next=18;break}return e.prev=8,e.next=11,document.fonts.load("24px ".concat(this.fontFamily),"L7text");case 11:e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](8),console.warn("\u5f53\u524d\u73af\u5883\u4e0d\u652f\u6301 document.fonts !"),console.warn("\u5f53\u524d\u73af\u5883\u4e0d\u652f\u6301 iconfont !"),console.warn(e.t0);case 18:this.layerService.initLayers(),this.controlService.addControls(),this.loaded=!0,this.emit("loaded"),this.inited=!0;case 23:this.layerService.updateLayerRenderList(),this.layerService.renderLayers(),this.rendering=!1;case 26:case"end":return e.stop()}}),e,this,[[8,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"addFontFace",value:function(e,t){this.fontFamily=e;var n=document.createElement("style");n.type="text/css",n.innerText="\n        @font-face{\n            font-family: '".concat(e,"';\n            src: url('").concat(t,"') format('woff2'),\n            url('").concat(t,"') format('woff'),\n            url('").concat(t,"') format('truetype');\n        }"),document.getElementsByTagName("head")[0].appendChild(n),this.loadFont=!0}},{key:"getSceneContainer",value:function(){return this.$container}},{key:"exportPng",value:function(e){var t,n=null===(t=this.$container)||void 0===t?void 0:t.getElementsByTagName("canvas")[0];this.render();var r="jpg"===e?null===n||void 0===n?void 0:n.toDataURL("image/jpeg"):null===n||void 0===n?void 0:n.toDataURL("image/png");return r}},{key:"getSceneConfig",value:function(){return this.configService.getSceneConfig(this.id)}},{key:"getPointSizeRange",value:function(){return this.rendererService.getPointSizeRange()}},{key:"addMarkerContainer",value:function(){var e=this.$container.parentElement;null!==e&&(this.markerContainer=v["b"].create("div","l7-marker-container",e))}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"destroy",value:function(){var e,t,n,r=this;this.inited?(this.emit("destroy"),this.pickingService.destroy(),this.layerService.destroy(),setTimeout((function(){var e;null===(e=r.$container)||void 0===e||e.removeChild(r.canvas),r.canvas=null,r.rendererService.destroy()})),this.map.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),this.fontService.destroy(),this.iconService.destroy(),null===(e=this.$container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(this.$container),this.removeAllListeners(),this.inited=!1,Object(nr["unbind"])(this.$container,this.handleWindowResized),v["a"].matchMedia&&(null===(n=v["a"].matchMedia("screen and (min-resolution: 2dppx)"))||void 0===n||n.removeListener(this.handleWindowResized))):this.destroyed=!0}},{key:"initContainer",value:function(){var e,t,n=v["b"].DPR,r=(null===(e=this.$container)||void 0===e?void 0:e.clientWidth)||400,i=(null===(t=this.$container)||void 0===t?void 0:t.clientHeight)||300,o=this.canvas;o&&(o.width=r*n,o.height=i*n),this.rendererService.viewport({x:0,y:0,width:n*r,height:n*i})}},{key:"setCanvas",value:function(){var e,t,n=v["b"].DPR,r=(null===(e=this.$container)||void 0===e?void 0:e.clientWidth)||400,i=(null===(t=this.$container)||void 0===t?void 0:t.clientHeight)||300,o=this.canvas;o.width=r*n,o.height=i*n,o.style.width="100%",o.style.height="100%"}},{key:"addSceneEvent",value:function(e){this.emit(e.type,e)}}]),n}(r["EventEmitter"]),Fn=We()(jn.prototype,"id",[En],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bn=We()(jn.prototype,"iconService",[xn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Un=We()(jn.prototype,"fontService",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zn=We()(jn.prototype,"controlService",[Sn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hn=We()(jn.prototype,"configService",[On],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vn=We()(jn.prototype,"map",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gn=We()(jn.prototype,"coordinateSystemService",[An],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wn=We()(jn.prototype,"rendererService",[Pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qn=We()(jn.prototype,"layerService",[kn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yn=We()(jn.prototype,"cameraService",[Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xn=We()(jn.prototype,"interactionService",[Tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kn=We()(jn.prototype,"pickingService",[Ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zn=We()(jn.prototype,"shaderModuleService",[In],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qn=We()(jn.prototype,"markerService",[Dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jn=We()(jn.prototype,"popupService",[Rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn=jn))||Nn),sr=n("7tbW"),lr=n.n(sr);function ur(e){var t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16;break;default:}return t}var cr,fr,pr=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function dr(e){var t={};return e=e.replace(pr,(function(e,n,r){var i=r.split(":"),o=i[0].trim(),a="";switch(i.length>1&&(a=i[1].trim()),n){case"bool":a="true"===a;break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a=a?a.replace("[","").replace("]","").split(",").reduce((function(e,t){return e.push(Number(t.trim())),e}),[]):new Array(ur(n)).fill(0);break;default:}return t[o]=a,"uniform ".concat(n," ").concat(o,";\n")})),{content:e,uniforms:t}}function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mr,gr,yr,br="#define PI 3.14159265359",_r="#define SHIFT_RIGHT17 1.0 / 131072.0\n#define SHIFT_RIGHT18 1.0 / 262144.0\n#define SHIFT_RIGHT19 1.0 / 524288.0\n#define SHIFT_RIGHT20 1.0 / 1048576.0\n#define SHIFT_RIGHT21 1.0 / 2097152.0\n#define SHIFT_RIGHT22 1.0 / 4194304.0\n#define SHIFT_RIGHT23 1.0 / 8388608.0\n#define SHIFT_RIGHT24 1.0 / 16777216.0\n\n#define SHIFT_LEFT17 131072.0\n#define SHIFT_LEFT18 262144.0\n#define SHIFT_LEFT19 524288.0\n#define SHIFT_LEFT20 1048576.0\n#define SHIFT_LEFT21 2097152.0\n#define SHIFT_LEFT22 4194304.0\n#define SHIFT_LEFT23 8388608.0\n#define SHIFT_LEFT24 16777216.0\n\nvec2 unpack_float(float packedValue) {\n  int packedIntValue = int(packedValue);\n  int v0 = packedIntValue / 256;\n  return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec4 decode_color(vec2 encodedColor) {\n  return vec4(\n    unpack_float(encodedColor[0]) / 255.0,\n    unpack_float(encodedColor[1]) / 255.0\n  );\n}\n",Er="#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\n\nfloat calc_lighting(vec4 pos) {\n\n    vec3 worldPos = vec3(pos * u_ModelMatrix);\n\n    vec3 worldNormal = a_Normal;\n      // //cal light weight\n    vec3 viewDir = normalize(u_CameraPosition - worldPos);\n\n    vec3 lightDir = normalize(vec3(1, -10.5, 12));\n\n    vec3 halfDir = normalize(viewDir+lightDir);\n      // //lambert\n    float lambert = dot(worldNormal, lightDir);\n        //specular\n    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);\n        //sum to light weight\n    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;\n\n    return lightWeight;\n}\n",xr="// Blinn-Phong model\n// apply lighting in vertex shader instead of fragment shader\n// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting\nuniform float u_Ambient : 1.0;\nuniform float u_Diffuse : 1.0;\nuniform float u_Specular : 1.0;\nuniform int u_NumOfDirectionalLights : 1;\nuniform int u_NumOfSpotLights : 0;\n\n#define SHININESS 32.0\n#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3\n#define MAX_NUM_OF_SPOT_LIGHTS 3\n\nstruct DirectionalLight {\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n};\n\nstruct SpotLight {\n  vec3 position;\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n  float constant;\n  float linear;\n  float quadratic;\n  float angle;\n  float blur;\n  float exponent;\n};\n\nuniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];\nuniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];\n\nvec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {\n  vec3 lightDir = normalize(light.direction);\n  // diffuse shading\n  float diff = max(dot(normal, lightDir), 0.0);\n  // Blinn-Phong specular shading\n  vec3 halfwayDir = normalize(lightDir + viewDir);\n  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);\n\n  vec3 ambient = light.ambient * u_Ambient;\n  vec3 diffuse = light.diffuse * diff * u_Diffuse;\n  vec3 specular = light.specular * spec * u_Specular;\n\n  return ambient + diffuse + specular;\n}\n\n// vec3 calc_spot_light(SpotLight light, vec3 normal, vec3 fragPos, vec3 viewDir) {\n//   vec3 lightDir = normalize(light.position - fragPos);\n//   // diffuse shading\n//   float diff = max(dot(normal, lightDir), 0.0);\n//   // specular shading\n//   vec3 reflectDir = reflect(-lightDir, normal);\n//   float spec = pow(max(dot(viewDir, reflectDir), 0.0), SHININESS);\n//   // attenuation\n//   float distance = length(light.position - fragPos);\n//   float attenuation = 1.0 / (light.constant + light.linear * distance +\n//           light.quadratic * (distance * distance));\n\n//   vec3 ambient = light.ambient * u_Ambient;\n//   vec3 diffuse = light.diffuse * diff * u_Diffuse;\n//   vec3 specular = light.specular * spec * u_Specular;\n\n//   float spotEffect = dot(normalize(light.direction), -lightDir);\n//   float spotCosCutoff = cos(light.angle / 180.0 * PI);\n//   float spotCosOuterCutoff = cos((light.angle + light.blur) / 180.0 * PI);\n//   float spotCosInnerCutoff = cos((light.angle - light.blur) / 180.0 * PI);\n//   if (spotEffect > spotCosCutoff) {\n//     spotEffect = pow(smoothstep(spotCosOuterCutoff, spotCosInnerCutoff, spotEffect), light.exponent);\n//   } else {\n//     spotEffect = 0.0;\n//   }\n\n//   return ambient + attenuation * (spotEffect * diffuse + specular);\n// }\n\nvec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {\n  vec3 weight = vec3(0.0);\n  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {\n    if (i >= u_NumOfDirectionalLights) {\n      break;\n    }\n    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);\n  }\n  // for (int i = 0; i < MAX_NUM_OF_SPOT_LIGHTS; i++) {\n  //   if (i >= u_NumOfSpotLights) {\n  //     break;\n  //   }\n  //   weight += calc_spot_light(u_SpotLights[i], normal, position, viewDir);\n  // }\n  return weight;\n}\n",wr="varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform vec4 u_SelectColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_shaderPick;\n\nuniform float u_activeMix: 0;\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n#define HIGHLIGHT 1.0\n#define SELECT 2.0\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color, float weight) {\n  // float selected = v_PickingResult.a;\n  bool selected = bool(v_PickingResult.a);\n\n  // if (selected == SELECT) {\n  if (selected) {\n  //   // \u70b9\u51fb\u9009\u4e2d\u72b6\u6001\n  //   vec4 selectColor = u_SelectColor * COLOR_SCALE;\n  //   return selectColor;\n  // } else if (selected == HIGHLIGHT) {\n  //   // hover \u9ad8\u4eae\u72b6\u6001\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(mix(resultRGB * weight, color.rgb, u_activeMix), color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  // TODO: \u8fc7\u6ee4\u591a\u4f59\u7684 shader \u8ba1\u7b97\n  // return color;\n  if(u_shaderPick < 0.5) {\n    return color; // \u6682\u65f6\u53bb\u9664 \u76f4\u63a5\u53d6\u6d88\u8ba1\u7b97\u5728\u9009\u4e2d\u65f6\u62d6\u62fd\u5730\u56fe\u4f1a\u6709\u95ee\u9898\n  } else {\n    return filterPickingColor(filterHighlightColor(color, 1.0));\n  }\n  \n}\n\nvec4 filterColorAlpha(vec4 color, float alpha) {\n  // TODO: \u8fc7\u6ee4\u591a\u4f59\u7684 shader \u8ba1\u7b97\n  // return color;\n  if(u_shaderPick < 0.5) {\n    return color; // \u6682\u65f6\u53bb\u9664 \u76f4\u63a5\u53d6\u6d88\u8ba1\u7b97\u5728\u9009\u4e2d\u65f6\u62d6\u62fd\u5730\u56fe\u4f1a\u6709\u95ee\u9898\n  } else {\n    return filterPickingColor(filterHighlightColor(color, alpha));\n  }\n}\n\n",Sr="attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec3 u_CurrentSelectedId : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform vec4 u_SelectColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\nuniform float u_shaderPick;\nuniform float u_EnableSelect: 0.0;\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n#define NORMAL 0.0\n#define HIGHLIGHT 1.0\n#define SELECT 2.0\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\n// \u5224\u65ad\u5f53\u524d\u70b9\u662f\u5426\u5df2\u7ecf\u88ab select \u9009\u4e2d\nbool isVertexSelected(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_CurrentSelectedId.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_CurrentSelectedId.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_CurrentSelectedId.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  if(u_shaderPick < 0.5) {\n    return;\n  }\n  // compares only in highlight stage\n\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // if (u_EnableSelect == 1.0 && u_PickingStage == PICKING_HIGHLIGHT && isVertexSelected(pickingColor)) {\n  //   // \u9009\u4e2d\u6001\n  //   v_PickingResult.a = SELECT;\n  // } else if (u_PickingStage == PICKING_HIGHLIGHT && isVertexPicked(pickingColor)) {\n  //   // \u9ad8\u4eae\u6001\n  //   v_PickingResult.a = HIGHLIGHT;\n  // } else {\n  //   v_PickingResult.a = NORMAL;\n  // }\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}\n\nfloat setPickingOrder(float z) {\n   bool selected = bool(v_PickingResult.a);\n   return selected ? z + 1. : 0.;\n}\n",Or="\n#define E 2.718281828459045\nvec2 ProjectFlat(vec2 lnglat){\n  float maxs=85.0511287798;\n  float lat=max(min(maxs,lnglat.y),-maxs);\n  float scale= 268435456.;\n  float d=PI/180.;\n  float x=lnglat.x*d;\n  float y=lat*d;\n  y=log(tan((PI/4.)+(y/2.)));\n\n  float a=.5/PI,\n  b=.5,\n  c=-.5/PI;\n  d=.5;\n  x=scale*(a*x+b);\n  y=scale*(c*y+d);\n  return vec2(x,y);\n}\n\nvec2 unProjectFlat(vec2 px){\n  float a=.5/PI;\n  float b=.5;\n  float c=-.5/PI;\n  float d=.5;\n  float scale = 268435456.;\n  float x=(px.x/scale-b)/a;\n  float y=(px.y/scale-d)/c;\n  y=(atan(pow(E,y))-(PI/4.))*2.;\n  d=PI/180.;\n  float lat=y/d;\n  float lng=x/d;\n  return vec2(lng,lat);\n}\n\nfloat pixelDistance(vec2 from, vec2 to) {\n vec2 a1 = ProjectFlat(from);\n vec2 b1 = ProjectFlat(to);\n return distance(a1, b1);\n}\n\n// gaode2.0\nvec2 customProject(vec2 lnglat) { // \u7ecf\u7eac\u5ea6 => \u5e73\u9762\u5750\u6807\n  float t = lnglat.x;\n  float e = lnglat.y;\n  float Sm = 180.0 / PI;\n  float Tm = 6378137.0;\n  float Rm = PI / 180.0;\n  float r = 85.0511287798;\n  e = max(min(r, e), -r);\n  t *= Rm;\n  e *= Rm;\n  e = log(tan(PI / 4.0 + e / 2.0));\n  return vec2(t * Tm, e * Tm);\n}\n\nvec2 unProjCustomCoord(vec2 point) { // \u5e73\u9762\u5750\u6807 => \u7ecf\u7eac\u5ea6\n  float Sm = 57.29577951308232; //180 / Math.PI\n  float Tm = 6378137.0;\n  float t = point.x;\n  float e = point.y;\n  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);\n}\n\n\nfloat customPixelDistance(vec2 from, vec2 to) {\n vec2 a1 = ProjectFlat(from);\n vec2 b1 = ProjectFlat(to);\n return distance(a1, b1);\n}",Cr="#define TILE_SIZE 512.0\n#define PI 3.1415926536\n#define WORLD_SCALE TILE_SIZE / (PI * 2.0)\n\n#define COORDINATE_SYSTEM_LNGLAT 1.0        // mapbox\n#define COORDINATE_SYSTEM_LNGLAT_OFFSET 2.0 // mapbox offset\n#define COORDINATE_SYSTEM_VECTOR_TILE 3.0\n#define COORDINATE_SYSTEM_IDENTITY 4.0\n#define COORDINATE_SYSTEM_P20 5.0           // amap\n#define COORDINATE_SYSTEM_P20_OFFSET 6.0    // amap offset\n#define COORDINATE_SYSTEM_METER_OFFSET 7.0\n\n#define COORDINATE_SYSTEM_P20_2 8.0         // amap2.0\n\nuniform mat4 u_ViewMatrix;\nuniform mat4 u_ProjectionMatrix;\nuniform mat4 u_ViewProjectionMatrix;\nuniform float u_Zoom : 1;\nuniform float u_ZoomScale : 1;\n\nuniform float u_CoordinateSystem;\nuniform vec2 u_ViewportCenter;\nuniform vec4 u_ViewportCenterProjection;\nuniform vec3 u_PixelsPerDegree;\nuniform vec3 u_PixelsPerDegree2;\nuniform vec3 u_PixelsPerMeter;\n\nuniform vec2 u_ViewportSize;\nuniform float u_DevicePixelRatio;\nuniform float u_FocalDistance;\nuniform vec3 u_CameraPosition;\n\n// uniform mat4 u_Mvp;\n\n// web mercator coords -> world coords\nvec2 project_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  return vec2(\n    radians(x) + PI,\n    PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5))\n  );\n}\n\nfloat project_scale(float meters) {\n  return meters * u_PixelsPerMeter.z;\n}\n\n\n// offset coords -> world coords\nvec4 project_offset(vec4 offset) {\n  float dy = offset.y;\n  dy = clamp(dy, -1., 1.);\n  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;\n  return vec4(offset.xyz * pixels_per_unit, offset.w);\n}\n\nvec3 project_normal(vec3 normal) {\n  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);\n  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);\n}\n\nvec3 project_offset_normal(vec3 vector) {\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01\n    || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * u_PixelsPerDegree);\n  }\n  return project_normal(vector);\n}\n// || u_CoordinateSystem < COORDINATE_SYSTEM_P20_OFFSET + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_P20_OFFSET - 0.01\n// reverse Y\nvec3 reverse_offset_normal(vec3 vector) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 ||u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET ) {\n    return vector * vec3(1.0, -1.0, 1.0);\n  }\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.0\n    return vector;\n  }\n  return vector;\n}\n\nvec4 project_mvt_offset_position(vec4 position) {\n  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;\n  float b = COORDINATE_SYSTEM_P20_OFFSET;\n  float c = COORDINATE_SYSTEM_LNGLAT;\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    return project_offset(vec4(0.0, 0.0, position.z, position.w));\n  }\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {\n    return vec4(\n      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,\n      project_scale(position.z),\n      position.w\n    );\n  }\n  return position;\n}\n\nvec4 project_position(vec4 position) {\n  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;\n  float b = COORDINATE_SYSTEM_P20_OFFSET;\n  float c = COORDINATE_SYSTEM_LNGLAT;\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    float X = position.x - u_ViewportCenter.x;\n    float Y = position.y - u_ViewportCenter.y;\n    return project_offset(vec4(X, Y, position.z, position.w));\n  }\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {\n    return vec4(\n      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {\n    return vec4(\n      (project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale - vec2(215440491., 106744817.)) * vec2(1., -1.),\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // return vec4(\n    //   (position.xy * WORLD_SCALE * u_ZoomScale) * vec2(1., -1.), \n    //   project_scale(position.z), \n    //   position.w);\n\n     return vec4(\n      position.xy, \n      project_scale(position.z), \n      position.w);\n  }\n  return position;\n\n  // TODO: \u74e6\u7247\u5750\u6807\u7cfb & \u5e38\u89c4\u4e16\u754c\u5750\u6807\u7cfb\n}\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;\n  return offset * u_FocalDistance;\n}\n\nfloat project_pixel_allmap(float pixel) {\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n    return pixel * pow(2.0, u_Zoom);\n  }\n  return pixel;\n}\n\n// \u9002\u914d\u7eb9\u7406\u8d34\u56fe\u7684\u7b49\u50cf\u7d20\u5927\u5c0f\nfloat project_pixel_texture(float pixel) {\n  // mapbox zoom > 12\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    return pixel * pow(0.5, u_Zoom);\n  }\n\n  // amap2 zoom > 12\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));\n  }\n\n  // amap zoom > 12\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    return pixel * pow(0.5, u_Zoom);\n  }\n  \n  // amap zoom < 12\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {\n    return pixel * pow(2.0, (20.0 - u_Zoom));\n  }\n  return pixel * 2.0;\n}\n\n// \u5728\u4e0d\u8bba\u4ec0\u4e48\u5e95\u56fe\u4e0b\u9700\u8981\u7edf\u4e00\u5904\u7406\u7684\u65f6\u5019\u4f7f\u7528\nfloat project_float_pixel(float pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // mapbox P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // amap P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // amap2 P20_2 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));\n  }\n  return pixel;\n}\n\nfloat project_pixel(float pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // amap P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // amap2 P20_2 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));\n  }\n  return pixel;\n}\nvec2 project_pixel(vec2 pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // P20_2 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));\n  }\n  return pixel * -1.;\n}\nvec3 project_pixel(vec3 pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // P20_2 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));\n  }\n  return pixel * -1.;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n    position.w *= u_PixelsPerMeter.z;\n  }\n\n  return viewProjectionMatrix * position + center;\n}\n\n// Projects from common space coordinates to clip space\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(\n    position,\n    u_ViewProjectionMatrix,\n    u_ViewportCenterProjection\n  );\n}\n\nvec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {\n  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n     pos.w = pos.w / u_PixelsPerMeter.z;\n  }\n  return pos;\n}\n\n\nbool isEqual( float a,  float b) {\n    return  a< b + 0.001 && a > b - 0.001;\n}",Ar="/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}\n",Pr="attribute float a_vertexId;\n\nuniform mat4 u_cellTypeLayout;      // \u63cf\u8ff0\u6570\u636e\u7eb9\u7406 cell \u7ed3\u6784\u7684\u77e9\u9635\nuniform sampler2D u_dataTexture;    // \u6570\u636e\u7eb9\u7406\n\nbool hasOpacity() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 opacity \u7684\u6570\u636e\n  return u_cellTypeLayout[1][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasStrokeOpacity() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 strokeOpacity \u7684\u6570\u636e\n  return u_cellTypeLayout[1][1] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasStrokeWidth() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 strokeWidth \u7684\u6570\u636e\n  return u_cellTypeLayout[1][2] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasStroke() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 stroke \u7684\u6570\u636e\n  return u_cellTypeLayout[1][3] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasOffsets() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 offsets \u7684\u6570\u636e\n  return u_cellTypeLayout[2][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasThetaOffset() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 thetaOffset \u7684\u6570\u636e\n  return u_cellTypeLayout[2][1] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\n// \u6839\u636e\u5750\u6807\u4f4d\u7f6e\u5148\u662f\u8ba1\u7b97 uv \uff0c\u7136\u540e\u6839\u636e uv \u4ece\u6570\u636e\u7eb9\u7406\u4e2d\u53d6\u503c\nfloat pos2value(vec2 pos, float columnWidth, float rowHeight) {\n  float u = (pos.r - 1.0) * columnWidth + columnWidth/2.0;\n  float v = 1.0 - ((pos.g - 1.0) * rowHeight + rowHeight/2.0);\n  return texture2D(u_dataTexture, vec2(u, v)).r;\n}\n\n/*\n  currentRow \u5f53\u524d\u884c\n  currentColumn \u5f53\u524d\u5217\n  columnCount \u6709\u591a\u5c11\u5217\n  nextStep \u9700\u8981\u8ba1\u7b97\u5f53\u524d cell \u540e\u7684\u7b2c\u51e0\u4e2a cell \uff08\u5f53\u524d cell \u5219 nextStep = 0\uff09\n*/\nvec2 nextPos(float currentRow, float currentColumn, float columnCount, float nextStep) {\n  float nextColumn = currentColumn;\n  float nextRow = currentRow;\n  if(currentColumn + nextStep <= columnCount){\n    nextColumn = currentColumn + nextStep;\n  } else {\n    nextColumn = mod(currentColumn + nextStep, columnCount); // \u4e0d\u4f1a\u51fa\u73b0\u8de8\u4e24\u884c\n    nextRow = currentRow + 1.0;\n  }\n  return vec2(nextColumn, nextRow);\n}\n\n// \u8ba1\u7b97\u5f53\u524d\u5355\u4e2a cell \u7684\u5927\u5c0f\nfloat calCellCount() { \n  //   u_cellTypeLayout\n  //   cal_height, WIDTH, 0.0, 0.0, // rowCount columnCount - \u51e0\u884c\u51e0\u5217\n  //   1.0, 1.0, 1.0, 0.0, // opacity strokeOpacity strokeWidth stroke - 1.0 \u8868\u793a\u6709\u6570\u636e\u6620\u5c04\u30010.0 \u8868\u793a\u6ca1\u6709\n  //   1.0, 1.0, 0.0, 0.0, // offsets thetaOffset\n  //   0.0, 0.0, 0.0, 0.0\n  \n  return  u_cellTypeLayout[1][0] +        // opacity\n          u_cellTypeLayout[1][1] +        // strokeOpacity\n          u_cellTypeLayout[1][2] +        // strokeWidth\n          u_cellTypeLayout[1][3] * 4.0 +  // stroke\n          u_cellTypeLayout[2][0] * 2.0 +  // offsets\n          u_cellTypeLayout[2][1];         // thetaOffset\n}",kr="\n// \u8ba1\u7b97 opacity \u548c\u6807\u793a\u5728 cell \u4e2d\u53d6\u503c\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf textureOffset\nvec2 calOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {\n  if(!hasOpacity()) { // \u6570\u636e\u7eb9\u7406\u4e2d\u4e0d\u5b58\u5728 opacity \u7684\u65f6\u5019\u53d6\u9ed8\u8ba4\u503c\uff08\u7528\u6237\u5728 style \u4e2d\u4f20\u5165\u7684\u662f\u5e38\u91cf\uff09\n    return vec2(u_opacity, textureOffset);\n  } else {\n    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    float textureOpacity = pos2value(valuePos, columnWidth, rowHeight);\n    return vec2(textureOpacity, textureOffset + 1.0);\n  }\n}\n",Mr="\n// \u8ba1\u7b97 strokeOpaicty \u548c\u6807\u793a\u5728 cell \u4e2d\u53d6\u503c\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf textureOffset\nvec2 calStrokeOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {\n  if(!hasStrokeOpacity()) {\n    return vec2(u_stroke_opacity, textureOffset);\n  } else {\n    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    float textureStrokeOpacity = pos2value(valuePos, columnWidth, rowHeight);\n    return vec2(textureStrokeOpacity, textureOffset + 1.0);\n  }\n}\n",Tr="\n// \u8ba1\u7b97 strokeWidth \u548c\u6807\u793a\u5728 cell \u4e2d\u53d6\u503c\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf textureOffset\nvec2 calStrokeWidthAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {\n  if(!hasStrokeWidth()) {\n    return vec2(u_stroke_width, textureOffset);\n  } else {\n    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    float textureStrokeWidth = pos2value(valuePos, columnWidth, rowHeight);\n    return vec2(textureStrokeWidth, textureOffset + 1.0);\n  }\n}\n",Lr="\n// \u8ba1\u7b97 thetaOffset \u548c\u6807\u793a\u5728 cell \u4e2d\u53d6\u503c\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf textureOffset\nvec2 calThetaOffsetAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {\n  if(!hasThetaOffset()) { // \u6570\u636e\u7eb9\u7406\u4e2d\u4e0d\u5b58\u5728 thetaOffset \u7684\u65f6\u5019\u53d6\u9ed8\u8ba4\u503c\uff08\u7528\u6237\u5728 style \u4e2d\u4f20\u5165\u7684\u662f\u5e38\u91cf\uff09\n    return vec2(u_thetaOffset, textureOffset);\n  } else {\n    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    float textureThetaOffset = pos2value(valuePos, columnWidth, rowHeight);\n    return vec2(textureThetaOffset, textureOffset + 1.0);\n  }\n}\n",Ir=/precision\s+(high|low|medium)p\s+float/,Dr="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n",Rr=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,Nr=(cr=Object(o["injectable"])(),cr(fr=function(){function e(){c()(this,e),h()(this,"moduleCache",{}),h()(this,"rawContentCache",{})}return p()(e,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("common",{vs:br,fs:br}),this.registerModule("decode",{vs:_r,fs:""}),this.registerModule("projection",{vs:Cr,fs:""}),this.registerModule("project",{vs:Or,fs:""}),this.registerModule("sdf_2d",{vs:"",fs:Ar}),this.registerModule("lighting",{vs:xr,fs:""}),this.registerModule("light",{vs:Er,fs:""}),this.registerModule("picking",{vs:Sr,fs:wr}),this.registerModule("styleMapping",{vs:Pr,fs:""}),this.registerModule("styleMappingCalThetaOffset",{vs:Lr,fs:""}),this.registerModule("styleMappingCalOpacity",{vs:kr,fs:""}),this.registerModule("styleMappingCalStrokeOpacity",{vs:Mr,fs:""}),this.registerModule("styleMappingCalStrokeWidth",{vs:Tr,fs:""})}},{key:"registerModule",value:function(e,t){if(!this.rawContentCache[e]){var n=t.vs,r=t.fs,i=t.uniforms,o=dr(n),a=o.content,s=o.uniforms,l=dr(r),u=l.content,c=l.uniforms;this.rawContentCache[e]={fs:u,uniforms:vr(vr(vr({},s),c),i),vs:a}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(e){var t=this;if(this.moduleCache[e])return this.moduleCache[e];var n=this.rawContentCache[e].vs,r=this.rawContentCache[e].fs,i=this.processModule(n,[],"vs"),o=i.content,a=i.includeList,s=this.processModule(r,[],"fs"),l=s.content,u=s.includeList,c=l,f=lr()(a.concat(u).concat(e)).reduce((function(e,n){return vr(vr({},e),t.rawContentCache[n].uniforms)}),{});return Ir.test(l)||(c=Dr+l),this.moduleCache[e]={fs:c.trim(),uniforms:f,vs:o.trim()},this.moduleCache[e]}},{key:"processModule",value:function(e,t,n){var r=this,i=e.replace(Rr,(function(e,i){var o=i.split(" "),a=o[0].replace(/"/g,"");if(t.indexOf(a)>-1)return"";var s=r.rawContentCache[a][n];t.push(a);var l=r.processModule(s,t,n),u=l.content;return u}));return{content:i,includeList:t}}}]),e}())||fr),jr=n("iWIM"),Fr=n.n(jr);(function(e){e["Normal"]="normal",e["PostProcessing"]="post-processing"})(mr||(mr={}));var Br,Ur,zr=(gr=Object(o["injectable"])(),gr(yr=function(){function e(){c()(this,e),h()(this,"shaderModuleService",void 0),h()(this,"rendererService",void 0),h()(this,"cameraService",void 0),h()(this,"mapService",void 0),h()(this,"interactionService",void 0),h()(this,"layerService",void 0),h()(this,"config",void 0)}return p()(e,[{key:"getName",value:function(){return""}},{key:"getType",value:function(){return mr.Normal}},{key:"init",value:function(e,t){this.config=t,this.rendererService=e.getContainer().get(l.IRendererService),this.cameraService=e.getContainer().get(l.ICameraService),this.mapService=e.getContainer().get(l.IMapService),this.interactionService=e.getContainer().get(l.IInteractionService),this.layerService=e.getContainer().get(l.ILayerService),this.shaderModuleService=e.getContainer().get(l.IShaderModuleService)}},{key:"render",value:function(e){}}]),e}())||yr);function Hr(e){var t=Vr();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function Vr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Gr,Wr,qr,Yr,Xr,Kr=(Br=Object(o["injectable"])(),Br(Ur=function(e){te()(n,e);var t=Hr(n);function n(){return c()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getName",value:function(){return"clear"}},{key:"init",value:function(e,t){Fr()(oe()(n.prototype),"init",this).call(this,e,t)}},{key:"render",value:function(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}]),n}(zr))||Ur);function Zr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Qr(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function Qr(e,t){if(e){if("string"===typeof e)return Jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jr(e,t):void 0}}function Jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $r,ei,ti=(Gr=Object(o["injectable"])(),Wr=Object(o["inject"])(l.IPostProcessor),Gr((Yr=function(){function e(){c()(this,e),h()(this,"passes",[]),Ve()(this,"postProcessor",Xr,this),h()(this,"layer",void 0),h()(this,"renderFlag",void 0),h()(this,"width",0),h()(this,"height",0)}return p()(e,[{key:"setLayer",value:function(e){this.layer=e}},{key:"setRenderFlag",value:function(e){this.renderFlag=e}},{key:"getRenderFlag",value:function(){return this.renderFlag}},{key:"getPostProcessor",value:function(){return this.postProcessor}},{key:"render",value:function(){var e=Tt()(It.a.mark((function e(){var t,n,r;return It.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Zr(this.passes),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r.render(this.layer);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:return e.next=19,this.postProcessor.render(this.layer);case 19:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"resize",value:function(e,t){this.width===e&&this.height===t||(this.postProcessor.resize(e,t),this.width=e,this.height=t)}},{key:"add",value:function(e,t){e.getType()===mr.PostProcessing?this.postProcessor.add(e,this.layer,t):(e.init(this.layer,t),this.passes.push(e))}},{key:"insert",value:function(e,t,n){e.init(this.layer,t),this.passes.splice(n,0,e)}},{key:"destroy",value:function(){this.passes.length=0}}]),e}(),Xr=We()(Yr.prototype,"postProcessor",[Wr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qr=Yr))||qr);function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ii(e){var t=oi();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function oi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ai,si,li,ui,ci,fi=($r=Object(o["injectable"])(),$r(ei=function(e){te()(n,e);var t=ii(n);function n(){var e;c()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),h()($()(e),"pickingFBO",void 0),h()($()(e),"layer",void 0),h()($()(e),"width",0),h()($()(e),"height",0),h()($()(e),"alreadyInRendering",!1),h()($()(e),"pickFromPickingFBO",(function(t){var n=t.x,r=t.y,i=t.lngLat,o=t.type;if(e.layer.isVisible()&&e.layer.needPick(o)){var a,s=e.rendererService,l=s.getViewportSize,u=s.readPixels,c=s.useFramebuffer,f=l(),p=f.width,d=f.height,h=e.layer.getLayerConfig(),m=h.enableHighlight,g=h.enableSelect,y=n*v["b"].DPR,b=r*v["b"].DPR;if(!(y>p||y<0||b>d||b<0))c(e.pickingFBO,(function(){var t;if(a=u({x:Math.round(y),y:Math.round(d-(r+1)*v["b"].DPR),width:1,height:1,data:new Uint8Array(4),framebuffer:e.pickingFBO}),0!==a[0]||0!==a[1]||0!==a[2]){var s=Object(v["s"])(a),l=e.layer.getSource().getFeatureById(s),c={x:n,y:r,type:o,lngLat:i,featureId:s,feature:l};l&&(e.layer.setCurrentPickId(s),e.triggerHoverOnLayer(c))}else{var f={x:n,y:r,lngLat:i,type:null===e.layer.getCurrentPickId()?"un"+o:"mouseout",featureId:null,feature:null};e.triggerHoverOnLayer(ri(ri({},f),{},{type:"unpick"})),e.triggerHoverOnLayer(f),e.layer.setCurrentPickId(null)}m&&e.highlightPickedFeature(a),g&&"click"===o&&(null===(t=a)||void 0===t?void 0:t.toString())!==[0,0,0,0].toString()&&e.selectFeature(a)}))}})),e}return p()(n,[{key:"getType",value:function(){return mr.Normal}},{key:"getName",value:function(){return"pixelPicking"}},{key:"init",value:function(e,t){Fr()(oe()(n.prototype),"init",this).call(this,e,t),this.layer=e;var r=this.rendererService,i=r.createTexture2D,o=r.createFramebuffer,a=r.getViewportSize,s=a(),l=s.width,u=s.height;this.pickingFBO=o({color:i({width:l,height:u,wrapS:ht.CLAMP_TO_EDGE,wrapT:ht.CLAMP_TO_EDGE})}),this.interactionService.on(tt.Hover,this.pickFromPickingFBO),this.interactionService.on(tt.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(tt.Active,this.highlightFeatureHandle.bind(this))}},{key:"render",value:function(e){var t=this;if(!this.alreadyInRendering){var n=this.rendererService,r=n.getViewportSize,i=n.useFramebuffer,o=n.clear,a=r(),s=a.width,l=a.height;this.alreadyInRendering=!0,this.width===s&&this.height===l||(this.pickingFBO.resize({width:s,height:l}),this.width=s,this.height=l),i(this.pickingFBO,(function(){o({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n=t.layer.multiPassRenderer.getRenderFlag();t.layer.multiPassRenderer.setRenderFlag(!1),e.hooks.beforePickingEncode.call(),e.render(),e.hooks.afterPickingEncode.call(),t.layer.multiPassRenderer.setRenderFlag(n),t.alreadyInRendering=!1}))}}},{key:"triggerHoverOnLayer",value:function(e){this.layer.emit(e.type,e)}},{key:"highlightPickedFeature",value:function(e){var t=ge()(e,3),n=t[0],r=t[1],i=t[2];this.layer.hooks.beforeHighlight.call([n,r,i]),this.layerService.renderLayers()}},{key:"selectFeature",value:function(e){var t=ge()(e,3),n=t[0],r=t[1],i=t[2];this.layer.hooks.beforeSelect.call([n,r,i]),this.layerService.renderLayers()}},{key:"selectFeatureHandle",value:function(e){var t=e.featureId,n=Object(v["t"])(t);this.selectFeature(new Uint8Array(n))}},{key:"highlightFeatureHandle",value:function(e){var t=e.featureId,n=Object(v["t"])(t);this.highlightPickedFeature(new Uint8Array(n))}}]),n}(zr))||ei),pi=n("gQMU"),di=n.n(pi),hi=n("u6S6"),vi=n.n(hi);function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yi,bi,_i="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",Ei=(ai=Object(o["injectable"])(),si=Object(o["inject"])(l.IShaderModuleService),ai((ui=function(){function e(){c()(this,e),Ve()(this,"shaderModuleService",ci,this),h()(this,"rendererService",void 0),h()(this,"config",void 0),h()(this,"quad",_i),h()(this,"enabled",!0),h()(this,"renderToScreen",!1),h()(this,"model",void 0),h()(this,"name",void 0),h()(this,"optionsToUpdate",{})}return p()(e,[{key:"getName",value:function(){return this.name}},{key:"setName",value:function(e){this.name=e}},{key:"getType",value:function(){return mr.PostProcessing}},{key:"init",value:function(e,t){this.config=t,this.rendererService=e.getContainer().get(l.IRendererService),this.shaderModuleService=e.getContainer().get(l.IShaderModuleService);var n=this.rendererService,r=n.createAttribute,i=n.createBuffer,o=n.createModel,a=this.setupShaders(),s=a.vs,u=a.fs,c=a.uniforms;this.model=o({vs:s,fs:u,attributes:{a_Position:r({buffer:i({data:[-4,-4,4,-4,0,4],type:ht.FLOAT}),size:2})},uniforms:gi(gi({u_Texture:null},c),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:"copy"===this.getName()}})}},{key:"render",value:function(e,t){var n=this,r=e.multiPassRenderer.getPostProcessor(),i=this.rendererService,o=i.useFramebuffer,a=i.getViewportSize,s=i.clear,l=a(),u=l.width,c=l.height;o(this.renderToScreen?null:r.getWriteFBO(),(function(){s({framebuffer:r.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0});var e=gi({u_BloomFinal:0,u_Texture:r.getReadFBO(),u_ViewportSize:[u,c]},n.convertOptionsToUniforms(n.optionsToUpdate));t&&(e.u_BloomFinal=1,e.u_Texture2=t),n.model.draw({uniforms:e})}))}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e){this.enabled=e}},{key:"setRenderToScreen",value:function(e){this.renderToScreen=e}},{key:"updateOptions",value:function(e){this.optionsToUpdate=gi(gi({},this.optionsToUpdate),e)}},{key:"setupShaders",value:function(){throw new Error("Method not implemented.")}},{key:"convertOptionsToUniforms",value:function(e){var t={};return Object.keys(e).forEach((function(n){pn()(e[n])||(t["u_".concat(di()(vi()(n)))]=e[n])})),t}}]),e}(),ci=We()(ui.prototype,"shaderModuleService",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li=ui))||li);function xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Si(e){var t=Oi();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function Oi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Ci,Ai,Pi="varying vec2 v_UV;\n\nuniform float u_BloomFinal: 0.0;\nuniform sampler2D u_Texture;\nuniform sampler2D u_Texture2;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform float u_radius: 5.0;\nuniform float u_intensity: 0.3;\nuniform float u_baseRadio: 0.5;\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nfloat luminance(vec4 color) {\n  return  0.2125 * color.r + 0.7154 * color.g + 0.0721 * color.b;\n}\n\nvoid main() {\n  // vec4 baseColor = texture2D(u_Texture, v_UV);\n\n  float r = sqrt(u_radius);\n\n  vec4 c1 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(u_radius, 0.0));\n  // c1 *= luminance(c1);\n  vec4 c2 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(0.0, u_radius));\n  // c2 *= luminance(c2);\n  vec4 c3 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, r));\n  // c3 *= luminance(c3);\n  vec4 c4 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, -r));\n  // c4 *= luminance(c4);\n  vec4 inbloomColor = (c1 + c2 + c3 + c4) * 0.25;\n\n  // float lum = luminance(inbloomColor);\n  // inbloomColor.rgb *= lum;\n\n  if(u_BloomFinal > 0.0) {\n    vec4 baseColor = texture2D(u_Texture2, v_UV);\n    float baselum = luminance(baseColor);\n    gl_FragColor = mix(inbloomColor, baseColor, u_baseRadio);\n    if(baselum <= 0.2) {\n      gl_FragColor = inbloomColor * u_intensity;\n    }\n  } else {\n    gl_FragColor = inbloomColor;\n  }\n}",ki="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",Mi=(yi=Object(o["injectable"])(),yi(bi=function(e){te()(n,e);var t=Si(n);function n(){return c()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:ki,fs:Pi});var e=this.shaderModuleService.getModule("blur-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:t,fs:n,uniforms:wi(wi({},r),{},{u_ViewportSize:[o,a]})}}},{key:"convertOptionsToUniforms",value:function(e){var t={};return pn()(e.bloomRadius)||(t.u_radius=e.bloomRadius),pn()(e.bloomIntensity)||(t.u_intensity=e.bloomIntensity),pn()(e.bloomBaseRadio)||(t.u_baseRadio=e.bloomBaseRadio),t}}]),n}(Ei))||bi);function Ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ii(e){var t=Di();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function Di(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Ri,Ni,ji="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}",Fi="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",Bi=(Ci=Object(o["injectable"])(),Ci(Ai=function(e){te()(n,e);var t=Ii(n);function n(){return c()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:Fi,fs:ji});var e=this.shaderModuleService.getModule("blur-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:t,fs:n,uniforms:Li(Li({},r),{},{u_ViewportSize:[o,a]})}}},{key:"convertOptionsToUniforms",value:function(e){var t={};return pn()(e.blurRadius)||(t.u_BlurDir=[e.blurRadius,0]),t}}]),n}(Ei))||Ai);function Ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ui(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hi(e){var t=Vi();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function Vi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Gi,Wi,qi="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}",Yi="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",Xi=(Ri=Object(o["injectable"])(),Ri(Ni=function(e){te()(n,e);var t=Hi(n);function n(){return c()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:Yi,fs:qi});var e=this.shaderModuleService.getModule("blur-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:t,fs:n,uniforms:zi(zi({},r),{},{u_ViewportSize:[o,a]})}}},{key:"convertOptionsToUniforms",value:function(e){var t={};return pn()(e.blurRadius)||(t.u_BlurDir=[0,e.blurRadius]),t}}]),n}(Ei))||Ni);function Ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qi(e){var t=Ji();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function Ji(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var $i,eo,to='varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Angle : 0;\nuniform float u_Size : 8;\n\n#pragma include "common"\n\nfloat scale = PI / u_Size;\n\nfloat pattern(float u_Angle, vec2 texSize, vec2 texCoord) {\n  float s = sin(u_Angle), c = cos(u_Angle);\n  vec2 tex = texCoord * texSize - u_Center * texSize;\n  vec2 point = vec2(\n    c * tex.x - s * tex.y,\n    s * tex.x + c * tex.y\n  ) * scale;\n  return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js\nvec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  vec3 cmy = 1.0 - color.rgb;\n  float k = min(cmy.x, min(cmy.y, cmy.z));\n  cmy = (cmy - k) / (1.0 - k);\n  cmy = clamp(\n    cmy * 10.0 - 3.0 + vec3(\n      pattern(u_Angle + 0.26179, texSize, texCoord),\n      pattern(u_Angle + 1.30899, texSize, texCoord),\n      pattern(u_Angle, texSize, texCoord)\n    ),\n    0.0,\n    1.0\n  );\n  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);\n  return vec4(1.0 - cmy - k, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);\n}',no="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",ro=(Gi=Object(o["injectable"])(),Gi(Wi=function(e){te()(n,e);var t=Qi(n);function n(){return c()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:no,fs:to});var e=this.shaderModuleService.getModule("colorhalftone-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:t,fs:n,uniforms:Zi(Zi({},r),{},{u_ViewportSize:[o,a]})}}}]),n}(Ei))||Wi);function io(e){var t=oo();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function oo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ao,so,lo="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",uo="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",co=($i=Object(o["injectable"])(),$i(eo=function(e){te()(n,e);var t=io(n);function n(){return c()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("copy-pass",{vs:uo,fs:lo}),this.shaderModuleService.getModule("copy-pass")}}]),n}(Ei))||eo);function fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fo(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ho(e){var t=vo();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function vo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var mo,go,yo="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Scale : 10;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js\nvec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;\n  tex.y /= 0.866025404;\n  tex.x -= tex.y * 0.5;\n  vec2 a;\n  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {\n    a = vec2(floor(tex.x), floor(tex.y));\n  }\n  else a = vec2(ceil(tex.x), ceil(tex.y));\n  vec2 b = vec2(ceil(tex.x), floor(tex.y));\n  vec2 c = vec2(floor(tex.x), ceil(tex.y));\n  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);\n  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);\n  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);\n  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);\n  float alen = length(TEX - A);\n  float blen = length(TEX - B);\n  float clen = length(TEX - C);\n  vec2 choice;\n  if (alen < blen) {\n    if (alen < clen) choice = a;\n    else choice = c;\n  } else {\n    if (blen < clen) choice = b;\n    else choice = c;\n  }\n  choice.x += choice.y * 0.5;\n  choice.y *= 0.866025404;\n  choice *= u_Scale / texSize;\n  return texture2D(texture, choice + u_Center);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}",bo="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",_o=(ao=Object(o["injectable"])(),ao(so=function(e){te()(n,e);var t=ho(n);function n(){return c()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:bo,fs:yo});var e=this.shaderModuleService.getModule("hexagonalpixelate-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:t,fs:n,uniforms:po(po({},r),{},{u_ViewportSize:[o,a]})}}}]),n}(Ei))||so);function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wo(e){var t=So();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function So(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Oo,Co,Ao="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform float u_Strength : 0.6;\n\nvec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 dx = vec2(1.0 / texSize.x, 0.0);\n  vec2 dy = vec2(0.0, 1.0 / texSize.y);\n  vec4 color = texture2D(texture, texCoord);\n  float bigTotal = 0.0;\n  float smallTotal = 0.0;\n  vec3 bigAverage = vec3(0.0);\n  vec3 smallAverage = vec3(0.0);\n  for (float x = -2.0; x <= 2.0; x += 1.0) {\n    for (float y = -2.0; y <= 2.0; y += 1.0) {\n      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;\n      bigAverage += sample;\n      bigTotal += 1.0;\n      if (abs(x) + abs(y) < 2.0) {\n        smallAverage += sample;\n        smallTotal += 1.0;\n      }\n    }\n  }\n  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);\n  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;\n  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}",Po="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",ko=(mo=Object(o["injectable"])(),mo(go=function(e){te()(n,e);var t=wo(n);function n(){return c()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("ink-pass",{vs:Po,fs:Ao});var e=this.shaderModuleService.getModule("ink-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:t,fs:n,uniforms:xo(xo({},r),{},{u_ViewportSize:[o,a]})}}}]),n}(Ei))||go);function Mo(e){var t=To();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function To(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Lo,Io,Do="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform float u_Amount : 0.5;\n\nfloat rand(vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js\nvec4 noise_filterColor(vec4 color, vec2 texCoord) {\n  float diff = (rand(texCoord) - 0.5) * u_Amount;\n  color.r += diff;\n  color.g += diff;\n  color.b += diff;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);\n}",Ro="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",No=(Oo=Object(o["injectable"])(),Oo(Co=function(e){te()(n,e);var t=Mo(n);function n(){return c()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("noise-pass",{vs:Ro,fs:Do}),this.shaderModuleService.getModule("noise-pass")}}]),n}(Ei))||Co);function jo(e){var t=Fo();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function Fo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Bo,Uo,zo,Ho,Vo,Go,Wo,qo,Yo="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",Xo="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform float u_Amount : 0.5;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js\nvec4 sepia_filterColor(vec4 color) {\n  float r = color.r;\n  float g = color.g;\n  float b = color.b;\n  color.r =\n    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));\n  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));\n  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = sepia_filterColor(gl_FragColor);\n}",Ko=(Lo=Object(o["injectable"])(),Lo(Io=function(e){te()(n,e);var t=jo(n);function n(){return c()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("sepia-pass",{vs:Yo,fs:Xo}),this.shaderModuleService.getModule("sepia-pass")}}]),n}(Ei))||Io),Zo=(Bo=Object(o["injectable"])(),Uo=Object(o["inject"])(l.IRendererService),zo=Object(o["postConstruct"])(),Bo((Vo=function(){function e(){c()(this,e),Ve()(this,"rendererService",Go,this),h()(this,"passes",[]),h()(this,"readFBO",void 0),h()(this,"writeFBO",void 0)}return p()(e,[{key:"getReadFBO",value:function(){return this.readFBO}},{key:"getWriteFBO",value:function(){return this.writeFBO}},{key:"getCurrentFBOTex",value:function(){var e=this.rendererService,t=e.getViewportSize,n=e.createTexture2D,r=t(),i=r.width,o=r.height;return n({x:0,y:0,width:i,height:o,copy:!0})}},{key:"getReadFBOTex",value:function(){var e=this,t=this.rendererService.useFramebuffer;return new Promise((function(n,r){t(e.readFBO,Tt()(It.a.mark((function t(){return It.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n(e.getCurrentFBOTex());case 1:case"end":return t.stop()}}),t)}))))}))}},{key:"renderBloomPass",value:function(){var e=Tt()(It.a.mark((function e(t,n){var r,i;return It.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getReadFBOTex();case 2:r=e.sent,i=0;case 4:if(!(i<4)){e.next=11;break}return e.next=7,n.render(t,r);case 7:this.swap(),i++,e.next=4;break;case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=Tt()(It.a.mark((function e(t){var n,r;return It.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<this.passes.length)){e.next=15;break}if(r=this.passes[n],r.setRenderToScreen(this.isLastEnabledPass(n)),"bloom"!==r.getName()){e.next=9;break}return e.next=7,this.renderBloomPass(t,r);case 7:e.next=12;break;case 9:return e.next=11,r.render(t);case 11:n!==this.passes.length-1&&this.swap();case 12:n++,e.next=1;break;case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resize",value:function(e,t){this.readFBO.resize({width:e,height:t}),this.writeFBO.resize({width:e,height:t})}},{key:"add",value:function(e,t,n){e.init(t,n),this.passes.push(e)}},{key:"insert",value:function(e,t,n,r){e.init(n,r),this.passes.splice(t,0,e)}},{key:"getPostProcessingPassByName",value:function(e){return this.passes.find((function(t){return t.getName()===e}))}},{key:"init",value:function(){var e=this.rendererService,t=e.createFramebuffer,n=e.createTexture2D;this.readFBO=t({color:n({width:1,height:1,wrapS:ht.CLAMP_TO_EDGE,wrapT:ht.CLAMP_TO_EDGE})}),this.writeFBO=t({color:n({width:1,height:1,wrapS:ht.CLAMP_TO_EDGE,wrapT:ht.CLAMP_TO_EDGE})})}},{key:"isLastEnabledPass",value:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].isEnabled())return!1;return!0}},{key:"swap",value:function(){var e=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=e}}]),e}(),Go=We()(Vo.prototype,"rendererService",[Uo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We()(Vo.prototype,"init",[zo],Object.getOwnPropertyDescriptor(Vo.prototype,"init"),Vo.prototype),Ho=Vo))||Ho);function Qo(e){var t=Jo();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function Jo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var $o,ea,ta,na,ra,ia=(Wo=Object(o["injectable"])(),Wo(qo=function(e){te()(n,e);var t=Qo(n);function n(){return c()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getType",value:function(){return mr.Normal}},{key:"getName",value:function(){return"render"}},{key:"init",value:function(e,t){Fr()(oe()(n.prototype),"init",this).call(this,e,t)}},{key:"render",value:function(e){var t=this.rendererService,n=t.useFramebuffer,r=t.clear,i=e.multiPassRenderer.getPostProcessor().getReadFBO();n(i,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:i}),e.multiPassRenderer.setRenderFlag(!1),e.models.forEach((function(t){t.draw({uniforms:e.layerModel.getUninforms()})})),e.multiPassRenderer.setRenderFlag(!0)}))}}]),n}(zr))||qo);function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sa(e){var t=la();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function la(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ua="uniform float u_opacity : 1.0;\nuniform float u_MixRatio : 0.5;\n\nuniform sampler2D u_Diffuse1;\nuniform sampler2D u_Diffuse2;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  vec4 texel1 = texture2D(u_Diffuse1, v_UV);\n  vec4 texel2 = texture2D(u_Diffuse2, v_UV);\n  gl_FragColor = u_opacity * mix(texel1, texel2, u_MixRatio);\n}\n",ca="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",fa="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}";function pa(e,t){var n=0,r=1/t,i=e;while(i>0)n+=r*(i%t),i=Math.floor(i/t),r/=t;return n}var da=1,ha=($o=Object(o["injectable"])(),ea=Object(o["inject"])(l.IShaderModuleService),$o((na=function(e){te()(n,e);var t=sa(n);function n(){var e;c()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Ve()($()(e),"shaderModuleService",ra,$()(e)),h()($()(e),"haltonSequence",[]),h()($()(e),"accumulatingId",0),h()($()(e),"frame",0),h()($()(e),"timer",void 0),h()($()(e),"sampleRenderTarget",void 0),h()($()(e),"prevRenderTarget",void 0),h()($()(e),"outputRenderTarget",void 0),h()($()(e),"copyRenderTarget",void 0),h()($()(e),"blendModel",void 0),h()($()(e),"outputModel",void 0),h()($()(e),"copyModel",void 0),e}return p()(n,[{key:"getType",value:function(){return mr.Normal}},{key:"getName",value:function(){return"taa"}},{key:"init",value:function(e,t){Fr()(oe()(n.prototype),"init",this).call(this,e,t);var r=this.rendererService,i=r.createFramebuffer,o=r.createTexture2D;this.sampleRenderTarget=i({color:o({width:1,height:1,wrapS:ht.CLAMP_TO_EDGE,wrapT:ht.CLAMP_TO_EDGE})}),this.prevRenderTarget=i({color:o({width:1,height:1,wrapS:ht.CLAMP_TO_EDGE,wrapT:ht.CLAMP_TO_EDGE})}),this.outputRenderTarget=i({color:o({width:1,height:1,wrapS:ht.CLAMP_TO_EDGE,wrapT:ht.CLAMP_TO_EDGE})}),this.copyRenderTarget=i({color:o({width:1,height:1,wrapS:ht.CLAMP_TO_EDGE,wrapT:ht.CLAMP_TO_EDGE})});for(var a=0;a<30;a++)this.haltonSequence.push([pa(a,2),pa(a,3)]);this.blendModel=this.createTriangleModel("blend-pass",ua),this.outputModel=this.createTriangleModel("copy-pass",ca,{blend:{enable:!0,func:{srcRGB:ht.ONE,dstRGB:ht.ONE_MINUS_SRC_ALPHA,srcAlpha:ht.ONE,dstAlpha:ht.ONE_MINUS_SRC_ALPHA},equation:{rgb:ht.FUNC_ADD,alpha:ht.FUNC_ADD}}}),this.copyModel=this.createTriangleModel("copy-pass",ca)}},{key:"render",value:function(e){var t=this,n=this.rendererService,r=n.clear,i=n.getViewportSize,o=n.useFramebuffer,a=i(),s=a.width,l=a.height;this.sampleRenderTarget.resize({width:s,height:l}),this.prevRenderTarget.resize({width:s,height:l}),this.outputRenderTarget.resize({width:s,height:l}),this.copyRenderTarget.resize({width:s,height:l}),this.resetFrame(),this.stopAccumulating();var u=e.multiPassRenderer.getPostProcessor().getReadFBO();o(u,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:u}),e.multiPassRenderer.setRenderFlag(!1),e.render(),e.multiPassRenderer.setRenderFlag(!0)}));var c=function n(r){t.accumulatingId&&r===t.accumulatingId&&(t.isFinished()||(t.doRender(e),v["a"].requestAnimationFrame((function(){n(r)}))))};this.accumulatingId=da++,this.timer=v["a"].setTimeout((function(){c(t.accumulatingId)}),50)}},{key:"doRender",value:function(e){var t=this,n=this.rendererService,r=n.clear,i=n.getViewportSize,o=n.useFramebuffer,a=i(),s=a.width,l=a.height,u=e.getLayerConfig(),c=u.jitterScale,f=void 0===c?1:c,p=this.haltonSequence[this.frame%this.haltonSequence.length];this.cameraService.jitterProjectionMatrix((2*p[0]-1)/s*f,(2*p[1]-1)/l*f),e.multiPassRenderer.setRenderFlag(!1),e.hooks.beforeRender.call(),o(this.sampleRenderTarget,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:t.sampleRenderTarget}),e.render()})),e.hooks.afterRender.call(),e.multiPassRenderer.setRenderFlag(!0);var d=e.getLayerConfig();o(this.outputRenderTarget,(function(){t.blendModel.draw({uniforms:{u_opacity:d.opacity||1,u_MixRatio:0===t.frame?1:.9,u_Diffuse1:t.sampleRenderTarget,u_Diffuse2:0===t.frame?e.multiPassRenderer.getPostProcessor().getReadFBO():t.prevRenderTarget}})})),0===this.frame&&r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.copyRenderTarget}),this.frame>=1&&(o(this.copyRenderTarget,(function(){t.outputModel.draw({uniforms:{u_Texture:t.outputRenderTarget}})})),o(e.multiPassRenderer.getPostProcessor().getReadFBO(),(function(){t.copyModel.draw({uniforms:{u_Texture:t.copyRenderTarget}})})),e.multiPassRenderer.getPostProcessor().render(e));var h=this.prevRenderTarget;this.prevRenderTarget=this.outputRenderTarget,this.outputRenderTarget=h,this.frame++,this.cameraService.clearJitterProjectionMatrix()}},{key:"isFinished",value:function(){return this.frame>=this.haltonSequence.length}},{key:"resetFrame",value:function(){this.frame=0}},{key:"stopAccumulating",value:function(){this.accumulatingId=0,v["a"].clearTimeout(this.timer)}},{key:"createTriangleModel",value:function(e,t,n){this.shaderModuleService.registerModule(e,{vs:fa,fs:t});var r=this.shaderModuleService.getModule(e),i=r.vs,o=r.fs,a=r.uniforms,s=this.rendererService,l=s.createAttribute,u=s.createBuffer,c=s.createModel;return c(aa({vs:i,fs:o,attributes:{a_Position:l({buffer:u({data:[-4,-4,4,-4,0,4],type:ht.FLOAT}),size:2})},uniforms:aa({},a),depth:{enable:!1},count:3},n))}}]),n}(zr),ra=We()(na.prototype,"shaderModuleService",[ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ta=na))||ta),va=new o["Container"];va.bind(l.IGlobalConfigService).to(ze).inSingletonScope(),Object(o["decorate"])(Object(o["injectable"])(),r["EventEmitter"]),va.bind(l.IEventEmitter).to(r["EventEmitter"]);var ma=s()(va,!1),ga=function(e){var t=ma.lazyInject(e);return function(e,n,r){t.call(this,e,n),r&&(r.initializer=function(){return e[n]})}},ya=va,ba=0;function _a(){var e=new o["Container"];return e.parent=va,e.bind(l.SceneID).toConstantValue("".concat(ba++)),e.bind(l.IShaderModuleService).to(Nr).inSingletonScope(),e.bind(l.ILayerService).to(an).inSingletonScope(),e.bind(l.ISceneService).to(ar).inSingletonScope(),e.bind(l.ICameraService).to(be).inSingletonScope(),e.bind(l.ICoordinateSystemService).to(ut).inSingletonScope(),e.bind(l.IInteractionService).to(kt).inSingletonScope(),e.bind(l.IPickingService).to(Xt).inSingletonScope(),e.bind(l.IControlService).to(ke).inSingletonScope(),e.bind(l.IMarkerService).to(Me).inSingletonScope(),e.bind(l.IIconService).to(ve).inSingletonScope(),e.bind(l.IFontService).to(Q).inSingletonScope(),e.bind(l.IPopupService).to(Te).inSingletonScope(),e.bind(l.INormalPass).to(Kr).whenTargetNamed("clear"),e.bind(l.INormalPass).to(fi).whenTargetNamed("pixelPicking"),e.bind(l.INormalPass).to(ia).whenTargetNamed("render"),e.bind(l.INormalPass).to(ha).whenTargetNamed("taa"),e.bind(l.IFactoryNormalPass).toFactory((function(e){return function(t){return e.container.getNamed(l.INormalPass,t)}})),e.bind(l.IPostProcessingPass).to(co).whenTargetNamed("copy"),e.bind(l.IPostProcessingPass).to(Mi).whenTargetNamed("bloom"),e.bind(l.IPostProcessingPass).to(Bi).whenTargetNamed("blurH"),e.bind(l.IPostProcessingPass).to(Xi).whenTargetNamed("blurV"),e.bind(l.IPostProcessingPass).to(No).whenTargetNamed("noise"),e.bind(l.IPostProcessingPass).to(Ko).whenTargetNamed("sepia"),e.bind(l.IPostProcessingPass).to(ro).whenTargetNamed("colorHalftone"),e.bind(l.IPostProcessingPass).to(_o).whenTargetNamed("hexagonalPixelate"),e.bind(l.IPostProcessingPass).to(ko).whenTargetNamed("ink"),e.bind(l.IFactoryPostProcessingPass).toFactory((function(e){return function(t){var n=e.container.getNamed(l.IPostProcessingPass,t);return n.setName(t),n}})),e}function Ea(e){var t=new o["Container"];return t.parent=e,t.bind(l.IStyleAttributeService).to(er).inSingletonScope(),t.bind(l.IMultiPassRenderer).to(ti).inSingletonScope(),t.bind(l.IPostProcessor).to(Zo).inSingletonScope(),t}n("9nhX");var xa,wa,Sa,Oa;(function(e){e["normal"]="normal",e["additive"]="additive",e["subtractive"]="subtractive",e["min"]="min",e["max"]="max",e["none"]="none"})(xa||(xa={})),function(e){e["LINEAR"]="linear",e["SEQUENTIAL"]="sequential",e["POWER"]="power",e["LOG"]="log",e["IDENTITY"]="identity",e["TIME"]="time",e["QUANTILE"]="quantile",e["QUANTIZE"]="quantize",e["THRESHOLD"]="threshold",e["CAT"]="cat",e["DIVERGING"]="diverging"}(wa||(wa={})),function(e){e["CONSTANT"]="constant",e["VARIABLE"]="variable"}(Sa||(Sa={})),function(e){e[e["Attribute"]=0]="Attribute",e[e["InstancedAttribute"]=1]="InstancedAttribute",e[e["Uniform"]=2]="Uniform"}(Oa||(Oa={}));var Ca,Aa=["mapload","mapchange","mapAfterFrameChange"],Pa={ProjectionMatrix:"u_ProjectionMatrix",ViewMatrix:"u_ViewMatrix",ViewProjectionMatrix:"u_ViewProjectionMatrix",Zoom:"u_Zoom",ZoomScale:"u_ZoomScale",FocalDistance:"u_FocalDistance",CameraPosition:"u_CameraPosition"},ka=["loaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"];(function(e){e["TOPRIGHT"]="topright",e["TOPLEFT"]="topleft",e["BOTTOMRIGHT"]="bottomright",e["BOTTOMLEFT"]="bottomleft",e["TOPCENTER"]="topcenter",e["BOTTOMCENTER"]="bottomcenter",e["LEFTCENTER"]="leftcenter",e["RIGHTCENTER"]="rightcenter"})(Ca||(Ca={}))},h7MG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n("doU7"),i=n("MON2"),o=n("FV85"),a=n("xfSm"),s=n("qK8v"),l=n("ujMp"),u=n("oy+k"),c=n("GXnB"),f=n("yMAV"),p=n("fbrv"),d=n("xiII"),h=n("dX1H");function v(e){return e._bindingDictionary}function m(e,t,n,r,i,o){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,l=new c.Metadata(s,n),u=new h.Target(t,r,n,l);if(void 0!==i){var f=new c.Metadata(i,o);u.metadata.push(f)}return u}function g(e,t,n,i,o){var a=_(n.container,o.serviceIdentifier),s=[];return a.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"===typeof o.serviceIdentifier&&e.getConstructorMetadata(o.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(o.serviceIdentifier).toSelf(),a=_(n.container,o.serviceIdentifier)),s=t?a:a.filter((function(e){var t=new d.Request(e.serviceIdentifier,n,i,e,o);return e.constraint(t)})),y(o.serviceIdentifier,s,o,n.container),s}function y(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=l.getServiceIdentifierAsString(e),s=i.NOT_REGISTERED;throw s+=l.listMetadataForTarget(a,n),s+=l.listRegisteredBindingsForServiceIdentifier(o,a,_),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;a=l.getServiceIdentifierAsString(e),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=l.listRegisteredBindingsForServiceIdentifier(o,a,_),new Error(s)}}function b(e,t,n,r,a,s){var l,u;if(null===a){l=g(e,t,r,null,s),u=new d.Request(n,r,null,l,s);var c=new f.Plan(r,u);r.addPlan(c)}else l=g(e,t,r,a,s),u=a.addChildRequest(s.serviceIdentifier,l,s);l.forEach((function(t){var n=null;if(s.isArray())n=u.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;n=u}if(t.type===o.BindingTypeEnum.Instance&&null!==t.implementationType){var a=p.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var l=p.getBaseClassDependencyCount(e,t.implementationType);if(a.length<l){var c=i.ARGUMENTS_LENGTH_MISMATCH(p.getFunctionName(t.implementationType));throw new Error(c)}}a.forEach((function(t){b(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function _(e,t){var n=[],r=v(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=_(e.parent,t)),n}function E(e,t,n,r,i,o,a,c){void 0===c&&(c=!1);var f=new u.Context(t),p=m(n,r,i,"",o,a);try{return b(e,c,i,f,null,p),f}catch(d){throw s.isStackOverflowExeption(d)&&f.plan&&l.circularDependencyToException(f.plan.rootRequest),d}}function x(e,t,n,r){var i=new h.Target(o.TargetTypeEnum.Variable,"",t,new c.Metadata(n,r)),a=new u.Context(e),s=new d.Request(t,a,null,[],i);return s}t.getBindingDictionary=v,t.plan=E,t.createMockRequest=x},hBjN:function(e,t,n){"use strict";var r=n("wE6v"),i=n("m/L8"),o=n("XGwC");e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},hByQ:function(e,t,n){"use strict";var r=n("14Sl"),i=n("glrk"),o=n("HYAF"),a=n("Ep9I"),s=n("FMNM");r("search",1,(function(e,t,n){return[function(t){var n=o(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),l=String(this),u=o.lastIndex;a(u,0)||(o.lastIndex=0);var c=s(o,l);return a(o.lastIndex,u)||(o.lastIndex=u),null===c?-1:c.index}]}))},hDyC:function(e,t,n){"use strict";var r=n("I+eb"),i=n("DMt2").end,o=n("mgyK");r({target:"String",proto:!0,forced:o},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"hKI/":function(e,t,n){(function(t){var n="Expected a function",r=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=c||f||Function("return this")(),d=Object.prototype,h=d.toString,v=Math.max,m=Math.min,g=function(){return p.Date.now()};function y(e,t,r){var i,o,a,s,l,u,c=0,f=!1,p=!1,d=!0;if("function"!=typeof e)throw new TypeError(n);function h(t){var n=i,r=o;return i=o=void 0,c=t,s=e.apply(r,n),s}function y(e){return c=e,l=setTimeout(x,t),f?h(e):s}function b(e){var n=e-u,r=e-c,i=t-n;return p?m(i,a-r):i}function E(e){var n=e-u,r=e-c;return void 0===u||n>=t||n<0||p&&r>=a}function x(){var e=g();if(E(e))return S(e);l=setTimeout(x,b(e))}function S(e){return l=void 0,d&&i?h(e):(i=o=void 0,s)}function O(){void 0!==l&&clearTimeout(l),c=0,i=u=o=l=void 0}function C(){return void 0===l?s:S(g())}function A(){var e=g(),n=E(e);if(i=arguments,o=this,u=e,n){if(void 0===l)return y(u);if(p)return l=setTimeout(x,t),h(u)}return void 0===l&&(l=setTimeout(x,t)),s}return t=w(t)||0,_(r)&&(f=!!r.leading,p="maxWait"in r,a=p?v(w(r.maxWait)||0,t):a,d="trailing"in r?!!r.trailing:d),A.cancel=O,A.flush=C,A}function b(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(n);return _(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),y(e,t,{leading:i,maxWait:t,trailing:o})}function _(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function E(e){return!!e&&"object"==typeof e}function x(e){return"symbol"==typeof e||E(e)&&h.call(e)==i}function w(e){if("number"==typeof e)return e;if(x(e))return r;if(_(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?r:+e}e.exports=b}).call(this,n("IyRk"))},hMMk:function(e,t,n){var r=n("dOgj");r("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"hOG+":function(e,t){(function(t){e.exports=function(){var e={311:function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}},n={};function r(t){if(n[t])return n[t].exports;var i=n[t]={exports:{}},o=!0;try{e[t](i,i.exports,r),o=!1}finally{o&&delete n[t]}return i.exports}return r.ab=t+"/",r(311)}()}).call(this,"/")},hcok:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("SEBh"),u=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{difference:function(e){var t=a(this),n=new(l(t,o("Set")))(t),r=s(n["delete"]);return u(e,(function(e){r.call(n,e)})),n}})},heNW:function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},hh1v:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},hi0z:function(e,t,n){"use strict";(function(t,n){e.exports=n()})(0,(function(){function e(e){var r=[];return e.AMapUI&&r.push(t(e.AMapUI)),e.Loca&&r.push(n(e.Loca)),Promise.all(r)}function t(e){return new Promise((function(t,n){var s=[];if(e.plugins)for(var l=0;l<e.plugins.length;l+=1)-1==i.AMapUI.plugins.indexOf(e.plugins[l])&&s.push(e.plugins[l]);if(o.AMapUI===r.failed)n("\u524d\u6b21\u8bf7\u6c42 AMapUI \u5931\u8d25");else if(o.AMapUI===r.notload){o.AMapUI=r.loading,i.AMapUI.version=e.version||i.AMapUI.version,l=i.AMapUI.version;var u=document.body||document.head,c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/ui/"+l+"/main.js",c.onerror=function(e){o.AMapUI=r.failed,n("\u8bf7\u6c42 AMapUI \u5931\u8d25")},c.onload=function(){if(o.AMapUI=r.loaded,s.length)window.AMapUI.loadUI(s,(function(){for(var e=0,n=s.length;e<n;e++){var r=s[e].split("/").slice(-1)[0];window.AMapUI[r]=arguments[e]}for(t();a.AMapUI.length;)a.AMapUI.splice(0,1)[0]()}));else for(t();a.AMapUI.length;)a.AMapUI.splice(0,1)[0]()},u.appendChild(c)}else o.AMapUI===r.loaded?e.version&&e.version!==i.AMapUI.version?n("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c AMapUI \u6df7\u7528"):s.length?window.AMapUI.loadUI(s,(function(){for(var e=0,n=s.length;e<n;e++){var r=s[e].split("/").slice(-1)[0];window.AMapUI[r]=arguments[e]}t()})):t():e.version&&e.version!==i.AMapUI.version?n("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c AMapUI \u6df7\u7528"):a.AMapUI.push((function(e){e?n(e):s.length?window.AMapUI.loadUI(s,(function(){for(var e=0,n=s.length;e<n;e++){var r=s[e].split("/").slice(-1)[0];window.AMapUI[r]=arguments[e]}t()})):t()}))}))}function n(e){return new Promise((function(t,n){if(i.AMap.version.startsWith("2.0"))n("Loca \u6682\u4e0d\u9002\u914d JSAPI 2.0,\u8bf7\u4f7f\u7528 1.4.15");else if(o.Loca===r.failed)n("\u524d\u6b21\u8bf7\u6c42 Loca \u5931\u8d25");else if(o.Loca===r.notload){o.Loca=r.loading,i.Loca.version=e.version||i.Loca.version;var s=i.Loca.version,l=i.key,u=document.body||document.head,c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/loca?v="+s+"&key="+l,c.onerror=function(e){o.Loca=r.failed,n("\u8bf7\u6c42 AMapUI \u5931\u8d25")},c.onload=function(){for(o.Loca=r.loaded,t();a.Loca.length;)a.Loca.splice(0,1)[0]()},u.appendChild(c)}else o.Loca===r.loaded?e.version&&e.version!==i.Loca.version?n("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c Loca \u6df7\u7528"):t():e.version&&e.version!==i.Loca.version?n("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c Loca \u6df7\u7528"):a.Loca.push((function(e){e?n(e):n()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var r;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(r||(r={}));var i={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},o={AMap:r.notload,AMapUI:r.notload,Loca:r.notload},a={AMap:[],AMapUI:[],Loca:[]},s=[],l=function(e){"function"==typeof e&&(o.AMap===r.loaded?e(window.AMap):s.push(e))};return{load:function(t){return new Promise((function(n,a){if(o.AMap==r.failed)a("");else if(o.AMap==r.notload){var u=t.key,c=t.version,f=t.plugins;u?(window.AMap&&"lbs.amap.com"!==location.host&&a("\u7981\u6b62\u591a\u79cdAPI\u52a0\u8f7d\u65b9\u5f0f\u6df7\u7528"),i.key=u,i.AMap.version=c||i.AMap.version,i.AMap.plugins=f||i.AMap.plugins,o.AMap=r.loading,c=document.body||document.head,window.___onAPILoaded=function(i){if(delete window.___onAPILoaded,i)o.AMap=r.failed,a(i);else for(o.AMap=r.loaded,e(t).then((function(){n(window.AMap)}))["catch"](a);s.length;)s.splice(0,1)[0]()},f=document.createElement("script"),f.type="text/javascript",f.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+i.AMap.version+"&key="+u+"&plugin="+i.AMap.plugins.join(","),f.onerror=function(e){o.AMap=r.failed,a(e)},c.appendChild(f)):a("\u8bf7\u586b\u5199key")}else if(o.AMap==r.loaded)if(t.key&&t.key!==i.key)a("\u591a\u4e2a\u4e0d\u4e00\u81f4\u7684 key");else if(t.version&&t.version!==i.AMap.version)a("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c JSAPI \u6df7\u7528");else{if(u=[],t.plugins)for(c=0;c<t.plugins.length;c+=1)-1==i.AMap.plugins.indexOf(t.plugins[c])&&u.push(t.plugins[c]);u.length?window.AMap.plugin(u,(function(){e(t).then((function(){n(window.AMap)}))["catch"](a)})):e(t).then((function(){n(window.AMap)}))["catch"](a)}else if(t.key&&t.key!==i.key)a("\u591a\u4e2a\u4e0d\u4e00\u81f4\u7684 key");else if(t.version&&t.version!==i.AMap.version)a("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c JSAPI \u6df7\u7528");else{var p=[];if(t.plugins)for(c=0;c<t.plugins.length;c+=1)-1==i.AMap.plugins.indexOf(t.plugins[c])&&p.push(t.plugins[c]);l((function(){p.length?window.AMap.plugin(p,(function(){e(t).then((function(){n(window.AMap)}))["catch"](a)})):e(t).then((function(){n(window.AMap)}))["catch"](a)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,i={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},o={AMap:r.notload,AMapUI:r.notload,Loca:r.notload},a={AMap:[],AMapUI:[],Loca:[]}}}}))},hypo:function(e,t,n){var r=n("O0oS");function i(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}e.exports=i},i4U9:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},i8i4:function(e,t,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}}r(),e.exports=n("yl30")},iIM6:function(e,t,n){"use strict";var r=n("g6v/"),i=n("RNIs"),o=n("ewvW"),a=n("UMSQ"),s=n("m/L8").f;r&&!("lastIndex"in[])&&(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=o(this),t=a(e.length);return 0==t?0:t-1}}),i("lastIndex"))},iSVu:function(e,t,n){var r=n("xs3f"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},iWIM:function(e,t,n){var r=n("n3AX");function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports["default"]=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports["default"]=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},iegG:function(e,t){function n(e){var t=e.target||e.srcElement;t.__resizeRAF__&&cancelAnimationFrame(t.__resizeRAF__),t.__resizeRAF__=requestAnimationFrame((function(){var n=t.__resizeTrigger__,r=n&&n.__resizeListeners__;r&&r.forEach((function(t){t.call(n,e)}))}))}var r=function(e,t){var r,i=this,o=i.document,a=o.attachEvent;function s(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",n)}if("undefined"!==typeof navigator&&(r=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!e.__resizeListeners__)if(e.__resizeListeners__=[],a)e.__resizeTrigger__=e,e.attachEvent("onresize",n);else{"static"===getComputedStyle(e).position&&(e.style.position="relative");var l=e.__resizeTrigger__=o.createElement("object");l.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none; z-index: -1; opacity: 0;"),l.setAttribute("class","resize-sensor"),l.setAttribute("tabindex","-1"),l.setAttribute("title",""),l.__resizeElement__=e,l.onload=s,l.type="text/html",r&&e.appendChild(l),l.data="about:blank",r||e.appendChild(l)}e.__resizeListeners__.push(t)};e.exports="undefined"===typeof window?r:r.bind(window),e.exports.unbind=function(e,t){var r=document.attachEvent,i=e.__resizeListeners__||[];if(t){var o=i.indexOf(t);-1!==o&&i.splice(o,1)}else i=e.__resizeListeners__=[];if(!i.length){if(r)e.detachEvent("onresize",n);else if(e.__resizeTrigger__){var a=e.__resizeTrigger__.contentDocument,s=a&&a.defaultView;s&&(s.removeEventListener("resize",n),delete s.__resizeTrigger__),e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)}delete e.__resizeListeners__}}},ihrJ:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ImZN"),o=n("HAuM");r({target:"Map",stat:!0},{groupBy:function(e,t){var n=new this;o(t);var r=o(n.has),a=o(n.get),s=o(n.set);return i(e,(function(e){var i=t(e);r.call(n,i)?a.call(n,i).push(e):s.call(n,i,[e])})),n}})},ilnZ:function(e,t,n){var r=n("dOgj");r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},imBb:function(e,t,n){var r;(function(i,o,a){if(i){for(var s,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)l[111+p]="f"+p;for(p=0;p<=9;++p)l[p+96]=p.toString();O.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},O.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,(function(){}),t)},O.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},O.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},O.prototype.stopCallback=function(e,t){var n=this;if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(S(t,n.target))return!1;if("composedPath"in e&&"function"===typeof e.composedPath){var r=e.composedPath()[0];r!==e.target&&(t=r)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},O.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},O.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);s=null},O.init=function(){var e=O(o);for(var t in e)"_"!==t.charAt(0)&&(O[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},O.init(),i.Mousetrap=O,e.exports&&(e.exports=O),r=function(){return O}.call(t,n,t,e),r===a||(e.exports=r)}function d(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:u[e.which]?u[e.which]:String.fromCharCode(e.which).toLowerCase()}function v(e,t){return e.sort().join(",")===t.sort().join(",")}function m(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function g(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function y(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function b(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function _(){if(!s)for(var e in s={},l)e>95&&e<112||l.hasOwnProperty(e)&&(s[l[e]]=e);return s}function E(e,t,n){return n||(n=_()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function x(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function w(e,t){var n,r,i,o=[];for(n=x(e),i=0;i<n.length;++i)r=n[i],f[r]&&(r=f[r]),t&&"keypress"!=t&&c[r]&&(r=c[r],o.push("shift")),b(r)&&o.push(r);return t=E(r,o,t),{key:r,modifiers:o,action:t}}function S(e,t){return null!==e&&e!==o&&(e===t||S(e.parentNode,t))}function O(e){var t=this;if(e=e||o,!(t instanceof O))return new O(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},i=!1,a=!1,s=!1;function l(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(s=!1)}function u(e,n,i,o,a,s){var l,u,c=[],f=i.type;if(!t._callbacks[e])return[];for("keyup"==f&&b(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(u=t._callbacks[e][l],(o||!u.seq||r[u.seq]==u.level)&&f==u.action&&("keypress"==f&&!i.metaKey&&!i.ctrlKey||v(n,u.modifiers))){var p=!o&&u.combo==a,d=o&&u.seq==o&&u.level==s;(p||d)&&t._callbacks[e].splice(l,1),c.push(u)}return c}function c(e,n,r,i){t.stopCallback(n,n.target||n.srcElement,r,i)||!1===e(n,r)&&(g(n),y(n))}function f(e){"number"!==typeof e.which&&(e.which=e.keyCode);var n=h(e);n&&("keyup"!=e.type||i!==n?t.handleKey(n,m(e),e):i=!1)}function p(){clearTimeout(n),n=setTimeout(l,1e3)}function _(e,t,n,o){function a(t){return function(){s=t,++r[e],p()}}function u(t){c(n,t,e),"keyup"!==o&&(i=h(t)),setTimeout(l,10)}r[e]=0;for(var f=0;f<t.length;++f){var d=f+1===t.length,v=d?u:a(o||w(t[f+1]).action);E(t[f],v,o,e,f)}}function E(e,n,r,i,o){t._directMap[e+":"+r]=n,e=e.replace(/\s+/g," ");var a,s=e.split(" ");s.length>1?_(e,s,n,r):(a=w(e,r),t._callbacks[a.key]=t._callbacks[a.key]||[],u(a.key,a.modifiers,{type:a.action},i,e,o),t._callbacks[a.key][i?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:i,level:o,combo:e}))}t._handleKey=function(e,t,n){var r,i=u(e,t,n),o={},f=0,p=!1;for(r=0;r<i.length;++r)i[r].seq&&(f=Math.max(f,i[r].level));for(r=0;r<i.length;++r)if(i[r].seq){if(i[r].level!=f)continue;p=!0,o[i[r].seq]=1,c(i[r].callback,n,i[r].combo,i[r].seq)}else p||c(i[r].callback,n,i[r].combo);var d="keypress"==n.type&&a;n.type!=s||b(e)||d||l(o),a=p&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)E(e[r],t,n)},d(e,"keypress",f),d(e,"keydown",f),d(e,"keyup",f)}})("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null)},inlA:function(e,t,n){"use strict";var r=n("I+eb"),i=n("Bs8V").f,o=n("UMSQ"),a=n("WjRb"),s=n("HYAF"),l=n("qxPZ"),u=n("xDBR"),c="".endsWith,f=Math.min,p=l("endsWith"),d=!u&&!p&&!!function(){var e=i(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!d&&!p},{endsWith:function(e){var t=String(s(this));a(e);var n=arguments.length>1?arguments[1]:void 0,r=o(t.length),i=void 0===n?r:f(o(n),r),l=String(e);return c?c.call(t,l,i):t.slice(i-l.length,i)===l}})},iqWW:function(e,t,n){"use strict";var r=n("ZUd8").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},iqeF:function(e,t,n){var r=n("2oRo"),i=n("0Dky"),o=n("HH4o"),a=n("67WC").NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,l=r.Int8Array;e.exports=!a||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!o((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new s(2),1,void 0).length}))},itsj:function(e,t){function n(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=n},iwkZ:function(e,t,n){var r=n("dOgj");r("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"j+VE":function(e,t,n){n("bFeb")},jF1x:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("2/Rp"),l=(n("TpwP"),n("q1tI")),u=n.n(l),c=()=>{var e=Object(l["useState"])(null),t=Object(r["a"])(e,2),n=t[0],c=t[1];return Object(l["useEffect"])((()=>{var e=new i["f"]({id:"map",map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawPoint"](e,{});c(t),t.enable(),e.on("zoomchange",(t=>{console.log(e.getZoom())})),e.on("dragend",(t=>{console.log(e.getCenter())}))}))}),[]),u.a.createElement("div",null,u.a.createElement("div",{style:{padding:8}},u.a.createElement(s["a"],{onClick:()=>null===n||void 0===n?void 0:n.enable()},"\u542f\u7528"),u.a.createElement(s["a"],{onClick:()=>null===n||void 0===n?void 0:n.disable()},"\u7981\u7528"),u.a.createElement(s["a"],{onClick:()=>null===n||void 0===n?void 0:n.clear()},"\u6e05\u7a7a")),u.a.createElement("div",{id:"map",style:{height:400,position:"relative"}}))};t["default"]=c},"jIg/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n("xfSm"),i=n("GXnB"),o=n("Ztfv");function a(e){return function(t,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}t.multiInject=a},jXQH:function(e,t,n){var r=n("TO8r"),i=/^\s+/;function o(e){return e?e.slice(0,r(e)+1).replace(i,""):e}e.exports=o},jYx5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n("xfSm"),i=n("GXnB"),o=n("Ztfv");function a(){return function(e,t,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"===typeof n?o.tagParameter(e,t,n,a):o.tagProperty(e,t,a)}}t.optional=a},"jbM+":function(e,t,n){var r=n("R/W3");function i(e,t){var n=null==e?0:e.length;return!!n&&r(e,t,0)>-1}e.exports=i},jeLo:function(e,t,n){var r=n("juv8"),i=n("mTTR");function o(e){return r(e,i(e))}e.exports=o},jpXb:function(e,t,n){var r=n("wZXL");e.exports=new r},juv8:function(e,t,n){var r=n("MrPd"),i=n("hypo");function o(e,t,n,o){var a=!n;n||(n={});var s=-1,l=t.length;while(++s<l){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?i(n,u,c):r(n,u,c)}return n}e.exports=o},jxRK:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["circle-autoactive"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["circle-autoactive"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"k+1r":function(e,t,n){var r=n("QkVE");function i(e){var t=r(this,e)["delete"](e);return this.size-=t?1:0,t}e.exports=i},"k/Of":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"j",(function(){return c})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return v})),n.d(t,"i",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"l",(function(){return r})),n.d(t,"q",(function(){return i})),n.d(t,"o",(function(){return o})),n.d(t,"m",(function(){return a})),n.d(t,"p",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"n",(function(){return b})),n.d(t,"h",(function(){return A})),n.d(t,"k",(function(){return M}));var r,i,o,a,s,l,u={draw:"crosshair",pointHover:"pointer",pointDrag:"move",lineHover:"pointer",lineDrag:"move",polygonHover:"pointer",polygonDrag:"move"},c={point:[],line:[],polygon:[],midPoint:[],dashLine:[],text:[]},f=n("b5oN"),p={showTotalDistance:!1,showDashDistance:!0,showWhen:["normal","active"],format:e=>e>=1e3?+(e/1e3).toFixed(2)+"km":+e.toFixed(2)+"m"},d={showWhen:["normal","active"],format:e=>e>1e6?"".concat(+(e/1e6).toFixed(2),"km\xb2"):"".concat(+e.toFixed(2),"m\xb2")},h={maxSize:100},v={remove:["del","backspace"],revert:["command+z","ctrl+z"],redo:["command+shift+z","ctrl+shift+z"]},m={allowHTML:!0,followCursor:!0,placement:"bottom-start",offset:[-10,20],plugins:[f["b"]],trigger:"manual",hideOnClick:!1,theme:"light"},g={data:"drawData",pointAdsorbPixel:12,lineAdsorbPixel:10};(function(e){e["Init"]="init",e["Destroy"]="destroy",e["Enable"]="enable",e["Disable"]="disable",e["Add"]="add",e["Edit"]="edit",e["Remove"]="remove",e["Clear"]="clear",e["Change"]="change",e["DragStart"]="dragStart",e["Dragging"]="dragging",e["DragEnd"]="dragEnd",e["AddNode"]="addNode",e["RemoveNode"]="removeNode"})(r||(r={})),function(e){e["Change"]="change",e["Update"]="update"}(i||(i={})),function(e){e["Click"]="click",e["UnClick"]="unclick",e["Dragstart"]="dragstart",e["Mousemove"]="mousemove",e["Mouseout"]="mouseout",e["Dragging"]="dragging",e["Dragend"]="dragend",e["DblClick"]="dblClick",e["Contextmenu"]="contextmenu"}(o||(o={})),function(e){e["Mousedown"]="mousedown",e["Mouseup"]="mouseup",e["Click"]="click",e["UnClick"]="unclick",e["Dblclick"]="dblclick",e["Mousemove"]="mousemove",e["Mouseover"]="mouseover",e["Mouseenter"]="mouseenter",e["Mouseleave"]="mouseleave",e["Mouseout"]="mouseout",e["Contextmenu"]="contextmenu"}(a||(a={})),function(e){e["Loaded"]="loaded",e["MapMove"]="mapmove",e["MoveStart"]="movestart",e["MoveEnd"]="moveend",e["ZoomChange"]="zoomchange",e["ZoomStart"]="zoomstart",e["ZoomEnd"]="zoomend",e["Click"]="click",e["Dblclick"]="dblclick",e["Mousemove"]="mousemove",e["Mousewheel"]="mousewheel",e["Mouseover"]="mouseover",e["Mouseout"]="mouseout",e["Mouseup"]="mouseup",e["Mousedown"]="mousedown",e["Contextmenu"]="contextmenu",e["Dragstart"]="dragstart",e["Dragging"]="dragging",e["Dragend"]="dragend"}(s||(s={})),function(e){e["DrawChange"]="drawchange",e["DataChange"]="datachange"}(l||(l={}));var y=n("cgDF"),b={point:y["d"],line:y["b"],dashLine:y["a"],midPoint:y["c"],text:y["g"],polygon:y["e"]},_=n("k1fw"),E="#1990FF",x="#ED9D48",w={blend:"normal",pickingBuffer:5},S={color:E,shape:"circle",size:6,stroke:"#ffffff"},O={color:x,shape:"circle",size:6,stroke:"#ffffff"},C={shape:"circle",size:6,color:x,stroke:"#ffffff"},A={options:w,normal:S,hover:Object(_["a"])(Object(_["a"])({},S),{},{size:8}),active:Object(_["a"])(Object(_["a"])({},S),{},{size:8,color:x}),style:{strokeWidth:2}},P={options:w,normal:O,hover:Object(_["a"])(Object(_["a"])({},O),{},{size:8}),active:Object(_["a"])(Object(_["a"])({},O),{},{size:8}),style:{strokeWidth:2}},k={color:E,size:12,stroke:"#ffffff"},M={point:P,line:{options:w,normal:{color:E,size:2},hover:{color:E,size:2},active:{color:x,size:2},style:{}},polygon:{options:w,normal:{color:E},hover:{color:E},active:{color:x},style:{opacity:.15}},midPoint:{options:w,normal:C},dashLine:{options:w,normal:{color:x,size:2},style:{lineType:"dash",dashArray:[6,6]}},text:{options:w,normal:k,active:Object(_["a"])(Object(_["a"])({},k),{},{color:x}),style:{fontWeight:"800",textOffset:[0,k.size+6],textAllowOverlap:!0,strokeWidth:2}}}},k1fw:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return o}))},kB6V:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=(n("TpwP"),n("q1tI")),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawPolygon"](e,{adsorbOptions:{}});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},kCCV:function(e,t){function n(e){this.options=e,!e.deferSetup&&this.setup()}n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=n},kCkZ:function(e,t,n){"use strict";var r=n("I+eb"),i=n("8GlL"),o=n("5mdu");r({target:"Promise",stat:!0},{try:function(e){var t=i.f(this),n=o(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},kOOl:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},kRJp:function(e,t,n){var r=n("g6v/"),i=n("m/L8"),o=n("XGwC");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},kRfI:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("S2ku"),s=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement(a["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"enable"),i.a.createElement("td",null,"\u5f00\u542f\u7ed8\u5236\uff0c\u53c2\u6570 ",i.a.createElement("code",null,"allowCreate")," \u7528\u4e8e\u63a7\u5236 ",i.a.createElement("code",null,"enable")," \u4e4b\u540e\u662f\u5426\u652f\u6301\u65b0\u589e\u7ed8\u5236\u7269\uff0c\u4f20 ",i.a.createElement("code",null,"false")," \u8868\u793a\u53ea\u5141\u8bb8\u7f16\u8f91\u4e0d\u5141\u8bb8\u65b0\u589e\uff0c\u9ed8\u8ba4\u4e3a ",i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement("code",null,"(allowCreate: boolean = true) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"disable"),i.a.createElement("td",null,"\u5173\u95ed\u7ed8\u5236"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"getData"),i.a.createElement("td",null,"\u83b7\u53d6\u5f53\u671f\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"() => Feature[]"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setData"),i.a.createElement("td",null,"\u8986\u76d6\u5e76\u8bbe\u7f6e\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"(features: Feature[]) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"clear"),i.a.createElement("td",null,"\u6e05\u7a7a\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"(disable: boolean) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"show"),i.a.createElement("td",null,"\u663e\u793a\u8be5 Draw \u4e0b\u6240\u6709\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"hide"),i.a.createElement("td",null,"\u9690\u85cf\u8be5 Draw \u4e0b\u6240\u6709\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setActiveFeature"),i.a.createElement("td",null,"\u5c06\u76ee\u6807 Feature \u8bbe\u4e3a\u6fc0\u6d3b\u6001\uff0c\u53ef\u4f20\u76ee\u6807 ",i.a.createElement("code",null,"Feature")," \u672c\u8eab\u6216\u5176 ",i.a.createElement("code",null,"id"),"\uff0c\u4f20 ",i.a.createElement("code",null,"null")," \u6216 ",i.a.createElement("code",null,"undefined")," \u5219\u53d6\u6d88\u6fc0\u6d3b\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"(feature: Feature | string | null | undefined) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"getRenderLayers"),i.a.createElement("td",null,"\u83b7\u53d6\u4e0d\u540c\u6e32\u67d3\u7c7b\u578b\u5bf9\u5e94\u7684 L7 \u539f\u751f\u56fe\u5c42"),i.a.createElement("td",null,i.a.createElement("code",null,"() => ","{"," [key: RenderType]: ILayer[] ","}"))),i.a.createElement("tr",null,i.a.createElement("td",null,"resetFeatures"),i.a.createElement("td",null,"\u6e05\u9664\u5f53\u524d\u6b63\u5728\u7ed8\u5236\u7684\u7ed8\u5236\u7269\uff0c\u540c\u65f6\u5c06\u6fc0\u6d3b\u7684\u7ed8\u5236\u7269\u7f6e\u4e3a\u666e\u901a\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"removeActiveFeature"),i.a.createElement("td",null,"\u5220\u9664\u5f53\u524d\u6fc0\u6d3b\u72b6\u6001\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"removeFeature"),i.a.createElement("td",null,"\u5220\u9664\u76ee\u6807 Feature \uff0c\u5c06\u76ee\u6807 Feature \u8bbe\u4e3a\u6fc0\u6d3b\u6001\uff0c\u53ef\u4f20\u76ee\u6807 Feature \u672c\u8eab\u6216\u5176 ",i.a.createElement("code",null,"properties")," \u4e2d ",i.a.createElement("code",null,"id")," \u5b57\u6bb5"),i.a.createElement("td",null,i.a.createElement("code",null,"(feature: Feature | string) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"isEnable"),i.a.createElement("td",null,"\u5224\u65ad\u5f53\u524d Draw \u662f\u5426\u5728\u7ed8\u5236\u72b6\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"() => boolean"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setHelper"),i.a.createElement("td",null,"\u8bbe\u7f6e\u5f53\u524d\u7ed8\u5236\u63d0\u793a\u6587\u6848\uff0c\u5efa\u8bae\u901a\u8fc7\u914d\u7f6e\u8fdb\u884c\u81ea\u5b9a\u4e49\u800c\u975e\u624b\u52a8\u8c03\u7528\u8be5\u65b9\u6cd5"),i.a.createElement("td",null,i.a.createElement("code",null,"(content: string | Element | DocumentFragment) => boolean"))),i.a.createElement("tr",null,i.a.createElement("td",null,"revertHistory"),i.a.createElement("td",null,"\u56de\u9000\u81f3\u4e0a\u4e00\u6b21\u4fdd\u5b58\u7684\u7ed8\u5236\u72b6\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"() => SourceData | undefined"))),i.a.createElement("tr",null,i.a.createElement("td",null,"redoHistory"),i.a.createElement("td",null,"\u91cd\u7f6e\u5230\u4e0a\u4e00\u6b21\u56de\u9000"),i.a.createElement("td",null,i.a.createElement("code",null,"() => SourceData | undefined"))),i.a.createElement("tr",null,i.a.createElement("td",null,"destroy"),i.a.createElement("td",null,"\u9500\u6bc1\u5f53\u524d Draw \u5b9e\u4f8b"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"kVK+":function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,p=n?-1:1,d=e[t+f];for(f+=p,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+f>=1?p/l:p*Math.pow(2,1-f),t*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=h,a/=256,u-=8);e[n+d-h]|=128*v}},kXwq:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["point-autoactive"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["point-autoactive"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},kd2E:function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!==typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"===typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var f,p,d,h,v=e[c].replace(s,"%20"),m=v.indexOf(n);m>=0?(f=v.substr(0,m),p=v.substr(m+1)):(f=v,p=""),d=decodeURIComponent(f),h=decodeURIComponent(p),r(a,d)?i(a[d])?a[d].push(h):a[d]=[a[d],h]:a[d]=h}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},kekF:function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},kmMV:function(e,t,n){"use strict";var r=n("rW0t"),i=n("n3/R"),o=RegExp.prototype.exec,a=String.prototype.replace,s=o,l=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,c=void 0!==/()??/.exec("")[1],f=l||c||u;f&&(s=function(e){var t,n,i,s,f=this,p=u&&f.sticky,d=r.call(f),h=f.source,v=0,m=e;return p&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),m=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(h="(?: "+h+")",m=" "+m,v++),n=new RegExp("^(?:"+h+")",d)),c&&(n=new RegExp("^"+h+"$(?!\\s)",d)),l&&(t=f.lastIndex),i=o.call(p?n:f,m),p?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:l&&i&&(f.lastIndex=f.global?i.index+i[0].length:t),c&&i&&i.length>1&&a.call(i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),e.exports=s},"l/vG":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("A2ZE"),u=n("SEBh"),c=n("Sssf"),f=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{filter:function(e){var t=a(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,o("Map"))),p=s(i.set);return f(n,(function(e,n){r(n,e,t)&&p.call(i,e,n)}),void 0,!0,!0),i}})},l4aY:function(e,t,n){"use strict";function r(e,t){return!!e&&e.contains(t)}n.d(t,"a",(function(){return r}))},lDpO:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("WVt+"),l=n("LvDl"),u=n("q1tI"),c=n.n(u),f=String(Math.random()),p=()=>{var e=Object(u["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]),p=Object(u["useState"])([]),d=Object(r["a"])(p,2),h=d[0],v=d[1],m=Object(u["useState"])(null),g=Object(r["a"])(m,2),y=(g[0],g[1]),b=Object(u["useState"])(null),_=Object(r["a"])(b,2),E=_[0],x=_[1];return Object(u["useEffect"])((()=>{var e=new i["f"]({id:f,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"light",zoom:10})});e.addImage("arrow","https://gw.alipayobjects.com/zos/bmw-prod/ce83fc30-701f-415b-9750-4b146f4b3dd6.svg"),e.addImage("site","https://gw.alipayobjects.com/mdn/antv_site/afts/img/A*BJ6cTpDcuLcAAAAAAAAAAABkARQnAQ"),e.on("loaded",(()=>{y(e);var t=new o["DrawLine"](e,{autoActive:!1,multiple:!0,distanceOptions:{showTotalDistance:!0},style:{point:{normal:{size:8},active:{size:10}},dashLine:{normal:{size:4}},line:{normal:{size:4},hover:{size:4},active:{size:4},callback:e=>{e.forEach((e=>{e.animate({interval:1,duration:1,trailLength:2}).style({lineTexture:!0,iconStep:40,iconStepCount:4})}))}}}});n(t),t.enable(),t.on(o["DrawEvent"].Add,(e=>{var t=Object(s["coordAll"])(e),n=Object(l["first"])(t),r=Object(l["last"])(t);v([{lng:n[0],lat:n[1]},{lng:r[0],lat:r[1]}])}));var r=new i["d"]({blend:"normal"}).source([]).shape("site").size(12).style({offsets:[0,16]});e.addLayer(r),x(r)}))}),[]),Object(u["useEffect"])((()=>{null===E||void 0===E||E.setData(h,{parser:{type:"json",x:"lng",y:"lat"}})}),[h,E]),c.a.createElement("div",null,c.a.createElement("div",{id:f,style:{height:600,position:"relative"}}))};t["default"]=p},lEou:function(e,t,n){var r=n("dG/n");r("toStringTag")},lMq5:function(e,t,n){var r=n("0Dky"),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==u||n!=l&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},lSCD:function(e,t,n){var r=n("NykK"),i=n("GoyQ"),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";function u(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==l}e.exports=u},lSNA:function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},lehK:function(e,t,n){var r=n("I+eb");r({target:"Math",stat:!0},{iaddh:function(e,t,n,r){var i=e>>>0,o=t>>>0,a=n>>>0;return o+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},ljhN:function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},lmH4:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("mh/w"),u=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(e){var t=l(this),n=a(e),r=n.has;return"function"!=typeof r&&(n=new(o("Set"))(e),r=s(n.has)),!u(t,(function(e){if(!1===r.call(n,e))return u.stop()}),void 0,!1,!0).stopped}})},lwsE:function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"m+aA":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i8i4"),i=n.n(r);function o(e){return e instanceof HTMLElement?e:i.a.findDOMNode(e)}},"m/9U":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["usage-tilemap"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["usage-tilemap"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},"m/L8":function(e,t,n){var r=n("g6v/"),i=n("DPsx"),o=n("glrk"),a=n("wE6v"),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},m0LI:function(e,t){function n(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},m92n:function(e,t,n){var r=n("glrk");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){var o=e["return"];throw void 0!==o&&r(o.call(e)),a}}},mBDr:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function i(e){var t=r["useRef"]();t.current=e;var n=r["useCallback"]((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}},mGGf:function(e,t,n){"use strict";n("4mDm");var r=n("I+eb"),i=n("0GbY"),o=n("DTth"),a=n("busE"),s=n("4syw"),l=n("1E5z"),u=n("ntOU"),c=n("afO8"),f=n("GarU"),p=n("UTVS"),d=n("A2ZE"),h=n("9d/t"),v=n("glrk"),m=n("hh1v"),g=n("fHMY"),y=n("XGwC"),b=n("mh/w"),_=n("NaFW"),E=n("tiKp"),x=i("fetch"),w=i("Headers"),S=E("iterator"),O="URLSearchParams",C=O+"Iterator",A=c.set,P=c.getterFor(O),k=c.getterFor(C),M=/\+/g,T=Array(4),L=function(e){return T[e-1]||(T[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},I=function(e){try{return decodeURIComponent(e)}catch(t){return e}},D=function(e){var t=e.replace(M," "),n=4;try{return decodeURIComponent(t)}catch(r){while(n)t=t.replace(L(n--),I);return t}},R=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},j=function(e){return N[e]},F=function(e){return encodeURIComponent(e).replace(R,j)},B=function(e,t){if(t){var n,r,i=t.split("&"),o=0;while(o<i.length)n=i[o++],n.length&&(r=n.split("="),e.push({key:D(r.shift()),value:D(r.join("="))}))}},U=function(e){this.entries.length=0,B(this.entries,e)},z=function(e,t){if(e<t)throw TypeError("Not enough arguments")},H=u((function(e,t){A(this,{type:C,iterator:b(P(e).entries),kind:t})}),"Iterator",(function(){var e=k(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),V=function(){f(this,V,O);var e,t,n,r,i,o,a,s,l,u=arguments.length>0?arguments[0]:void 0,c=this,d=[];if(A(c,{type:O,entries:d,updateURL:function(){},updateSearchParams:U}),void 0!==u)if(m(u))if(e=_(u),"function"===typeof e){t=e.call(u),n=t.next;while(!(r=n.call(t)).done){if(i=b(v(r.value)),o=i.next,(a=o.call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:a.value+"",value:s.value+""})}}else for(l in u)p(u,l)&&d.push({key:l,value:u[l]+""});else B(d,"string"===typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},G=V.prototype;s(G,{append:function(e,t){z(arguments.length,2);var n=P(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){z(arguments.length,1);var t=P(this),n=t.entries,r=e+"",i=0;while(i<n.length)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){z(arguments.length,1);for(var t=P(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){z(arguments.length,1);for(var t=P(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){z(arguments.length,1);var t=P(this).entries,n=e+"",r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){z(arguments.length,1);for(var n,r=P(this),i=r.entries,o=!1,a=e+"",s=t+"",l=0;l<i.length;l++)n=i[l],n.key===a&&(o?i.splice(l--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=P(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){var t,n=P(this).entries,r=d(e,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<n.length)t=n[i++],r(t.value,t.key,this)},keys:function(){return new H(this,"keys")},values:function(){return new H(this,"values")},entries:function(){return new H(this,"entries")}},{enumerable:!0}),a(G,S,G.entries),a(G,"toString",(function(){var e,t=P(this).entries,n=[],r=0;while(r<t.length)e=t[r++],n.push(F(e.key)+"="+F(e.value));return n.join("&")}),{enumerable:!0}),l(V,O),r({global:!0,forced:!o},{URLSearchParams:V}),o||"function"!=typeof x||"function"!=typeof w||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(t=arguments[1],m(t)&&(n=t.body,h(n)===O&&(r=t.headers?new w(t.headers):new w,r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=g(t,{body:y(0,String(n)),headers:y(0,r)}))),i.push(t)),x.apply(this,i)}}),e.exports={URLSearchParams:V,getState:P}},mGKP:function(e,t,n){var r=n("EdiO");function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},mNvP:function(e,t,n){(function(e,t){var n;(function(n){(function(e){var r="object"===typeof t?t:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),i=o(n);function o(e,t){return function(n,r){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}"undefined"===typeof r.Reflect?r.Reflect=n:i=o(r.Reflect,i),e(i)})((function(t){var n=Object.prototype.hasOwnProperty,r="function"===typeof Symbol,i=r&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",a="function"===typeof Object.create,s={__proto__:[]}instanceof Array,l=!a&&!s,u={create:a?function(){return oe(Object.create(null))}:s?function(){return oe({__proto__:null})}:function(){return oe({})},has:l?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:l?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),f="object"===typeof e&&Object({NODE_ENV:"production"})&&"true"===Object({NODE_ENV:"production"})["REFLECT_METADATA_USE_MAP_POLYFILL"],p=f||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?ne():Map,d=f||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?re():Set,h=f||"function"!==typeof WeakMap?ie():WeakMap,v=new h;function m(e,t,n,r){if(j(n)){if(!q(e))throw new TypeError;if(!X(t))throw new TypeError;return C(e,t)}if(!q(e))throw new TypeError;if(!U(t))throw new TypeError;if(!U(r)&&!j(r)&&!F(r))throw new TypeError;return F(r)&&(r=void 0),n=W(n),A(e,t,n,r)}function g(e,t){function n(n,r){if(!U(n))throw new TypeError;if(!j(r)&&!K(r))throw new TypeError;I(e,t,n,r)}return n}function y(e,t,n,r){if(!U(n))throw new TypeError;return j(r)||(r=W(r)),I(e,t,n,r)}function b(e,t,n){if(!U(t))throw new TypeError;return j(n)||(n=W(n)),k(e,t,n)}function _(e,t,n){if(!U(t))throw new TypeError;return j(n)||(n=W(n)),M(e,t,n)}function E(e,t,n){if(!U(t))throw new TypeError;return j(n)||(n=W(n)),T(e,t,n)}function x(e,t,n){if(!U(t))throw new TypeError;return j(n)||(n=W(n)),L(e,t,n)}function w(e,t){if(!U(e))throw new TypeError;return j(t)||(t=W(t)),D(e,t)}function S(e,t){if(!U(e))throw new TypeError;return j(t)||(t=W(t)),R(e,t)}function O(e,t,n){if(!U(t))throw new TypeError;j(n)||(n=W(n));var r=P(t,n,!1);if(j(r))return!1;if(!r["delete"](e))return!1;if(r.size>0)return!0;var i=v.get(t);return i["delete"](n),i.size>0||v["delete"](t),!0}function C(e,t){for(var n=e.length-1;n>=0;--n){var r=e[n],i=r(t);if(!j(i)&&!F(i)){if(!X(i))throw new TypeError;t=i}}return t}function A(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=e[i],a=o(t,n,r);if(!j(a)&&!F(a)){if(!U(a))throw new TypeError;r=a}}return r}function P(e,t,n){var r=v.get(e);if(j(r)){if(!n)return;r=new p,v.set(e,r)}var i=r.get(t);if(j(i)){if(!n)return;i=new p,r.set(t,i)}return i}function k(e,t,n){var r=M(e,t,n);if(r)return!0;var i=te(t);return!F(i)&&k(e,i,n)}function M(e,t,n){var r=P(t,n,!1);return!j(r)&&V(r.has(e))}function T(e,t,n){var r=M(e,t,n);if(r)return L(e,t,n);var i=te(t);return F(i)?void 0:T(e,i,n)}function L(e,t,n){var r=P(t,n,!1);if(!j(r))return r.get(e)}function I(e,t,n,r){var i=P(n,r,!0);i.set(e,t)}function D(e,t){var n=R(e,t),r=te(e);if(null===r)return n;var i=D(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new d,a=[],s=0,l=n;s<l.length;s++){var u=l[s],c=o.has(u);c||(o.add(u),a.push(u))}for(var f=0,p=i;f<p.length;f++){u=p[f],c=o.has(u);c||(o.add(u),a.push(u))}return a}function R(e,t){var n=[],r=P(e,t,!1);if(j(r))return n;var i=r.keys(),o=Q(i),a=0;while(1){var s=$(o);if(!s)return n.length=a,n;var l=J(s);try{n[a]=l}catch(u){try{ee(o)}finally{throw u}}a++}}function N(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function j(e){return void 0===e}function F(e){return null===e}function B(e){return"symbol"===typeof e}function U(e){return"object"===typeof e?null!==e:"function"===typeof e}function z(e,t){switch(N(e)){case 0:return e;case 1:return e;case 2:return e;case 3:return e;case 4:return e;case 5:return e}var n=3===t?"string":5===t?"number":"default",r=Z(e,i);if(void 0!==r){var o=r.call(e,n);if(U(o))throw new TypeError;return o}return H(e,"default"===n?"number":n)}function H(e,t){if("string"===t){var n=e.toString;if(Y(n)){var r=n.call(e);if(!U(r))return r}var i=e.valueOf;if(Y(i)){r=i.call(e);if(!U(r))return r}}else{i=e.valueOf;if(Y(i)){r=i.call(e);if(!U(r))return r}var o=e.toString;if(Y(o)){r=o.call(e);if(!U(r))return r}}throw new TypeError}function V(e){return!!e}function G(e){return""+e}function W(e){var t=z(e,3);return B(t)?t:G(t)}function q(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function Y(e){return"function"===typeof e}function X(e){return"function"===typeof e}function K(e){switch(N(e)){case 3:return!0;case 4:return!0;default:return!1}}function Z(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!Y(n))throw new TypeError;return n}}function Q(e){var t=Z(e,o);if(!Y(t))throw new TypeError;var n=t.call(e);if(!U(n))throw new TypeError;return n}function J(e){return e.value}function $(e){var t=e.next();return!t.done&&t}function ee(e){var t=e["return"];t&&t.call(e)}function te(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===c)return t;if(t!==c)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!==typeof i||i===e?t:i}function ne(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype["throw"]=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype["return"]=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype["delete"]=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}function re(){return function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype["delete"]=function(e){return this._map["delete"](e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}()}function ie(){var e=16,t=u.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){var n=o(e,!0);return n[this._key]=t,this},e.prototype["delete"]=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+l()}while(u.has(t,e));return t[e]=!0,e}function o(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function l(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function oe(e){return e.__=void 0,delete e.__,e}t("decorate",m),t("metadata",g),t("defineMetadata",y),t("hasMetadata",b),t("hasOwnMetadata",_),t("getMetadata",E),t("getOwnMetadata",x),t("getMetadataKeys",w),t("getOwnMetadataKeys",S),t("deleteMetadata",O)}))})(n||(n={}))}).call(this,n("Q2Ig"),n("IyRk"))},mSXw:function(e,t,n){"use strict";e.exports=n("9iN/")},mTTR:function(e,t,n){var r=n("b80T"),i=n("QcOe"),o=n("MMmD");function a(e){return o(e)?r(e,!0):i(e)}e.exports=a},ma9I:function(e,t,n){"use strict";var r=n("I+eb"),i=n("0Dky"),o=n("6LWA"),a=n("hh1v"),s=n("ewvW"),l=n("UMSQ"),u=n("hBjN"),c=n("ZfDv"),f=n("Hd5f"),p=n("tiKp"),d=n("LQDL"),h=p("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",g=d>=51||!i((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),y=f("concat"),b=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:o(e)},_=!g||!y;r({target:"Array",proto:!0,forced:_},{concat:function(e){var t,n,r,i,o,a=s(this),f=c(a,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?a:arguments[t],b(o)){if(i=l(o.length),p+i>v)throw TypeError(m);for(n=0;n<i;n++,p++)n in o&&u(f,p,o[n])}else{if(p>=v)throw TypeError(m);u(f,p++,o)}return f.length=p,f}})},mc0g:function(e,t){function n(e){return function(t,n,r){var i=-1,o=Object(t),a=r(t),s=a.length;while(s--){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}e.exports=n},md7G:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("U8pU"),i=n("JX7q");function o(e,t){if(t&&("object"===Object(r["a"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(i["a"])(e)}},mdPL:function(e,t,n){(function(e){var r=n("WFqU"),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a&&r.process,l=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=l}).call(this,n("hOG+")(e))},mgyK:function(e,t,n){var r=n("NC/Y");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},"mh/w":function(e,t,n){var r=n("glrk"),i=n("NaFW");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},mp8Z:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=(n("TpwP"),n("q1tI")),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawPoint"](e,{autoActive:!1});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},mpbz:function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(n,r,i,o,a,s){if(!(a-o<=i)){var l=o+a>>1;t(n,r,l,o,a,s%2),e(n,r,i,o,l-1,s+1),e(n,r,i,l+1,a,s+1)}}function t(e,r,i,o,a,s){while(a>o){if(a-o>600){var l=a-o+1,u=i-o+1,c=Math.log(l),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),d=Math.max(o,Math.floor(i-u*f/l+p)),h=Math.min(a,Math.floor(i+(l-u)*f/l+p));t(e,r,i,d,h,s)}var v=r[2*i+s],m=o,g=a;n(e,r,o,i),r[2*a+s]>v&&n(e,r,o,a);while(m<g){n(e,r,m,g),m++,g--;while(r[2*m+s]<v)m++;while(r[2*g+s]>v)g--}r[2*o+s]===v?n(e,r,o,g):(g++,n(e,r,g,a)),g<=i&&(o=g+1),i<=g&&(a=g-1)}}function n(e,t,n,i){r(e,n,i),r(t,2*n,2*i),r(t,2*n+1,2*i+1)}function r(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function i(e,t,n,r,i,o,a){var s,l,u=[0,e.length-1,0],c=[];while(u.length){var f=u.pop(),p=u.pop(),d=u.pop();if(p-d<=a)for(var h=d;h<=p;h++)s=t[2*h],l=t[2*h+1],s>=n&&s<=i&&l>=r&&l<=o&&c.push(e[h]);else{var v=Math.floor((d+p)/2);s=t[2*v],l=t[2*v+1],s>=n&&s<=i&&l>=r&&l<=o&&c.push(e[v]);var m=(f+1)%2;(0===f?n<=s:r<=l)&&(u.push(d),u.push(v-1),u.push(m)),(0===f?i>=s:o>=l)&&(u.push(v+1),u.push(p),u.push(m))}}return c}function o(e,t,n,r,i,o){var s=[0,e.length-1,0],l=[],u=i*i;while(s.length){var c=s.pop(),f=s.pop(),p=s.pop();if(f-p<=o)for(var d=p;d<=f;d++)a(t[2*d],t[2*d+1],n,r)<=u&&l.push(e[d]);else{var h=Math.floor((p+f)/2),v=t[2*h],m=t[2*h+1];a(v,m,n,r)<=u&&l.push(e[h]);var g=(c+1)%2;(0===c?n-i<=v:r-i<=m)&&(s.push(p),s.push(h-1),s.push(g)),(0===c?n+i>=v:r+i>=m)&&(s.push(h+1),s.push(f),s.push(g))}}return l}function a(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}var s=function(e){return e[0]},l=function(e){return e[1]},u=function(t,n,r,i,o){void 0===n&&(n=s),void 0===r&&(r=l),void 0===i&&(i=64),void 0===o&&(o=Float64Array),this.nodeSize=i,this.points=t;for(var a=t.length<65536?Uint16Array:Uint32Array,u=this.ids=new a(t.length),c=this.coords=new o(2*t.length),f=0;f<t.length;f++)u[f]=f,c[2*f]=n(t[f]),c[2*f+1]=r(t[f]);e(u,c,i,0,u.length-1,0)};u.prototype.range=function(e,t,n,r){return i(this.ids,this.coords,e,t,n,r,this.nodeSize)},u.prototype.within=function(e,t,n){return o(this.ids,this.coords,e,t,n,this.nodeSize)};var c={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},f=Math.fround||function(e){return function(t){return e[0]=+t,e[0]}}(new Float32Array(1)),p=function(e){this.options=E(Object.create(c),e),this.trees=new Array(this.options.maxZoom+1)};function d(e,t,n,r,i){return{x:f(e),y:f(t),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function h(e,t){var n=e.geometry.coordinates,r=n[0],i=n[1];return{x:f(g(r)),y:f(y(i)),zoom:1/0,index:t,parentId:-1}}function v(e){return{type:"Feature",id:e.id,properties:m(e),geometry:{type:"Point",coordinates:[b(e.x),_(e.y)]}}}function m(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return E(E({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function g(e){return e/360+.5}function y(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function b(e){return 360*(e-.5)}function _(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function E(e,t){for(var n in t)e[n]=t[n];return e}function x(e){return e.x}function w(e){return e.y}return p.prototype.load=function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,o=t.nodeSize;n&&console.time("total time");var a="prepare "+e.length+" points";n&&console.time(a),this.points=e;for(var s=[],l=0;l<e.length;l++)e[l].geometry&&s.push(h(e[l],l));this.trees[i+1]=new u(s,x,w,o,Float32Array),n&&console.timeEnd(a);for(var c=i;c>=r;c--){var f=+Date.now();s=this._cluster(s,c),this.trees[c]=new u(s,x,w,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",c,s.length,+Date.now()-f)}return n&&console.timeEnd("total time"),this},p.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],t),s=this.getClusters([-180,r,i,o],t);return a.concat(s)}for(var l=this.trees[this._limitZoom(t)],u=l.range(g(n),y(o),g(i),y(r)),c=[],f=0,p=u;f<p.length;f+=1){var d=p[f],h=l.points[d];c.push(h.numPoints?v(h):this.points[h.index])}return c},p.prototype.getChildren=function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[t];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=i.within(o.x,o.y,a),l=[],u=0,c=s;u<c.length;u+=1){var f=c[u],p=i.points[f];p.parentId===e&&l.push(p.numPoints?v(p):this.points[p.index])}if(0===l.length)throw new Error(r);return l},p.prototype.getLeaves=function(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r},p.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options,a=o.extent,s=o.radius,l=s/a,u=(n-l)/i,c=(n+1+l)/i,f={features:[]};return this._addTileFeatures(r.range((t-l)/i,u,(t+1+l)/i,c),r.points,t,n,i,f),0===t&&this._addTileFeatures(r.range(1-l/i,u,1,c),r.points,i,n,i,f),t===i-1&&this._addTileFeatures(r.range(0,u,l/i,c),r.points,-1,n,i,f),f.features.length?f:null},p.prototype.getClusterExpansionZoom=function(e){var t=this._getOriginZoom(e)-1;while(t<=this.options.maxZoom){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},p.prototype._appendLeaves=function(e,t,n,r,i){for(var o=this.getChildren(t),a=0,s=o;a<s.length;a+=1){var l=s[a],u=l.properties;if(u&&u.cluster?i+u.point_count<=r?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,n,r,i):i<r?i++:e.push(l),e.length===n)break}return i},p.prototype._addTileFeatures=function(e,t,n,r,i,o){for(var a=0,s=e;a<s.length;a+=1){var l=s[a],u=t[l],c=u.numPoints,f=void 0,p=void 0,d=void 0;if(c)f=m(u),p=u.x,d=u.y;else{var h=this.points[u.index];f=h.properties,p=g(h.geometry.coordinates[0]),d=y(h.geometry.coordinates[1])}var v={type:1,geometry:[[Math.round(this.options.extent*(p*i-n)),Math.round(this.options.extent*(d*i-r))]],tags:f},b=void 0;c?b=u.id:this.options.generateId?b=u.index:this.points[u.index].id&&(b=this.points[u.index].id),void 0!==b&&(v.id=b),o.features.push(v)}},p.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))},p.prototype._cluster=function(e,t){for(var n=[],r=this.options,i=r.radius,o=r.extent,a=r.reduce,s=r.minPoints,l=i/(o*Math.pow(2,t)),u=0;u<e.length;u++){var c=e[u];if(!(c.zoom<=t)){c.zoom=t;for(var f=this.trees[t+1],p=f.within(c.x,c.y,l),h=c.numPoints||1,v=h,m=0,g=p;m<g.length;m+=1){var y=g[m],b=f.points[y];b.zoom>t&&(v+=b.numPoints||1)}if(v>h&&v>=s){for(var _=c.x*h,E=c.y*h,x=a&&h>1?this._map(c,!0):null,w=(u<<5)+(t+1)+this.points.length,S=0,O=p;S<O.length;S+=1){var C=O[S],A=f.points[C];if(!(A.zoom<=t)){A.zoom=t;var P=A.numPoints||1;_+=A.x*P,E+=A.y*P,A.parentId=w,a&&(x||(x=this._map(c,!0)),a(x,this._map(A)))}}c.parentId=w,n.push(d(_/v,E/v,w,v,x))}else if(n.push(c),v>1)for(var k=0,M=p;k<M.length;k+=1){var T=M[k],L=f.points[T];L.zoom<=t||(L.zoom=t,n.push(L))}}}return n},p.prototype._getOriginId=function(e){return e-this.points.length>>5},p.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},p.prototype._map=function(e,t){if(e.numPoints)return t?E({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?E({},r):r},p}))},"mv/X":function(e,t,n){var r=n("ljhN"),i=n("MMmD"),o=n("wJg7"),a=n("GoyQ");function s(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}e.exports=s},mv1u:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["point-start"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["point-start"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},n2J3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n("xfSm"),i=n("GXnB"),o=n("Ztfv");function a(){return function(e,t,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,a)}}t.unmanaged=a},"n3/R":function(e,t,n){"use strict";var r=n("0Dky");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},n3AX:function(e,t,n){var r=n("Nsbk");function i(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=r(e),null===e)break;return e}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},n3Ah:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["polygon-style"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["polygon-style"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},n5b4:function(e,t,n){var r=n("I+eb"),i=n("2oRo"),o=n("tXUg"),a=n("xrYK"),s=i.process,l="process"==a(s);r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=l&&s.domain;o(t?t.bind(e):e)}})},n5pg:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("A2ZE"),s=n("Sssf"),l=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return l(n,(function(e,n){if(r(n,e,t))return l.stop(e)}),void 0,!0,!0).result}})},nAS7:function(e,t,n){e.exports={card:"card___2tU3f",content:"content___2hAib",icon:"icon___3kWmv",title:"title___32XqN",description:"description___3OM9G",cards:"cards___3SnUO",cardWrapper:"cardWrapper___3maHS"}},nIe3:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("A2ZE"),u=n("SEBh"),c=n("Sssf"),f=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(e){var t=a(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,o("Map"))),p=s(i.set);return f(n,(function(e,n){p.call(i,r(n,e,t),n)}),void 0,!0,!0),i}})},nLCz:function(e,t,n){"use strict";function r(){var e=i(n("q1tI"));return r=function(){return e},e}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=r()["default"].createContext({config:{mode:"doc",title:"",navs:{},menus:{},locales:[],repository:{branch:"master"},theme:{}},meta:{title:""},menu:[],nav:[],base:"",routes:[],apis:{},demos:{}});t["default"]=o},nmnc:function(e,t,n){var r=n("Kz5y"),i=r.Symbol;e.exports=i},nsHX:function(e,t,n){"use strict";n.r(t);var r=n("8ml+"),i=n("/7QA"),o=n("zWmH"),a=n("q1tI"),s=n.n(a),l=String(Math.random()),u=()=>(Object(a["useEffect"])((()=>{var e=new r["f"]({id:l,map:new o["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new i["DrawControl"](e,{defaultActiveType:"point"});e.addControl(t)}))}),[]),s.a.createElement("div",null,s.a.createElement("div",{id:l,style:{height:400,position:"relative"}})));t["default"]=u},ntOU:function(e,t,n){"use strict";var r=n("rpNk").IteratorPrototype,i=n("fHMY"),o=n("XGwC"),a=n("1E5z"),s=n("P4y1"),l=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,u,!1,!0),s[u]=l,e}},nvu9:function(e,t,n){"use strict";t.__esModule=!0,t.getParameters=void 0;var r=n("e9O8");t.getParameters=r.getParameters},ny8l:function(e,t,n){var r=n("I+eb");r({target:"Math",stat:!0},{signbit:function(e){return(e=+e)==e&&0==e?1/e==-1/0:e<0}})},o0kM:function(e,t,n){"use strict";var r=n("dmwd")["default"],i=n("5wUe")["default"];function o(){var e=n("q1tI");return o=function(){return e},e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return h(e)||d(e,t)||f(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function h(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var v,m="https://riddle.alibaba-inc.com/riddles/define",g=function(){var e=(0,o().useState)(Boolean(v)),t=u(e,2),n=t[0],r=t[1];return(0,o().useEffect)((function(){if(void 0===v){var e=document.createElement("img");setTimeout((function(){e.src="",e.remove()}),200),e.onload=function(){v=!0,r(!0),e.remove()},e.src="https://private-alipayobjects.alipay.com/alipay-rmsdeploy-image/rmsportal/RKuAiriJqrUhyqW.png"}}),[]),n};function y(e){var t=e.sources._.tsx||e.sources._.jsx;return t=t.replace(/^/,"import ReactDOM from 'react-dom';\n").replace("export default","const DumiDemo =").concat("\nReactDOM.render(<DumiDemo />, mountNode);"),t}var b=function(e){var t=(0,o().useState)(),n=u(t,2),a=n[0],l=n[1],c=g();return(0,o().useEffect)((function(){if(e&&c&&1===Object.keys(e.sources).length){var t,n=document.createElement("form"),o=document.createElement("input");return n.method="POST",n.target="_blank",n.style.display="none",n.action=m,n.appendChild(o),n.setAttribute("data-demo",e.title||""),o.name="data",o.value=JSON.stringify({title:e.titlle,js:y(e),css:Object.entries(e.dependencies).filter((function(e){var t=i(e,2),n=t[1];return n.css})).map((function(e){var t=i(e,2),n=t[0],r=t[1],o=r.version,a=r.css;return"@import '~".concat(a.replace(new RegExp("^(".concat(n,")")),"$1@".concat(o)),"';")})).concat(e.background?"body {\n  background: ".concat(e.background,";\n}"):"").join("\n"),json:JSON.stringify({description:e.description,dependencies:Object.entries(e.dependencies).reduce((function(e,t){var n=i(t,2),o=n[0],a=n[1].version;return s(s({},e),{},r({},o,a))}),{"react-dom":(null===(t=e.dependencies.react)||void 0===t?void 0:t.version)||"latest"})},null,2)}),document.body.appendChild(n),l((function(){return function(){return n.submit()}})),function(){return n.remove()}}}),[e,c]),a};t["default"]=b},o0o1:function(e,t,n){var r=n("fsL8")();e.exports=r;try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},"oCl/":function(e,t,n){var r=n("CH3K"),i=n("LcsW"),o=n("MvSz"),a=n("0ycA"),s=Object.getOwnPropertySymbols,l=s?function(e){var t=[];while(e)r(t,o(e)),e=i(e);return t}:a;e.exports=l},"oHi+":function(e,t,n){var r=n("ewvW"),i=n("UMSQ"),o=n("NaFW"),a=n("6VoE"),s=n("A2ZE"),l=n("67WC").aTypedArrayConstructor;e.exports=function(e){var t,n,u,c,f,p,d=r(e),h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,g=o(d);if(void 0!=g&&!a(g)){f=g.call(d),p=f.next,d=[];while(!(c=p.call(f)).done)d.push(c.value)}for(m&&h>2&&(v=s(v,arguments[2],2)),n=i(d.length),u=new(l(this))(n),t=0;n>t;t++)u[t]=m?v(d[t],t):d[t];return u}},oLHl:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["point-multiple"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["point-multiple"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},oShl:function(e,t,n){var r=n("Nsbk"),i=n("SksO"),o=n("xfeJ"),a=n("sXyB");function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},oaX6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n("xfSm"),i=n("GXnB"),o=n("Ztfv");function a(e){return function(t,n,a){var s=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,a,s)}}t.targetName=a},ofBz:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ntOU"),o=n("HYAF"),a=n("UMSQ"),s=n("HAuM"),l=n("glrk"),u=n("xrYK"),c=n("ROdP"),f=n("rW0t"),p=n("kRJp"),d=n("0Dky"),h=n("tiKp"),v=n("SEBh"),m=n("iqWW"),g=n("afO8"),y=n("xDBR"),b=h("matchAll"),_="RegExp String",E=_+" Iterator",x=g.set,w=g.getterFor(E),S=RegExp.prototype,O=S.exec,C="".matchAll,A=!!C&&!d((function(){"a".matchAll(/./)})),P=function(e,t){var n,r=e.exec;if("function"==typeof r){if(n=r.call(e,t),"object"!=typeof n)throw TypeError("Incorrect exec result");return n}return O.call(e,t)},k=i((function(e,t,n,r){x(this,{type:E,regexp:e,string:t,global:n,unicode:r,done:!1})}),_,(function(){var e=w(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=P(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""==String(r[0])&&(t.lastIndex=m(n,a(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})})),M=function(e){var t,n,r,i,o,s,u=l(this),c=String(e);return t=v(u,RegExp),n=u.flags,void 0===n&&u instanceof RegExp&&!("flags"in S)&&(n=f.call(u)),r=void 0===n?"":String(n),i=new t(t===RegExp?u.source:u,r),o=!!~r.indexOf("g"),s=!!~r.indexOf("u"),i.lastIndex=a(u.lastIndex),new k(i,c,o,s)};r({target:"String",proto:!0,forced:A},{matchAll:function(e){var t,n,r,i,a=o(this);if(null!=e){if(c(e)&&(t=String(o("flags"in S?e.flags:f.call(e))),!~t.indexOf("g")))throw TypeError("`.matchAll` does not allow non-global regexes");if(A)return C.apply(a,arguments);if(r=e[b],void 0===r&&y&&"RegExp"==u(e)&&(r=M),null!=r)return s(r).call(e,a)}else if(A)return C.apply(a,arguments);return n=String(a),i=new RegExp(e,"g"),y?M.call(i,n):i[b](n)}}),y||b in S||p(S,b,M)},og4C:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("tJVT"),i=n("k1fw"),o=n("uhBA"),a=n.n(o),s=n("LvDl"),l=n("k/Of");class u{constructor(e){var t=e.config;this.historyList=[],this.historyIndex=0,this.config=void 0,this.config=t}save(e){if(this.config){var t=this.config.maxSize;this.historyIndex&&(this.historyList=this.historyList.slice(this.historyIndex),this.historyIndex=0),this.historyList.length>=t&&this.historyList.pop();var n=Object(s["cloneDeep"])(e);return this.historyList.unshift(n),n}}revert(){if(this.historyList.length&&!(this.historyIndex>=this.historyList.length-1)){var e=this.historyList[++this.historyIndex];return e?Object(s["cloneDeep"])(e):void 0}}redo(){if(this.historyList.length&&!(this.historyIndex<=0)){var e=this.historyList[--this.historyIndex];return e?Object(s["cloneDeep"])(e):void 0}}}class c extends a.a{constructor(e){var t=e.data,n=e.render,r=e.history;super(),this.render=void 0,this.data=Object(s["cloneDeep"])(l["j"]),this.timeout=null,this.diffData={},this.history=void 0,this.render=n,r&&(this.history=new u({config:r})),t&&this.setData(t)}saveHistory(){var e;return null===(e=this.history)||void 0===e?void 0:e.save(this.data)}revertHistory(){var e,t=null===(e=this.history)||void 0===e?void 0:e.revert();if(t)return this.setData(t),t}redoHistory(){var e,t=null===(e=this.history)||void 0===e?void 0:e.redo();if(t)return this.setData(t),t}setData(e){return Object.keys(e).length&&(this.data=Object(i["a"])(Object(i["a"])({},this.data),e),this.diffData=Object(i["a"])(Object(i["a"])({},this.diffData),e),this.timeout||(this.timeout=requestAnimationFrame((()=>this.updateDiffData()))),this.emit(l["q"].Change,{data:this.data})),this.data}getData(){return this.data}getRenderData(e){return this.data[e]}setRenderData(e,t){var n="function"===typeof t?t(this.getRenderData(e)):t;return this.setData({[e]:[...n].sort(((e,t)=>+e.properties.isActive-+t.properties.isActive))}),this.emit(l["q"].Change,this.data),n}updateDiffData(){var e=Object.entries(this.diffData);e.length&&(e.forEach((e=>{var t,n=Object(r["a"])(e,2),i=n[0],o=n[1];Array.isArray(o)&&(null===(t=this.getRender(i))||void 0===t||t.setData(o))})),this.emit(l["q"].Update,this.data,this.diffData),this.diffData={},this.timeout=null)}getRender(e){return this.render[e]}clear(){this.setData(Object(s["fromPairs"])(Object.keys(this.render).map((e=>[e,[]]))))}}},oiiB:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("WVt+"),l=n("q1tI"),u=n.n(l),c=String(Math.random()),f=()=>{var e=Object(l["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(l["useEffect"])((()=>{var e=new i["f"]({id:c,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{e.addImage("site","https://gw.alipayobjects.com/mdn/rms_2591f5/afts/img/A*i7uyS6lLupYAAAAAAAAAAAAAARQnAQ");var t=new o["DrawPolygon"](e,{editable:!1,style:{polygon:{normal:{color:"rgba(0,0,0,0)"},hover:{color:"rgba(0,0,0,0)"},active:{color:"rgba(0,0,0,0)"}}}}),r=new i["d"]({blend:"normal"}).source([]).shape("site").size(12).style({offsets:[0,16]});e.addLayer(r),n(t),t.enable(),e.map.addLayer(new window.AMap.TileLayer.Satellite),t.on(o["DrawEvent"].Add,(e=>{var t=Object(s["bbox"])(e),n=Object(s["pointsWithinPolygon"])(Object(s["randomPoint"])(80,{bbox:t}),e);r.setData(n)}))}))}),[]),u.a.createElement("div",null,u.a.createElement("div",{id:c,style:{height:600,position:"relative"}}))};t["default"]=f},or5M:function(e,t,n){var r=n("1hJj"),i=n("QoRX"),o=n("xYSL"),a=1,s=2;function l(e,t,n,l,u,c){var f=n&a,p=e.length,d=t.length;if(p!=d&&!(f&&d>p))return!1;var h=c.get(e),v=c.get(t);if(h&&v)return h==t&&v==e;var m=-1,g=!0,y=n&s?new r:void 0;c.set(e,t),c.set(t,e);while(++m<p){var b=e[m],_=t[m];if(l)var E=f?l(_,b,m,t,e,c):l(b,_,m,e,t,c);if(void 0!==E){if(E)continue;g=!1;break}if(y){if(!i(t,(function(e,t){if(!o(y,t)&&(b===e||u(b,e,n,l,c)))return y.push(t)}))){g=!1;break}}else if(b!==_&&!u(b,_,n,l,c)){g=!1;break}}return c["delete"](e),c["delete"](t),g}e.exports=l},or9q:function(e,t,n){"use strict";var r=n("6LWA"),i=n("UMSQ"),o=n("A2ZE"),a=function(e,t,n,s,l,u,c,f){var p,d=l,h=0,v=!!c&&o(c,f,3);while(h<s){if(h in n){if(p=v?v(n[h],h,t):n[h],u>0&&r(p))d=a(e,t,p,i(p.length),d,u-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[d]=p}d++}h++}return d};e.exports=a},"otv/":function(e,t,n){var r=n("nmnc"),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;function a(e){return o?Object(o.call(e)):{}}e.exports=a},"oy+k":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n("d9O0"),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},"p3/k":function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("2/Rp"),l=(n("TpwP"),n("q1tI")),u=n.n(l),c=String(Math.random()),f=()=>{var e=Object(l["useState"])(null),t=Object(r["a"])(e,2),n=t[0],f=t[1];return Object(l["useEffect"])((()=>{var e=new i["f"]({id:c,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawCircle"](e,{});f(t),t.enable()}))}),[]),u.a.createElement("div",null,u.a.createElement("div",{style:{padding:8}},u.a.createElement(s["a"],{onClick:()=>null===n||void 0===n?void 0:n.enable()},"\u542f\u7528"),u.a.createElement(s["a"],{onClick:()=>null===n||void 0===n?void 0:n.disable()},"\u7981\u7528"),u.a.createElement(s["a"],{onClick:()=>null===n||void 0===n?void 0:n.clear()},"\u6e05\u7a7a")),u.a.createElement("div",{id:c,style:{height:400,position:"relative"}}))};t["default"]=f},p532:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("/qmn"),a=n("0Dky"),s=n("0GbY"),l=n("SEBh"),u=n("zfnd"),c=n("busE"),f=!!o&&a((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:f},{finally:function(e){var t=l(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof o||o.prototype["finally"]||c(o.prototype,"finally",s("Promise").prototype["finally"])},p5mE:function(e,t,n){var r=n("Tskq"),i=n("ENF9"),o=n("fHMY"),a=n("hh1v"),s=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=o(null)};s.prototype.get=function(e,t){return this[e]||(this[e]=t())},s.prototype.next=function(e,t,n){var o=n?this.objectsByIndex[e]||(this.objectsByIndex[e]=new i):this.primitives||(this.primitives=new r),a=o.get(t);return a||o.set(t,a=new s),a};var l=new s;e.exports=function(){var e,t,n=l,r=arguments.length;for(e=0;e<r;e++)a(t=arguments[e])&&(n=n.next(e,t,!0));if(this===Object&&n===l)throw TypeError("Composite keys must contain a non-primitive component");for(e=0;e<r;e++)a(t=arguments[e])||(n=n.next(e,t,!1));return n}},pB2c:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("Q7Ls"),s=n("S2ku"),l=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u8bf4\u660e"},i.a.createElement(o["AnchorLink"],{to:"#\u8bf4\u660e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u8bf4\u660e"),i.a.createElement("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cDraw \u4f1a\u81ea\u52a8\u5728\u4e3b\u8981\u64cd\u4f5c\uff08\u521b\u5efa\u3001\u7f16\u8f91\u3001\u62d6\u62fd\u3001\u65b0\u589e\u70b9\u7b49\uff09\u540e\u7684\u7ed8\u5236\u6570\u636e\uff0c\u81ea\u52a8\u4fdd\u5b58\u5728\u5386\u53f2\u8bb0\u5f55\u6808\u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u5feb\u6377\u952e\u6216\u8005\u8c03\u7528\u65b9\u6cd5\u7684\u65b9\u5f0f\u8fdb\u884c ",i.a.createElement("strong",null,"\u21a9\ufe0f \u56de\u9000")," \u548c ",i.a.createElement("strong",null,"\u21aa\ufe0f \u91cd\u505a")," \u64cd\u4f5c\uff0c\u5bf9\u5e94\u7684\u5c31\u662f\u5c06\u5386\u53f2\u8bb0\u5f55\u6808\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u8fd8\u539f\u81f3 Draw \u4e2d\u3002"),i.a.createElement("p",null,"\u56de\u9000\u548c\u91cd\u505a\u64cd\u4f5c\u9ed8\u8ba4\u5206\u522b\u901a\u8fc7",i.a.createElement(o["Link"],{to:"/docs/super/keyboard"},"\u5feb\u6377\u952e")," ",i.a.createElement("code",null,"ctrl/command + z")," \u548c ",i.a.createElement("code",null,"ctrl/command + shift + z")," \u6765\u89e6\u53d1\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 Draw \u5b9e\u4f8b\u4e2d\u7684\u65b9\u6cd5 ",i.a.createElement("code",null,"revertHistory")," \u548c ",i.a.createElement("code",null,"redoHistory"),"\u6765\u624b\u52a8\u89e6\u53d1\u56de\u9000/\u91cd\u505a\u64cd\u4f5c\u3002"),i.a.createElement("h2",{id:"\u793a\u4f8b"},i.a.createElement(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b"),i.a.createElement(a["a"],{code:"import { DrawPoint } from '@antv/l7-draw';\n\nconst drawer = new DrawPoint(scene, {\n  // \u5386\u53f2\u8bb0\u5f55\u6808\u76f8\u5173\u7684\u914d\u7f6e\n  history: {\n    maxSize: 100,\n  },\n  // \u4f20false\u8868\u793a\u4e0d\u5f00\u542f\u5386\u53f2\u8bb0\u5f55\u7684\u4fdd\u5b58\uff0c\u540c\u65f6\u4e5f\u4f1a\u5bfc\u81f4\u56de\u9000/\u91cd\u505a\u529f\u80fd\u5931\u6548\n  // history: false,\n});\n\n// \u624b\u52a8\u8c03\u7528\u56de\u9000\u65b9\u6cd5\ndrawer.revertHistory();",lang:"tsx"}),i.a.createElement("h2",{id:"\u914d\u7f6e"},i.a.createElement(o["AnchorLink"],{to:"#\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u914d\u7f6e"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"maxSize"),i.a.createElement("td",null,"\u4fdd\u5b58\u5386\u53f2\u8bb0\u5f55\u7684\u6700\u5927\u4e2a\u6570\uff0c\u8d85\u51fa\u65f6\u5219\u628a\u6700\u65e9\u4fdd\u5b58\u7684\u8bb0\u5f55\u5254\u9664"),i.a.createElement("td",null,i.a.createElement("code",null,"number")),i.a.createElement("td",null,i.a.createElement("code",null,"100")))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(l,{demos:n})}},pDQq:function(e,t,n){"use strict";var r=n("I+eb"),i=n("I8vh"),o=n("ppGB"),a=n("UMSQ"),s=n("ewvW"),l=n("ZfDv"),u=n("hBjN"),c=n("Hd5f"),f=n("rkAj"),p=c("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,v=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!p||!d},{splice:function(e,t){var n,r,c,f,p,d,y=s(this),b=a(y.length),_=i(e,b),E=arguments.length;if(0===E?n=r=0:1===E?(n=0,r=b-_):(n=E-2,r=v(h(o(t),0),b-_)),b+n-r>m)throw TypeError(g);for(c=l(y,r),f=0;f<r;f++)p=_+f,p in y&&u(c,f,y[p]);if(c.length=r,n<r){for(f=_;f<b-r;f++)p=f+r,d=f+n,p in y?y[d]=y[p]:delete y[d];for(f=b;f>b-r+n;f--)delete y[f-1]}else if(n>r)for(f=b-r;f>_;f--)p=f+r-1,d=f+n-1,p in y?y[d]=y[p]:delete y[d];for(f=0;f<n;f++)y[f+_]=arguments[f+2];return y.length=b-r+n,c}})},pFRH:function(e,t,n){var r=n("cvCv"),i=n("O0oS"),o=n("zZ0H"),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},pIsd:function(e,t,n){var r=n("BJfS"),i=function(e){var t=/[height|width]$/;return t.test(e)},o=function(e){var t="",n=Object.keys(e);return n.forEach((function(o,a){var s=e[o];o=r(o),i(o)&&"number"===typeof s&&(s+="px"),t+=!0===s?o:!1===s?"not "+o:"("+o+": "+s+")",a<n.length-1&&(t+=" and ")})),t},a=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=o(n),r<e.length-1&&(t+=", ")})),t):o(e)};e.exports=a},pNMO:function(e,t,n){"use strict";var r=n("I+eb"),i=n("2oRo"),o=n("0GbY"),a=n("xDBR"),s=n("g6v/"),l=n("STAE"),u=n("/b8u"),c=n("0Dky"),f=n("UTVS"),p=n("6LWA"),d=n("hh1v"),h=n("glrk"),v=n("ewvW"),m=n("/GqU"),g=n("wE6v"),y=n("XGwC"),b=n("fHMY"),_=n("33Wh"),E=n("JBy8"),x=n("BX/b"),w=n("dBg+"),S=n("Bs8V"),O=n("m/L8"),C=n("0eef"),A=n("kRJp"),P=n("busE"),k=n("VpIT"),M=n("93I0"),T=n("0BK2"),L=n("kOOl"),I=n("tiKp"),D=n("5Tg+"),R=n("dG/n"),N=n("1E5z"),j=n("afO8"),F=n("tycR").forEach,B=M("hidden"),U="Symbol",z="prototype",H=I("toPrimitive"),V=j.set,G=j.getterFor(U),W=Object[z],q=i.Symbol,Y=o("JSON","stringify"),X=S.f,K=O.f,Z=x.f,Q=C.f,J=k("symbols"),$=k("op-symbols"),ee=k("string-to-symbol-registry"),te=k("symbol-to-string-registry"),ne=k("wks"),re=i.QObject,ie=!re||!re[z]||!re[z].findChild,oe=s&&c((function(){return 7!=b(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=X(W,t);r&&delete W[t],K(e,t,n),r&&e!==W&&K(W,t,r)}:K,ae=function(e,t){var n=J[e]=b(q[z]);return V(n,{type:U,tag:e,description:t}),s||(n.description=t),n},se=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof q},le=function(e,t,n){e===W&&le($,t,n),h(e);var r=g(t,!0);return h(n),f(J,r)?(n.enumerable?(f(e,B)&&e[B][r]&&(e[B][r]=!1),n=b(n,{enumerable:y(0,!1)})):(f(e,B)||K(e,B,y(1,{})),e[B][r]=!0),oe(e,r,n)):K(e,r,n)},ue=function(e,t){h(e);var n=m(t),r=_(n).concat(he(n));return F(r,(function(t){s&&!fe.call(n,t)||le(e,t,n[t])})),e},ce=function(e,t){return void 0===t?b(e):ue(b(e),t)},fe=function(e){var t=g(e,!0),n=Q.call(this,t);return!(this===W&&f(J,t)&&!f($,t))&&(!(n||!f(this,t)||!f(J,t)||f(this,B)&&this[B][t])||n)},pe=function(e,t){var n=m(e),r=g(t,!0);if(n!==W||!f(J,r)||f($,r)){var i=X(n,r);return!i||!f(J,r)||f(n,B)&&n[B][r]||(i.enumerable=!0),i}},de=function(e){var t=Z(m(e)),n=[];return F(t,(function(e){f(J,e)||f(T,e)||n.push(e)})),n},he=function(e){var t=e===W,n=Z(t?$:m(e)),r=[];return F(n,(function(e){!f(J,e)||t&&!f(W,e)||r.push(J[e])})),r};if(l||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e),n=function(e){this===W&&n.call($,e),f(this,B)&&f(this[B],t)&&(this[B][t]=!1),oe(this,t,y(1,e))};return s&&ie&&oe(W,t,{configurable:!0,set:n}),ae(t,e)},P(q[z],"toString",(function(){return G(this).tag})),P(q,"withoutSetter",(function(e){return ae(L(e),e)})),C.f=fe,O.f=le,S.f=pe,E.f=x.f=de,w.f=he,D.f=function(e){return ae(I(e),e)},s&&(K(q[z],"description",{configurable:!0,get:function(){return G(this).description}}),a||P(W,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:q}),F(_(ne),(function(e){R(e)})),r({target:U,stat:!0,forced:!l},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var n=q(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!s},{create:ce,defineProperty:le,defineProperties:ue,getOwnPropertyDescriptor:pe}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:de,getOwnPropertySymbols:he}),r({target:"Object",stat:!0,forced:c((function(){w.f(1)}))},{getOwnPropertySymbols:function(e){return w.f(v(e))}}),Y){var ve=!l||c((function(){var e=q();return"[null]"!=Y([e])||"{}"!=Y({a:e})||"{}"!=Y(Object(e))}));r({target:"JSON",stat:!0,forced:ve},{stringify:function(e,t,n){var r,i=[e],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=t,(d(t)||void 0!==e)&&!se(e))return p(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),i[1]=t,Y.apply(null,i)}})}q[z][H]||A(q[z],H,q[z].valueOf),N(q,U),T[B]=!0},pSRY:function(e,t,n){var r=n("QkVE");function i(e){return r(this,e).has(e)}e.exports=i},pevA:function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),o=n("JiZb"),a=n("HAuM"),s=n("glrk"),l=n("hh1v"),u=n("GarU"),c=n("m/L8").f,f=n("kRJp"),p=n("4syw"),d=n("mh/w"),h=n("ImZN"),v=n("RN6c"),m=n("tiKp"),g=n("afO8"),y=m("observable"),b=g.get,_=g.set,E=function(e){return null==e?void 0:a(e)},x=function(e){var t=e.cleanup;if(t){e.cleanup=void 0;try{t()}catch(n){v(n)}}},w=function(e){return void 0===e.observer},S=function(e,t){if(!i){e.closed=!0;var n=t.subscriptionObserver;n&&(n.closed=!0)}t.observer=void 0},O=function(e,t){var n,r=_(this,{cleanup:void 0,observer:s(e),subscriptionObserver:void 0});i||(this.closed=!1);try{(n=E(e.start))&&n.call(e,this)}catch(c){v(c)}if(!w(r)){var o=r.subscriptionObserver=new C(this);try{var l=t(o),u=l;null!=l&&(r.cleanup="function"===typeof l.unsubscribe?function(){u.unsubscribe()}:a(l))}catch(c){return void o.error(c)}w(r)&&x(r)}};O.prototype=p({},{unsubscribe:function(){var e=b(this);w(e)||(S(this,e),x(e))}}),i&&c(O.prototype,"closed",{configurable:!0,get:function(){return w(b(this))}});var C=function(e){_(this,{subscription:e}),i||(this.closed=!1)};C.prototype=p({},{next:function(e){var t=b(b(this).subscription);if(!w(t)){var n=t.observer;try{var r=E(n.next);r&&r.call(n,e)}catch(i){v(i)}}},error:function(e){var t=b(this).subscription,n=b(t);if(!w(n)){var r=n.observer;S(t,n);try{var i=E(r.error);i?i.call(r,e):v(e)}catch(o){v(o)}x(n)}},complete:function(){var e=b(this).subscription,t=b(e);if(!w(t)){var n=t.observer;S(e,t);try{var r=E(n.complete);r&&r.call(n)}catch(i){v(i)}x(t)}}}),i&&c(C.prototype,"closed",{configurable:!0,get:function(){return w(b(b(this).subscription))}});var A=function(e){u(this,A,"Observable"),_(this,{subscriber:a(e)})};p(A.prototype,{subscribe:function(e){var t=arguments.length;return new O("function"===typeof e?{next:e,error:t>1?arguments[1]:void 0,complete:t>2?arguments[2]:void 0}:l(e)?e:{},b(this).subscriber)}}),p(A,{from:function(e){var t="function"===typeof this?this:A,n=E(s(e)[y]);if(n){var r=s(n.call(e));return r.constructor===t?r:new t((function(e){return r.subscribe(e)}))}var i=d(e);return new t((function(e){h(i,(function(t){if(e.next(t),e.closed)return h.stop()}),void 0,!1,!0),e.complete()}))},of:function(){var e="function"===typeof this?this:A,t=arguments.length,n=new Array(t),r=0;while(r<t)n[r]=arguments[r++];return new e((function(e){for(var r=0;r<t;r++)if(e.next(n[r]),e.closed)return;e.complete()}))}}),f(A.prototype,y,(function(){return this})),r({global:!0},{Observable:A}),o("Observable")},pjDv:function(e,t,n){var r=n("I+eb"),i=n("TfTi"),o=n("HH4o"),a=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:a},{from:i})},pjVD:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("Q7Ls"),s=n("S2ku"),l=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u8bf4\u660e"},i.a.createElement(o["AnchorLink"],{to:"#\u8bf4\u660e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u8bf4\u660e"),i.a.createElement("p",null,"\u4e3a\u4e86\u65b9\u4fbf\u7528\u6237\u5feb\u901f\u7f16\u8f91\u7ed8\u5236\u7269\uff0cDraw \u4e2d\u5185\u7f6e\u4e86\u4e00\u7cfb\u5217\u5feb\u6377\u952e\u3002"),i.a.createElement("ul",null,i.a.createElement("li",null,"\u21a9\ufe0f \u56de\u9000\uff1a\u56de\u9000\u81f3\u4e0a\u4e00\u6b21\u5386\u53f2\u8bb0\u5f55\uff0c\u9ed8\u8ba4\u4f7f\u7528 ",i.a.createElement("code",null,"command/ctrl + z"),"\u3002"),i.a.createElement("li",null,"\u21aa\ufe0f \u91cd\u505a\uff1a\u64a4\u9500\u4e0a\u4e00\u6b21\u56de\u9000\uff0c\u9ed8\u8ba4\u4f7f\u7528 ",i.a.createElement("code",null,"command/ctrl + shift + z"),"\u3002"),i.a.createElement("li",null,"\u274c \u5220\u9664\uff1a\u5220\u9664\u5f53\u524d\u6fc0\u6d3b\u7684\u7ed8\u5236\u7269\uff0c\u9ed8\u8ba4\u4f7f\u7528 ",i.a.createElement("code",null,"delete")," \u6216 ",i.a.createElement("code",null,"backspace"),"\u3002")),i.a.createElement("p",null,"\u7528\u6237\u53ef\u4ee5\u9009\u62e9\u5173\u95ed\u90e8\u5206\u5feb\u6377\u952e\u529f\u80fd\uff0c\u6216\u8005\u81ea\u5b9a\u4e49\u5feb\u6377\u952e\u7684\u6309\u952e\u3002"),i.a.createElement("p",null,"\u9664\u6b64\u4e4b\u5916\uff0c",i.a.createElement("code",null,"L7Draw")," \u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u901a\u8fc7\u9f20\u6807\u89e6\u53d1\u7684\u5feb\u6377\u64cd\u4f5c\uff1a"),i.a.createElement("ul",null,i.a.createElement("li",null,"\u2b55 \u5220\u9664\u7ed3\u70b9\uff1a\u5220\u9664\u5f53\u524d\u8282\u70b9\uff0c\u4ec5\u652f\u6301\u5728 ",i.a.createElement("code",null,"DrawLine")," \u548c ",i.a.createElement("code",null,"DrawPolygon")," \u4e2d\u4f7f\u7528\uff0c\u9ed8\u8ba4\u5728 ",i.a.createElement("code",null,"\u9f20\u6807\u53f3\u952e\u5355\u51fb\u8282\u70b9")," \u65f6\u89e6\u53d1\u3002")),i.a.createElement("h2",{id:"\u793a\u4f8b"},i.a.createElement(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b"),i.a.createElement(a["a"],{code:"import { DrawPoint } from '@antv/l7-draw';\n\nconst drawer = new DrawPoint(scene, {\n  keyboard: {\n    revert: ['command + z', 'ctrl + z'], // \u8986\u76d6\u9ed8\u8ba4\u56de\u9000\u5feb\u6377\u952e\u6309\u952e\n    remove: false, // false\u8868\u793a\u5173\u95ed\u5f53\u524d\u5220\u9664\u5feb\u6377\u952e\u529f\u80fd\n  },\n});\n\n// \u5f53\u524d\u5feb\u6377\u952e\u5bf9\u5e94\u7684\u56de\u8c03\u65b9\u6cd5\uff0c\u5f00\u53d1\u4e2d\u53ef\u4ee5\u624b\u52a8\u8c03\u7528\n\n// \u56de\u9000\ndrawer.revertHistory();\n\n// \u91cd\u505a\ndrawer.redoHistory();\n\n// \u5220\u9664\u5f53\u524d\u6fc0\u6d3b\u7684\u7ed8\u5236\u7269\ndrawer.removeActiveFeature();",lang:"tsx"}),i.a.createElement("h2",{id:"\u914d\u7f6e"},i.a.createElement(o["AnchorLink"],{to:"#\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u914d\u7f6e"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"revert"),i.a.createElement("td",null,"\u56de\u9000\u81f3\u4e0a\u4e00\u6b21\u5386\u53f2\u8bb0\u5f55"),i.a.createElement("td",null,i.a.createElement("code",null,"string[]")," | ",i.a.createElement("code",null,"false")),i.a.createElement("td",null,i.a.createElement("code",null,"['command + z', 'ctrl + z']"))),i.a.createElement("tr",null,i.a.createElement("td",null,"redo"),i.a.createElement("td",null,"\u64a4\u9500\u4e0a\u4e00\u6b21\u56de\u9000"),i.a.createElement("td",null,i.a.createElement("code",null,"string[]")," | ",i.a.createElement("code",null,"false")),i.a.createElement("td",null,i.a.createElement("code",null,"['command + shift + z', 'ctrl + shift + z']"))),i.a.createElement("tr",null,i.a.createElement("td",null,"remove"),i.a.createElement("td",null,"\u5220\u9664\u5f53\u524d\u6fc0\u6d3b\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"string[]")," | ",i.a.createElement("code",null,"false")),i.a.createElement("td",null,i.a.createElement("code",null,"['del', 'backspace']")))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(l,{demos:n})}},pkCn:function(e,t,n){"use strict";var r=n("0Dky");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},ppGB:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},puMV:function(e,t,n){},pv2x:function(e,t,n){var r=n("I+eb"),i=n("0GbY"),o=n("HAuM"),a=n("glrk"),s=n("0Dky"),l=i("Reflect","apply"),u=Function.apply,c=!s((function(){l((function(){}))}));r({target:"Reflect",stat:!0,forced:c},{apply:function(e,t,n){return o(e),a(n),l?l(e,t,n):u.call(e,t,n)}})},q1tI:function(e,t,n){"use strict";e.exports=n("viRO")},q3YX:function(e){e.exports=JSON.parse('{"menus":{"en-US":{"*":[{"path":"/","title":"L7Draw","meta":{"order":null}}],"/docs":[{"title":"\u7ed8\u5236","path":"/docs/draw","meta":{"order":1},"children":[{"path":"/docs/draw/point","title":"\u70b9","meta":{"order":1}},{"path":"/docs/draw/line","title":"\u7ebf","meta":{"order":2}},{"path":"/docs/draw/polygon","title":"\u9762","meta":{"order":3}},{"path":"/docs/draw/rect","title":"\u77e9\u5f62","meta":{"order":4}},{"path":"/docs/draw/circle","title":"\u5706","meta":{"order":5}}]},{"title":"\u9ad8\u7ea7","path":"/docs/super","meta":{"order":2},"children":[{"path":"/docs/super/style","title":"\u6837\u5f0f","meta":{"order":1}},{"path":"/docs/super/distance","title":"\u8ddd\u79bb","meta":{"order":2}},{"path":"/docs/super/area","title":"\u9762\u79ef","meta":{"order":3}},{"path":"/docs/super/keyboard","title":"\u5feb\u6377\u64cd\u4f5c","meta":{"order":4}},{"path":"/docs/super/history","title":"\u5386\u53f2\u8bb0\u5f55","meta":{"order":5}},{"path":"/docs/super/adsorb","title":"\u5438\u9644\u80fd\u529b","meta":{"order":6}}]},{"path":"/docs/control","title":"\u63a7\u4ef6","meta":{"order":7}}],"/example":[{"title":"\u7ed8\u5236\u70b9","path":"/example/point","meta":{"order":1},"children":[{"path":"/example/point/start","title":"\u5feb\u901f\u5f00\u59cb","meta":{"order":1}},{"path":"/example/point/initial-data","title":"\u521d\u59cb\u5316\u6570\u636e","meta":{"order":2}},{"path":"/example/point/image","title":"\u4f7f\u7528\u56fe\u7247","meta":{"order":3}},{"path":"/example/point/style","title":"\u81ea\u5b9a\u4e49\u6837\u5f0f","meta":{"order":4}},{"path":"/example/point/auto-active","title":"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b","meta":{"order":5}},{"path":"/example/point/multiple","title":"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a","meta":{"order":5}},{"path":"/example/point/editable","title":"\u7981\u7528\u7f16\u8f91","meta":{"order":6}},{"path":"/example/point/event","title":"\u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6","meta":{"order":7}}]},{"title":"\u7ed8\u5236\u7ebf","path":"/example/line","meta":{"order":2},"children":[{"path":"/example/line/start","title":"\u5feb\u901f\u5f00\u59cb","meta":{"order":1}},{"path":"/example/line/initial-data","title":"\u521d\u59cb\u5316\u6570\u636e","meta":{"order":2}},{"path":"/example/line/distance","title":"\u5c55\u793a\u8ddd\u79bb","meta":{"order":3}},{"path":"/example/line/mid-point","title":"\u7981\u7528\u4e2d\u70b9","meta":{"order":4}},{"path":"/example/line/auto-active","title":"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b","meta":{"order":5}},{"path":"/example/line/multiple","title":"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a","meta":{"order":5}},{"path":"/example/line/adsorb","title":"\u5438\u9644\u80fd\u529b","meta":{"order":6}},{"path":"/example/line/editable","title":"\u7981\u7528\u7f16\u8f91","meta":{"order":6}},{"path":"/example/line/event","title":"\u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6","meta":{"order":7}}]},{"title":"\u7ed8\u5236\u9762","path":"/example/polygon","meta":{"order":3},"children":[{"path":"/example/polygon/start","title":"\u5feb\u901f\u5f00\u59cb","meta":{"order":1}},{"path":"/example/polygon/initial-data","title":"\u521d\u59cb\u5316\u6570\u636e","meta":{"order":2}},{"path":"/example/polygon/area","title":"\u5c55\u793a\u8ddd\u79bb\u548c\u9762\u79ef","meta":{"order":3}},{"path":"/example/polygon/auto-active","title":"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b","meta":{"order":4}},{"path":"/example/polygon/mid-point","title":"\u7981\u7528\u4e2d\u70b9","meta":{"order":4}},{"path":"/example/polygon/style","title":"\u81ea\u5b9a\u4e49\u6837\u5f0f","meta":{"order":4}},{"path":"/example/polygon/adsorb","title":"\u5438\u9644\u80fd\u529b","meta":{"order":5}},{"path":"/example/polygon/editable","title":"\u7981\u7528\u7f16\u8f91","meta":{"order":5}},{"path":"/example/polygon/multiple","title":"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a","meta":{"order":5}},{"path":"/example/polygon/event","title":"\u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6","meta":{"order":6}}]},{"title":"\u7ed8\u5236\u77e9\u5f62","path":"/example/rect","meta":{"order":4},"children":[{"path":"/example/rect/start","title":"\u5feb\u901f\u5f00\u59cb","meta":{"order":1}},{"path":"/example/rect/create-by-drag","title":"\u901a\u8fc7\u62d6\u62fd\u521b\u5efa","meta":{"order":2}},{"path":"/example/rect/initial-data","title":"\u521d\u59cb\u5316\u6570\u636e","meta":{"order":2}},{"path":"/example/rect/area","title":"\u5c55\u793a\u8ddd\u79bb\u548c\u9762\u79ef","meta":{"order":3}},{"path":"/example/rect/auto-active","title":"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b","meta":{"order":3}},{"path":"/example/rect/editable","title":"\u662f\u5426\u652f\u6301\u7f16\u8f91","meta":{"order":4}},{"path":"/example/rect/multiple","title":"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a","meta":{"order":5}},{"path":"/example/rect/event","title":"\u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6","meta":{"order":7}}]},{"title":"\u7ed8\u5236\u5706","path":"/example/circle","meta":{"order":5},"children":[{"path":"/example/circle/start","title":"\u5feb\u901f\u5f00\u59cb","meta":{"order":1}},{"path":"/example/circle/create-by-drag","title":"\u901a\u8fc7\u62d6\u62fd\u521b\u5efa","meta":{"order":2}},{"path":"/example/circle/initial-data","title":"\u521d\u59cb\u5316\u6570\u636e","meta":{"order":2}},{"path":"/example/circle/area","title":"\u5c55\u793a\u8ddd\u79bb\u548c\u9762\u79ef","meta":{"order":3}},{"path":"/example/circle/auto-active","title":"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b","meta":{"order":3}},{"path":"/example/circle/editable","title":"\u662f\u5426\u652f\u6301\u7f16\u8f91","meta":{"order":4}},{"path":"/example/circle/multiple","title":"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a","meta":{"order":5}},{"path":"/example/circle/event","title":"\u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6","meta":{"order":7}}]},{"title":"\u7ed8\u5236\u63a7\u5236\u6761","path":"/example/control","meta":{"order":6},"children":[{"path":"/example/control/start","title":"\u5feb\u901f\u4f7f\u7528","meta":{"order":1}},{"path":"/example/control/add","title":"\u6dfb\u52a0/\u79fb\u9664 Control","meta":{"order":2}},{"path":"/example/control/common","title":"\u901a\u7528 Draw \u914d\u7f6e","meta":{"order":3}},{"path":"/example/control/draw","title":"\u914d\u7f6e\u5c55\u793a\u6309\u94ae","meta":{"order":4}},{"path":"/example/control/event","title":"\u76d1\u542c\u4e8b\u4ef6","meta":{"order":10}}]},{"title":"\u901a\u7528\u914d\u7f6e","path":"/example/common","meta":{"order":7},"children":[{"path":"/example/common/helper","title":"\u7ed8\u5236\u63d0\u793a","meta":{"order":3}}]},{"title":"\u4f7f\u7528\u573a\u666f","path":"/example/usage","meta":{"order":7},"children":[{"path":"/example/usage/til-map","title":"\u9065\u611f\u7ed8\u5236\u573a\u666f","meta":{"order":1}},{"path":"/example/usage/bus","title":"\u5b9a\u5236\u516c\u4ea4\u573a\u666f","meta":{"order":2}}]}]}},"locales":[{"name":"en-US","label":"English"}],"navs":{"en-US":[{"title":"\u6587\u6863","path":"/docs"},{"title":"\u793a\u4f8b","path":"/example"},{"title":"\u5468\u8fb9\u751f\u6001","children":[{"title":"L7","path":"https://l7.antv.vision"},{"title":"L7Plot","path":"https://l7plot.antv.vision/"},{"title":"L7React","path":"https://antv.vision/L7-react/"}]},{"title":"\u5386\u53f2\u7248\u672c","children":[{"title":"2.x","path":"https://antv.vision/l7draw-2.x-site/"}]},{"title":"Github","path":"https://github.com/antvis/L7Draw"}]},"title":"L7Draw","logo":"https://user-images.githubusercontent.com/9554297/83762004-a0761b00-a6a9-11ea-83b4-9c8ff721d4b8.png","mode":"site","repository":{"url":"https://github.com/antvis/l7-draw","branch":"master"},"theme":{}}')},qE6j:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("KQm4"),i=n("x/xZ");function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Object(i["a"])(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),o=e.getAttribute("tabindex"),a=Number(o),s=null;return o&&!Number.isNaN(a)?s=a:r&&null===s&&(s=0),r&&e.disabled&&(s=null),null!==s&&(s>=0||t&&s<0)}return!1}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(r["a"])(e.querySelectorAll("*")).filter((function(e){return o(e,t)}));return o(e,t)&&n.unshift(e),n}},qHiR:function(e,t,n){},qK8v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n("MON2");function i(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}t.isStackOverflowExeption=i},qRkn:function(e,t,n){var r=n("3cYt"),i={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},o=r(i);e.exports=o},qY7S:function(e,t,n){"use strict";var r=n("HAuM"),i=n("A2ZE"),o=n("ImZN");e.exports=function(e){var t,n,a,s,l=arguments.length,u=l>1?arguments[1]:void 0;return r(this),t=void 0!==u,t&&r(u),void 0==e?new this:(n=[],t?(a=0,s=i(u,l>2?arguments[2]:void 0,2),o(e,(function(e){n.push(s(e,a++))}))):o(e,n.push,n),new this(n))}},qYE9:function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},qZTm:function(e,t,n){var r=n("fR/l"),i=n("MvSz"),o=n("7GkX");function a(e){return r(e,o,i)}e.exports=a},qaHo:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("A2ZE"),s=n("WGBp"),l=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{some:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return l(n,(function(e){if(r(e,e,t))return l.stop()}),void 0,!1,!0).stopped}})},qc1c:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("HAuM"),s=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{merge:function(e){var t=o(this),n=a(t.set),r=0;while(r<arguments.length)s(arguments[r++],n,t,!0);return t}})},"qeE+":function(e,t,n){},qgGA:function(e,t,n){var r=n("I+eb"),i=n("eDxR"),o=n("glrk"),a=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{metadata:function(e,t){return function(n,r){s(e,t,o(n),a(r))}}})},quyA:function(e,t){var n="\\ud800-\\udfff",r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",a=r+i+o,s="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+n+a+s+"]");function c(e){return u.test(e)}e.exports=c},qxPZ:function(e,t,n){var r=n("tiKp"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},r1Q5:function(e,t,n){"use strict";var r=n("5wUe")["default"];function i(){var e=n("q1tI");return i=function(){return e},e}function o(){var e=n("nvu9");return o=function(){return e},e}function a(e,t){return f(e)||c(e,t)||l(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function f(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var p="https://codesandbox.io/api/v1/sandboxes/define",d=function(e,t){return"react-dom"===e?"/**\n* This is an auto-generated demo by dumi\n* if you think it is not working as expected,\n* please report the issue at\n* https://github.com/umijs/dumi/issues\n**/\n    \nimport React from 'react';\nimport ReactDOM from 'react-dom';\n".concat(t,"\nimport App from './App';\n    \nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);"):"react-dom/client"===e?"/**\n* This is an auto-generated demo by dumi\n* if you think it is not working as expected,\n* please report the issue at\n* https://github.com/umijs/dumi/issues\n**/\nimport React from 'react';\nimport { createRoot } from \"react-dom/client\";\n".concat(t,'\nimport App from "./App";\n\nconst rootElement = document.getElementById("root");\nconst root = createRoot(rootElement);\n\nroot.render(<App />);'):void 0},h=function(e){return e.includes("import React from 'react';")?e:"import React from 'react';\n  ".concat(e)};function v(e){var t=document.createElement("span");t.innerHTML=e;var n=t.textContent;return t.remove(),n}function m(e){var t,n=Boolean(e.sources._.tsx),i=n?".tsx":".jsx",a={},s={},l=Object.values(e.dependencies).filter((function(e){return e.css})),u="App".concat(i),c="index".concat(i);return Object.entries(e.dependencies).forEach((function(e){var t=r(e,2),n=t[0],i=t[1].version;s[n]=i})),s["react-dom"]||(s["react-dom"]=s.react||"latest"),a["sandbox.config.json"]={content:JSON.stringify({template:n?"create-react-app-typescript":"create-react-app"},null,2),isBinary:!1},a["package.json"]={content:JSON.stringify({name:e.title,description:v(e.description)||"An auto-generated demo by dumi",main:c,dependencies:s,devDependencies:n?{typescript:"^3"}:{}},null,2),isBinary:!1},a["index.html"]={content:'<div style="margin: 16px;" id="root"></div>',isBinary:!1},a[c]={content:d((null===s||void 0===s||null===(t=s["react-dom"])||void 0===t?void 0:t.startsWith("18."))||"latest"===s.react?"react-dom/client":"react-dom",l.map((function(e){var t=e.css;return"import '".concat(t,"';")})).join("\n")),isBinary:!1},Object.entries(e.sources).forEach((function(e){var t=r(e,2),n=t[0],i=t[1],o=i.tsx,s=i.jsx,l=i.content;a["_"===n?u:n]={content:h(o||s||l),isBinary:!1}})),(0,o().getParameters)({files:a})}var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,n=(0,i().useState)(),r=a(n,2),o=r[0],s=r[1];return(0,i().useEffect)((function(){if(e){var n=document.createElement("form"),r=document.createElement("input"),i=m(e);return n.method="POST",n.target="_blank",n.style.display="none",n.action=t,n.appendChild(r),n.setAttribute("data-demo",e.title||""),r.name="parameters",r.value=i,document.body.appendChild(n),s((function(){return function(){return n.submit()}})),function(){return n.remove()}}}),[e]),o};t["default"]=g},r36Y:function(e,t,n){"use strict";e.exports=n("Copi")},rB9j:function(e,t,n){"use strict";var r=n("I+eb"),i=n("kmMV");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},rEGp:function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}e.exports=n},rKzb:function(e,t,n){"use strict";var r=n("4syw"),i=n("8YOa").getWeakData,o=n("glrk"),a=n("hh1v"),s=n("GarU"),l=n("ImZN"),u=n("tycR"),c=n("UTVS"),f=n("afO8"),p=f.set,d=f.getterFor,h=u.find,v=u.findIndex,m=0,g=function(e){return e.frozen||(e.frozen=new y)},y=function(){this.entries=[]},b=function(e,t){return h(e.entries,(function(e){return e[0]===t}))};y.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=v(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,u){var f=e((function(e,r){s(e,f,t),p(e,{type:t,id:m++,frozen:void 0}),void 0!=r&&l(r,e[u],e,n)})),h=d(t),v=function(e,t,n){var r=h(e),a=i(o(t),!0);return!0===a?g(r).set(t,n):a[r.id]=n,e};return r(f.prototype,{delete:function(e){var t=h(this);if(!a(e))return!1;var n=i(e);return!0===n?g(t)["delete"](e):n&&c(n,t.id)&&delete n[t.id]},has:function(e){var t=h(this);if(!a(e))return!1;var n=i(e);return!0===n?g(t).has(e):n&&c(n,t.id)}}),r(f.prototype,n?{get:function(e){var t=h(this);if(a(e)){var n=i(e);return!0===n?g(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return v(this,e,t)}}:{add:function(e){return v(this,e,!0)}}),f}}},rNhl:function(e,t,n){var r=n("I+eb"),i=n("fhKU");r({global:!0,forced:parseFloat!=i},{parseFloat:i})},rOQg:function(e,t,n){"use strict";var r=n("I+eb"),i=n("0Dky"),o=n("Yhre"),a=n("glrk"),s=n("I8vh"),l=n("UMSQ"),u=n("SEBh"),c=o.ArrayBuffer,f=o.DataView,p=c.prototype.slice,d=i((function(){return!new c(2).slice(1,void 0).byteLength}));r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:d},{slice:function(e,t){if(void 0!==p&&void 0===t)return p.call(a(this),e);var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(u(this,c))(l(i-r)),d=new f(this),h=new f(o),v=0;while(r<i)h.setUint8(v++,d.getUint8(r++));return o}})},rW0t:function(e,t,n){"use strict";var r=n("glrk");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},rZ3M:function(e,t,n){"use strict";var r=n("I+eb"),i=n("HYAF"),o=n("ROdP"),a=n("rW0t"),s=n("tiKp"),l=n("xDBR"),u=s("replace"),c=RegExp.prototype;r({target:"String",proto:!0},{replaceAll:function e(t,n){var r,s,f,p,d,h,v,m,g,y=i(this);if(null!=t){if(r=o(t),r&&(s=String(i("flags"in c?t.flags:a.call(t))),!~s.indexOf("g")))throw TypeError("`.replaceAll` does not allow non-global regexes");if(f=t[u],void 0!==f)return f.call(t,y,n);if(l&&r)return String(y).replace(t,n)}if(p=String(y),d=String(t),""===d)return e.call(p,/(?:)/g,n);if(h=p.split(d),"function"!==typeof n)return h.join(String(n));for(v=h[0],m=v.length,g=1;g<h.length;g++)v+=String(n(d,m,p)),m+=d.length+h[g].length,v+=h[g];return v}})},rb3L:function(e,t,n){var r=n("I+eb"),i=n("P940");r({target:"WeakSet",stat:!0},{of:i})},rePB:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},"rhT+":function(e,t){function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},rkAj:function(e,t,n){var r=n("g6v/"),i=n("0Dky"),o=n("UTVS"),a=Object.defineProperty,s={},l=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var n=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,c=o(t,0)?t[0]:l,f=o(t,1)?t[1]:void 0;return s[e]=!!n&&!i((function(){if(u&&!r)return!0;var e={length:-1};u?a(e,1,{enumerable:!0,get:l}):e[1]=1,n.call(e,c,f)}))}},rned:function(e,t,n){},rpNk:function(e,t,n){"use strict";var r,i,o,a=n("4WOD"),s=n("kRJp"),l=n("UTVS"),u=n("tiKp"),c=n("xDBR"),f=u("iterator"),p=!1,d=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(r=i)):p=!0),void 0==r&&(r={}),c||l(r,f)||s(r,f,d),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},rx8A:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["control-common"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["control-common"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},rxal:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},i=r;t["default"]=i},rykC:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=n("CRWo"),c=String(Math.random()),f=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:c,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawPolygon"](e,{initialData:u["a"]});n(t),t.enable(),t.on(o["DrawEvent"].Add,(e=>{}))}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:c,style:{height:400,position:"relative"}}))};t["default"]=f},rz1t:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawPoint"](e,{});n(t),t.enable(),t.on(o["DrawEvent"].Add,((e,t)=>{console.log("add",e,t)})),t.on(o["DrawEvent"].Edit,((e,t)=>{console.log("edit",e,t)})),t.on(o["DrawEvent"].Remove,((e,t)=>{console.log("remove",e,t)})),t.on(o["DrawEvent"].Change,(e=>{console.log("change",e)})),t.on(o["DrawEvent"].DragStart,((e,t)=>{console.log("dragStart",e,t)})),t.on(o["DrawEvent"].Dragging,((e,t)=>{console.log("dragging",e,t)})),t.on(o["DrawEvent"].DragEnd,((e,t)=>{console.log("dragEnd",e,t)}))}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},rz5R:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=[{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[119.988511,30.269614],[119.9851,30.269323],[119.985438,30.267852],[119.990291,30.267257],[119.991454,30.261762],[119.994974,30.256115],[119.983641,30.246146],[119.985286,30.241228],[119.983351,30.224089],[119.985473,30.221814],[119.99271,30.22088]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[120.075427,30.147148],[120.073659,30.147609],[120.074996,30.154115],[120.070946,30.160916],[120.074171,30.161745],[120.075425,30.158086],[120.081662,30.159401],[120.084335,30.163868],[120.112648,30.17977],[120.119262,30.186753],[120.137108,30.198481],[120.137962,30.202496],[120.135039,30.208876],[120.135625,30.216541],[120.138548,30.225005],[120.145412,30.229088],[120.155609,30.230104],[120.158572,30.241788],[120.160816,30.245725],[120.16441,30.245929],[120.164401,30.247589],[120.165608,30.247515],[120.166546,30.254134]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[120.216401,30.291456],[120.217689,30.289456],[120.218912,30.28995],[120.216862,30.292565],[120.221055,30.293611],[120.221909,30.291061],[120.211464,30.28603],[120.207209,30.278355],[120.207448,30.270482],[120.199987,30.270352],[120.200252,30.247617],[120.210037,30.243515],[120.204483,30.237082],[120.224585,30.222153],[120.213219,30.213984],[120.216402,30.20977],[120.194058,30.196853],[120.17329,30.188212],[120.174223,30.181411],[120.16777,30.181168],[120.167244,30.173706],[120.147426,30.172062],[120.146042,30.176801],[120.135382,30.17619]]}}]},"s+S2":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["point-event"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["point-event"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},s4An:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,"a",(function(){return r}))},s4NR:function(e,t,n){"use strict";t.decode=t.parse=n("kd2E"),t.encode=t.stringify=n("4JlD")},s5qe:function(e,t,n){"use strict";var r=n("2oRo"),i=n("67WC"),o=n("0Dky"),a=r.Int8Array,s=i.aTypedArray,l=i.exportTypedArrayMethod,u=[].toLocaleString,c=[].slice,f=!!a&&o((function(){u.call(new a(1))})),p=o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])}));l("toLocaleString",(function(){return u.apply(f?c.call(s(this)):s(this),arguments)}),p)},sBij:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("S2ku"),s=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement(a["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u4e8b\u4ef6\u540d"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Init | 'init'"),i.a.createElement("td",null,"Draw \u521d\u59cb\u5316\u5b8c\u6210\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Destroy | 'destroy'"),i.a.createElement("td",null,"Draw \u5b8c\u6210\u9500\u6bc1\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Enable | 'enable'"),i.a.createElement("td",null,"\u542f\u7528\u7ed8\u5236\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Disable | 'disable'"),i.a.createElement("td",null,"\u7981\u7528\u7ed8\u5236\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Clear | 'clear'"),i.a.createElement("td",null,"\u6e05\u7a7a\u6570\u636e\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.AddNode | 'addNode'"),i.a.createElement("td",null,"\u6dfb\u52a0\u7ed3\u70b9"),i.a.createElement("td",null,i.a.createElement("code",null,"(newNode: Feature,editFeature: Feature, featureList: Feature[]) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.RemoveNode | 'removeNode'"),i.a.createElement("td",null,"\u5220\u9664\u7ed3\u70b9"),i.a.createElement("td",null,i.a.createElement("code",null,"(removeNode: Feature,editFeature: Feature, featureList: Feature[]) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Add | 'add'"),i.a.createElement("td",null,"\u65b0\u589e\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(newFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Edit | 'edit'"),i.a.createElement("td",null,"\u7f16\u8f91(\u4f4d\u79fb\u6216\u8282\u70b9\u53d1\u751f\u53d8\u66f4)\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(editFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Remove | 'remove'"),i.a.createElement("td",null,"\u5220\u9664\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(deleteFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.DragStart | 'dragStart'"),i.a.createElement("td",null,"\u5f00\u59cb\u62d6\u62fd\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(dragFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Dragging | 'dragging'"),i.a.createElement("td",null,"\u62d6\u62fd\u4e2d\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(dragFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.DragEnd | 'dragEnd'"),i.a.createElement("td",null,"\u62d6\u62fd\u7ed3\u675f\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(dragFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Change | 'change'"),i.a.createElement("td",null,"\u7ed8\u5236\u6570\u636e\u53d1\u751f\u53d8\u66f4\u540e\u7684\u4e8b\u4ef6\uff08\u5305\u542b\u4ee5\u4e0a\u7ed8\u5236\u6570\u636e\u53d8\u52a8\u7684\u4e8b\u4ef6\uff09"),i.a.createElement("td",null,i.a.createElement("code",null,"function(featureList: Feature[])"))))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},sEFX:function(e,t,n){"use strict";var r=n("AO7/"),i=n("9d/t");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},sEf8:function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},sPs2:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["polygon-adsorb"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["polygon-adsorb"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},sQ9d:function(e,t,n){var r=n("I+eb"),i=n("eDxR"),o=n("glrk"),a=i.keys,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(e){var t=arguments.length<2?void 0:s(arguments[1]);return a(o(e),t)}})},sXyB:function(e,t,n){var r=n("SksO"),i=n("b48C");function o(t,n,a){return i()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports["default"]=e.exports):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=Function.bind.apply(e,i),a=new o;return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports["default"]=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports["default"]=e.exports},seXi:function(e,t,n){var r=n("qZTm"),i=1,o=Object.prototype,a=o.hasOwnProperty;function s(e,t,n,o,s,l){var u=n&i,c=r(e),f=c.length,p=r(t),d=p.length;if(f!=d&&!u)return!1;var h=f;while(h--){var v=c[h];if(!(u?v in t:a.call(t,v)))return!1}var m=l.get(e),g=l.get(t);if(m&&g)return m==t&&g==e;var y=!0;l.set(e,t),l.set(t,e);var b=u;while(++h<f){v=c[h];var _=e[v],E=t[v];if(o)var x=u?o(E,_,v,t,e,l):o(_,E,v,e,t,l);if(!(void 0===x?_===E||s(_,E,n,o,l):x)){y=!1;break}b||(b="constructor"==v)}if(y&&!b){var w=e.constructor,S=t.constructor;w==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(y=!1)}return l["delete"](e),l["delete"](t),y}e.exports=s},sgoq:function(e,t,n){var r=n("asDA"),i=n("TKrE"),o=n("6nK8"),a="['\u2019]",s=RegExp(a,"g");function l(e){return function(t){return r(o(i(t).replace(s,"")),e,"")}}e.exports=l},shjB:function(e,t){var n=9007199254740991;function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}e.exports=r},slLl:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["polygon-initialdata"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["polygon-initialdata"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},slvw:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawPolygon"](e,{});n(t),t.enable(),t.on(o["DrawEvent"].Add,((e,t)=>{console.log("add",e,t)})),t.on(o["DrawEvent"].Edit,((e,t)=>{console.log("edit",e,t)})),t.on(o["DrawEvent"].Remove,((e,t)=>{console.log("remove",e,t)})),t.on(o["DrawEvent"].AddNode,((e,t,n)=>{console.log("addNode",e,t,n)})),t.on(o["DrawEvent"].RemoveNode,((e,t,n)=>{console.log("removeNode",e,t,n)})),t.on(o["DrawEvent"].Change,(e=>{console.log("change",e)})),t.on(o["DrawEvent"].DragStart,((e,t)=>{console.log("dragStart",e,t)})),t.on(o["DrawEvent"].Dragging,((e,t)=>{console.log("dragging",e,t)})),t.on(o["DrawEvent"].DragEnd,((e,t)=>{console.log("dragEnd",e,t)}))}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},spTT:function(e,t,n){var r=n("I+eb"),i=n("qY7S");r({target:"WeakSet",stat:!0},{from:i})},szb8:function(e,t,n){"use strict";n.r(t),n.d(t,"Interpreter",(function(){return Xt})),n.d(t,"vm",(function(){return r})),n.d(t,"evaluate",(function(){return en})),n.d(t,"Function",(function(){return tn}));var r={};n.r(r),n.d(r,"createContext",(function(){return Kt})),n.d(r,"compileFunction",(function(){return Zt})),n.d(r,"runInContext",(function(){return Qt})),n.d(r,"runInNewContext",(function(){return Jt})),n.d(r,"Script",(function(){return $t}));var i={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},o="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",a={5:o,"5module":o+" export import",6:o+" const class extends export import super"},s=/^in(stanceof)?$/,l="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08c7\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d04-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31bf\u31f0-\u31ff\u3400-\u4dbf\u4e00-\u9ffc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7ca\ua7f5-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab69\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",u="\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b55-\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c04\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d81-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1abf\u1ac0\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf4\u1cf7-\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua82c\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua8ff-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f",c=new RegExp("["+l+"]"),f=new RegExp("["+l+u+"]");l=u=null;var p=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],d=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function h(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}}function v(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&c.test(String.fromCharCode(e)):!1!==t&&h(e,p)))}function m(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&f.test(String.fromCharCode(e)):!1!==t&&(h(e,p)||h(e,d)))))}var g=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function y(e,t){return new g(e,{beforeExpr:!0,binop:t})}var b={beforeExpr:!0},_={startsExpr:!0},E={};function x(e,t){return void 0===t&&(t={}),t.keyword=e,E[e]=new g(e,t)}var w={num:new g("num",_),regexp:new g("regexp",_),string:new g("string",_),name:new g("name",_),eof:new g("eof"),bracketL:new g("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new g("]"),braceL:new g("{",{beforeExpr:!0,startsExpr:!0}),braceR:new g("}"),parenL:new g("(",{beforeExpr:!0,startsExpr:!0}),parenR:new g(")"),comma:new g(",",b),semi:new g(";",b),colon:new g(":",b),dot:new g("."),question:new g("?",b),questionDot:new g("?."),arrow:new g("=>",b),template:new g("template"),invalidTemplate:new g("invalidTemplate"),ellipsis:new g("...",b),backQuote:new g("`",_),dollarBraceL:new g("${",{beforeExpr:!0,startsExpr:!0}),eq:new g("=",{beforeExpr:!0,isAssign:!0}),assign:new g("_=",{beforeExpr:!0,isAssign:!0}),incDec:new g("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new g("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:y("||",1),logicalAND:y("&&",2),bitwiseOR:y("|",3),bitwiseXOR:y("^",4),bitwiseAND:y("&",5),equality:y("==/!=/===/!==",6),relational:y("</>/<=/>=",7),bitShift:y("<</>>/>>>",8),plusMin:new g("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:y("%",10),star:y("*",10),slash:y("/",10),starstar:new g("**",{beforeExpr:!0}),coalesce:y("??",1),_break:x("break"),_case:x("case",b),_catch:x("catch"),_continue:x("continue"),_debugger:x("debugger"),_default:x("default",b),_do:x("do",{isLoop:!0,beforeExpr:!0}),_else:x("else",b),_finally:x("finally"),_for:x("for",{isLoop:!0}),_function:x("function",_),_if:x("if"),_return:x("return",b),_switch:x("switch"),_throw:x("throw",b),_try:x("try"),_var:x("var"),_const:x("const"),_while:x("while",{isLoop:!0}),_with:x("with"),_new:x("new",{beforeExpr:!0,startsExpr:!0}),_this:x("this",_),_super:x("super",_),_class:x("class",_),_extends:x("extends",b),_export:x("export"),_import:x("import",_),_null:x("null",_),_true:x("true",_),_false:x("false",_),_in:x("in",{beforeExpr:!0,binop:7}),_instanceof:x("instanceof",{beforeExpr:!0,binop:7}),_typeof:x("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:x("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:x("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},S=/\r\n?|\n|\u2028|\u2029/,O=new RegExp(S.source,"g");function C(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}var A=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,P=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,k=Object.prototype,M=k.hasOwnProperty,T=k.toString;function L(e,t){return M.call(e,t)}var I=Array.isArray||function(e){return"[object Array]"===T.call(e)};function D(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var R=function(e,t){this.line=e,this.column=t};R.prototype.offset=function(e){return new R(this.line,this.column+e)};var N=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function j(e,t){for(var n=1,r=0;;){O.lastIndex=r;var i=O.exec(e);if(!(i&&i.index<t))return new R(n,t-r);++n,r=i.index+i[0].length}}var F={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function B(e){var t={};for(var n in F)t[n]=e&&L(e,n)?e[n]:F[n];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),I(t.onToken)){var r=t.onToken;t.onToken=function(e){return r.push(e)}}return I(t.onComment)&&(t.onComment=U(t,t.onComment)),t}function U(e,t){return function(n,r,i,o,a,s){var l={type:n?"Block":"Line",value:r,start:i,end:o};e.locations&&(l.loc=new N(this,a,s)),e.ranges&&(l.range=[i,o]),t.push(l)}}var z=1,H=2,V=z|H,G=4,W=8,q=16,Y=32,X=64,K=128;function Z(e,t){return H|(e?G:0)|(t?W:0)}var Q=0,J=1,$=2,ee=3,te=4,ne=5,re=function(e,t,n){this.options=e=B(e),this.sourceFile=e.sourceFile,this.keywords=D(a[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var r="";if(!0!==e.allowReserved){for(var o=e.ecmaVersion;;o--)if(r=i[o])break;"module"===e.sourceType&&(r+=" await")}this.reservedWords=D(r);var s=(r?r+" ":"")+i.strict;this.reservedWordsStrict=D(s),this.reservedWordsStrictBind=D(s+" "+i.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(S).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=w.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(z),this.regexpState=null},ie={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};re.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},ie.inFunction.get=function(){return(this.currentVarScope().flags&H)>0},ie.inGenerator.get=function(){return(this.currentVarScope().flags&W)>0},ie.inAsync.get=function(){return(this.currentVarScope().flags&G)>0},ie.allowSuper.get=function(){return(this.currentThisScope().flags&X)>0},ie.allowDirectSuper.get=function(){return(this.currentThisScope().flags&K)>0},ie.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},re.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&H)>0},re.extend=function(){var e=[],t=arguments.length;while(t--)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},re.parse=function(e,t){return new this(t,e).parse()},re.parseExpressionAt=function(e,t,n){var r=new this(n,e,t);return r.nextToken(),r.parseExpression()},re.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(re.prototype,ie);var oe=re.prototype,ae=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;function se(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}oe.strictDirective=function(e){for(;;){P.lastIndex=e,e+=P.exec(this.input)[0].length;var t=ae.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){P.lastIndex=e+t[0].length;var n=P.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return";"===i||"}"===i||S.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||"!"===i&&"="===this.input.charAt(r+1))}e+=t[0].length,P.lastIndex=e,e+=P.exec(this.input)[0].length,";"===this.input[e]&&e++}},oe.eat=function(e){return this.type===e&&(this.next(),!0)},oe.isContextual=function(e){return this.type===w.name&&this.value===e&&!this.containsEsc},oe.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},oe.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},oe.canInsertSemicolon=function(){return this.type===w.eof||this.type===w.braceR||S.test(this.input.slice(this.lastTokEnd,this.start))},oe.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},oe.semicolon=function(){this.eat(w.semi)||this.insertSemicolon()||this.unexpected()},oe.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},oe.expect=function(e){this.eat(e)||this.unexpected()},oe.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},oe.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},oe.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},oe.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},oe.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var le=re.prototype;le.parseTopLevel=function(e){var t={};e.body||(e.body=[]);while(this.type!==w.eof){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var o=i[r];this.raiseRecoverable(this.undefinedExports[o].start,"Export '"+o+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var ue={kind:"loop"},ce={kind:"switch"};le.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;P.lastIndex=this.pos;var t=P.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(91===r)return!0;if(e)return!1;if(123===r)return!0;if(v(r,!0)){var i=n+1;while(m(this.input.charCodeAt(i),!0))++i;var o=this.input.slice(n,i);if(!s.test(o))return!0}return!1},le.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;P.lastIndex=this.pos;var e=P.exec(this.input),t=this.pos+e[0].length;return!S.test(this.input.slice(this.pos,t))&&"function"===this.input.slice(t,t+8)&&(t+8===this.input.length||!m(this.input.charAt(t+8)))},le.parseStatement=function(e,t,n){var r,i=this.type,o=this.startNode();switch(this.isLet(e)&&(i=w._var,r="let"),i){case w._break:case w._continue:return this.parseBreakContinueStatement(o,i.keyword);case w._debugger:return this.parseDebuggerStatement(o);case w._do:return this.parseDoStatement(o);case w._for:return this.parseForStatement(o);case w._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!e);case w._class:return e&&this.unexpected(),this.parseClass(o,!0);case w._if:return this.parseIfStatement(o);case w._return:return this.parseReturnStatement(o);case w._switch:return this.parseSwitchStatement(o);case w._throw:return this.parseThrowStatement(o);case w._try:return this.parseTryStatement(o);case w._const:case w._var:return r=r||this.value,e&&"var"!==r&&this.unexpected(),this.parseVarStatement(o,r);case w._while:return this.parseWhileStatement(o);case w._with:return this.parseWithStatement(o);case w.braceL:return this.parseBlock(!0,o);case w.semi:return this.parseEmptyStatement(o);case w._export:case w._import:if(this.options.ecmaVersion>10&&i===w._import){P.lastIndex=this.pos;var a=P.exec(this.input),s=this.pos+a[0].length,l=this.input.charCodeAt(s);if(40===l||46===l)return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===w._import?this.parseImport(o):this.parseExport(o,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!e);var u=this.value,c=this.parseExpression();return i===w.name&&"Identifier"===c.type&&this.eat(w.colon)?this.parseLabeledStatement(o,u,c,e):this.parseExpressionStatement(o,c)}},le.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(w.semi)||this.insertSemicolon()?e.label=null:this.type!==w.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(e.label&&n)break}}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},le.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},le.parseDoStatement=function(e){return this.next(),this.labels.push(ue),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(w._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(w.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},le.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(ue),this.enterScope(0),this.expect(w.parenL),this.type===w.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===w._var||this.type===w._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===w._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===r.declarations.length?(this.options.ecmaVersion>=9&&(this.type===w._in?t>-1&&this.unexpected(t):e["await"]=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var o=new se,a=this.parseExpression(!0,o);return this.type===w._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===w._in?t>-1&&this.unexpected(t):e["await"]=t>-1),this.toAssignable(a,!1,o),this.checkLVal(a),this.parseForIn(e,a)):(this.checkExpressionErrors(o,!0),t>-1&&this.unexpected(t),this.parseFor(e,a))},le.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,pe|(n?0:de),!1,t)},le.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(w._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},le.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(w.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},le.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(w.braceL),this.labels.push(ce),this.enterScope(0);for(var n=!1;this.type!==w.braceR;)if(this.type===w._case||this.type===w._default){var r=this.type===w._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(w.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},le.parseThrowStatement=function(e){return this.next(),S.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var fe=[];le.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===w._catch){var t=this.startNode();if(this.next(),this.eat(w.parenL)){t.param=this.parseBindingAtom();var n="Identifier"===t.param.type;this.enterScope(n?Y:0),this.checkLVal(t.param,n?te:$),this.expect(w.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(w._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},le.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},le.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(ue),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},le.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},le.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},le.parseLabeledStatement=function(e,t,n,r){for(var i=0,o=this.labels;i<o.length;i+=1){var a=o[i];a.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var s=this.type.isLoop?"loop":this.type===w._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var u=this.labels[l];if(u.statementStart!==e.start)break;u.statementStart=this.start,u.kind=s}return this.labels.push({name:t,kind:s,statementStart:this.start}),e.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},le.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},le.parseBlock=function(e,t,n){void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(w.braceL),e&&this.enterScope(0);while(this.type!==w.braceR){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},le.parseFor=function(e,t){return e.init=t,this.expect(w.semi),e.test=this.type===w.semi?null:this.parseExpression(),this.expect(w.semi),e.update=this.type===w.parenR?null:this.parseExpression(),this.expect(w.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},le.parseForIn=function(e,t){var n=this.type===w._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)?this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===t.type&&this.raise(t.start,"Invalid left-hand side in for-loop"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(w.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},le.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(w.eq)?r.init=this.parseMaybeAssign(t):"const"!==n||this.type===w._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===r.id.type||t&&(this.type===w._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(w.comma))break}return e},le.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"var"===t?J:$,!1)};var pe=1,de=2,he=4;le.parseFunction=function(e,t,n,r){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===w.star&&t&de&&this.unexpected(),e.generator=this.eat(w.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&pe&&(e.id=t&he&&this.type!==w.name?null:this.parseIdent(),!e.id||t&de||this.checkLVal(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?J:$:ee));var i=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Z(e.async,e.generator)),t&pe||(e.id=this.type===w.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1),this.yieldPos=i,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&pe?"FunctionDeclaration":"FunctionExpression")},le.parseFunctionParams=function(e){this.expect(w.parenL),e.params=this.parseBindingList(w.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},le.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.startNode(),i=!1;r.body=[],this.expect(w.braceL);while(this.type!==w.braceR){var o=this.parseClassElement(null!==e.superClass);o&&(r.body.push(o),"MethodDefinition"===o.type&&"constructor"===o.kind&&(i&&this.raise(o.start,"Duplicate constructor in the same class"),i=!0))}return this.strict=n,this.next(),e.body=this.finishNode(r,"ClassBody"),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},le.parseClassElement=function(e){var t=this;if(this.eat(w.semi))return null;var n=this.startNode(),r=function(e,r){void 0===r&&(r=!1);var i=t.start,o=t.startLoc;return!!t.eatContextual(e)&&(!(t.type===w.parenL||r&&t.canInsertSemicolon())||(n.key&&t.unexpected(),n.computed=!1,n.key=t.startNodeAt(i,o),n.key.name=e,t.finishNode(n.key,"Identifier"),!1))};n.kind="method",n["static"]=r("static");var i=this.eat(w.star),o=!1;i||(this.options.ecmaVersion>=8&&r("async",!0)?(o=!0,i=this.options.ecmaVersion>=9&&this.eat(w.star)):r("get")?n.kind="get":r("set")&&(n.kind="set")),n.key||this.parsePropertyName(n);var a=n.key,s=!1;return n.computed||n["static"]||!("Identifier"===a.type&&"constructor"===a.name||"Literal"===a.type&&"constructor"===a.value)?n["static"]&&"Identifier"===a.type&&"prototype"===a.name&&this.raise(a.start,"Classes may not have a static property named prototype"):("method"!==n.kind&&this.raise(a.start,"Constructor can't have get/set modifier"),i&&this.raise(a.start,"Constructor can't be a generator"),o&&this.raise(a.start,"Constructor can't be an async method"),n.kind="constructor",s=e),this.parseClassMethod(n,i,o,s),"get"===n.kind&&0!==n.value.params.length&&this.raiseRecoverable(n.value.start,"getter should have no params"),"set"===n.kind&&1!==n.value.params.length&&this.raiseRecoverable(n.value.start,"setter should have exactly one param"),"set"===n.kind&&"RestElement"===n.value.params[0].type&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params"),n},le.parseClassMethod=function(e,t,n,r){return e.value=this.parseMethod(t,n,r),this.finishNode(e,"MethodDefinition")},le.parseClassId=function(e,t){this.type===w.name?(e.id=this.parseIdent(),t&&this.checkLVal(e.id,$,!1)):(!0===t&&this.unexpected(),e.id=null)},le.parseClassSuper=function(e){e.superClass=this.eat(w._extends)?this.parseExprSubscripts():null},le.parseExport=function(e,t){if(this.next(),this.eat(w.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseIdent(!0),this.checkExport(t,e.exported.name,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==w.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(w._default)){var n;if(this.checkExport(t,"default",this.lastTokStart),this.type===w._function||(n=this.isAsyncFunction())){var r=this.startNode();this.next(),n&&this.next(),e.declaration=this.parseFunction(r,pe|he,!1,n)}else if(this.type===w._class){var i=this.startNode();e.declaration=this.parseClass(i,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==w.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var o=0,a=e.specifiers;o<a.length;o+=1){var s=a[o];this.checkUnreserved(s.local),this.checkLocalExport(s.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},le.checkExport=function(e,t,n){e&&(L(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},le.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===n)for(var r=0,i=t.properties;r<i.length;r+=1){var o=i[r];this.checkPatternExport(e,o)}else if("ArrayPattern"===n)for(var a=0,s=t.elements;a<s.length;a+=1){var l=s[a];l&&this.checkPatternExport(e,l)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(e,t.expression)},le.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}},le.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},le.parseExportSpecifiers=function(e){var t=[],n=!0;this.expect(w.braceL);while(!this.eat(w.braceR)){if(n)n=!1;else if(this.expect(w.comma),this.afterTrailingComma(w.braceR))break;var r=this.startNode();r.local=this.parseIdent(!0),r.exported=this.eatContextual("as")?this.parseIdent(!0):r.local,this.checkExport(e,r.exported.name,r.exported.start),t.push(this.finishNode(r,"ExportSpecifier"))}return t},le.parseImport=function(e){return this.next(),this.type===w.string?(e.specifiers=fe,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===w.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},le.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===w.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,$),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(w.comma))return e}if(this.type===w.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLVal(r.local,$),e.push(this.finishNode(r,"ImportNamespaceSpecifier")),e}this.expect(w.braceL);while(!this.eat(w.braceR)){if(t)t=!1;else if(this.expect(w.comma),this.afterTrailingComma(w.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLVal(i.local,$),e.push(this.finishNode(i,"ImportSpecifier"))}return e},le.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},le.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"===typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var ve=re.prototype;ve.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var o=i[r];this.toAssignable(o,t),"RestElement"!==o.type||"ArrayPattern"!==o.argument.type&&"ObjectPattern"!==o.argument.type||this.raise(o.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},ve.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var o=e[n-1];6===this.options.ecmaVersion&&t&&o&&"RestElement"===o.type&&"Identifier"!==o.argument.type&&this.unexpected(o.argument.start)}return e},ve.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},ve.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==w.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},ve.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case w.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(w.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case w.braceL:return this.parseObj(!0)}return this.parseIdent()},ve.parseBindingList=function(e,t,n){var r=[],i=!0;while(!this.eat(e))if(i?i=!1:this.expect(w.comma),t&&this.type===w.comma)r.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===w.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),r.push(o),this.type===w.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),r.push(a)}return r},ve.parseBindingListItem=function(e){return e},ve.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(w.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},ve.checkLVal=function(e,t,n){switch(void 0===t&&(t=Q),e.type){case"Identifier":t===$&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&(L(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==Q&&t!==ne&&this.declareName(e.name,t,e.start);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var o=i[r];this.checkLVal(o,t,n)}break;case"Property":this.checkLVal(e.value,t,n);break;case"ArrayPattern":for(var a=0,s=e.elements;a<s.length;a+=1){var l=s[a];l&&this.checkLVal(l,t,n)}break;case"AssignmentPattern":this.checkLVal(e.left,t,n);break;case"RestElement":this.checkLVal(e.argument,t,n);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,n);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var me=re.prototype;me.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type)&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r,i=e.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var o=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===o&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);else{r="$"+r;var a,s=t[r];if(s)a="init"===o?this.strict&&s.init||s.get||s.set:s.init||s[o],a&&this.raiseRecoverable(i.start,"Redefinition of property");else s=t[r]={init:!1,get:!1,set:!1};s[o]=!0}}},me.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===w.comma){var o=this.startNodeAt(n,r);o.expressions=[i];while(this.eat(w.comma))o.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(o,"SequenceExpression")}return i},me.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,o=-1;t?(i=t.parenthesizedAssign,o=t.trailingComma,t.parenthesizedAssign=t.trailingComma=-1):(t=new se,r=!0);var a=this.start,s=this.startLoc;this.type!==w.parenL&&this.type!==w.name||(this.potentialArrowAt=this.start);var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,s)),this.type.isAssign){var u=this.startNodeAt(a,s);return u.operator=this.value,u.left=this.type===w.eq?this.toAssignable(l,!1,t):l,r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=u.left.start&&(t.shorthandAssign=-1),this.checkLVal(l),this.next(),u.right=this.parseMaybeAssign(e),this.finishNode(u,"AssignmentExpression")}return r&&this.checkExpressionErrors(t,!0),i>-1&&(t.parenthesizedAssign=i),o>-1&&(t.trailingComma=o),l},me.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(w.question)){var o=this.startNodeAt(n,r);return o.test=i,o.consequent=this.parseMaybeAssign(),this.expect(w.colon),o.alternate=this.parseMaybeAssign(e),this.finishNode(o,"ConditionalExpression")}return i},me.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)||i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,e)},me.parseExprOp=function(e,t,n,r,i){var o=this.type.binop;if(null!=o&&(!i||this.type!==w._in)&&o>r){var a=this.type===w.logicalOR||this.type===w.logicalAND,s=this.type===w.coalesce;s&&(o=w.logicalAND.binop);var l=this.value;this.next();var u=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1),u,c,o,i),p=this.buildBinary(t,n,e,f,l,a||s);return(a&&this.type===w.coalesce||s&&(this.type===w.logicalOR||this.type===w.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(p,t,n,r,i)}return e},me.buildBinary=function(e,t,n,r,i,o){var a=this.startNodeAt(e,t);return a.left=n,a.operator=i,a.right=r,this.finishNode(a,o?"LogicalExpression":"BinaryExpression")},me.parseMaybeUnary=function(e,t){var n,r=this.start,i=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))n=this.parseAwait(),t=!0;else if(this.type.prefix){var o=this.startNode(),a=this.type===w.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),a?this.checkLVal(o.argument):this.strict&&"delete"===o.operator&&"Identifier"===o.argument.type?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):t=!0,n=this.finishNode(o,a?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return n;while(this.type.postfix&&!this.canInsertSemicolon()){var s=this.startNodeAt(r,i);s.operator=this.value,s.prefix=!1,s.argument=n,this.checkLVal(n),this.next(),n=this.finishNode(s,"UpdateExpression")}}return!t&&this.eat(w.starstar)?this.buildBinary(r,i,n,this.parseMaybeUnary(null,!1),"**",!1):n},me.parseExprSubscripts=function(e){var t=this.start,n=this.startLoc,r=this.parseExprAtom(e);if("ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return r;var i=this.parseSubscripts(r,t,n);return e&&"MemberExpression"===i.type&&(e.parenthesizedAssign>=i.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=i.start&&(e.parenthesizedBind=-1)),i},me.parseSubscripts=function(e,t,n,r){var i=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;while(1){var a=this.parseSubscript(e,t,n,r,i,o);if(a.optional&&(o=!0),a===e||"ArrowFunctionExpression"===a.type){if(o){var s=this.startNodeAt(t,n);s.expression=a,a=this.finishNode(s,"ChainExpression")}return a}e=a}},me.parseSubscript=function(e,t,n,r,i,o){var a=this.options.ecmaVersion>=11,s=a&&this.eat(w.questionDot);r&&s&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(w.bracketL);if(l||s&&this.type!==w.parenL&&this.type!==w.backQuote||this.eat(w.dot)){var u=this.startNodeAt(t,n);u.object=e,u.property=l?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),u.computed=!!l,l&&this.expect(w.bracketR),a&&(u.optional=s),e=this.finishNode(u,"MemberExpression")}else if(!r&&this.eat(w.parenL)){var c=new se,f=this.yieldPos,p=this.awaitPos,d=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var h=this.parseExprList(w.parenR,this.options.ecmaVersion>=8,!1,c);if(i&&!s&&!this.canInsertSemicolon()&&this.eat(w.arrow))return this.checkPatternErrors(c,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=p,this.awaitIdentPos=d,this.parseArrowExpression(this.startNodeAt(t,n),h,!0);this.checkExpressionErrors(c,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=d||this.awaitIdentPos;var v=this.startNodeAt(t,n);v.callee=e,v.arguments=h,a&&(v.optional=s),e=this.finishNode(v,"CallExpression")}else if(this.type===w.backQuote){(s||o)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var m=this.startNodeAt(t,n);m.tag=e,m.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(m,"TaggedTemplateExpression")}return e},me.parseExprAtom=function(e){this.type===w.slash&&this.readRegexp();var t,n=this.potentialArrowAt===this.start;switch(this.type){case w._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),t=this.startNode(),this.next(),this.type!==w.parenL||this.allowDirectSuper||this.raise(t.start,"super() call outside constructor of a subclass"),this.type!==w.dot&&this.type!==w.bracketL&&this.type!==w.parenL&&this.unexpected(),this.finishNode(t,"Super");case w._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case w.name:var r=this.start,i=this.startLoc,o=this.containsEsc,a=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&"async"===a.name&&!this.canInsertSemicolon()&&this.eat(w._function))return this.parseFunction(this.startNodeAt(r,i),0,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(w.arrow))return this.parseArrowExpression(this.startNodeAt(r,i),[a],!1);if(this.options.ecmaVersion>=8&&"async"===a.name&&this.type===w.name&&!o)return a=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(w.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,i),[a],!0)}return a;case w.regexp:var s=this.value;return t=this.parseLiteral(s.value),t.regex={pattern:s.pattern,flags:s.flags},t;case w.num:case w.string:return this.parseLiteral(this.value);case w._null:case w._true:case w._false:return t=this.startNode(),t.value=this.type===w._null?null:this.type===w._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case w.parenL:var l=this.start,u=this.parseParenAndDistinguishExpression(n);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(u)&&(e.parenthesizedAssign=l),e.parenthesizedBind<0&&(e.parenthesizedBind=l)),u;case w.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(w.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case w.braceL:return this.parseObj(!1,e);case w._function:return t=this.startNode(),this.next(),this.parseFunction(t,0);case w._class:return this.parseClass(this.startNode(),!1);case w._new:return this.parseNew();case w.backQuote:return this.parseTemplate();case w._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},me.parseExprImport=function(){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var t=this.parseIdent(!0);switch(this.type){case w.parenL:return this.parseDynamicImport(e);case w.dot:return e.meta=t,this.parseImportMeta(e);default:this.unexpected()}},me.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(w.parenR)){var t=this.start;this.eat(w.comma)&&this.eat(w.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},me.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"!==this.options.sourceType&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},me.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},me.parseParenExpression=function(){this.expect(w.parenL);var e=this.parseExpression();return this.expect(w.parenR),e},me.parseParenAndDistinguishExpression=function(e){var t,n=this.start,r=this.startLoc,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o,a=this.start,s=this.startLoc,l=[],u=!0,c=!1,f=new se,p=this.yieldPos,d=this.awaitPos;this.yieldPos=0,this.awaitPos=0;while(this.type!==w.parenR){if(u?u=!1:this.expect(w.comma),i&&this.afterTrailingComma(w.parenR,!0)){c=!0;break}if(this.type===w.ellipsis){o=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===w.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,f,this.parseParenItem))}var h=this.start,v=this.startLoc;if(this.expect(w.parenR),e&&!this.canInsertSemicolon()&&this.eat(w.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=d,this.parseParenArrowList(n,r,l);l.length&&!c||this.unexpected(this.lastTokStart),o&&this.unexpected(o),this.checkExpressionErrors(f,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=d||this.awaitPos,l.length>1?(t=this.startNodeAt(a,s),t.expressions=l,this.finishNodeAt(t,"SequenceExpression",h,v)):t=l[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var m=this.startNodeAt(n,r);return m.expression=t,this.finishNode(m,"ParenthesizedExpression")}return t},me.parseParenItem=function(e){return e},me.parseParenArrowList=function(e,t,n){return this.parseArrowExpression(this.startNodeAt(e,t),n)};var ge=[];me.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(w.dot)){e.meta=t;var n=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.inNonArrowFunction()||this.raiseRecoverable(e.start,"'new.target' can only be used in functions"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc,o=this.type===w._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),r,i,!0),o&&"ImportExpression"===e.callee.type&&this.raise(r,"Cannot use new with import()"),this.eat(w.parenL)?e.arguments=this.parseExprList(w.parenR,this.options.ecmaVersion>=8,!1):e.arguments=ge,this.finishNode(e,"NewExpression")},me.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===w.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===w.backQuote,this.finishNode(n,"TemplateElement")},me.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});n.quasis=[r];while(!r.tail)this.type===w.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(w.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(w.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},me.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===w.name||this.type===w.num||this.type===w.string||this.type===w.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===w.star)&&!S.test(this.input.slice(this.lastTokEnd,this.start))},me.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};n.properties=[],this.next();while(!this.eat(w.braceR)){if(r)r=!1;else if(this.expect(w.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(w.braceR))break;var o=this.parseProperty(e,t);e||this.checkPropClash(o,i,t),n.properties.push(o)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},me.parseProperty=function(e,t){var n,r,i,o,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(w.ellipsis))return e?(a.argument=this.parseIdent(!1),this.type===w.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===w.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),a.argument=this.parseMaybeAssign(!1,t),this.type===w.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(e||t)&&(i=this.start,o=this.startLoc),e||(n=this.eat(w.star)));var s=this.containsEsc;return this.parsePropertyName(a),!e&&!s&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(w.star),this.parsePropertyName(a,t)):r=!1,this.parsePropertyValue(a,e,n,r,i,o,t,s),this.finishNode(a,"Property")},me.parsePropertyValue=function(e,t,n,r,i,o,a,s){if((n||r)&&this.type===w.colon&&this.unexpected(),this.eat(w.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===w.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r);else if(t||s||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===w.comma||this.type===w.braceR||this.type===w.eq)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,o,e.key):this.type===w.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,o,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else{(n||r)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var l="get"===e.kind?0:1;if(e.value.params.length!==l){var u=e.value.start;"get"===e.kind?this.raiseRecoverable(u,"getter should have no params"):this.raiseRecoverable(u,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},me.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(w.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(w.bracketR),e.key;e.computed=!1}return e.key=this.type===w.num||this.type===w.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},me.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},me.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Z(t,r.generator)|X|(n?K:0)),this.expect(w.parenL),r.params=this.parseBindingList(w.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0),this.yieldPos=i,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(r,"FunctionExpression")},me.parseArrowExpression=function(e,t,n){var r=this.yieldPos,i=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(Z(n,!1)|q),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1),this.yieldPos=r,this.awaitPos=i,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")},me.parseFunctionBody=function(e,t,n){var r=t&&this.type!==w.braceL,i=this.strict,o=!1;if(r)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);i&&!a||(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var s=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!i&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLVal(e.id,ne),e.body=this.parseBlock(!1,void 0,o&&!i),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=s}this.exitScope()},me.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if("Identifier"!==r.type)return!1}return!0},me.checkParams=function(e,t){for(var n={},r=0,i=e.params;r<i.length;r+=1){var o=i[r];this.checkLVal(o,J,t?null:n)}},me.parseExprList=function(e,t,n,r){var i=[],o=!0;while(!this.eat(e)){if(o)o=!1;else if(this.expect(w.comma),t&&this.afterTrailingComma(e))break;var a=void 0;n&&this.type===w.comma?a=null:this.type===w.ellipsis?(a=this.parseSpread(r),r&&this.type===w.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):a=this.parseMaybeAssign(!1,r),i.push(a)}return i},me.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&"yield"===r&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\"))){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}},me.parseIdent=function(e,t){var n=this.startNode();return this.type===w.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!e),this.finishNode(n,"Identifier"),e||(this.checkUnreserved(n),"await"!==n.name||this.awaitIdentPos||(this.awaitIdentPos=n.start)),n},me.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===w.semi||this.canInsertSemicolon()||this.type!==w.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(w.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},me.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!1),this.finishNode(e,"AwaitExpression")};var ye=re.prototype;ye.raise=function(e,t){var n=j(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},ye.raiseRecoverable=ye.raise,ye.curPosition=function(){if(this.options.locations)return new R(this.curLine,this.pos-this.lineStart)};var be=re.prototype,_e=function(e){this.flags=e,this["var"]=[],this.lexical=[],this.functions=[]};be.enterScope=function(e){this.scopeStack.push(new _e(e))},be.exitScope=function(){this.scopeStack.pop()},be.treatFunctionsAsVarInScope=function(e){return e.flags&H||!this.inModule&&e.flags&z},be.declareName=function(e,t,n){var r=!1;if(t===$){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i["var"].indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&z&&delete this.undefinedExports[e]}else if(t===te){var o=this.currentScope();o.lexical.push(e)}else if(t===ee){var a=this.currentScope();r=this.treatFunctionsAsVar?a.lexical.indexOf(e)>-1:a.lexical.indexOf(e)>-1||a["var"].indexOf(e)>-1,a.functions.push(e)}else for(var s=this.scopeStack.length-1;s>=0;--s){var l=this.scopeStack[s];if(l.lexical.indexOf(e)>-1&&!(l.flags&Y&&l.lexical[0]===e)||!this.treatFunctionsAsVarInScope(l)&&l.functions.indexOf(e)>-1){r=!0;break}if(l["var"].push(e),this.inModule&&l.flags&z&&delete this.undefinedExports[e],l.flags&V)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},be.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0]["var"].indexOf(e.name)&&(this.undefinedExports[e.name]=e)},be.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},be.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&V)return t}},be.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&V&&!(t.flags&q))return t}};var Ee=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new N(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},xe=re.prototype;function we(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}xe.startNode=function(){return new Ee(this,this.start,this.startLoc)},xe.startNodeAt=function(e,t){return new Ee(this,e,t)},xe.finishNode=function(e,t){return we.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},xe.finishNodeAt=function(e,t,n,r){return we.call(this,e,t,n,r)};var Se=function(e,t,n,r,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!i},Oe={b_stat:new Se("{",!1),b_expr:new Se("{",!0),b_tmpl:new Se("${",!1),p_stat:new Se("(",!1),p_expr:new Se("(",!0),q_tmpl:new Se("`",!0,!0,(function(e){return e.tryReadTemplateToken()})),f_stat:new Se("function",!1),f_expr:new Se("function",!0),f_expr_gen:new Se("function",!0,!1,null,!0),f_gen:new Se("function",!1,!1,null,!0)},Ce=re.prototype;Ce.initialContext=function(){return[Oe.b_stat]},Ce.braceIsBlock=function(e){var t=this.curContext();return t===Oe.f_expr||t===Oe.f_stat||(e!==w.colon||t!==Oe.b_stat&&t!==Oe.b_expr?e===w._return||e===w.name&&this.exprAllowed?S.test(this.input.slice(this.lastTokEnd,this.start)):e===w._else||e===w.semi||e===w.eof||e===w.parenR||e===w.arrow||(e===w.braceL?t===Oe.b_stat:e!==w._var&&e!==w._const&&e!==w.name&&!this.exprAllowed):!t.isExpr)},Ce.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},Ce.updateContext=function(e){var t,n=this.type;n.keyword&&e===w.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},w.parenR.updateContext=w.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===Oe.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},w.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Oe.b_stat:Oe.b_expr),this.exprAllowed=!0},w.dollarBraceL.updateContext=function(){this.context.push(Oe.b_tmpl),this.exprAllowed=!0},w.parenL.updateContext=function(e){var t=e===w._if||e===w._for||e===w._with||e===w._while;this.context.push(t?Oe.p_stat:Oe.p_expr),this.exprAllowed=!0},w.incDec.updateContext=function(){},w._function.updateContext=w._class.updateContext=function(e){!e.beforeExpr||e===w.semi||e===w._else||e===w._return&&S.test(this.input.slice(this.lastTokEnd,this.start))||(e===w.colon||e===w.braceL)&&this.curContext()===Oe.b_stat?this.context.push(Oe.f_stat):this.context.push(Oe.f_expr),this.exprAllowed=!1},w.backQuote.updateContext=function(){this.curContext()===Oe.q_tmpl?this.context.pop():this.context.push(Oe.q_tmpl),this.exprAllowed=!1},w.star.updateContext=function(e){if(e===w._function){var t=this.context.length-1;this.context[t]===Oe.f_expr?this.context[t]=Oe.f_expr_gen:this.context[t]=Oe.f_gen}this.exprAllowed=!0},w.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==w.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Ae="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Pe=Ae+" Extended_Pictographic",ke=Pe,Me={9:Ae,10:Pe,11:ke},Te="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Le="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Ie=Le+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",De=Ie+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Re={9:Le,10:Ie,11:De},Ne={};function je(e){var t=Ne[e]={binary:D(Me[e]+" "+Te),nonBinary:{General_Category:D(Te),Script:D(Re[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}je(9),je(10),je(11);var Fe=re.prototype,Be=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.unicodeProperties=Ne[e.options.ecmaVersion>=11?11:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function Ue(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function ze(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function He(e){return v(e,!0)||36===e||95===e}function Ve(e){return m(e,!0)||36===e||95===e||8204===e||8205===e}function Ge(e){return e>=65&&e<=90||e>=97&&e<=122}function We(e){return e>=0&&e<=1114111}function qe(e){return 100===e||68===e||115===e||83===e||119===e||87===e}function Ye(e){return Ge(e)||95===e}function Xe(e){return Ye(e)||Ke(e)}function Ke(e){return e>=48&&e<=57}function Ze(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Qe(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function Je(e){return e>=48&&e<=55}Be.prototype.reset=function(e,t,n){var r=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchN=r&&this.parser.options.ecmaVersion>=9},Be.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},Be.prototype.at=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return-1;var i=n.charCodeAt(e);if(!t&&!this.switchU||i<=55295||i>=57344||e+1>=r)return i;var o=n.charCodeAt(e+1);return o>=56320&&o<=57343?(i<<10)+o-56613888:i},Be.prototype.nextIndex=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return r;var i,o=n.charCodeAt(e);return!t&&!this.switchU||o<=55295||o>=57344||e+1>=r||(i=n.charCodeAt(e+1))<56320||i>57343?e+1:e+2},Be.prototype.current=function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},Be.prototype.lookahead=function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},Be.prototype.advance=function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},Be.prototype.eat=function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},Fe.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=0;r<n.length;r++){var i=n.charAt(r);-1===t.indexOf(i)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(i,r+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},Fe.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},Fe.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];-1===e.groupNames.indexOf(r)&&e.raise("Invalid named capture referenced")}},Fe.regexp_disjunction=function(e){this.regexp_alternative(e);while(e.eat(124))this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},Fe.regexp_alternative=function(e){while(e.pos<e.source.length&&this.regexp_eatTerm(e));},Fe.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},Fe.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},Fe.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},Fe.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},Fe.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return-1!==i&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},Fe.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},Fe.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},Fe.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},Fe.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},Fe.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},Fe.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},Fe.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!ze(t)&&(e.lastIntValue=t,e.advance(),!0)},Fe.regexp_eatPatternCharacters=function(e){var t=e.pos,n=0;while(-1!==(n=e.current())&&!ze(n))e.advance();return e.pos!==t},Fe.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t)&&(e.advance(),!0)},Fe.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},Fe.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},Fe.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){e.lastStringValue+=Ue(e.lastIntValue);while(this.regexp_eatRegExpIdentifierPart(e))e.lastStringValue+=Ue(e.lastIntValue);return!0}return!1},Fe.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),He(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},Fe.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),Ve(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},Fe.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},Fe.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},Fe.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},Fe.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},Fe.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},Fe.regexp_eatZero=function(e){return 48===e.current()&&!Ke(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},Fe.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},Fe.regexp_eatControlLetter=function(e){var t=e.current();return!!Ge(t)&&(e.lastIntValue=t%32,e.advance(),!0)},Fe.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var o=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var a=e.lastIntValue;if(a>=56320&&a<=57343)return e.lastIntValue=1024*(i-55296)+(a-56320)+65536,!0}e.pos=o,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&We(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1},Fe.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t)&&(e.lastIntValue=t,e.advance(),!0)},Fe.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},Fe.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(qe(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},Fe.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i),!0}return!1},Fe.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){L(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},Fe.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},Fe.regexp_eatUnicodePropertyName=function(e){var t=0;e.lastStringValue="";while(Ye(t=e.current()))e.lastStringValue+=Ue(t),e.advance();return""!==e.lastStringValue},Fe.regexp_eatUnicodePropertyValue=function(e){var t=0;e.lastStringValue="";while(Xe(t=e.current()))e.lastStringValue+=Ue(t),e.advance();return""!==e.lastStringValue},Fe.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},Fe.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},Fe.regexp_classRanges=function(e){while(this.regexp_eatClassAtom(e)){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},Fe.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||Je(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return 93!==r&&(e.lastIntValue=r,e.advance(),!0)},Fe.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},Fe.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!Ke(t)&&95!==t)&&(e.lastIntValue=t%32,e.advance(),!0)},Fe.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},Fe.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;e.lastIntValue=0;while(Ke(n=e.current()))e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},Fe.regexp_eatHexDigits=function(e){var t=e.pos,n=0;e.lastIntValue=0;while(Ze(n=e.current()))e.lastIntValue=16*e.lastIntValue+Qe(n),e.advance();return e.pos!==t},Fe.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*n+e.lastIntValue:e.lastIntValue=8*t+n}else e.lastIntValue=t;return!0}return!1},Fe.regexp_eatOctalDigit=function(e){var t=e.current();return Je(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},Fe.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!Ze(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Qe(i),e.advance()}return!0};var $e=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new N(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},et=re.prototype;function tt(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function nt(e){return"function"!==typeof BigInt?null:BigInt(e.replace(/_/g,""))}function rt(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}et.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new $e(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},et.getToken=function(){return this.next(),new $e(this)},"undefined"!==typeof Symbol&&(et[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===w.eof,value:t}}}}),et.curContext=function(){return this.context[this.context.length-1]},et.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(w.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},et.readToken=function(e){return v(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},et.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=57344)return e;var t=this.input.charCodeAt(this.pos+1);return(e<<10)+t-56613888},et.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations){var r;O.lastIndex=t;while((r=O.exec(this.input))&&r.index<this.pos)++this.curLine,this.lineStart=r.index+r[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())},et.skipLineComment=function(e){var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);while(this.pos<this.input.length&&!C(r))r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},et.skipSpace=function(){e:while(this.pos<this.input.length){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&A.test(String.fromCharCode(e))))break e;++this.pos}}},et.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},et.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(w.ellipsis)):(++this.pos,this.finishToken(w.dot))},et.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(w.assign,2):this.finishOp(w.slash,1)},et.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?w.star:w.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,r=w.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(w.assign,n+1):this.finishOp(r,n)},et.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(61===n)return this.finishOp(w.assign,3)}return this.finishOp(124===e?w.logicalOR:w.logicalAND,2)}return 61===t?this.finishOp(w.assign,2):this.finishOp(124===e?w.bitwiseOR:w.bitwiseAND,1)},et.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(w.assign,2):this.finishOp(w.bitwiseXOR,1)},et.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!S.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(w.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(w.assign,2):this.finishOp(w.plusMin,1)},et.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(w.assign,n+1):this.finishOp(w.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(w.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},et.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(w.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(w.arrow)):this.finishOp(61===e?w.eq:w.prefix,1)},et.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(w.questionDot,2)}if(63===t){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(61===r)return this.finishOp(w.assign,3)}return this.finishOp(w.coalesce,2)}}return this.finishOp(w.question,1)},et.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(w.parenL);case 41:return++this.pos,this.finishToken(w.parenR);case 59:return++this.pos,this.finishToken(w.semi);case 44:return++this.pos,this.finishToken(w.comma);case 91:return++this.pos,this.finishToken(w.bracketL);case 93:return++this.pos,this.finishToken(w.bracketR);case 123:return++this.pos,this.finishToken(w.braceL);case 125:return++this.pos,this.finishToken(w.braceR);case 58:return++this.pos,this.finishToken(w.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(w.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(w.prefix,1)}this.raise(this.pos,"Unexpected character '"+rt(e)+"'")},et.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},et.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(S.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var o=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(o);var s=this.regexpState||(this.regexpState=new Be(this));s.reset(n,i,a),this.validateRegExpFlags(s),this.validateRegExpPattern(s);var l=null;try{l=new RegExp(i,a)}catch(u){}return this.finishToken(w.regexp,{pattern:i,flags:a,value:l})},et.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&void 0===t,i=n&&48===this.input.charCodeAt(this.pos),o=this.pos,a=0,s=0,l=0,u=null==t?1/0:t;l<u;++l,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&95===c)i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===s&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===l&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),s=c;else{if(f=c>=97?c-97+10:c>=65?c-65+10:c>=48&&c<=57?c-48:1/0,f>=e)break;s=c,a=a*e+f}}return r&&95===s&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===o||null!=t&&this.pos-o!==t?null:a},et.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return null==n&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=nt(this.input.slice(t,this.pos)),++this.pos):v(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(w.num,n)},et.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(t,"Invalid number");var n=this.pos-t>=2&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&110===r){var i=nt(this.input.slice(t,this.pos));return++this.pos,v(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(w.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(r=this.input.charCodeAt(++this.pos),43!==r&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),v(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o=tt(this.input.slice(t,this.pos),n);return this.finishToken(w.num,o)},et.readCodePoint=function(){var e,t=this.input.charCodeAt(this.pos);if(123===t){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else e=this.readHexChar(4);return e},et.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):(C(r,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(w.string,t)};var it={};et.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==it)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},et.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw it;this.raise(e,t)},et.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==w.template&&this.type!==w.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(w.template,e)):36===n?(this.pos+=2,this.finishToken(w.dollarBraceL)):(++this.pos,this.finishToken(w.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(C(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},et.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(w.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},et.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return rt(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(e){var n=this.pos-1;return this.invalidStringToken(n,"Invalid escape sequence in template string"),null}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),"0"===r&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return C(t)?"":String.fromCharCode(t)}},et.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},et.readWord1=function(){this.containsEsc=!1;var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;while(this.pos<this.input.length){var i=this.fullCharCodeAtPos();if(m(i,r))this.pos+=i<=65535?1:2;else{if(92!==i)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var o=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?v:m)(a,r)||this.invalidStringToken(o,"Invalid Unicode escape"),e+=rt(a),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},et.readWord=function(){var e=this.readWord1(),t=w.name;return this.keywords.test(e)&&(t=E[e]),this.finishToken(t,e)};var ot="7.4.1";function at(e,t){return re.parse(e,t)}function st(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function lt(e){var t="function"===typeof Map?new Map:void 0;return lt=function(e){if(null===e||!ft(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ct(e,arguments,dt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),pt(n,e)},lt(e)}function ut(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ct(e,t,n){return ct=ut()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),o=new i;return n&&pt(o,n.prototype),o},ct.apply(null,arguments)}function ft(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function pt(e,t){return pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pt(e,t)}function dt(e){return dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dt(e)}re.acorn={Parser:re,version:ot,defaultOptions:F,Position:R,SourceLocation:N,getLineInfo:j,Node:Ee,TokenType:g,tokTypes:w,keywordTypes:E,TokContext:Se,tokContexts:Oe,isIdentifierChar:m,isIdentifierStart:v,Token:$e,isNewLine:C,lineBreak:S,lineBreakG:O,nonASCIIwhitespace:A};var ht=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(lt(Error)),vt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(lt(SyntaxError)),mt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(lt(ReferenceError)),gt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(lt(TypeError)),yt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(ht),bt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(vt),_t=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(mt),Et={UnknownError:[3001,"%0",yt],ExecutionTimeOutError:[3002,"Script execution timed out after %0ms",yt],NodeTypeSyntaxError:[1001,"Unknown node type: %0",_t],BinaryOperatorSyntaxError:[1002,"Unknown binary operator: %0",_t],LogicalOperatorSyntaxError:[1003,"Unknown logical operator: %0",_t],UnaryOperatorSyntaxError:[1004,"Unknown unary operator: %0",_t],UpdateOperatorSyntaxError:[1005,"Unknown update operator: %0",_t],ObjectStructureSyntaxError:[1006,"Unknown object structure: %0",_t],AssignmentExpressionSyntaxError:[1007,"Unknown assignment expression: %0",_t],VariableTypeSyntaxError:[1008,"Unknown variable type: %0",_t],ParamTypeSyntaxError:[1009,"Unknown param type: %0",_t],AssignmentTypeSyntaxError:[1010,"Unknown assignment type: %0",_t],FunctionUndefinedReferenceError:[2001,"%0 is not a function",mt],VariableUndefinedReferenceError:[2002,"%0 is not defined",mt],IsNotConstructor:[2003,"%0 is not a constructor",gt]};function xt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function wt(e,t,n){return wt=xt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),o=new i;return n&&St(o,n.prototype),o},wt.apply(null,arguments)}function St(e,t){return St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},St(e,t)}var Ot="0.0.3";function Ct(e,t){Object.defineProperty(e,"name",{value:t,writable:!1,enumerable:!1,configurable:!0})}var At=Object.prototype.hasOwnProperty,Pt=Symbol("Break"),kt=Symbol("Continue"),Mt=Symbol("DefaultCase"),Tt=Symbol("EmptyStatementReturn"),Lt=Symbol("WithScopeName"),It=Symbol("SuperScopeName"),Dt=Symbol("RootScopeName"),Rt=Symbol("GlobalScopeName");function Nt(e){return"function"===typeof e}var jt=function(){function e(e){this.interpreter=e}var t=e.prototype;return t.generator=function(){var e=this.interpreter;function t(){return this.getCurrentScope()}function n(){return this.getGlobalScope()}function r(){return this.getCurrentContext()}return{getOptions:e.getOptions.bind(e),getCurrentScope:t.bind(e),getGlobalScope:n.bind(e),getCurrentContext:r.bind(e),getExecStartTime:e.getExecStartTime.bind(e)}},e}();function Ft(e,t,n){if(void 0===n&&(n=!0),!(e instanceof jt))throw new Error("Illegal call");if("string"!==typeof t)return t;if(t){var r=e.generator(),i=r.getOptions(),o={timeout:i.timeout,_initEnv:function(){n||this.setCurrentContext(r.getCurrentContext()),this.execStartTime=r.getExecStartTime(),this.execEndTime=this.execStartTime}},a=n?r.getGlobalScope():r.getCurrentScope(),s=new Xt(a,o);return s.evaluate(t)}}function Bt(e){if(!(e instanceof jt))throw new Error("Illegal call");for(var t=e.generator(),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=r.pop(),a=new Xt(t.getGlobalScope(),t.getOptions()),s="\n\t\t    (function anonymous("+r.join(",")+"){\n\t\t        "+o+"\n\t\t    });\n\t\t    ";return a.evaluate(s)}Object.defineProperty(Ft,"__IS_EVAL_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(Bt,"__IS_FUNCTION_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1});var Ut=function(e){this.value=e},zt=function(e){this.value=e},Ht=function(e){this.value=e},Vt=function(e,t,n){void 0===t&&(t=null),this.name=n,this.parent=t,this.data=e,this.labelStack=[]};function Gt(){}function Wt(e,t){return void 0===e&&(e=null),new Vt(Object.create(null),e,t)}function qt(e){return Object.create(e)}var Yt={NaN:NaN,Infinity:1/0,undefined:void 0,Object:Object,Array:Array,String:String,Boolean:Boolean,Number:Number,Date:Date,RegExp:RegExp,Error:Error,URIError:URIError,TypeError:TypeError,RangeError:RangeError,SyntaxError:SyntaxError,ReferenceError:ReferenceError,Float32Array:Float32Array,Float64Array:Float64Array,Uint32Array:Uint32Array,Math:Math,parseInt:parseInt,parseFloat:parseFloat,isNaN:isNaN,isFinite:isFinite,decodeURI:decodeURI,decodeURIComponent:decodeURIComponent,encodeURI:encodeURI,encodeURIComponent:encodeURIComponent,escape:escape,unescape:unescape,eval:Ft,Function:Bt};"undefined"!==typeof JSON&&(Yt.JSON=JSON),"undefined"!==typeof Promise&&(Yt.Promise=Promise),"undefined"!==typeof Set&&(Yt.Set=Set),"undefined"!==typeof Map&&(Yt.Map=Map),"undefined"!==typeof Symbol&&(Yt.Symbol=Symbol),"undefined"!==typeof Proxy&&(Yt.Proxy=Proxy),"undefined"!==typeof WeakMap&&(Yt.WeakMap=WeakMap),"undefined"!==typeof WeakSet&&(Yt.WeakSet=WeakSet),"undefined"!==typeof Reflect&&(Yt.Reflect=Reflect);var Xt=function(){function e(t,n){void 0===t&&(t=e.global),void 0===n&&(n={}),this.sourceList=[],this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.isVarDeclMode=!1,this.lastExecNode=null,this.isRunning=!1,this.options={ecmaVersion:n.ecmaVersion||e.ecmaVersion,timeout:n.timeout||0,rootContext:n.rootContext,globalContextInFunction:void 0===n.globalContextInFunction?e.globalContextInFunction:n.globalContextInFunction,_initEnv:n._initEnv},this.context=t||Object.create(null),this.callStack=[],this.initEnvironment(this.context)}var t=e.prototype;return t.initEnvironment=function(e){var t;if(e instanceof Vt)t=e;else{var n=null,r=this.createSuperScope(e);this.options.rootContext&&(n=new Vt(qt(this.options.rootContext),r,Dt)),t=new Vt(e,n||r,Rt)}this.globalScope=t,this.currentScope=this.globalScope,this.globalContext=t.data,this.currentContext=t.data,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.execStartTime=Date.now(),this.execEndTime=this.execStartTime;var i=this.options._initEnv;i&&i.call(this)},t.getExecStartTime=function(){return this.execStartTime},t.getExecutionTime=function(){return this.execEndTime-this.execStartTime},t.setExecTimeout=function(e){void 0===e&&(e=0),this.options.timeout=e},t.getOptions=function(){return this.options},t.getGlobalScope=function(){return this.globalScope},t.getCurrentScope=function(){return this.currentScope},t.getCurrentContext=function(){return this.currentContext},t.isInterruptThrow=function(e){return e instanceof yt||e instanceof _t||e instanceof bt},t.createSuperScope=function(e){var t=Object.assign({},Yt),n=Object.keys(t);return n.forEach((function(n){n in e&&delete t[n]})),new Vt(t,null,It)},t.setCurrentContext=function(e){this.currentContext=e},t.setCurrentScope=function(e){this.currentScope=e},t.evaluate=function(t){var n;if(void 0===t&&(t=""),t)return n=at(t,{ranges:!0,locations:!0,ecmaVersion:this.options.ecmaVersion||e.ecmaVersion}),this.evaluateNode(n,t)},t.appendCode=function(e){return this.evaluate(e)},t.evaluateNode=function(e,t){var n=this;void 0===t&&(t=""),this.value=void 0,this.source=t,this.sourceList.push(t),this.isRunning=!0,this.execStartTime=Date.now(),this.execEndTime=this.execStartTime,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var r=this.getCurrentScope(),i=this.getCurrentContext(),o=r.labelStack.concat([]),a=this.callStack.concat([]),s=function(){n.setCurrentScope(r),n.setCurrentContext(i),r.labelStack=o,n.callStack=a};try{var l=this.createClosure(e);this.addDeclarationsToScope(this.collectDeclVars,this.collectDeclFuncs,this.getCurrentScope()),l()}catch(u){throw u}finally{s(),this.execEndTime=Date.now()}return this.isRunning=!1,this.getValue()},t.createErrorMessage=function(e,t,n){var r=e[1].replace("%0",String(t));return null!==n&&(r+=this.getNodePosition(n||this.lastExecNode)),r},t.createError=function(e,t){return new t(e)},t.createThrowError=function(e,t){return this.createError(e,t)},t.createInternalThrowError=function(e,t,n){return this.createError(this.createErrorMessage(e,t,n),e[2])},t.checkTimeout=function(){if(!this.isRunning)return!1;var e=this.options.timeout||0,t=Date.now();return t-this.execStartTime>e},t.getNodePosition=function(e){if(e){var t="";return e.loc?" ["+e.loc.start.line+":"+e.loc.start.column+"]"+t:""}return""},t.createClosure=function(e){var t,n=this;switch(e.type){case"BinaryExpression":t=this.binaryExpressionHandler(e);break;case"LogicalExpression":t=this.logicalExpressionHandler(e);break;case"UnaryExpression":t=this.unaryExpressionHandler(e);break;case"UpdateExpression":t=this.updateExpressionHandler(e);break;case"ObjectExpression":t=this.objectExpressionHandler(e);break;case"ArrayExpression":t=this.arrayExpressionHandler(e);break;case"CallExpression":t=this.callExpressionHandler(e);break;case"NewExpression":t=this.newExpressionHandler(e);break;case"MemberExpression":t=this.memberExpressionHandler(e);break;case"ThisExpression":t=this.thisExpressionHandler(e);break;case"SequenceExpression":t=this.sequenceExpressionHandler(e);break;case"Literal":t=this.literalHandler(e);break;case"Identifier":t=this.identifierHandler(e);break;case"AssignmentExpression":t=this.assignmentExpressionHandler(e);break;case"FunctionDeclaration":t=this.functionDeclarationHandler(e);break;case"VariableDeclaration":t=this.variableDeclarationHandler(e);break;case"BlockStatement":case"Program":t=this.programHandler(e);break;case"ExpressionStatement":t=this.expressionStatementHandler(e);break;case"EmptyStatement":t=this.emptyStatementHandler(e);break;case"ReturnStatement":t=this.returnStatementHandler(e);break;case"FunctionExpression":t=this.functionExpressionHandler(e);break;case"IfStatement":t=this.ifStatementHandler(e);break;case"ConditionalExpression":t=this.conditionalExpressionHandler(e);break;case"ForStatement":t=this.forStatementHandler(e);break;case"WhileStatement":t=this.whileStatementHandler(e);break;case"DoWhileStatement":t=this.doWhileStatementHandler(e);break;case"ForInStatement":t=this.forInStatementHandler(e);break;case"WithStatement":t=this.withStatementHandler(e);break;case"ThrowStatement":t=this.throwStatementHandler(e);break;case"TryStatement":t=this.tryStatementHandler(e);break;case"ContinueStatement":t=this.continueStatementHandler(e);break;case"BreakStatement":t=this.breakStatementHandler(e);break;case"SwitchStatement":t=this.switchStatementHandler(e);break;case"LabeledStatement":t=this.labeledStatementHandler(e);break;case"DebuggerStatement":t=this.debuggerStatementHandler(e);break;default:throw this.createInternalThrowError(Et.NodeTypeSyntaxError,e.type,e)}return function(){var r=n.options.timeout;if(r&&r>0&&n.checkTimeout())throw n.createInternalThrowError(Et.ExecutionTimeOutError,r,null);return n.lastExecNode=e,t.apply(void 0,arguments)}},t.binaryExpressionHandler=function(e){var t=this,n=this.createClosure(e.left),r=this.createClosure(e.right);return function(){var i=n(),o=r();switch(e.operator){case"==":return i==o;case"!=":return i!=o;case"===":return i===o;case"!==":return i!==o;case"<":return i<o;case"<=":return i<=o;case">":return i>o;case">=":return i>=o;case"<<":return i<<o;case">>":return i>>o;case">>>":return i>>>o;case"+":return i+o;case"-":return i-o;case"*":return i*o;case"**":return Math.pow(i,o);case"/":return i/o;case"%":return i%o;case"|":return i|o;case"^":return i^o;case"&":return i&o;case"in":return i in o;case"instanceof":return i instanceof o;default:throw t.createInternalThrowError(Et.BinaryOperatorSyntaxError,e.operator,e)}}},t.logicalExpressionHandler=function(e){var t=this,n=this.createClosure(e.left),r=this.createClosure(e.right);return function(){switch(e.operator){case"||":return n()||r();case"&&":return n()&&r();default:throw t.createInternalThrowError(Et.LogicalOperatorSyntaxError,e.operator,e)}}},t.unaryExpressionHandler=function(e){var t=this;switch(e.operator){case"delete":var n=this.createObjectGetter(e.argument),r=this.createNameGetter(e.argument);return function(){var e=n(),t=r();return delete e[t]};default:var i;if("typeof"===e.operator&&"Identifier"===e.argument.type){var o=this.createObjectGetter(e.argument),a=this.createNameGetter(e.argument);i=function(){return o()[a()]}}else i=this.createClosure(e.argument);return function(){var n=i();switch(e.operator){case"-":return-n;case"+":return+n;case"!":return!n;case"~":return~n;case"void":return;case"typeof":return typeof n;default:throw t.createInternalThrowError(Et.UnaryOperatorSyntaxError,e.operator,e)}}}},t.updateExpressionHandler=function(e){var t=this,n=this.createObjectGetter(e.argument),r=this.createNameGetter(e.argument);return function(){var i=n(),o=r();switch(t.assertVariable(i,o,e),e.operator){case"++":return e.prefix?++i[o]:i[o]++;case"--":return e.prefix?--i[o]:i[o]--;default:throw t.createInternalThrowError(Et.UpdateOperatorSyntaxError,e.operator,e)}}},t.objectExpressionHandler=function(e){var t=this,n=[];function r(e){return"Identifier"===e.type?e.name:"Literal"===e.type?e.value:this.throwError(Et.ObjectStructureSyntaxError,e.type,e)}var i=Object.create(null);return e.properties.forEach((function(e){var o=e.kind,a=r(e.key);i[a]&&"init"!==o||(i[a]={}),i[a][o]=t.createClosure(e.value),n.push({key:a,property:e})})),function(){for(var e={},t=n.length,r=0;r<t;r++){var o=n[r],a=o.key,s=i[a],l=s.init?s.init():void 0,u=s.get?s.get():function(){},c=s.set?s.set():function(e){};if("set"in s||"get"in s){var f={configurable:!0,enumerable:!0,get:u,set:c};Object.defineProperty(e,a,f)}else{var p=o.property,d=p.kind;"Identifier"!==p.key.type||"FunctionExpression"!==p.value.type||"init"!==d||p.value.id||Ct(l,p.key.name),e[a]=l}}return e}},t.arrayExpressionHandler=function(e){var t=this,n=e.elements.map((function(e){return e?t.createClosure(e):e}));return function(){for(var e=n.length,t=Array(e),r=0;r<e;r++){var i=n[r];i&&(t[r]=i())}return t}},t.safeObjectGet=function(e,t,n){return e[t]},t.createCallFunctionGetter=function(e){var t=this;switch(e.type){case"MemberExpression":var n=this.createClosure(e.object),r=this.createMemberKeyGetter(e),i=this.source;return function(){var o=n(),a=r(),s=t.safeObjectGet(o,a,e);if(!s||!Nt(s)){var l=i.slice(e.start,e.end);throw t.createInternalThrowError(Et.FunctionUndefinedReferenceError,l,e)}return s.__IS_EVAL_FUNC?function(e){return s(new jt(t),e,!0)}:s.__IS_FUNCTION_FUNC?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return s.apply(void 0,[new jt(t)].concat(n))}:s.bind(o)};default:var o=this.createClosure(e);return function(){var n="";"Identifier"===e.type&&(n=e.name);var r=o();if(!r||!Nt(r))throw t.createInternalThrowError(Et.FunctionUndefinedReferenceError,n,e);if("Identifier"===e.type&&r.__IS_EVAL_FUNC&&"eval"===n)return function(e){var i=t.getScopeFromName(n,t.getCurrentScope()),o=i.name===It||i.name===Rt||i.name===Dt;return r(new jt(t),e,!o)};if(r.__IS_EVAL_FUNC)return function(e){return r(new jt(t),e,!0)};if(r.__IS_FUNCTION_FUNC)return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return r.apply(void 0,[new jt(t)].concat(n))};var i=t.options.globalContextInFunction;if("Identifier"===e.type){var a=t.getIdentifierScope(e);a.name===Lt&&(i=a.data)}return r.bind(i)}}},t.callExpressionHandler=function(e){var t=this,n=this.createCallFunctionGetter(e.callee),r=e.arguments.map((function(e){return t.createClosure(e)}));return function(){return n().apply(void 0,r.map((function(e){return e()})))}},t.functionExpressionHandler=function(e){var t=this,n=this,r=this.source,i=this.collectDeclVars,o=this.collectDeclFuncs;this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var a=e.id?e.id.name:"",s=e.params.length,l=e.params.map((function(e){return t.createParamNameGetter(e)})),u=this.createClosure(e.body),c=this.collectDeclVars,f=this.collectDeclFuncs;return this.collectDeclVars=i,this.collectDeclFuncs=o,function(){var t=n.getCurrentScope(),i=function e(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n.callStack.push(""+a);var s=n.getCurrentScope(),p=Wt(t,"FunctionScope("+a+")");n.setCurrentScope(p),n.addDeclarationsToScope(c,f,p),a&&(p.data[a]=e),p.data["arguments"]=arguments,l.forEach((function(e,t){p.data[e()]=i[t]}));var d=n.getCurrentContext();n.setCurrentContext(this);var h=u();if(n.setCurrentContext(d),n.setCurrentScope(s),n.callStack.pop(),h instanceof Ut)return h.value};return Ct(i,a),Object.defineProperty(i,"length",{value:s,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(i,"toString",{value:function(){return r.slice(e.start,e.end)},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(i,"valueOf",{value:function(){return r.slice(e.start,e.end)},writable:!0,configurable:!0,enumerable:!1}),i}},t.newExpressionHandler=function(e){var t=this,n=this.source,r=this.createClosure(e.callee),i=e.arguments.map((function(e){return t.createClosure(e)}));return function(){var o=r();if(!Nt(o)||o.__IS_EVAL_FUNC){var a=e.callee,s=n.slice(a.start,a.end);throw t.createInternalThrowError(Et.IsNotConstructor,s,e)}return o.__IS_FUNCTION_FUNC?o.apply(void 0,[new jt(t)].concat(i.map((function(e){return e()})))):wt(o,i.map((function(e){return e()})))}},t.memberExpressionHandler=function(e){var t=this.createClosure(e.object),n=this.createMemberKeyGetter(e);return function(){var e=t(),r=n();return e[r]}},t.thisExpressionHandler=function(e){var t=this;return function(){return t.getCurrentContext()}},t.sequenceExpressionHandler=function(e){var t=this,n=e.expressions.map((function(e){return t.createClosure(e)}));return function(){for(var e,t=n.length,r=0;r<t;r++){var i=n[r];e=i()}return e}},t.literalHandler=function(e){return function(){return e.regex?new RegExp(e.regex.pattern,e.regex.flags):e.value}},t.identifierHandler=function(e){var t=this;return function(){var n=t.getCurrentScope(),r=t.getScopeDataFromName(e.name,n);return t.assertVariable(r,e.name,e),r[e.name]}},t.getIdentifierScope=function(e){var t=this.getCurrentScope(),n=this.getScopeFromName(e.name,t);return n},t.assignmentExpressionHandler=function(e){var t=this;"Identifier"!==e.left.type||"FunctionExpression"!==e.right.type||e.right.id||(e.right.id={type:"Identifier",name:e.left.name});var n=this.createObjectGetter(e.left),r=this.createNameGetter(e.left),i=this.createClosure(e.right);return function(){var o=n(),a=r(),s=i();switch("="!==e.operator&&t.assertVariable(o,a,e),e.operator){case"=":return o[a]=s;case"+=":return o[a]+=s;case"-=":return o[a]-=s;case"*=":return o[a]*=s;case"**=":return o[a]=Math.pow(o[a],s);case"/=":return o[a]/=s;case"%=":return o[a]%=s;case"<<=":return o[a]<<=s;case">>=":return o[a]>>=s;case">>>=":return o[a]>>>=s;case"&=":return o[a]&=s;case"^=":return o[a]^=s;case"|=":return o[a]|=s;default:throw t.createInternalThrowError(Et.AssignmentExpressionSyntaxError,e.type,e)}}},t.functionDeclarationHandler=function(e){if(e.id){var t=this.functionExpressionHandler(e);Object.defineProperty(t,"isFunctionDeclareClosure",{value:!0,writable:!1,configurable:!1,enumerable:!1}),this.funcDeclaration(e.id.name,t)}return function(){return Tt}},t.getVariableName=function(e){if("Identifier"===e.type)return e.name;throw this.createInternalThrowError(Et.VariableTypeSyntaxError,e.type,e)},t.variableDeclarationHandler=function(e){for(var t,n=this,r=[],i=0;i<e.declarations.length;i++){var o=e.declarations[i];this.varDeclaration(this.getVariableName(o.id)),o.init&&r.push({type:"AssignmentExpression",operator:"=",left:o.id,right:o.init})}return r.length&&(t=this.createClosure({type:"BlockStatement",body:r})),function(){if(t){var e=n.isVarDeclMode;n.isVarDeclMode=!0,t(),n.isVarDeclMode=e}return Tt}},t.assertVariable=function(e,t,n){if(e===this.globalScope.data&&!(t in e))throw this.createInternalThrowError(Et.VariableUndefinedReferenceError,t,n)},t.programHandler=function(e){var t=this,n=e.body.map((function(e){return t.createClosure(e)}));return function(){for(var e=Tt,r=0;r<n.length;r++){var i=n[r],o=t.setValue(i());if(o!==Tt&&(e=o,e instanceof Ut||e instanceof zt||e instanceof Ht||e===Pt||e===kt))break}return e}},t.expressionStatementHandler=function(e){return this.createClosure(e.expression)},t.emptyStatementHandler=function(e){return function(){return Tt}},t.returnStatementHandler=function(e){var t=e.argument?this.createClosure(e.argument):Gt;return function(){return new Ut(t())}},t.ifStatementHandler=function(e){var t=this.createClosure(e.test),n=this.createClosure(e.consequent),r=e.alternate?this.createClosure(e.alternate):function(){return Tt};return function(){return t()?n():r()}},t.conditionalExpressionHandler=function(e){return this.ifStatementHandler(e)},t.forStatementHandler=function(e){var t=this,n=Gt,r=e.test?this.createClosure(e.test):function(){return!0},i=Gt,o=this.createClosure(e.body);return"ForStatement"===e.type&&(n=e.init?this.createClosure(e.init):n,i=e.update?this.createClosure(e.update):Gt),function(a){var s,l=Tt,u="DoWhileStatement"===e.type;for(a&&"LabeledStatement"===a.type&&(s=a.label.name),n();u||r();i()){u=!1;var c=t.setValue(o());if(c!==Tt&&c!==kt){if(c===Pt)break;if(l=c,l instanceof Ht&&l.value===s)l=Tt;else if(l instanceof Ut||l instanceof zt||l instanceof Ht)break}}return l}},t.whileStatementHandler=function(e){return this.forStatementHandler(e)},t.doWhileStatementHandler=function(e){return this.forStatementHandler(e)},t.forInStatementHandler=function(e){var t=this,n=e.left,r=this.createClosure(e.right),i=this.createClosure(e.body);return"VariableDeclaration"===e.left.type&&(this.createClosure(e.left)(),n=e.left.declarations[0].id),function(e){var o,a,s=Tt;e&&"LabeledStatement"===e.type&&(o=e.label.name);var l=r();for(a in l){t.assignmentExpressionHandler({type:"AssignmentExpression",operator:"=",left:n,right:{type:"Literal",value:a}})();var u=t.setValue(i());if(u!==Tt&&u!==kt){if(u===Pt)break;if(s=u,s instanceof Ht&&s.value===o)s=Tt;else if(s instanceof Ut||s instanceof zt||s instanceof Ht)break}}return s}},t.withStatementHandler=function(e){var t=this,n=this.createClosure(e.object),r=this.createClosure(e.body);return function(){var e=n(),i=t.getCurrentScope(),o=new Vt(e,i,Lt);t.setCurrentScope(o);var a=t.setValue(r());return t.setCurrentScope(i),a}},t.throwStatementHandler=function(e){var t=this,n=this.createClosure(e.argument);return function(){throw t.setValue(void 0),n()}},t.tryStatementHandler=function(e){var t=this,n=this.createClosure(e.block),r=e.handler?this.catchClauseHandler(e.handler):null,i=e.finalizer?this.createClosure(e.finalizer):null;return function(){var e,o,a=t.getCurrentScope(),s=t.getCurrentContext(),l=a.labelStack.concat([]),u=t.callStack.concat([]),c=Tt,f=function(){t.setCurrentScope(a),t.setCurrentContext(s),a.labelStack=l,t.callStack=u};try{c=t.setValue(n()),c instanceof Ut&&(e=c)}catch(p){if(f(),t.isInterruptThrow(p))throw p;if(r)try{c=t.setValue(r(p)),c instanceof Ut&&(e=c)}catch(p){if(f(),t.isInterruptThrow(p))throw p;o=p}}if(i)try{c=i(),c instanceof Ut&&(e=c)}catch(p){if(f(),t.isInterruptThrow(p))throw p;o=p}if(o)throw o;return e||c}},t.catchClauseHandler=function(e){var t=this,n=this.createParamNameGetter(e.param),r=this.createClosure(e.body);return function(e){var i,o=t.getCurrentScope(),a=o.data,s=n(),l=At.call(a,s),u=a[s];return a[s]=e,i=r(),l?a[s]=u:delete a[s],i}},t.continueStatementHandler=function(e){return function(){return e.label?new Ht(e.label.name):kt}},t.breakStatementHandler=function(e){return function(){return e.label?new zt(e.label.name):Pt}},t.switchStatementHandler=function(e){var t=this,n=this.createClosure(e.discriminant),r=e.cases.map((function(e){return t.switchCaseHandler(e)}));return function(){for(var e,i,o,a=n(),s=!1,l=0;l<r.length;l++){var u=r[l](),c=u.testClosure();if(c!==Mt){if(s||c===a){if(s=!0,i=t.setValue(u.bodyClosure()),i===Tt)continue;if(i===Pt)break;if(e=i,e instanceof Ut||e instanceof zt||e instanceof Ht||e===kt)break}}else o=u}if(!s&&o){i=t.setValue(o.bodyClosure());var f=i===Tt||i===Pt||i===kt;f||(e=i)}return e}},t.switchCaseHandler=function(e){var t=e.test?this.createClosure(e.test):function(){return Mt},n=this.createClosure({type:"BlockStatement",body:e.consequent});return function(){return{testClosure:t,bodyClosure:n}}},t.labeledStatementHandler=function(e){var t=this,n=e.label.name,r=this.createClosure(e.body);return function(){var i,o=t.getCurrentScope();return o.labelStack.push(n),i=r(e),i instanceof zt&&i.value===n&&(i=Tt),o.labelStack.pop(),i}},t.debuggerStatementHandler=function(e){return function(){return Tt}},t.createParamNameGetter=function(e){if("Identifier"===e.type)return function(){return e.name};throw this.createInternalThrowError(Et.ParamTypeSyntaxError,e.type,e)},t.createObjectKeyGetter=function(e){var t;return t="Identifier"===e.type?function(){return e.name}:this.createClosure(e),function(){return t()}},t.createMemberKeyGetter=function(e){return e.computed?this.createClosure(e.property):this.createObjectKeyGetter(e.property)},t.createObjectGetter=function(e){var t=this;switch(e.type){case"Identifier":return function(){return t.getScopeDataFromName(e.name,t.getCurrentScope())};case"MemberExpression":return this.createClosure(e.object);default:throw this.createInternalThrowError(Et.AssignmentTypeSyntaxError,e.type,e)}},t.createNameGetter=function(e){switch(e.type){case"Identifier":return function(){return e.name};case"MemberExpression":return this.createMemberKeyGetter(e);default:throw this.createInternalThrowError(Et.AssignmentTypeSyntaxError,e.type,e)}},t.varDeclaration=function(e){var t=this.collectDeclVars;t[e]=void 0},t.funcDeclaration=function(e,t){var n=this.collectDeclFuncs;n[e]=t},t.addDeclarationsToScope=function(e,t,n){var r=n.data;for(var i in t){var o=t[i];r[i]=o?o():o}for(var a in e)a in r||(r[a]=void 0)},t.getScopeValue=function(e,t){var n=this.getScopeFromName(e,t);return n.data[e]},t.getScopeDataFromName=function(e,t){return this.getScopeFromName(e,t).data},t.getScopeFromName=function(e,t){var n=t;do{if(e in n.data)return n}while(n=n.parent);return this.globalScope},t.setValue=function(e){var t=this.callStack.length;return this.isVarDeclMode||t||e===Tt||e===Pt||e===kt||e instanceof zt||e instanceof Ht||(this.value=e instanceof Ut?e.value:e),e},t.getValue=function(){return this.value},e}();function Kt(e){return void 0===e&&(e=Object.create(null)),e}function Zt(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});var r=n.parsingContext,i=void 0===n.timeout?0:n.timeout,o="\n    (function anonymous("+t.join(",")+"){\n         "+e+"\n    });\n    ",a=new Xt(r,{ecmaVersion:n.ecmaVersion,timeout:i,rootContext:n.rootContext,globalContextInFunction:n.globalContextInFunction});return a.evaluate(o)}function Qt(e,t,n){var r=new Xt(t,n);return r.evaluate(e)}Xt.version=Ot,Xt.eval=Ft,Xt.Function=Bt,Xt.ecmaVersion=5,Xt.globalContextInFunction=void 0,Xt.global=Object.create(null);var Jt=Qt,$t=function(){function e(e){this._code=e}var t=e.prototype;return t.runInContext=function(e){return Qt(this._code,e)},t.runInNewContext=function(e){return Qt(this._code,e)},e}(),en=function(e,t,n){return Qt(e,t,n)},tn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop();return Zt(r||"",t)};t["default"]=en},"t/kZ":function(e,t,n){"use strict";var r=n("R5yR")["default"];function i(){var e=n("q1tI");return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n("dEAq");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return h(e)||d(e,t)||f(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function h(e){if(Array.isArray(e))return e}var v=function(e){var t=(0,i().useContext)(o.context),n=t.locale,a=t.routes,s=t.config.locales,l=(0,i().useState)([]),c=u(l,2),f=c[0],p=c[1],d=(0,i().useState)([]),h=u(d,2),v=h[0],m=h[1];return(0,i().useEffect)((function(){p(a.filter((function(e){var t=e.title,r=e.meta,i=(null===r||void 0===r?void 0:r.locale)===n,o=!(null===r||void 0===r?void 0:r.locale)&&(!s.length||n===s[0].name);return t&&(o||i)})).reduce((function(e,t){var n,i,o,a={title:(null===(n=t.meta)||void 0===n?void 0:n.title)||t.title,path:t.path};return(null===(i=t.meta)||void 0===i?void 0:i.group)&&(a.parent=t.meta.group),e.push(a),e.push.apply(e,r(((null===(o=t.meta)||void 0===o?void 0:o.slugs)||[]).filter((function(e){var n,r=e.value;return r!==((null===(n=t.meta)||void 0===n?void 0:n.title)||t.title)})).map((function(e){return{title:e.value,path:"".concat(t.path,"#").concat(e.heading),parent:a}})))),e}),[]))}),[a.length,n]),(0,i().useEffect)((function(){var t=null===e||void 0===e?void 0:e.trim().toUpperCase();if(t){for(var n=[],r=0;r<f.length;r+=1)f[r].title.toUpperCase().indexOf(t)>-1&&n.push(f[r]);m(n)}else m([])}),[e,f.length]),v},m=function(){var e=(0,i().useContext)(o.context),t=e.config.algolia,n=(0,i().useCallback)((function(e){window.docsearch(s({inputSelector:e},t))}),[t]);return n},g=function(e){var t=(0,i().useContext)(o.context),n=t.config,r=v(e),a=m();return n.algolia?a:r};t["default"]=g},t23M:function(e,t,n){"use strict";var r=n("wx14"),i=n("q1tI"),o=n("Zm9Q"),a=(n("Kwbf"),n("VTBJ")),s=n("c+Xe"),l=n("m+aA"),u=n("bdgK"),c=new Map;function f(e){e.forEach((function(e){var t,n=e.target;null===(t=c.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}var p=new u["default"](f);function d(e,t){c.has(e)||(c.set(e,new Set),p.observe(e)),c.get(e).add(t)}function h(e,t){c.has(e)&&(c.get(e)["delete"](t),c.get(e).size||(p.unobserve(e),c["delete"](e)))}var v=n("1OyB"),m=n("vuIU"),g=n("Ji7U"),y=n("LK+K"),b=function(e){Object(g["a"])(n,e);var t=Object(y["a"])(n);function n(){return Object(v["a"])(this,n),t.apply(this,arguments)}return Object(m["a"])(n,[{key:"render",value:function(){return this.props.children}}]),n}(i["Component"]),_=i["createContext"](null);function E(e){var t=e.children,n=e.onBatchResize,r=i["useRef"](0),o=i["useRef"]([]),a=i["useContext"](_),s=i["useCallback"]((function(e,t,i){r.current+=1;var s=r.current;o.current.push({size:e,element:t,data:i}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(o.current),o.current=[])})),null===a||void 0===a||a(e,t,i)}),[n,a]);return i["createElement"](_.Provider,{value:s},t)}function x(e){var t=e.children,n=e.disabled,r=i["useRef"](null),o=i["useRef"](null),u=i["useContext"](_),c="function"===typeof t,f=c?t(r):t,p=i["useRef"]({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),v=!c&&i["isValidElement"](f)&&Object(s["c"])(f),m=v?f.ref:null,g=i["useMemo"]((function(){return Object(s["a"])(m,r)}),[m,r]),y=i["useRef"](e);y.current=e;var E=i["useCallback"]((function(e){var t=y.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),o=i.width,s=i.height,l=e.offsetWidth,c=e.offsetHeight,f=Math.floor(o),d=Math.floor(s);if(p.current.width!==f||p.current.height!==d||p.current.offsetWidth!==l||p.current.offsetHeight!==c){var h={width:f,height:d,offsetWidth:l,offsetHeight:c};p.current=h;var v=l===Math.round(o)?o:l,m=c===Math.round(s)?s:c,g=Object(a["a"])(Object(a["a"])({},h),{},{offsetWidth:v,offsetHeight:m});null===u||void 0===u||u(g,e,r),n&&Promise.resolve().then((function(){n(g,e)}))}}),[]);return i["useEffect"]((function(){var e=Object(l["a"])(r.current)||Object(l["a"])(o.current);return e&&!n&&d(e,E),function(){return h(e,E)}}),[r.current,n]),i["createElement"](b,{ref:o},v?i["cloneElement"](f,{ref:g}):f)}var w="rc-observer-key";function S(e){var t=e.children,n="function"===typeof t?[t]:Object(o["a"])(t);return n.map((function(t,n){var o=(null===t||void 0===t?void 0:t.key)||"".concat(w,"-").concat(n);return i["createElement"](x,Object(r["a"])({},e,{key:o}),t)}))}S.Collection=E;t["a"]=S},t2Dn:function(e,t,n){var r=n("hypo"),i=n("ljhN");function o(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}e.exports=o},t6Hw:function(e,t,n){"use strict";e.exports=n("Qfp8")},tB8F:function(e,t,n){"use strict";n.r(t);n("pNMO"),n("4Brf"),n("tjZM"),n("3I1R"),n("7+kd"),n("KhsS"),n("gOCb"),n("a57n"),n("GXvd"),n("I1Gw"),n("gXIK"),n("lEou"),n("ma9I"),n("TeQF"),n("BIHw"),n("XbcX"),n("pjDv"),n("yq1k"),n("yXV3"),n("4mDm"),n("uqXc"),n("2B1R"),n("E9XD"),n("9N29"),n("Junv"),n("+2oP"),n("ToJy"),n("94Xl"),n("pDQq"),n("QGkA"),n("c9m3"),n("wZ/5"),n("rOQg"),n("7+zs"),n("tW5y"),n("DEfu"),n("Tskq"),n("Uydy"),n("QFcT"),n("I9xj"),n("w1rZ"),n("JevA"),n("toAj"),n("zKZe"),n("Eqjn"),n("5xtp"),n("T63A"),n("wfmh"),n("27RR"),n("v5b1"),n("W/eh"),n("07d7"),n("B6y2"),n("rNhl"),n("4l63"),n("5s+n"),n("p532"),n("pv2x"),n("SuFq"),n("ftMj"),n("TWNs"),n("rB9j"),n("U3f4"),n("JfAA"),n("YGK4"),n("inlA"),n("JTJg"),n("Rm1S"),n("hDyC"),n("TZCg"),n("UxlC"),n("hByQ"),n("EnZy"),n("LKBx"),n("SYor"),n("HiXI"),n("7ueG"),n("z8NH"),n("SpvK"),n("/Yfv"),n("iwkZ"),n("FDzp"),n("XMab"),n("ilnZ"),n("hMMk"),n("+ywr"),n("c162"),n("IL/d"),n("gvgV"),n("YL0P"),n("7JcK"),n("PF2M"),n("IZzc"),n("s5qe"),n("cvf0"),n("ENF9"),n("H+LF"),n("66V8"),n("iIM6"),n("2tOg"),n("gYJb"),n("EDT/"),n("j+VE"),n("wgYD"),n("R3/m"),n("l/vG"),n("0q/z"),n("n5pg"),n("zu+z"),n("ihrJ"),n("Q7Pz"),n("unQa"),n("Vnov"),n("nIe3"),n("CUyW"),n("qc1c"),n("5921"),n("VOz1"),n("Thag"),n("9D6x"),n("cOPa"),n("vdRX"),n("KrxN"),n("SL6q"),n("lehK"),n("eO0o"),n("NqR8"),n("w7s6"),n("uWhJ"),n("WPzJ"),n("NV22"),n("ny8l"),n("a5/B"),n("vzwy"),n("pevA"),n("8go2"),n("DrvE"),n("kCkZ"),n("++zV"),n("Y4C7"),n("ZsH6"),n("vZi8"),n("5r1n"),n("sQ9d"),n("bdeN"),n("AwgR"),n("qgGA"),n("49+q"),n("AVoK"),n("hcok"),n("dNT4"),n("3uUd"),n("tijO"),n("1kQv"),n("ZY7T"),n("C1JJ"),n("lmH4"),n("Co1j"),n("5JV0"),n("ctDJ"),n("8r4s"),n("JwUS"),n("qaHo"),n("Si40"),n("BGb9"),n("fN96"),n("UzNg"),n("DhMN"),n("rZ3M"),n("apDx"),n("4XaG"),n("6V7H"),n("cfiF"),n("702D"),n("TJ79"),n("Z4nd"),n("8STE"),n("spTT"),n("rb3L"),n("FZtP"),n("3bBZ"),n("Ew+T"),n("n5b4"),n("Kz25"),n("vxnP"),n("mGGf"),n("VWci");var r=n("bCY9"),i=n("FfOG"),o=n("LtsZ"),a=n("zlVK"),s=n("tJVT");function l(){var e=[{path:"/~demos/:uuid",layout:!1,wrappers:[n("afA6").default],component:e=>{var t=n("q1tI"),r=n("F4QJ"),i=r.default,o=n("ewA2"),a=o.default,l=n("dEAq"),u=l.usePrefersColor,c=l.context,f=t.useContext(c),p=f.demos,d=t.useState([]),h=Object(s["a"])(d,2),v=h[0],m=h[1];switch(t.useLayoutEffect((()=>{m(i(e,p))}),[e.match.params.uuid,e.location.query.wrapper,e.location.query.capture]),u(),v.length){case 1:return v[0];case 2:return t.createElement(a,v[0],v[1]);default:return"Demo ".concat(e.match.params.uuid," not found :(")}}},{path:"/_demos/:uuid",redirect:"/~demos/:uuid"},{__dumiRoot:!0,layout:!1,path:"/",wrappers:[n("afA6").default,n("Ni7v").default],routes:[{path:"/",component:n("gql7").default,exact:!0,meta:{locale:"en-US",order:null,filePath:"README.md",updatedTime:16594401e5,slugs:[{depth:1,value:"L7Draw",heading:"l7draw"},{depth:2,value:"\ud83d\udcda \u6587\u6863",heading:"-\u6587\u6863"},{depth:2,value:"\ud83d\udce6 \u5b89\u88c5",heading:"-\u5b89\u88c5"},{depth:2,value:"\ud83d\udd28 \u4f7f\u7528",heading:"-\u4f7f\u7528"},{depth:2,value:"\u2328\ufe0f \u672c\u5730\u5f00\u53d1",heading:"\ufe0f-\u672c\u5730\u5f00\u53d1"},{depth:2,value:"\ud83e\udd1d \u5982\u4f55\u8d21\u732e",heading:"-\u5982\u4f55\u8d21\u732e"},{depth:2,value:"\ud83d\udcd6 \u8bb8\u53ef\u8bc1",heading:"-\u8bb8\u53ef\u8bc1"}],title:"L7Draw"},title:"L7Draw"},{path:"/docs/control",component:n("xgbS").default,exact:!0,meta:{filePath:"docs/docs/control.md",updatedTime:16594401e5,title:"\u63a7\u4ef6",order:7,slugs:[{depth:1,value:"\u7ed8\u5236\u63a7\u4ef6 DrawControl",heading:"\u7ed8\u5236\u63a7\u4ef6-drawcontrol"},{depth:2,value:"\u8bf4\u660e",heading:"\u8bf4\u660e"},{depth:2,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"},{depth:2,value:"\u914d\u7f6e",heading:"\u914d\u7f6e"},{depth:3,value:"DrawBtnConfig",heading:"drawbtnconfig"},{depth:3,value:"DrawType",heading:"drawtype"},{depth:2,value:"\u65b9\u6cd5",heading:"\u65b9\u6cd5"},{depth:2,value:"\u4e8b\u4ef6",heading:"\u4e8b\u4ef6"}],nav:{path:"/docs",title:"Docs"}},title:"\u63a7\u4ef6 - L7Draw"},{path:"/docs/draw/circle",component:n("3dHd").default,exact:!0,meta:{filePath:"docs/docs/draw/circle.md",updatedTime:16594401e5,title:"\u5706",order:5,group:{title:"\u7ed8\u5236",order:1,path:"/docs/draw"},slugs:[{depth:1,value:"\u7ed8\u5236\u5706\u5f62 DrawCircle",heading:"\u7ed8\u5236\u5706\u5f62-drawcircle"},{depth:2,value:"\u8bf4\u660e",heading:"\u8bf4\u660e"},{depth:2,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"},{depth:2,value:"\u914d\u7f6e",heading:"\u914d\u7f6e"},{depth:3,value:"Helper",heading:"helper"},{depth:2,value:"\u65b9\u6cd5",heading:"\u65b9\u6cd5"},{depth:2,value:"\u4e8b\u4ef6",heading:"\u4e8b\u4ef6"}],nav:{path:"/docs",title:"Docs"}},title:"\u5706 - L7Draw"},{path:"/docs/draw/line",component:n("JQ/k").default,exact:!0,meta:{filePath:"docs/docs/draw/line.md",updatedTime:16594401e5,title:"\u7ebf",order:2,group:{title:"\u7ed8\u5236",order:1,path:"/docs/draw"},slugs:[{depth:1,value:"\u7ed8\u5236\u7ebf DrawLine",heading:"\u7ed8\u5236\u7ebf-drawline"},{depth:2,value:"\u8bf4\u660e",heading:"\u8bf4\u660e"},{depth:2,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"},{depth:2,value:"\u914d\u7f6e",heading:"\u914d\u7f6e"},{depth:3,value:"Helper",heading:"helper"},{depth:2,value:"\u65b9\u6cd5",heading:"\u65b9\u6cd5"},{depth:2,value:"\u4e8b\u4ef6",heading:"\u4e8b\u4ef6"}],nav:{path:"/docs",title:"Docs"}},title:"\u7ebf - L7Draw"},{path:"/docs/draw/point",component:n("y/iv").default,exact:!0,meta:{filePath:"docs/docs/draw/point.md",updatedTime:16594401e5,title:"\u70b9",order:1,group:{title:"\u7ed8\u5236",order:1,path:"/docs/draw"},slugs:[{depth:1,value:"\u7ed8\u5236\u70b9 DrawPoint",heading:"\u7ed8\u5236\u70b9-drawpoint"},{depth:2,value:"\u8bf4\u660e",heading:"\u8bf4\u660e"},{depth:2,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"},{depth:2,value:"\u914d\u7f6e",heading:"\u914d\u7f6e"},{depth:3,value:"Helper",heading:"helper"},{depth:2,value:"\u65b9\u6cd5",heading:"\u65b9\u6cd5"},{depth:2,value:"\u4e8b\u4ef6",heading:"\u4e8b\u4ef6"}],nav:{path:"/docs",title:"Docs"}},title:"\u70b9 - L7Draw"},{path:"/docs/draw/polygon",component:n("4XVi").default,exact:!0,meta:{filePath:"docs/docs/draw/polygon.md",updatedTime:16594401e5,title:"\u9762",order:3,group:{title:"\u7ed8\u5236",order:1,path:"/docs/draw"},slugs:[{depth:1,value:"\u7ed8\u5236\u9762 DrawPolygon",heading:"\u7ed8\u5236\u9762-drawpolygon"},{depth:2,value:"\u8bf4\u660e",heading:"\u8bf4\u660e"},{depth:2,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"},{depth:2,value:"\u914d\u7f6e",heading:"\u914d\u7f6e"},{depth:3,value:"Helper",heading:"helper"},{depth:2,value:"\u65b9\u6cd5",heading:"\u65b9\u6cd5"},{depth:2,value:"\u4e8b\u4ef6",heading:"\u4e8b\u4ef6"}],nav:{path:"/docs",title:"Docs"}},title:"\u9762 - L7Draw"},{path:"/docs/draw/rect",component:n("+D7P").default,exact:!0,meta:{filePath:"docs/docs/draw/rect.md",updatedTime:16594401e5,title:"\u77e9\u5f62",order:4,group:{title:"\u7ed8\u5236",order:1,path:"/docs/draw"},slugs:[{depth:1,value:"\u7ed8\u5236\u77e9\u5f62 DrawRect",heading:"\u7ed8\u5236\u77e9\u5f62-drawrect"},{depth:2,value:"\u8bf4\u660e",heading:"\u8bf4\u660e"},{depth:2,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"},{depth:2,value:"\u914d\u7f6e",heading:"\u914d\u7f6e"},{depth:3,value:"Helper",heading:"helper"},{depth:2,value:"\u65b9\u6cd5",heading:"\u65b9\u6cd5"},{depth:2,value:"\u4e8b\u4ef6",heading:"\u4e8b\u4ef6"}],nav:{path:"/docs",title:"Docs"}},title:"\u77e9\u5f62 - L7Draw"},{path:"/docs/super/adsorb",component:n("NBOy").default,exact:!0,meta:{filePath:"docs/docs/super/adsorb.md",updatedTime:16594401e5,title:"\u5438\u9644\u80fd\u529b",order:6,group:{title:"\u9ad8\u7ea7",order:2,path:"/docs/super"},slugs:[{depth:2,value:"\u8bf4\u660e",heading:"\u8bf4\u660e"},{depth:2,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"},{depth:2,value:"\u914d\u7f6e",heading:"\u914d\u7f6e"}],nav:{path:"/docs",title:"Docs"}},title:"\u5438\u9644\u80fd\u529b - L7Draw"},{path:"/docs/super/area",component:n("+0Od").default,exact:!0,meta:{filePath:"docs/docs/super/area.md",updatedTime:16594401e5,title:"\u9762\u79ef",order:3,group:{title:"\u9ad8\u7ea7",order:2,path:"/docs/super"},slugs:[{depth:2,value:"\u8bf4\u660e",heading:"\u8bf4\u660e"},{depth:2,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"},{depth:2,value:"\u914d\u7f6e",heading:"\u914d\u7f6e"}],nav:{path:"/docs",title:"Docs"}},title:"\u9762\u79ef - L7Draw"},{path:"/docs/super/distance",component:n("IPyQ").default,exact:!0,meta:{filePath:"docs/docs/super/distance.md",updatedTime:16594401e5,title:"\u8ddd\u79bb",order:2,group:{title:"\u9ad8\u7ea7",order:2,path:"/docs/super"},slugs:[{depth:2,value:"\u8bf4\u660e",heading:"\u8bf4\u660e"},{depth:2,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"},{depth:2,value:"\u914d\u7f6e",heading:"\u914d\u7f6e"}],nav:{path:"/docs",title:"Docs"}},title:"\u8ddd\u79bb - L7Draw"},{path:"/docs/super/history",component:n("pB2c").default,exact:!0,meta:{filePath:"docs/docs/super/history.md",updatedTime:16594401e5,title:"\u5386\u53f2\u8bb0\u5f55",order:5,group:{title:"\u9ad8\u7ea7",order:2,path:"/docs/super"},slugs:[{depth:2,value:"\u8bf4\u660e",heading:"\u8bf4\u660e"},{depth:2,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"},{depth:2,value:"\u914d\u7f6e",heading:"\u914d\u7f6e"}],nav:{path:"/docs",title:"Docs"}},title:"\u5386\u53f2\u8bb0\u5f55 - L7Draw"},{path:"/docs/super/keyboard",component:n("pjVD").default,exact:!0,meta:{filePath:"docs/docs/super/keyboard.md",updatedTime:16594401e5,title:"\u5feb\u6377\u64cd\u4f5c",order:4,group:{title:"\u9ad8\u7ea7",order:2,path:"/docs/super"},slugs:[{depth:2,value:"\u8bf4\u660e",heading:"\u8bf4\u660e"},{depth:2,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"},{depth:2,value:"\u914d\u7f6e",heading:"\u914d\u7f6e"}],nav:{path:"/docs",title:"Docs"}},title:"\u5feb\u6377\u64cd\u4f5c - L7Draw"},{path:"/docs/super/style",component:n("88Kz").default,exact:!0,meta:{filePath:"docs/docs/super/style.md",updatedTime:16594401e5,title:"\u6837\u5f0f",order:1,group:{title:"\u9ad8\u7ea7",order:2,path:"/docs/super"},slugs:[{depth:2,value:"\u8bf4\u660e",heading:"\u8bf4\u660e"},{depth:2,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"},{depth:2,value:"\u914d\u7f6e",heading:"\u914d\u7f6e"},{depth:3,value:"point",heading:"point"},{depth:3,value:"line",heading:"line"},{depth:3,value:"polygon",heading:"polygon"},{depth:3,value:"midPoint",heading:"midpoint"},{depth:3,value:"dashLine",heading:"dashline"},{depth:3,value:"text",heading:"text"},{depth:2,value:"\u9ed8\u8ba4\u503c",heading:"\u9ed8\u8ba4\u503c"}],nav:{path:"/docs",title:"Docs"}},title:"\u6837\u5f0f - L7Draw"},{path:"/example/circle/area",component:n("AlPv").default,exact:!0,meta:{filePath:"docs/example/circle/area.md",updatedTime:16594401e5,title:"\u5c55\u793a\u8ddd\u79bb\u548c\u9762\u79ef",order:3,group:{path:"/example/circle",title:"\u7ed8\u5236\u5706",order:5},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5c55\u793a\u8ddd\u79bb\u548c\u9762\u79ef - L7Draw"},{path:"/example/circle/auto-active",component:n("jxRK").default,exact:!0,meta:{filePath:"docs/example/circle/autoActive.md",updatedTime:16594401e5,title:"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b",order:3,group:{path:"/example/circle",title:"\u7ed8\u5236\u5706",order:5},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b - L7Draw"},{path:"/example/circle/create-by-drag",component:n("PPTN").default,exact:!0,meta:{filePath:"docs/example/circle/createByDrag.md",updatedTime:16594401e5,title:"\u901a\u8fc7\u62d6\u62fd\u521b\u5efa",order:2,group:{path:"/example/circle",title:"\u7ed8\u5236\u5706",order:5},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u901a\u8fc7\u62d6\u62fd\u521b\u5efa - L7Draw"},{path:"/example/circle/editable",component:n("cgnW").default,exact:!0,meta:{filePath:"docs/example/circle/editable.md",updatedTime:16594401e5,title:"\u662f\u5426\u652f\u6301\u7f16\u8f91",order:4,group:{path:"/example/circle",title:"\u7ed8\u5236\u5706",order:5},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u662f\u5426\u652f\u6301\u7f16\u8f91 - L7Draw"},{path:"/example/circle/event",component:n("YoBW").default,exact:!0,meta:{filePath:"docs/example/circle/event.md",updatedTime:16594401e5,title:"\u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6",order:7,group:{path:"/example/circle",title:"\u7ed8\u5236\u5706",order:5},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6 - L7Draw"},{path:"/example/circle/initial-data",component:n("Gnu0").default,exact:!0,meta:{filePath:"docs/example/circle/initialData.md",updatedTime:16594401e5,title:"\u521d\u59cb\u5316\u6570\u636e",order:2,group:{path:"/example/circle",title:"\u7ed8\u5236\u5706",order:5},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u521d\u59cb\u5316\u6570\u636e - L7Draw"},{path:"/example/circle/multiple",component:n("BFG4").default,exact:!0,meta:{filePath:"docs/example/circle/multiple.md",updatedTime:16594401e5,title:"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a",order:5,group:{path:"/example/circle",title:"\u7ed8\u5236\u5706",order:5},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a - L7Draw"},{path:"/example/circle/start",component:n("8x8i").default,exact:!0,meta:{filePath:"docs/example/circle/start.md",updatedTime:16594401e5,title:"\u5feb\u901f\u5f00\u59cb",order:1,group:{path:"/example/circle",title:"\u7ed8\u5236\u5706",order:5},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5feb\u901f\u5f00\u59cb - L7Draw"},{path:"/example/common/helper",component:n("LvM1").default,exact:!0,meta:{filePath:"docs/example/common/helper.md",updatedTime:16594401e5,title:"\u7ed8\u5236\u63d0\u793a",order:3,group:{path:"/example/common",title:"\u901a\u7528\u914d\u7f6e",order:7},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u7ed8\u5236\u63d0\u793a - L7Draw"},{path:"/example/control/add",component:n("Ok+2").default,exact:!0,meta:{filePath:"docs/example/control/add.md",updatedTime:16594401e5,title:"\u6dfb\u52a0/\u79fb\u9664 Control",order:2,group:{path:"/example/control",title:"\u7ed8\u5236\u63a7\u5236\u6761",order:6},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u6dfb\u52a0/\u79fb\u9664 Control - L7Draw"},{path:"/example/control/common",component:n("rx8A").default,exact:!0,meta:{filePath:"docs/example/control/common.md",updatedTime:16594401e5,title:"\u901a\u7528 Draw \u914d\u7f6e",order:3,group:{path:"/example/control",title:"\u7ed8\u5236\u63a7\u5236\u6761",order:6},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u901a\u7528 Draw \u914d\u7f6e - L7Draw"},{path:"/example/control/draw",component:n("Fy6L").default,exact:!0,meta:{filePath:"docs/example/control/draw.md",updatedTime:16594401e5,title:"\u914d\u7f6e\u5c55\u793a\u6309\u94ae",order:4,group:{path:"/example/control",title:"\u7ed8\u5236\u63a7\u5236\u6761",order:6},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u914d\u7f6e\u5c55\u793a\u6309\u94ae - L7Draw"},{path:"/example/control/event",component:n("KAFG").default,exact:!0,meta:{filePath:"docs/example/control/event.md",updatedTime:16594401e5,title:"\u76d1\u542c\u4e8b\u4ef6",order:10,group:{path:"/example/control",title:"\u7ed8\u5236\u63a7\u5236\u6761",order:6},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u76d1\u542c\u4e8b\u4ef6 - L7Draw"},{path:"/example/control/start",component:n("ZMwo").default,exact:!0,meta:{filePath:"docs/example/control/start.md",updatedTime:16594401e5,title:"\u5feb\u901f\u4f7f\u7528",order:1,group:{path:"/example/control",title:"\u7ed8\u5236\u63a7\u5236\u6761",order:6},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5feb\u901f\u4f7f\u7528 - L7Draw"},{path:"/example/line/adsorb",component:n("TP/R").default,exact:!0,meta:{filePath:"docs/example/line/adsorb.md",updatedTime:16594401e5,title:"\u5438\u9644\u80fd\u529b",order:6,group:{path:"/example/line",title:"\u7ed8\u5236\u7ebf",order:2},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5438\u9644\u80fd\u529b - L7Draw"},{path:"/example/line/auto-active",component:n("8l+E").default,exact:!0,meta:{filePath:"docs/example/line/autoActive.md",updatedTime:16594401e5,title:"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b",order:5,group:{path:"/example/line",title:"\u7ed8\u5236\u7ebf",order:2},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b - L7Draw"},{path:"/example/line/distance",component:n("PdBv").default,exact:!0,meta:{filePath:"docs/example/line/distance.md",updatedTime:16594401e5,title:"\u5c55\u793a\u8ddd\u79bb",order:3,group:{path:"/example/line",title:"\u7ed8\u5236\u7ebf",order:2},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5c55\u793a\u8ddd\u79bb - L7Draw"},{path:"/example/line/editable",component:n("ZEDe").default,exact:!0,meta:{filePath:"docs/example/line/editable.md",updatedTime:16594401e5,title:"\u7981\u7528\u7f16\u8f91",order:6,group:{path:"/example/line",title:"\u7ed8\u5236\u7ebf",order:2},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u7981\u7528\u7f16\u8f91 - L7Draw"},{path:"/example/line/event",component:n("ttXW").default,exact:!0,meta:{filePath:"docs/example/line/event.md",updatedTime:16594401e5,title:"\u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6",order:7,group:{path:"/example/line",title:"\u7ed8\u5236\u7ebf",order:2},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6 - L7Draw"},{path:"/example/line/initial-data",component:n("PdP7").default,exact:!0,meta:{filePath:"docs/example/line/initialData.md",updatedTime:16594401e5,title:"\u521d\u59cb\u5316\u6570\u636e",order:2,group:{path:"/example/line",title:"\u7ed8\u5236\u7ebf",order:2},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u521d\u59cb\u5316\u6570\u636e - L7Draw"},{path:"/example/line/mid-point",component:n("ANai").default,exact:!0,meta:{filePath:"docs/example/line/midPoint.md",updatedTime:16594401e5,title:"\u7981\u7528\u4e2d\u70b9",order:4,group:{path:"/example/line",title:"\u7ed8\u5236\u7ebf",order:2},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u7981\u7528\u4e2d\u70b9 - L7Draw"},{path:"/example/line/multiple",component:n("BbnX").default,exact:!0,meta:{filePath:"docs/example/line/multiple.md",updatedTime:16594401e5,title:"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a",order:5,group:{path:"/example/line",title:"\u7ed8\u5236\u7ebf",order:2},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a - L7Draw"},{path:"/example/line/start",component:n("clhk").default,exact:!0,meta:{filePath:"docs/example/line/start.md",updatedTime:16594401e5,title:"\u5feb\u901f\u5f00\u59cb",order:1,group:{path:"/example/line",title:"\u7ed8\u5236\u7ebf",order:2},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5feb\u901f\u5f00\u59cb - L7Draw"},{path:"/example/point/auto-active",component:n("kXwq").default,exact:!0,meta:{filePath:"docs/example/point/autoActive.md",updatedTime:16594401e5,title:"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b",order:5,group:{path:"/example/point",title:"\u7ed8\u5236\u70b9",order:1},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b - L7Draw"},{path:"/example/point/editable",component:n("6ecT").default,exact:!0,meta:{filePath:"docs/example/point/editable.md",updatedTime:16594401e5,title:"\u7981\u7528\u7f16\u8f91",order:6,group:{path:"/example/point",title:"\u7ed8\u5236\u70b9",order:1},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u7981\u7528\u7f16\u8f91 - L7Draw"},{path:"/example/point/event",component:n("s+S2").default,exact:!0,meta:{filePath:"docs/example/point/event.md",updatedTime:16594401e5,title:"\u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6",order:7,group:{path:"/example/point",title:"\u7ed8\u5236\u70b9",order:1},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6 - L7Draw"},{path:"/example/point/image",component:n("Vssm").default,exact:!0,meta:{filePath:"docs/example/point/image.md",updatedTime:16594401e5,title:"\u4f7f\u7528\u56fe\u7247",order:3,group:{path:"/example/point",title:"\u7ed8\u5236\u70b9",order:1},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u4f7f\u7528\u56fe\u7247 - L7Draw"},{path:"/example/point/initial-data",component:n("5nmi").default,exact:!0,meta:{filePath:"docs/example/point/initialData.md",updatedTime:16594401e5,title:"\u521d\u59cb\u5316\u6570\u636e",order:2,group:{path:"/example/point",title:"\u7ed8\u5236\u70b9",order:1},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u521d\u59cb\u5316\u6570\u636e - L7Draw"},{path:"/example/point/multiple",component:n("oLHl").default,exact:!0,meta:{filePath:"docs/example/point/multiple.md",updatedTime:16594401e5,title:"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a",order:5,group:{path:"/example/point",title:"\u7ed8\u5236\u70b9",order:1},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a - L7Draw"},{path:"/example/point/start",component:n("mv1u").default,exact:!0,meta:{filePath:"docs/example/point/start.md",updatedTime:16594401e5,title:"\u5feb\u901f\u5f00\u59cb",order:1,group:{path:"/example/point",title:"\u7ed8\u5236\u70b9",order:1},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5feb\u901f\u5f00\u59cb - L7Draw"},{path:"/example/point/style",component:n("eUZi").default,exact:!0,meta:{filePath:"docs/example/point/style.md",updatedTime:16594401e5,title:"\u81ea\u5b9a\u4e49\u6837\u5f0f",order:4,group:{path:"/example/point",title:"\u7ed8\u5236\u70b9",order:1},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u81ea\u5b9a\u4e49\u6837\u5f0f - L7Draw"},{path:"/example/polygon/adsorb",component:n("sPs2").default,exact:!0,meta:{filePath:"docs/example/polygon/adsorb.md",updatedTime:16594401e5,title:"\u5438\u9644\u80fd\u529b",order:5,group:{path:"/example/polygon",title:"\u7ed8\u5236\u9762",order:3},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5438\u9644\u80fd\u529b - L7Draw"},{path:"/example/polygon/area",component:n("Em5h").default,exact:!0,meta:{filePath:"docs/example/polygon/area.md",updatedTime:16594401e5,title:"\u5c55\u793a\u8ddd\u79bb\u548c\u9762\u79ef",order:3,group:{path:"/example/polygon",title:"\u7ed8\u5236\u9762",order:3},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5c55\u793a\u8ddd\u79bb\u548c\u9762\u79ef - L7Draw"},{path:"/example/polygon/auto-active",component:n("zy93").default,exact:!0,meta:{filePath:"docs/example/polygon/autoActive.md",updatedTime:16594401e5,title:"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b",order:4,group:{path:"/example/polygon",title:"\u7ed8\u5236\u9762",order:3},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b - L7Draw"},{path:"/example/polygon/editable",component:n("avfM").default,exact:!0,meta:{filePath:"docs/example/polygon/editable.md",updatedTime:16594401e5,title:"\u7981\u7528\u7f16\u8f91",order:5,group:{path:"/example/polygon",title:"\u7ed8\u5236\u9762",order:3},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u7981\u7528\u7f16\u8f91 - L7Draw"},{path:"/example/polygon/event",component:n("94Qb").default,exact:!0,meta:{filePath:"docs/example/polygon/event.md",updatedTime:16594401e5,title:"\u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6",order:6,group:{path:"/example/polygon",title:"\u7ed8\u5236\u9762",order:3},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6 - L7Draw"},{path:"/example/polygon/initial-data",component:n("slLl").default,exact:!0,meta:{filePath:"docs/example/polygon/initialData.md",updatedTime:16594401e5,title:"\u521d\u59cb\u5316\u6570\u636e",order:2,group:{path:"/example/polygon",title:"\u7ed8\u5236\u9762",order:3},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u521d\u59cb\u5316\u6570\u636e - L7Draw"},{path:"/example/polygon/mid-point",component:n("RCn3").default,exact:!0,meta:{filePath:"docs/example/polygon/midPoint.md",updatedTime:16594401e5,title:"\u7981\u7528\u4e2d\u70b9",order:4,group:{path:"/example/polygon",title:"\u7ed8\u5236\u9762",order:3},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u7981\u7528\u4e2d\u70b9 - L7Draw"},{path:"/example/polygon/multiple",component:n("C9Fb").default,exact:!0,meta:{filePath:"docs/example/polygon/multiple.md",updatedTime:16594401e5,title:"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a",order:5,group:{path:"/example/polygon",title:"\u7ed8\u5236\u9762",order:3},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a - L7Draw"},{path:"/example/polygon/start",component:n("704j").default,exact:!0,meta:{filePath:"docs/example/polygon/start.md",updatedTime:16594401e5,title:"\u5feb\u901f\u5f00\u59cb",order:1,group:{path:"/example/polygon",title:"\u7ed8\u5236\u9762",order:3},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5feb\u901f\u5f00\u59cb - L7Draw"},{path:"/example/polygon/style",component:n("n3Ah").default,exact:!0,meta:{filePath:"docs/example/polygon/style.md",updatedTime:16594401e5,title:"\u81ea\u5b9a\u4e49\u6837\u5f0f",order:4,group:{path:"/example/polygon",title:"\u7ed8\u5236\u9762",order:3},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u81ea\u5b9a\u4e49\u6837\u5f0f - L7Draw"},{path:"/example/rect/area",component:n("0GW2").default,exact:!0,meta:{filePath:"docs/example/rect/area.md",updatedTime:16594401e5,title:"\u5c55\u793a\u8ddd\u79bb\u548c\u9762\u79ef",order:3,group:{path:"/example/rect",title:"\u7ed8\u5236\u77e9\u5f62",order:4},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5c55\u793a\u8ddd\u79bb\u548c\u9762\u79ef - L7Draw"},{path:"/example/rect/auto-active",component:n("aMaL").default,exact:!0,meta:{filePath:"docs/example/rect/autoActive.md",updatedTime:16594401e5,title:"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b",order:3,group:{path:"/example/rect",title:"\u7ed8\u5236\u77e9\u5f62",order:4},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b - L7Draw"},{path:"/example/rect/create-by-drag",component:n("UDyo").default,exact:!0,meta:{filePath:"docs/example/rect/createByDrag.md",updatedTime:16594401e5,title:"\u901a\u8fc7\u62d6\u62fd\u521b\u5efa",order:2,group:{path:"/example/rect",title:"\u7ed8\u5236\u77e9\u5f62",order:4},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u901a\u8fc7\u62d6\u62fd\u521b\u5efa - L7Draw"},{path:"/example/rect/editable",component:n("LI5q").default,exact:!0,meta:{filePath:"docs/example/rect/editable.md",updatedTime:16594401e5,title:"\u662f\u5426\u652f\u6301\u7f16\u8f91",order:4,group:{path:"/example/rect",title:"\u7ed8\u5236\u77e9\u5f62",order:4},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u662f\u5426\u652f\u6301\u7f16\u8f91 - L7Draw"},{path:"/example/rect/event",component:n("ZM16").default,exact:!0,meta:{filePath:"docs/example/rect/event.md",updatedTime:16594401e5,title:"\u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6",order:7,group:{path:"/example/rect",title:"\u7ed8\u5236\u77e9\u5f62",order:4},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6 - L7Draw"},{path:"/example/rect/initial-data",component:n("MF0j").default,exact:!0,meta:{filePath:"docs/example/rect/initialData.md",updatedTime:16594401e5,title:"\u521d\u59cb\u5316\u6570\u636e",order:2,group:{path:"/example/rect",title:"\u7ed8\u5236\u77e9\u5f62",order:4},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u521d\u59cb\u5316\u6570\u636e - L7Draw"},{path:"/example/rect/multiple",component:n("Tek+").default,exact:!0,meta:{filePath:"docs/example/rect/multiple.md",updatedTime:16594401e5,title:"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a",order:5,group:{path:"/example/rect",title:"\u7ed8\u5236\u77e9\u5f62",order:4},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a - L7Draw"},{path:"/example/rect/start",component:n("+PLU").default,exact:!0,meta:{filePath:"docs/example/rect/start.md",updatedTime:16594401e5,title:"\u5feb\u901f\u5f00\u59cb",order:1,group:{path:"/example/rect",title:"\u7ed8\u5236\u77e9\u5f62",order:4},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5feb\u901f\u5f00\u59cb - L7Draw"},{path:"/example/usage/bus",component:n("NwKe").default,exact:!0,meta:{filePath:"docs/example/usage/bus.md",updatedTime:16594401e5,title:"\u5b9a\u5236\u516c\u4ea4\u573a\u666f",order:2,group:{path:"/example/usage",title:"\u4f7f\u7528\u573a\u666f",order:7},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u5b9a\u5236\u516c\u4ea4\u573a\u666f - L7Draw"},{path:"/example/usage/til-map",component:n("m/9U").default,exact:!0,meta:{filePath:"docs/example/usage/tilMap.md",updatedTime:16594401e5,title:"\u9065\u611f\u7ed8\u5236\u573a\u666f",order:1,group:{path:"/example/usage",title:"\u4f7f\u7528\u573a\u666f",order:7},slugs:[],hasPreviewer:!0,nav:{path:"/example",title:"Example"}},title:"\u9065\u611f\u7ed8\u5236\u573a\u666f - L7Draw"},{path:"/docs",meta:{},exact:!0,redirect:"/docs/draw"},{path:"/docs/draw",meta:{order:1},exact:!0,redirect:"/docs/draw/point"},{path:"/docs/super",meta:{order:2},exact:!0,redirect:"/docs/super/style"},{path:"/example/circle",meta:{order:5},exact:!0,redirect:"/example/circle/start"},{path:"/example",meta:{},exact:!0,redirect:"/example/circle/start"},{path:"/example/common",meta:{order:7},exact:!0,redirect:"/example/common/helper"},{path:"/example/control",meta:{order:6},exact:!0,redirect:"/example/control/start"},{path:"/example/line",meta:{order:2},exact:!0,redirect:"/example/line/start"},{path:"/example/point",meta:{order:1},exact:!0,redirect:"/example/point/start"},{path:"/example/polygon",meta:{order:3},exact:!0,redirect:"/example/polygon/start"},{path:"/example/rect",meta:{order:4},exact:!0,redirect:"/example/rect/start"},{path:"/example/usage",meta:{order:7},exact:!0,redirect:"/example/usage/til-map"}],title:"L7Draw",component:e=>e.children}];return r["a"].applyPlugins({key:"patchRoutes",type:o["ApplyPluginsType"].event,args:{routes:e}}),e}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].applyPlugins({key:"render",type:o["ApplyPluginsType"].compose,initialValue:()=>{var t=r["a"].applyPlugins({key:"modifyClientRenderOpts",type:o["ApplyPluginsType"].modify,initialValue:{routes:e.routes||l(),plugin:r["a"],history:Object(i["a"])(e.hot),isServer:Object({NODE_ENV:"production"}).__IS_SERVER,rootElement:"root",defaultTitle:"L7Draw"}});return Object(a["renderClient"])(t)},args:e})},c=u();t["default"]=c();window.g_umi={version:"3.5.32"}},tEiQ:function(e,t,n){"use strict";(function(e){var r=n("q1tI"),i=n.n(r),o=n("dI71"),a=n("17x9"),s=n.n(a),l=1073741823,u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function c(){var e="__global_unique_id__";return u[e]=(u[e]||0)+1}function f(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function p(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}function d(e){return Array.isArray(e)?e[0]:e}function h(e,t){var n,i,a="__create-react-context-"+c()+"__",u=function(e){function n(){var t;return t=e.apply(this,arguments)||this,t.emitter=p(t.props.value),t}Object(o["a"])(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return e={},e[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;f(r,i)?n=0:(n="function"===typeof t?t(r,i):l,n|=0,0!==n&&this.emitter.set(e.value,n))}},r.render=function(){return this.props.children},n}(r["Component"]);u.childContextTypes=(n={},n[a]=s.a.object.isRequired,n);var h=function(t){function n(){var e;return e=t.apply(this,arguments)||this,e.state={value:e.getValue()},e.onUpdate=function(t,n){var r=0|e.observedBits;0!==(r&n)&&e.setState({value:e.getValue()})},e}Object(o["a"])(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?l:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?l:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return d(this.props.children)(this.state.value)},n}(r["Component"]);return h.contextTypes=(i={},i[a]=s.a.object,i),{Provider:u,Consumer:h}}var v=i.a.createContext||h;t["a"]=v}).call(this,n("IyRk"))},tJVT:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}function i(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}n.d(t,"a",(function(){return s}));var o=n("Qw5x");function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return r(e)||i(e,t)||Object(o["a"])(e,t)||a()}},tLB3:function(e,t,n){var r=n("jXQH"),i=n("GoyQ"),o=n("/9aa"),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;function f(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?a:+e}e.exports=f},tMB7:function(e,t,n){var r=n("y1pI");function i(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}e.exports=i},tW5y:function(e,t,n){"use strict";var r=n("hh1v"),i=n("m/L8"),o=n("4WOD"),a=n("tiKp"),s=a("hasInstance"),l=Function.prototype;s in l||i.f(l,s,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;while(e=o(e))if(this.prototype===e)return!0;return!1}})},tXUg:function(e,t,n){var r,i,o,a,s,l,u,c,f=n("2oRo"),p=n("Bs8V").f,d=n("xrYK"),h=n("LPSS").set,v=n("HNyW"),m=f.MutationObserver||f.WebKitMutationObserver,g=f.process,y=f.Promise,b="process"==d(g),_=p(f,"queueMicrotask"),E=_&&_.value;E||(r=function(){var e,t;b&&(e=g.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?a():o=void 0,n}}o=void 0,e&&e.enter()},b?a=function(){g.nextTick(r)}:m&&!v?(s=!0,l=document.createTextNode(""),new m(r).observe(l,{characterData:!0}),a=function(){l.data=s=!s}):y&&y.resolve?(u=y.resolve(void 0),c=u.then,a=function(){c.call(u,r)}):a=function(){h.call(f,r)}),e.exports=E||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},tadb:function(e,t,n){var r=n("Cwc5"),i=n("Kz5y"),o=r(i,"DataView");e.exports=o},tfxy:function(e,t){!function(e){var t,n,r,i,o,a='<svg><symbol id="l7draw-qingkong" viewBox="0 0 1024 1024"><path d="M778.96777344 334.02148437h-148.31542969V284.58300781A71.78466797 71.78466797 0 0 0 556.49462891 215.36914062H467.50537109a71.78466797 71.78466797 0 0 0-74.15771484 69.11499024V334.02148437h-148.31542969a29.66308594 29.66308594 0 1 0 0 59.32617188h29.66308594v326.29394531A88.98925781 88.98925781 0 0 0 363.68457031 808.63085938h296.63085938a88.98925781 88.98925781 0 0 0 88.98925781-88.98925782V393.34765625h29.66308594a29.66308594 29.66308594 0 0 0 0-59.32617188zM452.67382812 284.58300781c0-4.74609375 6.22924805-9.78881836 14.83154297-9.78881836h88.98925782c8.60229492 0 14.83154297 5.04272461 14.83154296 9.78881836V334.02148437H452.67382812V284.53356934z m237.30468751 435.10803223a29.66308594 29.66308594 0 0 1-29.66308594 29.66308593H363.68457031a29.66308594 29.66308594 0 0 1-29.66308593-29.66308594V393.34765625h355.95703124v326.29394531z"  ></path><path d="M437.84228516 660.31542969c6.57531739 0 12.85400391-3.46069336 17.5012207-9.64050294A39.20471192 39.20471192 0 0 0 462.56152344 627.33996582V495.5369873a39.20471192 39.20471192 0 0 0-7.21801758-23.33496093A22.09899903 22.09899903 0 0 0 437.84228516 462.56152344c-6.57531739 0-12.85400391 3.46069336-17.50122071 9.64050293A39.20471192 39.20471192 0 0 0 413.12304687 495.5369873v131.80297853c0 8.75061036 2.62023926 17.15515137 7.21801758 23.33496092 4.6472168 6.17980958 10.92590333 9.64050293 17.50122071 9.64050294zM586.15771484 660.31542969c6.57531739 0 12.85400391-3.46069336 17.50122071-9.64050294a39.20471192 39.20471192 0 0 0 7.21801758-23.33496093V495.5369873a39.20471192 39.20471192 0 0 0-7.21801758-23.33496093A22.09899903 22.09899903 0 0 0 586.15771484 462.56152344c-6.57531739 0-12.85400391 3.46069336-17.5012207 9.64050293A39.20471192 39.20471192 0 0 0 561.43847656 495.5369873v131.80297853c0 8.75061036 2.62023926 17.15515137 7.21801758 23.33496092 4.6472168 6.17980958 10.92590333 9.64050293 17.5012207 9.64050294z"  ></path></symbol><symbol id="l7draw-rect" viewBox="0 0 1024 1024"><path d="M736.14 648.79V330c0-23.16-18.84-42-42-42H375.49c-11.07-19.13-31.74-32.01-55.43-32.01-35.35 0-64.01 28.66-64.01 64.01 0 23.69 12.88 44.36 32.01 55.43v318.8c0 23.16 18.84 42 42 42H648.7c11.07 19.13 31.74 32.01 55.43 32.01 35.35 0 64.01-28.66 64.01-64.01 0.01-23.7-12.87-44.37-32-55.44zM352.06 375.43A64.281 64.281 0 0 0 375.49 352h296.64v296.8a64.357 64.357 0 0 0-23.43 23.43H352.06v-296.8z"  ></path></symbol><symbol id="l7draw-circle" viewBox="0 0 1024 1024"><path d="M467.013228 557.765038a64.01 64.01 0 1 0 90.52223-90.52539 64.01 64.01 0 1 0-90.52223 90.52539Z"  ></path><path d="M832.16 512.22c0-26.06-15.58-48.46-37.93-58.45-11.21-54.67-38.11-104.92-78.48-145.3-54.42-54.42-126.78-84.4-203.75-84.4s-149.33 29.97-203.75 84.4c-54.42 54.42-84.4 126.79-84.4 203.75s29.97 149.33 84.4 203.75c54.42 54.42 126.78 84.4 203.75 84.4s149.33-29.97 203.75-84.4c40.37-40.37 67.28-90.62 78.48-145.3 22.35-9.98 37.93-32.39 37.93-58.45zM670.5 670.72c-42.34 42.34-98.62 65.65-158.5 65.65-59.87 0-116.16-23.32-158.5-65.65-42.34-42.34-65.65-98.62-65.65-158.5s23.32-116.16 65.65-158.5c42.34-42.34 98.62-65.65 158.5-65.65 59.87 0 116.16 23.32 158.5 65.65 29.9 29.9 50.3 66.77 59.71 106.95-15.81 11.66-26.07 30.4-26.07 51.55s10.26 39.9 26.07 51.55c-9.41 40.18-29.81 77.05-59.71 106.95z"  ></path></symbol><symbol id="l7draw-polygon" viewBox="0 0 1024 1024"><path d="M705.97 640.31c-5.79 0-11.39 0.78-16.72 2.22L381.94 336.66a64.079 64.079 0 0 0 2.14-16.43c0-35.35-28.66-64.01-64.01-64.01s-64.01 28.66-64.01 64.01c0 23.69 12.88 44.36 32.01 55.43V648.8c-19.13 11.07-32.01 31.74-32.01 55.43 0 35.35 28.66 64.01 64.01 64.01 23.69 0 44.35-12.87 55.42-32l275.05 0.07c11.07 19.14 31.74 32.03 55.44 32.03 35.35 0 64.01-28.66 64.01-64.01s-28.66-64.02-64.02-64.02z m-353.91 8.48V397.22L628.44 672.3l-252.94-0.07a64.411 64.411 0 0 0-23.44-23.44z"  ></path></symbol><symbol id="l7draw-line" viewBox="0 0 1024 1024"><path d="M832.16 449.21c0-35.35-28.66-64.01-64.01-64.01-29.2 0-53.81 19.56-61.5 46.28l-390.9 96.82 72.18-144.18c33.56-1.99 60.17-29.83 60.17-63.89 0-35.35-28.66-64.01-64.01-64.01s-64.01 28.66-64.01 64.01c0 13.04 3.91 25.17 10.61 35.28l-78.42 156.65c-33.58 1.97-60.21 29.81-60.21 63.89 0 35.35 28.66 64.01 64.01 64.01 29.2 0 53.81-19.56 61.5-46.28l390.8-96.79-71.97 143.34c-33.62 1.93-60.28 29.8-60.28 63.9 0 35.35 28.66 64.01 64.01 64.01s64.01-28.66 64.01-64.01c0-13-3.89-25.09-10.54-35.18l78.28-155.93c33.61-1.95 60.28-29.81 60.28-63.91z"  ></path></symbol><symbol id="l7draw-point" viewBox="0 0 1024 1024"><path d="M331.46 330.08m-64.01 0a64.01 64.01 0 1 0 128.02 0 64.01 64.01 0 1 0-128.02 0Z"  ></path><path d="M384.12 735.84m-64.01 0a64.01 64.01 0 1 0 128.02 0 64.01 64.01 0 1 0-128.02 0Z"  ></path><path d="M769.11 512.7m-64.01 0a64.01 64.01 0 1 0 128.02 0 64.01 64.01 0 1 0-128.02 0Z"  ></path></symbol></svg>',s=(s=document.getElementsByTagName("script"))[s.length-1].getAttribute("data-injectcss"),l=function(e,t){t.parentNode.insertBefore(e,t)};if(s&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console&&console.log(e)}}function u(){o||(o=!0,r())}function c(){try{i.documentElement.doScroll("left")}catch(e){return void setTimeout(c,50)}u()}t=function(){var e,t=document.createElement("div");t.innerHTML=a,a=null,(t=t.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",t=t,(e=document.body).firstChild?l(t,e.firstChild):e.appendChild(t))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(t,0):(n=function(){document.removeEventListener("DOMContentLoaded",n,!1),t()},document.addEventListener("DOMContentLoaded",n,!1)):document.attachEvent&&(r=t,i=e.document,o=!1,c(),i.onreadystatechange=function(){"complete"==i.readyState&&(i.onreadystatechange=null,u())})}(window)},tg9j:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawCircle"](e,{});n(t),t.enable(),t.on(o["DrawEvent"].Add,((e,t)=>{console.log("add",e,t)})),t.on(o["DrawEvent"].Edit,((e,t)=>{console.log("edit",e,t)})),t.on(o["DrawEvent"].Remove,((e,t)=>{console.log("remove",e,t)})),t.on(o["DrawEvent"].Change,(e=>{console.log("change",e)})),t.on(o["DrawEvent"].DragStart,((e,t)=>{console.log("dragStart",e,t)})),t.on(o["DrawEvent"].Dragging,((e,t)=>{console.log("dragging",e,t)})),t.on(o["DrawEvent"].DragEnd,((e,t)=>{console.log("dragEnd",e,t)}))}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},tiKp:function(e,t,n){var r=n("2oRo"),i=n("VpIT"),o=n("UTVS"),a=n("kOOl"),s=n("STAE"),l=n("/b8u"),u=i("wks"),c=r.Symbol,f=l?c:c&&c.withoutSetter||a;e.exports=function(e){return o(u,e)||(s&&o(c,e)?u[e]=c[e]:u[e]=f("Symbol."+e)),u[e]}},tijO:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("glrk"),a=n("A2ZE"),s=n("WGBp"),l=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{find:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return l(n,(function(e){if(r(e,e,t))return l.stop(e)}),void 0,!1,!0).result}})},tjZM:function(e,t,n){var r=n("dG/n");r("asyncIterator")},tl68:function(e,t,n){"use strict";n("MNnm")},toAj:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ppGB"),o=n("QIpd"),a=n("EUja"),s=n("0Dky"),l=1..toFixed,u=Math.floor,c=function(e,t,n){return 0===t?n:t%2===1?c(e,t-1,n*e):c(e*e,t/2,n)},f=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},p=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}));r({target:"Number",proto:!0,forced:p},{toFixed:function(e){var t,n,r,s,l=o(this),p=i(e),d=[0,0,0,0,0,0],h="",v="0",m=function(e,t){var n=-1,r=t;while(++n<6)r+=e*d[n],d[n]=r%1e7,r=u(r/1e7)},g=function(e){var t=6,n=0;while(--t>=0)n+=d[t],d[t]=u(n/e),n=n%e*1e7},y=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==d[e]){var n=String(d[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(h="-",l=-l),l>1e-21)if(t=f(l*c(2,69,1))-69,n=t<0?l*c(2,-t,1):l/c(2,t,1),n*=4503599627370496,t=52-t,t>0){m(0,n),r=p;while(r>=7)m(1e7,0),r-=7;m(c(10,r,1),0),r=t-1;while(r>=23)g(1<<23),r-=23;g(1<<r),m(1,1),g(2),v=y()}else m(0,n),m(1<<-t,0),v=y()+a.call("0",p);return p>0?(s=v.length,v=h+(s<=p?"0."+a.call("0",p-s)+v:v.slice(0,s-p)+"."+v.slice(s-p))):v=h+v,v}})},tpZ8:function(e,t,n){e.exports={wrapper:"wrapper___xu35h",content:"content___2S8O9",title:"title___Zf4YZ",slicerbarv:"slicerbarv___2oHO1",slicerbarv2:"slicerbarv2___2lMor",lefttop:"lefttop___W-Hrn",lefttopWithTitle:"lefttopWithTitle___2j3Jv",lefttopWithoutTitle:"lefttopWithoutTitle___31N6C",rightbottom:"rightbottom___35Eh1",rightbottomWithoutTitle:"rightbottomWithoutTitle___2iWO5",cardsContainer:"cardsContainer___3E7hK",cards:"cards___6w-Lr",cardWrapper:"cardWrapper___3gpXx",dot:"dot___3JaG0",slicerbarh:"slicerbarh___2EBU_",slicerbarh2:"slicerbarh2___n-qfD",slicerbarh3:"slicerbarh3___2wnkr",slicerbarh4:"slicerbarh4___3gLon"}},ttXW:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["line-event"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["line-event"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},tyWD:function(e,t,n){},tycR:function(e,t,n){var r=n("A2ZE"),i=n("RK3t"),o=n("ewvW"),a=n("UMSQ"),s=n("ZfDv"),l=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,c=4==e,f=6==e,p=5==e||f;return function(d,h,v,m){for(var g,y,b=o(d),_=i(b),E=r(h,v,3),x=a(_.length),w=0,S=m||s,O=t?S(d,x):n?S(d,0):void 0;x>w;w++)if((p||w in _)&&(g=_[w],y=E(g,w,b),e))if(t)O[w]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:l.call(O,g)}else if(c)return!1;return f?-1:u||c?c:O}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},u6S6:function(e,t,n){var r=n("6acW"),i=n("sgoq"),o=i((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=o},u8Dt:function(e,t,n){var r=n("YESw"),i="__lodash_hash_undefined__",o=Object.prototype,a=o.hasOwnProperty;function s(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return a.call(t,e)?t[e]:void 0}e.exports=s},uCgz:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("S2ku"),s=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement(a["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u4e8b\u4ef6\u540d"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Init | 'init'"),i.a.createElement("td",null,"Draw \u521d\u59cb\u5316\u5b8c\u6210\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Destroy | 'destroy'"),i.a.createElement("td",null,"Draw \u5b8c\u6210\u9500\u6bc1\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Enable | 'enable'"),i.a.createElement("td",null,"\u542f\u7528\u7ed8\u5236\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Disable | 'disable'"),i.a.createElement("td",null,"\u7981\u7528\u7ed8\u5236\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Clear | 'clear'"),i.a.createElement("td",null,"\u6e05\u7a7a\u6570\u636e\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(drawer: Draw)"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.AddNode | 'addNode'"),i.a.createElement("td",null,"\u6dfb\u52a0\u7ed3\u70b9"),i.a.createElement("td",null,i.a.createElement("code",null,"(newNode: Feature,editFeature: Feature, featureList: Feature[]) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.RemoveNode | 'removeNode'"),i.a.createElement("td",null,"\u5220\u9664\u7ed3\u70b9"),i.a.createElement("td",null,i.a.createElement("code",null,"(removeNode: Feature,editFeature: Feature, featureList: Feature[]) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Add | 'add'"),i.a.createElement("td",null,"\u65b0\u589e\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(newFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Edit | 'edit'"),i.a.createElement("td",null,"\u7f16\u8f91(\u4f4d\u79fb\u6216\u8282\u70b9\u53d1\u751f\u53d8\u66f4)\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(editFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Remove | 'remove'"),i.a.createElement("td",null,"\u5220\u9664\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(deleteFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.DragStart | 'dragStart'"),i.a.createElement("td",null,"\u5f00\u59cb\u62d6\u62fd\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(dragFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Dragging | 'dragging'"),i.a.createElement("td",null,"\u62d6\u62fd\u4e2d\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(dragFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.DragEnd | 'dragEnd'"),i.a.createElement("td",null,"\u62d6\u62fd\u7ed3\u675f\u7684\u4e8b\u4ef6"),i.a.createElement("td",null,i.a.createElement("code",null,"function(dragFeature: Feature, featureList: Feature[])"))),i.a.createElement("tr",null,i.a.createElement("td",null,"DrawEvent.Change | 'change'"),i.a.createElement("td",null,"\u7ed8\u5236\u6570\u636e\u53d1\u751f\u53d8\u66f4\u540e\u7684\u4e8b\u4ef6\uff08\u5305\u542b\u4ee5\u4e0a\u7ed8\u5236\u6570\u636e\u53d8\u52a8\u7684\u4e8b\u4ef6\uff09"),i.a.createElement("td",null,i.a.createElement("code",null,"function(featureList: Feature[])"))))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},uT7z:function(e,t,n){},uWhJ:function(e,t,n){var r=n("I+eb"),i=Math.PI/180;r({target:"Math",stat:!0},{radians:function(e){return e*i}})},uciX:function(e,t,n){"use strict";var r=n("VTBJ"),i=n("wx14"),o=n("1OyB"),a=n("vuIU"),s=n("JX7q"),l=n("Ji7U"),u=n("LK+K"),c=n("q1tI"),f=n.n(c),p=n("i8i4"),d=n.n(p),h=n("wgJM"),v=n("l4aY"),m=n("m+aA"),g=n("c+Xe"),y=n("zT1h"),b=n("QC+M"),_=n("TSYQ"),E=n.n(_);function x(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function w(e,t,n){var i=e[t]||{};return Object(r["a"])(Object(r["a"])({},i),n)}function S(e,t,n,r){for(var i=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(x(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}var O=n("ODXe"),C=n("Ff2n"),A=n("5Z9U"),P=n("8XRh");function k(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function M(e){var t=e.prefixCls,n=e.visible,o=e.zIndex,a=e.mask,s=e.maskMotion,l=e.maskAnimation,u=e.maskTransitionName;if(!a)return null;var f={};return(s||u||l)&&(f=Object(r["a"])({motionAppear:!0},k({motion:s,prefixCls:t,transitionName:u,animation:l}))),c["createElement"](P["a"],Object(i["a"])({},f,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return c["createElement"]("div",{style:{zIndex:o},className:E()("".concat(t,"-mask"),n)})}))}var T,L=n("U8pU"),I=n("x/xZ");function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){return N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function B(){if(void 0!==T)return T;T="";var e=document.createElement("p").style,t="Transform";for(var n in F)n+t in e&&(T=n);return T}function U(){return B()?"".concat(B(),"TransitionProperty"):"transitionProperty"}function z(){return B()?"".concat(B(),"Transform"):"transform"}function H(e,t){var n=U();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function V(e,t){var n=z();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}function G(e){return e.style.transitionProperty||e.style[U()]}function W(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(z());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var q=/matrix\((.*)\)/,Y=/matrix3d\((.*)\)/;function X(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(z());if(r&&"none"!==r){var i,o=r.match(q);if(o)o=o[1],i=o.split(",").map((function(e){return parseFloat(e,10)})),i[4]=t.x,i[5]=t.y,V(e,"matrix(".concat(i.join(","),")"));else{var a=r.match(Y)[1];i=a.split(",").map((function(e){return parseFloat(e,10)})),i[12]=t.x,i[13]=t.y,V(e,"matrix3d(".concat(i.join(","),")"))}}else V(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var K,Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function Q(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function J(e,t,n){var r=n;if("object"!==N(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):K(e,t);for(var i in t)t.hasOwnProperty(i)&&J(e,i,t[i])}function $(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),n-=a.clientLeft||o.clientLeft||0,r-=a.clientTop||o.clientTop||0,{left:n,top:r}}function ee(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;n=i.documentElement[r],"number"!==typeof n&&(n=i.body[r])}return n}function te(e){return ee(e)}function ne(e){return ee(e,!0)}function re(e){var t=$(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=te(r),t.top+=ne(r),t}function ie(e){return null!==e&&void 0!==e&&e==e.window}function oe(e){return ie(e)?e.document:9===e.nodeType?e:e.ownerDocument}function ae(e,t,n){var r=n,i="",o=oe(e);return r=r||o.defaultView.getComputedStyle(e,null),r&&(i=r.getPropertyValue(t)||r[t]),i}var se=new RegExp("^(".concat(Z,")(?!px)[a-z%]+$"),"i"),le=/^(top|right|bottom|left)$/,ue="currentStyle",ce="runtimeStyle",fe="left",pe="px";function de(e,t){var n=e[ue]&&e[ue][t];if(se.test(n)&&!le.test(t)){var r=e.style,i=r[fe],o=e[ce][fe];e[ce][fe]=e[ue][fe],r[fe]="fontSize"===t?"1em":n||0,n=r.pixelLeft+pe,r[fe]=i,e[ce][fe]=o}return""===n?"auto":n}function he(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function ve(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function me(e,t,n){"static"===J(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=he("left",n),a=he("top",n),s=ve(o),l=ve(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var u="",c=re(e);("left"in t||"top"in t)&&(u=G(e)||"",H(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[l]="",e.style[a]="".concat(i,"px")),Q(e);var f=re(e),p={};for(var d in t)if(t.hasOwnProperty(d)){var h=he(d,n),v="left"===d?r:i,m=c[d]-f[d];p[h]=h===d?v+m:v-m}J(e,p),Q(e),("left"in t||"top"in t)&&H(e,u);var g={};for(var y in t)if(t.hasOwnProperty(y)){var b=he(y,n),_=t[y]-c[y];g[b]=y===b?p[b]+_:p[b]-_}J(e,g)}function ge(e,t){var n=re(e),r=W(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),X(e,i)}function ye(e,t,n){if(n.ignoreShake){var r=re(e),i=r.left.toFixed(0),o=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?me(e,t,n):n.useCssTransform&&z()in document.body.style?ge(e,t):me(e,t,n)}function be(e,t){for(var n=0;n<e.length;n++)t(e[n])}function _e(e){return"border-box"===K(e,"boxSizing")}"undefined"!==typeof window&&(K=window.getComputedStyle?ae:de);var Ee=["margin","border","padding"],xe=-1,we=2,Se=1,Oe=0;function Ce(e,t,n){var r,i={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=i[r])}function Ae(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i],r)for(o=0;o<n.length;o++){var s=void 0;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(K(e,s))||0}return a}var Pe={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function ke(e,t,n){var r=n;if(ie(e))return"width"===t?Pe.viewportWidth(e):Pe.viewportHeight(e);if(9===e.nodeType)return"width"===t?Pe.docWidth(e):Pe.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),a=_e(e),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,s=K(e,t),(null===s||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=a?Se:xe);var l=void 0!==o||a,u=o||s;return r===xe?l?u-Ae(e,["border","padding"],i):s:l?r===Se?u:u+(r===we?-Ae(e,["border"],i):Ae(e,["margin"],i)):s+Ae(e,Ee.slice(r),i)}be(["Width","Height"],(function(e){Pe["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Pe["viewport".concat(e)](n))},Pe["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,o=r.documentElement,a=o[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}}));var Me={position:"absolute",visibility:"hidden",display:"block"};function Te(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=ke.apply(void 0,t):Ce(i,Me,(function(){r=ke.apply(void 0,t)})),r}function Le(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}be(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Pe["outer".concat(t)]=function(t,n){return t&&Te(t,e,n?Oe:Se)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Pe[e]=function(t,r){var i=r;if(void 0===i)return t&&Te(t,e,xe);if(t){var o=_e(t);return o&&(i+=Ae(t,["padding","border"],n)),J(t,e,i)}}}));var Ie={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:oe,offset:function(e,t,n){if("undefined"===typeof t)return re(e);ye(e,t,n||{})},isWindow:ie,each:be,css:J,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);var r=e.overflow;if(r)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Le,getWindowScrollLeft:function(e){return te(e)},getWindowScrollTop:function(e){return ne(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Ie.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Le(Ie,Pe);var De=Ie.getParent;function Re(e){if(Ie.isWindow(e)||9===e.nodeType)return null;var t,n=Ie.getDocument(e),r=n.body,i=Ie.css(e,"position"),o="fixed"===i||"absolute"===i;if(!o)return"html"===e.nodeName.toLowerCase()?null:De(e);for(t=De(e);t&&t!==r&&9!==t.nodeType;t=De(t))if(i=Ie.css(t,"position"),"static"!==i)return t;return null}var Ne=Ie.getParent;function je(e){if(Ie.isWindow(e)||9===e.nodeType)return!1;var t=Ie.getDocument(e),n=t.body,r=null;for(r=Ne(e);r&&r!==n&&r!==t;r=Ne(r)){var i=Ie.css(r,"position");if("fixed"===i)return!0}return!1}function Fe(e,t){var n={left:0,right:1/0,top:0,bottom:1/0},r=Re(e),i=Ie.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;while(r){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===Ie.css(r,"overflow")){if(r===a||r===s)break}else{var l=Ie.offset(r);l.left+=r.clientLeft,l.top+=r.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+r.clientWidth),n.bottom=Math.min(n.bottom,l.top+r.clientHeight),n.left=Math.max(n.left,l.left)}r=Re(r)}var u=null;if(!Ie.isWindow(e)&&9!==e.nodeType){u=e.style.position;var c=Ie.css(e,"position");"absolute"===c&&(e.style.position="fixed")}var f=Ie.getWindowScrollLeft(o),p=Ie.getWindowScrollTop(o),d=Ie.viewportWidth(o),h=Ie.viewportHeight(o),v=s.scrollWidth,m=s.scrollHeight,g=window.getComputedStyle(a);if("hidden"===g.overflowX&&(v=o.innerWidth),"hidden"===g.overflowY&&(m=o.innerHeight),e.style&&(e.style.position=u),t||je(e))n.left=Math.max(n.left,f),n.top=Math.max(n.top,p),n.right=Math.min(n.right,f+d),n.bottom=Math.min(n.bottom,p+h);else{var y=Math.max(v,f+d);n.right=Math.min(n.right,y);var b=Math.max(m,p+h);n.bottom=Math.min(n.bottom,b)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Be(e,t,n,r){var i=Ie.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),Ie.mix(i,o)}function Ue(e){var t,n,r;if(Ie.isWindow(e)||9===e.nodeType){var i=Ie.getWindow(e);t={left:Ie.getWindowScrollLeft(i),top:Ie.getWindowScrollTop(i)},n=Ie.viewportWidth(i),r=Ie.viewportHeight(i)}else t=Ie.offset(e),n=Ie.outerWidth(e),r=Ie.outerHeight(e);return t.width=n,t.height=r,t}function ze(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function He(e,t,n,r,i){var o=ze(t,n[1]),a=ze(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function Ve(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Ge(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function We(e,t,n){return e.left>n.right||e.left+t.width<n.left}function qe(e,t,n){return e.top>n.bottom||e.top+t.height<n.top}function Ye(e,t,n){var r=[];return Ie.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Xe(e,t){return e[t]=-e[t],e}function Ke(e,t){var n;return n=/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10),n||0}function Ze(e,t){e[0]=Ke(e[0],t.width),e[1]=Ke(e[1],t.height)}function Qe(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,l=n.source||e;o=[].concat(o),a=[].concat(a),s=s||{};var u={},c=0,f=!(!s||!s.alwaysByViewport),p=Fe(l,f),d=Ue(l);Ze(o,d),Ze(a,t);var h=He(d,t,i,o,a),v=Ie.merge(d,h);if(p&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&Ve(h,d,p)){var m=Ye(i,/[lr]/gi,{l:"r",r:"l"}),g=Xe(o,0),y=Xe(a,0),b=He(d,t,m,g,y);We(b,d,p)||(c=1,i=m,o=g,a=y)}if(s.adjustY&&Ge(h,d,p)){var _=Ye(i,/[tb]/gi,{t:"b",b:"t"}),E=Xe(o,1),x=Xe(a,1),w=He(d,t,_,E,x);qe(w,d,p)||(c=1,i=_,o=E,a=x)}c&&(h=He(d,t,i,o,a),Ie.mix(v,h));var S=Ve(h,d,p),O=Ge(h,d,p);if(S||O){var C=i;S&&(C=Ye(i,/[lr]/gi,{l:"r",r:"l"})),O&&(C=Ye(i,/[tb]/gi,{t:"b",b:"t"})),i=C,o=n.offset||[0,0],a=n.targetOffset||[0,0]}u.adjustX=s.adjustX&&S,u.adjustY=s.adjustY&&O,(u.adjustX||u.adjustY)&&(v=Be(h,d,p,u))}return v.width!==d.width&&Ie.css(l,"width",Ie.width(l)+v.width-d.width),v.height!==d.height&&Ie.css(l,"height",Ie.height(l)+v.height-d.height),Ie.offset(l,{left:v.left,top:v.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:u}}function Je(e,t){var n=Fe(e,t),r=Ue(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}function $e(e,t,n){var r=n.target||t,i=Ue(r),o=!Je(r,n.overflow&&n.overflow.alwaysByViewport);return Qe(e,i,n,o)}function et(e,t,n){var r,i,o=Ie.getDocument(e),a=o.defaultView||o.parentWindow,s=Ie.getWindowScrollLeft(a),l=Ie.getWindowScrollTop(a),u=Ie.viewportWidth(a),c=Ie.viewportHeight(a);r="pageX"in t?t.pageX:s+t.clientX,i="pageY"in t?t.pageY:l+t.clientY;var f={left:r,top:i,width:0,height:0},p=r>=0&&r<=s+u&&i>=0&&i<=l+c,d=[n.points[0],"cc"];return Qe(e,f,R(R({},n),{},{points:d}),p)}$e.__getOffsetParent=Re,$e.__getVisibleRectForElement=Fe;var tt=n("Y+p1"),nt=n.n(tt),rt=n("bdgK");function it(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&(e.clientX===t.clientX&&e.clientY===t.clientY))}function ot(e,t){e!==document.activeElement&&Object(v["a"])(t,e)&&"function"===typeof e.focus&&e.focus()}function at(e,t){var n=null,r=null;function i(e){var i=Object(O["a"])(e,1),o=i[0].target;if(document.documentElement.contains(o)){var a=o.getBoundingClientRect(),s=a.width,l=a.height,u=Math.floor(s),c=Math.floor(l);n===u&&r===c||Promise.resolve().then((function(){t({width:u,height:c})})),n=u,r=c}}var o=new rt["default"](i);return e&&o.observe(e),function(){o.disconnect()}}var st=function(e,t){var n=f.a.useRef(!1),r=f.a.useRef(null);function i(){window.clearTimeout(r.current)}function o(a){if(i(),n.current&&!0!==a)r.current=window.setTimeout((function(){n.current=!1,o()}),t);else{if(!1===e())return;n.current=!0,r.current=window.setTimeout((function(){n.current=!1}),t)}}return[o,function(){n.current=!1,i()}]};function lt(e){return"function"!==typeof e?null:e()}function ut(e){return"object"===Object(L["a"])(e)&&e?e:null}var ct=function(e,t){var n=e.children,r=e.disabled,i=e.target,o=e.align,a=e.onAlign,s=e.monitorWindowResize,l=e.monitorBufferTime,u=void 0===l?0:l,c=f.a.useRef({}),p=f.a.useRef(),d=f.a.Children.only(n),h=f.a.useRef({});h.current.disabled=r,h.current.target=i,h.current.align=o,h.current.onAlign=a;var v=st((function(){var e=h.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var o,a=p.current,s=lt(n),l=ut(n);c.current.element=s,c.current.point=l,c.current.align=r;var u=document,f=u.activeElement;return s&&Object(I["a"])(s)?o=$e(a,s,r):l&&(o=et(a,l,r)),ot(f,a),i&&o&&i(a,o),!0}return!1}),u),m=Object(O["a"])(v,2),b=m[0],_=m[1],E=f.a.useRef({cancel:function(){}}),x=f.a.useRef({cancel:function(){}});f.a.useEffect((function(){var e=lt(i),t=ut(i);p.current!==x.current.element&&(x.current.cancel(),x.current.element=p.current,x.current.cancel=at(p.current,b)),c.current.element===e&&it(c.current.point,t)&&nt()(c.current.align,o)||(b(),E.current.element!==e&&(E.current.cancel(),E.current.element=e,E.current.cancel=at(e,b)))})),f.a.useEffect((function(){r?_():b()}),[r]);var w=f.a.useRef(null);return f.a.useEffect((function(){s?w.current||(w.current=Object(y["a"])(window,"resize",b)):w.current&&(w.current.remove(),w.current=null)}),[s]),f.a.useEffect((function(){return function(){E.current.cancel(),x.current.cancel(),w.current&&w.current.remove(),_()}}),[]),f.a.useImperativeHandle(t,(function(){return{forceAlign:function(){return b(!0)}}})),f.a.isValidElement(d)&&(d=f.a.cloneElement(d,{ref:Object(g["a"])(d.ref,p)})),d},ft=f.a.forwardRef(ct);ft.displayName="Align";var pt=ft,dt=pt,ht=n("TNol"),vt=n("x+uP"),mt=n("HaE+"),gt=n("dm2S"),yt=["measure","alignPre","align",null,"motion"],bt=function(e,t){var n=Object(gt["a"])(null),r=Object(O["a"])(n,2),i=r[0],o=r[1],a=Object(c["useRef"])();function s(e){o(e,!0)}function l(){h["a"].cancel(a.current)}function u(e){l(),a.current=Object(h["a"])((function(){s((function(e){switch(i){case"align":return"motion";case"motion":return"stable";default:}return e})),null===e||void 0===e||e()}))}return Object(c["useEffect"])((function(){s("measure")}),[e]),Object(c["useEffect"])((function(){switch(i){case"measure":t();break;default:}i&&(a.current=Object(h["a"])(Object(mt["a"])(Object(vt["a"])().mark((function e(){var t,n;return Object(vt["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=yt.indexOf(i),n=yt[t+1],n&&-1!==t&&s(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),Object(c["useEffect"])((function(){return function(){l()}}),[]),[i,u]},_t=function(e){var t=c["useState"]({width:0,height:0}),n=Object(O["a"])(t,2),r=n[0],i=n[1];function o(e){i({width:e.offsetWidth,height:e.offsetHeight})}var a=c["useMemo"]((function(){var t={};if(e){var n=r.width,i=r.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]);return[a,o]},Et=c["forwardRef"]((function(e,t){var n=e.visible,o=e.prefixCls,a=e.className,s=e.style,l=e.children,u=e.zIndex,f=e.stretch,p=e.destroyPopupOnHide,d=e.forceRender,h=e.align,v=e.point,m=e.getRootDomNode,g=e.getClassNameFromAlign,y=e.onAlign,b=e.onMouseEnter,_=e.onMouseLeave,x=e.onMouseDown,w=e.onTouchStart,S=e.onClick,C=Object(c["useRef"])(),A=Object(c["useRef"])(),M=Object(c["useState"])(),T=Object(O["a"])(M,2),L=T[0],I=T[1],D=_t(f),R=Object(O["a"])(D,2),N=R[0],j=R[1];function F(){f&&j(m())}var B=bt(n,F),U=Object(O["a"])(B,2),z=U[0],H=U[1],V=Object(c["useState"])(0),G=Object(O["a"])(V,2),W=G[0],q=G[1],Y=Object(c["useRef"])();function X(){return v||m}function K(){var e;null===(e=C.current)||void 0===e||e.forceAlign()}function Z(e,t){var n=g(t);L!==n&&I(n),q((function(e){return e+1})),"align"===z&&(null===y||void 0===y||y(e,t))}Object(ht["a"])((function(){"alignPre"===z&&q(0)}),[z]),Object(ht["a"])((function(){"align"===z&&(W<2?K():H((function(){var e;null===(e=Y.current)||void 0===e||e.call(Y)})))}),[W]);var Q=Object(r["a"])({},k(e));function J(){return new Promise((function(e){Y.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=Q[e];Q[e]=function(e,n){return H(),null===t||void 0===t?void 0:t(e,n)}})),c["useEffect"]((function(){Q.motionName||"motion"!==z||H()}),[Q.motionName,z]),c["useImperativeHandle"](t,(function(){return{forceAlign:K,getElement:function(){return A.current}}}));var $=Object(r["a"])(Object(r["a"])({},N),{},{zIndex:u,opacity:"motion"!==z&&"stable"!==z&&n?0:void 0,pointerEvents:n||"stable"===z?void 0:"none"},s),ee=!0;!(null===h||void 0===h?void 0:h.points)||"align"!==z&&"stable"!==z||(ee=!1);var te=l;return c["Children"].count(l)>1&&(te=c["createElement"]("div",{className:"".concat(o,"-content")},l)),c["createElement"](P["a"],Object(i["a"])({visible:n,ref:A,leavedClassName:"".concat(o,"-hidden")},Q,{onAppearPrepare:J,onEnterPrepare:J,removeOnLeave:p,forceRender:d}),(function(e,t){var n=e.className,i=e.style,s=E()(o,a,L,n);return c["createElement"](dt,{target:X(),key:"popup",ref:C,monitorWindowResize:!0,disabled:ee,align:h,onAlign:Z},c["createElement"]("div",{ref:t,className:s,onMouseEnter:b,onMouseLeave:_,onMouseDownCapture:x,onTouchStartCapture:w,onClick:S,style:Object(r["a"])(Object(r["a"])({},i),$)},te))}))}));Et.displayName="PopupInner";var xt=Et,wt=c["forwardRef"]((function(e,t){var n=e.prefixCls,o=e.visible,a=e.zIndex,s=e.children,l=e.mobile;l=void 0===l?{}:l;var u=l.popupClassName,f=l.popupStyle,p=l.popupMotion,d=void 0===p?{}:p,h=l.popupRender,v=e.onClick,m=c["useRef"]();c["useImperativeHandle"](t,(function(){return{forceAlign:function(){},getElement:function(){return m.current}}}));var g=Object(r["a"])({zIndex:a},f),y=s;return c["Children"].count(s)>1&&(y=c["createElement"]("div",{className:"".concat(n,"-content")},s)),h&&(y=h(y)),c["createElement"](P["a"],Object(i["a"])({visible:o,ref:m,removeOnLeave:!0},d),(function(e,t){var i=e.className,o=e.style,a=E()(n,u,i);return c["createElement"]("div",{ref:t,className:a,onClick:v,style:Object(r["a"])(Object(r["a"])({},o),g)},y)}))}));wt.displayName="MobilePopupInner";var St=wt,Ot=["visible","mobile"],Ct=c["forwardRef"]((function(e,t){var n=e.visible,o=e.mobile,a=Object(C["a"])(e,Ot),s=Object(c["useState"])(n),l=Object(O["a"])(s,2),u=l[0],f=l[1],p=Object(c["useState"])(!1),d=Object(O["a"])(p,2),h=d[0],v=d[1],m=Object(r["a"])(Object(r["a"])({},a),{},{visible:u});Object(c["useEffect"])((function(){f(n),n&&o&&v(Object(A["a"])())}),[n,o]);var g=h?c["createElement"](St,Object(i["a"])({},m,{mobile:o,ref:t})):c["createElement"](xt,Object(i["a"])({},m,{ref:t}));return c["createElement"]("div",null,c["createElement"](M,m),g)}));Ct.displayName="Popup";var At=Ct,Pt=c["createContext"](null),kt=Pt;function Mt(){}function Tt(){return""}function Lt(e){return e?e.ownerDocument:window.document}var It=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function Dt(e){var t=function(t){Object(l["a"])(f,t);var n=Object(u["a"])(f);function f(e){var t,r;return Object(o["a"])(this,f),t=n.call(this,e),t.popupRef=c["createRef"](),t.triggerRef=c["createRef"](),t.portalContainer=void 0,t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&Object(v["a"])(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();Object(v["a"])(r,n)&&!t.isContextMenuOnly()||Object(v["a"])(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=Object(m["a"])(t.triggerRef.current);if(n)return n}catch(r){}return d.a.findDOMNode(Object(s["a"])(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,o=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,l=r.getPopupClassNameFromAlign;return i&&o&&n.push(S(o,a,e,s)),l&&n.push(l(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,r=e.destroyPopupOnHide,o=e.popupClassName,a=e.onPopupAlign,s=e.popupMotion,l=e.popupAnimation,u=e.popupTransitionName,f=e.popupStyle,p=e.mask,d=e.maskAnimation,h=e.maskTransitionName,v=e.maskMotion,m=e.zIndex,g=e.popup,y=e.stretch,b=e.alignPoint,_=e.mobile,E=e.forceRender,x=e.onPopupClick,w=t.state,S=w.popupVisible,O=w.point,C=t.getPopupAlign(),A={};return t.isMouseEnterToShow()&&(A.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(A.onMouseLeave=t.onPopupMouseLeave),A.onMouseDown=t.onPopupMouseDown,A.onTouchStart=t.onPopupMouseDown,c["createElement"](At,Object(i["a"])({prefixCls:n,destroyPopupOnHide:r,visible:S,point:b&&O,className:o,align:C,onAlign:a,animation:l,getClassNameFromAlign:t.getPopupClassNameFromAlign},A,{stretch:y,getRootDomNode:t.getRootDomNode,style:f,mask:p,zIndex:m,transitionName:u,maskAnimation:d,maskTransitionName:h,maskMotion:v,ref:t.popupRef,motion:s,mobile:_,forceRender:E,onClick:x}),"function"===typeof g?g():g)},t.attachParent=function(e){h["a"].cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,o=r.getDocument,a=t.getRootDomNode();i?(a||0===i.length)&&(n=i(a)):n=o(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=Object(h["a"])((function(){t.attachParent(e)}))},t.getContainer=function(){if(!t.portalContainer){var e=t.props.getDocument,n=e(t.getRootDomNode()).createElement("div");n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",t.portalContainer=n}return t.attachParent(t.portalContainer),t.portalContainer},t.setPoint=function(e){var n=t.props.alignPoint;n&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},r="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:r,popupVisible:r},It.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return Object(a["a"])(f,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props,n=this.state;if(n.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Object(y["a"])(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Object(y["a"])(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Object(y["a"])(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Object(y["a"])(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),h["a"].cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?w(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,i=n.children,o=n.forceRender,a=n.alignPoint,s=n.className,l=n.autoDestroy,u=c["Children"].only(i),f={key:"trigger"};this.isContextMenuToShow()?f.onContextMenu=this.onContextMenu:f.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(f.onClick=this.onClick,f.onMouseDown=this.onMouseDown,f.onTouchStart=this.onTouchStart):(f.onClick=this.createTwoChains("onClick"),f.onMouseDown=this.createTwoChains("onMouseDown"),f.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(f.onMouseEnter=this.onMouseEnter,a&&(f.onMouseMove=this.onMouseMove)):f.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?f.onMouseLeave=this.onMouseLeave:f.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(f.onFocus=this.onFocus,f.onBlur=this.onBlur):(f.onFocus=this.createTwoChains("onFocus"),f.onBlur=this.createTwoChains("onBlur"));var p=E()(u&&u.props&&u.props.className,s);p&&(f.className=p);var d=Object(r["a"])({},f);Object(g["c"])(u)&&(d.ref=Object(g["a"])(this.triggerRef,u.ref));var h,v=c["cloneElement"](u,d);return(t||this.popupRef.current||o)&&(h=c["createElement"](e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&l&&(h=null),c["createElement"](kt.Provider,{value:this.triggerContextValue},v,h)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),f}(c["Component"]);return t.contextType=kt,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Tt,getDocument:Lt,onPopupVisibleChange:Mt,afterPopupVisibleChange:Mt,onPopupAlign:Mt,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}t["a"]=Dt(b["a"])},ueNE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=p(n("q1tI")),i=p(n("rxal")),o=p(n("9/5/")),a=p(n("TSYQ")),s=n("x9Za"),l=n("UZv/"),u=n("aaW0"),c=n("KOnL"),f=p(n("bdgK"));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,i=m(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function S(e){var t=A();return function(){var n,r=P(e);if(t){var i=P(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){x(n,e);var t=S(n);function n(e){var p;b(this,n),p=t.call(this,e),k(C(p),"listRefHandler",(function(e){return p.list=e})),k(C(p),"trackRefHandler",(function(e){return p.track=e})),k(C(p),"adaptHeight",(function(){if(p.props.adaptiveHeight&&p.list){var e=p.list.querySelector('[data-index="'.concat(p.state.currentSlide,'"]'));p.list.style.height=(0,s.getHeight)(e)+"px"}})),k(C(p),"componentDidMount",(function(){if(p.props.onInit&&p.props.onInit(),p.props.lazyLoad){var e=(0,s.getOnDemandLazySlides)(y(y({},p.props),p.state));e.length>0&&(p.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),p.props.onLazyLoad&&p.props.onLazyLoad(e))}var t=y({listRef:p.list,trackRef:p.track},p.props);p.updateState(t,!0,(function(){p.adaptHeight(),p.props.autoplay&&p.autoPlay("update")})),"progressive"===p.props.lazyLoad&&(p.lazyLoadTimer=setInterval(p.progressiveLazyLoad,1e3)),p.ro=new f["default"]((function(){p.state.animating?(p.onWindowResized(!1),p.callbackTimers.push(setTimeout((function(){return p.onWindowResized()}),p.props.speed))):p.onWindowResized()})),p.ro.observe(p.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=p.props.pauseOnFocus?p.onSlideFocus:null,e.onblur=p.props.pauseOnFocus?p.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",p.onWindowResized):window.attachEvent("onresize",p.onWindowResized)})),k(C(p),"componentWillUnmount",(function(){p.animationEndCallback&&clearTimeout(p.animationEndCallback),p.lazyLoadTimer&&clearInterval(p.lazyLoadTimer),p.callbackTimers.length&&(p.callbackTimers.forEach((function(e){return clearTimeout(e)})),p.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",p.onWindowResized):window.detachEvent("onresize",p.onWindowResized),p.autoplayTimer&&clearInterval(p.autoplayTimer),p.ro.disconnect()})),k(C(p),"componentDidUpdate",(function(e){if(p.checkImagesLoad(),p.props.onReInit&&p.props.onReInit(),p.props.lazyLoad){var t=(0,s.getOnDemandLazySlides)(y(y({},p.props),p.state));t.length>0&&(p.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(t)}})),p.props.onLazyLoad&&p.props.onLazyLoad(t))}p.adaptHeight();var n=y(y({listRef:p.list,trackRef:p.track},p.props),p.state),i=p.didPropsChange(e);i&&p.updateState(n,i,(function(){p.state.currentSlide>=r["default"].Children.count(p.props.children)&&p.changeSlide({message:"index",index:r["default"].Children.count(p.props.children)-p.props.slidesToShow,currentSlide:p.state.currentSlide}),p.props.autoplay?p.autoPlay("update"):p.pause("paused")}))})),k(C(p),"onWindowResized",(function(e){p.debouncedResize&&p.debouncedResize.cancel(),p.debouncedResize=(0,o["default"])((function(){return p.resizeWindow(e)}),50),p.debouncedResize()})),k(C(p),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Boolean(p.track&&p.track.node);if(t){var n=y(y({listRef:p.list,trackRef:p.track},p.props),p.state);p.updateState(n,e,(function(){p.props.autoplay?p.autoPlay("update"):p.pause("paused")})),p.setState({animating:!1}),clearTimeout(p.animationEndCallback),delete p.animationEndCallback}})),k(C(p),"updateState",(function(e,t,n){var i=(0,s.initializedState)(e);e=y(y(y({},e),i),{},{slideIndex:i.currentSlide});var o=(0,s.getTrackLeft)(e);e=y(y({},e),{},{left:o});var a=(0,s.getTrackCSS)(e);(t||r["default"].Children.count(p.props.children)!==r["default"].Children.count(e.children))&&(i["trackStyle"]=a),p.setState(i,n)})),k(C(p),"ssrInit",(function(){if(p.props.variableWidth){var e=0,t=0,n=[],i=(0,s.getPreClones)(y(y(y({},p.props),p.state),{},{slideCount:p.props.children.length})),o=(0,s.getPostClones)(y(y(y({},p.props),p.state),{},{slideCount:p.props.children.length}));p.props.children.forEach((function(t){n.push(t.props.style.width),e+=t.props.style.width}));for(var a=0;a<i;a++)t+=n[n.length-1-a],e+=n[n.length-1-a];for(var l=0;l<o;l++)e+=n[l];for(var u=0;u<p.state.currentSlide;u++)t+=n[u];var c={width:e+"px",left:-t+"px"};if(p.props.centerMode){var f="".concat(n[p.state.currentSlide],"px");c.left="calc(".concat(c.left," + (100% - ").concat(f,") / 2 ) ")}return{trackStyle:c}}var d=r["default"].Children.count(p.props.children),h=y(y(y({},p.props),p.state),{},{slideCount:d}),v=(0,s.getPreClones)(h)+(0,s.getPostClones)(h)+d,m=100/p.props.slidesToShow*v,g=100/v,b=-g*((0,s.getPreClones)(h)+p.state.currentSlide)*m/100;p.props.centerMode&&(b+=(100-g*m/100)/2);var _={width:m+"%",left:b+"%"};return{slideWidth:g+"%",trackStyle:_}})),k(C(p),"checkImagesLoad",(function(){var e=p.list&&p.list.querySelectorAll&&p.list.querySelectorAll(".slick-slide img")||[],t=e.length,n=0;Array.prototype.forEach.call(e,(function(e){var r=function(){return++n&&n>=t&&p.onWindowResized()};if(e.onclick){var i=e.onclick;e.onclick=function(){i(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(p.props.lazyLoad?e.onload=function(){p.adaptHeight(),p.callbackTimers.push(setTimeout(p.onWindowResized,p.props.speed))}:(e.onload=r,e.onerror=function(){r(),p.props.onLazyLoadError&&p.props.onLazyLoadError()}))}))})),k(C(p),"progressiveLazyLoad",(function(){for(var e=[],t=y(y({},p.props),p.state),n=p.state.currentSlide;n<p.state.slideCount+(0,s.getPostClones)(t);n++)if(p.state.lazyLoadedList.indexOf(n)<0){e.push(n);break}for(var r=p.state.currentSlide-1;r>=-(0,s.getPreClones)(t);r--)if(p.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}e.length>0?(p.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),p.props.onLazyLoad&&p.props.onLazyLoad(e)):p.lazyLoadTimer&&(clearInterval(p.lazyLoadTimer),delete p.lazyLoadTimer)})),k(C(p),"slideHandler",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=p.props,r=n.asNavFor,i=n.beforeChange,o=n.onLazyLoad,a=n.speed,l=n.afterChange,u=p.state.currentSlide,c=(0,s.slideHandler)(y(y(y({index:e},p.props),p.state),{},{trackRef:p.track,useCSS:p.props.useCSS&&!t})),f=c.state,d=c.nextState;if(f){i&&i(u,f.currentSlide);var h=f.lazyLoadedList.filter((function(e){return p.state.lazyLoadedList.indexOf(e)<0}));o&&h.length>0&&o(h),!p.props.waitForAnimate&&p.animationEndCallback&&(clearTimeout(p.animationEndCallback),l&&l(u),delete p.animationEndCallback),p.setState(f,(function(){r&&p.asNavForIndex!==e&&(p.asNavForIndex=e,r.innerSlider.slideHandler(e)),d&&(p.animationEndCallback=setTimeout((function(){var e=d.animating,t=v(d,["animating"]);p.setState(t,(function(){p.callbackTimers.push(setTimeout((function(){return p.setState({animating:e})}),10)),l&&l(f.currentSlide),delete p.animationEndCallback}))}),a))}))}})),k(C(p),"changeSlide",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=y(y({},p.props),p.state),r=(0,s.changeSlide)(n,e);if((0===r||r)&&(!0===t?p.slideHandler(r,t):p.slideHandler(r),p.props.autoplay&&p.autoPlay("update"),p.props.focusOnSelect)){var i=p.list.querySelectorAll(".slick-current");i[0]&&i[0].focus()}})),k(C(p),"clickHandler",(function(e){!1===p.clickable&&(e.stopPropagation(),e.preventDefault()),p.clickable=!0})),k(C(p),"keyHandler",(function(e){var t=(0,s.keyHandler)(e,p.props.accessibility,p.props.rtl);""!==t&&p.changeSlide({message:t})})),k(C(p),"selectHandler",(function(e){p.changeSlide(e)})),k(C(p),"disableBodyScroll",(function(){var e=function(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1};window.ontouchmove=e})),k(C(p),"enableBodyScroll",(function(){window.ontouchmove=null})),k(C(p),"swipeStart",(function(e){p.props.verticalSwiping&&p.disableBodyScroll();var t=(0,s.swipeStart)(e,p.props.swipe,p.props.draggable);""!==t&&p.setState(t)})),k(C(p),"swipeMove",(function(e){var t=(0,s.swipeMove)(e,y(y(y({},p.props),p.state),{},{trackRef:p.track,listRef:p.list,slideIndex:p.state.currentSlide}));t&&(t["swiping"]&&(p.clickable=!1),p.setState(t))})),k(C(p),"swipeEnd",(function(e){var t=(0,s.swipeEnd)(e,y(y(y({},p.props),p.state),{},{trackRef:p.track,listRef:p.list,slideIndex:p.state.currentSlide}));if(t){var n=t["triggerSlideHandler"];delete t["triggerSlideHandler"],p.setState(t),void 0!==n&&(p.slideHandler(n),p.props.verticalSwiping&&p.enableBodyScroll())}})),k(C(p),"touchEnd",(function(e){p.swipeEnd(e),p.clickable=!0})),k(C(p),"slickPrev",(function(){p.callbackTimers.push(setTimeout((function(){return p.changeSlide({message:"previous"})}),0))})),k(C(p),"slickNext",(function(){p.callbackTimers.push(setTimeout((function(){return p.changeSlide({message:"next"})}),0))})),k(C(p),"slickGoTo",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";p.callbackTimers.push(setTimeout((function(){return p.changeSlide({message:"index",index:e,currentSlide:p.state.currentSlide},t)}),0))})),k(C(p),"play",(function(){var e;if(p.props.rtl)e=p.state.currentSlide-p.props.slidesToScroll;else{if(!(0,s.canGoNext)(y(y({},p.props),p.state)))return!1;e=p.state.currentSlide+p.props.slidesToScroll}p.slideHandler(e)})),k(C(p),"autoPlay",(function(e){p.autoplayTimer&&clearInterval(p.autoplayTimer);var t=p.state.autoplaying;if("update"===e){if("hovered"===t||"focused"===t||"paused"===t)return}else if("leave"===e){if("paused"===t||"focused"===t)return}else if("blur"===e&&("paused"===t||"hovered"===t))return;p.autoplayTimer=setInterval(p.play,p.props.autoplaySpeed+50),p.setState({autoplaying:"playing"})})),k(C(p),"pause",(function(e){p.autoplayTimer&&(clearInterval(p.autoplayTimer),p.autoplayTimer=null);var t=p.state.autoplaying;"paused"===e?p.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==t&&"playing"!==t||p.setState({autoplaying:"focused"}):"playing"===t&&p.setState({autoplaying:"hovered"})})),k(C(p),"onDotsOver",(function(){return p.props.autoplay&&p.pause("hovered")})),k(C(p),"onDotsLeave",(function(){return p.props.autoplay&&"hovered"===p.state.autoplaying&&p.autoPlay("leave")})),k(C(p),"onTrackOver",(function(){return p.props.autoplay&&p.pause("hovered")})),k(C(p),"onTrackLeave",(function(){return p.props.autoplay&&"hovered"===p.state.autoplaying&&p.autoPlay("leave")})),k(C(p),"onSlideFocus",(function(){return p.props.autoplay&&p.pause("focused")})),k(C(p),"onSlideBlur",(function(){return p.props.autoplay&&"focused"===p.state.autoplaying&&p.autoPlay("blur")})),k(C(p),"render",(function(){var e,t,n,i=(0,a["default"])("slick-slider",p.props.className,{"slick-vertical":p.props.vertical,"slick-initialized":!0}),o=y(y({},p.props),p.state),f=(0,s.extractObject)(o,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),d=p.props.pauseOnHover;if(f=y(y({},f),{},{onMouseEnter:d?p.onTrackOver:null,onMouseLeave:d?p.onTrackLeave:null,onMouseOver:d?p.onTrackOver:null,focusOnSelect:p.props.focusOnSelect&&p.clickable?p.selectHandler:null}),!0===p.props.dots&&p.state.slideCount>=p.props.slidesToShow){var v=(0,s.extractObject)(o,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=p.props.pauseOnDotsHover;v=y(y({},v),{},{clickHandler:p.changeSlide,onMouseEnter:m?p.onDotsLeave:null,onMouseOver:m?p.onDotsOver:null,onMouseLeave:m?p.onDotsLeave:null}),e=r["default"].createElement(u.Dots,v)}var g=(0,s.extractObject)(o,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);g.clickHandler=p.changeSlide,p.props.arrows&&(t=r["default"].createElement(c.PrevArrow,g),n=r["default"].createElement(c.NextArrow,g));var b=null;p.props.vertical&&(b={height:p.state.listHeight});var _=null;!1===p.props.vertical?!0===p.props.centerMode&&(_={padding:"0px "+p.props.centerPadding}):!0===p.props.centerMode&&(_={padding:p.props.centerPadding+" 0px"});var E=y(y({},b),_),x=p.props.touchMove,w={className:"slick-list",style:E,onClick:p.clickHandler,onMouseDown:x?p.swipeStart:null,onMouseMove:p.state.dragging&&x?p.swipeMove:null,onMouseUp:x?p.swipeEnd:null,onMouseLeave:p.state.dragging&&x?p.swipeEnd:null,onTouchStart:x?p.swipeStart:null,onTouchMove:p.state.dragging&&x?p.swipeMove:null,onTouchEnd:x?p.touchEnd:null,onTouchCancel:p.state.dragging&&x?p.swipeEnd:null,onKeyDown:p.props.accessibility?p.keyHandler:null},S={className:i,dir:"ltr",style:p.props.style};return p.props.unslick&&(w={className:"slick-list"},S={className:i}),r["default"].createElement("div",S,p.props.unslick?"":t,r["default"].createElement("div",h({ref:p.listRefHandler},w),r["default"].createElement(l.Track,h({ref:p.trackRefHandler},f),p.props.children)),p.props.unslick?"":n,p.props.unslick?"":e)})),p.list=null,p.track=null,p.state=y(y({},i["default"]),{},{currentSlide:p.props.initialSlide,slideCount:r["default"].Children.count(p.props.children)}),p.callbackTimers=[],p.clickable=!0,p.debouncedResize=null;var d=p.ssrInit();return p.state=y(y({},p.state),d),p}return E(n,[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var o=i[n];if(!e.hasOwnProperty(o)){t=!0;break}if("object"!==d(e[o])&&"function"!==typeof e[o]&&e[o]!==this.props[o]){t=!0;break}}return t||r["default"].Children.count(this.props.children)!==r["default"].Children.count(e.children)}}]),n}(r["default"].Component);t.InnerSlider=M},uh4K:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawCircle"](e,{multiple:!1});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},uhBA:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,o),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0===--e._eventsCount?e._events=new o:delete e._events[t]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},u.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,a),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var p,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,r);break;default:if(!l)for(p=1,l=new Array(f-1);p<f;p++)l[p-1]=arguments[p];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return l(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||l(this,o);else{for(var s=0,u=[],c=a.length;s<c;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[o]=1===u.length?u[0]:u:l(this,o)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u},ujMp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n("MON2");function i(e){if("function"===typeof e){var t=e;return t.name}if("symbol"===typeof e)return e.toString();t=e;return t}function o(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=c(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r}function a(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||a(e.parentRequest,t))}function s(e){function t(e,n){void 0===n&&(n=[]);var r=i(e.serviceIdentifier);return n.push(r),null!==e.parentRequest?t(e.parentRequest,n):n}var n=t(e);return n.reverse().join(" --\x3e ")}function l(e){e.childRequests.forEach((function(e){if(a(e,e.serviceIdentifier)){var t=s(e);throw new Error(r.CIRCULAR_DEPENDENCY+" "+t)}l(e)}))}function u(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e}function c(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=o,t.circularDependencyToException=l,t.listMetadataForTarget=u,t.getFunctionName=c},unQa:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ImZN"),o=n("HAuM");r({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;o(t);var r=o(n.set);return i(e,(function(e){r.call(n,t(e),e)})),n}})},uqXc:function(e,t,n){var r=n("I+eb"),i=n("5Yz+");r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},uy83:function(e,t,n){var r=n("0Dky");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},v0j8:function(e,t,n){"use strict";n.r(t);var r=n("8ml+"),i=n("/7QA"),o=n("zWmH"),a=n("q1tI"),s=n.n(a),l=String(Math.random()),u=()=>(Object(a["useEffect"])((()=>{var e=new r["f"]({id:l,map:new o["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new i["DrawControl"](e,{defaultActiveType:"point",drawConfig:{point:{autoActive:!1,editable:!1,style:{point:{normal:{color:"#6F17FF"}}}},clear:!0}});e.addControl(t)}))}),[]),s.a.createElement("div",null,s.a.createElement("div",{id:l,style:{height:400,position:"relative"}})));t["default"]=u},v5b1:function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),o=n("6x0u"),a=n("ewvW"),s=n("wE6v"),l=n("4WOD"),u=n("Bs8V").f;i&&r({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(e){var t,n=a(this),r=s(e,!0);do{if(t=u(n,r))return t.get}while(n=l(n))}})},"vN+2":function(e,t){function n(){}e.exports=n},"vPd/":function(e,t,n){var r=n("kCCV"),i=n("IX3V").each;function o(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}o.prototype={constuctor:o,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=o},vRGJ:function(e,t,n){var r=n("AqCL");e.exports=y,e.exports.parse=o,e.exports.compile=a,e.exports.tokensToFunction=u,e.exports.tokensToRegExp=g;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";while(null!=(n=i.exec(e))){var u=n[0],p=n[1],d=n.index;if(s+=e.slice(a,d),a=d+u.length,p)s+=p[1];else{var h=e[a],v=n[2],m=n[3],g=n[4],y=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var E=null!=v&&null!=h&&h!==v,x="+"===b||"*"===b,w="?"===b||"*"===b,S=n[2]||l,O=g||y;r.push({name:m||o++,prefix:v||"",delimiter:S,optional:w,repeat:x,partial:E,asterisk:!!_,pattern:O?f(O):_?".*":"[^"+c(S)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e,t){return u(o(e,t),t)}function s(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function l(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",a=t||{},u=i||{},c=u.pretty?s:encodeURIComponent,f=0;f<e.length;f++){var p=e[f];if("string"!==typeof p){var d,h=a[p.name];if(null==h){if(p.optional){p.partial&&(o+=p.prefix);continue}throw new TypeError('Expected "'+p.name+'" to be defined')}if(r(h)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var v=0;v<h.length;v++){if(d=c(h[v]),!n[f].test(d))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===v?p.prefix:p.delimiter)+d}}else{if(d=p.asterisk?l(h):c(h),!n[f].test(d))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+d+'"');o+=p.prefix+d}}else o+=p}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function f(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function p(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function h(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return p(e,t)}function v(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(y(e[i],t,n).source);var o=new RegExp("(?:"+r.join("|")+")",d(n));return p(o,t)}function m(e,t,n){return g(o(e,n),t,n)}function g(e,t,n){r(t)||(n=t||n,t=[]),n=n||{};for(var i=n.strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var l=e[s];if("string"===typeof l)a+=c(l);else{var u=c(l.prefix),f="(?:"+l.pattern+")";t.push(l),l.repeat&&(f+="(?:"+u+f+")*"),f=l.optional?l.partial?u+"("+f+")?":"(?:"+u+"("+f+"))?":u+"("+f+")",a+=f}}var h=c(n.delimiter||"/"),v=a.slice(-h.length)===h;return i||(a=(v?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+h+"|$)",p(new RegExp("^"+a,d(n)),t)}function y(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?h(e,t):r(e)?v(e,t,n):m(e,t,n)}},vZi8:function(e,t,n){var r=n("I+eb"),i=n("YGK4"),o=n("eDxR"),a=n("glrk"),s=n("4WOD"),l=n("ImZN"),u=o.keys,c=o.toKey,f=function(e){var t=[];return l(e,t.push,t),t},p=function(e,t){var n=u(e,t),r=s(e);if(null===r)return n;var o=p(r,t);return o.length?n.length?f(new i(n.concat(o))):o:n};r({target:"Reflect",stat:!0},{getMetadataKeys:function(e){var t=arguments.length<2?void 0:c(arguments[1]);return p(a(e),t)}})},vdRX:function(e,t,n){var r=n("I+eb");r({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},viRO:function(e,t,n){"use strict";var r=n("MgzW"),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),l=f("react.forward_ref"),t.Suspense=f("react.suspense"),u=f("react.memo"),c=f("react.lazy")}var p="function"===typeof Symbol&&Symbol.iterator;function d(e){return null===e||"object"!==typeof e?null:(e=p&&e[p]||e["@@iterator"],"function"===typeof e?e:null)}function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var _=b.prototype=new y;_.constructor=b,r(_,g.prototype),_.isPureReactComponent=!0;var E={current:null},x=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&!w.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:E.current}}function O(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}function A(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}var P=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?A(""+e.key):t.toString(36)}function M(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return l=e,a=a(l),e=""===r?"."+k(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(P,"$&/")+"/"),M(a,t,n,"",(function(e){return e}))):null!=a&&(C(a)&&(a=O(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){s=e[u];var c=r+k(s,u);l+=M(s,t,n,c,a)}else if(c=d(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)s=s.value,c=r+k(s,u++),l+=M(s,t,n,c,a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function L(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function D(){var e=I.current;if(null===e)throw Error(h(321));return e}var R={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(h(143));return e}},t.Component=g,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!w.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},vo4V:function(e,t,n){var r=n("90hW"),i=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),l=o(2,127)*(2-s),u=o(2,-126),c=function(e){return e+1/a-1/a};e.exports=Math.fround||function(e){var t,n,o=i(e),f=r(e);return o<u?f*c(o/u/s)*u*s:(t=(1+s/a)*o,n=t-(t-o),n>l||n!=n?f*(1/0):f*n)}},voyM:function(e,t){e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},vuIU:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,"a",(function(){return i}))},vxnP:function(e,t,n){"use strict";var r=n("I+eb");r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},vzwy:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ppGB"),o=n("wg0c"),a="Invalid number representation",s="Invalid radix",l=/^[\da-z]+$/;r({target:"Number",stat:!0},{fromString:function(e,t){var n,r,u=1;if("string"!=typeof e)throw TypeError(a);if(!e.length)throw SyntaxError(a);if("-"==e.charAt(0)&&(u=-1,e=e.slice(1),!e.length))throw SyntaxError(a);if(n=void 0===t?10:i(t),n<2||n>36)throw RangeError(s);if(!l.test(e)||(r=o(e,n)).toString(n)!==e)throw SyntaxError(a);return u*r}})},"w/wX":function(e,t,n){var r=n("QqLw"),i=n("ExA7"),o="[object Set]";function a(e){return i(e)&&r(e)==o}e.exports=a},w1rZ:function(e,t,n){var r=n("I+eb"),i=n("fhKU");r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},w7s6:function(e,t,n){var r=n("I+eb");r({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},wE6v:function(e,t,n){var r=n("hh1v");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"wF/u":function(e,t,n){var r=n("e5cp"),i=n("ExA7");function o(e,t,n,a,s){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:r(e,t,n,a,o,s))}e.exports=o},wJg7:function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function i(e,t){var i=typeof e;return t=null==t?n:t,!!t&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}e.exports=i},wTVA:function(e,t){function n(e){if(Array.isArray(e))return e}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"wZ/5":function(e,t,n){"use strict";var r=n("I+eb"),i=n("2oRo"),o=n("Yhre"),a=n("JiZb"),s="ArrayBuffer",l=o[s],u=i[s];r({global:!0,forced:u!==l},{ArrayBuffer:l}),a(s)},wZXL:function(e,t,n){var r=n("vPd/"),i=n("IX3V"),o=i.each,a=i.isFunction,s=i.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,n){var i=this.queries,l=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,l)),a(t)&&(t={match:t}),s(t)||(t=[t]),o(t,(function(t){a(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=l},wclG:function(e,t,n){var r=n("pFRH"),i=n("88Gu"),o=i(r);e.exports=o},wfmh:function(e,t,n){var r=n("I+eb"),i=n("ImZN"),o=n("hBjN");r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){o(t,e,n)}),void 0,!0),t}})},wg0c:function(e,t,n){var r=n("2oRo"),i=n("WKiH").trim,o=n("WJkJ"),a=r.parseInt,s=/^[+-]?0[Xx]/,l=8!==a(o+"08")||22!==a(o+"0x16");e.exports=l?function(e,t){var n=i(String(e));return a(n,t>>>0||(s.test(n)?16:10))}:a},wgJM:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=function(e){return+setTimeout(e,16)},i=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(r=function(e){return window.requestAnimationFrame(e)},i=function(e){return window.cancelAnimationFrame(e)});var o=0,a=new Map;function s(e){a["delete"](e)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;o+=1;var n=o;function i(t){if(0===t)s(n),e();else{var o=r((function(){i(t-1)}));a.set(n,o)}}return i(t),n}l.cancel=function(e){var t=a.get(e);return s(t),i(t)}},wgYD:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),o=n("Cg3G");r({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},wkBT:function(e,t){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},wnjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n("xfSm"),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){var t=Reflect.getMetadata(r.PARAM_TYPES,e),n=Reflect.getMetadata(r.TAGGED,e);return{compilerGeneratedMetadata:t,userGeneratedMetadata:n||{}}},e.prototype.getPropertiesMetadata=function(e){var t=Reflect.getMetadata(r.TAGGED_PROP,e)||[];return t},e}();t.MetadataReader=i},wrZu:function(e,t,n){var r=n("+K+b"),i=n("XYm9"),o=n("b2z7"),a=n("otv/"),s=n("yP5f"),l="[object Boolean]",u="[object Date]",c="[object Map]",f="[object Number]",p="[object RegExp]",d="[object Set]",h="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",x="[object Int32Array]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",O="[object Uint16Array]",C="[object Uint32Array]";function A(e,t,n){var A=e.constructor;switch(t){case m:return r(e);case l:case u:return new A(+e);case g:return i(e,n);case y:case b:case _:case E:case x:case w:case S:case O:case C:return s(e,n);case c:return new A;case f:case h:return new A(e);case p:return o(e);case d:return new A;case v:return a(e)}}e.exports=A},wx14:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},wy8a:function(e,t,n){var r=n("KxBF");function i(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}e.exports=i},"x+uP":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("U8pU");function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var p={};function d(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(C([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=d.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,s,l){var u=f(e[o],e,a);if("throw"!==u.type){var c=u.arg,p=c.value;return p&&"object"==Object(r["a"])(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(p).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,l)}))}l(u.arg)}var o;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,u(b,"constructor",v),u(v,"constructor",h),h.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,l,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}},"x/xZ":function(e,t,n){"use strict";t["a"]=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1}},x2v5:function(e){e.exports=JSON.parse("{}")},x9Za:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=l,t.canUseDOM=t.slidesOnLeft=t.slidesOnRight=t.siblingDirection=t.getTotalSlides=t.getPostClones=t.getPreClones=t.getTrackLeft=t.getTrackAnimateCSS=t.getTrackCSS=t.checkSpecKeys=t.getSlideCount=t.checkNavigable=t.getNavigableIndexes=t.swipeEnd=t.swipeMove=t.swipeStart=t.keyHandler=t.changeSlide=t.slideHandler=t.initializedState=t.extractObject=t.canGoNext=t.getSwipeDirection=t.getHeight=t.getWidth=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.lazyStartIndex=t.getRequiredLazySlides=t.getOnDemandLazySlides=t.safePreventDefault=void 0;var r=i(n("q1tI"));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return Math.max(t,Math.min(e,n))}var u=function(e){var t=["onTouchStart","onTouchMove","onWheel"];t.includes(e._reactName)||e.preventDefault()};t.safePreventDefault=u;var c=function(e){for(var t=[],n=p(e),r=d(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t};t.getOnDemandLazySlides=c;var f=function(e){for(var t=[],n=p(e),r=d(e),i=n;i<r;i++)t.push(i);return t};t.getRequiredLazySlides=f;var p=function(e){return e.currentSlide-h(e)};t.lazyStartIndex=p;var d=function(e){return e.currentSlide+v(e)};t.lazyEndIndex=d;var h=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=h;var v=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=v;var m=function(e){return e&&e.offsetWidth||0};t.getWidth=m;var g=function(e){return e&&e.offsetHeight||0};t.getHeight=g;var y=function(e){var t,n,r,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),i=Math.round(180*r/Math.PI),i<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===o?i>=35&&i<=135?"up":"down":"vertical"};t.getSwipeDirection=y;var b=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=b;var _=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.extractObject=_;var E=function(e){var t,n=r["default"].Children.count(e.children),i=e.listRef,o=Math.ceil(m(i)),s=e.trackRef&&e.trackRef.node,l=Math.ceil(m(s));if(e.vertical)t=o;else{var u=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(u*=o/100),t=Math.ceil((o-u)/e.slidesToShow)}var f=i&&g(i.querySelector('[data-index="0"]')),p=f*e.slidesToShow,d=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(d=n-1-e.initialSlide);var h=e.lazyLoadedList||[],v=c(a(a({},e),{},{currentSlide:d,lazyLoadedList:h}));h=h.concat(v);var y={slideCount:n,slideWidth:t,listWidth:o,trackWidth:l,currentSlide:d,slideHeight:f,listHeight:p,lazyLoadedList:h};return null===e.autoplaying&&e.autoplay&&(y["autoplaying"]="playing"),y};t.initializedState=E;var x=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,o=e.index,s=e.slideCount,u=e.lazyLoad,f=e.currentSlide,p=e.centerMode,d=e.slidesToScroll,h=e.slidesToShow,v=e.useCSS,m=e.lazyLoadedList;if(t&&n)return{};var g,y,_,E=o,x={},w={},S=i?o:l(o,0,s-1);if(r){if(!i&&(o<0||o>=s))return{};o<0?E=o+s:o>=s&&(E=o-s),u&&m.indexOf(E)<0&&(m=m.concat(E)),x={animating:!0,currentSlide:E,lazyLoadedList:m,targetSlide:E},w={animating:!1,targetSlide:E}}else g=E,E<0?(g=E+s,i?s%d!==0&&(g=s-s%d):g=0):!b(e)&&E>f?E=g=f:p&&E>=s?(E=i?s:s-1,g=i?0:s-1):E>=s&&(g=E-s,i?s%d!==0&&(g=0):g=s-h),!i&&E+h>=s&&(g=s-h),y=D(a(a({},e),{},{slideIndex:E})),_=D(a(a({},e),{},{slideIndex:g})),i||(y===_&&(E=g),y=_),u&&(m=m.concat(c(a(a({},e),{},{currentSlide:E})))),v?(x={animating:!0,currentSlide:g,trackStyle:I(a(a({},e),{},{left:y})),lazyLoadedList:m,targetSlide:S},w={animating:!1,currentSlide:g,trackStyle:L(a(a({},e),{},{left:_})),swipeLeft:null,targetSlide:S}):x={currentSlide:g,trackStyle:L(a(a({},e),{},{left:_})),lazyLoadedList:m,targetSlide:S};return{state:x,nextState:w}};t.slideHandler=x;var w=function(e,t){var n,r,i,o,s,l=e.slidesToScroll,u=e.slidesToShow,c=e.slideCount,f=e.currentSlide,p=e.targetSlide,d=e.lazyLoad,h=e.infinite;if(o=c%l!==0,n=o?0:(c-f)%l,"previous"===t.message)i=0===n?l:u-n,s=f-i,d&&!h&&(r=f-i,s=-1===r?c-1:r),h||(s=p-l);else if("next"===t.message)i=0===n?l:n,s=f+i,d&&!h&&(s=(f+l)%c+n),h||(s=p+l);else if("dots"===t.message)s=t.index*t.slidesToScroll;else if("children"===t.message){if(s=t.index,h){var v=F(a(a({},e),{},{targetSlide:s}));s>t.currentSlide&&"left"===v?s-=c:s<t.currentSlide&&"right"===v&&(s+=c)}}else"index"===t.message&&(s=Number(t.index));return s};t.changeSlide=w;var S=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.keyHandler=S;var O=function(e,t,n){return"IMG"===e.target.tagName&&u(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeStart=O;var C=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,o=t.swipeToSlide,s=t.verticalSwiping,l=t.rtl,c=t.currentSlide,f=t.edgeFriction,p=t.edgeDragged,d=t.onEdge,h=t.swiped,v=t.swiping,m=t.slideCount,g=t.slidesToScroll,_=t.infinite,E=t.touchObject,x=t.swipeEvent,w=t.listHeight,S=t.listWidth;if(!n){if(r)return u(e);i&&o&&s&&u(e);var O,C={},A=D(t);E.curX=e.touches?e.touches[0].pageX:e.clientX,E.curY=e.touches?e.touches[0].pageY:e.clientY,E.swipeLength=Math.round(Math.sqrt(Math.pow(E.curX-E.startX,2)));var P=Math.round(Math.sqrt(Math.pow(E.curY-E.startY,2)));if(!s&&!v&&P>10)return{scrolling:!0};s&&(E.swipeLength=P);var k=(l?-1:1)*(E.curX>E.startX?1:-1);s&&(k=E.curY>E.startY?1:-1);var M=Math.ceil(m/g),T=y(t.touchObject,s),I=E.swipeLength;return _||(0===c&&("right"===T||"down"===T)||c+1>=M&&("left"===T||"up"===T)||!b(t)&&("left"===T||"up"===T))&&(I=E.swipeLength*f,!1===p&&d&&(d(T),C["edgeDragged"]=!0)),!h&&x&&(x(T),C["swiped"]=!0),O=i?A+I*(w/S)*k:l?A-I*k:A+I*k,s&&(O=A+I*k),C=a(a({},C),{},{touchObject:E,swipeLeft:O,trackStyle:L(a(a({},t),{},{left:O}))}),Math.abs(E.curX-E.startX)<.8*Math.abs(E.curY-E.startY)?C:(E.swipeLength>10&&(C["swiping"]=!0,u(e)),C)}};t.swipeMove=C;var A=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,o=t.listWidth,s=t.touchThreshold,l=t.verticalSwiping,c=t.listHeight,f=t.swipeToSlide,p=t.scrolling,d=t.onSwipe,h=t.targetSlide,v=t.currentSlide,m=t.infinite;if(!n)return r&&u(e),{};var g=l?c/s:o/s,b=y(i,l),_={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(p)return _;if(!i.swipeLength)return _;if(i.swipeLength>g){var E,x;u(e),d&&d(b);var w=m?v:h;switch(b){case"left":case"up":x=w+M(t),E=f?k(t,x):x,_["currentDirection"]=0;break;case"right":case"down":x=w-M(t),E=f?k(t,x):x,_["currentDirection"]=1;break;default:E=w}_["triggerSlideHandler"]=E}else{var S=D(t);_["trackStyle"]=I(a(a({},t),{},{left:S}))}return _};t.swipeEnd=A;var P=function(e){var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];while(n<t)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i};t.getNavigableIndexes=P;var k=function(e,t){var n=P(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t};t.checkNavigable=k;var M=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+g(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+m(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var o=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(n.dataset.index-o)||1;return a}return e.slidesToScroll};t.getSlideCount=M;var T=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=T;var L=function(e){var t,n;T(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=j(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=a(a({},i),{},{WebkitTransform:o,transform:s,msTransform:l})}else e.vertical?i["top"]=e.left:i["left"]=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i};t.getTrackCSS=L;var I=function(e){T(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=L(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=I;var D=function(e){if(e.unslick)return 0;T(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,o=e.infinite,a=e.centerMode,s=e.slideCount,l=e.slidesToShow,u=e.slidesToScroll,c=e.slideWidth,f=e.listWidth,p=e.variableWidth,d=e.slideHeight,h=e.fade,v=e.vertical,m=0,g=0;if(h||1===e.slideCount)return 0;var y=0;if(o?(y=-R(e),s%u!==0&&r+u>s&&(y=-(r>s?l-(r-s):s%u)),a&&(y+=parseInt(l/2))):(s%u!==0&&r+u>s&&(y=l-s%u),a&&(y=parseInt(l/2))),m=y*c,g=y*d,t=v?r*d*-1+g:r*c*-1+m,!0===p){var b,_=i&&i.node;if(b=r+R(e),n=_&&_.childNodes[b],t=n?-1*n.offsetLeft:0,!0===a){b=o?r+R(e):r,n=_&&_.children[b],t=0;for(var E=0;E<b;E++)t-=_&&_.children[E]&&_.children[E].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(f-n.offsetWidth)/2}}return t};t.getTrackLeft=D;var R=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=R;var N=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=N;var j=function(e){return 1===e.slideCount?1:R(e)+e.slideCount+N(e)};t.getTotalSlides=j;var F=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+B(e)?"left":"right":e.targetSlide<e.currentSlide-U(e)?"right":"left"};t.siblingDirection=F;var B=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var o=(t-1)/2+1;return parseInt(i)>0&&(o+=1),r&&t%2===0&&(o+=1),o}return r?0:t-1};t.slidesOnRight=B;var U=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var o=(t-1)/2+1;return parseInt(i)>0&&(o+=1),r||t%2!==0||(o+=1),o}return r?t-1:0};t.slidesOnLeft=U;var z=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)};t.canUseDOM=z},xDBR:function(e,t){e.exports=!1},xYSL:function(e,t){function n(e,t){return e.has(t)}e.exports=n},xbqb:function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},xfSm:function(e,t,n){"use strict";function r(){return[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]}Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=r()},xfeJ:function(e,t){function n(e){return-1!==Function.toString.call(e).indexOf("[native code]")}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},xgbS:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("Q7Ls"),s=n("S2ku"),l=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"\u7ed8\u5236\u63a7\u4ef6-drawcontrol"},i.a.createElement(o["AnchorLink"],{to:"#\u7ed8\u5236\u63a7\u4ef6-drawcontrol","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u7ed8\u5236\u63a7\u4ef6 DrawControl"),i.a.createElement("h2",{id:"\u8bf4\u660e"},i.a.createElement(o["AnchorLink"],{to:"#\u8bf4\u660e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u8bf4\u660e"),i.a.createElement("p",null,i.a.createElement("code",null,"DrawControl")," \u57fa\u4e8e L7 \u7684 Control\uff0c\u7528\u4e8e\u5728\u5730\u56fe\u4e0a\u5c55\u793a\u7ed8\u5236\u63a7\u4ef6\uff0c\u53ef\u4ee5\u901a\u8fc7\u63a7\u4ef6\u64cd\u63a7\u4e0d\u540c\u7c7b\u578b\u7ed8\u5236\u7684\u5f00\u5173\u4ee5\u53ca\u6e05\u7a7a\u7b49\u64cd\u4f5c\u3002"),i.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/rms_2591f5/afts/img/A*uP8AQJ-uBVEAAAAAAAAAAAAAARQnAQ",width:200}),i.a.createElement("h2",{id:"\u793a\u4f8b"},i.a.createElement(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b"),i.a.createElement(a["a"],{code:"import { DrawControl } from '@antv/l7-draw';\n\n// \u5b9e\u4f8b\u5316 DrawControl \u5b9e\u4f8b\nconst drawControl = new DrawControl(scene, {\n  // DrawControl \u53c2\u6570\n  defaultActiveType: 'point',\n});\n\n// \u5c06 Control \u6dfb\u52a0\u81f3\u5730\u56fe\u4e2d\nscene.addControl(drawControl);",lang:"tsx"}),i.a.createElement("h2",{id:"\u914d\u7f6e"},i.a.createElement(o["AnchorLink"],{to:"#\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u914d\u7f6e"),i.a.createElement("p",null,"options \u914d\u7f6e\u662f Draw \u5b9e\u4f8b\u5316\u7684\u65f6\u5019\uff0c\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u6240\u6709\u7684 options \u914d\u7f6e\u5747\u4e0d\u662f\u5fc5\u4f20\u9879\u3002"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"),i.a.createElement("th",null,"\u793a\u4f8b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"drawConfig"),i.a.createElement("td",null,"\u7ed8\u5236\u6309\u94ae\u53ca\u7ed8\u5236\u53c2\u6570\u914d\u7f6e"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"#drawbtnconfig"},"DrawBtnConfig")),i.a.createElement("td",null,"{"," ",i.a.createElement("br",null),"point: true,",i.a.createElement("br",null),"line: true,",i.a.createElement("br",null),"polygon: true,",i.a.createElement("br",null),"rect: true,",i.a.createElement("br",null),"circle: true,",i.a.createElement("br",null),"clear: true,",i.a.createElement("br",null)," ","}"),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/control/draw"},"\u914d\u7f6e\u5c55\u793a\u6309\u94ae"))),i.a.createElement("tr",null,i.a.createElement("td",null,"commonDrawOptions"),i.a.createElement("td",null,"\u5404\u4e2a\u7ed8\u5236\u7c7b\u5b9e\u4f8b\u5316\u65f6\u5019\u7684\u901a\u7528\u914d\u7f6e"),i.a.createElement("td",null,"\u8be6\u60c5\u89c1\u5404\u4e2a\u7ed8\u5236\u7c7b\u7684\u914d\u7f6e"),i.a.createElement("td",null,i.a.createElement("code",null,"{","}")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/control/common"},"\u901a\u7528 Draw \u914d\u7f6e"))),i.a.createElement("tr",null,i.a.createElement("td",null,"defaultActiveType"),i.a.createElement("td",null,"\u9ed8\u8ba4\u6fc0\u6d3b\u7684\u7ed8\u5236\u7c7b\u578b"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"#drawtype"},"DrawType")," ",i.a.createElement("code",null,"| null")),i.a.createElement("td",null,i.a.createElement("code",null,"null")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/control/start"},"\u5feb\u901f\u5f00\u59cb"))),i.a.createElement("tr",null,i.a.createElement("td",null,"className"),i.a.createElement("td",null,"\u63a7\u4ef6 ",i.a.createElement("code",null,"DOM")," \u7684 ",i.a.createElement("code",null,"class")),i.a.createElement("td",null,i.a.createElement("code",null,"string")),i.a.createElement("td",null,i.a.createElement("code",null,"''")),i.a.createElement("td",null,"-")),i.a.createElement("tr",null,i.a.createElement("td",null,"style"),i.a.createElement("td",null,"\u63a7\u4ef6 ",i.a.createElement("code",null,"DOM")," \u7684 ",i.a.createElement("code",null,"style")),i.a.createElement("td",null,i.a.createElement("code",null,"string")),i.a.createElement("td",null,i.a.createElement("code",null,"''")),i.a.createElement("td",null,"-")),i.a.createElement("tr",null,i.a.createElement("td",null,"buttonClassName"),i.a.createElement("td",null,"\u63a7\u4ef6\u4e2d\u6309\u94ae ",i.a.createElement("code",null,"DOM")," \u7684 ",i.a.createElement("code",null,"class")),i.a.createElement("td",null,i.a.createElement("code",null,"string")),i.a.createElement("td",null,i.a.createElement("code",null,"''")),i.a.createElement("td",null,"-")),i.a.createElement("tr",null,i.a.createElement("td",null,"activeButtonClassName"),i.a.createElement("td",null,"\u63a7\u4ef6\u4e2d\u6309\u94ae\u6fc0\u6d3b\u65f6 ",i.a.createElement("code",null,"DOM")," \u7684 ",i.a.createElement("code",null,"class")),i.a.createElement("td",null,i.a.createElement("code",null,"string")),i.a.createElement("td",null,i.a.createElement("code",null,"''")),i.a.createElement("td",null,"-")))),i.a.createElement("h3",{id:"drawbtnconfig"},i.a.createElement(o["AnchorLink"],{to:"#drawbtnconfig","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"DrawBtnConfig"),i.a.createElement(a["a"],{code:"type DrawBtnConfig = {\n  point?: boolean | DeepPartial<IPointDrawerOptions>;\n  line?: boolean | DeepPartial<ILineDrawerOptions>;\n  polygon?: boolean | DeepPartial<IPolygonDrawerOptions>;\n  rect?: boolean | DeepPartial<IRectDrawerOptions>;\n  circle?: boolean | DeepPartial<ICircleDrawerOptions>;\n  clear?: boolean;\n};",lang:"ts"}),i.a.createElement("h3",{id:"drawtype"},i.a.createElement(o["AnchorLink"],{to:"#drawtype","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"DrawType"),i.a.createElement(a["a"],{code:"type DrawType = 'point' | 'line' | 'polygon' | 'rect' | 'circle';",lang:"ts"}),i.a.createElement("h2",{id:"\u65b9\u6cd5"},i.a.createElement(o["AnchorLink"],{to:"#\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u65b9\u6cd5"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"getActiveType"),i.a.createElement("td",null,"\u83b7\u53d6\u5f53\u524d\u6fc0\u6d3b\u7684\u7ed8\u5236\u7c7b\u578b"),i.a.createElement("td",null,i.a.createElement("code",null,"() => DrawType | null"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setActiveType"),i.a.createElement("td",null,"\u8bbe\u7f6e\u5f53\u524d\u6fc0\u6d3b\u7684\u7ed8\u5236\u7c7b\u578b\uff0c\u82e5\u5f53\u524d\u4f20\u5165\u7684\u7ed8\u5236\u7c7b\u578b\u5df2\u7ecf\u6fc0\u6d3b\u5219\u4f1a\u53d6\u6d88\u6fc0\u6d3b"),i.a.createElement("td",null,i.a.createElement("code",null,"(DrawType | null) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"getDrawData"),i.a.createElement("td",null,"\u83b7\u53d6\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"() => Record<DrawType, Feature[]>"))),i.a.createElement("tr",null,i.a.createElement("td",null,"getTypeDraw"),i.a.createElement("td",null,"\u83b7\u53d6\u53c2\u6570\u7c7b\u578b\u5bf9\u5e94\u7684 ",i.a.createElement("code",null,"Draw")),i.a.createElement("td",null,i.a.createElement("code",null,"(type: DrawType) => Draw | null"))),i.a.createElement("tr",null,i.a.createElement("td",null,"clearDrawData"),i.a.createElement("td",null,"\u6e05\u9664\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))))),i.a.createElement("h2",{id:"\u4e8b\u4ef6"},i.a.createElement(o["AnchorLink"],{to:"#\u4e8b\u4ef6","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u4e8b\u4ef6"),i.a.createElement("p",null,i.a.createElement(o["Link"],{to:"/example/control/event"},"\u76d1\u542c\u4e8b\u4ef6\u793a\u4f8b")),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"ControlEvent.DrawChange | 'drawChange'"),i.a.createElement("td",null,"\u5f53\u6fc0\u6d3b\u7ed8\u5236\u53d8\u5316\u65f6\u89e6\u53d1"),i.a.createElement("td",null,i.a.createElement("code",null,"(type: DrawType | null) => void;"))),i.a.createElement("tr",null,i.a.createElement("td",null,"ControlEvent.DataChange | 'dataChange'"),i.a.createElement("td",null,"\u5f53\u7ed8\u5236\u6570\u636e\u53d1\u751f\u66f4\u6539\u65f6\u89e6\u53d1"),i.a.createElement("td",null,i.a.createElement("code",null,"(drawData: Record<DrawType, Feature[]>) => void;")))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(l,{demos:n})}},xiII:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n("d9O0"),i=function(){function e(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},xkdA:function(e,t,n){"use strict";var r=n("CxY0"),i={};function o(e){if("string"!==typeof e||!e.length)return null;if(-1!==e.indexOf("git@gist")||-1!==e.indexOf("//gist"))return null;var t=r.parse(e);if("string"!==typeof t.path||!t.path.length||"string"!==typeof t.pathname||!t.pathname.length)return null;t.host||!0!==/^git@/.test(e)||(t.host=r.parse("http://"+e).host),t.path=l(t.path),t.pathname=l(t.pathname),t.filepath=null,0===t.path.indexOf("repos")&&(t.path=t.path.slice(6));var n=t.path.split("/").filter(Boolean),i="blob"===n[2];i&&!a(n[3])&&(t.branch=n[3],n.length>4&&(t.filepath=n.slice(4).join("/")));var o=e.indexOf("blob");-1!==o&&(t.blob=e.slice(o+5));var f=e.indexOf("tree");if(-1!==f){var p=f+5,d=e.slice(p),h=d.indexOf("/");-1!==h&&(d=d.slice(0,h)),t.branch=d}if(t.owner=c(n[0]),t.name=u(n[1]),n.length>1&&t.owner&&t.name)t.repo=t.owner+"/"+t.name;else{var v=t.href.split(":");if(2===v.length&&-1===t.href.indexOf("//")){t.repo=t.repo||v[v.length-1];var m=t.repo.split("/");t.owner=m[0],t.name=m[1]}else{var g=t.href.match(/\/([^\/]*)$/);t.owner=g?g[1]:null,t.repo=null}if(t.repo&&(!t.owner||!t.name)){var y=t.repo.split("/");2===y.length&&(t.owner=y[0],t.name=y[1])}}return t.branch||(t.branch=n[2]||s(t.path,t),n.length>3&&(t.filepath=n.slice(3).join("/"))),t.host=t.host||"github.com",t.owner=t.owner||null,t.name=t.name||null,t.repository=t.repo,t}function a(e){return/^[a-f0-9]{40}$/i.test(e)}function s(e,t){var n,r=e.split("#");return r.length>1&&(n=r[r.length-1]),!n&&t.hash&&"#"===t.hash.charAt(0)&&(n=t.hash.slice(1)),n||"master"}function l(e){return"/"===e.charAt(0)?e.slice(1):e}function u(e){return e?e.replace(/^\W+|\.git$/g,""):null}function c(e){if(!e)return null;var t=e.indexOf(":");return t>-1?e.slice(t+1):e}e.exports=function(e){return i[e]||(i[e]=o(e))}},xnQO:function(e,t,n){"use strict";function r(e,t){this.x=e,this.y=t}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),o=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},xp6e:function(e,t,n){"use strict";(function(e){function r(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function o(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function a(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function l(e,t){return t={exports:{}},e(t,t.exports),t.exports}n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return D}));var u=l((function(e,t){function n(e){return e&&"number"===typeof e.length&&e.length>=0&&e.length%1===0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}));s(u);var c=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=t.pop();return e.call(this,t,r)}},e.exports=t["default"]}));s(c);var f=l((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fallback=a,n.wrap=s;var r,i=n.hasSetImmediate="function"===typeof setImmediate&&setImmediate,o=n.hasNextTick="object"===typeof e&&"function"===typeof e.nextTick;function a(e){setTimeout(e,0)}function s(e){return function(t){var n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return e((function(){return t.apply(void 0,n)}))}}r=i?setImmediate:o?e.nextTick:a,n["default"]=s(r)}));s(f);f.fallback,f.wrap,f.hasSetImmediate,f.hasNextTick;var p=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var n=i(c),r=i(f);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,d.isAsync)(e)?function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=t.pop(),i=e.apply(this,t);return a(i,r)}:(0,n["default"])((function(t,n){var r;try{r=e.apply(this,t)}catch(i){return n(i)}if(r&&"function"===typeof r.then)return a(r,n);n(null,r)}))}function a(e,t){return e.then((function(e){s(t,null,e)}),(function(e){s(t,e&&e.message?e:new Error(e))}))}function s(e,t,n){try{e(t,n)}catch(i){(0,r["default"])((function(e){throw e}),i)}}e.exports=t["default"]}));s(p);var d=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=t.isAsyncGenerator=t.isAsync=void 0;var n=r(p);function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"AsyncFunction"===e[Symbol.toStringTag]}function o(e){return"AsyncGenerator"===e[Symbol.toStringTag]}function a(e){return"function"===typeof e[Symbol.asyncIterator]}function s(e){if("function"!==typeof e)throw new Error("expected a function");return i(e)?(0,n["default"])(e):e}t["default"]=s,t.isAsync=i,t.isAsyncGenerator=o,t.isAsyncIterable=a}));s(d);d.isAsyncIterable,d.isAsyncGenerator,d.isAsync;var h=l((function(e,t){function n(e,t){if(void 0===t&&(t=e.length),!t)throw new Error("arity is undefined");function n(){var n=this,r=[],i=arguments.length;while(i--)r[i]=arguments[i];return"function"===typeof r[t-1]?e.apply(this,r):new Promise((function(i,o){r[t-1]=function(e){var t=[],n=arguments.length-1;while(n-- >0)t[n]=arguments[n+1];if(e)return o(e);i(t.length>1?t:t[0])},e.apply(n,r)}))}return Object.defineProperty(n,"name",{configurable:!0,value:"awaitable("+e.name+")"}),n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}));s(h);var v=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=o(u),r=o(d),i=o(h);function o(e){return e&&e.__esModule?e:{default:e}}t["default"]=(0,i["default"])((function(e,t,i){var o=(0,n["default"])(t)?[]:{};e(t,(function(e,t,n){(0,r["default"])(e)((function(e){var r,i=[],a=arguments.length-1;while(a-- >0)i[a]=arguments[a+1];i.length<2&&(r=i,i=r[0]),o[t]=i,n(e)}))}),(function(e){return i(e,o)}))}),3),e.exports=t["default"]}));s(v);var m=l((function(e,t){function n(e){function t(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}));s(m);var g=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()},e.exports=t["default"]}));s(g);var y=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=l;var n=i(u),r=i(g);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}function a(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}function s(e){var t=e?Object.keys(e):[],n=-1,r=t.length;return function(){var i=t[++n];return n<r?{value:e[i],key:i}:null}}function l(e){if((0,n["default"])(e))return o(e);var t=(0,r["default"])(e);return t?a(t):s(e)}e.exports=t["default"]}));s(y);var b=l((function(e,t){function n(e){return function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}));s(b);var _=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={};t["default"]=n,e.exports=t["default"]}));s(_);var E=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var n=r(_);function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,i){var o=!1,a=!1,s=!1,l=0,u=0;function c(){l>=t||s||o||(s=!0,e.next().then((function(e){var t=e.value,n=e.done;if(!a&&!o){if(s=!1,n)return o=!0,void(l<=0&&i(null));l++,r(t,u,f),u++,c()}}))["catch"](p))}function f(e,t){if(l-=1,!a)return e?p(e):!1===e?(o=!0,void(a=!0)):t===n["default"]||o&&l<=0?(o=!0,i(null)):void c()}function p(e){a||(s=!1,o=!0,i(e))}c()}e.exports=t["default"]}));s(E);var x=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=s(m),r=s(y),i=s(b),o=s(E),a=s(_);function s(e){return e&&e.__esModule?e:{default:e}}t["default"]=function(e){return function(t,s,l){if(l=(0,n["default"])(l),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return l(null);if((0,d.isAsyncGenerator)(t))return(0,o["default"])(t,e,s,l);if((0,d.isAsyncIterable)(t))return(0,o["default"])(t[Symbol.asyncIterator](),e,s,l);var u=(0,r["default"])(t),c=!1,f=!1,p=0,h=!1;function v(e,t){if(!f)if(p-=1,e)c=!0,l(e);else if(!1===e)c=!0,f=!0;else{if(t===a["default"]||c&&p<=0)return c=!0,l(null);h||m()}}function m(){h=!0;while(p<e&&!c){var t=u();if(null===t)return c=!0,void(p<=0&&l(null));p+=1,s(t.value,t.key,(0,i["default"])(v))}h=!1}m()}},e.exports=t["default"]}));s(x);var w=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=o(x),r=o(d),i=o(h);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,i,o){return(0,n["default"])(t)(e,(0,r["default"])(i),o)}t["default"]=(0,i["default"])(a,4),e.exports=t["default"]}));s(w);var S=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=i(w),r=i(h);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return(0,n["default"])(e,1,t,r)}t["default"]=(0,r["default"])(o,3),e.exports=t["default"]}));s(S);var O=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var n=i(v),r=i(S);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,n["default"])(r["default"],e,t)}e.exports=t["default"]})),C=s(O),A=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.args=[],this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return this.args=t,C(this.tasks)},e.prototype.tap=function(e,t){var n=this;this.tasks.push((function(r){t.apply(void 0,a(n.args)),r(null,e)}))},e}(),P=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=c(u),r=c(_),i=c(w),o=c(m),a=c(b),s=c(d),l=c(h);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){n=(0,o["default"])(n);var i=0,s=0,l=e.length,u=!1;function c(e,t){!1===e&&(u=!0),!0!==u&&(e?n(e):++s!==l&&t!==r["default"]||n(null))}for(0===l&&n(null);i<l;i++)t(e[i],i,(0,a["default"])(c))}function p(e,t,n){return(0,i["default"])(e,1/0,t,n)}function v(e,t,r){var i=(0,n["default"])(e)?f:p;return i(e,(0,s["default"])(t),r)}t["default"]=(0,l["default"])(v,3),e.exports=t["default"]}));s(P);var k=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var n=i(P),r=i(v);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,r["default"])(n["default"],e,t)}e.exports=t["default"]})),M=s(k),T=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.tasks=[]}return e.prototype.promise=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return M(this.tasks)},e.prototype.tapPromise=function(e,t){var n=this;this.tasks.push((function(o){return r(n,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return n.sent(),o(null,e),[2]}}))}))}))},e}(),L=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=a(m),r=a(b),i=a(d),o=a(h);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(t=(0,n["default"])(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var o=0;function a(t){var n=(0,i["default"])(e[o++]);n.apply(void 0,t.concat([(0,r["default"])(s)]))}function s(n){var r=[],i=arguments.length-1;while(i-- >0)r[i]=arguments[i+1];if(!1!==n)return n||o===e.length?t.apply(void 0,[n].concat(r)):void a(r)}a([])}t["default"]=(0,o["default"])(s),e.exports=t["default"]})),I=s(L),D=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return I(this.tasks)},e.prototype.tap=function(e,t){0===this.tasks.length?this.tasks.push((function(e){var n=t();e(!!n&&null,n)})):this.tasks.push((function(n,r){var i=t();r(!!i&&null,e)}))},e}(),R=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return C(this.tasks)},e.prototype.tap=function(e,t){this.tasks.push((function(n){var r=t();n(r,e)}))},e}()}).call(this,n("Q2Ig"))},xrYK:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},xs3f:function(e,t,n){var r=n("2oRo"),i=n("zk60"),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},"y/iv":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("Q7Ls"),s=n("S2ku"),l=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"\u7ed8\u5236\u70b9-drawpoint"},i.a.createElement(o["AnchorLink"],{to:"#\u7ed8\u5236\u70b9-drawpoint","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u7ed8\u5236\u70b9 DrawPoint"),i.a.createElement("h2",{id:"\u8bf4\u660e"},i.a.createElement(o["AnchorLink"],{to:"#\u8bf4\u660e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u8bf4\u660e"),i.a.createElement("p",null,i.a.createElement("code",null,"DrawPoint")," \u7528\u4e8e\u5728\u5730\u56fe\u4e0a\u7ed8\u5236\u70b9\u6570\u636e\u3002"),i.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/rms_2591f5/afts/img/A*dGjSSLNam8gAAAAAAAAAAAAAARQnAQ",width:300}),i.a.createElement("h2",{id:"\u793a\u4f8b"},i.a.createElement(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b"),i.a.createElement(a["a"],{code:"import { DrawEvent, DrawPoint } from '@antv/l7-draw';\n\n// \u5b9e\u4f8b\u5316\nconst drawer = new DrawPoint(scene, {\n  autoActive: false,\n  // Draw \u7684\u914d\u7f6e options\n});\n// \u5f00\u542f\u7ed8\u5236\ndrawer.enable();\n\n// \u76d1\u542c\u7ed8\u5236\u4e8b\u4ef6\ndrawer.on(DrawEvent.Change, (pointList) => {\n  console.log(pointList);\n});",lang:"tsx"}),i.a.createElement("h2",{id:"\u914d\u7f6e"},i.a.createElement(o["AnchorLink"],{to:"#\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u914d\u7f6e"),i.a.createElement("p",null,"options \u914d\u7f6e\u662f Draw \u5b9e\u4f8b\u5316\u7684\u65f6\u5019\uff0c\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u6240\u6709\u7684 options \u914d\u7f6e\u5747\u4e0d\u662f\u5fc5\u4f20\u9879\u3002"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"),i.a.createElement("th",null,"\u793a\u4f8b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"initialData"),i.a.createElement("td",null,"\u8bbe\u7f6e Draw \u7684\u521d\u59cb\u6570\u636e\uff0c",i.a.createElement("code",null,"GeoJSON")," \u7c7b\u578b\u4e2d\u7684 ",i.a.createElement(o["Link"],{to:"https://datatracker.ietf.org/doc/html/rfc7946#section-3.1.2"},"Point")," \u6570\u7ec4"),i.a.createElement("td",null,i.a.createElement("code",null,"Feature[]")),i.a.createElement("td",null,i.a.createElement("code",null,"[]")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/point/initial-data"},"\u521d\u59cb\u5316\u6570\u636e\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"autoActive"),i.a.createElement("td",null,"\u65b0\u521b\u5efa\u7684 Point \u662f\u5426\u5c55\u793a\u4e3a\u6fc0\u6d3b\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/point/auto-active"},"\u5173\u95ed\u81ea\u52a8\u6fc0\u6d3b\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"editable"),i.a.createElement("td",null,"\u7ed8\u5236\u7684 Point \u662f\u5426\u652f\u6301\u4e8c\u6b21\u7f16\u8f91\uff08\u62d6\u62fd\u4f4d\u79fb\uff09"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/point/editable"},"\u7981\u7528\u7f16\u8f91\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"multiple"),i.a.createElement("td",null,"Draw \u662f\u5426\u652f\u6301\u7ed8\u5236\u591a\u4e2a\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/example/point/multiple#%E5%A7%8B%E7%BB%88%E6%9C%80%E5%A4%9A%E7%BB%98%E5%88%B6%E4%B8%80%E4%B8%AA"},"\u7981\u6b62\u7ed8\u5236\u591a\u4e2a"))),i.a.createElement("tr",null,i.a.createElement("td",null,"style"),i.a.createElement("td",null,"Point \u5728\u4e0d\u540c\u72b6\u6001\u4e0b\u7684\u6837\u5f0f"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/docs/super/style#%E9%85%8D%E7%BD%AE"},"Style")),i.a.createElement("td",null,"-"),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/point/image"},"\u4f7f\u7528\u56fe\u7247\u793a\u4f8b"),", ",i.a.createElement(o["Link"],{to:"/example/point/style"},"\u81ea\u5b9a\u4e49\u6837\u5f0f\u793a\u4f8b"))),i.a.createElement("tr",null,i.a.createElement("td",null,"helper"),i.a.createElement("td",null,"\u7ed8\u5236\u63d0\u793a\u6587\u6848\u7684\u914d\u7f6e\uff0c\u652f\u6301\u4f20\u5165 ",i.a.createElement("code",null,"string | Element | DocumentFragment")," \u5728\u63d0\u793a\u6846\u4e2d\u8fdb\u884c\u6e32\u67d3\uff0c\u4f20 ",i.a.createElement("code",null,"false")," \u4e3a\u5173\u95ed\u63d0\u793a\u7ed8\u5236"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"#helper"},"Helper")," | ",i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/common/helper"},"\u63d0\u793a\u6587\u6848"))),i.a.createElement("tr",null,i.a.createElement("td",null,"popup"),i.a.createElement("td",null,"\u7ed8\u5236\u63d0\u793a\u6846\u914d\u7f6e\uff0c\u8be6\u7ec6\u914d\u7f6e\u53ef\u89c1 ",i.a.createElement(o["Link"],{to:"https://atomiks.github.io/tippyjs/v6/all-props/"},"Tippy.js"),"\uff0c\u4f20 ",i.a.createElement("code",null,"false")," \u4e3a\u5173\u95ed\u63d0\u793a\u6846"),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"https://atomiks.github.io/tippyjs/v6/all-props/"},"TippyProps")," | ",i.a.createElement("code",null,"boolean")),i.a.createElement("td",null,i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement(o["Link"],{to:"/example/common/helper"},"\u63d0\u793a\u6587\u6848"))),i.a.createElement("tr",null,i.a.createElement("td",null,"keyboard"),i.a.createElement("td",null,"\u81ea\u5b9a\u4e49\u5feb\u6377\u952e\u745f\u662f\u5426\u5f00\u542f\uff0c\u4ee5\u53ca\u5bf9\u5e94\u7684\u6309\u952e"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/docs/super/keyboard#%E9%85%8D%E7%BD%AE"},"Keyboard")),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-")),i.a.createElement("tr",null,i.a.createElement("td",null,"history"),i.a.createElement("td",null,"\u4fdd\u5b58\u5386\u53f2\u7ed8\u5236\u6570\u636e\u7684\u76f8\u5173\u914d\u7f6e\uff0c\u6d89\u53ca\u5230\u56de\u9000\u64cd\u4f5c\u7684\u6700\u5927\u64cd\u4f5c\u6b21\u6570"),i.a.createElement("td",null,i.a.createElement(o["AnchorLink"],{to:"/docs/super/history#%E9%85%8D%E7%BD%AE"},"History")),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-")))),i.a.createElement("h3",{id:"helper"},i.a.createElement(o["AnchorLink"],{to:"#helper","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"Helper"),i.a.createElement(s["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"draw"),i.a.createElement("td",null,"\u7ed8\u5236\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u5355\u51fb\u7ed8\u5236\u70b9'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"pointHover"),i.a.createElement("td",null,"\u5149\u6807\u60ac\u505c\u5728\u70b9\u4e0a\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"'\u53ef\u62d6\u62fd\u8c03\u6574\u70b9\u4f4d\u7f6e'"))),i.a.createElement("tr",null,i.a.createElement("td",null,"pointDrag"),i.a.createElement("td",null,"\u62d6\u62fd\u70b9\u65f6\u7684\u63d0\u793a"),i.a.createElement("td",null,i.a.createElement("code",null,"null"))))),i.a.createElement("h2",{id:"\u65b9\u6cd5"},i.a.createElement(o["AnchorLink"],{to:"#\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u65b9\u6cd5")),i.a.createElement(i.a.Fragment,{children:i.a.createElement(n("y61B").default)}),i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u4e8b\u4ef6"},i.a.createElement(o["AnchorLink"],{to:"#\u4e8b\u4ef6","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u4e8b\u4ef6"),i.a.createElement("p",null,i.a.createElement(o["Link"],{to:"/example/point/event"},"\u76d1\u542c\u4e8b\u4ef6\u793a\u4f8b"))),i.a.createElement(i.a.Fragment,{children:i.a.createElement(n("BAzh").default)})))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(l,{demos:n})}},y1pI:function(e,t,n){var r=n("ljhN");function i(e,t){var n=e.length;while(n--)if(r(e[n][0],t))return n;return-1}e.exports=i},y61B:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("S2ku"),s=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement(a["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"enable"),i.a.createElement("td",null,"\u5f00\u542f\u7ed8\u5236\uff0c\u53c2\u6570 ",i.a.createElement("code",null,"allowCreate")," \u7528\u4e8e\u63a7\u5236 ",i.a.createElement("code",null,"enable")," \u4e4b\u540e\u662f\u5426\u652f\u6301\u65b0\u589e\u7ed8\u5236\u7269\uff0c\u4f20 ",i.a.createElement("code",null,"false")," \u8868\u793a\u53ea\u5141\u8bb8\u7f16\u8f91\u4e0d\u5141\u8bb8\u65b0\u589e\uff0c\u9ed8\u8ba4\u4e3a ",i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement("code",null,"(allowCreate: boolean = true) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"disable"),i.a.createElement("td",null,"\u5173\u95ed\u7ed8\u5236"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"getData"),i.a.createElement("td",null,"\u83b7\u53d6\u5f53\u671f\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"() => Feature[]"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setData"),i.a.createElement("td",null,"\u8986\u76d6\u5e76\u8bbe\u7f6e\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"(features: Feature[]) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"clear"),i.a.createElement("td",null,"\u6e05\u7a7a\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"(disable: boolean) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"show"),i.a.createElement("td",null,"\u663e\u793a\u8be5 Draw \u4e0b\u6240\u6709\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"hide"),i.a.createElement("td",null,"\u9690\u85cf\u8be5 Draw \u4e0b\u6240\u6709\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setActiveFeature"),i.a.createElement("td",null,"\u5c06\u76ee\u6807 Feature \u8bbe\u4e3a\u6fc0\u6d3b\u6001\uff0c\u53ef\u4f20\u76ee\u6807 ",i.a.createElement("code",null,"Feature")," \u672c\u8eab\u6216\u5176 ",i.a.createElement("code",null,"id"),"\uff0c\u4f20 ",i.a.createElement("code",null,"null")," \u6216 ",i.a.createElement("code",null,"undefined")," \u5219\u53d6\u6d88\u6fc0\u6d3b\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"(feature: Feature | string | null | undefined) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"getRenderLayers"),i.a.createElement("td",null,"\u83b7\u53d6\u4e0d\u540c\u6e32\u67d3\u7c7b\u578b\u5bf9\u5e94\u7684 L7 \u539f\u751f\u56fe\u5c42"),i.a.createElement("td",null,i.a.createElement("code",null,"() => ","{"," [key: RenderType]: ILayer[] ","}"))),i.a.createElement("tr",null,i.a.createElement("td",null,"resetFeatures"),i.a.createElement("td",null,"\u6e05\u9664\u5f53\u524d\u6b63\u5728\u7ed8\u5236\u7684\u7ed8\u5236\u7269\uff0c\u540c\u65f6\u5c06\u6fc0\u6d3b\u7684\u7ed8\u5236\u7269\u7f6e\u4e3a\u666e\u901a\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"removeActiveFeature"),i.a.createElement("td",null,"\u5220\u9664\u5f53\u524d\u6fc0\u6d3b\u72b6\u6001\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"removeFeature"),i.a.createElement("td",null,"\u5220\u9664\u76ee\u6807 Feature \uff0c\u5c06\u76ee\u6807 Feature \u8bbe\u4e3a\u6fc0\u6d3b\u6001\uff0c\u53ef\u4f20\u76ee\u6807 Feature \u672c\u8eab\u6216\u5176 ",i.a.createElement("code",null,"properties")," \u4e2d ",i.a.createElement("code",null,"id")," \u5b57\u6bb5"),i.a.createElement("td",null,i.a.createElement("code",null,"(feature: Feature | string) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"isEnable"),i.a.createElement("td",null,"\u5224\u65ad\u5f53\u524d Draw \u662f\u5426\u5728\u7ed8\u5236\u72b6\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"() => boolean"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setHelper"),i.a.createElement("td",null,"\u8bbe\u7f6e\u5f53\u524d\u7ed8\u5236\u63d0\u793a\u6587\u6848\uff0c\u5efa\u8bae\u901a\u8fc7\u914d\u7f6e\u8fdb\u884c\u81ea\u5b9a\u4e49\u800c\u975e\u624b\u52a8\u8c03\u7528\u8be5\u65b9\u6cd5"),i.a.createElement("td",null,i.a.createElement("code",null,"(content: string | Element | DocumentFragment) => boolean"))),i.a.createElement("tr",null,i.a.createElement("td",null,"revertHistory"),i.a.createElement("td",null,"\u56de\u9000\u81f3\u4e0a\u4e00\u6b21\u4fdd\u5b58\u7684\u7ed8\u5236\u72b6\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"() => SourceData | undefined"))),i.a.createElement("tr",null,i.a.createElement("td",null,"redoHistory"),i.a.createElement("td",null,"\u91cd\u7f6e\u5230\u4e0a\u4e00\u6b21\u56de\u9000"),i.a.createElement("td",null,i.a.createElement("code",null,"() => SourceData | undefined"))),i.a.createElement("tr",null,i.a.createElement("td",null,"destroy"),i.a.createElement("td",null,"\u9500\u6bc1\u5f53\u524d Draw \u5b9e\u4f8b"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},yG8O:function(e,t){function n(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},yGk4:function(e,t,n){var r=n("Cwc5"),i=n("Kz5y"),o=r(i,"Set");e.exports=o},yHx3:function(e,t){var n=Object.prototype,r=n.hasOwnProperty;function i(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}e.exports=i},yLy4:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("S2ku"),s=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement(a["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u540d\u79f0"),i.a.createElement("th",null,"\u8bf4\u660e"),i.a.createElement("th",null,"\u7c7b\u578b"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"enable"),i.a.createElement("td",null,"\u5f00\u542f\u7ed8\u5236\uff0c\u53c2\u6570 ",i.a.createElement("code",null,"allowCreate")," \u7528\u4e8e\u63a7\u5236 ",i.a.createElement("code",null,"enable")," \u4e4b\u540e\u662f\u5426\u652f\u6301\u65b0\u589e\u7ed8\u5236\u7269\uff0c\u4f20 ",i.a.createElement("code",null,"false")," \u8868\u793a\u53ea\u5141\u8bb8\u7f16\u8f91\u4e0d\u5141\u8bb8\u65b0\u589e\uff0c\u9ed8\u8ba4\u4e3a ",i.a.createElement("code",null,"true")),i.a.createElement("td",null,i.a.createElement("code",null,"(allowCreate: boolean = true) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"disable"),i.a.createElement("td",null,"\u5173\u95ed\u7ed8\u5236"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"getData"),i.a.createElement("td",null,"\u83b7\u53d6\u5f53\u671f\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"() => Feature[]"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setData"),i.a.createElement("td",null,"\u8986\u76d6\u5e76\u8bbe\u7f6e\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"(features: Feature[]) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"clear"),i.a.createElement("td",null,"\u6e05\u7a7a\u7ed8\u5236\u6570\u636e"),i.a.createElement("td",null,i.a.createElement("code",null,"(disable: boolean) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"show"),i.a.createElement("td",null,"\u663e\u793a\u8be5 Draw \u4e0b\u6240\u6709\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"hide"),i.a.createElement("td",null,"\u9690\u85cf\u8be5 Draw \u4e0b\u6240\u6709\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setActiveFeature"),i.a.createElement("td",null,"\u5c06\u76ee\u6807 Feature \u8bbe\u4e3a\u6fc0\u6d3b\u6001\uff0c\u53ef\u4f20\u76ee\u6807 ",i.a.createElement("code",null,"Feature")," \u672c\u8eab\u6216\u5176 ",i.a.createElement("code",null,"id"),"\uff0c\u4f20 ",i.a.createElement("code",null,"null")," \u6216 ",i.a.createElement("code",null,"undefined")," \u5219\u53d6\u6d88\u6fc0\u6d3b\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"(feature: Feature | string | null | undefined) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"getRenderLayers"),i.a.createElement("td",null,"\u83b7\u53d6\u4e0d\u540c\u6e32\u67d3\u7c7b\u578b\u5bf9\u5e94\u7684 L7 \u539f\u751f\u56fe\u5c42"),i.a.createElement("td",null,i.a.createElement("code",null,"() => ","{"," [key: RenderType]: ILayer[] ","}"))),i.a.createElement("tr",null,i.a.createElement("td",null,"resetFeatures"),i.a.createElement("td",null,"\u6e05\u9664\u5f53\u524d\u6b63\u5728\u7ed8\u5236\u7684\u7ed8\u5236\u7269\uff0c\u540c\u65f6\u5c06\u6fc0\u6d3b\u7684\u7ed8\u5236\u7269\u7f6e\u4e3a\u666e\u901a\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"removeActiveFeature"),i.a.createElement("td",null,"\u5220\u9664\u5f53\u524d\u6fc0\u6d3b\u72b6\u6001\u7684\u7ed8\u5236\u7269"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"removeFeature"),i.a.createElement("td",null,"\u5220\u9664\u76ee\u6807 Feature \uff0c\u5c06\u76ee\u6807 Feature \u8bbe\u4e3a\u6fc0\u6d3b\u6001\uff0c\u53ef\u4f20\u76ee\u6807 Feature \u672c\u8eab\u6216\u5176 ",i.a.createElement("code",null,"properties")," \u4e2d ",i.a.createElement("code",null,"id")," \u5b57\u6bb5"),i.a.createElement("td",null,i.a.createElement("code",null,"(feature: Feature | string) => void"))),i.a.createElement("tr",null,i.a.createElement("td",null,"isEnable"),i.a.createElement("td",null,"\u5224\u65ad\u5f53\u524d Draw \u662f\u5426\u5728\u7ed8\u5236\u72b6\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"() => boolean"))),i.a.createElement("tr",null,i.a.createElement("td",null,"setHelper"),i.a.createElement("td",null,"\u8bbe\u7f6e\u5f53\u524d\u7ed8\u5236\u63d0\u793a\u6587\u6848\uff0c\u5efa\u8bae\u901a\u8fc7\u914d\u7f6e\u8fdb\u884c\u81ea\u5b9a\u4e49\u800c\u975e\u624b\u52a8\u8c03\u7528\u8be5\u65b9\u6cd5"),i.a.createElement("td",null,i.a.createElement("code",null,"(content: string | Element | DocumentFragment) => boolean"))),i.a.createElement("tr",null,i.a.createElement("td",null,"revertHistory"),i.a.createElement("td",null,"\u56de\u9000\u81f3\u4e0a\u4e00\u6b21\u4fdd\u5b58\u7684\u7ed8\u5236\u72b6\u6001"),i.a.createElement("td",null,i.a.createElement("code",null,"() => SourceData | undefined"))),i.a.createElement("tr",null,i.a.createElement("td",null,"redoHistory"),i.a.createElement("td",null,"\u91cd\u7f6e\u5230\u4e0a\u4e00\u6b21\u56de\u9000"),i.a.createElement("td",null,i.a.createElement("code",null,"() => SourceData | undefined"))),i.a.createElement("tr",null,i.a.createElement("td",null,"destroy"),i.a.createElement("td",null,"\u9500\u6bc1\u5f53\u524d Draw \u5b9e\u4f8b"),i.a.createElement("td",null,i.a.createElement("code",null,"() => void"))))))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}},yMAV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;var r=function(){function e(e,t){this.parentContext=e,this.rootRequest=t}return e}();t.Plan=r},yNLB:function(e,t,n){var r=n("0Dky"),i=n("WJkJ"),o="\u200b\x85\u180e";e.exports=function(e){return r((function(){return!!i[e]()||o[e]()!=o||i[e].name!==e}))}},yP5f:function(e,t,n){var r=n("+K+b");function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}e.exports=i},yUUT:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=(n("TpwP"),n("q1tI")),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawLine"](e,{autoActive:!1});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},yXPU:function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,l,"next",e)}function l(e){n(a,i,o,s,l,"throw",e)}s(void 0)}))}}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},yXV3:function(e,t,n){"use strict";var r=n("I+eb"),i=n("TWQb").indexOf,o=n("pkCn"),a=n("rkAj"),s=[].indexOf,l=!!s&&1/[1].indexOf(1,-0)<0,u=o("indexOf"),c=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:l||!u||!c},{indexOf:function(e){return l?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},yl30:function(e,t,n){"use strict";var r=n("q1tI"),i=n("MgzW"),o=n("QCnb");function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,h={},v={};function m(e){return!!d.call(v,e)||!d.call(h,e)&&(p.test(e)?v[e]=!0:(h[e]=!0,!1))}function g(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),"data-"!==e&&"aria-"!==e));default:return!1}}function y(e,t,n,r){if(null===t||"undefined"===typeof t||g(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function b(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_[e]=new b(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_[t]=new b(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_[e]=new b(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_[e]=new b(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){_[e]=new b(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){_[e]=new b(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){_[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)}));var E=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=_.hasOwnProperty(t)?_[t]:null,o=null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]));o||(y(t,n,i,r)&&(n=null),r||null===i?m(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(E,x);_[t]=new b(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(E,x);_[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(E,x);_[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){_[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)})),_.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){_[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=60103,C=60106,A=60107,P=60108,k=60114,M=60109,T=60110,L=60112,I=60113,D=60120,R=60115,N=60116,j=60121,F=60128,B=60129,U=60130,z=60131;if("function"===typeof Symbol&&Symbol.for){var H=Symbol.for;O=H("react.element"),C=H("react.portal"),A=H("react.fragment"),P=H("react.strict_mode"),k=H("react.profiler"),M=H("react.provider"),T=H("react.context"),L=H("react.forward_ref"),I=H("react.suspense"),D=H("react.suspense_list"),R=H("react.memo"),N=H("react.lazy"),j=H("react.block"),H("react.scope"),F=H("react.opaque.id"),B=H("react.debug_trace_mode"),U=H("react.offscreen"),z=H("react.legacy_hidden")}var V,G="function"===typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!==typeof e?null:(e=G&&e[G]||e["@@iterator"],"function"===typeof e?e:null)}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var Y=!1;function X(e,t){if(!e||Y)return"";Y=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,s--,0>s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{Y=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=X(e.type,!1),e;case 11:return e=X(e.type.render,!1),e;case 22:return e=X(e.type._render,!1),e;case 1:return e=X(e.type,!0),e;default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case C:return"Portal";case k:return"Profiler";case P:return"StrictMode";case I:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case M:return(e._context.displayName||"Context")+".Provider";case L:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return Z(e.type);case j:return Z(e._render);case N:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function J(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){var t=J(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ee(e){e._valueTracker||(e._valueTracker=$(e))}function te(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=J(e)?e.checked?"true":"false":e.value),e=r,e!==n&&(t.setValue(e),!0)}function ne(e){if(e=e||("undefined"!==typeof document?document:void 0),"undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function re(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ie(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function oe(e,t){t=t.checked,null!=t&&w(e,"checked",t,!1)}function ae(e,t){oe(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?le(e,t.type,n):t.hasOwnProperty("defaultValue")&&le(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function se(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function le(e,t,n){"number"===t&&ne(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ue(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}function ce(e,t){return e=i({children:void 0},t),(t=ue(t.children))&&(e.children=t),e}function fe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function pe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function de(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function he(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ve(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var me={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ge(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ye(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ge(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var be,_e=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n,r,i)}))}:e}((function(e,t){if(e.namespaceURI!==me.svg||"innerHTML"in e)e.innerHTML=t;else{for(be=be||document.createElement("div"),be.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ee(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function Se(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||xe.hasOwnProperty(e)&&xe[e]?(""+t).trim():t+"px"}function Oe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Se(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(xe).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xe[t]=xe[e]}))}));var Ce=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ae(e,t){if(t){if(Ce[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Pe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Me=null,Te=null,Le=null;function Ie(e){if(e=Oi(e)){if("function"!==typeof Me)throw Error(a(280));var t=e.stateNode;t&&(t=Ai(t),Me(e.stateNode,e.type,t))}}function De(e){Te?Le?Le.push(e):Le=[e]:Te=e}function Re(){if(Te){var e=Te,t=Le;if(Le=Te=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ne(e,t){return e(t)}function je(e,t,n,r,i){return e(t,n,r,i)}function Fe(){}var Be=Ne,Ue=!1,ze=!1;function He(){null===Te&&null===Le||(Fe(),Re())}function Ve(e,t,n){if(ze)return e(t,n);ze=!0;try{return Be(e,t,n)}finally{ze=!1,He()}}function Ge(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var We=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){We=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(Bu){We=!1}function Ye(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Xe=!1,Ke=null,Ze=!1,Qe=null,Je={onError:function(e){Xe=!0,Ke=e}};function $e(e,t,n,r,i,o,a,s,l){Xe=!1,Ke=null,Ye.apply(Je,arguments)}function et(e,t,n,r,i,o,s,l,u){if($e.apply(this,arguments),Xe){if(!Xe)throw Error(a(198));var c=Ke;Xe=!1,Ke=null,Ze||(Ze=!0,Qe=c)}}function tt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{t=e,0!==(1026&t.flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function nt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(e=e.alternate,null!==e&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function rt(e){if(tt(e)!==e)throw Error(a(188))}function it(e){var t=e.alternate;if(!t){if(t=tt(e),null===t)throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(r=i.return,null!==r){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return rt(i),e;if(o===r)return rt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function ot(e){if(e=it(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function at(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var st,lt,ut,ct,ft=!1,pt=[],dt=null,ht=null,vt=null,mt=new Map,gt=new Map,yt=[],bt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _t(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function Et(e,t){switch(e){case"focusin":case"focusout":dt=null;break;case"dragenter":case"dragleave":ht=null;break;case"mouseover":case"mouseout":vt=null;break;case"pointerover":case"pointerout":mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gt.delete(t.pointerId)}}function xt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=_t(t,n,r,i,o),null!==t&&(t=Oi(t),null!==t&&lt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wt(e,t,n,r,i){switch(t){case"focusin":return dt=xt(dt,e,t,n,r,i),!0;case"dragenter":return ht=xt(ht,e,t,n,r,i),!0;case"mouseover":return vt=xt(vt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return mt.set(o,xt(mt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,gt.set(o,xt(gt.get(o)||null,e,t,n,r,i)),!0}return!1}function St(e){var t=Si(e.target);if(null!==t){var n=tt(t);if(null!==n)if(t=n.tag,13===t){if(t=nt(n),null!==t)return e.blockedOn=t,void ct(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){ut(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=fn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return t=Oi(n),null!==t&&lt(t),e.blockedOn=n,!1;t.shift()}return!0}function Ct(e,t,n){Ot(e)&&n.delete(t)}function At(){for(ft=!1;0<pt.length;){var e=pt[0];if(null!==e.blockedOn){e=Oi(e.blockedOn),null!==e&&st(e);break}for(var t=e.targetContainers;0<t.length;){var n=fn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&pt.shift()}null!==dt&&Ot(dt)&&(dt=null),null!==ht&&Ot(ht)&&(ht=null),null!==vt&&Ot(vt)&&(vt=null),mt.forEach(Ct),gt.forEach(Ct)}function Pt(e,t){e.blockedOn===t&&(e.blockedOn=null,ft||(ft=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,At)))}function kt(e){function t(t){return Pt(t,e)}if(0<pt.length){Pt(pt[0],e);for(var n=1;n<pt.length;n++){var r=pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==dt&&Pt(dt,e),null!==ht&&Pt(ht,e),null!==vt&&Pt(vt,e),mt.forEach(t),gt.forEach(t),n=0;n<yt.length;n++)r=yt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<yt.length&&(n=yt[0],null===n.blockedOn);)St(n),null===n.blockedOn&&yt.shift()}function Mt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tt={animationend:Mt("Animation","AnimationEnd"),animationiteration:Mt("Animation","AnimationIteration"),animationstart:Mt("Animation","AnimationStart"),transitionend:Mt("Transition","TransitionEnd")},Lt={},It={};function Dt(e){if(Lt[e])return Lt[e];if(!Tt[e])return e;var t,n=Tt[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return Lt[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);var Rt=Dt("animationend"),Nt=Dt("animationiteration"),jt=Dt("animationstart"),Ft=Dt("transitionend"),Bt=new Map,Ut=new Map,zt=["abort","abort",Rt,"animationEnd",Nt,"animationIteration",jt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ft,"transitionEnd","waiting","waiting"];function Ht(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ut.set(r,t),Bt.set(r,i),u(i,[r])}}var Vt=o.unstable_now;Vt();var Gt=8;function Wt(e){if(0!==(1&e))return Gt=15,1;if(0!==(2&e))return Gt=14,2;if(0!==(4&e))return Gt=13,4;var t=24&e;return 0!==t?(Gt=12,t):0!==(32&e)?(Gt=11,32):(t=192&e,0!==t?(Gt=10,t):0!==(256&e)?(Gt=9,256):(t=3584&e,0!==t?(Gt=8,t):0!==(4096&e)?(Gt=7,4096):(t=4186112&e,0!==t?(Gt=6,t):(t=62914560&e,0!==t?(Gt=5,t):67108864&e?(Gt=4,67108864):0!==(134217728&e)?(Gt=3,134217728):(t=805306368&e,0!==t?(Gt=2,t):0!==(1073741824&e)?(Gt=1,1073741824):(Gt=8,e))))))}function qt(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Yt(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}function Xt(e,t){var n=e.pendingLanes;if(0===n)return Gt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Gt=15;else if(o=134217727&n,0!==o){var l=o&~a;0!==l?(r=Wt(l),i=Gt):(s&=o,0!==s&&(r=Wt(s),i=Gt))}else o=n&~a,0!==o?(r=Wt(o),i=Gt):0!==s&&(r=Wt(s),i=Gt);if(0===r)return 0;if(r=31-en(r),r=n&((0>r?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Wt(t),i<=Gt)return t;Gt=i}if(t=e.entangledLanes,0!==t)for(e=e.entanglements,t&=r;0<t;)n=31-en(t),i=1<<n,r|=e[n],t&=~i;return r}function Kt(e){return e=-1073741825&e.pendingLanes,0!==e?e:1073741824&e?1073741824:0}function Zt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Qt(24&~t),0===e?Zt(10,t):e;case 10:return e=Qt(192&~t),0===e?Zt(8,t):e;case 8:return e=Qt(3584&~t),0===e&&(e=Qt(4186112&~t),0===e&&(e=512)),e;case 2:return t=Qt(805306368&~t),0===t&&(t=268435456),t}throw Error(a(358,e))}function Qt(e){return e&-e}function Jt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $t(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-en(t),e[t]=n}var en=Math.clz32?Math.clz32:rn,tn=Math.log,nn=Math.LN2;function rn(e){return 0===e?32:31-(tn(e)/nn|0)|0}var on=o.unstable_UserBlockingPriority,an=o.unstable_runWithPriority,sn=!0;function ln(e,t,n,r){Ue||Fe();var i=cn,o=Ue;Ue=!0;try{je(i,e,t,n,r)}finally{(Ue=o)||He()}}function un(e,t,n,r){an(on,cn.bind(null,e,t,n,r))}function cn(e,t,n,r){var i;if(sn)if((i=0===(4&t))&&0<pt.length&&-1<bt.indexOf(e))e=_t(null,e,t,n,r),pt.push(e);else{var o=fn(e,t,n,r);if(null===o)i&&Et(e,r);else{if(i){if(-1<bt.indexOf(e))return e=_t(o,e,t,n,r),void pt.push(e);if(wt(o,e,t,n,r))return;Et(e,r)}ni(e,t,r,null,n)}}}function fn(e,t,n,r){var i=ke(r);if(i=Si(i),null!==i){var o=tt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(i=nt(o),null!==i)return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return ni(e,t,r,i,n),null}var pn=null,dn=null,hn=null;function vn(){if(hn)return hn;var e,t,n=dn,r=n.length,i="value"in pn?pn.value:pn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return hn=i.slice(e,1<t?1-t:void 0)}function mn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t,10===e&&(e=13),32<=e||13===e?e:0}function gn(){return!0}function yn(){return!1}function bn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?gn:yn,this.isPropagationStopped=yn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=gn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=gn)},persist:function(){},isPersistent:gn}),t}var _n,En,xn,wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sn=bn(wn),On=i({},wn,{view:0,detail:0}),Cn=bn(On),An=i({},On,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xn&&(xn&&"mousemove"===e.type?(_n=e.screenX-xn.screenX,En=e.screenY-xn.screenY):En=_n=0,xn=e),_n)},movementY:function(e){return"movementY"in e?e.movementY:En}}),Pn=bn(An),kn=i({},An,{dataTransfer:0}),Mn=bn(kn),Tn=i({},On,{relatedTarget:0}),Ln=bn(Tn),In=i({},wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dn=bn(In),Rn=i({},wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nn=bn(Rn),jn=i({},wn,{data:0}),Fn=bn(jn),Bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=zn[e])&&!!t[e]}function Vn(){return Hn}var Gn=i({},On,{key:function(e){if(e.key){var t=Bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=mn(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vn,charCode:function(e){return"keypress"===e.type?mn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?mn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Wn=bn(Gn),qn=i({},An,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yn=bn(qn),Xn=i({},On,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vn}),Kn=bn(Xn),Zn=i({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qn=bn(Zn),Jn=i({},An,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$n=bn(Jn),er=[9,13,27,32],tr=f&&"CompositionEvent"in window,nr=null;f&&"documentMode"in document&&(nr=document.documentMode);var rr=f&&"TextEvent"in window&&!nr,ir=f&&(!tr||nr&&8<nr&&11>=nr),or=String.fromCharCode(32),ar=!1;function sr(e,t){switch(e){case"keyup":return-1!==er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lr(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}var ur=!1;function cr(e,t){switch(e){case"compositionend":return lr(t);case"keypress":return 32!==t.which?null:(ar=!0,or);case"textInput":return e=t.data,e===or&&ar?null:e;default:return null}}function fr(e,t){if(ur)return"compositionend"===e||!tr&&sr(e,t)?(e=vn(),hn=dn=pn=null,ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ir&&"ko"!==t.locale?null:t.data;default:return null}}var pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!pr[e.type]:"textarea"===t}function hr(e,t,n,r){De(r),t=ii(t,"onChange"),0<t.length&&(n=new Sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vr=null,mr=null;function gr(e){Zr(e,0)}function yr(e){var t=Ci(e);if(te(t))return e}function br(e,t){if("change"===e)return t}var _r=!1;if(f){var Er;if(f){var xr="oninput"in document;if(!xr){var wr=document.createElement("div");wr.setAttribute("oninput","return;"),xr="function"===typeof wr.oninput}Er=xr}else Er=!1;_r=Er&&(!document.documentMode||9<document.documentMode)}function Sr(){vr&&(vr.detachEvent("onpropertychange",Or),mr=vr=null)}function Or(e){if("value"===e.propertyName&&yr(mr)){var t=[];if(hr(t,mr,e,ke(e)),e=gr,Ue)e(t);else{Ue=!0;try{Ne(e,t)}finally{Ue=!1,He()}}}}function Cr(e,t,n){"focusin"===e?(Sr(),vr=t,mr=n,vr.attachEvent("onpropertychange",Or)):"focusout"===e&&Sr()}function Ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return yr(mr)}function Pr(e,t){if("click"===e)return yr(t)}function kr(e,t){if("input"===e||"change"===e)return yr(t)}function Mr(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var Tr="function"===typeof Object.is?Object.is:Mr,Lr=Object.prototype.hasOwnProperty;function Ir(e,t){if(Tr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Lr.call(t,n[r])||!Tr(e[n[r]],t[n[r]]))return!1;return!0}function Dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rr(e,t){var n,r=Dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dr(r)}}function Nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function jr(){for(var e=window,t=ne();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=t.contentWindow,t=ne(e.document)}return t}function Fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Br=f&&"documentMode"in document&&11>=document.documentMode,Ur=null,zr=null,Hr=null,Vr=!1;function Gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Vr||null==Ur||Ur!==ne(r)||(r=Ur,"selectionStart"in r&&Fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hr&&Ir(Hr,r)||(Hr=r,r=ii(zr,"onSelect"),0<r.length&&(t=new Sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ur)))}Ht("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ht("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ht(zt,2);for(var Wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),qr=0;qr<Wr.length;qr++)Ut.set(Wr[qr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yr));function Kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,et(r,t,void 0,e),e.currentTarget=null}function Zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Kr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Kr(i,s,u),o=l}}}if(Ze)throw e=Qe,Ze=!1,Qe=null,e}function Qr(e,t){var n=Pi(t),r=e+"__bubble";n.has(r)||(ti(t,e,2,!1),n.add(r))}var Jr="_reactListening"+Math.random().toString(36).slice(2);function $r(e){e[Jr]||(e[Jr]=!0,s.forEach((function(t){Xr.has(t)||ei(t,!1,e,null),ei(t,!0,e,null)})))}function ei(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Xr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=Pi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),ti(o,e,i,t),a.add(s))}function ti(e,t,n,r){var i=Ut.get(t);switch(void 0===i?2:i){case 0:i=ln;break;case 1:i=un;break;default:i=cn}n=i.bind(null,t,n,e),i=void 0,!We||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ni(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&(l=a.stateNode.containerInfo,l===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(a=Si(s),null===a)return;if(l=a.tag,5===l||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ve((function(){var r=o,i=ke(n),a=[];e:{var s=Bt.get(e);if(void 0!==s){var l=Sn,u=e;switch(e){case"keypress":if(0===mn(n))break e;case"keydown":case"keyup":l=Wn;break;case"focusin":u="focus",l=Ln;break;case"focusout":u="blur",l=Ln;break;case"beforeblur":case"afterblur":l=Ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Kn;break;case Rt:case Nt:case jt:l=Dn;break;case Ft:l=Qn;break;case"scroll":l=Cn;break;case"wheel":l=$n;break;case"copy":case"cut":case"paste":l=Nn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Yn}var c=0!==(4&t),f=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var d,h=r;null!==h;){d=h;var v=d.stateNode;if(5===d.tag&&null!==v&&(d=v,null!==p&&(v=Ge(h,p),null!=v&&c.push(ri(h,v,d)))),f)break;h=h.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(s="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,(!s||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!Si(u)&&!u[xi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?Si(u):null,null!==u&&(f=tt(u),u!==f||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=Pn,v="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Yn,v="onPointerLeave",p="onPointerEnter",h="pointer"),f=null==l?s:Ci(l),d=null==u?s:Ci(u),s=new c(v,h+"leave",l,n,i),s.target=f,s.relatedTarget=d,v=null,Si(i)===r&&(c=new c(p,h+"enter",u,n,i),c.target=d,c.relatedTarget=f,v=c),f=v,l&&u)e:{for(c=l,p=u,h=0,d=c;d;d=oi(d))h++;for(d=0,v=p;v;v=oi(v))d++;for(;0<h-d;)c=oi(c),h--;for(;0<d-h;)p=oi(p),d--;for(;h--;){if(c===p||null!==p&&c===p.alternate)break e;c=oi(c),p=oi(p)}c=null}else c=null;null!==l&&ai(a,s,l,c,!1),null!==u&&null!==f&&ai(a,f,u,c,!0)}if(s=r?Ci(r):window,l=s.nodeName&&s.nodeName.toLowerCase(),"select"===l||"input"===l&&"file"===s.type)var m=br;else if(dr(s))if(_r)m=kr;else{m=Ar;var g=Cr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=Pr);switch(m&&(m=m(e,r))?hr(a,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&le(s,"number",s.value)),g=r?Ci(r):window,e){case"focusin":(dr(g)||"true"===g.contentEditable)&&(Ur=g,zr=r,Hr=null);break;case"focusout":Hr=zr=Ur=null;break;case"mousedown":Vr=!0;break;case"contextmenu":case"mouseup":case"dragend":Vr=!1,Gr(a,n,i);break;case"selectionchange":if(Br)break;case"keydown":case"keyup":Gr(a,n,i)}var y;if(tr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else ur?sr(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(ir&&"ko"!==n.locale&&(ur||"onCompositionStart"!==b?"onCompositionEnd"===b&&ur&&(y=vn()):(pn=i,dn="value"in pn?pn.value:pn.textContent,ur=!0)),g=ii(r,b),0<g.length&&(b=new Fn(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:(y=lr(n),null!==y&&(b.data=y)))),(y=rr?cr(e,n):fr(e,n))&&(r=ii(r,"onBeforeInput"),0<r.length&&(i=new Fn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Zr(a,t)}))}function ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ii(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,o=Ge(e,n),null!=o&&r.unshift(ri(e,o,i)),o=Ge(e,t),null!=o&&r.push(ri(e,o,i))),e=e.return}return r}function oi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ai(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?(l=Ge(n,o),null!=l&&a.unshift(ri(n,l,s))):i||(l=Ge(n,o),null!=l&&a.push(ri(n,l,s)))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function si(){}var li=null,ui=null;function ci(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function fi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var pi="function"===typeof setTimeout?setTimeout:void 0,di="function"===typeof clearTimeout?clearTimeout:void 0;function hi(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(e=e.body,null!=e&&(e.textContent=""))}function vi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function mi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var gi=0;function yi(e){return{$$typeof:F,toString:e,valueOf:e}}var bi=Math.random().toString(36).slice(2),_i="__reactFiber$"+bi,Ei="__reactProps$"+bi,xi="__reactContainer$"+bi,wi="__reactEvents$"+bi;function Si(e){var t=e[_i];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xi]||n[_i]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=mi(e);null!==e;){if(n=e[_i])return n;e=mi(e)}return t}e=n,n=e.parentNode}return null}function Oi(e){return e=e[_i]||e[xi],!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ci(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ai(e){return e[Ei]||null}function Pi(e){var t=e[wi];return void 0===t&&(t=e[wi]=new Set),t}var ki=[],Mi=-1;function Ti(e){return{current:e}}function Li(e){0>Mi||(e.current=ki[Mi],ki[Mi]=null,Mi--)}function Ii(e,t){Mi++,ki[Mi]=e.current,e.current=t}var Di={},Ri=Ti(Di),Ni=Ti(!1),ji=Di;function Fi(e,t){var n=e.type.contextTypes;if(!n)return Di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Bi(e){return e=e.childContextTypes,null!==e&&void 0!==e}function Ui(){Li(Ni),Li(Ri)}function zi(e,t,n){if(Ri.current!==Di)throw Error(a(168));Ii(Ri,t),Ii(Ni,n)}function Hi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext(),r)if(!(o in e))throw Error(a(108,Z(t)||"Unknown",o));return i({},n,r)}function Vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Di,ji=Ri.current,Ii(Ri,e),Ii(Ni,Ni.current),!0}function Gi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Hi(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Li(Ni),Li(Ri),Ii(Ri,e)):Li(Ni),Ii(Ni,n)}var Wi=null,qi=null,Yi=o.unstable_runWithPriority,Xi=o.unstable_scheduleCallback,Ki=o.unstable_cancelCallback,Zi=o.unstable_shouldYield,Qi=o.unstable_requestPaint,Ji=o.unstable_now,$i=o.unstable_getCurrentPriorityLevel,eo=o.unstable_ImmediatePriority,to=o.unstable_UserBlockingPriority,no=o.unstable_NormalPriority,ro=o.unstable_LowPriority,io=o.unstable_IdlePriority,oo={},ao=void 0!==Qi?Qi:function(){},so=null,lo=null,uo=!1,co=Ji(),fo=1e4>co?Ji:function(){return Ji()-co};function po(){switch($i()){case eo:return 99;case to:return 98;case no:return 97;case ro:return 96;case io:return 95;default:throw Error(a(332))}}function ho(e){switch(e){case 99:return eo;case 98:return to;case 97:return no;case 96:return ro;case 95:return io;default:throw Error(a(332))}}function vo(e,t){return e=ho(e),Yi(e,t)}function mo(e,t,n){return e=ho(e),Xi(e,t,n)}function go(){if(null!==lo){var e=lo;lo=null,Ki(e)}yo()}function yo(){if(!uo&&null!==so){uo=!0;var e=0;try{var t=so;vo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),so=null}catch(n){throw null!==so&&(so=so.slice(e+1)),Xi(eo,go),n}finally{uo=!1}}}var bo=S.ReactCurrentBatchConfig;function _o(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps,e)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Eo=Ti(null),xo=null,wo=null,So=null;function Oo(){So=wo=xo=null}function Co(e){var t=Eo.current;Li(Eo),e.type._context._currentValue=t}function Ao(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Po(e,t){xo=e,So=wo=null,e=e.dependencies,null!==e&&null!==e.firstContext&&(0!==(e.lanes&t)&&(os=!0),e.firstContext=null)}function ko(e,t){if(So!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(So=e,t=1073741823),t={context:e,observedBits:t,next:null},null===wo){if(null===xo)throw Error(a(308));wo=t,xo.dependencies={lanes:0,firstContext:t,responders:null}}else wo=wo.next=t;return e._currentValue}var Mo=!1;function To(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t){if(e=e.updateQueue,null!==e){e=e.shared;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Ro(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,null!==n){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}e=n.lastBaseUpdate,null===e?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function No(e,t,n,r){var o=e.updateQueue;Mo=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var f=e.alternate;if(null!==f){f=f.updateQueue;var p=f.lastBaseUpdate;p!==s&&(null===p?f.firstBaseUpdate=c:p.next=c,f.lastBaseUpdate=u)}}if(null!==a){p=o.baseState,s=0,f=c=u=null;do{l=a.lane;var d=a.eventTime;if((r&l)===l){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,v=a;switch(l=t,d=n,v.tag){case 1:if(h=v.payload,"function"===typeof h){p=h.call(d,p,l);break e}p=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(h=v.payload,l="function"===typeof h?h.call(d,p,l):h,null===l||void 0===l)break e;p=i({},p,l);break e;case 2:Mo=!0}}null!==a.callback&&(e.flags|=32,l=o.effects,null===l?o.effects=[a]:l.push(a))}else d={eventTime:d,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(c=f=d,u=p):f=f.next=d,s|=l;if(a=a.next,null===a){if(l=o.shared.pending,null===l)break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}while(1);null===f&&(u=p),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=f,cl|=s,e.lanes=s,e.memoizedState=p}}function jo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fo=(new r.Component).refs;function Bo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=null===n||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Uo={isMounted:function(e){return!!(e=e._reactInternals)&&tt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rl(),i=Nl(e),o=Io(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),Do(e,o),jl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rl(),i=Nl(e),o=Io(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),Do(e,o),jl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rl(),r=Nl(e),i=Io(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),Do(e,i),jl(e,r,n)}};function zo(e,t,n,r,i,o,a){return e=e.stateNode,"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Ir(n,r)||!Ir(i,o))}function Ho(e,t,n){var r=!1,i=Di,o=t.contextType;return"object"===typeof o&&null!==o?o=ko(o):(i=Bi(t)?ji:Ri.current,r=t.contextTypes,o=(r=null!==r&&void 0!==r)?Fi(e,i):Di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Go(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fo,To(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ko(o):(o=Bi(t)?ji:Ri.current,i.context=Fi(e,o)),No(e,n,i,r),i.state=e.memoizedState,o=t.getDerivedStateFromProps,"function"===typeof o&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Uo.enqueueReplaceState(i,i.state,null),No(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Wo=Array.isArray;function qo(e,t,n){if(e=n.ref,null!==e&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner,n){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===Fo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Yo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Xo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return e=gu(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,null!==r?(r=r.index,r<n?(t.flags=2,n):r):(t.flags=2,n)):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?(t=Eu(n,e.mode,r),t.return=e,t):(t=i(t,n),t.return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?(r=i(t,n.props),r.ref=qo(e,t,n),r.return=e,r):(r=yu(n.type,n.key,n.props,null,e.mode,r),r.ref=qo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=xu(n,e.mode,r),t.return=e,t):(t=i(t,n.children||[]),t.return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?(t=bu(n,e.mode,r,o),t.return=e,t):(t=i(t,n),t.return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return t=Eu(""+t,e.mode,n),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case O:return n=yu(t.type,t.key,t.props,null,e.mode,n),n.ref=qo(e,null,t),n.return=e,n;case C:return t=xu(t,e.mode,n),t.return=e,t}if(Wo(t)||W(t))return t=bu(t,e.mode,n,null),t.return=e,t;Yo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case O:return n.key===i?n.type===A?f(e,t,n.props.children,r,i):u(e,t,n,r):null;case C:return n.key===i?c(e,t,n,r):null}if(Wo(n)||W(n))return null!==i?null:f(e,t,n,r,null);Yo(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return e=e.get(n)||null,l(t,e,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case O:return e=e.get(null===r.key?n:r.key)||null,r.type===A?f(t,e,r.props.children,i,r.key):u(t,e,r,i);case C:return e=e.get(null===r.key?n:r.key)||null,c(t,e,r,i)}if(Wo(r)||W(r))return e=e.get(n)||null,f(t,e,r,i,null);Yo(t,r)}return null}function v(i,a,s,l){for(var u=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],l);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===c?u=g:c.sibling=g,c=g,f=m}if(v===s.length)return n(i,f),u;if(null===f){for(;v<s.length;v++)f=p(i,s[v],l),null!==f&&(a=o(f,a,v),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(i,f);v<s.length;v++)m=h(f,i,v,s[v],l),null!==m&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),u}function m(i,s,l,u){var c=W(l);if("function"!==typeof c)throw Error(a(150));if(l=c.call(l),null==l)throw Error(a(151));for(var f=c=null,v=s,m=s=0,g=null,y=l.next();null!==v&&!y.done;m++,y=l.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,u);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?c=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),c;if(null===v){for(;!y.done;m++,y=l.next())y=p(i,y.value,u),null!==y&&(s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return c}for(v=r(i,v);!y.done;m++,y=l.next())y=h(v,i,m,y.value,u),null!==y&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"===typeof o&&null!==o&&o.type===A&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case O:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(o.type===A){n(e,u.sibling),r=i(u,o.props.children),r.return=e,e=r;break e}break;default:if(u.elementType===o.type){n(e,u.sibling),r=i(u,o.props),r.ref=qo(e,u,o),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}o.type===A?(r=bu(o.props.children,e.mode,l,o.key),r.return=e,e=r):(l=yu(o.type,o.key,o.props,null,e.mode,l),l.ref=qo(e,r,o),l.return=e,e=l)}return s(e);case C:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),r=i(r,o.children||[]),r.return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}r=xu(o,e.mode,l),r.return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),r=i(r,o),r.return=e,e=r):(n(e,r),r=Eu(o,e.mode,l),r.return=e,e=r),s(e);if(Wo(o))return v(e,r,o,l);if(W(o))return m(e,r,o,l);if(c&&Yo(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Z(e.type)||"Component"))}return n(e,r)}}var Ko=Xo(!0),Zo=Xo(!1),Qo={},Jo=Ti(Qo),$o=Ti(Qo),ea=Ti(Qo);function ta(e){if(e===Qo)throw Error(a(174));return e}function na(e,t){switch(Ii(ea,t),Ii($o,e),Ii(Jo,Qo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ye(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ye(t,e)}Li(Jo),Ii(Jo,t)}function ra(){Li(Jo),Li($o),Li(ea)}function ia(e){ta(ea.current);var t=ta(Jo.current),n=ye(t,e.type);t!==n&&(Ii($o,e),Ii(Jo,n))}function oa(e){$o.current===e&&(Li(Jo),Li($o))}var aa=Ti(0);function sa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(n=n.dehydrated,null===n||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=null,ua=null,ca=!1;function fa(e,t){var n=hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function pa(e,t){switch(e.tag){case 5:var n=e.type;return t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,null!==t&&(e.stateNode=t,!0);case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t&&(e.stateNode=t,!0);case 13:return!1;default:return!1}}function da(e){if(ca){var t=ua;if(t){var n=t;if(!pa(e,t)){if(t=vi(n.nextSibling),!t||!pa(e,t))return e.flags=-1025&e.flags|2,ca=!1,void(la=e);fa(la,n)}la=e,ua=vi(t.firstChild)}else e.flags=-1025&e.flags|2,ca=!1,la=e}}function ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;la=e}function va(e){if(e!==la)return!1;if(!ca)return ha(e),ca=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!fi(t,e.memoizedProps))for(t=ua;t;)fa(e,t),t=vi(t.nextSibling);if(ha(e),13===e.tag){if(e=e.memoizedState,e=null!==e?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ua=vi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ua=null}}else ua=la?vi(e.stateNode.nextSibling):null;return!0}function ma(){ua=la=null,ca=!1}var ga=[];function ya(){for(var e=0;e<ga.length;e++)ga[e]._workInProgressVersionPrimary=null;ga.length=0}var ba=S.ReactCurrentDispatcher,_a=S.ReactCurrentBatchConfig,Ea=0,xa=null,wa=null,Sa=null,Oa=!1,Ca=!1;function Aa(){throw Error(a(321))}function Pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tr(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,o){if(Ea=o,xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ba.current=null===e||null===e.memoizedState?ts:ns,e=n(r,i),Ca){o=0;do{if(Ca=!1,!(25>o))throw Error(a(301));o+=1,Sa=wa=null,t.updateQueue=null,ba.current=rs,e=n(r,i)}while(Ca)}if(ba.current=es,t=null!==wa&&null!==wa.next,Ea=0,Sa=wa=xa=null,Oa=!1,t)throw Error(a(300));return e}function Ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Sa?xa.memoizedState=Sa=e:Sa=Sa.next=e,Sa}function Ta(){if(null===wa){var e=xa.alternate;e=null!==e?e.memoizedState:null}else e=wa.next;var t=null===Sa?xa.memoizedState:Sa.next;if(null!==t)Sa=t,wa=e;else{if(null===e)throw Error(a(310));wa=e,e={memoizedState:wa.memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},null===Sa?xa.memoizedState=Sa=e:Sa=Sa.next=e}return Sa}function La(e,t){return"function"===typeof t?t(e):t}function Ia(e){var t=Ta(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=wa,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.lane;if((Ea&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=f,o=r):l=l.next=f,xa.lanes|=c,cl|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,Tr(r,t.memoizedState)||(os=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Da(e){var t=Ta(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Tr(o,t.memoizedState)||(os=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ra(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ea&e)===e)&&(t._workInProgressVersionPrimary=r,ga.push(t))),e)return n(t._source);throw ga.push(t),Error(a(350))}function Na(e,t,n,r){var i=nl;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=ba.current,u=l.useState((function(){return Ra(i,t,n)})),c=u[1],f=u[0];u=Sa;var p=e.memoizedState,d=p.refs,h=d.getSnapshot,v=p.source;p=p.subscribe;var m=xa;return e.memoizedState={refs:d,source:t,subscribe:r},l.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=o(t._source);if(!Tr(s,e)){e=n(t._source),Tr(f,e)||(c(e),e=Nl(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-en(a),u=1<<l;r[l]|=e,a&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=Nl(m);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),Tr(h,n)&&Tr(v,t)&&Tr(p,r)||(e={pending:null,dispatch:null,lastRenderedReducer:La,lastRenderedState:f},e.dispatch=c=$a.bind(null,xa,e),u.queue=e,u.baseQueue=null,f=Ra(i,t,n),u.memoizedState=u.baseState=f),f}function ja(e,t,n){var r=Ta();return Na(r,e,t,n)}function Fa(e){var t=Ma();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:La,lastRenderedState:e},e=e.dispatch=$a.bind(null,xa,e),[t.memoizedState,e]}function Ba(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xa.updateQueue,null===t?(t={lastEffect:null},xa.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,null===n?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ua(e){var t=Ma();return e={current:e},t.memoizedState=e}function za(){return Ta().memoizedState}function Ha(e,t,n,r){var i=Ma();xa.flags|=e,i.memoizedState=Ba(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var i=Ta();r=void 0===r?null:r;var o=void 0;if(null!==wa){var a=wa.memoizedState;if(o=a.destroy,null!==r&&Pa(r,a.deps))return void Ba(t,n,o,r)}xa.flags|=e,i.memoizedState=Ba(1|t,n,o,r)}function Ga(e,t){return Ha(516,4,e,t)}function Wa(e,t){return Va(516,4,e,t)}function qa(e,t){return Va(4,2,e,t)}function Ya(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,2,Ya.bind(null,t,e),n)}function Ka(){}function Za(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t){var n=po();vo(98>n?98:n,(function(){e(!0)})),vo(97<n?97:n,(function(){var n=_a.transition;_a.transition=1;try{e(!1),t()}finally{_a.transition=n}}))}function $a(e,t,n){var r=Rl(),i=Nl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===xa||null!==a&&a===xa)Ca=Oa=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&(a=t.lastRenderedReducer,null!==a))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,Tr(l,s))return}catch(u){}jl(e,i,r)}}var es={readContext:ko,useCallback:Aa,useContext:Aa,useEffect:Aa,useImperativeHandle:Aa,useLayoutEffect:Aa,useMemo:Aa,useReducer:Aa,useRef:Aa,useState:Aa,useDebugValue:Aa,useDeferredValue:Aa,useTransition:Aa,useMutableSource:Aa,useOpaqueIdentifier:Aa,unstable_isNewReconciler:!1},ts={readContext:ko,useCallback:function(e,t){return Ma().memoizedState=[e,void 0===t?null:t],e},useContext:ko,useEffect:Ga,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ha(4,2,Ya.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ha(4,2,e,t)},useMemo:function(e,t){var n=Ma();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ma();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=$a.bind(null,xa,e),[r.memoizedState,e]},useRef:Ua,useState:Fa,useDebugValue:Ka,useDeferredValue:function(e){var t=Fa(e),n=t[0],r=t[1];return Ga((function(){var t=_a.transition;_a.transition=1;try{r(e)}finally{_a.transition=t}}),[e]),n},useTransition:function(){var e=Fa(!1),t=e[0];return e=Ja.bind(null,e[1]),Ua(e),[e,t]},useMutableSource:function(e,t,n){var r=Ma();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Na(r,e,t,n)},useOpaqueIdentifier:function(){if(ca){var e=!1,t=yi((function(){throw e||(e=!0,n("r:"+(gi++).toString(36))),Error(a(355))})),n=Fa(t)[1];return 0===(2&xa.mode)&&(xa.flags|=516,Ba(5,(function(){n("r:"+(gi++).toString(36))}),void 0,null)),t}return t="r:"+(gi++).toString(36),Fa(t),t},unstable_isNewReconciler:!1},ns={readContext:ko,useCallback:Za,useContext:ko,useEffect:Wa,useImperativeHandle:Xa,useLayoutEffect:qa,useMemo:Qa,useReducer:Ia,useRef:za,useState:function(){return Ia(La)},useDebugValue:Ka,useDeferredValue:function(e){var t=Ia(La),n=t[0],r=t[1];return Wa((function(){var t=_a.transition;_a.transition=1;try{r(e)}finally{_a.transition=t}}),[e]),n},useTransition:function(){var e=Ia(La)[0];return[za().current,e]},useMutableSource:ja,useOpaqueIdentifier:function(){return Ia(La)[0]},unstable_isNewReconciler:!1},rs={readContext:ko,useCallback:Za,useContext:ko,useEffect:Wa,useImperativeHandle:Xa,useLayoutEffect:qa,useMemo:Qa,useReducer:Da,useRef:za,useState:function(){return Da(La)},useDebugValue:Ka,useDeferredValue:function(e){var t=Da(La),n=t[0],r=t[1];return Wa((function(){var t=_a.transition;_a.transition=1;try{r(e)}finally{_a.transition=t}}),[e]),n},useTransition:function(){var e=Da(La)[0];return[za().current,e]},useMutableSource:ja,useOpaqueIdentifier:function(){return Da(La)[0]},unstable_isNewReconciler:!1},is=S.ReactCurrentOwner,os=!1;function as(e,t,n,r){t.child=null===e?Zo(t,null,n,r):Ko(t,e.child,n,r)}function ss(e,t,n,r,i){n=n.render;var o=t.ref;return Po(t,i),r=ka(e,t,n,r,o,i),null===e||os?(t.flags|=1,as(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ps(e,t,i))}function ls(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||vu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?(e=yu(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,us(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,n=n.compare,n=null!==n?n:Ir,n(i,r)&&e.ref===t.ref)?Ps(e,t,o):(t.flags|=1,e=gu(a,r),e.ref=t.ref,e.return=t,t.child=e)}function us(e,t,n,r,i,o){if(null!==e&&Ir(e.memoizedProps,r)&&e.ref===t.ref){if(os=!1,0===(o&i))return t.lanes=e.lanes,Ps(e,t,o);0!==(16384&e.flags)&&(os=!0)}return ps(e,t,n,r,o)}function cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},ql(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ql(t,e),null;t.memoizedState={baseLanes:0},ql(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ql(t,r);return as(e,t,i,n),t.child}function fs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function ps(e,t,n,r,i){var o=Bi(n)?ji:Ri.current;return o=Fi(t,o),Po(t,i),n=ka(e,t,n,r,o,i),null===e||os?(t.flags|=1,as(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ps(e,t,i))}function ds(e,t,n,r,i){if(Bi(n)){var o=!0;Vi(t)}else o=!1;if(Po(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Ho(t,n,r),Go(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ko(u):(u=Bi(n)?ji:Ri.current,u=Fi(t,u));var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Vo(t,a,r,u),Mo=!1;var p=t.memoizedState;a.state=p,No(t,r,a,i),l=t.memoizedState,s!==r||p!==l||Ni.current||Mo?("function"===typeof c&&(Bo(t,n,c,r),l=t.memoizedState),(s=Mo||zo(t,n,s,r,p,l,u))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,Lo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:_o(t.type,s),a.props=u,f=t.pendingProps,p=a.context,l=n.contextType,"object"===typeof l&&null!==l?l=ko(l):(l=Bi(n)?ji:Ri.current,l=Fi(t,l));var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||p!==l)&&Vo(t,a,r,l),Mo=!1,p=t.memoizedState,a.state=p,No(t,r,a,i);var h=t.memoizedState;s!==f||p!==h||Ni.current||Mo?("function"===typeof d&&(Bo(t,n,d,r),h=t.memoizedState),(u=Mo||zo(t,n,u,r,p,h,l))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return hs(e,t,n,r,o,i)}function hs(e,t,n,r,i,o){fs(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Gi(t,n,!1),Ps(e,t,o);r=t.stateNode,is.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ko(t,e.child,null,o),t.child=Ko(t,null,s,o)):as(e,t,s,o),t.memoizedState=r.state,i&&Gi(t,n,!0),t.child}function vs(e){var t=e.stateNode;t.pendingContext?zi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zi(e,t.context,!1),na(e,t.containerInfo)}var ms,gs,ys,bs,_s={dehydrated:null,retryLane:0};function Es(e,t,n){var r,i=t.pendingProps,o=aa.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Ii(aa,1&o),null===e?(void 0!==i.fallback&&da(t),e=i.children,o=i.fallback,a?(e=xs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=_s,e):"number"===typeof i.unstable_expectedLoadTime?(e=xs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=_s,t.lanes=33554432,e):(n=_u({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):(e.memoizedState,a?(i=Ss(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=_s,i):(n=ws(e,t,i.children,n),t.memoizedState=null,n))}function xs(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=_u(t,i,0,null),n=bu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ws(e,t,n,r){var i=e.child;return e=i.sibling,n=gu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Ss(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=s,a=n.lastEffect,null!==a?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=gu(a,s),null!==e?r=gu(e,r):(r=bu(r,o,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Os(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ao(e.return,t)}function Cs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function As(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(as(e,t,r.children,n),r=aa.current,0!==(2&r))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Os(e,n);else if(19===e.tag)Os(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(aa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)e=n.alternate,null!==e&&null===sa(e)&&(i=n),n=n.sibling;n=i,null===n?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Cs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(e=i.alternate,null!==e&&null===sa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Cs(t,!0,n,null,o,t.lastEffect);break;case"together":Cs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ps(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),cl|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(e=t.child,n=gu(e,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=gu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}function ks(e,t){if(!ca)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ms(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Bi(t.type)&&Ui(),null;case 3:return ra(),Li(Ni),Li(Ri),ya(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(va(t)?t.flags|=4:r.hydrate||(t.flags|=256)),gs(t),null;case 5:oa(t);var o=ta(ea.current);if(n=t.type,null!==e&&null!=t.stateNode)ys(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=ta(Jo.current),va(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[_i]=t,r[Ei]=s,n){case"dialog":Qr("cancel",r),Qr("close",r);break;case"iframe":case"object":case"embed":Qr("load",r);break;case"video":case"audio":for(e=0;e<Yr.length;e++)Qr(Yr[e],r);break;case"source":Qr("error",r);break;case"img":case"image":case"link":Qr("error",r),Qr("load",r);break;case"details":Qr("toggle",r);break;case"input":ie(r,s),Qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qr("invalid",r);break;case"textarea":de(r,s),Qr("invalid",r)}for(var u in Ae(n,s),e=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Qr("scroll",r));switch(n){case"input":ee(r),se(r,s,!0);break;case"textarea":ee(r),ve(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=si)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===me.html&&(e=ge(n)),e===me.html?"script"===n?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[_i]=t,e[Ei]=r,ms(e,t,!1,!1),t.stateNode=e,u=Pe(n,r),n){case"dialog":Qr("cancel",e),Qr("close",e),o=r;break;case"iframe":case"object":case"embed":Qr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Yr.length;o++)Qr(Yr[o],e);o=r;break;case"source":Qr("error",e),o=r;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),o=r;break;case"details":Qr("toggle",e),o=r;break;case"input":ie(e,r),o=re(e,r),Qr("invalid",e);break;case"option":o=ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Qr("invalid",e);break;case"textarea":de(e,r),o=pe(e,r),Qr("invalid",e);break;default:o=r}Ae(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?Oe(e,f):"dangerouslySetInnerHTML"===s?(f=f?f.__html:void 0,null!=f&&_e(e,f)):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&Ee(e,f):"number"===typeof f&&Ee(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Qr("scroll",e):null!=f&&w(e,s,f,u))}switch(n){case"input":ee(e),se(e,r,!1);break;case"textarea":ee(e),ve(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,null!=s?fe(e,!!r.multiple,s,!1):null!=r.defaultValue&&fe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=si)}ci(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)bs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=ta(ea.current),ta(Jo.current),va(t)?(r=t.stateNode,n=t.memoizedProps,r[_i]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r),r[_i]=t,t.stateNode=r)}return null;case 13:return Li(aa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&va(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&aa.current)?0===sl&&(sl=3):(0!==sl&&3!==sl||(sl=4),null===nl||0===(134217727&cl)&&0===(134217727&fl)||zl(nl,il))),(r||n)&&(t.flags|=4),null);case 4:return ra(),gs(t),null===e&&$r(t.stateNode.containerInfo),null;case 10:return Co(t),null;case 17:return Bi(t.type)&&Ui(),null;case 19:if(Li(aa),r=t.memoizedState,null===r)return null;if(s=0!==(64&t.flags),u=r.rendering,null===u)if(s)ks(r,!1);else{if(0!==sl||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(u=sa(e),null!==u){for(t.flags|=64,ks(r,!1),s=u.updateQueue,null!==s&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)s=n,e=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,u=s.alternate,null===u?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(aa,1&aa.current|2),t.child}e=e.sibling}null!==r.tail&&fo()>vl&&(t.flags|=64,s=!0,ks(r,!1),t.lanes=33554432)}else{if(!s)if(e=sa(u),null!==e){if(t.flags|=64,s=!0,n=e.updateQueue,null!==n&&(t.updateQueue=n,t.flags|=4),ks(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!ca)return t=t.lastEffect=r.lastEffect,null!==t&&(t.nextEffect=null),null}else 2*fo()-r.renderingStartTime>vl&&1073741824!==n&&(t.flags|=64,s=!0,ks(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(n=r.last,null!==n?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=fo(),n.sibling=null,t=aa.current,Ii(aa,s?1&t|2:1&t),n):null;case 23:case 24:return Yl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function Ts(e){switch(e.tag){case 1:Bi(e.type)&&Ui();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(ra(),Li(Ni),Li(Ri),ya(),t=e.flags,0!==(64&t))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return oa(e),null;case 13:return Li(aa),t=e.flags,4096&t?(e.flags=-4097&t|64,e):null;case 19:return Li(aa),null;case 4:return ra(),null;case 10:return Co(e),null;case 23:case 24:return Yl(),null;default:return null}}function Ls(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function Is(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},gs=function(){},ys=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ta(Jo.current);var a,s=null;switch(n){case"input":o=re(e,o),r=re(e,r),s=[];break;case"option":o=ce(e,o),r=ce(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=pe(e,o),r=pe(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=si)}for(f in Ae(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var u=o[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(l.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(u=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(null!=c||null!=u))if("style"===f)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(l.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Qr("scroll",e),s||u===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===F?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},bs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ds="function"===typeof WeakMap?WeakMap:Map;function Rs(e,t,n){n=Io(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bl||(bl=!0,_l=r),Is(e,t)},n}function Ns(e,t,n){n=Io(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return Is(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===El?El=new Set([this]):El.add(this),Is(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var js="function"===typeof WeakSet?WeakSet:Set;function Fs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){cu(e,n)}else t.current=null}function Bs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:_o(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&hi(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function Us(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=null!==t?t.lastEffect:null,null!==t){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=null!==t?t.lastEffect:null,null!==t){e=t=t.next;do{var i=e;r=i.next,i=i.tag,0!==(4&i)&&0!==(1&i)&&(su(n,e),au(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:_o(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,void(null!==t&&jo(n,t,e));case 3:if(t=n.updateQueue,null!==t){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}jo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&ci(n.type,n.memoizedProps)&&e.focus());case 6:return;case 4:return;case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&kt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function zs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r=r.style,"function"===typeof r.setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Se("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Hs(e,t){if(qi&&"function"===typeof qi.onCommitFiberUnmount)try{qi.onCommitFiberUnmount(Wi,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,null!==e&&(e=e.lastEffect,null!==e)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))su(t,n);else{r=t;try{i()}catch(o){cu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(Fs(t),e=t.stateNode,"function"===typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){cu(t,o)}break;case 5:Fs(t);break;case 4:Xs(e,t)}}function Vs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Gs(e){return 5===e.tag||3===e.tag||4===e.tag}function Ws(e){e:{for(var t=e.return;null!==t;){if(Gs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(Ee(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Gs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?qs(e,n,t):Ys(e,n,t)}function qs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,null!==n&&void 0!==n||null!==t.onclick||(t.onclick=si));else if(4!==r&&(e=e.child,null!==e))for(qs(e,t,n),e=e.sibling;null!==e;)qs(e,t,n),e=e.sibling}function Ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(e=e.child,null!==e))for(Ys(e,t,n),e=e.sibling;null!==e;)Ys(e,t,n),e=e.sibling}function Xs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:n=n.containerInfo,r=!0;break e;case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,u=l;;)if(Hs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(Hs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return,4===i.tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ks(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=null!==n?n.lastEffect:null,null!==n){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,null!=n){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Ei]=r,"input"===e&&"radio"===r.type&&null!=r.name&&oe(n,r),Pe(e,i),t=Pe(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?Oe(n,l):"dangerouslySetInnerHTML"===s?_e(n,l):"children"===s?Ee(n,l):w(n,s,l,t)}switch(e){case"input":ae(n,r);break;case"textarea":he(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,o=r.value,null!=o?fe(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?fe(n,!!r.multiple,r.defaultValue,!0):fe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return n=t.stateNode,void(n.hydrate&&(n.hydrate=!1,kt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(hl=fo(),zs(t.child,!0)),void Zs(t);case 19:return void Zs(t);case 17:return;case 23:case 24:return void zs(t,null!==t.memoizedState)}throw Error(a(163))}function Zs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new js),t.forEach((function(t){var r=pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Qs(e,t){return null!==e&&(e=e.memoizedState,null===e||null!==e.dehydrated)&&(t=t.memoizedState,null!==t&&null===t.dehydrated)}var Js=Math.ceil,$s=S.ReactCurrentDispatcher,el=S.ReactCurrentOwner,tl=0,nl=null,rl=null,il=0,ol=0,al=Ti(0),sl=0,ll=null,ul=0,cl=0,fl=0,pl=0,dl=null,hl=0,vl=1/0;function ml(){vl=fo()+500}var gl,yl=null,bl=!1,_l=null,El=null,xl=!1,wl=null,Sl=90,Ol=[],Cl=[],Al=null,Pl=0,kl=null,Ml=-1,Tl=0,Ll=0,Il=null,Dl=!1;function Rl(){return 0!==(48&tl)?fo():-1!==Ml?Ml:Ml=fo()}function Nl(e){if(e=e.mode,0===(2&e))return 1;if(0===(4&e))return 99===po()?1:2;if(0===Tl&&(Tl=ul),0!==bo.transition){0!==Ll&&(Ll=null!==dl?dl.pendingLanes:0),e=Tl;var t=4186112&~Ll;return t&=-t,0===t&&(e=4186112&~e,t=e&-e,0===t&&(t=8192)),t}return e=po(),0!==(4&tl)&&98===e?e=Zt(12,Tl):(e=qt(e),e=Zt(e,Tl)),e}function jl(e,t,n){if(50<Pl)throw Pl=0,kl=null,Error(a(185));if(e=Fl(e,t),null===e)return null;$t(e,t,n),e===nl&&(fl|=t,4===sl&&zl(e,il));var r=po();1===t?0!==(8&tl)&&0===(48&tl)?Hl(e):(Bl(e,n),0===tl&&(ml(),go())):(0===(4&tl)||98!==r&&99!==r||(null===Al?Al=new Set([e]):Al.add(e)),Bl(e,n)),dl=e}function Fl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,n=e.alternate,null!==n&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Bl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-en(a),l=1<<s,u=o[s];if(-1===u){if(0===(l&r)||0!==(l&i)){u=t,Wt(l);var c=Gt;o[s]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);a&=~l}if(r=Xt(e,e===nl?il:0),t=Gt,0===r)null!==n&&(n!==oo&&Ki(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==oo&&Ki(n)}15===t?(n=Hl.bind(null,e),null===so?(so=[n],lo=Xi(eo,yo)):so.push(n),n=oo):14===t?n=mo(99,Hl.bind(null,e)):(n=Yt(t),n=mo(n,Ul.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Ul(e){if(Ml=-1,Ll=Tl=0,0!==(48&tl))throw Error(a(327));var t=e.callbackNode;if(ou()&&e.callbackNode!==t)return null;var n=Xt(e,e===nl?il:0);if(0===n)return null;var r=n,i=tl;tl|=16;var o=Zl();nl===e&&il===r||(ml(),Xl(e,r));do{try{$l();break}catch(l){Kl(e,l)}}while(1);if(Oo(),$s.current=o,tl=i,null!==rl?r=0:(nl=null,il=0,r=sl),0!==(ul&fl))Xl(e,0);else if(0!==r){if(2===r&&(tl|=64,e.hydrate&&(e.hydrate=!1,hi(e.containerInfo)),n=Kt(e),0!==n&&(r=Ql(e,n))),1===r)throw t=ll,Xl(e,0),zl(e,n),Bl(e,fo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:nu(e);break;case 3:if(zl(e,n),(62914560&n)===n&&(r=hl+500-fo(),10<r)){if(0!==Xt(e,0))break;if(i=e.suspendedLanes,(i&n)!==n){Rl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=pi(nu.bind(null,e),r);break}nu(e);break;case 4:if(zl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-en(n);o=1<<s,s=r[s],s>i&&(i=s),n&=~o}if(n=i,n=fo()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Js(n/1960))-n,10<n){e.timeoutHandle=pi(nu.bind(null,e),n);break}nu(e);break;case 5:nu(e);break;default:throw Error(a(329))}}return Bl(e,fo()),e.callbackNode===t?Ul.bind(null,e):null}function zl(e,t){for(t&=~pl,t&=~fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-en(t),r=1<<n;e[n]=-1,t&=~r}}function Hl(e){if(0!==(48&tl))throw Error(a(327));if(ou(),e===nl&&0!==(e.expiredLanes&il)){var t=il,n=Ql(e,t);0!==(ul&fl)&&(t=Xt(e,t),n=Ql(e,t))}else t=Xt(e,0),n=Ql(e,t);if(0!==e.tag&&2===n&&(tl|=64,e.hydrate&&(e.hydrate=!1,hi(e.containerInfo)),t=Kt(e),0!==t&&(n=Ql(e,t))),1===n)throw n=ll,Xl(e,0),zl(e,t),Bl(e,fo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,nu(e),Bl(e,fo()),null}function Vl(){if(null!==Al){var e=Al;Al=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Bl(e,fo())}))}go()}function Gl(e,t){var n=tl;tl|=1;try{return e(t)}finally{tl=n,0===tl&&(ml(),go())}}function Wl(e,t){var n=tl;tl&=-2,tl|=8;try{return e(t)}finally{tl=n,0===tl&&(ml(),go())}}function ql(e,t){Ii(al,ol),ol|=t,ul|=t}function Yl(){ol=al.current,Li(al)}function Xl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,di(n)),null!==rl)for(n=rl.return;null!==n;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,null!==r&&void 0!==r&&Ui();break;case 3:ra(),Li(Ni),Li(Ri),ya();break;case 5:oa(r);break;case 4:ra();break;case 13:Li(aa);break;case 19:Li(aa);break;case 10:Co(r);break;case 23:case 24:Yl()}n=n.return}nl=e,rl=gu(e.current,null),il=ol=ul=t,sl=0,ll=null,pl=fl=cl=0}function Kl(e,t){do{var n=rl;try{if(Oo(),ba.current=es,Oa){for(var r=xa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Oa=!1}if(Ea=0,Sa=wa=xa=null,Ca=!1,el.current=null,null===n||null===n.return){sl=1,ll=t,rl=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=il,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&aa.current),p=a;do{var d;if(d=13===p.tag){var h=p.memoizedState;if(null!==h)d=null!==h.dehydrated;else{var v=p.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=p.updateQueue;if(null===m){var g=new Set;g.add(u),p.updateQueue=g}else m.add(u);if(0===(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=Io(-1,1);y.tag=2,Do(s,y)}s.lanes|=1;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new Ds,l=new Set,b.set(u,l)):(l=b.get(u),void 0===l&&(l=new Set,b.set(u,l))),!l.has(s)){l.add(s);var _=fu.bind(null,o,u,s);u.then(_,_)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error((Z(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==sl&&(sl=2),l=Ls(l,s),p=a;do{switch(p.tag){case 3:o=l,p.flags|=4096,t&=-t,p.lanes|=t;var E=Rs(p,o,t);Ro(p,E);break e;case 1:o=l;var x=p.type,w=p.stateNode;if(0===(64&p.flags)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===El||!El.has(w)))){p.flags|=4096,t&=-t,p.lanes|=t;var S=Ns(p,o,t);Ro(p,S);break e}}p=p.return}while(null!==p)}tu(n)}catch(O){t=O,rl===n&&null!==n&&(rl=n=n.return);continue}break}while(1)}function Zl(){var e=$s.current;return $s.current=es,null===e?es:e}function Ql(e,t){var n=tl;tl|=16;var r=Zl();nl===e&&il===t||Xl(e,t);do{try{Jl();break}catch(i){Kl(e,i)}}while(1);if(Oo(),tl=n,$s.current=r,null!==rl)throw Error(a(261));return nl=null,il=0,sl}function Jl(){for(;null!==rl;)eu(rl)}function $l(){for(;null!==rl&&!Zi();)eu(rl)}function eu(e){var t=gl(e.alternate,e,ol);e.memoizedProps=e.pendingProps,null===t?tu(e):rl=t,el.current=null}function tu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(n=Ms(n,t,ol),null!==n)return void(rl=n);if(n=t,24!==n.tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&ol)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(n=Ts(t),null!==n)return n.flags&=2047,void(rl=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,null!==t)return void(rl=t);rl=t=e}while(null!==t);0===sl&&(sl=5)}function nu(e){var t=po();return vo(99,ru.bind(null,e,t)),null}function ru(e,t){do{ou()}while(null!==wl);if(0!==(48&tl))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-en(o),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,o&=~c}if(null!==Al&&0===(24&r)&&Al.has(e)&&Al.delete(e),e===nl&&(rl=nl=null,il=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=tl,tl|=32,el.current=null,li=sn,s=jr(),Fr(s)){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(C){l=null;break e}var f=0,p=-1,d=-1,h=0,v=0,m=s,g=null;t:for(;;){for(var y;;){if(m!==l||0!==o&&3!==m.nodeType||(p=f+o),m!==u||0!==c&&3!==m.nodeType||(d=f+c),3===m.nodeType&&(f+=m.nodeValue.length),null===(y=m.firstChild))break;g=m,m=y}for(;;){if(m===s)break t;if(g===l&&++h===o&&(p=f),g===u&&++v===c&&(d=f),null!==(y=m.nextSibling))break;m=g,g=m.parentNode}m=y}l=-1===p||-1===d?null:{start:p,end:d}}else l=null;l=l||{start:0,end:0}}else l=null;ui={focusedElem:s,selectionRange:l},sn=!1,Il=null,Dl=!1,yl=r;do{try{iu()}catch(C){if(null===yl)throw Error(a(330));cu(yl,C),yl=yl.nextEffect}}while(null!==yl);Il=null,yl=r;do{try{for(s=e;null!==yl;){var b=yl.flags;if(16&b&&Ee(yl.stateNode,""),128&b){var _=yl.alternate;if(null!==_){var E=_.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&b){case 2:Ws(yl),yl.flags&=-3;break;case 6:Ws(yl),yl.flags&=-3,Ks(yl.alternate,yl);break;case 1024:yl.flags&=-1025;break;case 1028:yl.flags&=-1025,Ks(yl.alternate,yl);break;case 4:Ks(yl.alternate,yl);break;case 8:l=yl,Xs(s,l);var x=l.alternate;Vs(l),null!==x&&Vs(x)}yl=yl.nextEffect}}catch(C){if(null===yl)throw Error(a(330));cu(yl,C),yl=yl.nextEffect}}while(null!==yl);if(E=ui,_=jr(),b=E.focusedElem,s=E.selectionRange,_!==b&&b&&b.ownerDocument&&Nr(b.ownerDocument.documentElement,b)){null!==s&&Fr(b)&&(_=s.start,E=s.end,void 0===E&&(E=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(E,b.value.length)):(E=(_=b.ownerDocument||document)&&_.defaultView||window,E.getSelection&&(E=E.getSelection(),l=b.textContent.length,x=Math.min(s.start,l),s=void 0===s.end?x:Math.min(s.end,l),!E.extend&&x>s&&(l=s,s=x,x=l),l=Rr(b,x),o=Rr(b,s),l&&o&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&(_=_.createRange(),_.setStart(l.node,l.offset),E.removeAllRanges(),x>s?(E.addRange(_),E.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),E.addRange(_)))))),_=[];for(E=b;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)E=_[b],E.element.scrollLeft=E.left,E.element.scrollTop=E.top}sn=!!li,ui=li=null,e.current=n,yl=r;do{try{for(b=e;null!==yl;){var w=yl.flags;if(36&w&&Us(b,yl.alternate,yl),128&w){_=void 0;var S=yl.ref;if(null!==S){var O=yl.stateNode;switch(yl.tag){case 5:_=O;break;default:_=O}"function"===typeof S?S(_):S.current=_}}yl=yl.nextEffect}}catch(C){if(null===yl)throw Error(a(330));cu(yl,C),yl=yl.nextEffect}}while(null!==yl);yl=null,ao(),tl=i}else e.current=n;if(xl)xl=!1,wl=e,Sl=t;else for(yl=r;null!==yl;)t=yl.nextEffect,yl.nextEffect=null,8&yl.flags&&(w=yl,w.sibling=null,w.stateNode=null),yl=t;if(r=e.pendingLanes,0===r&&(El=null),1===r?e===kl?Pl++:(Pl=0,kl=e):Pl=0,n=n.stateNode,qi&&"function"===typeof qi.onCommitFiberRoot)try{qi.onCommitFiberRoot(Wi,n,void 0,64===(64&n.current.flags))}catch(C){}if(Bl(e,fo()),bl)throw bl=!1,e=_l,_l=null,e;return 0!==(8&tl)||go(),null}function iu(){for(;null!==yl;){var e=yl.alternate;Dl||null===Il||(0!==(8&yl.flags)?at(yl,Il)&&(Dl=!0):13===yl.tag&&Qs(e,yl)&&at(yl,Il)&&(Dl=!0));var t=yl.flags;0!==(256&t)&&Bs(e,yl),0===(512&t)||xl||(xl=!0,mo(97,(function(){return ou(),null}))),yl=yl.nextEffect}}function ou(){if(90!==Sl){var e=97<Sl?97:Sl;return Sl=90,vo(e,lu)}return!1}function au(e,t){Ol.push(t,e),xl||(xl=!0,mo(97,(function(){return ou(),null})))}function su(e,t){Cl.push(t,e),xl||(xl=!0,mo(97,(function(){return ou(),null})))}function lu(){if(null===wl)return!1;var e=wl;if(wl=null,0!==(48&tl))throw Error(a(331));var t=tl;tl|=32;var n=Cl;Cl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===o)throw Error(a(330));cu(o,u)}}for(n=Ol,Ol=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(null===o)throw Error(a(330));cu(o,u)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return tl=t,go(),!0}function uu(e,t,n){t=Ls(n,t),t=Rs(e,t,1),Do(e,t),t=Rl(),e=Fl(e,1),null!==e&&($t(e,1,t),Bl(e,t))}function cu(e,t){if(3===e.tag)uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===El||!El.has(r))){e=Ls(t,e);var i=Ns(n,e,1);if(Do(n,i),i=Rl(),n=Fl(n,1),null!==n)$t(n,1,i),Bl(n,i);else if("function"===typeof r.componentDidCatch&&(null===El||!El.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Rl(),e.pingedLanes|=e.suspendedLanes&n,nl===e&&(il&n)===n&&(4===sl||3===sl&&(62914560&il)===il&&500>fo()-hl?Xl(e,0):pl|=n),Bl(e,t)}function pu(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=0,0===t&&(t=e.mode,0===(2&t)?t=1:0===(4&t)?t=99===po()?1:2:(0===Tl&&(Tl=ul),t=Qt(62914560&~Tl),0===t&&(t=4194304))),n=Rl(),e=Fl(e,t),null!==e&&($t(e,t,n),Bl(e,n))}function du(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function hu(e,t,n,r){return new du(e,t,n,r)}function vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mu(e){if("function"===typeof e)return vu(e)?1:0;if(void 0!==e&&null!==e){if(e=e.$$typeof,e===L)return 11;if(e===R)return 14}return 2}function gu(e,t){var n=e.alternate;return null===n?(n=hu(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)vu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case A:return bu(n.children,i,o,t);case B:s=8,i|=16;break;case P:s=8,i|=1;break;case k:return e=hu(12,n,t,8|i),e.elementType=k,e.type=k,e.lanes=o,e;case I:return e=hu(13,n,t,i),e.type=I,e.elementType=I,e.lanes=o,e;case D:return e=hu(19,n,t,i),e.elementType=D,e.lanes=o,e;case U:return _u(n,i,o,t);case z:return e=hu(24,n,t,i),e.elementType=z,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case M:s=10;break e;case T:s=9;break e;case L:s=11;break e;case R:s=14;break e;case N:s=16,r=null;break e;case j:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return t=hu(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function bu(e,t,n,r){return e=hu(7,e,r,t),e.lanes=n,e}function _u(e,t,n,r){return e=hu(23,e,r,t),e.elementType=U,e.lanes=n,e}function Eu(e,t,n){return e=hu(6,e,null,t),e.lanes=n,e}function xu(e,t,n){return t=hu(4,null!==e.children?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Jt(0),this.expirationTimes=Jt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jt(0),this.mutableSourceEagerHydrationData=null}function Su(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ou(e,t,n,r){var i=t.current,o=Rl(),s=Nl(i);e:if(n){n=n._reactInternals;t:{if(tt(n)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Bi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(Bi(u)){n=Hi(n,u,l);break e}}n=l}else n=Di;return null===t.context?t.context=n:t.pendingContext=n,t=Io(o,s),t.payload={element:e},r=void 0===r?null:r,null!==r&&(t.callback=r),Do(i,t),jl(i,s,o),s}function Cu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Au(e,t){if(e=e.memoizedState,null!==e&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Pu(e,t){Au(e,t),(e=e.alternate)&&Au(e,t)}function ku(){return null}function Mu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new wu(e,t,null!=n&&!0===n.hydrate),t=hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,To(t),e[xi]=n.current,$r(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var i=t._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Tu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Lu(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Mu(e,0,t?{hydrate:!0}:void 0)}function Iu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Cu(a);s.call(e)}}Ou(t,a,e,i)}else{if(o=n._reactRootContainer=Lu(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=Cu(a);l.call(e)}}Wl((function(){Ou(t,a,e,i)}))}return Cu(a)}function Du(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Tu(t))throw Error(a(200));return Su(e,t,null,n)}gl=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)os=!0;else{if(0===(n&r)){switch(os=!1,t.tag){case 3:vs(t),ma();break;case 5:ia(t);break;case 1:Bi(t.type)&&Vi(t);break;case 4:na(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Ii(Eo,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Es(e,t,n):(Ii(aa,1&aa.current),t=Ps(e,t,n),null!==t?t.sibling:null);Ii(aa,1&aa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return As(e,t,n);t.flags|=64}if(i=t.memoizedState,null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(aa,aa.current),r)break;return null;case 23:case 24:return t.lanes=0,cs(e,t,n)}return Ps(e,t,n)}os=0!==(16384&e.flags)}else os=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Fi(t,Ri.current),Po(t,n),i=ka(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bi(r)){var o=!0;Vi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,To(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&Bo(t,r,s,e),i.updater=Uo,t.stateNode=i,i._reactInternals=t,Go(t,r,e,n),t=hs(null,t,r,!0,o,n)}else t.tag=0,as(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=mu(i),e=_o(i,e),o){case 0:t=ps(null,t,i,e,n);break e;case 1:t=ds(null,t,i,e,n);break e;case 11:t=ss(null,t,i,e,n);break e;case 14:t=ls(null,t,i,_o(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_o(r,i),ps(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_o(r,i),ds(e,t,r,i,n);case 3:if(vs(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=t.memoizedState,i=null!==i?i.element:null,Lo(e,t),No(t,r,null,n),r=t.memoizedState.element,r===i)ma(),t=Ps(e,t,n);else{if(i=t.stateNode,(o=i.hydrate)&&(ua=vi(t.stateNode.containerInfo.firstChild),la=t,o=ca=!0),o){if(e=i.mutableSourceEagerHydrationData,null!=e)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],ga.push(o);for(n=Zo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else as(e,t,r,n),ma();t=t.child}return t;case 5:return ia(t),null===e&&da(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,fi(r,i)?s=null:null!==o&&fi(r,o)&&(t.flags|=16),fs(e,t),as(e,t,s,n),t.child;case 6:return null===e&&da(t),null;case 13:return Es(e,t,n);case 4:return na(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ko(t,null,r,n):as(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_o(r,i),ss(e,t,r,i,n);case 7:return as(e,t,t.pendingProps,n),t.child;case 8:return as(e,t,t.pendingProps.children,n),t.child;case 12:return as(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(Ii(Eo,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,o=Tr(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823),0===o){if(s.children===i.children&&!Ni.current){t=Ps(e,t,n);break e}}else for(l=t.child,null!==l&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===l.tag&&(c=Io(-1,n&-n),c.tag=2,Do(l,c)),l.lanes|=n,c=l.alternate,null!==c&&(c.lanes|=n),Ao(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(l=s.sibling,null!==l){l.return=s.return,s=l;break}s=s.return}l=s}as(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,r=o.children,Po(t,n),i=ko(i,o.unstable_observedBits),r=r(i),t.flags|=1,as(e,t,r,n),t.child;case 14:return i=t.type,o=_o(i,t.pendingProps),o=_o(i.type,o),ls(e,t,i,o,r,n);case 15:return us(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_o(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Bi(r)?(e=!0,Vi(t)):e=!1,Po(t,n),Ho(t,r,i),Go(t,r,i,n),hs(null,t,r,!0,e,n);case 19:return As(e,t,n);case 23:return cs(e,t,n);case 24:return cs(e,t,n)}throw Error(a(156,t.tag))},Mu.prototype.render=function(e){Ou(e,this._internalRoot,null,null)},Mu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ou(null,e,null,(function(){t[xi]=null}))},st=function(e){if(13===e.tag){var t=Rl();jl(e,4,t),Pu(e,4)}},lt=function(e){if(13===e.tag){var t=Rl();jl(e,67108864,t),Pu(e,67108864)}},ut=function(e){if(13===e.tag){var t=Rl(),n=Nl(e);jl(e,n,t),Pu(e,n)}},ct=function(e,t){return t()},Me=function(e,t,n){switch(t){case"input":if(ae(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(a(90));te(r),ae(r,i)}}}break;case"textarea":he(e,n);break;case"select":t=n.value,null!=t&&fe(e,!!n.multiple,t,!1)}},Ne=Gl,je=function(e,t,n,r,i){var o=tl;tl|=4;try{return vo(98,e.bind(null,t,n,r,i))}finally{tl=o,0===tl&&(ml(),go())}},Fe=function(){0===(49&tl)&&(Vl(),ou())},Be=function(e,t){var n=tl;tl|=2;try{return e(t)}finally{tl=n,0===tl&&(ml(),go())}};var Ru={Events:[Oi,Ci,Ai,De,Re,ou,{current:!1}]},Nu={findFiberByHostInstance:Si,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ju={bundleType:Nu.bundleType,version:Nu.version,rendererPackageName:Nu.rendererPackageName,rendererConfig:Nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ot(e),null===e?null:e.stateNode},findFiberByHostInstance:Nu.findFiberByHostInstance||ku,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Wi=Fu.inject(ju),qi=Fu}catch(Bu){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ru,t.createPortal=Du,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=ot(t),e=null===e?null:e.stateNode,e},t.flushSync=function(e,t){var n=tl;if(0!==(48&n))return e(t);tl|=1;try{if(e)return vo(99,e.bind(null,t))}finally{tl=n,go()}},t.hydrate=function(e,t,n){if(!Tu(t))throw Error(a(200));return Iu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Tu(t))throw Error(a(200));return Iu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Tu(e))throw Error(a(40));return!!e._reactRootContainer&&(Wl((function(){Iu(null,null,e,!1,(function(){e._reactRootContainer=null,e[xi]=null}))})),!0)},t.unstable_batchedUpdates=Gl,t.unstable_createPortal=function(e,t){return Du(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Tu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Iu(e,t,n,!1,r)},t.version="17.0.2"},ylj5:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=(n("TpwP"),n("q1tI")),l=n.n(s),u=String(Math.random()),c=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:u,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawCircle"](e,{autoActive:!1});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:u,style:{height:400,position:"relative"}}))};t["default"]=c},yoRg:function(e,t,n){var r=n("UTVS"),i=n("/GqU"),o=n("TWQb").indexOf,a=n("0BK2");e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);while(t.length>l)r(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},yq1k:function(e,t,n){"use strict";var r=n("I+eb"),i=n("TWQb").includes,o=n("RNIs"),a=n("rkAj"),s=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},"z01/":function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},z47z:function(e,t,n){},z4Hk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n("406g"),i=n("RR/i"),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){var t=null!==e.target&&!e.target.isNamed()&&!e.target.isTagged();return t},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},z8NH:function(e,t,n){var r=n("dOgj");r("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},zBJ4:function(e,t,n){var r=n("2oRo"),i=n("hh1v"),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},zEVN:function(e,t,n){var r=n("Gi0A"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isMap,s=a?i(a):r;e.exports=s},zKZe:function(e,t,n){var r=n("I+eb"),i=n("YNrV");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},zLVn:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},zT1h:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i8i4"),i=n.n(r);function o(e,t,n,r){var o=i.a.unstable_batchedUpdates?function(e){i.a.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,o,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,o,r)}}}},zWmH:function(e,t,n){"use strict";n.d(t,"a",(function(){return _e}));var r,i,o,a=n("lwsE"),s=n.n(a),l=n("W8MJ"),u=n.n(l),c=n("7W2i"),f=n.n(c),p=n("a1gu"),d=n.n(p),h=n("Nsbk"),v=n.n(h),m=n("yG8O"),g=n.n(m),y=n("lSNA"),b=n.n(y),_=n("U+yc"),E=n.n(_),x=(n("1ABj"),n("h1nZ"));function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=(r=Object(x["p"])(x["k"].IGlobalConfigService),i=function(){function e(t){s()(this,e),g()(this,"configService",o,this),b()(this,"config",void 0),this.config=t}return u()(e,[{key:"setContainer",value:function(e,t,n,r){e.bind(x["k"].MapConfig).toConstantValue(S(S({},this.config),{},{id:t,canvas:n,hasBaseMap:r})),e.bind(x["k"].IMapService).to(this.getServiceConstructor()).inSingletonScope()}},{key:"getServiceConstructor",value:function(){throw new Error("Method not implemented.")}}]),e}(),o=E()(i.prototype,"configService",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i),C=n("sXyB"),A=n.n(C),P=n("QILm"),k=n.n(P),M=n("yXPU"),T=n.n(M),L=n("J4zp"),I=n.n(L),D=n("RIqP"),R=n.n(D),N=n("o0o1"),j=n.n(N),F=n("hi0z"),B=n.n(F),U=n("Hel2"),z=n("IOcx"),H=n("4cb6"),V=(n("mNvP"),function(){function e(t){s()(this,e),b()(this,"size",1e4),this.size=t||1e4}return u()(e,[{key:"setSize",value:function(e){this.size=e}},{key:"getSize",value:function(){return[this.size,this.size]}},{key:"mercatorXfromLng",value:function(e){return(180+e)/360*this.size}},{key:"mercatorYfromLat",value:function(e){return(1-(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360)*this.size}},{key:"lngFromMercatorX",value:function(e){return e/this.size*360-180}},{key:"latFromMercatorY",value:function(e){var t=180-360*(1-e/this.size);return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90}},{key:"project",value:function(e){var t=this.mercatorXfromLng(e[0]),n=this.mercatorYfromLat(e[1]);return[t,n]}},{key:"unproject",value:function(e){var t=this.lngFromMercatorX(e[0]),n=this.latFromMercatorY(e[1]);return[t,n]}}]),e}());function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={top:0,right:0,bottom:0,left:0};if("number"===typeof e)return{top:e,right:e,bottom:e,left:e};if(Array.isArray(e)){if(4===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]}}return W(W({},t),e)}var Y,X,K,Z,Q,J,$,ee,te,ne,re,ie=n("6gmd"),oe={dark:"amap://styles/c9f1d10cae34f8ab05e425462c5a58d7?isPublic=true",light:"amap://styles/c422f5c0cfced5be9fe3a83f05f28a68?isPublic=true",normal:"amap://styles/normal",blank:"amap://styles/07c17002b38775b32a7a76c66cf90e99?isPublic=true"},ae=function(){function e(){s()(this,e),b()(this,"projectionMatrix",z["a"].create()),b()(this,"viewMatrix",z["a"].create()),b()(this,"viewProjectionMatrix",z["a"].create()),b()(this,"ViewProjectionMatrixUncentered",z["a"].create()),b()(this,"viewUncenteredMatrix",z["a"].create()),b()(this,"zoom",void 0),b()(this,"center",void 0)}return u()(e,[{key:"syncWithMapCamera",value:function(e){var t=e.zoom,n=void 0===t?1:t,r=e.center,i=void 0===r?[0,0]:r,o=e.offsetOrigin,a=void 0===o?[0,0]:o,s=e.cameraPosition,l=void 0===s?[0,0,0]:s,u=e.up,c=void 0===u?[0,1,0]:u,f=e.lookAt,p=void 0===f?[0,0,0]:f,d=e.aspect,h=void 0===d?1:d,v=e.near,m=void 0===v?.1:v,g=e.far,y=void 0===g?1e3:g,b=e.fov,_=void 0===b?45:b;this.zoom=n,this.center=i,z["a"].perspective(this.projectionMatrix,_/180*Math.PI,h,m,y);var E=z["c"].fromValues.apply(z["c"],R()(l)),x=z["c"].fromValues.apply(z["c"],R()(p)),w=z["c"].fromValues.apply(z["c"],R()(c));z["a"].lookAt(this.viewMatrix,E,x,w),this.viewUncenteredMatrix=z["a"].clone(this.viewMatrix),z["a"].translate(this.viewMatrix,this.viewMatrix,z["c"].fromValues(-a[0],a[1],0)),z["a"].multiply(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),z["a"].multiply(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}},{key:"getZoom",value:function(){return this.zoom}},{key:"getZoomScale",value:function(){return 1048576}},{key:"getCenter",value:function(){var e=I()(this.center,2),t=e[0],n=e[1];return[t,n]}},{key:"getProjectionMatrix",value:function(){return this.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewUncenteredMatrix}},{key:"getViewProjectionMatrix",value:function(){return this.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.ViewProjectionMatrixUncentered}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(e,t){var n=85.0511287798,r=Math.max(Math.min(n,e[1]),-n),i=256<<20,o=Math.PI/180,a=e[0]*o,s=r*o;s=Math.log(Math.tan(Math.PI/4+s/2));var l=.5/Math.PI,u=.5,c=-.5/Math.PI;return o=.5,a=i*(l*a+u)-215440491,s=-(i*(c*s+o)-106744817),[a,s]}}]),e}(),se=["id","style","minZoom","maxZoom","token","mapInstance","plugin","version"];function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t){var n="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM,r="undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||"undefined"!==typeof wx.miniProgram);if(!n&&!r&&(t||(t=document),t)){var i=t.head||t.getElementsByTagName("head")[0];if(!i){i=t.createElement("head");var o=t.body||t.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):t.documentElement.appendChild(i)}var a=t.createElement("style");return a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),i.appendChild(a),a}}ce(".amap-logo{\n display: none !important;\n}\n");var fe=0;window.forceWebGL=!0;var pe="ff533602d57df6f8ab3b0fea226ae52f",de="2.0.5",he="amap-script",ve=!1,me=[],ge=(Y=Object(H["injectable"])(),X=Object(H["inject"])(x["k"].IGlobalConfigService),K=Object(H["inject"])(x["k"].MapConfig),Z=Object(H["inject"])(x["k"].ICoordinateSystemService),Q=Object(H["inject"])(x["k"].IEventEmitter),Y(($=function(){function e(){var t=this;s()(this,e),b()(this,"version",ie["a"]["GAODE2.x"]),b()(this,"simpleMapCoord",new V),b()(this,"map",void 0),b()(this,"sceneCenter",void 0),b()(this,"sceneCenterMKT",void 0),b()(this,"bgColor","rgba(0, 0, 0, 0)"),g()(this,"configService",ee,this),g()(this,"config",te,this),g()(this,"coordinateSystemService",ne,this),g()(this,"eventEmitter",re,this),b()(this,"markerContainer",void 0),b()(this,"$mapContainer",void 0),b()(this,"viewport",void 0),b()(this,"cameraChangedCallback",void 0),b()(this,"handleViewChanged",(function(e){var n=t.map.customCoords.getCameraParams(),r=n.fov,i=n.near,o=n.far,a=n.aspect,s=n.position,l=n.lookAt,u=n.up;t.emit("mapchange");var c=t.map.customCoords.getCenter();t.cameraChangedCallback&&(t.viewport.syncWithMapCamera({aspect:a,far:o,fov:r,cameraPosition:s,lookAt:l,up:u,near:i,zoom:t.map.getZoom()-1,center:c,offsetOrigin:[s[0],s[1]]}),t.coordinateSystemService.setCoordinateSystem(x["d"].P20_2),t.cameraChangedCallback(t.viewport))}))}return u()(e,[{key:"setBgColor",value:function(e){this.bgColor=e}},{key:"setCustomCoordCenter",value:function(e){this.sceneCenter=e,this.sceneCenterMKT=U["j"].apply(void 0,R()(e))}},{key:"getCustomCoordCenter",value:function(){return this.sceneCenterMKT}},{key:"lngLatToCoordByLayer",value:function(e,t){var n=U["j"].apply(void 0,R()(t));return this._sub(Object(U["j"])(e[0],e[1]),n)}},{key:"lngLatToCoordsByLayer",value:function(e,t){var n=this;return e.map((function(e){return"number"===typeof e[0]?n.lngLatToCoordByLayer(e,t):e.map((function(e){return n.lngLatToCoordByLayer(e,t)}))}))}},{key:"lngLatToCoord",value:function(e){return this.sceneCenter||(this.map.customCoords.setCenter(e),this.setCustomCoordCenter(e)),this._sub(Object(U["j"])(e[0],e[1]),this.sceneCenterMKT)}},{key:"lngLatToCoords",value:function(e){var t=this;return e.map((function(e){return"number"===typeof e[0]?t.lngLatToCoord(e):e.map((function(e){return t.lngLatToCoord(e)}))}))}},{key:"addMarkerContainer",value:function(){if(this.map){var e=this.map.getContainer();if(null!==e){var t=e.getElementsByClassName("amap-maps")[0];t.style.zIndex="auto",this.markerContainer=U["b"].create("div","l7-marker-container2",t)}}}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(e,t){-1!==x["f"].indexOf(e)?this.eventEmitter.on(e,t):this.map.on(e,t)}},{key:"off",value:function(e,t){-1!==x["f"].indexOf(e)?this.eventEmitter.off(e,t):this.map.off(e,t)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){var e;return null===(e=this.map.getContainer())||void 0===e?void 0:e.getElementsByClassName("amap-maps")[0]}},{key:"getSize",value:function(){var e=this.map.getSize();return[e.getWidth(),e.getHeight()]}},{key:"getType",value:function(){return"amap2"}},{key:"getZoom",value:function(){return this.map.getZoom()-1}},{key:"setZoom",value:function(e){return this.map.setZoom(e+1)}},{key:"getCenter",value:function(e){if(null!==e&&void 0!==e&&e.padding){var t=this.getCenter(),n=this.getSize(),r=I()(n,2),i=(r[0],r[1],q(e.padding)),o=this.lngLatToPixel([t.lng,t.lat]),a=[(i.right-i.left)/2,(i.bottom-i.top)/2],s=this.pixelToLngLat([o.x-a[0],o.y-a[1]]);return s}var l=this.map.getCenter();return{lng:l.getLng(),lat:l.getLat()}}},{key:"setCenter",value:function(e,t){if(null!==t&&void 0!==t&&t.padding){var n=q(t.padding),r=this.lngLatToPixel(e),i=[(n.right-n.left)/2,(n.bottom-n.top)/2],o=this.pixelToLngLat([r.x+i[0],r.y+i[1]]);this.map.setCenter([o.lng,o.lat])}else this.map.setCenter(e)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return 360-this.map.getRotation()}},{key:"getBounds",value:function(){var e=this.map.getBounds(),t=e.getNorthEast(),n=e.getSouthWest(),r=this.getCenter(),i=r.lng>t.getLng()||r.lng<n.getLng()?180-t.getLng():t.getLng(),o=r.lng<n.getLng()?n.getLng()-180:n.getLng();return[[o,n.getLat()],[i,t.getLat()]]}},{key:"getMinZoom",value:function(){var e=this.map.getZooms();return e[0]-1}},{key:"getMaxZoom",value:function(){var e=this.map.getZooms();return e[1]-1}},{key:"setRotation",value:function(e){return this.map.setRotation(e)}},{key:"setPitch",value:function(e){return this.map.setPitch(e)}},{key:"zoomIn",value:function(){this.map.zoomIn()}},{key:"zoomOut",value:function(){this.map.zoomOut()}},{key:"panTo",value:function(e){this.map.panTo(e)}},{key:"panBy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.map.panBy(e,t)}},{key:"fitBounds",value:function(e){this.map.setBounds(new AMap.Bounds([e[0][0],e[0][1],e[1][0],e[1][1]]))}},{key:"setZoomAndCenter",value:function(e,t){this.map.setZoomAndCenter(e+1,t)}},{key:"setMapStyle",value:function(e){this.map.setMapStyle(this.getMapStyle(e))}},{key:"setMapStatus",value:function(e){this.map.setStatus(e)}},{key:"pixelToLngLat",value:function(e){var t=this.map.pixelToLngLat(new AMap.Pixel(e[0],e[1]));return{lng:t.getLng(),lat:t.getLat()}}},{key:"lngLatToPixel",value:function(e){var t=this.map.lnglatToPixel(new AMap.LngLat(e[0],e[1]));return{x:t.getX(),y:t.getY()}}},{key:"containerToLngLat",value:function(e){var t=new AMap.Pixel(e[0],e[1]),n=this.map.containerToLngLat(t);return{lng:null===n||void 0===n?void 0:n.getLng(),lat:null===n||void 0===n?void 0:n.getLat()}}},{key:"lngLatToContainer",value:function(e){var t=this.map.lngLatToContainer(e);return{x:t.getX(),y:t.getY()}}},{key:"lngLatToMercator",value:function(e,t){return{x:0,y:0,z:0}}},{key:"getModelMatrix",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=this.map.customCoords.lngLatToCoord(e),o=z["a"].create();return z["a"].translate(o,o,z["c"].fromValues(i[0],i[1],t)),z["a"].scale(o,o,z["c"].fromValues(r[0],r[1],r[2])),z["a"].rotateX(o,o,n[0]),z["a"].rotateY(o,o,n[1]),z["a"].rotateZ(o,o,n[2]),o}},{key:"init",value:function(){var e=T()(j.a.mark((function e(){var t,n,r,i,o,a,s,l,u,c,f,p,d,h,v,m,g=this;return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.config,n=t.id,r=t.style,i=void 0===r?"light":r,o=t.minZoom,a=void 0===o?0:o,s=t.maxZoom,l=void 0===s?18:s,u=t.token,c=void 0===u?pe:u,f=t.mapInstance,p=t.plugin,d=void 0===p?[]:p,h=t.version,v=void 0===h?de:h,m=k()(t,se),e.next=3,new Promise((function(e){var t=function(){if(f){var t;g.map=f,g.$mapContainer=g.map.getContainer();var r=g.map.getCenter();null===(t=g.map.customCoords)||void 0===t||t.setCenter([r.lng,r.lat]),g.setCustomCoordCenter([r.lng,r.lat]),setTimeout((function(){g.map.on("viewchange",g.handleViewChanged),e()}),30)}else{g.$mapContainer=g.creatAmapContainer(n);var o=ue({mapStyle:g.getMapStyle(i),zooms:[a,l],viewMode:"3D"},m);o.zoom&&(o.zoom+=1);var s=new AMap.Map(g.$mapContainer,o);g.map=s;var u=s.getCenter();s.customCoords.setCenter([u.lng,u.lat]),g.setCustomCoordCenter([u.lng,u.lat]),s.on("viewchange",g.handleViewChanged),setTimeout((function(){e()}),10)}};g.viewport=new ae,ve||f?ve&&window.AMap||f?t():me.push(t):(c===pe&&console.warn(g.configService.getSceneWarninfo("MapToken")),ve=!0,d.push("Map3D"),B.a.load({key:c,version:v,plugins:d}).then((function(e){t(),me.length&&(me.forEach((function(e){return e()})),me=[])}))["catch"]((function(e){throw new Error(e)})))}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"meterToCoord",value:function(e,t){var n=AMap.GeometryUtil.distance(A()(AMap.LngLat,R()(e)),A()(AMap.LngLat,R()(t))),r=this.lngLatToCoord(e),i=I()(r,2),o=i[0],a=i[1],s=this.lngLatToCoord(t),l=I()(s,2),u=l[0],c=l[1],f=Math.sqrt(Math.pow(o-u,2)+Math.pow(a-c,2));return f/n}},{key:"exportMap",value:function(e){var t,n=null===(t=this.getContainer())||void 0===t?void 0:t.getElementsByClassName("amap-layer")[0],r="jpg"===e?null===n||void 0===n?void 0:n.toDataURL("image/jpeg"):null===n||void 0===n?void 0:n.toDataURL("image/png");return r}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).emit.apply(t,[e].concat(r))}},{key:"once",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).once.apply(t,[e].concat(r))}},{key:"destroy",value:function(){var e,t;this.map.destroy(),null===(e=this.$mapContainer)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(this.$mapContainer),delete window.initAMap;var n=document.getElementById(he);n&&document.head.removeChild(n)}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"onCameraChanged",value:function(e){this.cameraChangedCallback=e}},{key:"initViewPort",value:function(){var e,t=null===(e=this.map.customCoords)||void 0===e?void 0:e.getCameraParams(),n=t.fov,r=t.near,i=t.far,o=t.aspect,a=t.position,s=t.lookAt,l=t.up;this.emit("mapchange");var u=this.map.customCoords.getCenter(),c=this.map.getZoom();this.cameraChangedCallback&&(this.viewport.syncWithMapCamera({aspect:o,far:i,fov:n,cameraPosition:a,lookAt:s,near:r,up:l,zoom:c-1,center:u,offsetOrigin:[a[0],a[1]]}),this.coordinateSystemService.setCoordinateSystem(x["d"].P20_2),this.cameraChangedCallback(this.viewport))}},{key:"_sub",value:function(e,t){var n=[0,0];return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}},{key:"getMapStyle",value:function(e){return oe[e]?oe[e]:e}},{key:"creatAmapContainer",value:function(e){var t=e;"string"===typeof e&&(t=document.getElementById(e));var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      top: 0;\n      height: 100%;\n      width: 100%;\n    ",n.id="l7_amap_div"+fe++,t.appendChild(n),n}}]),e}(),ee=E()($.prototype,"configService",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=E()($.prototype,"config",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=E()($.prototype,"coordinateSystemService",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=E()($.prototype,"eventEmitter",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=$))||J);function ye(e){var t=be();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}function be(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _e=function(e){f()(n,e);var t=ye(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"getServiceConstructor",value:function(){return ge}}]),n}(O)},zYLY:function(e,t,n){"use strict";function r(){var e=n("q1tI");return r=function(){return e},e}function i(e,t){return u(e)||l(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function u(e){if(Array.isArray(e))return e}function c(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(o<t.length){var a=t[o],s=function(){return c(e,t,n,o+1)},l=a.match(/^([^:]+):?(.*)$/)||[],u=i(l,3),f=u[1],p=u[2];switch(f){case"autoplay":s();break;case"click":var d=p.match(/^(global\()?(.+?)\)?$/)||[],h=i(d,3),v=h[1],m=h[2],g=v?document:e;null===(r=g.querySelector(m))||void 0===r||r.click(),s();break;case"timeout":setTimeout(s,Number(p));break;case"capture":window.postMessage({type:"dumi:capture-element",value:p},"*"),s();break;default:console.warn("[dumi: motion] unknown motion '".concat(a,"', skip.")),s()}}else n()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var f=function(e,t){var n=(0,r().useState)(!1),o=i(n,2),a=o[0],s=o[1],l=(0,r().useCallback)((function(){a||(c(t,e,(function(){s(!1)})),s(!0))}),[e,t,a]);return(0,r().useEffect)((function(){"autoplay"===e[0]&&t&&l()}),[e,t]),[l,a]};t["default"]=f},zZ0H:function(e,t){function n(e){return e}e.exports=n},zfnd:function(e,t,n){var r=n("glrk"),i=n("hh1v"),o=n("8GlL");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),a=n.resolve;return a(t),n.promise}},zk60:function(e,t,n){var r=n("2oRo"),i=n("kRJp");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},zlVK:function(e,t,n){"use strict";var r=n("QGke")["default"];Object.defineProperty(t,"__esModule",{value:!0});var i=n("LtsZ"),o=n("q1tI"),a=n("i8i4"),s=n("V/vL");function l(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var u=l(o);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,s,"next",e)}function s(e){p(o,r,i,a,s,"throw",e)}a(void 0)}))}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function g(e,t){if(null==e)return{};var n,r,i=m(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e,t){return b(e)||_(e,t)||E(e,t)||w()}function b(e){if(Array.isArray(e))return e}function _(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function E(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=E(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function O(e){return u["default"].createElement(i.__RouterContext.Consumer,null,(function(t){var n=e.location||t.location,r=e.computedMatch,o=f(f({},t),{},{location:n,match:r}),a=e.render;return u["default"].createElement(i.__RouterContext.Provider,{value:o},o.match?a(f(f({},e.layoutProps),o)):null)}))}var C=["children"];function A(e){return u["default"].createElement(i.__RouterContext.Consumer,null,(function(t){var n,r=e.children,a=g(e,C),s=e.location||t.location,l=null;return o.Children.forEach(r,(function(e){if(null===l&&o.isValidElement(e)){n=e;var r=e.props.path||e.props.from;l=r?i.matchPath(s.pathname,f(f({},e.props),{},{path:r})):t.match}})),l?o.cloneElement(n,{location:s,computedMatch:l,layoutProps:a}):null}))}var P=["component"];function k(e,t){e.component;var n=g(e,P),a=e.component;function s(s){var l=o.useState((function(){return window.g_initialProps})),c=y(l,2),p=c[0],h=c[1];return o.useEffect((function(){var o=function(){var o=d(r().mark((function o(){var l,u,c,p,d;return r().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(u=a,!a.preload){r.next=6;break}return r.next=4,a.preload();case 4:u=r.sent,u=u["default"]||u;case 6:if(c=f(f({isServer:!1,match:null===s||void 0===s?void 0:s.match,history:null===s||void 0===s?void 0:s.history,route:e},t.getInitialPropsCtx||{}),n),!(null===(l=u)||void 0===l?void 0:l.getInitialProps)){r.next=15;break}return r.next=10,t.plugin.applyPlugins({key:"ssr.modifyGetInitialPropsCtx",type:i.ApplyPluginsType.modify,initialValue:c,async:!0});case 10:return p=r.sent,r.next=13,u.getInitialProps(p||c);case 13:d=r.sent,h(d);case 15:case"end":return r.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();window.g_initialProps||o()}),[window.location.pathname,window.location.search]),u["default"].createElement(a,v({},s,p))}return s.wrapInitialPropsLoaded=!0,s.displayName="ComponentWithInitialPropsFetch",s}function M(e){var t=e.route,n=e.opts,r=e.props,i=L(f(f({},n),{},{routes:t.routes||[],rootRoutes:n.rootRoutes}),{location:r.location}),a=t.component,s=t.wrappers;if(a){var l=n.isServer?{}:window.g_initialProps,c=f(f(f(f({},r),n.extraProps),n.pageInitialProps||l),{},{route:t,routes:n.rootRoutes}),p=u["default"].createElement(a,c,i);if(s){var d=s.length-1;while(d>=0)p=o.createElement(s[d],c,p),d-=1}return p}return i}function T(e){var t,n,r,o=e.route,a=e.index,s=e.opts,l={key:o.key||a,exact:o.exact,strict:o.strict,sensitive:o.sensitive,path:o.path};return o.redirect?u["default"].createElement(i.Redirect,v({},l,{from:o.path,to:o.redirect})):(!s.ssrProps||s.isServer||(null===(t=o.component)||void 0===t?void 0:t.wrapInitialPropsLoaded)||!(null===(n=o.component)||void 0===n?void 0:n.getInitialProps)&&!(null===(r=o.component)||void 0===r?void 0:r.preload)||(o.component=k(o,s)),u["default"].createElement(O,v({},l,{render:function(e){return M({route:o,opts:s,props:e})}})))}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.routes?u["default"].createElement(A,t,e.routes.map((function(t,n){return T({route:t,index:n,opts:f(f({},e),{},{rootRoutes:e.rootRoutes||e.routes})})}))):null}var I=["history"];function D(e){var t=e.history,n=g(e,I);return o.useEffect((function(){function r(t,r){var o=s.matchRoutes(e.routes,t.pathname);"undefined"!==typeof document&&void 0!==n.defaultTitle&&(document.title=o.length&&o[o.length-1].route.title||n.defaultTitle||""),e.plugin.applyPlugins({key:"onRouteChange",type:i.ApplyPluginsType.event,args:{routes:e.routes,matchedRoutes:o,location:t,action:r}})}return window.g_useSSR&&(window.g_initialProps=null),r(t.location,"POP"),t.listen(r)}),[t]),u["default"].createElement(i.Router,{history:t},L(n))}function R(e){return e.plugin.applyPlugins({type:i.ApplyPluginsType.modify,key:"rootContainer",initialValue:u["default"].createElement(D,{history:e.history,routes:e.routes,plugin:e.plugin,ssrProps:e.ssrProps,defaultTitle:e.defaultTitle}),args:{history:e.history,routes:e.routes,plugin:e.plugin}})}function N(e){return j.apply(this,arguments)}function j(){return j=d(r().mark((function e(t){var n,i,o,a,l,u,c,f,p=arguments;return r().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=p.length>1&&void 0!==p[1]?p[1]:window.location.pathname,i=s.matchRoutes(t,n),o=S(i),e.prev=3,o.s();case 5:if((a=o.n()).done){e.next=19;break}if(u=a.value,c=u.route,"string"===typeof c.component||!(null===(l=c.component)||void 0===l?void 0:l.preload)){e.next=13;break}return e.next=11,c.component.preload();case 11:f=e.sent,c.component=f["default"]||f;case 13:if(!c.routes){e.next=17;break}return e.next=16,N(c.routes,n);case 16:c.routes=e.sent;case 17:e.next=5;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](3),o.e(e.t0);case 24:return e.prev=24,o.f(),e.finish(24);case 27:return e.abrupt("return",t);case 28:case"end":return e.stop()}}),e,null,[[3,21,24,27]])}))),j.apply(this,arguments)}function F(e){var t=R(e);if(!e.rootElement)return t;var n="string"===typeof e.rootElement?document.getElementById(e.rootElement):e.rootElement,r=e.callback||function(){};window.g_useSSR?e.dynamicImport?N(e.routes).then((function(){a.hydrate(t,n,r)})):a.hydrate(t,n,r):a.render(t,n,r)}t.renderClient=F,t.renderRoutes=L},zoYe:function(e,t,n){var r=n("nmnc"),i=n("eUgh"),o=n("Z0cm"),a=n("/9aa"),s=1/0,l=r?r.prototype:void 0,u=l?l.toString:void 0;function c(e){if("string"==typeof e)return e;if(o(e))return i(e,c)+"";if(a(e))return u?u.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}e.exports=c},zqmC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.LinkWrapper=void 0;var r=a(n("q1tI")),i=n("LtsZ"),o=["to"];function a(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i=u(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var c=function(e){return function(t){var n=t.to,i=l(t,o),a=/^(\w+:)?\/\/|^(mailto|tel):/.test(n)||!n,u=r["default"].isValidElement(i.children);return r["default"].createElement(e,s({to:n||"",component:a?function(){return r["default"].createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n},i.children,n&&!u&&r["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r["default"].createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r["default"].createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))}:void 0},i,a?{}:{onClick:function(){var e;window.scrollTo({top:0});for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];null===(e=i.onClick)||void 0===e||e.apply(this,n)}}))}};t.LinkWrapper=c;var f=c(i.Link);t["default"]=f},"zu+z":function(e,t,n){var r=n("I+eb"),i=n("qY7S");r({target:"Map",stat:!0},{from:i})},zupi:function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("8ml+"),o=n("/7QA"),a=n("zWmH"),s=n("q1tI"),l=n.n(s),u=n("NX8L"),c=String(Math.random()),f=()=>{var e=Object(s["useState"])(null),t=Object(r["a"])(e,2),n=(t[0],t[1]);return Object(s["useEffect"])((()=>{var e=new i["f"]({id:c,map:new a["a"]({center:[120.151634,30.244831],pitch:0,style:"dark",zoom:10})});e.on("loaded",(()=>{var t=new o["DrawPoint"](e,{editable:!1,initialData:u["a"]});n(t),t.enable()}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{id:c,style:{height:400,position:"relative"}}))};t["default"]=f},zxMA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var r=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t="",n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=r},zy93:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("ewA2"),s=i.a.memo((e=>{var t=e.demos,n=t["polygon-autoactive"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a["default"],t["polygon-autoactive"].previewerProps,i.a.createElement(n,null)))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),n=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:n})}}});